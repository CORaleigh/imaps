"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6248,8528,4828],{8528:(t,e,n)=>{n.d(e,{c:()=>r,g:()=>o});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},85304:(t,e,n)=>{n.d(e,{q:()=>c});var r,o,i,a=n(8528),s={exports:{}};r=s,o=function(){function t(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,c=r-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-c*u/s+f)),Math.min(i,Math.floor(r+(s-c)*u/s+f)),a)}var h=n[r],p=o,m=i;for(e(n,o,r),a(n[i],h)>0&&e(n,o,i);p<m;){for(e(n,p,m),p++,m--;a(n[p],h)<0;)p++;for(;a(n[m],h)>0;)m--}0===a(n[o],h)?e(n,o,m):e(n,++m,i),m<=r&&(o=m+1),r<=m&&(i=m-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,o,i,a){t(e,r,o||0,i||e.length-1,a||n)}},void 0!==(i=o())&&(r.exports=i);const c=(0,a.g)(s.exports)},48952:(t,e,n)=>{n.d(e,{a:()=>i,b:()=>s,c:()=>a,d:()=>o,e:()=>f,f:()=>c,n:()=>h,s:()=>l,t:()=>u}),n(9456);var r=n(23704);function o(t,e,n){i(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function i(t,e,n,r=3,o=r){if(t.length/r!==Math.ceil(e.length/o))return t;const i=t.length/r,a=n[0],s=n[1],c=n[2],l=n[4],u=n[5],f=n[6],h=n[8],p=n[9],m=n[10],d=n[12],g=n[13],M=n[14];let y=0,_=0;for(let n=0;n<i;n++){const n=e[y],i=e[y+1],x=e[y+2];t[_]=a*n+l*i+h*x+d,t[_+1]=s*n+u*i+p*x+g,t[_+2]=c*n+f*i+m*x+M,y+=o,_+=r}return t}function a(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,o=3,i=o){if(t.length/o!==Math.ceil(e.length/i))return void(0,r.A)().error("source and destination buffers need to have the same number of elements");const a=t.length/o,s=n[0],c=n[1],l=n[2],u=n[3],f=n[4],h=n[5],p=n[6],m=n[7],d=n[8];let g=0,M=0;for(let n=0;n<a;n++){const n=e[g],r=e[g+1],a=e[g+2];t[M]=s*n+u*r+p*a,t[M+1]=c*n+f*r+m*a,t[M+2]=l*n+h*r+d*a,g+=i,M+=o}}function c(t,e,n){l(t.typedBuffer,e,n,t.typedBufferStride)}function l(t,e,n,r=3){const o=Math.min(t.length/r,e.count),i=e.typedBuffer,a=e.typedBufferStride;let s=0,c=0;for(let e=0;e<o;e++)t[c]=n*i[s],t[c+1]=n*i[s+1],t[c+2]=n*i[s+2],s+=a,c+=r}function u(t,e,n,r=3,o=r){const i=t.length/r;if(i!==Math.ceil(e.length/o))return t;let a=0,s=0;for(let c=0;c<i;c++)t[s]=e[a]+n[0],t[s+1]=e[a+1]+n[1],t[s+2]=e[a+2]+n[2],a+=o,s+=r;return t}function f(t,e){h(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function h(t,e,n=3,r=n){const o=Math.min(t.length/n,e.length/r);let i=0,a=0;for(let s=0;s<o;s++){const o=e[i],s=e[i+1],c=e[i+2],l=o*o+s*s+c*c;if(l>0){const e=1/Math.sqrt(l);t[a]=e*o,t[a+1]=e*s,t[a+2]=e*c}i+=r,a+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:h,normalizeView:f,scale:l,scaleView:c,shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),o=t.typedBuffer,i=t.typedBufferStride,a=e.typedBuffer,s=e.typedBufferStride;let c=0,l=0;for(let t=0;t<r;t++)o[l]=a[c]>>n,o[l+1]=a[c+1]>>n,o[l+2]=a[c+2]>>n,c+=s,l+=i},transformMat3:s,transformMat3View:a,transformMat4:i,transformMat4View:o,translate:u},Symbol.toStringTag,{value:"Module"}))},3856:(t,e,n)=>{n.d(e,{m:()=>f,q:()=>u});var r=n(41948),o=n(43780),i=(n(9456),n(62088)),a=(n(66360),n(70680)),s=n(71448),c=n(20916),l=n(12552);const u=t=>{let e=class extends t{clone(){const t=(0,c.m6)(this);(0,a.EN)(t,"unable to clone instance of non-accessor class");const e=t.metadata,n=t.store,r={},o=new Map;for(const t in e){const a=e[t],c=n?.originOf(t),l=a.clonable;if(a.readOnly||!1===l||c!==s.sT.USER&&c!==s.sT.DEFAULTS&&c!==s.sT.WEB_MAP&&c!==s.sT.WEB_SCENE)continue;const u=this[t];let f=null;f="function"==typeof l?l(u):"reference"===l?u:(0,i.gx)(u),null!=u&&null==f||(c===s.sT.DEFAULTS?o.set(t,f):r[t]=f)}const l=new(0,Object.getPrototypeOf(this).constructor)(r);if(o.size){const t=(0,c.m6)(l)?.store;if(t)for(const[e,n]of o)t.set(e,n,s.sT.DEFAULTS)}return l}};return e=(0,r._)([(0,l.c)("esri.core.Clonable")],e),e};let f=class extends(u(o.c)){};f=(0,r._)([(0,l.c)("esri.core.Clonable")],f)},9592:(t,e,n)=>{n.d(e,{n:()=>o});var r=n(50504);class o extends r.g{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const t of e)t.onInvalidated(),t.onCommitted()}}}},68612:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,n,r,o,i,a,s,c){return[t,e,n,r,o,i,a,s,c]}n.d(e,{IJ:()=>i,Su:()=>r,WK:()=>o});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},87104:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}n.d(e,{IJ:()=>i,Su:()=>r,ct:()=>o});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:function(t,e,n,r,o,i,a,s,c,l,u,f,h,p,m,d){return[t,e,n,r,o,i,a,s,c,l,u,f,h,p,m,d]}},Symbol.toStringTag,{value:"Module"}))},2620:(t,e,n)=>{function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{IJ:()=>i,Su:()=>r,ct:()=>o});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},77556:(t,e,n)=>{n.d(e,{KU:()=>f,QT:()=>m,S_:()=>s,WO:()=>i,_7:()=>c,aU:()=>u,iW:()=>l,kr:()=>o,oL:()=>a,yy:()=>h});var r=n(47364);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function i(t,e,n,r,o,i,a,s,c,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=c,t[8]=l,t}function a(t,e){if(t===e){const n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function s(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=u*a-s*l,h=-u*i+s*c,p=l*i-a*c;let m=n*f+r*h+o*p;return m?(m=1/m,t[0]=f*m,t[1]=(-u*r+o*l)*m,t[2]=(s*r-o*a)*m,t[3]=h*m,t[4]=(u*n-o*c)*m,t[5]=(-s*n+o*i)*m,t[6]=p*m,t[7]=(-l*n+r*c)*m,t[8]=(a*n-r*i)*m,t):null}function c(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return t[0]=a*u-s*l,t[1]=o*l-r*u,t[2]=r*s-o*a,t[3]=s*c-i*u,t[4]=n*u-o*c,t[5]=o*i-n*s,t[6]=i*l-a*c,t[7]=r*c-n*l,t[8]=n*a-r*i,t}function l(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=n[0],p=n[1],m=n[2],d=n[3],g=n[4],M=n[5],y=n[6],_=n[7],x=n[8];return t[0]=h*r+p*a+m*l,t[1]=h*o+p*s+m*u,t[2]=h*i+p*c+m*f,t[3]=d*r+g*a+M*l,t[4]=d*o+g*s+M*u,t[5]=d*i+g*c+M*f,t[6]=y*r+_*a+x*l,t[7]=y*o+_*s+x*u,t[8]=y*i+_*c+x*f,t}function u(t,e,n){const r=n[0],o=n[1],i=n[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=i*e[6],t[7]=i*e[7],t[8]=i*e[8],t}function f(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,c=o+o,l=n*a,u=r*a,f=r*s,h=o*a,p=o*s,m=o*c,d=i*a,g=i*s,M=i*c;return t[0]=1-f-m,t[3]=u-M,t[6]=h+g,t[1]=u+M,t[4]=1-l-m,t[7]=p-d,t[2]=h-g,t[5]=p+d,t[8]=1-l-f,t}function h(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],p=e[11],m=e[12],d=e[13],g=e[14],M=e[15],y=n*s-r*a,_=n*c-o*a,x=n*l-i*a,A=r*c-o*s,b=r*l-i*s,w=o*l-i*c,S=u*d-f*m,v=u*g-h*m,B=u*M-p*m,P=f*g-h*d,T=f*M-p*d,F=h*M-p*g;let E=y*F-_*T+x*P+A*B-b*v+w*S;return E?(E=1/E,t[0]=(s*F-c*T+l*P)*E,t[1]=(c*B-a*F-l*v)*E,t[2]=(a*T-s*B+l*S)*E,t[3]=(o*T-r*F-i*P)*E,t[4]=(n*F-o*B+i*v)*E,t[5]=(r*B-n*T-i*S)*E,t[6]=(d*w-g*b+M*A)*E,t[7]=(g*x-m*w-M*_)*E,t[8]=(m*b-d*x+M*y)*E,t):null}function p(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function m(t){const e=(0,r.Au)(),n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],f=t[8];return Math.abs(1-(n*n+a*a+l*l))<=e&&Math.abs(1-(o*o+s*s+u*u))<=e&&Math.abs(1-(i*i+c*c+f*f))<=e}const d=l,g=p;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},adjoint:c,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},determinant:function(t){const e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return e*(l*i-a*c)+n*(-l*o+a*s)+r*(c*o-i*s)},equals:function(t,e){const n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],f=t[8],h=e[0],p=e[1],m=e[2],d=e[3],g=e[4],M=e[5],y=e[6],_=e[7],x=e[8],A=(0,r.Au)();return Math.abs(n-h)<=A*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-p)<=A*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-m)<=A*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-d)<=A*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-g)<=A*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-M)<=A*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-y)<=A*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-_)<=A*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(f-x)<=A*Math.max(1,Math.abs(f),Math.abs(x))},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromMat4:o,fromQuat:f,fromRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:s,isOrthoNormal:m,mul:d,multiply:l,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},normalFromMat4:h,normalFromMat4Legacy:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],s=e[6],c=e[8],l=e[9],u=e[10],f=u*a-s*l,h=-u*i+s*c,p=l*i-a*c,m=n*f+r*h+o*p;if(!m)return null;const d=1/m;return t[0]=f*d,t[1]=(-u*r+o*l)*d,t[2]=(s*r-o*a)*d,t[3]=h*d,t[4]=(u*n-o*c)*d,t[5]=(-s*n+o*i)*d,t[6]=p*d,t[7]=(-l*n+r*c)*d,t[8]=(a*n-r*i)*d,t},projection:function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*a,t[1]=p*o+h*s,t[2]=p*i+h*c,t[3]=p*a-h*r,t[4]=p*s-h*o,t[5]=p*c-h*i,t[6]=l,t[7]=u,t[8]=f,t},scale:u,scaleByVec2:function(t,e,n){const r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t},set:i,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:g,subtract:p,translate:function(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=c,t[6]=h*r+p*a+l,t[7]=h*o+p*s+u,t[8]=h*i+p*c+f,t},transpose:a},Symbol.toStringTag,{value:"Module"}))},41512:(t,e,n)=>{n.d(e,{C0:()=>u,WO:()=>M,Wu:()=>d,fO:()=>p,iW:()=>f,sF:()=>T,yG:()=>l});var r=n(68612),o=n(2620),i=n(62484),a=n(47364),s=n(98472),c=n(74784);function l(t,e,n){n*=.5;const r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function u(t,e){const n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>(0,a.Au)()?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],c=n[1],l=n[2],u=n[3];return t[0]=r*u+a*s+o*l-i*c,t[1]=o*u+a*c+i*s-r*l,t[2]=i*u+a*l+r*c-o*s,t[3]=a*u-r*s-o*c-i*l,t}function h(t,e,n,r){const o=e[0],i=e[1],s=e[2],c=e[3];let l,u,f,h,p,m=n[0],d=n[1],g=n[2],M=n[3];return u=o*m+i*d+s*g+c*M,u<0&&(u=-u,m=-m,d=-d,g=-g,M=-M),1-u>(0,a.Au)()?(l=Math.acos(u),f=Math.sin(l),h=Math.sin((1-r)*l)/f,p=Math.sin(r*l)/f):(h=1-r,p=r),t[0]=h*o+p*m,t[1]=h*i+p*d,t[2]=h*s+p*g,t[3]=h*c+p*M,t}function p(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function m(t,e){const n=e[0]+e[4]+e[8];let r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const o=(n+1)%3,i=(n+2)%3;r=Math.sqrt(e[3*n+n]-e[3*o+o]-e[3*i+i]+1),t[n]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+n]+e[3*n+o])*r,t[i]=(e[3*i+n]+e[3*n+i])*r}return t}function d(t,e,n,r){const o=.5*Math.PI/180;e*=o,n*=o,r*=o;const i=Math.sin(e),a=Math.cos(e),s=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return t[0]=i*c*u-a*s*l,t[1]=a*s*u+i*c*l,t[2]=a*c*l-i*s*u,t[3]=a*c*u+i*s*l,t}const g=c.c,M=c.s,y=c.g,_=f,x=c.d,A=c.h,b=c.l,w=c.i,S=w,v=c.j,B=v,P=c.n,T=c.a,F=c.e,E=(0,i.Su)(),Y=(0,i.WK)(1,0,0),C=(0,i.WK)(0,1,0),O=(0,o.Su)(),R=(0,o.Su)(),X=(0,r.Su)();Object.freeze(Object.defineProperty({__proto__:null,add:y,calculateW:function(t,e){const n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},conjugate:p,copy:g,dot:A,equals:F,exactEquals:T,fromEuler:d,fromMat3:m,getAxisAngle:u,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t},len:S,length:w,lerp:b,mul:_,multiply:f,normalize:P,random:function(t){const e=a.QR,n=e(),r=e(),o=e(),i=Math.sqrt(1-n),s=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=s*Math.sin(2*Math.PI*o),t[3]=s*Math.cos(2*Math.PI*o),t},rotateX:function(t,e,n){n*=.5;const r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*s,t[1]=o*c+i*s,t[2]=i*c-o*s,t[3]=a*c-r*s,t},rotateY:function(t,e,n){n*=.5;const r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=r*c-i*s,t[1]=o*c+a*s,t[2]=i*c+r*s,t[3]=a*c-o*s,t},rotateZ:function(t,e,n){n*=.5;const r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*s,t[1]=o*c-r*s,t[2]=i*c+a*s,t[3]=a*c-i*s,t},rotationTo:function(t,e,n){const r=(0,s.k)(e,n);return r<-.999999?((0,s.b)(E,Y,e),(0,s.D)(E)<1e-6&&(0,s.b)(E,C,e),(0,s.n)(E,E),l(t,E,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,s.b)(E,e,n),t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=1+r,P(t,t))},scale:x,set:M,setAxes:function(t,e,n,r){const o=X;return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],P(t,m(t,o))},setAxisAngle:l,slerp:h,sqlerp:function(t,e,n,r,o,i){return h(O,e,o,i),h(R,n,r,i),h(t,O,R,2*i*(1-i)),t},sqrLen:B,squaredLength:v,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},3024:(t,e,n)=>{n.d(e,{U:()=>a});var r=n(92400),o=n(24680),i=n(85304);class a{constructor(t=9,e){this._compareMinX=u,this._compareMinY=f,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),_.prune(),x.prune(),A.prune(),b.prune()}all(t){this._all(this._data,t)}search(t,e){let n=this._data;const r=this._toBBox;if(M(t,n))for(_.clear();n;){for(let o=0,i=n.children.length;o<i;o++){const i=n.children[o],a=n.leaf?r(i):i;M(t,a)&&(n.leaf?e(i):g(t,a)?this._all(i,e):_.push(i))}n=_.pop()}}collides(t){let e=this._data;const n=this._toBBox;if(!M(t,e))return!1;for(_.clear();e;){for(let r=0,o=e.children.length;r<o;r++){const o=e.children[r],i=e.leaf?n(o):o;if(M(t,i)){if(e.leaf||g(t,i))return!0;_.push(o)}}e=_.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new v([]),this}remove(t){if(!t)return this;let e,n=this._data,o=null,i=0,a=!1;const s=this._toBBox(t);for(A.clear(),b.clear();n||A.length>0;){if(n||(n=A.pop(),o=A.data[A.length-1],i=b.pop()??0,a=!0),n.leaf&&(e=(0,r.IP)(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),A.push(n),this._condense(A),this;a||n.leaf||!g(n,s)?o?(i++,n=o.children[i],a=!1):n=null:(A.push(n),b.push(i),i=0,o=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_all(t,e){let n=t;for(x.clear();n;){if(!0===n.leaf)for(const t of n.children)e(t);else x.pushArray(n.children);n=x.pop()??null}}_build(t,e,n,r){const o=n-e+1;let i=this._maxEntries;if(o<=i){const r=new v(t.slice(e,n+1));return s(r,this._toBBox),r}r||(r=Math.ceil(Math.log(o)/Math.log(i)),i=Math.ceil(o/i**(r-1)));const a=new B([]);a.height=r;const c=Math.ceil(o/i),l=c*Math.ceil(Math.sqrt(i));y(t,e,n,l,this._compareMinX);for(let o=e;o<=n;o+=l){const e=Math.min(o+l-1,n);y(t,o,e,c,this._compareMinY);for(let n=o;n<=e;n+=c){const o=Math.min(n+c-1,e);a.children.push(this._build(t,n,o,r-1))}}return s(a,this._toBBox),a}_chooseSubtree(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){let n,r=1/0,o=1/0;for(let i=0,a=e.children.length;i<a;i++){const a=e.children[i],s=h(a),c=m(t,a)-s;c<o?(o=c,r=s<r?s:r,n=a):c===o&&s<r&&(r=s,n=a)}e=n||e.children[0]}return e}_insert(t,e,n){const r=this._toBBox,o=n?t:r(t);A.clear();const i=this._chooseSubtree(o,this._data,e,A);for(i.children.push(t),l(i,o);e>=0&&A.data[e].children.length>this._maxEntries;)this._split(A,e),e--;this._adjustParentBBoxes(o,A,e)}_split(t,e){const n=t.data[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);const i=this._chooseSplitIndex(n,o,r);if(!i)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const a=n.children.splice(i,n.children.length-i),c=n.leaf?new v(a):new B(a);c.height=n.height,s(n,this._toBBox),s(c,this._toBBox),e?t.data[e-1].children.push(c):this._splitRoot(n,c)}_splitRoot(t,e){this._data=new B([t,e]),this._data.height=t.height+1,s(this._data,this._toBBox)}_chooseSplitIndex(t,e,n){let r,o,i;r=o=1/0;for(let a=e;a<=n-e;a++){const e=c(t,0,a,this._toBBox),s=c(t,a,n,this._toBBox),l=d(e,s),u=h(e)+h(s);l<r?(r=l,i=a,o=u<o?u:o):l===r&&u<o&&(o=u,i=a)}return i}_chooseSplitAxis(t,e,n){const r=t.leaf?this._compareMinX:u,o=t.leaf?this._compareMinY:f;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const o=this._toBBox,i=c(t,0,e,o),a=c(t,n-e,n,o);let s=p(i)+p(a);for(let r=e;r<n-e;r++){const e=t.children[r];l(i,t.leaf?o(e):e),s+=p(i)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];l(a,t.leaf?o(e):e),s+=p(a)}return s}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)l(e.data[r],t)}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const o=t.data[e-1],i=o.children;i.splice((0,r.IP)(i,n,i.length,o.indexHint),1)}else this.clear();else s(n,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function s(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,r,o){o||(o=new v([])),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i,a=e;a<n;a++)i=t.children[a],l(o,t.leaf?r(i):i);return o}function l(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function u(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function M(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t,e,n,r,o){const a=[e,n];for(;a.length;){const e=a.pop(),n=a.pop();if(e-n<=r)continue;const s=n+Math.ceil((e-n)/r/2)*r;(0,i.q)(t,s,n,e,o),a.push(n,s,s,e)}}const _=new o.c,x=new o.c,A=new o.c,b=new o.c({deallocator:void 0});class w{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class S extends w{constructor(){super(...arguments),this.height=1,this.indexHint=new r.is}}class v extends S{constructor(t){super(),this.children=t,this.leaf=!0}}class B extends S{constructor(t){super(),this.children=t,this.leaf=!1}}},51120:(t,e,n)=>{n.d(e,{y:()=>l});var r=n(53648),o=n(15008),i=n(62484);function a(t,e,n){const r=Math.sin(t),o=Math.cos(t),i=Math.sin(e),a=Math.cos(e),s=n;return s[0]=-r,s[4]=-i*o,s[8]=a*o,s[12]=0,s[1]=o,s[5]=-i*r,s[9]=a*r,s[13]=0,s[2]=0,s[6]=a,s[10]=i,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}var s=n(38380),c=n(60544);function l(t,e,n,r){if(null==t||null==r)return!1;const i=(0,s.Se)(t,s.Wy),l=(0,s.Se)(r,s.mq);if(i===l&&!u(l)&&(i!==s.o3.UNKNOWN||(0,c.yK)(t,r)))return(0,o.mu)(n,e),!0;if(u(l)){const t=s.yw[i][s.o3.LON_LAT],r=s.yw[s.o3.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,p,0),a(f*h[0],f*h[1],n),n[12]=p[0],n[13]=p[1],n[14]=p[2],!0)}if((l===s.o3.WEB_MERCATOR||l===s.o3.PLATE_CARREE||l===s.o3.WGS84)&&(i===s.o3.WGS84||i===s.o3.CGCS2000&&l===s.o3.PLATE_CARREE||i===s.o3.SPHERICAL_ECEF||i===s.o3.WEB_MERCATOR)){const t=s.yw[i][s.o3.LON_LAT],r=s.yw[s.o3.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,p,0),i===s.o3.SPHERICAL_ECEF?function(t,e,n){a(t,e,n),(0,o.oL)(n,n)}(f*h[0],f*h[1],n):(0,o.ZX)(n),n[12]=p[0],n[13]=p[1],n[14]=p[2],!0)}return!1}function u(t){return t===s.o3.SPHERICAL_ECEF||t===s.o3.SPHERICAL_MARS_PCPF||t===s.o3.SPHERICAL_MOON_PCPF}const f=(0,r.EF)(1),h=(0,i.Su)(),p=(0,i.Su)()},82448:(t,e,n)=>{n.d(e,{_s:()=>l});var r=n(22080),o=n(56156),i=n(60544);const a=new o.c(r._),s=new o.c(r.IP),c=new o.c(r.Om);function l(t){const e=u.get(t);if(e)return e;let n=a;if(t)if(t===s)n=s;else if(t===c)n=c;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,i.cJ)(e)||(0,i.cJ)(r)?n=s:((0,i.C_)(e)||(0,i.C_)(r))&&(n=c);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===f?n=s:t===h&&(n=c)}}}return u.set(t,n),n}new o.c(r.MJ);const u=new Map,f=s.wkt.toUpperCase(),h=c.wkt.toUpperCase()},15688:(t,e,n)=>{n.d(e,{Gg:()=>o,cp:()=>i,lL:()=>a,mw:()=>s,qW:()=>c});var r=n(72008);function o(t,e=!1){return t<=r._?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function i(t){return((0,r.c7)(t)?t.length:t.byteLength/8)<=r._?Array.from(t):new Float64Array(t)}function a(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function s(t,e){for(let n=0;n<e.length;++n)t[n]=e[n];return t}function c(t){return Array.isArray(t)?new Float64Array(t):t}},51232:(t,e,n)=>{n.d(e,{c:()=>u});var r=n(41948),o=n(3856),i=n(40504),a=n(1580),s=(n(9456),n(66360),n(72052),n(9968)),c=n(12552);let l=class extends((0,o.q)(i.am)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};(0,r._)([(0,s.G)({georeferenced:"georeferenced"},{readOnly:!0})],l.prototype,"type",void 0),(0,r._)([(0,a.qq)({type:[Number],nonNullable:!1,json:{write:!0}})],l.prototype,"origin",void 0),l=(0,r._)([(0,c.c)("esri.geometry.support.MeshGeoreferencedVertexSpace")],l);const u=l},13708:(t,e,n)=>{n.d(e,{c:()=>f});var r=n(41948),o=n(3856),i=n(40504),a=n(1580),s=(n(9456),n(66360),n(72052),n(9968)),c=n(12552),l=n(62484);let u=class extends((0,o.q)(i.am)){constructor(t){super(t),this.type="local",this.origin=(0,l.Su)()}};(0,r._)([(0,s.G)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,r._)([(0,a.qq)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,r._)([(0,c.c)("esri.geometry.support.MeshLocalVertexSpace")],u);const f=u},41104:(t,e,n)=>{n.d(e,{c:()=>M});var r,o=n(41948),i=n(40504),a=n(1580),s=(n(9456),n(66360),n(72052),n(12552)),c=n(15008),l=n(87104),u=n(41512),f=n(2620),h=n(98472),p=n(62484),m=n(66952);let d=r=class extends i.am{constructor(t){super(t),this.translation=(0,p.Su)(),this.rotationAxis=(0,p.eu)(m.up),this.rotationAngle=0,this.scale=(0,p.WK)(1,1,1)}get rotation(){return(0,m.eE)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.ct)((0,m.Yz)(t)),this.rotationAngle=(0,m.i4)(t)}get localMatrix(){const t=(0,l.Su)();return(0,u.yG)(g,(0,m.Yz)(this.rotation),(0,m.kX)(this.rotation)),(0,c.um)(t,g,this.translation,this.scale),t}get localMatrixInverse(){return(0,c.S_)((0,l.Su)(),this.localMatrix)}applyLocal(t,e){return(0,h.e)(e,t,this.localMatrix)}applyLocalInverse(t,e){return(0,h.e)(e,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,c.sF)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.ct)(this.translation),rotationAxis:(0,p.ct)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.ct)(this.scale)};return new r(t)}};(0,o._)([(0,a.qq)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0),(0,o._)([(0,a.qq)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAxis",void 0),(0,o._)([(0,a.qq)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAngle",void 0),(0,o._)([(0,a.qq)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0),(0,o._)([(0,a.qq)()],d.prototype,"rotation",null),(0,o._)([(0,a.qq)()],d.prototype,"localMatrix",null),(0,o._)([(0,a.qq)()],d.prototype,"localMatrixInverse",null),d=r=(0,o._)([(0,s.c)("esri.geometry.support.MeshTransform")],d);const g=(0,f.Su)(),M=d},66952:(t,e,n)=>{n.d(e,{GA:()=>p,Gc:()=>f,Su:()=>l,Yz:()=>m,eE:()=>u,i4:()=>d,kX:()=>g,up:()=>y});var r=n(53648),o=n(15008),i=n(41512),a=n(2620),s=n(98472),c=n(62484);function l(t=y){return[t[0],t[1],t[2],t[3]]}function u(t,e,n=l()){return(0,s.c)(n,t),n[3]=e,n}function f(t,e=l()){const n=(0,o.ir)(_,t);return M(e,(0,r.UB)((0,i.C0)(e,n))),e}function h(t,e,n=l()){return(0,i.yG)(_,t,g(t)),(0,i.yG)(x,e,g(e)),(0,i.iW)(_,x,_),M(n,(0,r.UB)((0,i.C0)(n,_)))}function p(t,e,n,r=l()){return u(c.UV,t,A),u(c.IR,e,b),u(c.wx,n,w),h(A,b,A),h(A,w,r),r}function m(t){return t}function d(t){return t[3]}function g(t){return(0,r.EF)(t[3])}function M(t,e){return t[3]=e,t}n(37008);const y=[0,0,1,0],_=(0,a.Su)(),x=(0,a.Su)(),A=(l(),l()),b=l(),w=l()},23704:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(66360);const o=()=>r.c.getLogger("esri.views.3d.support.buffer.math")},58584:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var r=n(9456),o=n(3024),i=n(21136),a=n(54828);class s{async createIndex(t,e){const n=new Array;if(!t.vertexAttributes?.position)return new o.U;const r=this._createMeshData(t),i=null!=e?await e.invoke("createIndexThread",r,{transferList:n}):this.createIndexThread(r).result;return this._createPooledRBush().fromJSON(i)}createIndexThread(t){const e=new Float64Array(t.position),n=this._createPooledRBush();return t.components?this._createIndexComponentsThread(n,e,t.components.map((t=>new Uint32Array(t)))):this._createIndexAllThread(n,e)}_createIndexAllThread(t,e){const n=new Array(e.length/9);let r=0;for(let t=0;t<e.length;t+=9)n[r++]=c(e,t,t+3,t+6);return t.load(n),{result:t.toJSON()}}_createIndexComponentsThread(t,e,n){let r=0;for(const t of n)r+=t.length/3;const o=new Array(r);let i=0;for(const t of n)for(let n=0;n<t.length;n+=3)o[i++]=c(e,3*t[n],3*t[n+1],3*t[n+2]);return t.load(o),{result:t.toJSON()}}_createMeshData(t){const e=((0,i.k$)(t.vertexSpace)?(0,a._S)({position:t.vertexAttributes.position,normal:null,tangent:null},t.vertexSpace,t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((t=>!t.faces))?{position:e}:{position:e,components:t.components.map((t=>t.faces))}}_createPooledRBush(){return new o.U(9,(0,r.c)("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}}function c(t,e,n,r){return{minX:Math.min(t[e],t[n],t[r]),maxX:Math.max(t[e],t[n],t[r]),minY:Math.min(t[e+1],t[n+1],t[r+1]),maxY:Math.max(t[e+1],t[n+1],t[r+1]),p0:[t[e],t[e+1],t[e+2]],p1:[t[n],t[n+1],t[n+2]],p2:[t[r],t[r+1],t[r+2]]}}},71488:(t,e,n)=>{n.d(e,{Kk:()=>s,QL:()=>c,yO:()=>a});var r=n(26832),o=n(66360),i=n(21136);function a(t,e){return t.isGeographic||t.isWebMercator&&(e??!0)}function s(t,e){switch(t.type){case"georeferenced":return e.isGeographic;case"local":return e.isGeographic||e.isWebMercator}}function c(t,e,n,a){if(void 0!==a){(0,r.O2)(o.c.getLogger(t),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const s="local"===e.type;if(!(0,i.k$)(e)||a===s)return n.isGeographic||n.isWebMercator&&a;o.c.getLogger(t).warnOnce(`Specifying the 'geographic' parameter (${a}) for a Mesh vertex space of type "${e.type}" is not supported. This parameter will be ignored.`)}return s(e,n)}},54828:(t,e,n)=>{n.d(e,{CE:()=>A,EX:()=>w,_0:()=>O,_S:()=>b,iS:()=>v,mC:()=>P,project:()=>B,qu:()=>F});var r=n(24296),o=n(68612),i=n(15008),a=n(87104),s=n(98472),c=n(62484),l=n(77556),u=n(60074),f=n(82448),h=n(51120),p=n(62880),m=n(15688),d=n(41104),g=n(21136),M=n(48952),y=n(71488),_=n(38496);function x(t,e,n){return(0,y.yO)(e.spatialReference,n?.geographic)?P(t,e,!1,n):function(t,e,n){const r=new Float64Array(t.position.length),o=t.position,i=e.x,a=e.y,s=e.z??0,c=O(n?n.unit:null,e.spatialReference);for(let t=0;t<o.length;t+=3)r[t]=o[t]*c+i,r[t+1]=o[t+1]*c+a,r[t+2]=o[t+2]*c+s;return{position:r,normal:t.normal,tangent:t.tangent}}(t,e,n)}function A(t,e=a.IJ){const{position:n,normal:r,tangent:o}=t;return{position:(0,M.a)(new Float64Array(n.length),n,e),normal:null!=r?(0,_.W4)(r,new Float32Array(r.length),e):null,tangent:null!=o?(0,_.AT)(o,new Float32Array(o.length),e):null}}function b(t,e,n,r){const{position:o,normal:i,tangent:a}=t;if(!(0,g.k$)(e))return{position:o,normal:i,tangent:a};const s=(0,g.mA)(e,r);return x(A(t,n?.localMatrix),s,{geographic:"local"===e.type})}function w(t,e,n){const r=(0,g.Al)(e,n),o=e.spatialReference,i=(0,g.k$)(r);if(!i)return{vertexAttributes:x(t,e,n),vertexSpace:r,transform:null};const{position:a,normal:s,tangent:c}=t,l=(0,y.Kk)(r,o);switch(r.type){case"georeferenced":return l?{vertexAttributes:P(t,e,i,n),vertexSpace:r,transform:null}:{vertexAttributes:{position:a,normal:s,tangent:c},vertexSpace:r,transform:new d.c};case"local":return{vertexAttributes:{position:a,normal:s,tangent:c},vertexSpace:r,transform:new d.c}}}function S(t,e,n){return(0,y.yO)(e.spatialReference,n?.geographic)?F(t,e,n):T(t,e,n)}function v(t,e,n,r,o){if(!(0,g.k$)(e))return S(t,r,o);const{spatialReference:i}=r,a=b(t,e,n,i);return r.equals((0,g.mA)(e,i))?T(a,r,o):S(a,r,o)}function B({positions:t,transform:e,vertexSpace:n,inSpatialReference:r,outSpatialReference:o,outPositions:l,localMode:d}){const g=n.origin??c.cX,y=null!=n.origin?e?.localMatrix??a.IJ:a.IJ;if("georeferenced"===n.type){const e=l??(0,m.Gg)(t.length);if((0,i.yK)(y,a.IJ)?(0,m.mw)(e,t):(0,M.a)(e,t,y),!(0,s.j)(g,c.cX)){const[t,n,r]=g;for(let o=0;o<e.length;o+=3)e[o]+=t,e[o+1]+=n,e[o+2]+=r}return(0,p.projectBuffer)(e,r,0,e,o,0,e.length/3),e}let _=r;const x=(0,f._s)(r);_=o.isWebMercator&&d||!(0,u.canProjectWithoutEngine)(r,x)?_:x,(0,h.y)(r,g,R,_),(0,i.iW)(R,R,y);const A=l??(0,m.Gg)(t.length);return(0,M.a)(A,t,R),(0,p.projectBuffer)(A,_,0,A,o,0,A.length/3),A}function P(t,e,n,r){const o=e.spatialReference,i=E(e,r,R),a=new Float64Array(t.position.length),s=function(t,e,n,r){(0,M.a)(r,t,e);const o=new Float64Array(t.length);return(0,_.o$)(r,o,n)}(t.position,i,o,a),c=(0,l.yy)(q,i),u=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);return(0,M.b)(i,n,r),(0,_.QP)(i,t,e,o,i),i}(s,a,t.normal,c,o),f=function(t,e,n,r,o){if(null==n)return null;const i=new Float32Array(n.length);(0,M.b)(i,n,r,4);for(let t=3;t<i.length;t+=4)i[t]=n[t];return(0,_.Cr)(i,t,e,o,i),i}(s,a,t.tangent,c,o);if(n){const{x:t,y:n,z:r}=e;(0,M.t)(s,s,[-t,-n,-(r??0)])}return{position:s,normal:u,tangent:f}}function T(t,e,n){const r=new Float64Array(t.position.length),o=t.position,i=e.x,a=e.y,s=e.z??0,c=O(n?n.unit:null,e.spatialReference);for(let t=0;t<o.length;t+=3)r[t]=(o[t]-i)/c,r[t+1]=(o[t+1]-a)/c,r[t+2]=(o[t+2]-s)/c;return{position:r,normal:t.normal,tangent:t.tangent}}function F(t,e,n){const r=e.spatialReference;E(e,n,R);const o=(0,i.S_)(X,R),a=new Float64Array(t.position.length),s=function(t,e,n,r){const o=(0,_.K_)(t,e,r),i=new Float64Array(o.length);return(0,M.a)(i,o,n),i}(t.position,r,o,a),c=(0,l.yy)(q,o);return{position:s,normal:Y(t.normal,t.position,a,r,c),tangent:C(t.tangent,t.position,a,r,c)}}function E(t,e,n){(0,h.y)(t.spatialReference,[t.x,t.y,t.z??0],n,(0,f._s)(t.spatialReference));const r=O(e?e.unit:null,t.spatialReference);return(0,i.aU)(n,n,[r,r,r]),n}function Y(t,e,n,r,o){if(null==t)return null;const i=(0,_.cH)(t,e,n,r,new Float32Array(t.length));return(0,M.b)(i,i,o),i}function C(t,e,n,r,o){if(null==t)return null;const i=(0,_.GW)(t,e,n,r,new Float32Array(t.length));return(0,M.b)(i,i,o,4),i}function O(t,e){if(null==t)return 1;const n=(0,r.eg)(e);return 1/(0,r.ck)(n,"meters",t)}const R=(0,a.Su)(),X=(0,a.Su)(),q=(0,o.Su)()},38496:(t,e,n)=>{n.d(e,{AT:()=>b,Cr:()=>S,GW:()=>w,K_:()=>_,QP:()=>y,W4:()=>A,cH:()=>M,o$:()=>x});var r=n(66360),o=n(77556),i=n(68612),a=n(87104),s=n(98472),c=n(62484),l=n(82448),u=n(51120),f=n(62880),h=n(60544),p=n(29120),m=n(71004),d=n(48952);const g=()=>r.c.getLogger("esri.geometry.support.meshUtils.normalProjection");function M(t,e,n,r,o){return B(r)?(v(T.TO_PCPF,m.Yj.fromTypedArray(t),m.Ax.fromTypedArray(e),m.Ax.fromTypedArray(n),r,m.Yj.fromTypedArray(o)),o):(g().error("Cannot convert spatial reference to PCPF"),o)}function y(t,e,n,r,o){return B(r)?(v(T.FROM_PCPF,m.Yj.fromTypedArray(t),m.Ax.fromTypedArray(e),m.Ax.fromTypedArray(n),r,m.Yj.fromTypedArray(o)),o):(g().error("Cannot convert to spatial reference from PCPF"),o)}function _(t,e,n){return(0,f.projectBuffer)(t,e,0,n,(0,l._s)(e),0,t.length/3),n}function x(t,e,n){return(0,f.projectBuffer)(t,(0,l._s)(n),0,e,n,0,t.length/3),e}function A(t,e,n){return(0,o.yy)(O,n),(0,d.b)(e,t,O),(0,o.QT)(O)||(0,d.n)(e,e),e}function b(t,e,n){if((0,o.yy)(O,n),(0,d.b)(e,t,O,4),(0,o.QT)(O)||(0,d.n)(e,e,4),t!==e)for(let n=3;n<t.length;n+=4)e[n]=t[n];return e}function w(t,e,n,r,o){if(!B(r))return g().error("Cannot convert spatial reference to PCPF"),o;v(T.TO_PCPF,m.Yj.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),m.Ax.fromTypedArray(e),m.Ax.fromTypedArray(n),r,m.Yj.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let e=3;e<t.length;e+=4)o[e]=t[e];return o}function S(t,e,n,r,o){if(!B(r))return g().error("Cannot convert to spatial reference from PCPF"),o;v(T.FROM_PCPF,m.Yj.fromTypedArray(t,16),m.Ax.fromTypedArray(e),m.Ax.fromTypedArray(n),r,m.Yj.fromTypedArray(o,16));for(let e=3;e<t.length;e+=4)o[e]=t[e];return o}function v(t,e,n,r,i,a){if(!e)return;const c=n.count,f=(0,l._s)(i);if(P(i))for(let n=0;n<c;n++)r.getVec(n,E),e.getVec(n,Y),(0,u.y)(f,E,C,f),(0,o.kr)(O,C),t===T.FROM_PCPF&&(0,o.oL)(O,O),(0,s.t)(Y,Y,O),a.setVec(n,Y);else for(let i=0;i<c;i++){r.getVec(i,E),e.getVec(i,Y),(0,u.y)(f,E,C,f),(0,o.kr)(O,C);const c=(0,p.MB)(n.get(i,1));let l=Math.cos(c);t===T.TO_PCPF&&(l=1/l),O[0]*=l,O[1]*=l,O[2]*=l,O[3]*=l,O[4]*=l,O[5]*=l,t===T.FROM_PCPF&&(0,o.oL)(O,O),(0,s.t)(Y,Y,O),(0,s.n)(Y,Y),a.setVec(i,Y)}return a}function B(t){return P(t)||function(t){return t.isWebMercator}(t)}function P(t){return t.isWGS84||(0,h.Ub)(t)||(0,h.qg)(t)||(0,h.UB)(t)}var T,F;(F=T||(T={}))[F.TO_PCPF=0]="TO_PCPF",F[F.FROM_PCPF=1]="FROM_PCPF";const E=(0,c.Su)(),Y=(0,c.Su)(),C=(0,a.Su)(),O=(0,i.Su)()},21136:(t,e,n)=>{n.d(e,{Al:()=>m,GF:()=>d,_c:()=>h,k$:()=>f,mA:()=>p,mm:()=>g,wX:()=>u});var r=n(26832),o=n(66360),i=n(67776),a=n(51232),s=n(13708),c=n(48952);function l(){return o.c.getLogger("esri.geometry.Mesh")}function u(t){const{vertexSpace:e}=t;if(null!=e.origin)return t.clone();const{anchor:n}=t,r=n.clone(),o=new a.c({origin:[r.x,r.y,r.z]}),i=t.cloneWithVertexSpace(o),{position:s}=i.vertexAttributes;return i.vertexAttributes.position=(0,c.t)(new Float64Array(s.length),s,[-r.x,-r.y,-(r.z??0)]),i.vertexAttributesChanged(),i}function f(t){return null!=t.origin}function h(t){return f(t.vertexSpace)}function p(t,e){if(!f(t))return null;const[n,r,o]=t.origin;return new i.c({x:n,y:r,z:o,spatialReference:e})}function m(t,e){const{x:n,y:o,z:i,spatialReference:c}=t,u=[n,o,i??0];if(void 0!==e?.geographic){if((0,r.O2)(l(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),!e?.vertexSpace)return e?.geographic?new s.c({origin:u}):new a.c({origin:u});l().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(!e?.vertexSpace)return c.isGeographic||c.isWebMercator?new s.c({origin:u}):new a.c({origin:u});switch(e.vertexSpace){case"local":return new s.c({origin:u});case"georeferenced":return new a.c({origin:u});case"georeferenced-absolute":return new a.c}}function d(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}function g(t,e){return"local"===t?new s.c({origin:e}):new a.c({origin:e})}}}]);