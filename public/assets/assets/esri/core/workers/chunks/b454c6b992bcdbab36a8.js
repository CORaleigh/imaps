"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3536],{25228:(t,e,n)=>{n.d(e,{c:()=>h});var r,i=n(41948),o=n(40504),s=n(94360),l=n(1580),a=(n(9456),n(66360),n(72052),n(33600)),u=n(12552),c=n(18996),p=n(28484);let d=r=class extends o.am{static get allTime(){return y}static get empty(){return f}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===r&&n===i}expandTo(t,e=p.OX){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=(0,s.aU)(n,t,e));let i=this.end;if(i){const n=(0,s.aU)(i,t,e);i=i.getTime()===n.getTime()?n:(0,s.g1)(n,1,t,e)}return new r({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return r.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,o=t.end?.getTime()??1/0;let s,l;if(i>=e&&i<=n?s=i:e>=i&&e<=o&&(s=e),n>=i&&n<=o?l=n:o>=e&&o<=n&&(l=o),null!=s&&null!=l&&!isNaN(s)&&!isNaN(l)){const t=new r;return t.start=s===-1/0?null:new Date(s),t.end=l===1/0?null:new Date(l),t}return r.empty}offset(t,e,n=p.OX){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:o,end:l}=this;return null!=o&&(i.start=(0,s.g1)(o,t,e,n)),null!=l&&(i.end=(0,s.g1)(l,t,e,n)),i}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return y.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new r({start:e,end:n})}};(0,i._)([(0,l.qq)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,i._)([(0,a.E)("end")],d.prototype,"readEnd",null),(0,i._)([(0,c.G)("end")],d.prototype,"writeEnd",null),(0,i._)([(0,l.qq)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,i._)([(0,l.qq)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,i._)([(0,l.qq)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,i._)([(0,a.E)("start")],d.prototype,"readStart",null),(0,i._)([(0,c.G)("start")],d.prototype,"writeStart",null),d=r=(0,i._)([(0,u.c)("esri.TimeExtent")],d);const y=new d,f=new d({start:void 0,end:void 0}),h=d},56573:(t,e,n)=>{n.d(e,{c:()=>y});var r=n(41948),i=n(43780),o=n(92400),s=n(3856),l=n(22156),a=n(40504),u=n(1580),c=(n(9456),n(66360),n(12552));let p=0,d=class extends((0,a.Ib)((0,s.q)((0,l.MR)(i.c)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${p++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.G6)}};(0,r._)([(0,u.qq)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),(0,r._)([(0,u.qq)({type:String})],d.prototype,"title",void 0),(0,r._)([(0,u.qq)({clonable:!1,value:null})],d.prototype,"parent",null),(0,r._)([(0,u.qq)({readOnly:!0})],d.prototype,"isEditable",null),d=(0,r._)([(0,c.c)("esri.analysis.Analysis")],d);const y=d},3856:(t,e,n)=>{n.d(e,{m:()=>p,q:()=>c});var r=n(41948),i=n(43780),o=(n(9456),n(62088)),s=(n(66360),n(70680)),l=n(71448),a=n(20916),u=n(12552);const c=t=>{let e=class extends t{clone(){const t=(0,a.m6)(this);(0,s.EN)(t,"unable to clone instance of non-accessor class");const e=t.metadata,n=t.store,r={},i=new Map;for(const t in e){const s=e[t],a=n?.originOf(t),u=s.clonable;if(s.readOnly||!1===u||a!==l.sT.USER&&a!==l.sT.DEFAULTS&&a!==l.sT.WEB_MAP&&a!==l.sT.WEB_SCENE)continue;const c=this[t];let p=null;p="function"==typeof u?u(c):"reference"===u?c:(0,o.gx)(c),null!=c&&null==p||(a===l.sT.DEFAULTS?i.set(t,p):r[t]=p)}const u=new(0,Object.getPrototypeOf(this).constructor)(r);if(i.size){const t=(0,a.m6)(u)?.store;if(t)for(const[e,n]of i)t.set(e,n,l.sT.DEFAULTS)}return u}};return e=(0,r._)([(0,u.c)("esri.core.Clonable")],e),e};let p=class extends(c(i.c)){};p=(0,r._)([(0,u.c)("esri.core.Clonable")],p)},22156:(t,e,n)=>{n.d(e,{MR:()=>s,qm:()=>l});var r=n(41948),i=n(12552);let o=0;const s=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return e=(0,r._)([(0,i.c)("esri.core.Identifiable")],e),e},l=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return e=(0,r._)([(0,i.c)("esri.core.NumericIdentifiable")],e),e};let a=class extends(s(class{})){};a=(0,r._)([(0,i.c)("esri.core.Identifiable")],a)},77380:(t,e,n)=>{n.d(e,{I:()=>h,Y:()=>r});const r={Base64:0,Hex:1,String:2,Raw:3},i=8,o=(1<<i)-1;function s(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function l(t){const e=[];for(let n=0,r=t.length*i;n<r;n+=i)e[n>>5]|=(t.charCodeAt(n/i)&o)<<n%32;return e}function a(t){const e=[];for(let n=0,r=32*t.length;n<r;n+=i)e.push(String.fromCharCode(t[n>>5]>>>n%32&o));return e.join("")}function u(t,e,n,r,i,o){return s(function(t,e){return t<<e|t>>>32-e}(s(s(e,t),s(r,o)),i),n)}function c(t,e,n,r,i,o,s){return u(e&n|~e&r,t,e,i,o,s)}function p(t,e,n,r,i,o,s){return u(e&r|n&~r,t,e,i,o,s)}function d(t,e,n,r,i,o,s){return u(e^n^r,t,e,i,o,s)}function y(t,e,n,r,i,o,s){return u(n^(e|~r),t,e,i,o,s)}function f(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let e=0;e<t.length;e+=16){const l=n,a=r,u=i,f=o;n=c(n,r,i,o,t[e],7,-680876936),o=c(o,n,r,i,t[e+1],12,-389564586),i=c(i,o,n,r,t[e+2],17,606105819),r=c(r,i,o,n,t[e+3],22,-1044525330),n=c(n,r,i,o,t[e+4],7,-176418897),o=c(o,n,r,i,t[e+5],12,1200080426),i=c(i,o,n,r,t[e+6],17,-1473231341),r=c(r,i,o,n,t[e+7],22,-45705983),n=c(n,r,i,o,t[e+8],7,1770035416),o=c(o,n,r,i,t[e+9],12,-1958414417),i=c(i,o,n,r,t[e+10],17,-42063),r=c(r,i,o,n,t[e+11],22,-1990404162),n=c(n,r,i,o,t[e+12],7,1804603682),o=c(o,n,r,i,t[e+13],12,-40341101),i=c(i,o,n,r,t[e+14],17,-1502002290),r=c(r,i,o,n,t[e+15],22,1236535329),n=p(n,r,i,o,t[e+1],5,-165796510),o=p(o,n,r,i,t[e+6],9,-1069501632),i=p(i,o,n,r,t[e+11],14,643717713),r=p(r,i,o,n,t[e],20,-373897302),n=p(n,r,i,o,t[e+5],5,-701558691),o=p(o,n,r,i,t[e+10],9,38016083),i=p(i,o,n,r,t[e+15],14,-660478335),r=p(r,i,o,n,t[e+4],20,-405537848),n=p(n,r,i,o,t[e+9],5,568446438),o=p(o,n,r,i,t[e+14],9,-1019803690),i=p(i,o,n,r,t[e+3],14,-187363961),r=p(r,i,o,n,t[e+8],20,1163531501),n=p(n,r,i,o,t[e+13],5,-1444681467),o=p(o,n,r,i,t[e+2],9,-51403784),i=p(i,o,n,r,t[e+7],14,1735328473),r=p(r,i,o,n,t[e+12],20,-1926607734),n=d(n,r,i,o,t[e+5],4,-378558),o=d(o,n,r,i,t[e+8],11,-2022574463),i=d(i,o,n,r,t[e+11],16,1839030562),r=d(r,i,o,n,t[e+14],23,-35309556),n=d(n,r,i,o,t[e+1],4,-1530992060),o=d(o,n,r,i,t[e+4],11,1272893353),i=d(i,o,n,r,t[e+7],16,-155497632),r=d(r,i,o,n,t[e+10],23,-1094730640),n=d(n,r,i,o,t[e+13],4,681279174),o=d(o,n,r,i,t[e],11,-358537222),i=d(i,o,n,r,t[e+3],16,-722521979),r=d(r,i,o,n,t[e+6],23,76029189),n=d(n,r,i,o,t[e+9],4,-640364487),o=d(o,n,r,i,t[e+12],11,-421815835),i=d(i,o,n,r,t[e+15],16,530742520),r=d(r,i,o,n,t[e+2],23,-995338651),n=y(n,r,i,o,t[e],6,-198630844),o=y(o,n,r,i,t[e+7],10,1126891415),i=y(i,o,n,r,t[e+14],15,-1416354905),r=y(r,i,o,n,t[e+5],21,-57434055),n=y(n,r,i,o,t[e+12],6,1700485571),o=y(o,n,r,i,t[e+3],10,-1894986606),i=y(i,o,n,r,t[e+10],15,-1051523),r=y(r,i,o,n,t[e+1],21,-2054922799),n=y(n,r,i,o,t[e+8],6,1873313359),o=y(o,n,r,i,t[e+15],10,-30611744),i=y(i,o,n,r,t[e+6],15,-1560198380),r=y(r,i,o,n,t[e+13],21,1309151649),n=y(n,r,i,o,t[e+4],6,-145523070),o=y(o,n,r,i,t[e+11],10,-1120210379),i=y(i,o,n,r,t[e+2],15,718787259),r=y(r,i,o,n,t[e+9],21,-343485551),n=s(n,l),r=s(r,a),i=s(i,u),o=s(o,f)}return[n,r,i,o]}function h(t,e=r.Hex){const n=e||r.Base64,o=f(l(t),t.length*i);switch(n){case r.Raw:return o;case r.Hex:return function(t){const e="0123456789abcdef",n=[];for(let r=0,i=4*t.length;r<i;r++)n.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return n.join("")}(o);case r.String:return a(o);case r.Base64:return function(t){const e=[];for(let n=0,r=4*t.length;n<r;n+=3){const r=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255;for(let i=0;i<4;i++)8*n+6*i>32*t.length?e.push("="):e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return e.join("")}(o)}}},90636:(t,e,n)=>{n.d(e,{O:()=>y});var r=n(20744),i=n(77380),o=n(4644),s=n(28176),l=n(63564),a=n(44296),u=n(71448),c=n(1580),p=n(73960),d=n(91952);function y(t){const e=t?.origins??[void 0];return(n,r)=>{const i=function(t,e,n){if("resource"===t?.type)return function(t,e,n){const r=(0,a.EF)(e,n);return{type:String,read:(t,e,n)=>{const i=(0,d.r)(t,e,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer(e,i,l,a){if(!a?.resources)return"string"==typeof e?void(i[l]=(0,d.t)(e,a)):void(i[l]=e.write({},a));const c=function(t){return null==t?null:"string"==typeof t?t:t.url}(e),y=(0,d.t)(c,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},d.M.NO),g=r.type!==String&&(!(0,o.w)(this)||a?.origin&&this.originIdOf(n)>(0,u.CQ)(a.origin)),v={object:this,propertyName:n,value:e,targetUrl:y,dest:i,targetPropertyName:l,context:a,params:t};a?.portalItem&&y&&!(0,s.ic)(y)?g&&t?.contentAddressed?f(v):g?function(t){const{context:e,targetUrl:n,params:r,value:i,dest:o,targetPropertyName:l}=t;if(!e.portalItem)return;const a=e.portalItem.resourceFromPath(n),u=m(i,n,e),c=(0,p.e)(u),d=(0,s.wt)(a.path),y=r?.compress??!1;c===d?(e.resources&&h({...t,resource:a,content:u,compress:y,updates:e.resources.toUpdate}),o[l]=n):f(t)}(v):function({context:t,targetUrl:e,dest:n,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),n[r]=e)}(v):a?.portalItem&&(null==y||null!=(0,d.i)(y)||(0,s.ue)(y)||g)?f(v):i[l]=y}}}}(t,e,n);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:e}=d.b;return{read:t,write:e}}}}(t,n,r);for(const t of e){const e=(0,c.aq)(n,t,r);for(const t in i)e[t]=i[t]}}}function f(t){const{targetUrl:e,params:n,value:o,context:a,dest:u,targetPropertyName:c}=t;if(!a.portalItem)return;const y=(0,d.p)(e),f=m(o,e,a);if(n?.contentAddressed&&"json"!==f.type)return void a.messages?.push(new r.c("persistable:contentAddressingUnsupported",`Property "${c}" is trying to serializing a resource with content of type ${f.type} with content addressing. Content addressing is only supported for json resources.`,{content:f}));const g=n?.contentAddressed&&"json"===f.type?(0,i.I)(f.jsonString):y?.filename??(0,l.g1)(),v=(0,s.kn)(n?.prefix??y?.prefix,g),b=`${v}.${(0,p.e)(f)}`;if(n?.contentAddressed&&a.resources&&"json"===f.type){const t=a.resources.toKeep.find((({resource:t})=>t.path===b))??a.resources.toAdd.find((({resource:t})=>t.path===b));if(t)return void(u[c]=t.resource.itemRelativeUrl)}const q=a.portalItem.resourceFromPath(b);(0,s.ue)(e)&&a.resources&&a.resources.pendingOperations.push((0,s.SW)(e).then((t=>{q.path=`${v}.${(0,p.e)({type:"blob",blob:t})}`,u[c]=q.itemRelativeUrl})).catch((()=>{})));const w=n?.compress??!1;a.resources&&h({...t,resource:q,content:f,compress:w,updates:a.resources.toAdd}),u[c]=q.itemRelativeUrl}function h({object:t,propertyName:e,updates:n,resource:r,content:i,compress:o}){n.push({resource:r,content:i,compress:o,finish:n=>{!function(t,e,n){"string"==typeof t[e]?t[e]=n.url:t[e].url=n.url}(t,e,n)}})}function m(t,e,n){return"string"==typeof t?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(n))}}},4644:(t,e,n)=>{function r(t){return t&&"getAtOrigin"in t&&"originOf"in t}n.d(e,{w:()=>r})},57896:(t,e,n)=>{n.d(e,{Eq:()=>d,KG:()=>g,_8:()=>m,_I:()=>u,aE:()=>a,du:()=>h,on:()=>p}),n(40196),n(2952);var r=n(60976),i=n(38912),o=n(70680),s=n(10860),l=n(37176);function a(t,e,n={}){return c(t,e,n,y)}function u(t,e,n={}){return c(t,e,n,f)}function c(t,e,n={},r){let i=null;const s=n.once?(t,n)=>{r(t)&&((0,o.oR)(i),e(t,n))}:(t,n)=>{r(t)&&e(t,n)};if(i=(0,l.M9)(t,s,n.sync,n.equals),n.initial){const e=t();s(e,e)}return i}function p(t,e,n,s={}){let l=null,u=null,c=null;function p(){l&&u&&(u.remove(),s.onListenerRemove?.(l),l=null,u=null)}function d(t){s.once&&s.once&&(0,o.oR)(c),n(t)}const y=a(t,((t,n)=>{p(),(0,r.sh)(t)&&(l=t,u=(0,r.on)(t,e,d),s.onListenerAdd?.(t))}),{sync:s.sync,initial:!0});return c=(0,i.uU)((()=>{y.remove(),p()})),c}function d(t,e){return function(t,e,n){if((0,s.wv)(n))return Promise.reject((0,s.Uh)());const r=t();if(e?.(r))return Promise.resolve(r);let l=null;function a(){l=(0,o.oR)(l)}return new Promise(((r,o)=>{l=(0,i.Ip)([(0,s.wD)(n,(()=>{a(),o((0,s.Uh)())})),c(t,(t=>{a(),r(t)}),{sync:!1,once:!0},e??y)])}))}(t,f,e)}function y(t){return!0}function f(t){return!!t}n(41168);const h={sync:!0},m={initial:!0},g={sync:!0,initial:!0}},63564:(t,e,n)=>{n.d(e,{Mr:()=>s,cf:()=>o,g1:()=>i});const r="randomUUID"in crypto;function i(){if(r)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=e=>t[e].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function o(){return`{${i().toUpperCase()}}`}function s(){return`{${i()}}`}},77048:(t,e,n)=>{n.d(e,{C6:()=>p,FZ:()=>f,K:()=>b,K8:()=>a,MZ:()=>l,Qv:()=>h,Su:()=>i,UN:()=>q,WK:()=>o,WO:()=>y,WU:()=>s,eC:()=>c,is:()=>g,mK:()=>d,qe:()=>u,qy:()=>m,yK:()=>v});var r=n(95247);function i(t=q){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function o(t,e,n,r,o,s,l=i()){return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=o,l[5]=s,l}function s(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new r.c(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function l(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function a(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function u(t,e,n=0,r=e.length/3){let i=t[0],o=t[1],s=t[2],l=t[3],a=t[4],u=t[5];for(let t=0;t<r;t++)i=Math.min(i,e[n+3*t]),o=Math.min(o,e[n+3*t+1]),s=Math.min(s,e[n+3*t+2]),l=Math.max(l,e[n+3*t]),a=Math.max(a,e[n+3*t+1]),u=Math.max(u,e[n+3*t+2]);t[0]=i,t[1]=o,t[2]=s,t[3]=l,t[4]=a,t[5]=u}function c(t,e=[0,0,0]){return e[0]=function(t){return t[0]>=t[3]?0:t[3]-t[0]}(t),e[1]=function(t){return t[1]>=t[4]?0:t[4]-t[1]}(t),e[2]=function(t){return t[2]>=t[5]?0:t[5]-t[2]}(t),e}function p(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function d(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function f(t){return t?y(t,b):i(b)}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function m(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=i,t[5]=Number.POSITIVE_INFINITY,t}function g(t){return 6===t.length}function v(t,e,n){if(null==t||null==e)return t===e;if(!g(t)||!g(e))return!1;if(n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n(83372);const b=[1/0,1/0,1/0,-1/0,-1/0,-1/0],q=[0,0,0,0,0,0];i()},81436:(t,e,n)=>{n.d(e,{c:()=>b});var r=n(41948),i=(n(60708),n(2600)),o=n(20744),s=n(77860),l=n(22156),a=n(95800),u=n(66360),c=n(10860),p=n(28176),d=n(1580),y=(n(9456),n(72052),n(12552)),f=n(6220),h=n(95247),m=n(56156);let g=0,v=class extends(s.c.EventedMixin((0,l.MR)(a.c))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new h.c(-180,-90,180,90,m.c.WGS84),this.id=Date.now().toString(16)+"-layer-"+g++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.c.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await n.e(9232).then(n.bind(n,69232))).fromUrl(e)}static fromPortalItem(t){return async function(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:r}=await n.e(2259).then(n.bind(n,12259));try{return await r(e)}catch(t){const n=e&&e.portalItem,r=n?.id||"unset",i=n&&n.portal&&n.portal.url||f.default.portalUrl;throw u.c.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",t),t}}(t)}initialize(){this.when().catch((t=>{(0,c.mA)(t)||u.c.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,p.as)(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,i.c)(t,{query:{f:"json"},responseType:"json"})).data;throw new o.c("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,d.qq)({type:String})],v.prototype,"attributionDataUrl",void 0),(0,r._)([(0,d.qq)({type:h.c})],v.prototype,"fullExtent",void 0),(0,r._)([(0,d.qq)({readOnly:!0})],v.prototype,"hasAttributionData",null),(0,r._)([(0,d.qq)({type:String,clonable:!1})],v.prototype,"id",void 0),(0,r._)([(0,d.qq)({type:Boolean,nonNullable:!0})],v.prototype,"legendEnabled",void 0),(0,r._)([(0,d.qq)({type:["show","hide","hide-children"]})],v.prototype,"listMode",void 0),(0,r._)([(0,d.qq)({type:Number,range:{min:0,max:1},nonNullable:!0})],v.prototype,"opacity",void 0),(0,r._)([(0,d.qq)({clonable:!1})],v.prototype,"parent",void 0),(0,r._)([(0,d.qq)({readOnly:!0})],v.prototype,"parsedUrl",null),(0,r._)([(0,d.qq)({type:Boolean,readOnly:!0})],v.prototype,"persistenceEnabled",void 0),(0,r._)([(0,d.qq)({type:Boolean})],v.prototype,"popupEnabled",void 0),(0,r._)([(0,d.qq)({type:Boolean})],v.prototype,"attributionVisible",void 0),(0,r._)([(0,d.qq)({type:m.c})],v.prototype,"spatialReference",void 0),(0,r._)([(0,d.qq)({type:String})],v.prototype,"title",void 0),(0,r._)([(0,d.qq)({readOnly:!0,json:{read:!1}})],v.prototype,"type",void 0),(0,r._)([(0,d.qq)()],v.prototype,"url",void 0),(0,r._)([(0,d.qq)({type:Boolean,nonNullable:!0})],v.prototype,"visible",void 0),v=(0,r._)([(0,y.c)("esri.layers.Layer")],v);const b=v},91884:(t,e,n)=>{n.r(e),n.d(e,{default:()=>L});var r=n(41948),i=n(56573);function o(t,e){return s(t)===s(e)}function s(t){if(null==t)return null;const e=null!=t.layer?t.layer.id:"";let n=null;return n=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==n?null:`o-${e}-${n}`}const l={json:{write:{writer:function(t,e){null!=t?.layer?.objectIdField&&null!=t.attributes&&(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};var a=n(43780),u=n(3856),c=n(40504),p=n(70680),d=n(1580),y=(n(9456),n(66360),n(72052),n(12552)),f=n(90636),h=n(67776),m=n(27136);let g=class extends((0,c.Ib)((0,u.q)(a.c))){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,p.O4)(this.position,t.position)&&(0,p.O4)(this.elevationInfo,t.elevationInfo)&&o(this.feature,t.feature)}};(0,r._)([(0,d.qq)({type:h.c,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),(0,r._)([(0,d.qq)({type:m.c}),(0,f.O)()],g.prototype,"elevationInfo",void 0),(0,r._)([(0,d.qq)(l)],g.prototype,"feature",void 0),g=(0,r._)([(0,y.c)("esri.analysis.LineOfSightAnalysisObserver")],g);const v=g;let b=class extends((0,c.Ib)(u.m)){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,p.O4)(this.position,t.position)&&(0,p.O4)(this.elevationInfo,t.elevationInfo)&&o(this.feature,t.feature)}};(0,r._)([(0,d.qq)({type:h.c}),(0,f.O)()],b.prototype,"position",void 0),(0,r._)([(0,d.qq)({type:m.c}),(0,f.O)()],b.prototype,"elevationInfo",void 0),(0,r._)([(0,d.qq)(l)],b.prototype,"feature",void 0),b=(0,r._)([(0,y.c)("esri.analysis.LineOfSightAnalysisTarget")],b);const q=b;var w=n(2952),I=n(30604),_=n(57896),x=n(60074),E=n(77048),j=n(69204);const O=w.c.ofType(q);let T=class extends i.c{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,_.aE)((()=>this._computeExtent()),(t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)}),_.KG))}get targets(){return this._get("targets")||new O}set targets(t){this._set("targets",(0,I.q)(t,this.targets,O))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const t=this._computeExtent();return null!=t?t.pending:Promise.resolve()}_computeExtent(){const t=this.spatialReference;if(null==this.observer?.position||null==t)return null;const e=t=>"absolute-height"===(0,j.m6)(t.position,t.elevationInfo),n=this.observer.position,r=(0,E.WK)(n.x,n.y,n.z,n.x,n.y,n.z);for(const e of this.targets)if(null!=e.position){const n=(0,x.projectOrLoad)(e.position,t);if(null!=n.pending)return{pending:n.pending,extent:null};if(null!=n.geometry){const{x:t,y:e,z:i}=n.geometry;(0,E.K8)(r,[t,e,i])}}const i=(0,E.WU)(r,t);return e(this.observer)&&this.targets.every(e)||(i.zmin=void 0,i.zmax=void 0),{pending:null,extent:i}}clear(){this.observer=null,this.targets.removeAll()}};(0,r._)([(0,d.qq)({type:["line-of-sight"]})],T.prototype,"type",void 0),(0,r._)([(0,d.qq)({type:v,json:{read:!0,write:!0}})],T.prototype,"observer",void 0),(0,r._)([(0,d.qq)({cast:I.W,type:O,nonNullable:!0,json:{read:!0,write:!0}})],T.prototype,"targets",null),(0,r._)([(0,d.qq)({value:null,readOnly:!0})],T.prototype,"extent",void 0),(0,r._)([(0,d.qq)({readOnly:!0})],T.prototype,"spatialReference",null),(0,r._)([(0,d.qq)({readOnly:!0})],T.prototype,"requiredPropertiesForEditing",null),T=(0,r._)([(0,y.c)("esri.analysis.LineOfSightAnalysis")],T);const S=T;var A=n(26496),U=n(81436),N=n(66576);const M=w.c.ofType(q);let R=class extends((0,N.Y)((0,A.U)(U.c))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new S,this.opacity=1}initialize(){this.addHandles((0,_.aE)((()=>this.analysis),((t,e)=>{null!=e&&e.parent===this&&(e.parent=null),null!=t&&(t.parent=this)}),_.KG))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return this.analysis?.observer}set observer(t){const{analysis:e}=this;e&&(e.observer=t)}get targets(){return null!=this.analysis?this.analysis.targets:new w.c}set targets(t){(0,I.q)(t,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new S)}};(0,r._)([(0,d.qq)({json:{read:!1},readOnly:!0})],R.prototype,"type",void 0),(0,r._)([(0,d.qq)({type:["LineOfSightLayer"]})],R.prototype,"operationalLayerType",void 0),(0,r._)([(0,d.qq)({type:v,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],R.prototype,"observer",null),(0,r._)([(0,d.qq)({type:M,json:{read:!0,write:{ignoreOrigin:!0}}})],R.prototype,"targets",null),(0,r._)([(0,d.qq)({nonNullable:!0,json:{read:!1,write:!1}})],R.prototype,"analysis",void 0),(0,r._)([(0,d.qq)({readOnly:!0})],R.prototype,"fullExtent",null),(0,r._)([(0,d.qq)({readOnly:!0})],R.prototype,"spatialReference",null),(0,r._)([(0,d.qq)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],R.prototype,"opacity",void 0),(0,r._)([(0,d.qq)({type:["show","hide"]})],R.prototype,"listMode",void 0),R=(0,r._)([(0,y.c)("esri.layers.LineOfSightLayer")],R);const L=R},73960:(t,e,n)=>{n.d(e,{e:()=>i});var r=n(28176);function i(t){return o[function(t){return"json"===t.type?"application/json":"blob"===t.type?t.blob.type:function(t){const e=(0,r.wt)(t);return a[e]||s}(t.url)}(t)]||l}const o={},s="text/plain",l=o[s],a={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in a)o[a[t]]=t},69204:(t,e,n)=>{function r(t,e){return function(t,e){return e?.mode?e.mode:function(t){return t?a:u}(t).mode}(null!=t&&t.hasZ,e)}function i(t,e,n){return n&&n.mode!==e?`${t} only support ${e} elevation mode`:null}function o(t,e,n){return n?.mode===e?`${t} do not support ${e} elevation mode`:null}function s(t,e){return null!=e?.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function l(t,e){e&&t.warn(".elevationInfo=",e)}n.d(e,{A$:()=>l,Ez:()=>i,W8:()=>s,ay:()=>o,m6:()=>r}),n(24296),n(35764);const a={mode:"absolute-height",offset:0},u={mode:"on-the-ground",offset:null}}}]);