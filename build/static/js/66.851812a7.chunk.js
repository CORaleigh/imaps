(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[66],{1056:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return d}));var n=i(2),a=i(3),r=i(26),s=i(13),o=i(253),c=i(220),l=i(130),h=i(53),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.e)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.e)();Object(n.a)(this,e),this.startRenderSpace=t,this.endRenderSpace=i,this.type="euclidean"}return Object(a.a)(e,[{key:"eval",value:function(e,t,i){return Object(s.h)(t,this.startRenderSpace,this.endRenderSpace,e),i&&(Object(s.i)(i,this.endRenderSpace,this.startRenderSpace),Object(s.q)(i,i)),t}},{key:"createRenderGeometry",value:function(e,t){var i=[],n=[],a=function(t,a){var r=v;Object(s.i)(r,t,e),i.push([r[0],r[1],r[2]]),n.push([a[0],a[1],a[2]])},r=t.worldUpAtPosition(this.eval(.5,b),h.d.get());return a(this.startRenderSpace,r),a(this.endRenderSpace,r),{points:i,normals:n}}}]),e}(),d=function(){function e(t,i,a){Object(n.a)(this,e),this.startRenderSpace=t,this.endRenderSpace=i,this.renderSpatialReference=a,this.type="geodesic",this._start=Object(r.e)(),this._end=Object(r.e)(),this._pcpf=Object(c.g)(a),this._project=Object(l.b)(a,this._pcpf),this._projectIn(t,this._start),this._projectIn(i,this._end)}return Object(a.a)(e,[{key:"_projectIn",value:function(e,t){this._project?Object(l.r)(e,this.renderSpatialReference,t,this._pcpf):Object(s.j)(t,e)}},{key:"eval",value:function(e,t,i){if(this._project)if(i){var n=v;Object(o.i)(this._start,this._end,e,t,n),Object(s.e)(g,t,n),Object(l.r)(t,this._pcpf,t,this.renderSpatialReference),Object(l.r)(g,this._pcpf,g,this.renderSpatialReference),Object(s.i)(i,g,t),Object(s.q)(i,i)}else Object(o.h)(this._start,this._end,e,t),Object(l.r)(t,this._pcpf,t,this.renderSpatialReference);else Object(s.h)(t,this._start,this._end,e),i&&(Object(s.i)(i,this._end,this._start),Object(s.q)(i,i));return t}},{key:"createRenderGeometry",value:function(e,t){for(var i=[],n=[],a=function(t,a){var r=g;Object(s.i)(r,t,e),i.push([r[0],r[1],r[2]]),n.push([a[0],a[1],a[2]])},r=0;r<128;++r){var o=r/127,c=b,l=v;this.eval(o,c),t.worldUpAtPosition(c,l),a(c,l)}return{points:i,normals:n}}}]),e}();var b=Object(r.e)(),v=Object(r.e)(),g=Object(r.e)()},1057:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return s}));var n=i(554);function a(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return Object(n.b)(e,t.toUnit(i).value,i,a,r)}function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.h)(e,t.value,t.unit,i,a)}function s(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.i)(e,t.value,t.unit,i,a)}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.e)(e,t.value,t.unit,i,a)}function c(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.f)(e,t.value,t.unit,i,a)}function l(e){if("angle"!==e.measure)throw new Error("quantity is not an angle");return Object(n.a)(e.value,e.unit)}},1077:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var n,a,r=i(33),s=i(35),o=i(246);function c(){var e=new o.a;e.vertex.uniforms.add("proj","mat4").add("view","mat4").add("width","float"),e.attributes.add("position","vec3"),e.attributes.add("normal","vec3"),e.attributes.add("uv0","vec2"),e.attributes.add("auxpos1","float"),e.varyings.add("vtc","vec2"),e.varyings.add("vlength","float"),e.varyings.add("vradius","float"),e.vertex.code.add(Object(s.a)(n||(n=Object(r.a)(["\n    void main(void) {\n      vec3 bitangent = normal;\n\n      vtc = uv0;\n      vlength = auxpos1;\n      vradius = 0.5 * width;\n\n      vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\n      gl_Position = proj * pos;\n    }\n  "])))),e.fragment.uniforms.add("outlineSize","float").add("outlineColor","vec4").add("stripeLength","float").add("stripeEvenColor","vec4").add("stripeOddColor","vec4");var t=1/Math.sqrt(2);return e.fragment.code.add(Object(s.a)(a||(a=Object(r.a)(["\n    const float INV_SQRT2 = ",";\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  "])),s.a.float(t))),e}var l=Object.freeze({__proto__:null,build:c})},1078:function(e,t,i){"use strict";i.d(t,"a",(function(){return M})),i.d(t,"b",(function(){return R}));var n=i(2),a=i(3),r=i(4),s=i(5),o=i(6),c=i(37),l=i(26),h=i(13),u=i(49),d=i(34),b=i(449),v=i(941),g=i(0),p=(i(14),i(12),i(17),i(1)),m=i(8),_=(i(11),i(18),i(19),i(31)),f=(i(164),function e(t,i,n){for(var a=0,r=i.length;a<r;a++){var s=i[a];Array.isArray(s)?e(t,s,n):null!=s&&!1!==s&&("string"==typeof s&&(s={vnodeSelector:"",properties:void 0,children:void 0,text:s.toString(),domNode:null}),n.push(s))}});function O(e,t,i){if(Array.isArray(t))i=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var n,a;return i&&1===i.length&&"string"==typeof i[0]?n=i[0]:i&&(f(e,i,a=[]),0===a.length&&(a=void 0)),{vnodeSelector:e,properties:t,children:a,text:""===n?void 0:n,domNode:null}}i(281);var j=function(e){Object(r.a)(i,e);var t=Object(s.a)(i);function i(e){var a;return Object(n.a)(this,i),(a=t.call(this,e)).startX=0,a.startY=0,a.endX=0,a.endY=0,a.width=1,a.color=[0,0,0,.5],a.visible=!0,a}return Object(a.a)(i,[{key:"startPosition",get:function(){return[this.startX,this.startY]},set:function(e){this._set("startX",e[0]),this._set("startY",e[1])}},{key:"endPosition",get:function(){return[this.endX,this.endY]},set:function(e){this._set("endX",e[0]),this._set("endY",e[1])}},{key:"strokeStyle",get:function(){var e=this.color;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}},{key:"lineCap",get:function(){return"round"}},{key:"render",value:function(){var e=this.calculateCoordinates(y),t=e.height,i=e.left,n=e.top,a=e.width,r=e.x1,s=e.x2,o=e.y1,c=e.y2,l="stroke: ".concat(this.strokeStyle,"; stroke-width: ").concat(this.width,"; stroke-linecap: ").concat(this.lineCap,";");return O("div",{classes:{"esri-line-overlay-item":!0},styles:{left:i+"px",top:n+"px",width:a+"px",height:t+"px",visibility:this.visible?"visible":"hidden"}},[O("svg",{width:a,height:t},[O("line",{x1:r,y1:o,x2:s,y2:c,style:l})])])}},{key:"renderCanvas",value:function(e){if(this.visible){e.strokeStyle=this.strokeStyle,e.lineWidth=this.width,e.lineCap=this.lineCap;var t=this.calculateCoordinates(y);e.beginPath(),e.moveTo(t.left+t.x1,t.top+t.y1),e.lineTo(t.left+t.x2,t.top+t.y2),e.stroke()}}},{key:"calculateCoordinates",value:function(e){var t=Math.min(this.startX,this.endX),i=Math.max(this.startX,this.endX),n=Math.min(this.startY,this.endY),a=Math.max(this.startY,this.endY),r=this.width;return e.left=t-r,e.top=n-r,e.width=i-t+2*r,e.height=Math.max(20,a-n+2*r),e.x1=this.startX-t+r,e.y1=this.startY-n+r,e.x2=this.endX-t+r,e.y2=this.endY-n+r,e}}]),i}(_.a);Object(g.a)([Object(p.b)()],j.prototype,"startX",void 0),Object(g.a)([Object(p.b)()],j.prototype,"startY",void 0),Object(g.a)([Object(p.b)()],j.prototype,"endX",void 0),Object(g.a)([Object(p.b)()],j.prototype,"endY",void 0),Object(g.a)([Object(p.b)()],j.prototype,"startPosition",null),Object(g.a)([Object(p.b)()],j.prototype,"endPosition",null),Object(g.a)([Object(p.b)()],j.prototype,"width",void 0),Object(g.a)([Object(p.b)()],j.prototype,"color",void 0),Object(g.a)([Object(p.b)()],j.prototype,"visible",void 0),Object(g.a)([Object(p.b)({readOnly:!0})],j.prototype,"strokeStyle",null),j=Object(g.a)([Object(m.a)("esri.views.overlay.LineOverlayItem")],j);var y={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},w=j,x=i(29),L=i(15),S={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"},k=function(e){Object(r.a)(i,e);var t=Object(s.a)(i);function i(e){var a;return Object(n.a)(this,i),(a=t.call(this,e)).x=0,a.y=0,a.text="-",a.fontSize=14,a.anchor="center",a.visible=!0,a.backgroundColor="rgba(0, 0, 0, 0.6)",a.textColor="white",a.textShadowColor=[0,0,0],a.textShadowSize=1,a}return Object(a.a)(i,[{key:"position",get:function(){return[this.x,this.y]},set:function(e){this._set("x",e[0]),this._set("y",e[1])}},{key:"padding",get:function(){return.5*this.fontSize}},{key:"render",value:function(){return O("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+"px",borderRadius:this.padding+"px",textShadow:"0 0 ".concat(this.textShadowSize,"px rgb(").concat(this.textShadowColor[0],", ").concat(this.textShadowColor[1],", ").concat(this.textShadowColor[2],")")}},[this.text])}},{key:"renderCanvas",value:function(e){if(this.visible){var t=e.font.replace(/^(.*?)px/,"");e.font="".concat(this.fontSize,"px ").concat(t);var i=this.padding,n=this.padding,a=e.measureText(this.text).width,r=this.fontSize,s=C[this.anchor];e.textAlign="center",e.textBaseline="middle";var o=a+2*i,c=r+2*i,l=this.x+s.x*o,h=this.y+s.y*c;this.roundedRect(e,l,h,o,c,n),e.fillStyle=this.backgroundColor,e.fill();var u=this.x+(s.x+.5)*o,d=this.y+(s.y+.5)*c;this._renderTextShadow(e,this.text,u,d),e.fillStyle=this.textColor,e.fillText(this.text,u,d)}}},{key:"_renderTextShadow",value:function(e,t,i,n){e.lineJoin="miter",e.fillStyle="rgba(".concat(this.textShadowColor[0],", ").concat(this.textShadowColor[1],", ").concat(this.textShadowColor[2],", ").concat(1/P.length,")");var a,r=this.textShadowSize,s=Object(L.a)(P);try{for(s.s();!(a=s.n()).done;){var o=Object(x.a)(a.value,2),c=o[0],l=o[1];e.fillText(t,i+r*c,n+r*l)}}catch(h){s.e(h)}finally{s.f()}}},{key:"roundedRect",value:function(e,t,i,n,a,r){e.beginPath(),e.moveTo(t,i+r),e.arcTo(t,i,t+r,i,r),e.lineTo(t+n-r,i),e.arcTo(t+n,i,t+n,i+r,r),e.lineTo(t+n,i+a-r),e.arcTo(t+n,i+a,t+n-r,i+a,r),e.lineTo(t+r,i+a),e.arcTo(t,i+a,t,i+a-r,r),e.closePath()}},{key:"_cssClasses",value:function(){var e={"esri-text-overlay-item":!0};for(var t in S)e[S[t]]=this.anchor===t;return e}}]),i}(_.a);Object(g.a)([Object(p.b)()],k.prototype,"x",void 0),Object(g.a)([Object(p.b)()],k.prototype,"y",void 0),Object(g.a)([Object(p.b)()],k.prototype,"position",null),Object(g.a)([Object(p.b)()],k.prototype,"text",void 0),Object(g.a)([Object(p.b)()],k.prototype,"fontSize",void 0),Object(g.a)([Object(p.b)()],k.prototype,"anchor",void 0),Object(g.a)([Object(p.b)()],k.prototype,"visible",void 0),Object(g.a)([Object(p.b)()],k.prototype,"padding",null),k=Object(g.a)([Object(m.a)("esri.views.overlay.TextOverlayItem")],k);for(var C={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},P=[],z=0;z<360;z+=22.5)P.push([Math.cos(Math.PI*z/180),Math.sin(Math.PI*z/180)]);var E=k,M=function(e){Object(r.a)(i,e);var t=Object(s.a)(i);function i(e){var a;return Object(n.a)(this,i),(a=t.call(this,e.view))._handles=new u.a,a._textItem=null,a._calloutItem=null,a._showCallout=!0,a._showText=!0,a._geometry=null,a._text=null,a._fontSize=14,a._distance=25,a._anchor="right",a.applyProps(e),a}return Object(a.a)(i,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this._updateLabelPosition()}},{key:"textItem",get:function(){return this._textItem}},{key:"text",get:function(){return this._text},set:function(e){this._text=e,this.attached&&(this._textItem.text=this._text)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this.attached&&(this._textItem.fontSize=this._fontSize)}},{key:"distance",get:function(){return this._distance},set:function(e){this._distance!==e&&(this._distance=e,this._updateLabelPosition())}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor!==e&&(this._anchor=e,this._updateLabelPosition())}},{key:"overlaps",value:function(e){return this.textItem.visible&&e.textItem.visible&&this.view.overlay.overlaps(this._textItem,e.textItem)}},{key:"_updateLabelPosition",value:function(){if(this.attached){if(this._showText=!1,this._showCallout=!1,Object(o.k)(this.geometry)&&this.view._stage)switch(this.geometry.type){case"point":this._computeLabelPositionFromPoint(this.geometry,B)&&(this._textItem.position=[B[0],B[1]],this._textItem.anchor="center",this._showText=!0);break;case"corner":this._computeLabelPositionFromCorner(this.geometry,this._distance,B,F)&&(this._showCallout=this._updatePosition(B,F),this._showText=!0);break;case"segment":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,B,F)&&(this._showText=!0,this._showCallout=this._updatePosition(B,F))}this.updateVisibility(this.visible)}}},{key:"_computeLabelPositionFromPoint",value:function(e,t){this.view.renderCoordsHelper.toRenderCoords(e,H);var i=this.view._stage.camera;return i.projectToRenderScreen(H,W),!(W[2]<0||W[2]>1)&&(i.renderToScreen(W,t),!0)}},{key:"_computeLabelPositionFromCorner",value:function(e,t,i,n){if(!e)return!1;var a=this.view._stage.camera;return A(e.left,1,a,I),Object(d.n)(I,I),A(e.right,0,a,G),Object(d.h)(q,I,G),Object(d.n)(q,q),Object(d.e)(q,q),a.projectToRenderScreen(e.left.endRenderSpace,W),!(W[2]<0||W[2]>1)&&(a.renderToScreen(W,i),Object(d.a)(q,q,t*a.pixelRatio),Object(d.h)(q,q,W),a.renderToScreen(q,n),!0)}},{key:"_computeLabelPositionFromSegment",value:function(e,t,i,n,a){if(!e)return!1;var r=e.segment,s=this.view._stage.camera;Object(v.e)(r.startRenderSpace,r.endRenderSpace,I,s),Object(d.r)(q,-I[1],I[0]);var o=!1;switch(i){case"top":o=q[1]<0;break;case"bottom":o=q[1]>0;break;case"left":o=q[0]>0;break;case"right":o=q[0]<0}if(o&&Object(d.n)(q,q),0===Object(d.l)(q))switch(i){case"top":q[1]=1;break;case"bottom":q[1]=-1;break;case"left":q[0]=-1;break;case"right":q[0]=1}return r.eval(N[e.sampleLocation],H),s.projectToRenderScreen(H,W),!(W[2]<0||W[2]>1)&&(s.renderToScreen(W,n),Object(d.a)(q,q,t*s.pixelRatio),Object(d.h)(q,q,W),s.renderToScreen(q,a),!0)}},{key:"_updatePosition",value:function(e,t){if(t){var i=t[0]-e[0],n=t[1]-e[1];return this._textItem.position=[t[0],t[1]],this._textItem.anchor=Math.abs(i)>Math.abs(n)?i>0?"left":"right":n>0?"top":"bottom",this._calloutItem.startPosition=[e[0],e[1]],this._calloutItem.endPosition=[t[0],t[1]],!0}return this._textItem.position=[e[0],e[1]],this._textItem.anchor="center",!1}},{key:"createResources",value:function(){var e=this;this._textItem=new E({visible:!0}),this._textItem.text=Object(o.q)(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new w({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch("camera",(function(){e._updateLabelPosition()})))}},{key:"destroyResources",value:function(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}},{key:"updateVisibility",value:function(e){this._textItem.visible=this._showText&&e,this._calloutItem.visible=this._showCallout&&e}}]),i}(b.a);function A(e,t,i,n){e.eval(t,D,T),Object(h.e)(V,D,T),i.projectToRenderScreen(D,U),i.projectToRenderScreen(V,Y),Object(d.d)(n,Q,X),Object(d.e)(n,n)}function R(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}var D=Object(l.e)(),V=Object(l.e)(),T=Object(l.e)(),I=Object(c.d)(),G=Object(c.d)(),q=Object(c.d)(),H=Object(l.e)(),W=Object(c.e)(),B=Object(c.g)(),F=Object(c.g)(),U=Object(c.e)(),X=U,Y=Object(c.e)(),Q=Y,N={start:0,center:.5,end:1}},1246:function(e,t,i){"use strict";i.r(t),i.d(t,"DirectLineMeasurement3DView",(function(){return he}));var n=i(7),a=i.n(n),r=i(16),s=i(10),o=i(2),c=i(3),l=i(4),h=i(5),u=i(0),d=(i(14),i(6)),b=(i(12),i(17),i(1)),v=i(8),g=(i(11),i(18),i(19),i(31)),p=i(88),m=i(46),_=i(37),f=i(132),O=(i(127),i(26)),j=i(13),y=i(49),w=i(220),x=i(62),L=i(25),S=i(1057),k=i(34),C=i(221),P=i(980),z=i(623),E=i(941),M=i(1078),A=i(1052),R=i(1056),D=i(110),V=i(53),T=i(274),I=i(362),G=i(255),q=i(360),H=i(277),W=i(249),B=i(252),F=i(66),U=i(251),X=i(247),Y=i(109),Q=i(223),N=i(1077),J=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e,n){return Object(o.a)(this,i),t.call(this,e,n)}return Object(c.a)(i,[{key:"initializeProgram",value:function(e){var t=i.shader.get().build();return new X.a(e.rctx,t.generateSource("vertex"),t.generateSource("fragment"),U.a)}},{key:"bindPass",value:function(e,t,i){Q.a.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform1f("width",t.width),this.program.setUniform1f("outlineSize",t.outlineSize),this.program.setUniform4fv("outlineColor",t.outlineColor),this.program.setUniform1f("stripeLength",t.stripeLength),this.program.setUniform4fv("stripeEvenColor",t.stripeEvenColor),this.program.setUniform4fv("stripeOddColor",t.stripeOddColor)}},{key:"bindDraw",value:function(e){Q.a.bindView(this.program,e)}},{key:"initializePipeline",value:function(){return Object(Y.d)({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:Y.c,colorWrite:Y.b})}},{key:"primitiveType",get:function(){return 5}}]),i}(B.a);J.shader=new W.a(N.a,(function(){return i.e(237).then(i.bind(null,1228))}));var K=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(o.a)(this,i),(e=t.apply(this,arguments)).polygonOffsetEnabled=!1,e}return i}(F.a);Object(u.a)([Object(F.b)()],K.prototype,"polygonOffsetEnabled",void 0);var Z=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e,ee)).techniqueConfig=new K,n}return Object(c.a)(i,[{key:"getTechniqueConfig",value:function(){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig}},{key:"dispose",value:function(){}},{key:"getPassParameters",value:function(){return this.params}},{key:"intersect",value:function(){}},{key:"createBufferWriter",value:function(){return new oe}},{key:"getGLMaterial",value:function(e){return 0===e.output?new $(e):void 0}}]),i}(H.a),$=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).updateParameters(),n}return Object(c.a)(i,[{key:"updateParameters",value:function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(J,this.material.getTechniqueConfig(),this.technique)}},{key:"beginSlot",value:function(e){return 3===e}},{key:"bind",value:function(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}]),i}(q.a),ee=Object(s.a)({width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1},H.b),te=Object(G.a)().vec3f("position").vec3f("normal").vec2f("uv0").f32("auxpos1"),ie=Object(O.e)(),ne=Object(O.e)(),ae=Object(O.e)(),re=Object(O.e)(),se=Object(O.e)(),oe=function(){function e(){Object(o.a)(this,e),this.vertexBufferLayout=te}return Object(c.a)(e,[{key:"allocate",value:function(e){return this.vertexBufferLayout.createBuffer(e)}},{key:"elementCount",value:function(e){return 2*(e.indices.get("position").length/2+1)}},{key:"write",value:function(e,t,i,n){var a=t.vertexAttributes.get("position").data,r=t.vertexAttributes.get("normal").data,s=a.length/3,o=t&&t.indices&&t.indices.get("position");o&&o.length!==2*(s-1)&&console.warn("MeasurementArrowMaterial does not support indices");for(var c=ie,l=ne,h=ae,u=re,d=se,b=e.transformation,v=e.invTranspTransformation,g=i.position,p=i.normal,m=i.uv0,_=0,f=0;f<s;++f){var O=3*f;if(Object(j.v)(c,a[O],a[O+1],a[O+2]),f<s-1){var y=3*(f+1);Object(j.v)(l,a[y],a[y+1],a[y+2]),Object(j.v)(d,r[y],r[y+1],r[y+2]),Object(j.q)(d,d),Object(j.i)(h,l,c),Object(j.q)(h,h),Object(j.f)(u,d,h),Object(j.q)(u,u)}var w=Object(j.n)(c,l);b&&v&&(Object(j.l)(c,c,b),Object(j.l)(l,l,b),Object(j.l)(u,u,v));var x=n+2*f,L=x+1;g.setVec(x,c),g.setVec(L,c),p.setVec(x,u),p.setVec(L,u),m.set(x,0,_),m.set(x,1,-1),m.set(L,0,_),m.set(L,1,1),f<s-1&&(_+=w)}for(var S=i.auxpos1,k=0;k<2*s;++k)S.set(n+k,_)}}]),e}(),ce=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e))._parameters=le,n._handles=null,n._origin=Object(O.e)(),n._originTransform=Object(D.b)(),n._arrowCenter=Object(O.e)(),n._renderOccluded=4,n._geometry=null,n._stripeLength=1,n._stripesEnabled=!0,n.applyProps(e),n}return Object(c.a)(i,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}},{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this.geometryChanged()}},{key:"stripeLength",get:function(){return this._stripeLength},set:function(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}},{key:"stripesEnabled",get:function(){return this._stripesEnabled},set:function(e){if(this._stripesEnabled=e,this.attached){var t=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial.setParameterValues({stripeEvenColor:t})}}},{key:"createExternalResources",value:function(){var e=this,t=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial=new Z({outlineColor:this._parameters.arrowOutlineColor,stripeEvenColor:t,stripeOddColor:this._parameters.arrowStripeOddColor,renderOccluded:this.renderOccluded,polygonOffset:!0}),this._handles=new y.a,this._handles.add(this.view.state.watch("camera",(function(){e.viewChanged()})))}},{key:"destroyExternalResources",value:function(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}},{key:"forEachExternalMaterial",value:function(e){e(this._arrowMaterial)}},{key:"createGeometries",value:function(e){if(!(Object(d.j)(this._geometry)||Object(d.j)(this._geometry.startRenderSpace)||Object(d.j)(this._geometry.endRenderSpace))){var t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);e.addGeometry(t,this._arrowMaterial,this._originTransform),this.viewChanged()}}},{key:"_createArrowGeometry",value:function(e,t,i,n){var a=this.view.renderCoordsHelper,r=[],s=[],o=function(e,t){var n=V.d.get();Object(j.i)(n,e,i),r.push(n),s.push(t)};if("euclidean"===n.type){n.eval(.5,this._arrowCenter);var c=V.d.get();a.worldUpAtPosition(this._arrowCenter,c),o(e,c),o(t,c)}else{n.eval(.5,this._arrowCenter);for(var l=this._parameters.arrowSubdivisions+1&-2,h=0;h<l;++h){var u=h/(l-1),d=V.d.get(),b=V.d.get();n.eval(u,d),a.worldUpAtPosition(d,b),o(d,b)}}return T.a.createPolylineGeometry(r,s)}},{key:"geometryChanged",value:function(){this.recreateGeometry()}},{key:"viewChanged",value:function(){if(this.view.ready&&this.attached&&Object(d.k)(this._geometry)){var e=this.view._stage.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}}]),i}(I.a),le={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128},he=function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e))._params=Object(s.a)({},ve),n._handles=new y.a,n._segmentVisualElement=null,n._triangleVisualElement=null,n._rightAngleQuad=null,n._projectedGeodesicLine=null,n._geodesicStartHint=null,n._geodesicEndHint=null,n._segmentLabel=null,n._verticalLabel=null,n._horizontalLabel=null,n._segmentLabelDisplayedMeasurement="euclidean",n._startPosition=Object(O.e)(),n._endPosition=Object(O.e)(),n._cornerPosition=Object(O.e)(),n._startPositionAtSeaLevel=Object(O.e)(),n._endPositionAtSeaLevel=Object(O.e)(),n._viewMode="none",n._geometryDirty=!0,n.state="pending",n.messages=null,n._visualizedMeasurement="auto",n._actualVisualizedMeasurement="euclidean",n._visualElementOrientation="auto",n._triangleOrientationOverride=null,n._triangleCollapseRatioThreshold=.03,n._geodesicDistanceThreshold=1e5,n}return Object(c.a)(i,[{key:"initialize",value:function(){var e=this;this._handles.add(Object(L.j)(this.view,"ready",(function(){return e._initialize()}),!0))}},{key:"_initialize",value:function(){var e=this;switch(this.state){case"ready":throw new Error("invalid state");case"destroyed":return}this._segmentVisualElement=new ce({attached:!0,view:this.view,geometry:null,renderOccluded:4}),this._triangleVisualElement=new A.a({attached:!0,view:this.view,width:this._params.triangleLineWidth,color:this._params.triangleColor,renderOccluded:4}),this._rightAngleQuad=new z.a({attached:!0,view:this.view,color:be,renderOccluded:4}),this._projectedGeodesicLine=new A.a({attached:!0,view:this.view,width:this._params.geodesicProjectionLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:Object(P.c)(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicStartHint=new A.a({attached:!0,view:this.view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:Object(P.c)(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicEndHint=new A.a({attached:!0,view:this.view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:Object(P.c)(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._segmentLabel=new M.a({attached:!0,view:this.view,fontSize:this._params.direcLabelFontSize}),this._verticalLabel=new M.a({attached:!0,view:this.view,fontSize:this._params.verticalLabelFontSize}),this._horizontalLabel=new M.a({attached:!0,view:this.view,fontSize:this._params.horizontalLabelFontSize}),this._handles.add([this.dataObject.watch("visible",(function(){return e._update(!1)}),!0),this.dataObject.watch("startPoint",(function(){return e._update()}),!0),this.dataObject.watch("endPoint",(function(){return e._update()}),!0),this.dataObject.watch("measurement",(function(){return e._update()}),!0),this.dataObject.watch("settings.unit",(function(){e._updateLabels(),e._updateSegmentStripeLength()}),!0),this.view.state.watch("camera",(function(){return e._update()}),!0),Object(p.c)(Object(r.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._updateMessageBundle());case 1:case"end":return t.stop()}}),t)}))))]),this._set("state","ready"),this._updateMessageBundle(),this._update()}},{key:"whenReady",value:function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L.j)(this,"ready").then((function(){})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ready",get:function(){return"ready"===this.state}},{key:"viewMode",get:function(){return this._viewMode}},{key:"visualizedMeasurement",get:function(){return this._visualizedMeasurement},set:function(e){e!==this._visualizedMeasurement&&(this._visualizedMeasurement=e,this._update())}},{key:"actualVisualizedMeasurement",get:function(){return this._actualVisualizedMeasurement}},{key:"visualElementsOrientation",get:function(){return this._visualElementOrientation},set:function(e){e!==this._visualElementOrientation&&(this._visualElementOrientation=e,this._update())}},{key:"allowVisualElementsOrientationChange",get:function(){return Object(d.j)(this._triangleOrientationOverride)},set:function(e){Object(d.j)(this._triangleOrientationOverride)!==e&&(Object(d.j)(this._triangleOrientationOverride)?this._triangleOrientationOverride=this._getActualVisualElementsOrientation():(this._triangleOrientationOverride=null,this._update()))}},{key:"triangleCollapseRatioThreshold",get:function(){return this._triangleCollapseRatioThreshold},set:function(e){this._triangleCollapseRatioThreshold=e,this._update()}},{key:"geodesicDistanceThreshold",get:function(){return this._geodesicDistanceThreshold},set:function(e){this._geodesicDistanceThreshold=e,this._update()}},{key:"segmentLabel",get:function(){return this._segmentLabel}},{key:"horizontalLabel",get:function(){return this._horizontalLabel}},{key:"verticalLabel",get:function(){return this._verticalLabel}},{key:"testData",get:function(){var e="geodesic"===this.actualVisualizedMeasurement;return{labels:{direct:e?this.horizontalLabel:this.segmentLabel,horizontal:e?this.segmentLabel:this.horizontalLabel,vertical:this.verticalLabel},stripeLength:this._segmentVisualElement.stripeLength}}},{key:"_update",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(this.state){case"destroyed":case"pending":return}var t=this.dataObject.visible;switch(this._geometryDirty=e,this._geometryDirty&&t&&(this._updateGeometryAndViewMode(),this._geometryDirty=!1),this._viewMode){case"none":this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case"segment":this._segmentVisualElement.visible=t,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case"segment-and-triangle":this._segmentVisualElement.visible=t,this._triangleVisualElement.visible=t,this._rightAngleQuad.visible=t,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case"segment-and-projection":this._segmentVisualElement.visible=t,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}this._updateLabels()}},{key:"destroy",value:function(){switch(this.state){case"destroyed":case"pending":return}this._handles.destroy(),this._segmentVisualElement.destroy(),this._segmentVisualElement=null,this._triangleVisualElement.destroy(),this._triangleVisualElement=null,this._rightAngleQuad.destroy(),this._rightAngleQuad=null,this._projectedGeodesicLine.destroy(),this._projectedGeodesicLine=null,this._geodesicStartHint.destroy(),this._geodesicStartHint=null,this._geodesicEndHint.destroy(),this._geodesicEndHint=null,this._segmentLabel.destroy(),this._segmentLabel=null,this._verticalLabel.destroy(),this._verticalLabel=null,this._horizontalLabel.destroy(),this._horizontalLabel=null,this.set("view",null),this._set("state","destroyed")}},{key:"_updateGeometryAndViewMode",value:function(){var e=this.view,t=e.renderCoordsHelper;if(Object(d.j)(this.dataObject.startPoint)||Object(d.j)(this.dataObject.endPoint)||this.dataObject.startPoint.equals(this.dataObject.endPoint))return this._viewMode="none",void(this._actualVisualizedMeasurement="auto"===this._visualizedMeasurement?"euclidean":this._visualizedMeasurement);t.toRenderCoords(this.dataObject.startPoint,this._startPosition),t.toRenderCoords(this.dataObject.endPoint,this._endPosition);var i=this._getActualVisualElementsOrientation(),n=this._updateActualVisualizedMeasurement();this._viewMode=this._computeViewMode(n);var a=this._startPosition,r=this._endPosition,s="above-segment"===i?1:-1,o=s*(t.getAltitude(r)-t.getAltitude(a));o<0&&(a=this._endPosition,r=this._startPosition);var c="geodesic"===n?new R.b(this._startPosition,this._endPosition,t.spatialReference):new R.a(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=c,this._updateSegmentStripeLength(),this._segmentLabelDisplayedMeasurement=n,this._viewMode){case"segment":this._segmentLabel.anchor="above-segment"===i?"top":"bottom",this._segmentLabel.geometry={type:"segment",segment:c,sampleLocation:"center"};break;case"segment-and-triangle":var l=this._cornerPosition;t.worldUpAtPosition(a,l),Object(j.d)(l,l,s*Math.abs(o)),Object(j.e)(l,l,a),this._triangleVisualElement.geometry=[[[a[0],a[1],a[2]],[l[0],l[1],l[2]],[r[0],r[1],r[2]]]],this._rightAngleQuad.geometry={previous:a,center:l,next:r};var h=new R.a(a,l),u=new R.a(l,r),b=function(e,t,i,n,a){var r=pe,s=me;a.projectToRenderScreen(i,r),a.projectToRenderScreen(t,s);var o={segment:"bottom",horizontal:"top",vertical:r[0]<s[0]?"left":"right"},c=_e,l=fe;if(Object(E.e)(e,i,c,a),Object(E.e)(e,t,l,a),Object(k.g)(c,l)>=ge)o.segment=Object(m.r)(c[1])===Object(m.r)(l[1])?Object(M.b)(o.vertical):o.vertical;else{var h=Oe;Object(E.e)(i,t,h,a),Object(k.g)(h,l)>=ge&&(o.segment=Object(m.r)(h[0])===Object(m.r)(l[0])?Object(M.b)(o.horizontal):o.horizontal)}if("below-segment"===n){var u=function(e){return"top"===e?"bottom":"top"};o.segment=u(o.segment),o.horizontal=u(o.horizontal),o.vertical=u(o.vertical)}return o}(a,r,l,i,e.state.camera);this._segmentLabel.geometry={type:"segment",segment:c,sampleLocation:"center"},this._segmentLabel.anchor=b.segment,this._verticalLabel.geometry={type:"segment",segment:h,sampleLocation:"center"},this._verticalLabel.anchor=b.vertical,this._horizontalLabel.geometry={type:"segment",segment:u,sampleLocation:"center"},this._horizontalLabel.anchor=b.horizontal;break;case"segment-and-projection":Object(j.j)(this._startPositionAtSeaLevel,this._startPosition),Object(j.j)(this._endPositionAtSeaLevel,this._endPosition),t.setAltitude(0,this._startPositionAtSeaLevel),t.setAltitude(0,this._endPositionAtSeaLevel);var v=new R.b(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,t.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(v),this._geodesicStartHint.setGeometryFromSegment(new R.a(this._startPositionAtSeaLevel,this._startPosition)),this._geodesicEndHint.setGeometryFromSegment(new R.a(this._endPositionAtSeaLevel,this._endPosition)),this._segmentLabel.geometry={type:"segment",segment:v,sampleLocation:"center"},this._segmentLabel.anchor="above-segment"===i?"top":"bottom"}}},{key:"_updateLabels",value:function(){switch(this.state){case"pending":case"destroyed":return}var e=this.messages,t=this.dataObject.measurement;if(Object(d.j)(t)||!e)return this._segmentLabel.visible=!1,this._horizontalLabel.visible=!1,void(this._verticalLabel.visible=!1);var i={verticalDistance:"",horizontalDistance:"",euclideanDistance:"",geodesicDistance:""},n=t.directDistance,a=t.horizontalDistance,r=t.verticalDistance,s=t.geodesicDistance,o=t.geodesicAngle;switch(this.dataObject.settings.unit){case"metric":i.euclideanDistance=n&&Object(S.e)(e,n),i.horizontalDistance=a&&Object(S.e)(e,a),i.verticalDistance=r&&Object(S.f)(e,r),i.geodesicDistance=s&&Object(S.e)(e,s);break;case"imperial":i.euclideanDistance=n&&Object(S.c)(e,n),i.horizontalDistance=a&&Object(S.c)(e,a),i.verticalDistance=r&&Object(S.d)(e,r),i.geodesicDistance=s&&Object(S.c)(e,s);break;case"degrees":var c=o&&Object(S.b)(e,o,"degrees");i.euclideanDistance=c,i.horizontalDistance=c,i.geodesicDistance=c;break;case"degrees-minutes-seconds":i.horizontalDistance=o&&Object(S.a)(o);break;default:var l=this.dataObject.settings.unit;i.euclideanDistance=n&&Object(S.b)(e,n,l),i.horizontalDistance=a&&Object(S.b)(e,a,l),i.verticalDistance=r&&Object(S.b)(e,r,l),i.geodesicDistance=s&&Object(S.b)(e,s,l)}this._segmentLabel.text="euclidean"===this._segmentLabelDisplayedMeasurement?i.euclideanDistance:i.geodesicDistance,this._horizontalLabel.text=i.horizontalDistance,this._verticalLabel.text=i.verticalDistance;var h=this.dataObject.visible;switch(this._viewMode){case"none":this._segmentLabel.visible=!1,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1;break;case"segment":this._segmentLabel.visible=h,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1;break;case"segment-and-triangle":this._segmentLabel.visible=h,this._horizontalLabel.visible=h,this._verticalLabel.visible=h;break;case"segment-and-projection":this._segmentLabel.visible=h,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1}this.notifyChange("segmentLabel"),this.notifyChange("horizontalLabel"),this.notifyChange("verticalLabel")}},{key:"_updateSegmentStripeLength",value:function(){var e=function(e,t){var i=null;if(Object(d.k)(t.measurement)){var n=t.measurement.directDistance;switch(t.settings.unit){case"metric":i=n&&n.toUnit("meters");break;case"imperial":i=n&&n.toUnit(Object(x.s)(n.value,n.unit));break;case"degrees":case"degrees-minutes-seconds":var a=t.measurement.geodesicAngle;i=a&&a.toUnit("degrees");break;default:i=n&&n.toUnit(t.settings.unit)}}if(i){var r=1;return r=Object(m.n)(i.value/30),r*="degrees"===i.unit?Object(w.e)(e.spatialReference).metersPerDegree:Object(x.c)(1,i.unit,"meters")}return null}(this.view,this.dataObject);Object(d.k)(e)?(this._segmentVisualElement.stripeLength=e,this._segmentVisualElement.stripesEnabled=!0):this._segmentVisualElement.stripesEnabled=!1}},{key:"_computeViewMode",value:function(e){var t=this.dataObject,i=t.measurement;if("geodesic"===e){if(!ue(t,this.geodesicDistanceThreshold))return"segment";if(de(this.view,this._startPosition)||de(this.view,this._endPosition))return"segment-and-projection"}return Object(d.j)(i)||Math.min(i.verticalDistance.value/i.horizontalDistance.value,i.horizontalDistance.value/i.verticalDistance.value)<this.triangleCollapseRatioThreshold?"segment":"segment-and-triangle"}},{key:"_getActualVisualElementsOrientation",value:function(){return Object(d.k)(this._triangleOrientationOverride)?this._triangleOrientationOverride:"auto"===this.visualElementsOrientation?this.view.state.camera.aboveGround?"above-segment":"below-segment":this.visualElementsOrientation}},{key:"_updateActualVisualizedMeasurement",value:function(){if("auto"===this._visualizedMeasurement){this._actualVisualizedMeasurement="euclidean";var e=this.dataObject.settings.unit;"degrees"!==e&&"degrees-minutes-seconds"!==e||(this._actualVisualizedMeasurement="geodesic"),ue(this.dataObject,this.geodesicDistanceThreshold)&&(this._actualVisualizedMeasurement="geodesic")}else this._actualVisualizedMeasurement=this._visualizedMeasurement;return this._actualVisualizedMeasurement}},{key:"_updateMessageBundle",value:function(){var e=this;Object(f.a)("esri/core/t9n/Units").then((function(t){e.messages=t,e.view&&e._updateLabels()}))}}]),i}(g.a);function ue(e,t){return Object(d.k)(e.measurement)&&e.measurement.horizontalDistance&&e.measurement.horizontalDistance.value>t}function de(e,t){if(!e.state)return!1;var i=e.state.camera,n=e.renderCoordsHelper,a=i.computeScreenPixelSizeAt(t);return n.getAltitude(t)/a>=10}Object(u.a)([Object(b.b)({readOnly:!0})],he.prototype,"state",void 0),Object(u.a)([Object(b.b)()],he.prototype,"ready",null),Object(u.a)([Object(b.b)()],he.prototype,"messages",void 0),Object(u.a)([Object(b.b)()],he.prototype,"view",void 0),Object(u.a)([Object(b.b)()],he.prototype,"dataObject",void 0),Object(u.a)([Object(b.b)()],he.prototype,"viewMode",null),Object(u.a)([Object(b.b)()],he.prototype,"segmentLabel",null),Object(u.a)([Object(b.b)()],he.prototype,"horizontalLabel",null),Object(u.a)([Object(b.b)()],he.prototype,"verticalLabel",null),he=Object(u.a)([Object(v.a)("esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DView")],he);var be=Object(C.c)(1,.5,0,.75),ve={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:be,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:be,guideLineWidth:2,guideLineColor:be,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12},ge=Math.cos(Object(m.f)(12)),pe=Object(_.e)(),me=Object(_.e)(),_e=Object(_.d)(),fe=Object(_.d)(),Oe=Object(_.d)()}}]);
//# sourceMappingURL=66.851812a7.chunk.js.map