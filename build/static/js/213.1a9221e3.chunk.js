(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[213],{818:function(e,r,t){"use strict";t.r(r),t.d(r,"clearBoundingBoxCache",(function(){return w})),t.d(r,"computeIconLayerResourceSize",(function(){return O})),t.d(r,"computeLayerResourceSize",(function(){return j})),t.d(r,"computeLayerSize",(function(){return k})),t.d(r,"computeObjectLayerResourceSize",(function(){return L}));var n=t(7),u=t.n(n),c=t(16),a=t(6),i=t(20),o=t(54),s=t(569),p=t(161),f=(t(14),t(26));function l(e,r){var t=r.isPrimitive,n=r.width,u=r.depth,c=r.height,a=t?10:1;if(null==n&&null==c&&null==u)return[a*e[0],a*e[1],a*e[2]];for(var i,o=Object(f.g)(n,u,c),s=0;s<3;s++){var p=o[s];if(null!=p){i=p/e[s];break}}for(var l=0;l<3;l++)null==o[l]&&(o[l]=e[l]*i);return o}var b=Object(p.l)(-.5,-.5,-.5,.5,.5,.5),h=Object(p.l)(-.5,-.5,0,.5,.5,1),y=Object(p.l)(-.5,-.5,0,.5,.5,.5);function d(e){switch(e){case"sphere":case"cube":case"diamond":return b;case"cylinder":case"cone":case"inverted-cone":return h;case"tetrahedron":return y;default:return}}var m=v();function v(){return new s.a(50)}function w(){m=v()}function j(e,r){if("icon"===e.type)return O(e,r);if("object"===e.type)return L(e,r);throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function k(e,r){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(u.a.mark((function e(r,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("icon"!==r.type){e.next=2;break}return e.abrupt("return",g(r,t));case 2:if("object"!==r.type){e.next=4;break}return e.abrupt("return",S(r,t));case 4:throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,r){return z.apply(this,arguments)}function z(){return(z=Object(c.a)(u.a.mark((function e(r,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.resource.href){e.next=2;break}return e.abrupt("return",B(r.resource.href).then((function(e){return[e.width,e.height]})));case 2:if(!r.resource.primitive){e.next=4;break}return e.abrupt("return",Object(a.k)(t)?[t,t]:[256,256]);case 4:throw new i.a("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,r){return O(e,r).then((function(r){if(null==e.size)return r;var t=r[0]/r[1];return t>1?[e.size,e.size/t]:[e.size*t,e.size]}))}function B(e){return Object(o.default)(e,{responseType:"image"}).then((function(e){return e.data}))}function L(e,r){return function(e,r){return I.apply(this,arguments)}(e,r).then((function(e){return Object(p.t)(e)}))}function S(e,r){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(u.a.mark((function e(r,t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(r,t);case 2:return n=e.sent,e.abrupt("return",l(n,r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(c.a)(u.a.mark((function e(r,n){var c,o,s,f,l,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isPrimitive){e.next=11;break}if(c=r.resource.href,void 0===(o=m.get(c))){e.next=4;break}return e.abrupt("return",Promise.resolve(o));case 4:return e.next=6,t.e(50).then(t.bind(null,1232));case 6:return s=e.sent,e.next=9,s.fetch(c,{disableTextures:!0});case 9:return f=e.sent,e.abrupt("return",(m.put(c,f.referenceBoundingBox),f.referenceBoundingBox));case 11:if(l=null,r.resource&&r.resource.primitive&&(l=Object(p.d)(d(r.resource.primitive)),Object(a.k)(n)))for(b=0;b<l.length;b++)l[b]*=n;return e.abrupt("return",l?Promise.resolve(l):Promise.reject(new i.a("symbol:invalid-resource","The symbol does not have a valid resource")));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=213.1a9221e3.chunk.js.map