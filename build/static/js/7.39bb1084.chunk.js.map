{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js"],"names":["L","i","e","r","this","_viewUp","s","_viewForward","_viewRight","_ray","z","createWrapper","_viewport","S","_padding","_fov","Math","PI","_nearFar","V","_viewDirty","_viewMatrix","F","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","H","create","_fullViewport","T","pixelRatio","relativeElevation","_eye","t","h","_center","_up","n","_compareAndSetView","origin","eye","direction","o","center","_ensureViewClean","x","y","width","height","fullWidth","fullHeight","k","D","projectionMatrix","viewMatrix","near","tan","fovY","aspect","j","far","W","G","X","Y","a","_recomputeFrustum","M","R","fovX","perRenderPixelRatio","_","I","copy","up","copyFrom","p","b","U","abs","fov","u","B","J","v","c","w","max","A","padding","viewport","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","E","viewForward","perScreenPixelRatio","min","length","setViewport","q","C","d","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","N","computeUpGlobal","computeUpLocal","l","markViewDirty","f","g","m","fromMatrix","P","builder","vertex","uniforms","add","code","bindPassUniforms","setUniform1f","camera","screenSize","include","linearDepth","fragment","attributes","varyings","multipassTerrainEnabled","screenSizeEnabled","shadingEnabled","float","output","OITEnabled","Object","freeze","__proto__","build","options","results","transform","performanceInfo","queryDuration","numObjectsTested","tolerance","verticalOffset","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","viewingMode","resetWithRay","fromPoints","_numObjectsTested","init","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","selectionMode","hud","forEachDegenerateObject","getObjects","forAll","sortResults","geometryRecords","id","transformation","geometry","material","instanceParameters","setAndInvalidateLazyTransforms","getShaderTransformation","inverse","objectTransform","intersect","dist","set","drapedLayerOrder","store","all","push","shaderTransformation","sort","Number","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","DEFAULT_TOLERANCE","shader","get","configuration","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","transparencyPassType","cullAboveGround","rctx","generateSource","color","shadingTint","shadingDirection","bindProjectionMatrix","program","setUniform4fv","setUniform2fv","nearFar","inverseViewport","blendColor","setUniform3fv","setUniformMatrix4fv","viewInverseTransposeMatrix","bindView","bindCamPosition","bindUniformsWithOrigin","blending","transparent","culling","face","mode","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","setPipelineState","arguments","count","prototype","position","normal","offset","supportsEdges","techniqueConfig","_vertexAttributeLocations","params","vertexAttributes","applyToVertex","data","computeRenderPixelSizeAt","applyToAabb","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","bindProgram","bindPass","getPassParameters","vec3f","vertexBufferLayout","createBuffer","indices","invTranspTransformation","has","Error","size","getField","Z","idHint","_elevation","override","collisionType","type","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","spatialReference","view","state","_removeResourcesFromStage","_elevationInfo","_updateEngineObject","slice","remove","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","ie","radius","fromRenderCoords","emit","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","ae","available","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ee","fromScreen","se","closestRayDistance2","Q","oe","re","fromPositionAndNormal","te","ne","intersectRay","_calculateModelTransformPosition","distance2","manipulator3D","_stage","engineLayerId","isPickable","getObject","engineLayerReferences","materialIdReferences","Map","ce","extent","elevationInfo","elevationProvider","_getFocusedSize","focused","_ensureEngineResources","objectsByState","selected","stateMask","objects","setVisible","commit","Set","renderObjects","forEach","castShadow","Array","isArray","addGeometry","layer","materials","_addResourcesToStage","removeMany","delete","$","O","isVisible","areAnyResourcesVisible","screenStart","screenEnd","renderStart","renderEnd","plane","ray","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","toMap","next","worldUpAtPosition","projectPoint","execute","disableDisplay","requiresGroundFeedback","enableDraped","exclude","map","ground","opacity","intersectIntersectorScreen","getIntersectionPoint","intersector","surfaceType","renderOccluded","createSphereGeometry","atan2","getViewForGraphic","computeAttachmentOrigin","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","_transform","_transformInverse","value","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","update","dirty","hasIntersectionPoint","target","name","geometryId","triangleNr","obj","metadata","layerUid","findLayerByUid","createGraphic","graphicsView","graphics3d","graphics","getGraphicFromGraphicUid","graphicUid","allLayerViews","find","suspended","getGraphicFromIntersectorMetadata","tmpVertex","localOrigin","sqrt","componentLocalOriginLength","mbs","obb","halfSize","quaternion","sphere"],"mappings":"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","file":"static/js/7.39bb1084.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as f,n as g}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t.fov-this._fov)>=.001)return!1;const i=5e-4,e=1-1e-10;u(B,t.eye,t.center),u(J,this._eye,this._center);const r=v(B,J),s=c(B),h=c(J);return r*r>=e*s*h&&w(t.eye,this._eye)<Math.max(s,h)*i*i&&A(t.padding,this._padding)<.5&&A(t.viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(f(this.up,B,this.center),f(this.up,this.up,B),g(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),g(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){function r(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)}function o(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}i.builder=r,i.bindPassUniforms=o}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function t(t){const c=new i;return c.include(r,{linearDepth:!1}),c.include(s.builder,{}),c.include(a,t),c.fragment.include(o),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),c.vertex.code.add(e`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(d),c.include(n,t)),c.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):c.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),c.fragment.code.add(e`\n      if (finalColor.a < ${e.float(l)}) {\n        discard;\n      }\n      ${7===t.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i}from\"../../../../chunks/vec3.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as n}from\"../materials/renderers/utils.js\";import{IntersectorOptions as o,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";const f=1e-5;class m{constructor(t){this.options=new o,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=f,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,i,e,a,n){this.point=s,this.camera=i,this.filterPredicate=a,this.tolerance=null==e?f:e;const o=c(this.verticalOffset),h=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const d of r){const r=d.getSpatialQueryAccelerator&&d.getSpatialQueryAccelerator();t(r)?(t(o)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,o):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h)):d.getObjects().forAll((t=>h(t)))}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,o=r.transformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(n(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(o,c.getShaderTransformation()),i(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),i(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,i,n,o,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;const f=`Object3D ${a}`;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,f,s,i,e,o,c,h,n));const m=t=>t.set(r,f,s,i,u,o,null,h,n);if((null==this.results.min.drapedLayerOrder||o>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&m(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||o<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&m(this.results.max),2===this.options.store){const t=new l(this._ray);m(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}m.DEFAULT_TOLERANCE=f;export{m as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as s,defaultDepthWriteParams as l,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as d}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as c}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as b}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ScreenSizeScaling as f}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as v}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),T)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:a,shadingTint:n,shadingDirection:s}=r;d.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",a),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",i.inverseViewport),b(this.program,e,i)),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(S,n,a)),this.program.setUniform3fv(\"shadingDirection\",s),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&f.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){d.bindView(this.program,e),d.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),c.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e,o=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return s({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:o(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:u(e),colorWrite:p,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(v,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class E extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([a({count:8})],E.prototype,\"output\",void 0),e([a({count:3})],E.prototype,\"cullFace\",void 0),e([a()],E.prototype,\"slicePlaneEnabled\",void 0),e([a()],E.prototype,\"transparent\",void 0),e([a()],E.prototype,\"writeDepth\",void 0),e([a()],E.prototype,\"screenSizeEnabled\",void 0),e([a()],E.prototype,\"shadingEnabled\",void 0),e([a({count:4})],E.prototype,\"transparencyPassType\",void 0),e([a()],E.prototype,\"multipassTerrainEnabled\",void 0),e([a()],E.prototype,\"cullAboveGround\",void 0);const T={position:0,normal:1,offset:2},S=r();export{y as ShadedColorMaterialTechnique,E as ShadedColorMaterialTechniqueConfiguration,T as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import{assert as c}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as l,materialParametersDefaults as p}from\"../lib/Material.js\";import{writeDefaultAttributes as m,writePosition as d}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends l{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,u,c,h,l){if(this.params.screenSizeEnabled){const a=e.vertexAttributes.get(\"offset\"),p={applyToVertex:(e,t,n,o)=>{const c=r(S,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(x,e,t,n);return i(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),s(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,S);return o(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};f(e,t,u,c,h,p,l)}else f(e,t,u,c,h,void 0,l)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class E extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(q,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...p};class P{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(m(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),n=t.indices.get(\"offset\");c(3===s.size);const o=r.getField(\"offset\",a);if(!o)throw new Error(\"unable to acquire view for offset\");d(n,s.data,e.invTranspTransformation,o,i)}}}}const S=e(),x=e();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as n}from\"../../../core/maybe.js\";import{once as o}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalPCPFtoLonLatElevation as P,computeLatLonToENURotation as F}from\"../../../geometry/projection.js\";import{a as z}from\"../../../chunks/mat3f64.js\";import{a as k}from\"../../../chunks/mat4f64.js\";import{f as I}from\"../../../chunks/mat3.js\";import{j as M}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as C}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as W,lineSegment as V}from\"../support/geometryUtils.js\";import{Object3D as H}from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import{WebGLLayer as N}from\"../webgl-engine/lib/WebGLLayer.js\";class Z{constructor(e){this.idHint=0,this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=k(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:o((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=k()),J(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(ae);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const n=d(t,K),o=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(M(this.screenLocation.screenPointArray,n)<o*o)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,ee),a=o*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,n,X);if(i(c))return null;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],s);for(let t=1;t<i.length;t++){const n=p(se,i[t],s),o=V.closestRayDistance2(V.fromPoints(e,n,Q),c);if(null!=o&&o<a*a){const t=m(x.get(),e,n);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,n)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,ee),l=o*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,n,X);if(i(h))return null;const d=I(Y,c),_=f(oe,e,d),u=p(re,t,c);W.fromPositionAndNormal(u,_,te);const m=ne;if(W.intersectRay(te,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,ee),c=o*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,n,X);if(i(l))return null;const h=I(Y,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(re);W.fromPositionAndNormal(u,d,te);const g=ne;if(!W.intersectRay(te,l,g))break;for(const i of e){if(0===i.length)continue;const e=p(ie,i[0],a);for(let t=1;t<i.length;t++){const s=p(se,i[t],a),n=V.distance2(V.fromPoints(e,s,Q),g);if(null!=n&&n<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const s=e.manipulator3D;if(i(s.engineLayerId)){const e=new N({isPickable:!1});this.view._stage.add(e),s.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(s.engineLayerId));s.engineLayerReferences=(s.engineLayerReferences||0)+1,this._materialIdReferences=s.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,s.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ce,e.spatialReference),E(e.extent,ce)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,n=0;const o=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=s(C(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":n=s(C(this.view.elevationProvider,e,\"ground\"),0)+o;break;case\"relative-to-scene\":n=s(C(this.view.elevationProvider,e,\"scene\"),0)+o;break;case\"absolute-height\":n=o}return(n!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=n,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),i=ee;if(!0===this.autoScaleRenderObjects){const t=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(t,i)}else this._calculateObjectTransform(e,i);const{objectsByState:s}=this._ensureEngineResources(),n=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:t,objects:r}of s){if(o){for(const e of r)e.setVisible(!1);continue}const e=!(0!=(15&t))||(n&t)==(15&t),s=!(0!=(65520&t))||(this.state&t)==(65520&t);if(e&&s)for(const t of r)t.setVisible(!0),t.transformation=i;else for(const t of r)t.setVisible(!1)}t(this._engineLayer)&&this._engineLayer.commit()}_ensureEngineResources(){if(i(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:n}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,n))):e.addGeometry(i,s,n)},o=new Map;this._renderObjects.forEach((e=>{const t=new H({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>e.forEach((e=>{t.add(e),this.view._stage.add(e)})))),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:o}=this._engineResources;t.forEach((({objects:e})=>{s.removeMany(e),this.view._stage.removeMany(e)})),o.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(s),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,$);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function J(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);return P(t,0,ie,0,s.radius),F(c(ie[1]),c(ie[0]),i),!0}}}const K=l(),Q=V.create(),X=B.create(),Y=z(),$=k(),ee=k(),te=W.create(),ie=u(),se=u(),ne=u(),oe=u(),re=u(),ae=u(),ce=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import{sign as t}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{g as a,l as i,f as u,d,a as m,b as p,c as f}from\"../../../../chunks/vec3.js\";import{projectPoint as S}from\"../../../../geometry/projection.js\";import{getZForElevationMode as g,getGraphicEffectiveElevationInfo as y}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as j,plane as x,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as w}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as I}from\"../../../interactive/dragEventPipeline.js\";function C(n,t){const c=l(),a=l();let i=!1;return l=>{if(\"start\"===l.action){const r=o(l.screenStart,s(E.get())),a=j.fromScreen(n.state.camera,r,G);e(a)&&(i=x.intersectRay(t,a,c))}if(!i)return null;const u=o(l.screenEnd,s(E.get())),d=j.fromScreen(n.state.camera,u,G);return r(d)?null:x.intersectRay(t,d,a)?{...l,renderStart:c,renderEnd:a,plane:t,ray:d}:null}}function H(n,t,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),t,o,l),e(a)&&e(s)&&!S(a,a,s)))return null;if(r(a))return null;const u=n.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),t,o,l);return e(u)?e(s)&&!S(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function P(e,r,n,t=null,o=null){return H(e,n,g(r,e,n),t,o)}function R(e,r,n,t=null,o=null){return P(e,n,y(r),t,o)}function U(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?R(n,t,s,o):null}function k(e,r){const n=D,t=q,o=x.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=f(o,n,u(t,r,e.state.camera.eye));return f(s,s,n),x.fromPositionAndNormal(r,s,o)}function h(e,r,n){let t=null;const o=new I;return o.next(C(e,k(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=l(),o=i(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=l(),c=l(),f=s=>{if(u(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){i(s)*t(d(n,s))<.001-o&&u(s,m(s,n,.001),r)}return p(s,s,r),s};return e=>(e.renderStart=f(a(s,e.renderStart)),e.renderEnd=f(a(c,e.renderEnd)),e)}function A(r,n){const t=r.renderCoordsHelper;return r=>{const o=t.fromRenderCoords(r.renderStart,n),s=t.fromRenderCoords(r.renderEnd,n);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(t,s=null){const a=new w(t.state.mode);a.options.selectionMode=!0,a.options.store=0;const i=c(),u={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},d=l(),m=n(s,t.spatialReference),p=e=>{t.map.ground&&t.map.ground.opacity<1?u.exclude.add(v):u.exclude.delete(v),t.sceneIntersectionHelper.intersectIntersectorScreen(o(e,i),a,u);const r=a.results.min;let n;if(r.getIntersectionPoint(d))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!a.results.ground.getIntersectionPoint(d))return null;n=0}return{location:t.renderCoordsHelper.fromRenderCoords(d,m),surfaceType:n}};let f;return n=>{if(\"start\"===n.action){const r=p(n.screenStart);f=e(r)?r.location:null}if(r(f))return null;const t=p(n.screenEnd);return e(t)&&e(t.location)?{...n,mapStart:f,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=l(),q=l(),G=j.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,P as screenToMapXYAtLocation,U as screenToMapXYForGraphic,R as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import{ColorMaterial as g}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as f}from\"./Manipulator3D.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new h({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new g({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new f({view:e,renderObjects:[{geometry:l.createSphereGeometry(1,32,32),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=b(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function k(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:v(r,n.geometry)}function v(e,r){if(t(r))return;const n=p(r);t(n)||(e.location=u(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,k as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as L}from\"../../../../chunks/sphere.js\";import{e as x}from\"../../../../chunks/boundedPlane.js\";import{ray as M}from\"../../support/geometryUtils.js\";import{Object3D as q}from\"./Object3D.js\";function I(t){return(s,r,e)=>(a(X,s,r,e),!x(t,X))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=M.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Y,this.ray.direction,this.dist),h(Y)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Y,this.ray.direction,this.dist),o(t,this.ray.origin,Y),!0)}getTransformedNormal(t){return c(Z,this.normal),Z[3]=0,z(Z,Z,this.transformation),c(t,Z),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?M.copy(t,this._ray):this._ray=M.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof q&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){M.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return P(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return N(this.target);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.graphics3d.layer.id?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?F(n,e):null}function F(t,s){return!t||t.suspended?null:\"getGraphicFromIntersectorMetadata\"in t&&s?t.getGraphicFromIntersectorMetadata(s):\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid?t.getGraphicFromGraphicUid(s.graphicUid):null}function P(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}function N(t){return t.metadata.createGraphic()}class A{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class B{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:_(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O($,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,$),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class D{constructor(t=0){this.offset=t,this.sphere=L(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.sphere[0]=t[0]+t[0]*r,this.sphere[1]=t[1]+t[1]*r,this.sphere[2]=t[2]+t[2]*r,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const C=new D;function E(t){return s(t)?(C.offset=t,C):null}const H=new B;function J(t){return s(t)?(H.offset=t,H):null}const K=new A;function Q(t){return s(t)?(K.offset=t,K):null}const W=\"terrain\",X=e(),Y=e(),Z=S(),$=v();export{B as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,D as Object3DVerticalOffsetGlobalViewingMode,W as TERRAIN_ID,A as TerrainVerticalOffsetGlobalViewingMode,J as getVerticalOffsetI3S,E as getVerticalOffsetObject3D,Q as getVerticalOffsetTerrain,I as sliceFilterPredicate};\n"],"sourceRoot":""}