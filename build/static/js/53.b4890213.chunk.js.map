{"version":3,"sources":["../node_modules/@arcgis/core/chunks/CheckerBoard.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/UnitNormalizer.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/CheckerBoardMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DController.js","../node_modules/@arcgis/core/views/3d/interactive/graphics/AreaMeasurement3D.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/measurementUtils.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurementPathHelper.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/MeasurementData.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DModel.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D/AreaMeasurement3DViewModel.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D.js","../node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","../node_modules/@arcgis/core/core/Quantity.js"],"names":["o","t","a","extensions","add","attributes","vertex","uniforms","varyings","multipassTerrainEnabled","code","e","fragment","include","i","d","r","OITEnabled","Object","freeze","__proto__","build","_","s","this","startRenderSpace","endRenderSpace","type","n","c","u","push","worldUpAtPosition","eval","m","get","points","normals","f","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","h","R","p","l","toUnit","value","measure","Error","unit","b","g","spatialReference","_spatialReference","_updateNormalizationFactors","_metersPerDistanceUnit","_metersPerElevationUnit","_squareMetersPerAreaUnit","length","Array","isArray","vnodeSelector","properties","children","text","toString","domNode","hasOwnProperty","startX","startY","endX","endY","width","color","visible","_set","calculateCoordinates","height","left","top","x1","x2","y1","y2","strokeStyle","lineCap","classes","styles","visibility","style","lineWidth","beginPath","moveTo","lineTo","stroke","Math","min","max","prototype","readOnly","bottom","center","right","x","y","fontSize","anchor","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","floor","padding","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","fill","_renderTextShadow","fillText","lineJoin","arcTo","closePath","cos","PI","sin","view","_handles","_textItem","_calloutItem","_showCallout","_showText","_geometry","_text","_fontSize","_distance","_anchor","applyProps","_updateLabelPosition","attached","textItem","overlay","overlaps","geometry","_stage","_computeLabelPositionFromPoint","k","position","_computeLabelPositionFromCorner","z","_updatePosition","_computeLabelPositionFromSegment","updateVisibility","renderCoordsHelper","toRenderCoords","L","camera","projectToRenderScreen","renderToScreen","w","P","T","j","pixelRatio","segment","H","sampleLocation","abs","startPosition","endPosition","v","items","addMany","state","watch","destroyed","removeMany","removeAll","I","S","C","M","V","F","start","end","shader","configuration","transparencyPassType","cullAboveGround","rctx","generateSource","bindProjectionMatrix","program","projectionMatrix","setUniform2fv","size","setUniform4fv","color1","color2","nearFar","inverseViewport","bindView","blending","transparent","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","factor","units","setPipelineState","arguments","count","techniqueConfig","params","output","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","material","getTechniqueConfig","bindProgram","bindPass","getPassParameters","_checkerBoardMaterial","_renderOccluded","_size","_color1","_color2","updateMaterial","geometryChanged","setParameterValues","renderOccluded","transform","forEach","uv","data","exclusive","triangleIndices","addGeometry","recreateGeometry","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","handleRadiusHovered","handleRadiusMouse","handleRadiusTouch","pathLineColor","pathLineWidth","intersectingLineColor","perimeterLineColor","perimeterLineWidth","projectionLineColor","projectionLineWidth","projectionLineStippleSize","areaColor1","areaColor2","fillColor","lineSubdivisions","labelDistance","_model","_manipulators","vertexManipulators","_visible","_path","_intersectedPath","_perimeter","_intersectedPerimeter","_projectionLines","_laserLine","_measurementArea","_areaLabel","_pathLengthLabel","_cursorSegmentLengthLabel","_perimeterLengthLabel","_cursorManipulator","_pathSegments","_perimeterSegments","_cursorSegment","_listenerHandles","_origin","_originTransform","_tempHandlePosition","_cursorPositionRenderSpace","_view","sceneView","_params","_intersector","mode","options","store","available","radius","interactive","stipplePattern","stippleIntegerRepeats","glowColor","glowWidth","glowFalloff","innerColor","innerWidth","globalAlpha","hide","destroy","active","show","testData","labels","area","pathLength","cursorSegmentLength","perimeterLength","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","_initializeListeners","_updateAll","viewData","_destroyListeners","_removeVertexManipulator","manipulator","cursor","intersect","metadata","screenPoint","sceneIntersectionHelper","intersectToolIntersectorScreen","results","getIntersectionPoint","PickResult","fromRenderCoords","intersector","positionsRenderCoords","_updateOrigin","_updatePathSegments","_updatePerimeterSegments","_updateVertexManipulators","_updateArea","_updateProjectionLines","_updateLabels","_updateLaserLine","path","measurementMode","validMeasurement","numVertices","intersectingSegments","has","all","nonIntersecting","intersecting","_createSegments","cursorPoint","setGeometryFromSegments","id","remove","vertices","_createVertexManipulator","renderLocation","location","_updateAreaEuclidean","_updateAreaGeodesic","positionsProjected","positionsFittedRenderCoords","checkerSize","areaCentroid","areaLabel","pathLengthLabelSegmentIndex","distance","pathLengthLabel","cursorSegmentLengthLabel","_updatePerimeterLabel","perimeterLengthLabel","perimeterLengthLabelSegmentIndex","lastDraggedVertex","getVertexPositionAsPoint","lastPoint","_getFocusPoint","_handleGeometry","createSphereGeometry","PickRequest","scenePoint","mapPoint","pointerType","button","_tempPickRequest","model","reset","_setupManipulators","_handleImmediateClick","_handlePointerMove","_handleDrag","_handleKeyDown","action","manipulatorToVertex","next","screenToMap3D","mapEnd","setVertexPosition","events","on","finishMeasurement","stopPropagation","item","_addVertexAt","vertexHandleAt","index","_hoverAt","key","requiresCursorPoint","_pick","pick","result","clone","editGeometry","pos","originalPosition","_apply","updatedVertices","operation","emit","components","unnormalizeVertexPositions","_dirty","_version","_internalGeometryChange","_initialize","_updateEditGeometryFromModelGeometry","_editGeometry","fromGeometry","viewingMode","toPolygon","forEachVertex","initialized","getLastVertex","coordinateHelper","createPoint","getVertex","iterateVertices","toPoint","fromPoint","apply","boundingSphere","sqrt","bestFitPlane","planePointDistance","segmentLengthEuclidean","segmentLengthGeodesic","segmentLengthGeodesicVector","triangleAreaEuclidean","triangleAreaGeodesic","setPoint","tangentFrame","fitHemisphere","E","compareSets","rings","WGS84","G","Float64Array","positionsWorldCoords","positionsProjectedWorldCoords","positionsGeographic","positionsSpherical","positionsStereographic","pathSegmentLengths","geodesicPathSegmentLengths","perimeterSegmentLengths","Set","geodesicIntersectingSegments","areaCentroidWorldCoords","areaCentroidRenderCoords","geodesicAreaCentroidRenderCoords","_length","_centroidRenderCoords","_planeWorldCoords","_worldUp","_worldTangent","_frame","_pathVersion","_validMeasurement","_tempU","_tempV","_tempVec3","_tempSphere","version","_resize","forEachVertexPosition","_updatePathLengths","A","normalizeDistance","_updateGeodesicPathLengths","geodesicPathLength","geodesicArea","geodesicTriangleIndices","clear","_updateGeodesicArea","worldBasisAtPosition","fittingMode","_selectFittingMode","getAltitude","W","U","_updatePerimeterLengths","_updateIntersectingSegments","normalizeArea","_computeArea","_updateGeodesicIntersectingSegments","_computeGeodesicArea","Uint32Array","map","reduce","maxRelativeErrorCoplanar","maxRelativeErrorAlmostCoplanar","verticalAngleThreshold","_unitNormalizer","_measurementData","dataObject","D","fittingSettings","geodesicMeasurementDistanceThreshold","then","messages","_worldSpatialReference","notifyChange","_updateMeasurementData","update","measurementData","_formatAreaLabel","_formatLengthLabel","geodesicCursorSegmentLength","_toPreferredAreaUnit","clearMeasurement","_deriveLengthUnitFromAreaUnit","_preferredAreaUnit","_preferredLengthUnit","constructOnly","deferCreation","manipulators","_controller","complete","create","detach","handleInputEvent","getLogger","supportedViewType","_userUnitOptions","_userUnit","tool","isDisabled","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","createTool","removeTool","toolConstructor","constructorArguments","error","unitOptions","indexOf","slice","filter","buttonDisabled","base","container","hint","hintText","panelError","measurement","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","widgetIcon","iconClass","label","messagesUnits","viewModel","isSupported","class","unsupported","notApplicable","for","onchange","_changeUnit","bind","systems","pluralCapitalized","$","disabled","onclick","_newMeasurement","newMeasurement","role","target","selectedIndex","aliasOf","source","overridable","_baseHandles","_loggedUnsupportedErrorOnce","_creationAbortController","ready","logUnsupportedError","_get","tools","removed","abort","Promise","reject","createToolParams","AbortController","signal","Boolean","pop"],"mappings":"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","file":"static/js/53.b4890213.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";function o(o){const t=new a;return t.extensions.add(\"GL_OES_standard_derivatives\"),t.attributes.add(\"position\",\"vec3\"),t.attributes.add(\"uv0\",\"vec2\"),t.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),t.varyings.add(\"vUV\",\"vec2\"),o.multipassTerrainEnabled&&t.varyings.add(\"depth\",\"float\"),t.vertex.code.add(e`\n    void main(void) {\n      vUV = uv0;\n      ${o.multipassTerrainEnabled?\"depth = (view * vec4(position, 1.0)).z;\":\"\"}\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),o.multipassTerrainEnabled&&(t.fragment.include(i),t.include(d,o)),t.fragment.uniforms.add(\"size\",\"vec2\").add(\"color1\",\"vec4\").add(\"color2\",\"vec4\"),t.fragment.include(r),t.fragment.code.add(e`\n    void main() {\n      ${o.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      vec2 uvScaled = vUV / (2.0 * size);\n\n      vec2 uv = fract(uvScaled - 0.25);\n      vec2 ab = clamp((abs(uv - 0.5) - 0.25) / fwidth(uvScaled), -0.5, 0.5);\n      float fade = smoothstep(0.25, 0.5, max(fwidth(uvScaled.x), fwidth(uvScaled.y)));\n      float t = mix(abs(ab.x + ab.y), 0.5, fade);\n\n      gl_FragColor = mix(color2, color1, t);\n      ${o.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n  `),t}var t=Object.freeze({__proto__:null,build:o});export{t as C,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../chunks/vec3f64.js\";import{e as t,f as s,n as r,g as i,b as n}from\"../../../../../chunks/vec3.js\";import{slerpTangent as c,slerp as p}from\"../../../support/mathUtils.js\";import{getSphericalPCPF as o}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as a,projectVectorToVector as h}from\"../../../../../geometry/projection.js\";import{sv3d as d}from\"../../../support/stack.js\";class _{constructor(t=e(),s=e()){this.startRenderSpace=t,this.endRenderSpace=s,this.type=\"euclidean\"}eval(e,i,n){return t(i,this.startRenderSpace,this.endRenderSpace,e),n&&(s(n,this.endRenderSpace,this.startRenderSpace),r(n,n)),i}createRenderGeometry(e,t){const r=[],i=[],n=(t,n)=>{const c=u;s(c,t,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=t.worldUpAtPosition(this.eval(.5,m),d.get());return n(this.startRenderSpace,c),n(this.endRenderSpace,c),{points:r,normals:i}}}class f{constructor(t,s,r){this.startRenderSpace=t,this.endRenderSpace=s,this.renderSpatialReference=r,this.type=\"geodesic\",this._start=e(),this._end=e(),this._pcpf=o(r),this._project=a(r,this._pcpf),this._projectIn(t,this._start),this._projectIn(s,this._end)}_projectIn(e,t){this._project?h(e,this.renderSpatialReference,t,this._pcpf):i(t,e)}eval(e,i,o){if(this._project)if(o){const t=u;c(this._start,this._end,e,i,t),n(R,i,t),h(i,this._pcpf,i,this.renderSpatialReference),h(R,this._pcpf,R,this.renderSpatialReference),s(o,R,i),r(o,o)}else p(this._start,this._end,e,i),h(i,this._pcpf,i,this.renderSpatialReference);else t(i,this._start,this._end,e),o&&(s(o,this._end,this._start),r(o,o));return i}createRenderGeometry(e,t){const r=[],i=[],n=(t,n)=>{const c=R;s(c,t,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=128+1&-2;for(let s=0;s<c;++s){const e=s/(c-1),r=m,i=u;this.eval(e,r),t.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}function l(e,t,s,r){switch(e){case\"euclidean\":return new _(t,s);case\"geodesic\":return new f(t,s,r)}}const m=e(),u=e(),R=e();export{_ as EuclideanSegment,f as GeodesicSegment,l as createSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends i{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:p,y2:a}=this.calculateCoordinates(h),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:p,x2:n,y2:a,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([e()],r.prototype,\"startX\",void 0),t([e()],r.prototype,\"startY\",void 0),t([e()],r.prototype,\"endX\",void 0),t([e()],r.prototype,\"endY\",void 0),t([e()],r.prototype,\"startPosition\",null),t([e()],r.prototype,\"endPosition\",null),t([e()],r.prototype,\"width\",void 0),t([e()],r.prototype,\"color\",void 0),t([e()],r.prototype,\"visible\",void 0),t([e({readOnly:!0})],r.prototype,\"strokeStyle\",null),r=t([s(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var n=r;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends i{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=n[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const h=r+2*o,a=s+2*o,x=this.x+l.x*h,p=this.y+l.y*a;this.roundedRect(t,x,p,h,a,i),t.fillStyle=this.backgroundColor,t.fill();const c=this.x+(l.x+.5)*h,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,c,d),t.fillStyle=this.textColor,t.fillText(this.text,c,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/h.length})`;const r=this.textShadowSize;for(const[s,l]of h)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([e()],l.prototype,\"x\",void 0),t([e()],l.prototype,\"y\",void 0),t([e()],l.prototype,\"position\",null),t([e()],l.prototype,\"text\",void 0),t([e()],l.prototype,\"fontSize\",void 0),t([e()],l.prototype,\"anchor\",void 0),t([e()],l.prototype,\"visible\",void 0),t([e()],l.prototype,\"padding\",null),l=t([o(\"esri.views.overlay.TextOverlayItem\")],l);const n={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrap as e}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as s,createRenderScreenPointArray3 as i,createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as a}from\"../../../../chunks/vec3.js\";import n from\"../../../../core/Handles.js\";import{n as h,h as c,e as m,a as l,s as _,l as u,d as p}from\"../../../../chunks/vec2.js\";import{VisualElement as d}from\"./VisualElement.js\";import{screenSpaceTangent as x}from\"../measurementTools/support/viewUtils.js\";import b from\"../../../overlay/LineOverlayItem.js\";import v from\"../../../overlay/TextOverlayItem.js\";class f extends d{constructor(t){super(t.view),this._handles=new n,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(t)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}overlaps(t){return this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem)}_updateLabelPosition(){if(this.attached){if(this._showText=!1,this._showCallout=!1,t(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":this._computeLabelPositionFromPoint(this.geometry,k)&&(this._textItem.position=[k[0],k[1]],this._textItem.anchor=\"center\",this._showText=!0);break;case\"corner\":this._computeLabelPositionFromCorner(this.geometry,this._distance,k,z)&&(this._showCallout=this._updatePosition(k,z),this._showText=!0);break;case\"segment\":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,k,z)&&(this._showText=!0,this._showCallout=this._updatePosition(k,z))}this.updateVisibility(this.visible)}}_computeLabelPositionFromPoint(t,e){this.view.renderCoordsHelper.toRenderCoords(t,L);const s=this.view._stage.camera;return s.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(s.renderToScreen(R,e),!0)}_computeLabelPositionFromCorner(t,e,s,i){if(!t)return!1;const o=this.view._stage.camera;return w(t.left,1,o,P),h(P,P),w(t.right,0,o,T),c(j,P,T),h(j,j),m(j,j),o.projectToRenderScreen(t.left.endRenderSpace,R),!(R[2]<0||R[2]>1)&&(o.renderToScreen(R,s),l(j,j,e*o.pixelRatio),c(j,j,R),o.renderToScreen(j,i),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const r=t.segment,a=this.view._stage.camera;x(r.startRenderSpace,r.endRenderSpace,P,a),_(j,-P[1],P[0]);let n=!1;switch(s){case\"top\":n=j[1]<0;break;case\"bottom\":n=j[1]>0;break;case\"left\":n=j[0]>0;break;case\"right\":n=j[0]<0}if(n&&h(j,j),0===u(j))switch(s){case\"top\":j[1]=1;break;case\"bottom\":j[1]=-1;break;case\"left\":j[0]=-1;break;case\"right\":j[0]=1}return r.eval(H[t.sampleLocation],L),a.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(a.renderToScreen(R,i),l(j,j,e*a.pixelRatio),c(j,j,R),a.renderToScreen(j,o),!0)}_updatePosition(t,e){if(e){const s=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(s)>Math.abs(i)?s>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new v({visible:!0}),this._textItem.text=e(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new b({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateLabelPosition()})))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,s,i){t.eval(e,I,S),a(y,I,S),s.projectToRenderScreen(I,C),s.projectToRenderScreen(y,M),p(i,V,F),m(i,i)}function g(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const I=r(),y=r(),S=r(),P=s(),T=s(),j=s(),L=r(),R=i(),k=o(),z=o(),C=i(),F=C,M=i(),V=M,H={start:0,center:.5,end:1};export{f as LabelVisualElement,g as mirrorPosition,w as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as l,separateBlendingParams as c}from\"../../../webgl/renderState.js\";import{View as m}from\"../core/shaderLibrary/util/View.glsl.js\";import{OITBlending as d,OITDepthTest as h,OITDepthWrite as u}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as f}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{C as g}from\"../../../../chunks/CheckerBoard.glsl.js\";class b extends t{initializeProgram(r){const e=b.shader.get(),t=this.configuration,o=e.build({OITEnabled:0===t.transparencyPassType,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new a(r.rctx,o.generateSource(\"vertex\"),o.generateSource(\"fragment\"),s)}bindPass(r,e,t){m.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform2fv(\"size\",e.size),this.program.setUniform4fv(\"color1\",e.color1),this.program.setUniform4fv(\"color2\",e.color2),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),f(this.program,r,t))}bindDraw(r){m.bindView(this.program,r)}setPipelineState(r){const e=this.configuration,t=3===r,o=2===r;return n({blending:e.transparent?t?T:d(r):null,depthTest:{func:h(r)},depthWrite:t?e.writeDepth&&p:u(r),colorWrite:l,polygonOffset:t||o?e.polygonOffset&&y:{factor:-1,units:-25}})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}b.shader=new e(g,(()=>import(\"./CheckerBoard.glsl.js\")));const y={factor:0,units:-25},T=c(770,1,771,771);class v extends o{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}r([i()],v.prototype,\"transparent\",void 0),r([i()],v.prototype,\"writeDepth\",void 0),r([i()],v.prototype,\"polygonOffset\",void 0),r([i({count:4})],v.prototype,\"transparencyPassType\",void 0),r([i()],v.prototype,\"multipassTerrainEnabled\",void 0),r([i()],v.prototype,\"cullAboveGround\",void 0);export{b as CheckerBoardTechnique,v as CheckerBoardTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as r,materialParametersDefaults as i}from\"../lib/Material.js\";import{DefaultBufferWriter as s,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{CheckerBoardTechniqueConfiguration as a,CheckerBoardTechnique as o}from\"../shaders/CheckerBoardTechnique.js\";class u extends r{constructor(e){super(e,c),this.techniqueConfig=new a}dispose(){}getPassParameters(){return this.params}getTechniqueConfig(e){return this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.transparencyPassType=e?e.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!e&&e.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!e||e.cullAboveGround,this.techniqueConfig}intersect(e,r,i,s,n,a,o){return t(e,r,s,n,a,void 0,o)}getGLMaterial(e){return 0===e.output||7===e.output?new h(e):void 0}createBufferWriter(){return new s(n)}}class h extends e{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(o,this.material.getTechniqueConfig(e),this.technique)}beginSlot(e){let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const c={size:[1,1],color1:[.75,.75,.75,1],color2:[.5,.5,.5,1],transparent:!1,writeDepth:!0,polygonOffset:!1,...i};export{u as CheckerBoardMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{n as o}from\"../../../../chunks/mat4.js\";import{Geometry as i}from\"../../webgl-engine/lib/Geometry.js\";import{Object3DVisualElement as c}from\"./Object3DVisualElement.js\";import{CheckerBoardMaterial as a}from\"../../webgl-engine/materials/CheckerBoardMaterial.js\";class l extends c{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=4,this._geometry=null,this._size=[1,1],this._color1=[1,.5,0,.5],this._color2=[1,1,1,.5],this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get size(){return this._size}set size(e){this._size=e,this.updateMaterial()}get color1(){return this._color1}set color1(e){this._color1=e,this.updateMaterial()}get color2(){return this._color2}set color2(e){this._color2=e,this.updateMaterial()}updateMaterial(){e(this._checkerBoardMaterial)&&this._checkerBoardMaterial.setParameterValues({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new a({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:4})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(r){e(this._checkerBoardMaterial)&&r(this._checkerBoardMaterial)}createGeometries(e){if(r(this._geometry)||r(this._checkerBoardMaterial))return;const c=h;o(c,this.transform);const a=this._geometry,l=[],d=t();a.position.forEach((e=>{s(d,e,c),l.push(d[0],d[1],d[2])}));const n=[];a.uv.forEach((e=>{n.push(e[0],e[1])}));const u=new i([[\"position\",{size:3,data:l,exclusive:!0}],[\"uv0\",{size:2,data:n,exclusive:!0}]],[[\"position\",a.triangleIndices],[\"uv0\",a.triangleIndices]]);e.addGeometry(u,this._checkerBoardMaterial)}geometryChanged(){this.recreateGeometry()}}const h=t();export{l as MeasurementAreaVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as s}from\"../../../../../core/screenUtils.js\";import{c as r}from\"../../../../../chunks/vec3f64.js\";import{f as n}from\"../../../../../chunks/vec3.js\";import a from\"../../../../../core/Handles.js\";import{i as l,t as o}from\"../../../../../chunks/mat4.js\";import{a as h}from\"../../../../../chunks/mat4f64.js\";import m from\"../../../webgl-engine/lib/GeometryUtil.js\";import{Intersector as _}from\"../../../webgl-engine/lib/Intersector.js\";import{createStipplePatternSimple as p}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{LaserlineVisualElement as d}from\"../../visualElements/LaserlineVisualElement.js\";import{ManipulatorCollection as c}from\"../../../../interactive/ManipulatorCollection.js\";import{screenToMap3D as u}from\"../../editingTools/dragEventPipeline3D.js\";import{createSphereManipulator as g}from\"../../manipulatorUtils.js\";import{copyParameter as L,pointToPointScreenDistance as b,midpoint as v,resizeArray as w}from\"../support/viewUtils.js\";import{LabelVisualElement as f}from\"../../visualElements/LabelVisualElement.js\";import{LineVisualElement as S}from\"../../visualElements/LineVisualElement.js\";import{MeasurementAreaVisualElement as P}from\"../../visualElements/MeasurementAreaVisualElement.js\";import{GeodesicSegment as C,EuclideanSegment as y}from\"../../visualElements/support/Segment.js\";const M={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:1,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,handleRadiusHovered:10,handleRadiusMouse:10,handleRadiusTouch:25,pathLineColor:[1,.5,0,1],pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:[1,.5,0,1],perimeterLineWidth:2,projectionLineColor:[1,.5,0,1],projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:[1,.5,0,.5],areaColor2:[1,1,1,.5],fillColor:[1,.5,0,.5],lineSubdivisions:64,labelDistance:25};class j{constructor(e,t=new c,i={}){this._model=e,this._manipulators=t,this.vertexManipulators=[],this._visible=!1,this._path=null,this._intersectedPath=null,this._perimeter=null,this._intersectedPerimeter=null,this._projectionLines=null,this._laserLine=null,this._measurementArea=null,this._areaLabel=null,this._pathLengthLabel=null,this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel=null,this._cursorManipulator=null,this._pathSegments=[],this._perimeterSegments=[],this._cursorSegment=null,this._listenerHandles=null,this._origin=r(),this._originTransform=h(),this._tempHandlePosition=r(),this._cursorPositionRenderSpace=r(),this._view=this._model.sceneView,this._params=L(M,i),this._intersector=new _(this._view.state.mode),this._intersector.options.store=0;const s=g(this._view,this._params.handleColor,this._params.handleOpacity);s.available=!1,s.radius=this._params.handleRadius,s.interactive=!1,this._manipulators.add(s),this._cursorManipulator=s,this._path=new S({view:this._view,attached:!0,width:this._params.pathLineWidth,color:this._params.pathLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPath=new S({view:this._view,attached:!0,width:this._params.pathLineWidth,color:this._params.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._perimeter=new S({view:this._view,attached:!0,width:this._params.perimeterLineWidth,color:this._params.perimeterLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPerimeter=new S({view:this._view,attached:!0,width:this._params.perimeterLineWidth,color:this._params.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._projectionLines=new S({view:this._view,attached:!0,width:this._params.projectionLineWidth,color:this._params.projectionLineColor,stipplePattern:p(this._params.projectionLineStippleSize),stippleIntegerRepeats:!1,polygonOffset:!0,renderOccluded:4}),this._laserLine=new d({view:this._view,attached:!0,style:{glowColor:this._params.laserLineGlowColor,glowWidth:this._params.laserLineGlowWidth,glowFalloff:this._params.laserLineGlowFalloff,innerColor:this._params.laserLineInnerColor,innerWidth:this._params.laserLineInnerWidth,globalAlpha:this._params.laserLineGlobalAlpha}}),this._measurementArea=new P({view:this._view,attached:!0,color1:this._params.areaColor1,color2:this._params.areaColor2}),this._areaLabel=new f({view:this._view,attached:!0,fontSize:16}),this._pathLengthLabel=new f({view:this._view,attached:!0,fontSize:12}),this._cursorSegmentLengthLabel=new f({view:this._view,attached:!0,fontSize:12}),this._perimeterLengthLabel=new f({view:this._view,attached:!0,fontSize:12})}destroy(){this.hide(),this._laserLine.destroy(),this._laserLine=null,this._measurementArea.destroy(),this._measurementArea=null,this._path.destroy(),this._path=null,this._intersectedPath.destroy(),this._intersectedPath=null,this._perimeter.destroy(),this._perimeter=null,this._intersectedPerimeter.destroy(),this._intersectedPerimeter=null,this._areaLabel.destroy(),this._areaLabel=null,this._pathLengthLabel.destroy(),this._pathLengthLabel=null,this._cursorSegmentLengthLabel.destroy(),this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel.destroy(),this._perimeterLengthLabel=null}get requiresCursorPoint(){return(\"initial\"===this._model.state||\"drawing\"===this._model.state)&&this._model.active}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get testData(){const t=this._laserLine.testData;return{labels:{area:this._areaLabel,pathLength:this._pathLengthLabel,cursorSegmentLength:this._cursorSegmentLengthLabel,perimeterLength:this._perimeterLengthLabel},laserLineRenderer:e(t)?{heightManifoldEnabled:t.heightManifoldEnabled,heightManifoldTarget:t.heightManifoldTarget,pointDistanceEnabled:t.pointDistanceEnabled,pointDistanceOrigin:t.pointDistanceOrigin,pointDistanceTarget:t.pointDistanceTarget,lineVerticalPlaneEnabled:t.lineVerticalPlaneEnabled}:{heightManifoldEnabled:!1,heightManifoldTarget:null,pointDistanceEnabled:!1,pointDistanceOrigin:null,pointDistanceTarget:null,lineVerticalPlaneEnabled:!1}}}show(){this._visible||(this._visible=!0,this._path.visible=!0,this._intersectedPath.visible=!0,this._perimeter.visible=!0,this._intersectedPerimeter.visible=!0,this._projectionLines.visible=!0,this._laserLine.visible=!0,this._measurementArea.visible=!0,this._areaLabel.visible=!0,this._pathLengthLabel.visible=!0,this._cursorSegmentLengthLabel.visible=!0,this._perimeterLengthLabel.visible=!0,this._initializeListeners(),this._updateAll(this._model.viewData))}hide(){this._visible&&(this._visible=!1,this._path.visible=!1,this._intersectedPath.visible=!1,this._perimeter.visible=!1,this._projectionLines.visible=!1,this._intersectedPerimeter.visible=!1,this._laserLine.visible=!1,this._measurementArea.visible=!1,this._areaLabel.visible=!1,this._pathLengthLabel.visible=!1,this._cursorSegmentLengthLabel.visible=!1,this._perimeterLengthLabel.visible=!1,this._destroyListeners(),this.vertexManipulators.forEach((e=>{this._removeVertexManipulator(e.manipulator)})),this.vertexManipulators=[],this._view.cursor=null)}vertexHandleAt(t,i){const s=this._manipulators.intersect(t,i);return e(s)?s.manipulator.metadata:null}manipulatorToVertex(e){return e.metadata}pick(e){const i=this._view.spatialReference,n=s(e.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(n,this._intersector);const a=this._intersector.results.min,l=r();if(!a.getIntersectionPoint(l))return new j.PickResult;const o=this._view.renderCoordsHelper.fromRenderCoords(l,i);if(t(o))return new j.PickResult;const h=\"TerrainRenderer\"===a.intersector?\"surface\":\"feature\";return new j.PickResult(h,l,o)}overlappingHandles(e,t){return b(e,t,this._view)<=this._params.handleRadius}screenToMap3D(){return u(this._view)}_updateOrigin(e){v(e.positionsRenderCoords,this._origin),l(this._originTransform),o(this._originTransform,this._originTransform,this._origin),this._measurementArea.transform=this._originTransform,this._projectionLines.transform=this._originTransform}_updateAll(e){this._visible&&(this._updateOrigin(e),this._updatePathSegments(e),this._updatePerimeterSegments(e),this._updateVertexManipulators(e),this._updateArea(e),this._updateProjectionLines(e),this._updateLabels(e),this._updateLaserLine())}_createSegments(e,t){const i=e.path,s=this._view.renderCoordsHelper.spatialReference,r=this._model.measurementMode,n=[],a=[],l=[],o=e.validMeasurement?i.numVertices:i.numVertices-1;for(let h=0;h<o;++h){const o=e[t][h],m=e[t][(h+1)%i.numVertices];let _=null;switch(r){case\"euclidean\":_=new y(o,m);break;case\"geodesic\":_=new C(o,m,s)}e.intersectingSegments.has(h)?l.push(_):a.push(_),n.push(_)}return{all:n,nonIntersecting:a,intersecting:l}}_updatePathSegments(t){const i=this._createSegments(t,\"positionsRenderCoords\"),s=t.path,r=this._view.renderCoordsHelper,n=r.spatialReference,a=this._model.measurementMode;if(this._cursorSegment=null,s.numVertices>0&&\"drawing\"===this._model.state&&e(this._model.cursorPoint)){if(r.toRenderCoords(this._model.cursorPoint,this._cursorPositionRenderSpace)){const e=t.positionsRenderCoords[s.numVertices-1],r=this._cursorPositionRenderSpace;let l=null;switch(a){case\"euclidean\":l=new y(e,r);break;case\"geodesic\":l=new C(e,r,n)}i.nonIntersecting.push(l),this._cursorSegment=l}}this._path.setGeometryFromSegments(i.nonIntersecting,this._origin),this._intersectedPath.setGeometryFromSegments(i.intersecting,this._origin),this._pathSegments=i.all}_updatePerimeterSegments(e){const t=this._createSegments(e,\"positionsFittedRenderCoords\");this._perimeter.setGeometryFromSegments(t.nonIntersecting,this._origin),this._intersectedPerimeter.setGeometryFromSegments(t.intersecting,this._origin),this._perimeterSegments=t.all}_createVertexManipulator(){const e=g(this._view,this._params.handleColor,this._params.handleOpacity);e.radius=this._params.handleRadius;return{id:this._manipulators.add(e),manipulator:e}}_removeVertexManipulator(e){this._manipulators.remove(e)}_updateVertexManipulators(t){const i=this._model.path.vertices,s=this.vertexManipulators;w(s,i.length,(()=>this._createVertexManipulator()),(e=>this._removeVertexManipulator(e.manipulator))),s.forEach(((e,s)=>{e.manipulator.metadata=i[s],e.manipulator.renderLocation=t.positionsRenderCoords[s]})),\"drawing\"===this._model.state&&e(this._model.cursorPoint)?(this._cursorManipulator.available=!0,this._cursorManipulator.location=this._model.cursorPoint):this._cursorManipulator.available=!1}_updateArea(e){switch(this._model.measurementMode){case\"euclidean\":this._updateAreaEuclidean(e);break;case\"geodesic\":this._updateAreaGeodesic()}}_updateAreaEuclidean(e){e.validMeasurement&&0===e.intersectingSegments.size&&e.triangleIndices?(this._measurementArea.geometry={uv:e.positionsProjected,position:e.positionsFittedRenderCoords,triangleIndices:e.triangleIndices},this._measurementArea.size=[e.checkerSize,e.checkerSize],this._measurementArea.visible=!0,this._perimeter.visible=!0,this._projectionLines.visible=!0):(this._measurementArea.visible=!1,this._perimeter.visible=!1,this._projectionLines.visible=!1)}_updateAreaGeodesic(){this._measurementArea.visible=!1,this._perimeter.visible=!1,this._projectionLines.visible=!1}_updateProjectionLines(e){const t=e.path;if(t.numVertices>0&&e.validMeasurement&&\"euclidean\"===this._model.measurementMode){const e=[];for(let i=0;i<t.numVertices;++i){const t=r();n(t,this._model.viewData.positionsRenderCoords[i],this._origin);const s=r();n(s,this._model.viewData.positionsFittedRenderCoords[i],this._origin),e.push([t,s])}this._projectionLines.geometry=e}else this._projectionLines.geometry=null}_updateLabels(t){if(!this._visible)return;const i=this._model,s=this._view,r=\"drawing\"===i.state;if(this._areaLabel.geometry=s.renderCoordsHelper.fromRenderCoords(t.areaCentroid,s.spatialReference),this._areaLabel.text=i.areaLabel,this._areaLabel.visible=t.validMeasurement&&0===t.intersectingSegments.size&&null!=i.areaLabel,t.pathLengthLabelSegmentIndex>=0&&t.pathLengthLabelSegmentIndex<this._pathSegments.length){const s=this._pathSegments[t.pathLengthLabelSegmentIndex],n=e(this._cursorSegment)?this._cursorSegment:R;this._pathLengthLabel.distance=this._params.labelDistance,this._pathLengthLabel.geometry={type:\"corner\",left:s,right:n},this._pathLengthLabel.text=i.pathLengthLabel,this._pathLengthLabel.visible=r&&i.path.numVertices>0}else this._pathLengthLabel.visible=!1;this._cursorSegmentLengthLabel.distance=this._params.labelDistance,this._cursorSegmentLengthLabel.geometry=e(this._cursorSegment)?{type:\"segment\",segment:this._cursorSegment,sampleLocation:\"end\"}:null,this._cursorSegmentLengthLabel.anchor=\"bottom\",this._cursorSegmentLengthLabel.text=i.cursorSegmentLengthLabel,this._cursorSegmentLengthLabel.visible=r&&!!i.cursorSegmentLength&&0!==i.cursorSegmentLength.value,this._cursorSegmentLengthLabel.overlaps(this._pathLengthLabel)&&(this._cursorSegmentLengthLabel.visible=!1),this._pathLengthLabel.overlaps(this._areaLabel)&&(this._pathLengthLabel.visible=!1),this._updatePerimeterLabel(this._model.viewData)}_updatePerimeterLabel(e){const t=this._model,i=\"geodesic\"===t.measurementMode;if(t.validMeasurement&&0===e.intersectingSegments.size){this._perimeterLengthLabel.distance=this._params.labelDistance,this._perimeterLengthLabel.anchor=\"top\",this._perimeterLengthLabel.text=t.perimeterLengthLabel,this._perimeterLengthLabel.visible=!0;let s=!0;for(let t=0;t<e.path.numVertices;++t){const r=(e.perimeterLengthLabelSegmentIndex+t)%e.path.numVertices,n=i?this._pathSegments[r]:this._perimeterSegments[r];if(s=!0,this._perimeterLengthLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},!this._perimeterLengthLabel.overlaps(this._areaLabel))break;s=!1}this._perimeterLengthLabel.visible=s}else this._perimeterLengthLabel.visible=!1}_getFocusPoint(){const t=this._model,s=this._model.lastDraggedVertex;switch(t.state){case\"drawing\":return e(t.cursorPoint)?t.cursorPoint:e(s)?t.path.getVertexPositionAsPoint(s):i(t.path.lastPoint);case\"editing\":return e(s)?t.path.getVertexPositionAsPoint(s):null;default:return t.cursorPoint}}_updateLaserLine(){const t=this._model,i=this._params.laserLineEnabled&&\"measured\"!==t.state&&t.active,s=this._getFocusPoint();if(i&&e(s)){const e=this._tempHandlePosition;this._view.renderCoordsHelper.toRenderCoords(s,e),this._laserLine.heightManifoldTarget=e}else this._laserLine.heightManifoldTarget=null}_initializeListeners(){this._listenerHandles=new a,this._listenerHandles.add([this._model.watch([\"state\",\"lastDraggedVertex\"],(()=>this._updateLaserLine())),this._model.watch([\"cursorPoint\",\"unit\",\"measurementMode\",\"active\",\"viewData\"],(()=>this._updateAll(this._model.viewData))),this._model.watch([\"areaLabel\",\"cursorSegmentLengthLabel\",\"pathLengthLabel\",\"perimeterLengthLabel\"],(()=>{this._updateAll(this._model.viewData)})),this._view.state.watch(\"camera\",(()=>this._updatePerimeterLabel(this._model.viewData)))])}_destroyListeners(){this._listenerHandles.destroy(),this._listenerHandles=null}}j._handleGeometry=m.createSphereGeometry(1,32,32),function(e){class t{}e.PickRequest=t;class i{constructor(e=null,t=null,i=null){this.type=e,this.scenePoint=t,this.mapPoint=i}}e.PickResult=i}(j||(j={}));const R=new y(r(),r());var V=j;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createScreenPointFromEvent as s}from\"../../../../support/screenUtils.js\";import{clonePoint as o}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{createManipulatorDragEventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";import{hideManipulatorWhileDragging as n}from\"../../editingTools/dragEventPipeline3D.js\";import r from\"./AreaMeasurement3DView.js\";class d{constructor(t,e,s){this._manipulators=s,this._handles=new i,this._tempPickRequest=new r.PickRequest,this.model=t,this.view=e,this.model.reset(),this._setupManipulators()}destroy(){this._handles.destroy(),this._handles=null}handleInputEvent(t){switch(t.type){case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t);break;case\"drag\":this._handleDrag(t);break;case\"key-down\":this._handleKeyDown(t)}}_setupManipulators(){const t=t=>`manipulator-${t}`;let i=0;const s=t=>s=>(\"start\"===s.action&&(i++,this.model.lastDraggedVertex=e(this.view.manipulatorToVertex(t)),\"measured\"===this.model.state&&(this.model.state=\"editing\")),s),r=()=>t=>\"end\"===t.action?(i--,0===i&&\"editing\"===this.model.state&&(this.model.state=\"measured\"),null):t,d=(i,d)=>{this._handles.add([a(d,((t,i,a)=>{const d=n(t),h=e(this.view.manipulatorToVertex(t));i.next(s(t)).next(d).next(r()).next(this.view.screenToMap3D()).next((e=>{t.location=e.mapEnd,this.model.path.setVertexPosition(h,o(e.mapEnd))}));const l=o(this.model.path.getVertexPositionAsPoint(h));a.next(d).next((()=>{this.model.path.setVertexPosition(h,l),t.location=l}))})),d.events.on(\"double-click\",(t=>{h(t)&&(\"drawing\"===this.model.state&&this.model.finishMeasurement(),t.stopPropagation())}))],t(i))},l=e=>{this._handles.remove(t(e))};this._manipulators.forEach((({id:t,manipulator:e})=>{d(t,e)})),this._handles.add([this._manipulators.on(\"after-add\",(({item:{id:t,manipulator:e}})=>{d(t,e)})),this._manipulators.on(\"after-remove\",(({item:{id:t}})=>{l(t)}))])}_handleDrag(t){\"editing\"===this.model.state&&t.stopPropagation()}_handleImmediateClick(e){if(!h(e))return;const i=s(e);if(this.model.active)switch(this.model.state){case\"initial\":this._addVertexAt(i)&&(this.model.state=\"drawing\",e.stopPropagation());break;case\"drawing\":{const s=this.view.vertexHandleAt(i,e.pointerType);if(t(s)){if(this._addVertexAt(i))return}else 0===s.index&&(this.model.finishMeasurement(),e.stopPropagation());break}}\"mouse\"===e.pointerType&&this._hoverAt(i)}_handlePointerMove(t){if(\"mouse\"===t.pointerType){const e=s(t);this._hoverAt(e)}}_handleKeyDown(t){\"Enter\"===t.key&&\"drawing\"===this.model.state&&(this.model.finishMeasurement(),t.stopPropagation())}_hoverAt(t){if(this.view.requiresCursorPoint){const e=this._pick(t);e.mapPoint&&(this.model.cursorPoint=e.mapPoint)}else this.model.cursorPoint=null}_addVertexAt(t){const e=this._pick(t);return!!e.mapPoint&&(this.model.path.add(e.mapPoint),!0)}_pick(t){const e=this._tempPickRequest;return e.screenPoint=t,this.view.pick(e)}}function h(t){return\"mouse\"!==t.pointerType||0===t.button}export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as e}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Accessor.js\";let p=class extends t{constructor(){super(...arguments),this.result=null}destroy(){this.result=null}set geometry(r){this.result=null,this._set(\"geometry\",e(r)?r.clone():null)}};r([o({value:null})],p.prototype,\"geometry\",null),r([o()],p.prototype,\"result\",void 0),p=r([s(\"esri.views.3d.interactive.graphics.AreaMeasurement3D\")],p);export{p as AreaMeasurement3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../geometry/SpatialReference.js\";import t from\"../../../../../geometry/Polygon.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{s as r,b as o,a as i,h as s,d as a,k as f,c as u,n as c,g as l}from\"../../../../../chunks/vec3.js\";import{planeFromPoints as g}from\"../../../support/mathUtils.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as h,projectVectorToWGS84ComparableLonLat as p}from\"../../../../../geometry/projection.js\";import{inverseGeodeticSolver as d}from\"../../../../../geometry/support/geodesicUtils.js\";import{geodesicArea as j}from\"../../../../../geometry/geometryEngine.js\";var b;!function(e){function t(e,t){const n=t.center;r(n,0,0,0);for(let r=0;r<e.length;++r)o(n,n,e[r]);i(n,n,1/e.length);let a=0;for(let r=0;r<e.length;++r)a=Math.max(a,s(n,e[r]));t.radius=Math.sqrt(a)}function n(e,t){if(e.length<3)throw new Error(\"need at least 3 points to fit a plane\");g(e[0],e[1],e[2],t)}function b(e,t){return a(e,t)+e[3]}function G(e,t,n){return m(e,y,n)&&m(t,M,n)?f(y,M):0}function S(e,t){if(!h(e,y)||!h(t,M))return 0;const n={distance:null};return d(n,[y[0],y[1]],[M[0],M[1]]),n.distance}function k(e,t,n){const r={distance:null};return d(r,[e[0],e[1]],[t[0],t[1]],n),r.distance}function w(e,t,n){const r=t[0]-e[0],o=t[1]-e[1],i=n[0]-e[0],s=n[1]-e[1];return.5*Math.abs(r*s-o*i)}function z(e,t,n,r){const o=v;return p(e,r,y)&&p(t,r,M)&&p(n,r,P)?(o.setPoint(0,0,y),o.setPoint(0,1,M),o.setPoint(0,2,P),Math.abs(j(o,\"square-meters\"))):0}function L(e,t,n){Math.abs(e[0])>Math.abs(e[1])?r(t,0,1,0):r(t,1,0,0),u(n,e,t),c(t,t),u(t,n,e),c(n,n)}function q(e,t=null,n=!0){const i=1e-6,s=(e,t)=>{if(0===t[0]&&0===t[1]&&0===t[2])return!1;for(let n=0;n<e.length;++n)if(a(t,e[n])<-i)return!1;return!0};if(0===e.length)return!1;if(1===e.length)return t&&l(t,e[0]),!0;r(E,0,0,0);for(let r=0;r<e.length;++r)o(E,E,e[r]);if(c(E,E),s(e,E))return t&&l(t,E),!0;if(!n)return!1;for(let r=0;r<e.length;++r)for(let n=0;n<e.length;++n)if(r!==n&&(u(E,e[r],e[n]),c(E,E),s(e,E)))return t&&l(t,E),!0;return!1}function x(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(let n=0;n<e.size;++n)if(!t.has(e[n]))return!1;return!0}e.boundingSphere=t,e.bestFitPlane=n,e.planePointDistance=b,e.segmentLengthEuclidean=G,e.segmentLengthGeodesic=S,e.segmentLengthGeodesicVector=k,e.triangleAreaEuclidean=w,e.triangleAreaGeodesic=z,e.tangentFrame=L,e.fitHemisphere=q,e.compareSets=x}(b||(b={}));const y=n(),M=n(),P=n(),v=new t({rings:[[y,M,P]],spatialReference:e.WGS84}),E=n();var G=b;export default G;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";class i{constructor(t,e,i){this.editGeometry=t,this.vertex=e,this.pos=i}apply(){let e=\"redo\";t(this.originalPosition)&&(e=\"apply\",this.originalPosition=this.vertex.pos),this._apply(e)}undo(){this.vertex.pos=e(this.originalPosition);const t={updatedVertices:[this.vertex],operation:\"undo\"};this.editGeometry.emit(\"change\",t)}accumulate(t){return t instanceof i&&t.vertex===this.vertex&&(this.pos=t.pos,this._apply(\"apply\"),!0)}_apply(t){this.vertex.pos=this.pos,this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const e={updatedVertices:[this.vertex],operation:t};this.editGeometry.emit(\"change\",e)}}export{i as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import t from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import i from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{init as o}from\"../../../../../core/watchUtils.js\";import{createCoordinateHelper as n}from\"../../../../interactive/coordinateHelper.js\";import{EditGeometry as s,Component as m}from\"../../../../interactive/editGeometry/EditGeometry.js\";export{Component,Edge,EditGeometry,Vertex}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{AppendVertex as h}from\"../../../../interactive/editGeometry/operations/AppendVertex.js\";import{SetVertexPosition as d}from\"../../../../interactive/editGeometry/operations/SetVertexPosition.js\";class l extends i{constructor(){super(),this._handles=new r,this._dirty=!0,this._model=null,this._view=null,this._version=0,this._internalGeometryChange=!1}set model(t){this._model=t,e(this._model)&&e(this._view)&&this._initialize(this._model,this._view)}get model(){return this._model}get view(){return this._view}set view(t){this._view=t,e(this._model)&&e(this._view)&&this._initialize(this._model,this._view)}get initialized(){return e(this._model)&&e(this._view)}get version(){return this._version}_initialize(e,t){this._handles.removeAll(),this._handles.add(o(e,\"geometry\",(()=>this._updateEditGeometryFromModelGeometry(e,t)),!0))}_updateEditGeometryFromModelGeometry(t,i){this._version++,this._internalGeometryChange||(this._handles.remove(\"EditGeometry\"),this._editGeometry=e(t.geometry)?s.fromGeometry(t.geometry,i.viewingMode):new s(n(!0,!1,i.spatialReference,i.viewingMode)),this.emit(\"clear\",{type:\"clear\"}),this._handles.add(this._editGeometry.on(\"change\",(e=>{this._internalGeometryChange=!0,t.geometry=this.numVertices>0?this._editGeometry.toPolygon():null,this._internalGeometryChange=!1})),\"EditGeometry\"))}get vertices(){const e=[];return this.forEachVertex((t=>{e.push(t)})),e}get numVertices(){return this.initialized&&this._editGeometry.components.length>0?this._editGeometry.components[0].vertices.length:0}get lastPoint(){if(this.initialized&&this._editGeometry.components.length>0){const t=this._editGeometry.components[0].getLastVertex();if(e(t))return this._editGeometry.coordinateHelper.createPoint(t.pos)}return null}getVertex(e){if(!this.initialized||0===this._editGeometry.components.length||0===this._editGeometry.components[0].vertices.length)return null;const t=this._editGeometry.components[0].vertices[0];let i=t;do{if(i.index===e)return i;i=i.right.right}while(i!==t&&null!=i);return null}getVertexPositionAsPoint(e){return this._editGeometry.coordinateHelper.createPoint(e.pos)}getVertexPositionAsPointFromIndex(e){return this._editGeometry.coordinateHelper.createPoint(this.getVertex(e).pos)}forEachVertex(e){this.initialized&&this._editGeometry.components.length>0&&this._editGeometry.components[0].iterateVertices(e)}forEachVertexPosition(e){const t=this._editGeometry.coordinateHelper;this.forEachVertex(((i,r)=>{t.toPoint(i.pos,a),e(a,r)}))}clear(){e(this.model)&&(this.model.geometry=null)}add(e){if(!this.initialized)return null;0===this._editGeometry.components.length&&this._editGeometry.components.push(new m(this._editGeometry));const t=new h(this._editGeometry,this._editGeometry.components[0],this._editGeometry.coordinateHelper.fromPoint(e));return this._editGeometry.apply(t),this.emit(\"vertex-update\",{type:\"vertex-update\"}),t}ensureContains(e,t=\"\"){let i=!1;if(this._editGeometry.components.forEach((t=>{t.iterateVertices((t=>{t===e&&(i=!0)}))})),!i)throw new Error(`vertex doesnt exist ${t}`);return i}setVertexPosition(e,t){if(!this.initialized)return null;const i=new d(this._editGeometry,e,this._editGeometry.coordinateHelper.fromPoint(t));return this._editGeometry.apply(i),this.emit(\"vertex-update\",{type:\"vertex-update\"}),i}}const a=new t;export{l as AreaMeasurement3DPathHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../geometry/SpatialReference.js\";import{segmentIntersects as e}from\"../../../../../geometry/support/intersects.js\";import{deg2rad as s}from\"../../../../../core/mathUtils.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{n as o,k as r,g as n,c as h,p as a,f as l,d,a as p,b as g}from\"../../../../../chunks/vec3.js\";import{makeOrthonormal as c,tangentFrame as m}from\"../../../support/mathUtils.js\";import{getSphericalPCPF as _,getReferenceEllipsoid as u}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as f,canProjectToWGS84ComparableLonLat as C,projectPointToVector as S,projectPointToWGS84ComparableLonLat as w,projectDirection as R,projectVectorToVector as j}from\"../../../../../geometry/projection.js\";import A from\"../../../../../core/Quantity.js\";import{a as L}from\"../../../../../chunks/vec2f64.js\";import{a as P}from\"../../../../../chunks/vec4f64.js\";import{earcut as v}from\"../../../../../core/libs/earcut/earcut.js\";import{s as U,i as W}from\"../../../../../chunks/vec2.js\";import{midpoint as G}from\"../support/viewUtils.js\";import M from\"../support/measurementUtils.js\";class V{constructor(){this.positionsWorldCoords=[],this.positionsRenderCoords=[],this.positionsProjectedWorldCoords=[],this.positionsFittedRenderCoords=[],this.positionsGeographic=[],this.positionsSpherical=[],this.positionsStereographic=[],this.pathSegmentLengths=[],this.geodesicPathSegmentLengths=[],this.perimeterSegmentLengths=[],this.intersectingSegments=new Set,this.geodesicIntersectingSegments=new Set,this.areaCentroidWorldCoords=i(),this.areaCentroidRenderCoords=i(),this.geodesicAreaCentroidRenderCoords=i(),this._length=0,this._centroidRenderCoords=i(),this._planeWorldCoords=P(),this._worldUp=i(),this._worldTangent=i(),this._frame=[i(),i(),i()],this._pathVersion=-1,this._validMeasurement=!1,this._tempU=i(),this._tempV=i(),this._tempVec3=i(),this._tempSphere={center:i(),radius:0}}update(t,e,s,i,r,n,h){if(this._pathVersion===t.version&&this._validMeasurement===i)return;this._pathVersion=t.version,this._validMeasurement=i;const a=t.numVertices;this._resize(a);const l=_(e.spatialReference),d=f(e.spatialReference,l)&&C(e.spatialReference),p=this.positionsGeographic,g=this.positionsWorldCoords,c=this.positionsRenderCoords,m=this.positionsSpherical;t.forEachVertexPosition(((t,e)=>{S(t,g[e],n),S(t,c[e],r),d&&(w(t,p[e]),S(t,m[e],l),o(m[e],m[e]))}));const u=this._updatePathLengths(i);if(this.pathLength=this._length>0?new A(s.normalizeDistance(u),\"meters\"):null,d){const t=this._updateGeodesicPathLengths(i,n);this.geodesicPathLength=this._length>0?new A(t,\"meters\"):null}else this.geodesicPathLength=null;if(!i)return this.area=null,this.geodesicArea=null,this.perimeterLength=null,this.triangleIndices=null,this.geodesicTriangleIndices=null,this.intersectingSegments.clear(),void this.geodesicIntersectingSegments.clear();this._updateArea(e,s,r,n,h),d&&this._updateGeodesicArea(e)}_resize(t){for(t<this._length&&(this.positionsWorldCoords.length=t,this.positionsRenderCoords.length=t,this.positionsProjectedWorldCoords.length=t,this.positionsFittedRenderCoords.length=t,this.positionsGeographic.length=t,this.positionsSpherical.length=t,this.positionsStereographic.length=t,this.pathSegmentLengths.length=t,this.geodesicPathSegmentLengths.length=t,this.perimeterSegmentLengths.length=t,this._length=t);this._length<t;)this.positionsWorldCoords.push(i()),this.positionsRenderCoords.push(i()),this.positionsProjectedWorldCoords.push(L()),this.positionsFittedRenderCoords.push(i()),this.positionsGeographic.push(i()),this.positionsSpherical.push(i()),this.positionsStereographic.push(L()),this.pathSegmentLengths.push(0),this.geodesicPathSegmentLengths.push(0),this.perimeterSegmentLengths.push(0),++this._length}_updatePathLengths(t){const e=this.positionsWorldCoords,s=this.pathSegmentLengths;let i=0;for(let o=0;o<this._length;++o){const n=s[o]=r(e[o],e[(o+1)%this._length]);(o<this._length-1||t)&&(i+=n)}return i}_updateGeodesicPathLengths(t,e){const s=this.positionsGeographic,i=this.geodesicPathSegmentLengths;let o=0;for(let r=0;r<this._length;++r){const n=i[r]=M.segmentLengthGeodesicVector(s[r],s[(r+1)%this._length],e);(r<this._length-1||t)&&(o+=n)}return o}_updateArea(t,e,s,i,o){const r=t.renderCoordsHelper,m=this.positionsWorldCoords,_=this.positionsRenderCoords,u=this.positionsProjectedWorldCoords,f=this.positionsFittedRenderCoords,C=this._planeWorldCoords,S=this._centroidRenderCoords;G(_,S),r.worldUpAtPosition(S,this._worldUp),r.worldBasisAtPosition(S,0,this._worldTangent),R(S,this._worldUp,s,this._worldUp,i),R(S,this._worldTangent,s,this._worldTangent,i),m.length>2&&M.bestFitPlane(m,C),this.fittingMode=this._selectFittingMode(C,m,this._worldUp,o);let w=0;if(\"horizontal\"===this.fittingMode){let t=-1/0;_.forEach(((e,s)=>{const i=r.getAltitude(_[s]);i>t&&(t=i,w=s)}))}const L=m[w];let P=C,v=this._worldTangent;\"horizontal\"===this.fittingMode?P=this._worldUp:\"vertical\"===this.fittingMode&&(P=this._tempVec3,v=this._worldUp,c(C,this._worldUp,P)),n(this._frame[2],P),c(v,P,this._frame[0]),h(this._frame[1],this._frame[0],this._frame[2]),a(this._frame[1],this._frame[1]);const W=this._tempVec3,V=this._tempU,I=this._tempV;for(let n=0;n<this._length;++n){const t=u[n],e=f[n];l(W,m[n],L),U(t,d(this._frame[0],W),d(this._frame[1],W)),p(V,this._frame[0],t[0]),p(I,this._frame[1],t[1]),g(W,V,I),g(W,W,L),j(W,i,e,s)}this.perimeterLength=this._length>0?new A(e.normalizeDistance(this._updatePerimeterLengths()),\"meters\"):null,G(f,this.areaCentroidRenderCoords),j(this.areaCentroidRenderCoords,s,this.areaCentroidWorldCoords,i),this._updateIntersectingSegments(),this.area=0===this.intersectingSegments.size?new A(e.normalizeArea(this._computeArea()),\"square-meters\"):null}_updateGeodesicArea(t){const e=t.renderCoordsHelper,s=this.positionsSpherical,i=this.positionsStereographic,o=this._tempVec3,r=M.fitHemisphere(s,o);if(!r)return void(this.geodesicArea=null);const n=this._tempU,h=this._tempV;m(o,n,h);for(let a=0;a<this._length;++a){const t=d(s[a],n),e=d(s[a],h),r=d(s[a],o);U(i[a],t/r,e/r)}p(o,o,u(t.spatialReference).radius),e.toRenderCoords(o,_(t.spatialReference),this.geodesicAreaCentroidRenderCoords),this._updateGeodesicIntersectingSegments(),this.geodesicArea=r&&0===this.geodesicIntersectingSegments.size?new A(this._computeGeodesicArea(),\"square-meters\"):null}_updatePerimeterLengths(){const t=this.positionsProjectedWorldCoords,e=this.perimeterSegmentLengths;let s=0;for(let i=0;i<this._length;++i){s+=e[i]=W(t[i],t[(i+1)%this._length])}return s}_updateIntersectingSegments(){const t=this.positionsProjectedWorldCoords,s=this.intersectingSegments;s.clear();for(let i=0;i<this._length;++i)for(let o=i+2;o<this._length;++o){if((o+1)%this._length===i)continue;const r=t[i],n=t[(i+1)%this._length],h=t[o],a=t[(o+1)%this._length];e(r,n,h,a)&&(s.add(i),s.add(o))}}_computeArea(){const t=this.positionsProjectedWorldCoords,e=I(t,2),s=this.triangleIndices=new Uint32Array(v(e,[],2));let i=0;for(let o=0;o<s.length;o+=3)i+=M.triangleAreaEuclidean(t[s[o]],t[s[o+1]],t[s[o+2]]);return i}_updateGeodesicIntersectingSegments(){const t=this.positionsStereographic,s=this.geodesicIntersectingSegments;s.clear();for(let i=0;i<this._length;++i)for(let o=i+2;o<this._length;++o){if((o+1)%this._length===i)continue;const r=t[i],n=t[(i+1)%this._length],h=t[o],a=t[(o+1)%this._length];e(r,n,h,a)&&(s.add(i),s.add(o))}}_computeGeodesicArea(){const e=this.positionsGeographic,s=I(this.positionsStereographic,2),i=this.geodesicTriangleIndices=new Uint32Array(v(s,[],2));let o=0;for(let r=0;r<i.length;r+=3)o+=M.triangleAreaGeodesic(e[i[r]],e[i[r+1]],e[i[r+2]],t.WGS84);return o}_selectFittingMode(t,e,i,o){const r=e.map((e=>Math.abs(M.planePointDistance(t,e)))).reduce(((t,e)=>Math.max(t,e)),0);M.boundingSphere(e,this._tempSphere);const n=r/(2*this._tempSphere.radius),h=n<o.maxRelativeErrorCoplanar,a=n<o.maxRelativeErrorAlmostCoplanar;let l=\"horizontal\";if(h)l=\"oblique\";else if(a){l=Math.abs(d(i,t))>Math.cos(s(o.verticalAngleThreshold))?\"horizontal\":\"vertical\"}return l}}function I(t,e){const s=new Float64Array(t.length*e);for(let i=0;i<t.length;++i){const o=t[i];for(let t=0;t<e;++t)s[i*e+t]=o[t]}return s}export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import i from\"../../../../../core/Accessor.js\";import{onLocaleChange as a}from\"../../../../../intl/locale.js\";import{nextHighestPowerOfTen as n}from\"../../../../../core/mathUtils.js\";import{fetchMessageBundle as o}from\"../../../../../intl/messages.js\";import\"../../../../../intl.js\";import h from\"../../../../../core/Handles.js\";import{getSphericalPCPF as m,SphericalECEFSpatialReference as u,WGS84ECEFSpatialReference as l}from\"../../../../../geometry/projectionEllipsoid.js\";import{convertUnit as d,preferredImperialAreaUnit as c,preferredMetricAreaUnit as p,preferredImperialLengthUnit as g,preferredMetricLengthUnit as L}from\"../../../../../core/unitUtils.js\";import{whenTrue as y}from\"../../../../../core/watchUtils.js\";import{canProjectWithoutEngine as f}from\"../../../../../geometry/projection.js\";import _ from\"../../../../../core/Quantity.js\";import{formatDecimal as v}from\"../../../../../core/quantityFormatUtils.js\";import{AreaMeasurement3D as D}from\"../../graphics/AreaMeasurement3D.js\";import{AreaMeasurement3DPathHelper as M}from\"./AreaMeasurementPathHelper.js\";import j from\"../support/measurementUtils.js\";import w from\"./MeasurementData.js\";import P from\"../support/UnitNormalizer.js\";let S=class extends i{constructor(){super(...arguments),this._unitNormalizer=new P,this._measurementData=new w,this._handles=new h,this.dataObject=new D,this.path=new M,this.cursorPoint=null,this.state=\"initial\",this.lastDraggedVertex=null,this.mode=\"auto\",this.unit=\"metric\",this.active=!1,this.fittingSettings={maxRelativeErrorCoplanar:.005,maxRelativeErrorAlmostCoplanar:.01,verticalAngleThreshold:80},this.geodesicMeasurementDistanceThreshold=1e5}initialize(){this.path.model=this.dataObject,o(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(a((async()=>{this.messages=await o(\"esri/core/t9n/Units\")}))),this._handles.add(y(this.sceneView,\"ready\",(()=>{const{spatialReference:e}=this.sceneView,t=m(e),r=t===u?l:t,s=!e||f(e,r)?r:e;this._worldSpatialReference=s,this._unitNormalizer.spatialReference=s,this.path.view=this.sceneView})),\"scene-view\"),this.reset(),this._handles.add(this.path.on(\"clear\",(()=>{this.notifyChange(\"numVertices\"),this._updateMeasurementData()}))),this._handles.add(this.path.on(\"vertex-update\",(()=>{this.notifyChange(\"numVertices\"),this._updateMeasurementData()}))),this._handles.add(this.watch(\"state\",(()=>this._updateMeasurementData()),!0)),this._handles.add(this.watch(\"fittingSettings\",(()=>this._updateMeasurementData())))}destroy(){this._handles.destroy(),this._handles=null}get validMeasurement(){return this.numVertices>=3&&\"measured\"===this.state||\"editing\"===this.state}get numVertices(){return this.path.numVertices}get measurementData(){return this._measurementData}_updateMeasurementData(){const e=this._measurementData;e.update(this.path,this.sceneView,this._unitNormalizer,this.validMeasurement,this.sceneView.renderSpatialReference,this._worldSpatialReference,this.fittingSettings),this.dataObject.result={area:e.area,geodesicArea:e.geodesicArea,pathLength:e.pathLength,geodesicPathLength:e.geodesicPathLength,perimeterLength:e.perimeterLength},this.notifyChange(\"measurementData\")}get area(){return this.measurementData.area}get geodesicArea(){return this.measurementData.geodesicArea}get areaLabel(){return this._formatAreaLabel(this.messages,\"geodesic\"===this.measurementMode?this.measurementData.geodesicArea:this.measurementData.area,this.unit)}get pathLength(){return this.measurementData.pathLength}get geodesicPathLength(){return this.measurementData.geodesicPathLength}get pathLengthLabel(){return this._formatLengthLabel(this.messages,\"geodesic\"===this.measurementMode?this.measurementData.geodesicPathLength:this.measurementData.pathLength,this.unit)}get perimeterLength(){return this.measurementData.perimeterLength}get geodesicPerimeterLength(){return this.measurementData.geodesicPathLength}get perimeterLengthLabel(){return this.measurementData.perimeterLength&&this._formatLengthLabel(this.messages,\"geodesic\"===this.measurementMode?this.measurementData.geodesicPathLength:this.measurementData.perimeterLength,this.unit)}get cursorSegmentLength(){const e=this.path.lastPoint;return t(e)&&t(this.cursorPoint)?new _(this._unitNormalizer.normalizeDistance(j.segmentLengthEuclidean(e,this.cursorPoint,this._worldSpatialReference)),\"meters\"):null}get geodesicCursorSegmentLength(){const e=this.path.lastPoint;return t(e)&&t(this.cursorPoint)?new _(j.segmentLengthGeodesic(e,this.cursorPoint),\"meters\"):null}get cursorSegmentLengthLabel(){return this._formatLengthLabel(this.messages,\"geodesic\"===this.measurementMode?this.geodesicCursorSegmentLength:this.cursorSegmentLength,this.unit)}get viewData(){const e=this.measurementData,t=\"geodesic\"===this.measurementMode,r=t?this.geodesicArea:this.area;let s=1;if(r){const e=this._toPreferredAreaUnit(r,this.unit);s=n(Math.sqrt(e.value)/Math.sqrt(300)),s*=Math.sqrt(d(1,e.unit,\"square-meters\")),s/=this._unitNormalizer.normalizeDistance(1)}return{validMeasurement:this.validMeasurement,path:this.path,positionsGeographic:e.positionsGeographic,positionsRenderCoords:e.positionsRenderCoords,positionsProjected:e.positionsProjectedWorldCoords,positionsFittedRenderCoords:e.positionsFittedRenderCoords,intersectingSegments:t?e.geodesicIntersectingSegments:e.intersectingSegments,triangleIndices:t?e.geodesicTriangleIndices:e.triangleIndices,fittingMode:e.fittingMode,areaCentroid:t?e.geodesicAreaCentroidRenderCoords:e.areaCentroidRenderCoords,pathLengthLabelSegmentIndex:this.validMeasurement?0:this.path.numVertices-2,perimeterLengthLabelSegmentIndex:0,checkerSize:s}}get measurementMode(){let e=this.mode;if(\"auto\"===e){e=\"euclidean\";(this.geodesicPathLength?this.geodesicPathLength.value:0)+(!this.validMeasurement&&this.geodesicCursorSegmentLength?this.geodesicCursorSegmentLength.value:0)>this.geodesicMeasurementDistanceThreshold&&(e=\"geodesic\")}return null==this.geodesicPathLength&&(e=\"euclidean\"),e}reset(){this.clearMeasurement(),this._updateMeasurementData()}clearMeasurement(){this.path.clear(),this.state=\"initial\",this.cursorPoint=null}finishMeasurement(){this.path.numVertices<3?this.clearMeasurement():this.state=\"measured\"}_preferredAreaUnit(e,t){switch(t){case\"metric\":return p(e.value,e.unit);case\"imperial\":return c(e.value,e.unit);default:return t}}_preferredLengthUnit(e,t){const r=this._deriveLengthUnitFromAreaUnit(t);switch(r){case\"metric\":return L(e.value,e.unit);case\"imperial\":return g(e.value,e.unit);default:return r}}_toPreferredAreaUnit(e,t){return e.toUnit(this._preferredAreaUnit(e,t))}_toPreferredLengthUnit(e,t){return e.toUnit(this._preferredLengthUnit(e,t))}_formatAreaLabel(e,t,r){return e&&t&&v(e,t,this._preferredAreaUnit(t,r))}_formatLengthLabel(e,t,r){return e&&t&&v(e,t,this._preferredLengthUnit(t,r))}_deriveLengthUnitFromAreaUnit(e){switch(e){case\"metric\":return\"metric\";case\"imperial\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\";case\"acres\":return\"imperial\";case\"ares\":case\"hectares\":return\"metric\"}throw new Error(\"unhandled area unit\")}};e([r()],S.prototype,\"messages\",void 0),e([r()],S.prototype,\"dataObject\",void 0),e([r({constructOnly:!0})],S.prototype,\"sceneView\",void 0),e([r({readOnly:!0})],S.prototype,\"path\",void 0),e([r()],S.prototype,\"cursorPoint\",void 0),e([r()],S.prototype,\"state\",void 0),e([r()],S.prototype,\"lastDraggedVertex\",void 0),e([r()],S.prototype,\"mode\",void 0),e([r()],S.prototype,\"unit\",void 0),e([r()],S.prototype,\"active\",void 0),e([r()],S.prototype,\"fittingSettings\",void 0),e([r({readOnly:!0})],S.prototype,\"validMeasurement\",null),e([r({readOnly:!0})],S.prototype,\"numVertices\",null),e([r({readOnly:!0})],S.prototype,\"measurementData\",null),e([r({readOnly:!0})],S.prototype,\"area\",null),e([r({readOnly:!0})],S.prototype,\"geodesicArea\",null),e([r({readOnly:!0})],S.prototype,\"areaLabel\",null),e([r({readOnly:!0})],S.prototype,\"pathLength\",null),e([r({readOnly:!0})],S.prototype,\"geodesicPathLength\",null),e([r({readOnly:!0})],S.prototype,\"pathLengthLabel\",null),e([r({readOnly:!0})],S.prototype,\"perimeterLength\",null),e([r({readOnly:!0})],S.prototype,\"geodesicPerimeterLength\",null),e([r({readOnly:!0})],S.prototype,\"perimeterLengthLabel\",null),e([r({readOnly:!0})],S.prototype,\"cursorSegmentLength\",null),e([r({readOnly:!0})],S.prototype,\"geodesicCursorSegmentLength\",null),e([r({readOnly:!0})],S.prototype,\"cursorSegmentLengthLabel\",null),e([r({readOnly:!0})],S.prototype,\"viewData\",null),e([r()],S.prototype,\"geodesicMeasurementDistanceThreshold\",void 0),e([r({readOnly:!0})],S.prototype,\"measurementMode\",null),S=e([s(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DModel\")],S);var U=S;export default U;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../../../../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Handles.js\";import{init as i}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as a}from\"../../../../interactive/InteractiveToolBase.js\";import d from\"./AreaMeasurement3DView.js\";import l from\"./AreaMeasurement3DController.js\";import n from\"./AreaMeasurement3DModel.js\";let p=class extends a{constructor(e){super(e),this._handles=new s,this.deferCreation=!0,this.model=new n({sceneView:e.view})}initialize(){this._view=new d(this.model,this.manipulators),this._controller=new l(this.model,this._view,this.manipulators),this._handles.add(i(this,\"state\",(e=>{switch(e){case\"measured\":return this.complete();case\"ready\":break;default:return this.create()}}),!0))}destroy(){this.detach(),this._view.destroy(),this._view=null,this._controller.destroy(),this._controller=null,this._handles.destroy(),this._handles=null}get state(){switch(this.model.state){case\"initial\":return this.model.numVertices>=1?\"measuring\":\"ready\";case\"drawing\":case\"editing\":return\"measuring\";case\"measured\":return\"measured\"}}get isSupported(){return\"3d\"===this.get(\"view.type\")}get cursor(){return!this.model.active||\"initial\"!==this.model.state&&\"drawing\"!==this.model.state?null:\"crosshair\"}activate(){this.model.active=!0}deactivate(){this.model.active=!1}onShow(){this._view.show()}onHide(){this._view.hide()}onDetach(){this.model.reset()}onInputEvent(e){this._controller.handleInputEvent(e)}};e([t({readOnly:!0})],p.prototype,\"state\",null),e([t({readOnly:!0})],p.prototype,\"isSupported\",null),e([t({readOnly:!0})],p.prototype,\"cursor\",null),e([t({constructOnly:!0})],p.prototype,\"model\",void 0),e([o(\"model.mode\")],p.prototype,\"mode\",void 0),e([o(\"model.unit\")],p.prototype,\"unit\",void 0),e([o(\"model.areaLabel\")],p.prototype,\"areaLabel\",void 0),e([o(\"model.area\")],p.prototype,\"area\",void 0),e([o(\"model.geodesicArea\")],p.prototype,\"geodesicArea\",void 0),e([o(\"model.pathLengthLabel\")],p.prototype,\"pathLengthLabel\",void 0),e([o(\"model.pathLength\")],p.prototype,\"pathLength\",void 0),e([o(\"model.geodesicPathLength\")],p.prototype,\"geodesicPathLength\",void 0),e([o(\"model.perimeterLengthLabel\")],p.prototype,\"perimeterLengthLabel\",void 0),e([o(\"model.perimeterLength\")],p.prototype,\"perimeterLength\",void 0),e([o(\"model.geodesicPerimeterLength\")],p.prototype,\"geodesicPerimeterLength\",void 0),e([o(\"model.validMeasurement\")],p.prototype,\"validMeasurement\",void 0),e([o(\"model.viewData\")],p.prototype,\"viewData\",void 0),p=e([r(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool\")],p);var m=p;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Handles.js\";import{measurementAreaUnits as o}from\"../../core/unitUtils.js\";import{init as n}from\"../../core/watchUtils.js\";import{defaultUnitPropertyMetadata as l}from\"../support/commonProperties.js\";import{InteractiveToolViewModel as a}from\"../support/InteractiveToolViewModel.js\";import u from\"../../views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js\";const p=e.getLogger(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\");let m=class extends a{constructor(t){super(t),this.supportedViewType=\"3d\",this._handles=new i,this._userUnitOptions=null,this._userUnit=null,this.tool=null}initialize(){this._handles.add([n(this,\"unit\",(t=>{this.tool&&(this.tool.model.unit=t)}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}get state(){return this.isDisabled?\"disabled\":this.tool?this.tool.state:\"ready\"}get measurement(){if(!this.tool||this.isDisabled)return null;const t=this.tool.model,e=t.measurementMode,r=t.measurementData,s=t.validMeasurement,i=0===(\"euclidean\"===e?r.intersectingSegments:r.geodesicIntersectingSegments).size,o=i?s?\"available\":\"unavailable\":\"invalid\";return{mode:e,area:{text:i&&s?t.areaLabel:null,state:o},perimeterLength:{text:i&&s?t.perimeterLengthLabel:null,state:o}}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null,this.notifyChange(\"unit\")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}start(){return this.createTool()}clear(){this.removeTool()}createToolParams(){return{toolConstructor:u,constructorArguments:()=>({unit:this.unit})}}logUnsupportedError(){p.error(\"AreaMeasurement3D widget is not implemented for MapView\")}logError(...t){p.error(...t)}_findSelectableUnit(t,e){const r=this.unitOptions;return-1!==r.indexOf(t)?t:e?this._findSelectableUnit(e):r[0]}_filteredOrAllUnits(t){if(!t)return o.slice();const e=t.filter((t=>-1!==o.indexOf(t)));return 0===e.length?o.slice():e}};t([r({readOnly:!0})],m.prototype,\"state\",null),t([r({readOnly:!0})],m.prototype,\"measurement\",null),t([r({constructOnly:!0})],m.prototype,\"tool\",void 0),t([r(l)],m.prototype,\"defaultUnit\",void 0),t([r()],m.prototype,\"unitOptions\",null),t([r()],m.prototype,\"unit\",null),m=t([s(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\")],m);var d=m;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import{isMeasurementSystem as a}from\"../core/unitUtils.js\";import\"./support/widgetUtils.js\";import{accessibleHandler as n}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as o}from\"./support/decorators/messageBundle.js\";import{j as l}from\"../chunks/index.js\";import u from\"./Widget.js\";import m from\"./AreaMeasurement3D/AreaMeasurement3DViewModel.js\";const p=\"esri-area-measurement-3d\",c={buttonDisabled:\"esri-button--disabled\",base:`${p} esri-widget esri-widget--panel`,container:`${p}__container`,hint:`${p}__hint`,hintText:`${p}__hint-text`,panelError:`${p}__panel--error`,measurement:`${p}__measurement`,measurementItem:`${p}__measurement-item`,measurementItemDisabled:`${p}__measurement-item--disabled`,measurementItemTitle:`${p}__measurement-item-title`,measurementItemValue:`${p}__measurement-item-value`,settings:`${p}__settings`,units:`${p}__units`,unitsLabel:`${p}__units-label`,unitsSelect:`${p}__units-select esri-select`,unitsSelectWrapper:`${p}__units-select-wrapper`,actionSection:`${p}__actions`,newMeasurementButton:`${p}__clear-button esri-button esri-button--primary`,widgetIcon:\"esri-icon-measure-area\"};let d=class extends u{constructor(e,t){super(e,t),this.view=null,this.visible=null,this.iconClass=c.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.viewModel=new m,this.unitOptions=null,this.unit=null}render(){const{isSupported:e,active:t,measurement:s,state:i,unit:r}=this.viewModel,n=\"disabled\"===i,o=\"ready\"===i,u=\"measuring\"===i||\"measured\"===i,{messages:m,messagesUnits:p}=this,d=t&&o?l(\"section\",{key:\"esri-area-measurement-3d__hint\",class:c.hint},l(\"p\",{class:c.hintText},m.hint)):null,v=e?null:l(\"section\",{key:\"esri-area-measurement-3d__unsupported\",class:c.panelError},l(\"p\",null,m.unsupported)),_=(e,t,s)=>{switch(t.state){case\"available\":return l(\"div\",{key:`${s}-enabled`,class:c.measurementItem},l(\"span\",{class:c.measurementItemTitle},e),l(\"span\",{class:c.measurementItemValue},t.text));case\"unavailable\":return l(\"div\",{key:`${s}-disabled`,class:this.classes(c.measurementItem,c.measurementItemDisabled)},l(\"span\",{class:c.measurementItemTitle},e));case\"invalid\":return l(\"div\",{key:`${s}-enabled`,class:c.measurementItem},l(\"span\",{class:c.measurementItemTitle},e),l(\"span\",{class:c.measurementItemValue},m.notApplicable))}},h=u?l(\"section\",{key:\"esri-area-measurement-3d__measurement\",class:c.measurement},_(m.area,s.area,\"area\"),_(m.perimeterLength,s.perimeterLength,\"perimeter-length\")):null,b=`${this.id}__units`,g=l(\"label\",{class:c.unitsLabel,for:b},m.unit),w=l(\"div\",{class:c.unitsSelectWrapper},l(\"select\",{class:c.unitsSelect,id:b,onchange:this._changeUnit,bind:this,value:r},this.viewModel.unitOptions.map((e=>{var t;return l(\"option\",{key:e,value:e},a(e)?p.systems[e]:null==(t=p.units[e])?void 0:t.pluralCapitalized)})))),y=u?l(\"section\",{key:\"esri-area-measurement-3d__units\",class:c.units},g,w):null,M=u?l(\"div\",{key:\"settings\",class:c.settings},y):null,$=!e||t&&!u?null:l(\"div\",{class:c.actionSection},l(\"button\",{disabled:n,class:this.classes(c.newMeasurementButton,n&&c.buttonDisabled),bind:this,onclick:this._newMeasurement,type:\"button\"},m.newMeasurement)),j=this.visible?l(\"div\",{class:c.container},v,d,M,h,$):null;return l(\"div\",{key:this,class:c.base,role:\"presentation\"},j)}_newMeasurement(){r(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.unit=s.value)}};e([s(\"viewModel.view\")],d.prototype,\"view\",void 0),e([s(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([s(\"viewModel.active\")],d.prototype,\"active\",void 0),e([t()],d.prototype,\"iconClass\",void 0),e([t({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([t(),o(\"esri/widgets/AreaMeasurement3D/t9n/AreaMeasurement3D\")],d.prototype,\"messages\",void 0),e([t(),o(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([t({type:m})],d.prototype,\"viewModel\",void 0),e([s(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([s(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([n()],d.prototype,\"_newMeasurement\",null),e([n()],d.prototype,\"_changeUnit\",null),d=e([i(\"esri.widgets.AreaMeasurement3D\")],d);var v=d;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import i from\"../../core/Handles.js\";import{init as l}from\"../../core/watchUtils.js\";import{evaluateToolConstructorArguments as n}from\"../../views/interactive/interactiveToolUtils.js\";let p=class extends s{constructor(t){super(t),this.tool=null,this._baseHandles=new i,this._loggedUnsupportedErrorOnce=!1,this._creationAbortController=null,t&&null!=t.visible&&(this.visible=t.visible)}initialize(){this._baseHandles.add(l(this,[\"view.ready\",\"isSupported\"],(()=>{this.view&&this.view.ready&&!this.isSupported?this._loggedUnsupportedErrorOnce||(this.logUnsupportedError(),this._loggedUnsupportedErrorOnce=!0):this._loggedUnsupportedErrorOnce=!1})))}destroy(){this.removeTool(),this.view=null,this._baseHandles.destroy(),this._baseHandles=null}get isSupported(){return!this.view||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(t){if(t===this.view)return;this.removeTool(),this._set(\"view\",t);const o=\"tools\";this._baseHandles.remove(o),t&&this._baseHandles.add(t.tools.on(\"change\",(t=>{if(this.tool)for(const o of t.removed)if(this.tool===o){o.destroyed||o.destroy(),this._set(\"tool\",null);break}})),o)}set visible(t){this._set(\"visible\",t),this.tool&&(this.tool.visible=t),!t&&this._creationAbortController&&(this._creationAbortController.abort(),this._creationAbortController=null)}get active(){return null!=this._creationAbortController||null!=this.tool&&this.tool.active}get isDisabled(){return!this.view||!this.view.ready||!this.isSupported}get creatingTool(){return!!this._creationAbortController}async createTool(){if(this.removeTool(),!this.isSupported)return Promise.reject(new r(\"tool:create\",\"The view does not support the tool\"));const t=this.createToolParams(),o=()=>{const o=n(t.constructorArguments);return{visible:this.visible,...o}},e=new AbortController,s=e.signal;this._creationAbortController=e;const i=()=>{e===this._creationAbortController&&(this._creationAbortController=null)};try{const e=await this.view.createTool(t.toolConstructor,o,{signal:s});this._set(\"tool\",e),i()}catch(l){throw i(),l}}removeTool(){this._creationAbortController&&this._creationAbortController.abort(),this._creationAbortController=null;const t=this.tool;t&&(this.view&&this.view.tools&&this.view.tools.remove(t),t.destroyed||t.destroy(),this._set(\"tool\",null))}};t([o({constructOnly:!0})],p.prototype,\"tool\",void 0),t([o()],p.prototype,\"isSupported\",null),t([o({value:null})],p.prototype,\"view\",null),t([o({type:Boolean,value:!0})],p.prototype,\"visible\",null),t([o()],p.prototype,\"active\",null),t([o()],p.prototype,\"isDisabled\",null),t([o()],p.prototype,\"_creationAbortController\",void 0),t([o({readOnly:!0})],p.prototype,\"creatingTool\",null),p=t([e(\"esri.widgets.support.InteractiveToolViewModel\")],p);export{p as InteractiveToolViewModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{c as o}from\"../../../../../chunks/vec3f64.js\";import{s as t,b as s,a as c}from\"../../../../../chunks/vec3.js\";import{i as f,t as a,s as i}from\"../../../../../chunks/mat4.js\";import{d as u,e as m,i as p}from\"../../../../../chunks/vec2.js\";const h=o();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){f(n),a(n,n,r),t(h,e,e,e),i(n,n,h)}function g(e,r){if(t(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)s(r,r,e[n]);c(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),u(n,U,x),m(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),p(w,y)}function T(e,r,n){return R(e,q,n),p(q,r)}const v=o(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n"],"sourceRoot":""}