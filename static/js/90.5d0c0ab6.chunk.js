(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[90,40,50,278,283],{1054:function(e,t,r){"use strict";var a=r(82),i=r(80),s=r(143),n=r(81),o=(r(88),r(85)),l=r(145),c=r(84),u=(r(83),r(86),r(87),r(165)),d=r(94),p=r(281),h=(r(171),r(115)),b=r(108),y=r(114),g=r(163),m=r(301),f=r(129),v=r(154),O=r(91),j=r(7),S=r(159),w=r(89),_=r(93),T=r(97),x=r(99),I=r(113),L=r(131),M=r(107),R=r(148),k=r(169),E=r(220),N=r(206),C=r(162),F=r(252),A=r(576),U=r(211),G=r(291),D=r(345),P=r(123),B=r(484),V=r(501),q=r(109),J=r(707),W=r(680),z=Object(J.a)({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for basic visualization of features.",schemes:{point:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:"1px"},size:"8px"}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:"1px"},size:"8px"}]}},polyline:{light:{primary:{color:[77,77,77,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[255,255,255,1],width:"2px"}]},dark:{primary:{color:[255,255,255,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[26,26,26,1],width:"2px"}]}},polygon:{light:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[128,128,128,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},{size:"12px",color:[255,255,255,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]},dark:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[178,178,178,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},{size:"12px",color:[26,26,26,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]}}}}}});function H(e){var t=Object(J.d)({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:z.get("default")});if(t){var{schemesInfo:r,basemapId:a,basemapTheme:i}=t;return{primaryScheme:K(e,r.primary),secondarySchemes:r.secondary.map((t=>K(e,t))).filter(Boolean),basemapId:a,basemapTheme:i}}}function K(e,t){var r="mesh"!==e.geometryType&&e.worldScale?e.view:null;switch(e.geometryType){case"point":case"multipoint":var a=t;return function(e,t){return{color:new q.a(e.color),outline:{color:new q.a(e.outline.color),width:e.outline.width},size:t?Object(W.a)(e.size,t):e.size,opacity:1}}({color:a.color,outline:Object(O.a)({},a.outline),size:a.size},r);case"polyline":var i=t;return function(e,t){return{color:new q.a(e.color),width:t?Object(W.a)(e.width,t):e.width,opacity:1}}({color:i.color,width:i.width},r);case"polygon":var s=t;return function(e,t){return{color:new q.a(e.color),outline:{color:new q.a(e.outline.color),width:e.outline.width},size:t?Object(W.a)(e.size,t):e.size,opacity:e.opacity}}({size:s.size,color:s.color,outline:Object(O.a)({},s.outline),opacity:s.opacity},r);case"mesh":var n=t;return function(e){return{color:new q.a(e.color),opacity:e.opacity}}({color:n.color,opacity:n.opacity})}}Object.freeze({__proto__:null,getThemes:function(e){return Object(J.e)(z,e)},getSchemes:H,cloneScheme:function(e){if(e){var t=Object(O.a)({},e);return t.color&&(t.color=new q.a(t.color)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new q.a(t.outline.color),width:t.outline.width}),t}}});var Z=r(743),$=r(744),X=r(869),Y=r(817),Q=r(895),ee=r(816);function te(e,t){return e.hasOwnProperty(t)&&null!=e[t]&&""!==e[t]}var re="esri.widgets.Search.SearchViewModel",ae=n.a.getLogger(re),ie="highlight",se=M.a.ofType({key:e=>e.layer?"layer":"locator",base:Z.a,typeMap:{layer:X.a,locator:Q.a}}),ne=x.a.WGS84,oe=/<(?:.|\s)*?>/g,le=-1,ce=class extends(Object(V.a)(L.a.EventedMixin(T.a))){constructor(e){super(e),this._handles=new h.a,this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new se,this.defaultSymbol=new A.a({url:Object(C.a)(Object(i.a)("trident")?"esri/images/search/search-symbol-32.png":"esri/images/search/search-symbol-32.svg"),size:24,width:24,height:24}),this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=1,this.popupEnabled=!0,this.popupTemplate=null,this.portal=F.a.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new se,this.suggestionDelay=150,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){var e=this,t=function(){var t=Object(j.a)((function*(){var t=yield Object(N.a)("esri/widgets/Search/t9n/Search");e.messages=t,e.defaultPopupTemplate=new k.a({title:t.searchResult,content:"{Match_addr}"})}));return function(){return t.apply(this,arguments)}}();t(),this._handles.add([Object(b.b)(this,["defaultSources","sources"],"change",(()=>this.notifyChange("allSources"))),Object(b.a)(this,["includeDefaultSources","view","portal"],(()=>this._update())),Object(R.c)(t)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?le:0}set activeSourceIndex(e){void 0!==e?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var e;return null==(e=this.messages)?void 0:e.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}get allSources(){var{sources:e,defaultSources:t,includeDefaultSources:r}=this,a="function"==typeof r?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new se;return i.removeAll(),i.addMany(a.filter(Boolean)),i}get locationEnabled(){return this._get("locationEnabled")||Object(ee.c)()}set locationEnabled(e){if(void 0!==e){var t=Object(ee.c)();if(e&&!t){var r=new _.a("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});ae.error(r)}this._override("locationEnabled",e&&t)}else this._clearOverride("locationEnabled")}get placeholder(){var{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===le)return r;var a=e.getItemAt(t);return a?a.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),""===e&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();var r=this._createSuggestionForSearch(e),a=this.when().then((()=>this._getResultsFromSources(r,t).then((e=>{var t={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(t,e,r);var a=this._getFirstResult(t.results),i=(r.location&&a?a.name:r.text).replace(oe,"");return this._set("searchTerm",i),(r.key&&"number"==typeof r.sourceIndex||r.location)&&this._set("selectedSuggestion",r),this._set("results",t.results),this._set("resultCount",t.results.reduce(((e,t)=>e+t.results.length),0)),this.emit("search-complete",t),this._selectFirstResult(a).then((()=>t))})))).then((e=>(this._clearSearching(),e)),(e=>{throw this._clearSearching(),e}));return this._searching=a,this.notifyChange("state"),a}searchNearby(e){if(!this.locationEnabled){var t=new _.a("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return ae.error(t),Promise.reject(t)}var r=Object(ee.a)().then((t=>Object(ee.b)({position:t,view:this.view},e))).then((t=>this.search(t,e)));return this._searching=r,this.notifyChange("state"),r.catch((()=>{})).then((()=>this._clearSearching())),r}select(e){if(this.clearGraphics(),!e){var t=new _.a("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return ae.error(t),Promise.reject(t)}var{view:r}=this,a=te(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),i=this.allSources.getItemAt(a);if(!i){var s=new _.a("select:missing-source","Cannot select without a source.",{source:i});return ae.error(s),Promise.reject(s)}var n=i instanceof X.a?this._getLayerSourcePopupTemplate(i):i.popupTemplate,o=i.resultSymbol||this._getDefaultSymbol(e),l=te(i,"resultGraphicEnabled")?i.resultGraphicEnabled:this.resultGraphicEnabled,c=te(i,"autoNavigate")?i.autoNavigate:this.autoNavigate,u=te(i,"popupEnabled")?i.popupEnabled:this.popupEnabled,p=u?n||this.popupTemplate||this.defaultPopupTemplate:null,{feature:h}=e;if(!h){var b=new _.a("select:missing-feature","Cannot select without a feature.",{feature:h});return ae.error(b),Promise.reject(b)}var{attributes:y,geometry:g,layer:m,sourceLayer:f}=h,v=Object($.b)(g),O={layerViewQuery:this._getLayerView(h),elevationQuery:r&&Object(w.k)(v)?Object($.c)(v,r).catch((()=>v)):Promise.resolve(v)};return Object(d.j)(O).then((t=>{var s=t.layerViewQuery.value,n=t.elevationQuery.value;o instanceof D.a&&(o.text=e.name);var d=r&&c?e.target||e.extent:null;return(Object(w.k)(d)?this._goToSearchResult(d):Promise.resolve()).then((()=>{var t,c=s?h:new P.a({geometry:g,symbol:o,attributes:y,layer:m,sourceLayer:f,popupTemplate:p}),d=u&&(null==(t=this.view)?void 0:t.popup),b=d&&c.getEffectivePopupTemplate(d.defaultPopupTemplateEnabled);return b&&r.popup.open({features:[c],location:n}),s&&Object(B.a)(s)&&!b&&this._highlightFeature({graphic:c,layerView:s}),!s&&l&&r&&r.graphics.push(c),this._set("selectedResult",e),this._set("resultGraphic",c),this.emit("select-result",{result:e,source:i,sourceIndex:a}),e}))}))}suggest(e,t,r){var a=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:a}),this._suggestTimer(t,r).then((()=>this._suggestImmediate(a,r).then((e=>(this._set("suggestions",e.results),this._set("suggestionCount",e.results.reduce(((e,t)=>e+t.results.length),0)),this.emit("suggest-complete",e),e)))))}when(){var e=this;return Object(j.a)((function*(){yield Object(b.g)(e,"updating")}))()}_update(){var e=this;return Object(j.a)((function*(){var{portal:t,view:r}=e;if(e.includeDefaultSources){var a=e._updatingPromise=Object(d.j)([null==t?void 0:t.load(),null==r?void 0:r.when()]);if(e.destroyed)return;if(e.notifyChange("updating"),yield a,a!==e._updatingPromise)return}e._updatingPromise=null,e.notifyChange("updating");var i=Object(b.j)(e,"messages");e.destroyed||(e._handles.add(i),yield i,e._updateDefaultSources())}))()}_clearSearching(){this._searching=null,this.notifyChange("state")}_convertHelperServices(){var e,t,r=null==(e=this.portal)||null==(t=e.helperServices)?void 0:t.geocode;return r?r.map((e=>{var t;if(!1!==e.placefinding){var r=S.a.apiKey&&Object(Y.c)(e.url)?{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer"}:null,a=Q.a.fromJSON(Object(O.a)(Object(O.a)({},e),r)),i=null==(t=a.locator)?void 0:t.url;if(Object(Y.c)(i)||Object(Y.e)(i)||Object(Y.d)(i)){var s=a.outFields||["Addr_type","Match_addr","StAddr","City"],n=a.placeholder||this.messages.placeholder,o="number"==typeof a.defaultZoomScale?a.defaultZoomScale:2500;a.set({singleLineFieldName:"SingleLine",outFields:s,placeholder:n,defaultZoomScale:o})}return a.singleLineFieldName?a:void 0}})).filter(Boolean):[]}_getLayerSources(e,t){var r,a=null==(r=this.view)?void 0:r.map;return e.map((e=>{var r=a.findLayerById(e.id);if(r){var i=this._getLayerJSON(e),s=X.a.fromJSON(i);return s.placeholder=t,this._getLayer(r,i).then((e=>{s.layer=e})),s}})).filter(Boolean).toArray()}_getTableSources(e,t){var r,a=null==(r=this.view)?void 0:r.map;return e.map((e=>{var r=a.findTableById(e.id);if(r){var i=this._getLayerJSON(e),s=X.a.fromJSON(i);return s.placeholder=t,this._getLayer(r,i).then((e=>{s.layer=e})),s}})).filter(Boolean).toArray()}_convertApplicationProperties(){var e,t,r,a=null==(e=this.view)?void 0:e.map,i=null==a||null==(t=a.applicationProperties)||null==(r=t.viewing)?void 0:r.search;if(!i)return[];var{enabled:s,hintText:n,layers:o,tables:l}=i;return s?[...this._getLayerSources(o,n),...this._getTableSources(l,n)]:[]}_getSubLayer(e,t){return e.load().then((()=>{if(!e.allSublayers)return Promise.reject();var r=e.allSublayers.find((e=>e.id===t.subLayer));return r?r.createFeatureLayer():Promise.reject()}))}_getBuildingSubLayer(e,t){return Object(j.a)((function*(){yield e.load();var r=e.allSublayers.find((e=>e.id===t.subLayer));return"building-component"!==(null==r?void 0:r.type)?Promise.reject():(yield r.load(),null==r.associatedLayer?Promise.reject():(yield r.associatedLayer.load(),r))}))()}_getLayer(e,t){return"feature"===e.type||"scene"===e.type||"csv"===e.type||"geojson"===e.type||"ogc-feature"===e.type?Promise.resolve(e):"map-image"===e.type?this._getSubLayer(e,t).catch((()=>{var t=new _.a("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return ae.error(t),null})):"building-scene"===e.type?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return"function"==typeof e.toJSON?e.toJSON():e}_updateDefaultSources(){var{defaultSources:e,includeDefaultSources:t}=this;e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()]),this.notifyChange("allSources")}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var e,t=null==(e=this.view)?void 0:e.popup,{resultGraphic:r}=this;if(t&&r){var{selectedFeature:a}=t;a&&a===r&&t.close()}}_suggestTimer(e,t){var r=null!=e?e:this.suggestionDelay;return Object(d.a)(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof P.a?Object($.b)(e.geometry):e instanceof I.a?e:Array.isArray(e)&&2===e.length?new I.a({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&te(e,"key")&&te(e,"text")&&te(e,"sourceIndex"))return e;var t=this._createLocationForSearch(e),r="string"==typeof e?e:this.searchTerm,{selectedSuggestion:a,selectedResult:i}=this,s=!e&&a&&i,n=s&&a.key===i.key&&a.sourceIndex===i.sourceIndex,o=s&&a.location;return n||o?a:{location:Object(w.q)(t),text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){var t=null;return e&&e.some((e=>{var{results:r}=e,a=r[0],i=!!a;return i&&(t=a),i})),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then((()=>this._getSuggestionsFromSources(e,t))).then((t=>{var r={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(r,t),r}))}_formatSourceResponse(e,t,r){var a=t&&t.value||[],i=t&&t.error,s=this.allSources.getItemAt(r);if(i){var n={sourceIndex:r,source:s,error:i};e.errors.push(n),e.numErrors++}else{var o={sourceIndex:r,source:s,results:a};e.results.push(o),e.numResults+=a.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===le){var a=r&&te(r,"sourceIndex")&&-1!==r.sourceIndex?r.sourceIndex:void 0;t.forEach(((t,r)=>{var i=void 0!==a?a:r;this._formatSourceResponse(e,t,i)}))}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){var{allSources:r}=this,a=!e.location&&te(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!r.length){var s=new _.a("search:no-sources-defined","At least one source is required.",{allSources:r});return ae.error(s),Promise.reject(s)}return a===le?r.forEach(((r,a)=>{i.push(this._getResultsFromSource(e,a,t))})):i.push(this._getResultsFromSource(e,a,t)),Object(d.j)(i)}_getSuggestionsFromSources(e,t){var{allSources:r,activeSourceIndex:a}=this,i=[];if(!r.length){var s=new _.a("suggest:no-sources-defined","At least one source is required.",{allSources:r});return ae.error(s),Promise.reject(s)}return a===le?r.forEach(((r,a)=>{i.push(this._getSuggestionsFromSource(e,a,t))})):i.push(this._getSuggestionsFromSource(e,a,t)),Object(d.j)(i)}_getResultsFromSource(e,t,r){var a,i=this.allSources.getItemAt(t),{location:s=null}=e,n=(null==(a=this.view)?void 0:a.spatialReference)||ne,o=te(i,"maxResults")?i.maxResults:this.maxResults,l=!!(i instanceof X.a&&te(i,"exactMatch"))&&i.exactMatch,{view:c}=this;return i.getResults({view:c,sourceIndex:t,location:s,suggestResult:e,spatialReference:n,exactMatch:l,maxResults:o},r)}_getSuggestionsFromSource(e,t,r){var a=this.allSources.getItemAt(t),i=te(a,"suggestionsEnabled")?a.suggestionsEnabled:this.suggestionsEnabled,s=e.length,n=te(a,"minSuggestCharacters")?a.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&s>=n){var o,l=(null==(o=this.view)?void 0:o.spatialReference)||ne,c=te(a,"maxSuggestions")?a.maxSuggestions:this.maxSuggestions,{view:u}=this;return a.getSuggestions({view:u,sourceIndex:t,suggestTerm:e,spatialReference:l,maxSuggestions:c},r)}return Promise.resolve(null)}createDefaultSymbol(e,t){if("point"===t){var r=e;return new G.a({color:e.color,size:r.size,outline:{color:r.outline.color,width:r.outline.width}})}if("polyline"===t){var a=e;return new E.a({color:a.color,width:a.width})}if("polygon"===t){var i=e;return new U.a({color:i.color,outline:{color:i.outline.color,width:i.outline.width}})}}_getLayerSourcePopupTemplate(e){var{layer:t}=e;if(t)return te(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){var t=this.results,r=null;return t.some((t=>t.results.some((a=>a===e&&(r=t.sourceIndex,!0))))),r}_goToSearchResult(e){var t=this;return Object(j.a)((function*(){var r=!!e;t._abortGoTo();var a=Object(d.d)();t._gotoController=a;var i={target:{target:e},options:{animate:r,signal:a.signal}};yield t.callGoTo(i),t._gotoController=null}))()}_getDefaultSymbol(e){var t,r,a,i=null==(t=this.view)||null==(r=t.map)||null==(a=r.basemap)?void 0:a.id,s=Object(w.i)(e,"feature","geometry","type");if(Object(w.k)(s)){var n=H({basemap:i,geometryType:s})||H({basemap:"topo",geometryType:s}),o=n&&n.primaryScheme;if(o)return o.color&&te(o,"opacity")&&(o.color.a=o.opacity),this.createDefaultSymbol(o,s)}return this.defaultSymbol}_removeHighlight(){this._handles.remove(ie)}_getLayerView(e){var t=this;return Object(j.a)((function*(){var{view:r}=t;if(!e||!r||"building-component"===e.layer.type)return Promise.resolve(null);var{layer:a}=e;return yield r.when(),r.whenLayerView(a)}))()}_highlightFeature(e){var{graphic:t,layerView:r}=e,{attributes:a,layer:i}=t,{objectIdField:s}=i,n=a&&a[s],o=r.highlight(n||t);this._handles.add(o,ie)}};ce.ALL_INDEX=le,Object(a.a)([Object(o.b)({readOnly:!0,value:null})],ce.prototype,"activeSource",null),Object(a.a)([Object(o.b)()],ce.prototype,"activeSourceIndex",null),Object(a.a)([Object(o.b)()],ce.prototype,"allPlaceholder",null),Object(a.a)([Object(o.b)({readOnly:!0,dependsOn:["defaultSources.length","sources.length","includeDefaultSources"]})],ce.prototype,"allSources",null),Object(a.a)([Object(o.b)()],ce.prototype,"autoNavigate",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"autoSelect",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"defaultPopupTemplate",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"defaultSources",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"defaultSymbol",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"includeDefaultSources",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"locationEnabled",null),Object(a.a)([Object(o.b)()],ce.prototype,"maxInputLength",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"maxResults",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"maxSuggestions",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"messages",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"minSuggestCharacters",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"placeholder",null),Object(a.a)([Object(o.b)()],ce.prototype,"popupEnabled",void 0),Object(a.a)([Object(o.b)({type:k.a})],ce.prototype,"popupTemplate",void 0),Object(a.a)([Object(o.b)({type:F.a})],ce.prototype,"portal",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"resultCount",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"resultGraphicEnabled",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"resultGraphic",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"results",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"selectedSuggestion",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"searchAllEnabled",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"selectedResult",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"searchTerm",null),Object(a.a)([Object(o.b)({type:se})],ce.prototype,"sources",void 0),Object(a.a)([Object(o.b)({readOnly:!0,dependsOn:["allSources.length","updating"]})],ce.prototype,"state",null),Object(a.a)([Object(o.b)()],ce.prototype,"suggestionDelay",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"suggestionCount",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"suggestions",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"suggestionsEnabled",void 0),Object(a.a)([Object(o.b)({readOnly:!0})],ce.prototype,"updating",null),Object(a.a)([Object(o.b)()],ce.prototype,"view",void 0),Object(a.a)([Object(o.b)()],ce.prototype,"clear",null);var ue=ce=Object(a.a)([Object(c.a)(re)],ce),de=r(261),pe="esri-search-result-renderer esri-widget",he="esri-widget__anchor",be="esri-search-result-renderer__more-results--show-more-results",ye="esri-search-result-renderer__more-results",ge="esri-search-result-renderer__more-results-list",me="esri-search-result-renderer__more-results-item",fe="esri-search-result-renderer__more-results-list-header",ve=class extends v.a{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){var e={[be]:this.showMoreResultsOpen};return Object(f.a)("div",{class:pe},Object(f.a)("div",{key:"esri-search-renderer__container",class:this.classes(ye,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return Object(f.a)("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var e,t=null==(e=this.viewModel)?void 0:e.selectedResult,r=t&&t.name||"";return Object(f.a)("div",{key:"esri-search-renderer__result-name",class:me},r)}renderMoreResultsLists(){var e,t=null==(e=this.viewModel)?void 0:e.results,{resultCount:r}=this.viewModel;if(r<2)return null;var a=t.map((e=>this.renderMoreResultsList(e)));return Object(f.a)("div",{key:"esri-search-renderer__more-results-container",class:ge},a)}renderMoreResultsButton(){var{messages:e}=this,{resultCount:t}=this.viewModel;return t<2?null:Object(f.a)("div",{key:"esri-search-renderer__more-results-button",class:me},Object(f.a)("a",{class:he,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return Object(f.a)("div",{key:"esri-search-result-renderer__header-".concat(t),class:fe},e)}renderMoreResultsList(e){var t,r,{results:a}=e,i=a.length,s=!!i,n=null==(t=this.viewModel)?void 0:t.selectedResult,o=1===i&&a[0]===n,l=this._getSourceName(e.source,e.sourceIndex),c=(null==(r=this.viewModel)?void 0:r.results.length)>1&&!o?this.renderMoreResultsHeader(l,e.sourceIndex):null,u=s&&a.map(((e,t)=>this.renderMoreResultsListItem(e,t))),d=s&&!o?Object(f.a)("ul",{key:"esri-search-result-renderer__list-".concat(e.sourceIndex)},u):null;return s?Object(f.a)("div",{key:"esri-search-result-renderer__results-".concat(e.sourceIndex)},c,d):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?Object(f.a)("li",{key:"esri-search-result-renderer__list-item-".concat(t)},Object(f.a)("a",{class:he,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;var t=this.get("viewModel.view.popup");t&&t.reposition()}_selectResultClick(e){e.preventDefault();var t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===ue.ALL_INDEX?this.messages.all:e.name}};Object(a.a)([Object(o.b)(),Object(g.a)("esri/widgets/Search/t9n/Search")],ve.prototype,"messages",void 0),Object(a.a)([Object(o.b)()],ve.prototype,"showMoreResultsOpen",void 0),Object(a.a)([Object(o.b)()],ve.prototype,"viewModel",void 0),Object(a.a)([Object(de.a)()],ve.prototype,"_showMoreResultsClick",null),Object(a.a)([Object(de.a)()],ve.prototype,"_selectResultClick",null);var Oe=ve=Object(a.a)([Object(c.a)("esri.widgets.Search.SearchResultRenderer")],ve),je="esri-search esri-widget",Se="esri-widget__loader",we="esri-widget__loader-text",_e="esri-widget__loader-animation",Te="esri-input",xe="esri-search--multiple-sources",Ie="esri-search--loading",Le="esri-search--searching",Me="esri-search--show-suggestions",Re="esri-search--sources",ke="esri-search--warning",Ee="esri-search__container",Ne="esri-search__input",Ce="esri-search__input-container",Fe="esri-search__form",Ae="esri-search__submit-button",Ue="esri-search__sources-button",Ge="esri-search__clear-button",De="esri-search__source-name",Pe="esri-search__suggestions-menu",Be="esri-search__suggestions-list",Ve="esri-search__suggestions-list--current-location",qe="esri-search__sources-menu",Je="esri-search__source",We="esri-search__warning-menu",ze="esri-search__warning-body",He="esri-search__warning-header",Ke="esri-search__warning-text",Ze="esri-search__no-value-text",$e="esri-widget--disabled",Xe="esri-widget--button",Ye="esri-icon-font-fallback-text",Qe="esri-icon-locate-circled",et="esri-menu",tt="esri-menu__list",rt="esri-menu__list-item",at="esri-menu__list-item--active",it="esri-menu__list-item--focus",st="esri-menu__header",nt="esri-icon-search",ot="esri-icon-down-arrow esri-search__sources-button--down",lt="esri-icon-up-arrow esri-search__sources-button--up",ct="esri-icon-close",ut="esri-icon-notice-triangle",dt="esri-icon-search",pt="esri-disabled",ht=/<[a-z/][\s\S]*>/i,bt=class extends v.a{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new h.a,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new Oe,this._relatedTarget=null,this._locateFailed=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=dt,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new ue,this.own(Object(b.d)(this,"searchTerm",(e=>{(e&&"warning"===this.activeMenu||!e&&!this.get("viewModel.selectedSuggestion.location"))&&(this.activeMenu="none")})),Object(b.b)(this,"viewModel.allSources","change",(()=>this._watchSourceChanges())),Object(b.a)(this,"activeMenu",(()=>this._resetActiveMenuItemIndex())),Object(b.a)(this,"viewModel.defaultPopupTemplate",(e=>{e&&(e.content=this._renderSearchResultsContent.bind(this))})))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return"".concat(this.viewModel.searchTerm).trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){this._inputNode&&(this.activeMenu="suggestion",this._inputNode.focus(),this.emit("search-focus"))}blur(e){this._inputNode&&(this._inputNode.blur(),this._inputBlur(e),this.emit("search-blur"))}search(e){this.activeMenu="none",this._cancelSuggest(),this._cancelSearch();var t=Object(d.d)(),{signal:r}=t;return this._searchController=t,this.viewModel.search(e,{signal:r}).catch((e=>{if(this._searchController===t)return this.activeMenu="none",this._searchController=null,e})).then((e=>{if(this._searchController===t)return this.activeMenu=e.numResults?"none":"warning",this._searchController=null,e}))}suggest(e){this._cancelSuggest();var t=Object(d.d)(),{signal:r}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:r}).then((e=>{if(this._suggestController===t)return this._suggestController=null,e.numResults&&(this.activeMenu="suggestion"),this._scrollToTopSuggestion(),e})).catch((()=>{if(this._suggestController===t)return this._suggestController=null,null}))}render(){var{state:e}=this.viewModel,t={[pt]:"disabled"===e,[$e]:this.disabled};return Object(f.a)("div",{class:this.classes(je,t)},"loading"===e?this.renderLoader():this.renderContainer())}renderSubmitButton(){var{messages:e}=this;return Object(f.a)("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(Ae,Xe),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle},Object(f.a)("span",{"aria-hidden":"true",class:nt}))}renderWarningMenu(){return Object(f.a)("div",{key:"esri-search__error-menu",class:this.classes(et,We)},Object(f.a)("div",{class:ze},this.renderWarning()))}renderSourceMenuButton(){var{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:a}=this,{activeSourceIndex:i,allSources:s}=this.viewModel;return s.length>1?Object(f.a)("button",{id:a,key:"esri-search__source-menu-button",bind:this,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":("source"===t).toString(),"aria-controls":r,class:this.classes(Ue,Xe),onclick:this._handleSourcesMenuToggleClick,onblur:this._sourcesButtonBlur,afterCreate:y.i,"data-node-ref":"_sourceMenuButtonNode"},Object(f.a)("span",{"aria-hidden":"true",class:ot}),Object(f.a)("span",{"aria-hidden":"true",class:lt}),Object(f.a)("span",{class:De},this._getSourceName(i))):null}renderSourcesList(){var{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:a,sourceMenuId:i,sourceMenuButtonId:s}=this,n="source"===a&&r>-1?this._buildId("source-item",r):null;return e.length>1?Object(f.a)("ul",{"aria-activedescendant":n,"aria-labelledby":s,id:i,role:"menu",bind:this,afterCreate:y.i,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:tt,tabIndex:-1},t?this.renderSource(ue.ALL_INDEX):null,e.map(((e,t)=>this.renderSource(t))).toArray()):null}renderSourcesMenu(){var{allSources:e}=this.viewModel;return e.length>1?Object(f.a)("div",{key:"esri-search__source-menu",class:this.classes(et,qe)},this.renderSourcesList()):null}renderLoader(){var{messages:e,messagesCommon:t}=this;return Object(f.a)("div",{class:Se,key:"base-loader"},Object(f.a)("span",{"aria-hidden":"true",class:_e}),Object(f.a)("span",{class:Ye},e.searchButtonTitle),Object(f.a)("span",{class:we},t.loading))}renderContainer(){var{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,a={[xe]:e.length>1,[Ie]:"loading"===t,[Le]:"searching"===t,[ke]:"warning"===r,[Re]:"source"===r,[Me]:"suggestion"===r};return Object(f.a)("div",{class:this.classes(a,Ee),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?Object(f.a)("button",{bind:this,class:this.classes(Ge,Xe),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearButtonFocus,title:this.messages.clearButtonTitle},Object(f.a)("span",{"aria-hidden":"true",class:ct})):null}renderLocationGroup(){var{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,a=t&&!r,i="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return a?Object(f.a)("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(tt,Be,Ve)},Object(f.a)("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(rt,i?it:null)},Object(f.a)("span",{"aria-hidden":"true",class:Qe})," ",e.useCurrentLocation)):null}renderInput(){var{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:a,suggestionsMenuId:i,inputId:s,_activeMenuItemIndex:n}=this,{maxInputLength:o,placeholder:l,searchTerm:c,suggestionCount:u}=this.viewModel,d=!((!t||r)&&!u),p="suggestion"===e&&n>-1?this._buildId("suggestion-item",n):null;return Object(f.a)("input",{"aria-activedescendant":p,"aria-autocomplete":"list","aria-expanded":(d&&"suggestion"===e).toString(),"aria-controls":d?i:null,"aria-owns":d?i:null,"aria-haspopup":"listbox","aria-label":a.searchButtonTitle,bind:this,placeholder:l,maxlength:o,autocomplete:"off",type:"text",class:this.classes(Te,Ne),value:c,id:s,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._handleInputClick,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:y.i,"data-node-ref":"_inputNode",onfocusout:this._storeRelatedTarget,onfocus:this.focus,onblur:this.blur,title:c?"":l})}renderForm(){return Object(f.a)("form",{key:"esri-search__form",bind:this,class:Fe,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){var{sourceIndex:t}=e,r=e.results.length,a=e.results;return r?Object(f.a)("ul",{role:"group",key:"esri-search__suggestion-list-".concat(t),class:this.classes(tt,Be)},a.map((e=>this.renderSuggestion(e,this._menuItemCount++)))):null}renderSuggestionsGroup(){var{suggestions:e}=this.viewModel;return e?e.map((e=>[this.renderSuggestionHeader(e),this.renderSuggestList(e)])):null}renderSuggestionsMenu(){var{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:a}=this,{suggestionCount:i}=this.viewModel,s=t&&!e||i;return this._menuItemCount=0,s?Object(f.a)("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes(et,Pe),role:"listbox","aria-labelledby":a,bind:this,afterCreate:y.i,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return Object(f.a)("div",{key:"esri-search__input-container",class:Ce},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){var{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:a}=e,i=e.results.length,s=t.length>1&&r===ue.ALL_INDEX;return i&&s?Object(f.a)("div",{key:"esri-search__suggestion-header-".concat(a),class:st},this._getSourceName(a)):null}renderSuggestion(e,t){var{_activeMenuItemIndex:r,messages:a}=this,{searchTerm:i}=this.viewModel;if(i){var{text:s}=e,n=s||a.untitledResult,o=ht.test(n),l=[];if(o)l.push(Object(f.a)("div",{innerHTML:n}));else{var c=this._splitResult(n,i),u=i.toLowerCase();c.forEach(((e,t)=>{e&&e.length&&(e.toLowerCase()===u?l.push(Object(f.a)("strong",{key:t},e)):l.push(e))}))}var d="suggestion"===this.activeMenu&&r===t;return Object(f.a)("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:"esri-search__suggestion_".concat(t),"data-suggestion":e,role:"option",class:this.classes(rt,d?it:null)},l)}}renderSource(e){var{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,a={[at]:e===t,[it]:"source"===this.activeMenu&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=r?e+1:e;return Object(f.a)("li",{bind:this,key:"esri-search__source-".concat(e),id:this._buildId("source-item",i),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(Je,rt,a)},this._getSourceName(e))}renderNoResultsWarning(e){var{messages:t}=this,r=e?Object(p.a)(t.noResultsFoundForValue,{value:'"'.concat(e,'"')}):t.noResultsFound;return Object(f.a)("div",{key:"esri-search__no_results"},Object(f.a)("div",{class:He},t.noResults),Object(f.a)("div",{class:Ke},r))}renderEmptySearchWarning(){var{messages:e}=this;return Object(f.a)("div",{key:"esri-search__empty-search"},Object(f.a)("span",{"aria-hidden":"true",class:ut}),Object(f.a)("span",{class:Ze},e.emptyValue))}renderLocateWarning(){var{messages:e}=this;return Object(f.a)("div",{key:"esri-search__locate-error"},Object(f.a)("span",{"aria-hidden":"true",class:ut}),Object(f.a)("span",{class:Ze},e.locateError))}renderWarning(){var e,{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:a}=this;return r?this.renderLocateWarning():null!=(e=a.selectedSuggestion)&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return"".concat(this.id,"-").concat(e).concat(void 0===t?"":"-".concat(t))}_watchSourceChanges(){var{_handles:e,viewModel:{allSources:t}}=this,r="sources";e.remove(r),t.forEach((t=>e.add(Object(b.d)(t,"name",(()=>this.scheduleRender())),r)))}_handleSourcesMenuToggleClick(){var e,t="source"===this.activeMenu;this.activeMenu=t?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(e=this._sourceListNode)||e.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){var t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();var e=Object(d.d)(),{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).catch((()=>{this._locateFailed=!0,this.activeMenu="warning"})).then((()=>{this._searchController=null}))}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var t;if(e){var r=e["data-source-index"];this.viewModel.activeSourceIndex=r,this.activeMenu="none",null==(t=this._sourceMenuButtonNode)||t.focus()}}_sourcesButtonBlur(e){var t=e&&e.relatedTarget;this._removeActiveMenu(t,this._sourceListNode)}_inputBlur(e){var t=e&&e.relatedTarget;this._removeActiveMenu(t||this._relatedTarget,this._suggestionListNode)}_storeRelatedTarget(e){this._relatedTarget=e.relatedTarget}_clearButtonFocus(){this.activeMenu="none"}_removeActiveMenu(e,t){!e||e&&t&&t.contains(e)||(this.activeMenu="none")}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var t,r=Object(u.a)(e);if(!e.ctrlKey&&!e.metaKey&&"Copy"!==r&&"ArrowLeft"!==r&&"ArrowRight"!==r&&"Shift"!==r){if("Tab"===r||"Escape"===r||e.shiftKey&&"Tab"===r)return this._cancelSuggest(),void("Escape"===r&&(this.activeMenu="none"));var a="Home"===r||"End"===r||"ArrowUp"===r||"ArrowDown"===r;if("Enter"===r&&this._activeMenuItemIndex<0)this._cancelSuggest();else{var i=null==(t=this._suggestionListNode)?void 0:t.getElementsByTagName("li");if(null!=i&&i.length){if("suggestion"!==this.activeMenu&&(this.activeMenu="suggestion"),a)return e.preventDefault(),this._cancelSuggest(),void this.handleItemNavigation(r,i,this._suggestionListNode);var s=i[this._activeMenuItemIndex];if("Enter"===r&&s){var n=s["data-suggestion"];return void(n?(this._focus(),this.search(n)):s["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}}}handleItemNavigation(e,t,r){var a=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),a!==this._activeMenuItemIndex&&Object(y.g)(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_handleInputClick(){this.activeMenu="suggestion"}_handleInputPaste(e){var t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){var t=Object(u.a)(e);if(" "!==t&&"Enter"!==t)"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault();else{e.preventDefault();var r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}}_handleSourceMenuKeyup(e){var t,r,a=Object(u.a)(e),i="ArrowUp"===a||"ArrowDown"===a||"End"===a||"Home"===a;if(i&&e.preventDefault(),"Escape"===a)return this.activeMenu="none",void(null==(r=this._sourceMenuButtonNode)||r.focus());var s=null==(t=this._sourceListNode)?void 0:t.getElementsByTagName("li");return s&&0!==s.length&&i?("source"!==this.activeMenu&&(this.activeMenu="source"),void this.handleItemNavigation(a,s,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(e){var{messages:t}=this,r=this.viewModel,{allSources:a}=r,i=a.getItemAt(e);return e===ue.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_splitResult(e,t){var r=Object(s.a)(t);return e.replace(new RegExp("(^|)(".concat(r,")(|$)"),"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};Object(a.a)([Object(o.b)()],bt.prototype,"_activeMenuItemIndex",void 0),Object(a.a)([Object(o.b)()],bt.prototype,"displayedSearchTerm",null),Object(a.a)([Object(o.b)({readOnly:!0})],bt.prototype,"inputId",null),Object(a.a)([Object(o.b)({readOnly:!0})],bt.prototype,"suggestionsMenuId",null),Object(a.a)([Object(o.b)({readOnly:!0})],bt.prototype,"sourceMenuId",null),Object(a.a)([Object(o.b)({readOnly:!0})],bt.prototype,"sourceMenuButtonId",null),Object(a.a)([Object(o.b)()],bt.prototype,"activeMenu",void 0),Object(a.a)([Object(l.a)("viewModel.activeSource")],bt.prototype,"activeSource",void 0),Object(a.a)([Object(l.a)("viewModel.activeSourceIndex")],bt.prototype,"activeSourceIndex",void 0),Object(a.a)([Object(l.a)("viewModel.allPlaceholder")],bt.prototype,"allPlaceholder",void 0),Object(a.a)([Object(l.a)("viewModel.allSources")],bt.prototype,"allSources",void 0),Object(a.a)([Object(l.a)("viewModel.autoNavigate")],bt.prototype,"autoNavigate",void 0),Object(a.a)([Object(l.a)("viewModel.autoSelect")],bt.prototype,"autoSelect",void 0),Object(a.a)([Object(l.a)("viewModel.defaultSources")],bt.prototype,"defaultSources",void 0),Object(a.a)([Object(o.b)()],bt.prototype,"disabled",void 0),Object(a.a)([Object(l.a)("viewModel.goToOverride")],bt.prototype,"goToOverride",void 0),Object(a.a)([Object(o.b)()],bt.prototype,"iconClass",void 0),Object(a.a)([Object(l.a)("viewModel.includeDefaultSources")],bt.prototype,"includeDefaultSources",void 0),Object(a.a)([Object(o.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],bt.prototype,"label",void 0),Object(a.a)([Object(l.a)("viewModel.locationEnabled")],bt.prototype,"locationEnabled",void 0),Object(a.a)([Object(l.a)("viewModel.maxResults")],bt.prototype,"maxResults",void 0),Object(a.a)([Object(l.a)("viewModel.maxSuggestions")],bt.prototype,"maxSuggestions",void 0),Object(a.a)([Object(o.b)(),Object(g.a)("esri/widgets/Search/t9n/Search")],bt.prototype,"messages",void 0),Object(a.a)([Object(o.b)(),Object(g.a)("esri/t9n/common")],bt.prototype,"messagesCommon",void 0),Object(a.a)([Object(l.a)("viewModel.minSuggestCharacters")],bt.prototype,"minSuggestCharacters",void 0),Object(a.a)([Object(l.a)("viewModel.popupEnabled")],bt.prototype,"popupEnabled",void 0),Object(a.a)([Object(l.a)("viewModel.popupTemplate")],bt.prototype,"popupTemplate",void 0),Object(a.a)([Object(l.a)("viewModel.portal")],bt.prototype,"portal",void 0),Object(a.a)([Object(l.a)("viewModel.resultGraphic")],bt.prototype,"resultGraphic",void 0),Object(a.a)([Object(l.a)("viewModel.resultGraphicEnabled")],bt.prototype,"resultGraphicEnabled",void 0),Object(a.a)([Object(l.a)("viewModel.results")],bt.prototype,"results",void 0),Object(a.a)([Object(l.a)("viewModel.searchAllEnabled")],bt.prototype,"searchAllEnabled",void 0),Object(a.a)([Object(l.a)("viewModel.searchTerm")],bt.prototype,"searchTerm",void 0),Object(a.a)([Object(l.a)("viewModel.selectedResult")],bt.prototype,"selectedResult",void 0),Object(a.a)([Object(l.a)("viewModel.sources")],bt.prototype,"sources",void 0),Object(a.a)([Object(l.a)("viewModel.suggestions")],bt.prototype,"suggestions",void 0),Object(a.a)([Object(l.a)("viewModel.suggestionsEnabled")],bt.prototype,"suggestionsEnabled",void 0),Object(a.a)([Object(l.a)("viewModel.view")],bt.prototype,"view",void 0),Object(a.a)([Object(m.a)(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),Object(o.b)({type:ue})],bt.prototype,"viewModel",void 0),Object(a.a)([Object(l.a)("viewModel.clear")],bt.prototype,"clear",null);var yt=bt=Object(a.a)([Object(c.a)("esri.widgets.Search")],bt);t.a=yt},1112:function(e,t,r){},117:function(e,t,r){"use strict";r.d(t,"a",(function(){return J})),r.d(t,"b",(function(){return T})),r.d(t,"c",(function(){return I})),r.d(t,"d",(function(){return B})),r.d(t,"e",(function(){return D})),r.d(t,"f",(function(){return G})),r.d(t,"g",(function(){return A})),r.d(t,"h",(function(){return P})),r.d(t,"i",(function(){return U})),r.d(t,"j",(function(){return u})),r.d(t,"k",(function(){return x})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return C})),r.d(t,"n",(function(){return W})),r.d(t,"o",(function(){return _})),r.d(t,"p",(function(){return j})),r.d(t,"q",(function(){return S})),r.d(t,"r",(function(){return N})),r.d(t,"s",(function(){return R})),r.d(t,"t",(function(){return k})),r.d(t,"u",(function(){return E})),r.d(t,"v",(function(){return L})),r.d(t,"w",(function(){return M})),r.d(t,"x",(function(){return F}));var a=r(91),i=(r(80),r(95)),s=r(257),n=r(112),o=r(99),l=r(139),c=r(173),u=39.37,d=l.a.radius*Math.PI/200,p=/UNIT\[([^\]]+)\]\]$/i,h=s.a,b=/UNIT\[([^\]]+)\]/i,y=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),g=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,f=e=>e*e*e,v={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*f(.001)},"cubic-centimeters":{inBaseUnits:1e3*f(.01)},"cubic-decimeters":{inBaseUnits:1e3*f(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*f(1e3)},"cubic-inches":{inBaseUnits:1e3*f(.0254)},"cubic-feet":{inBaseUnits:1e3*f(.3048)},"cubic-yards":{inBaseUnits:1e3*f(.9144)},"cubic-miles":{inBaseUnits:1e3*f(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){var e={};for(var t in v)for(var r in v[t].units)e[r]=t;return e}();var j=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],S=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function w(e){return"imperial"===e||"metric"===e}function _(e){var t=O[e];if(t)return t;throw new Error("unknown measure")}function T(e){return function(e){return v[e].baseUnit}(_(e))}function x(e,t=null){return t=t||_(e),v[t].baseUnit===e}function I(e,t,r){if(t===r)return e;var a=_(t);if(a!==_(r))throw new Error("incompatible units");var i=x(t,a)?e:function(e,t,r){return e*v[r].units[t].inBaseUnits}(e,t,a);return x(r,a)?i:function(e,t,r){return e/v[r].units[t].inBaseUnits}(i,r,a)}function L(e,t){return I(e,t,"meters")<3e3?"meters":"kilometers"}function M(e,t){return I(e,t,"meters")<1e5?"meters":"kilometers"}function R(e,t){return I(e,t,"feet")<1e3?"feet":"miles"}function k(e,t){return I(e,t,"feet")<1e5?"feet":"miles"}function E(e,t){return I(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function N(e,t){return I(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function C(e,t,r){return I(e,t,"meters")/(r*Math.PI/180)}function F(e){return g.fromJSON(e.toLowerCase())||null}function A(e){if(e&&"object"==typeof e&&!Object(n.e)(e))return 1;var t=G(e);return t>1e5?1:t}function U(e){return G(e)>=(e instanceof o.a?Object(c.e)(e).metersPerDegree:1e5)?"meters":P(e)}function G(e,t=l.a.metersPerDegree){return D(e,!0)||t}function D(e,t=!1){var r,a,i=null;if(null!=e&&("object"==typeof e?(r=e.wkid,a=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(a=e)),r){if(Object(n.k)(r))return l.b.metersPerDegree;if(Object(n.l)(r))return l.c.metersPerDegree;!(i=h.values[h[r]])&&t&&y.has(r)&&(i=d)}else if(a)if(-1!==a.search(/^PROJCS/i)){var s=p.exec(a);s&&s[1]&&(i=parseFloat(s[1].split(",")[1]))}else if(-1!==a.search(/^GEOCCS/i)){var o=b.exec(a);o&&o[1]&&(i=parseFloat(o[1].split(",")[1]))}return i}function P(e){var t,r,a=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)a=h.units[h[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var i=p.exec(r);i&&i[1]&&(a=(i=/[\\"\\']{1}([^\\"\\']+)/.exec(i[1]))&&i[1])}return a?F(a):null}function B(e){if(!e)return null;switch(P(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}var V={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},q={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},J=Object(i.b)()(V),W=Object(i.b)()(q);Object(i.b)()(Object(a.a)(Object(a.a)({},V),q))},118:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return Z})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return M})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return k})),r.d(t,"i",(function(){return F})),r.d(t,"j",(function(){return ce})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return w})),r.d(t,"o",(function(){return N})),r.d(t,"p",(function(){return C})),r.d(t,"q",(function(){return v})),r.d(t,"r",(function(){return D})),r.d(t,"s",(function(){return re})),r.d(t,"t",(function(){return O})),r.d(t,"u",(function(){return Q})),r.d(t,"v",(function(){return X})),r.d(t,"w",(function(){return Y})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return f})),r.d(t,"z",(function(){return te})),r.d(t,"A",(function(){return le}));var a=r(7),i=r(124),s=r(89),n=r(93),o=r(149),l=r(152),c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function d(e,t){if(null!=e&&null!=t)for(var r of Array.isArray(e)?e:[e])if(p(c,r,t),"visualVariables"in r&&r.visualVariables)for(var a of r.visualVariables)p(u,a,t)}function p(e,t,r){if(e)for(var a of e){var s=Object(i.b)(a,t),n=s&&"function"!=typeof s&&v(r,s);n&&Object(i.c)(a,n.name,t)}}function h(e,t){if(null!=e&&null!=t)if("startField"in e){var r=v(t,e.startField),a=v(t,e.endField);e.startField=r&&r.name||null,e.endField=a&&a.name||null}else{var i=v(t,e.startTimeField),s=v(t,e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=s&&s.name||null}}var b=new Set;function y(e,t){return e&&t?(b.clear(),g(b,e,t),Array.from(b).sort()):[]}function g(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(var{name:a}of t)e.add(a);else for(var i of r)m(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(var s of r)e.add(s)}}function m(e,t,r){if(t&&t.length){var a=v(t,r);a&&e.add(a.name)}else"string"==typeof r&&e.add(r)}function f(e,t){return Object(s.j)(t)||Object(s.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function v(e,t){if("string"!=typeof t)return null;if(null!=e)for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return r;return null}function O(e,t){if(!e||!t||"string"!=typeof t)return!1;for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return!0;return!1}function j(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(a.a)((function*(e,t,r){if(r){var{arcadeUtils:a}=yield Object(l.e)(),i=a.extractFieldNames(r);for(var s of i)m(e,t,s)}}))).apply(this,arguments)}function w({displayField:e,fields:t}){return e||(t&&t.length?_(t,"name-or-title")||_(t,"unique-identifier")||_(t,"type-or-category")||function(e){for(var t of e)if(t&&t.name){var r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}(t):null)}function _(e,t){for(var r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function T(e,t){return x.apply(this,arguments)}function x(){return(x=Object(a.a)((function*(e,t){if(t){var{fields:r}=t,a=Object(i.b)("elevationInfo.featureExpressionInfo",t);return a?a.collectRequiredFields(e,r):void 0}}))).apply(this,arguments)}function I(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(a.a)((function*(e,t,r){r.outStatistic.onStatisticValueExpression?j(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}))).apply(this,arguments)}function M(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(a.a)((function*(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&(yield Promise.all(r.fields.map((r=>I(e,t.fields,r)))))}))).apply(this,arguments)}function k(e,t,r){return E.apply(this,arguments)}function E(){return(E=Object(a.a)((function*(e,t,a){if(t&&(t.timeInfo&&Object(s.k)(a)&&a.timeExtent&&g(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&g(e,t.fields,[t.floorInfo.floorField]),Object(s.k)(a)&&Object(s.k)(a.where)&&a.where&&"1=1"!==a.where)){var i=(yield Promise.all([r.e(11),r.e(273)]).then(r.bind(null,272))).WhereClause.create(a.where,t.fieldsIndex);if(!i.isStandardized)throw new n.a("fieldUtils:collectFilterFields","Where clause is not standardized");g(e,t.fields,i.fieldNames)}}))).apply(this,arguments)}function N(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?y(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function C(e){if(!e)return[];var t=e.geometryFieldsInfo;return t?y(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}function F(e,t){return A.apply(this,arguments)}function A(){return(A=Object(a.a)((function*(e,t){var{labelingInfo:r,fields:a}=t;r&&r.length&&(yield Promise.all(r.map((t=>U(e,a,t)))))}))).apply(this,arguments)}function U(e,t,r){return G.apply(this,arguments)}function G(){return(G=Object(a.a)((function*(e,t,r){if(r){var a=r.getLabelExpression(),i=r.where;if("arcade"===a.type)yield j(e,t,a.expression);else{var s=a.expression.match(/{[^}]*}/g);s&&s.forEach((r=>{m(e,t,r.slice(1,-1))}))}var n=/['"]+/g;if(i){var o=i.split(" ");3===o.length&&m(e,t,o[0].replace(n,"")),7===o.length&&(m(e,t,o[0].replace(n,"")),m(e,t,o[4].replace(n,"")))}}}))).apply(this,arguments)}function D(e){var t=e.defaultValue;return void 0!==t&&H(e,t)?t:e.nullable?null:void 0}function P(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function B(e){return null===e||P(e)}var V="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function q(e){return null===e||V(e)}function J(e){return null!=e&&"string"==typeof e}function W(e){return null===e||J(e)}function z(){return!0}function H(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?q:V;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?B:P;break;case"string":case"esriFieldTypeString":r=e.nullable?W:J;break;default:r=z}return 1===arguments.length?r:r(t)}var K,Z,$=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function X(e){return null!=e&&$.has(e.type)}function Y(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Q(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:X(e)&&!function(e,t){var r="string"==typeof e?ae(e):e;return!!r&&(r.isInteger?V(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?K.OUT_OF_RANGE:H(e,t)?e.domain?Object(o.e)(e.domain,t):null:Z.INVALID_TYPE}function re(e){return Object(o.c)(e.domain)||(X(e)?ae(e.type):void 0)}function ae(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ie;case"esriFieldTypeInteger":case"integer":return se;case"esriFieldTypeSingle":case"single":return ne;case"esriFieldTypeDouble":case"double":return oe}}(K||(K={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Z||(Z={}));var ie={min:-32768,max:32767,isInteger:!0},se={min:-2147483648,max:2147483647,isInteger:!0},ne={min:-34e37,max:12e37,isInteger:!1},oe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function le(e,t,r){switch(e){case o.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case o.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case Z.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case K.OUT_OF_RANGE:var{min:a,max:i}=ae(t.type);return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(a," to ").concat(i)}}function ce(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(s.k)(r))for(var a of e)r.add(a);return!0}var i=t.attributes,n=!1;for(var o of e)if(!(o in i)){if(n=!0,!Object(s.k)(r))break;r.add(o)}return n}(e,t,null)}},121:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88),r(85)),s=r(95),n=r(102),o=r(84),l=(r(83),r(86),r(87),r(90)),c=new s.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),u=class extends l.a{constructor(e){super(e),this.name=null,this.type=null}};Object(a.a)([Object(i.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(a.a)([Object(n.a)(c)],u.prototype,"type",void 0);var d=u=Object(a.a)([Object(o.a)("esri.layers.support.Domain")],u);t.a=d},123:function(e,t,r){"use strict";var a,i=r(91),s=r(82),n=(r(80),r(92)),o=r(89),l=(r(81),r(88),r(85)),c=r(84),u=(r(83),r(86),r(87),r(90)),d=r(100),p=r(101),h=r(169),b=r(138),y=r(189),g=a=class extends u.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(y.a)(),configurable:!0})}normalizeCtorArgs(e,t,r,a){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:a}}set attributes(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(o.k)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(o.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(o.k)(this.symbol)?this.symbol.toJSON():null,attributes:Object(i.a)({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new a(this.cloneProperties())}cloneProperties(){return{attributes:Object(n.a)(this.attributes),geometry:Object(n.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(n.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,a){if(this.layer&&"graphicChanged"in this.layer){var i={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(i.attributeName=a),this.layer.graphicChanged(i)}}};Object(s.a)([Object(l.b)({value:null})],g.prototype,"attributes",null),Object(s.a)([Object(l.b)({value:null,types:p.a,json:{read:d.a}})],g.prototype,"geometry",null),Object(s.a)([Object(l.b)({type:Boolean})],g.prototype,"isAggregate",void 0),Object(s.a)([Object(l.b)()],g.prototype,"layer",void 0),Object(s.a)([Object(l.b)({type:h.a})],g.prototype,"popupTemplate",void 0),Object(s.a)([Object(l.b)()],g.prototype,"sourceLayer",void 0),Object(s.a)([Object(l.b)({value:null,types:b.e})],g.prototype,"symbol",null),Object(s.a)([Object(l.b)({type:Boolean,value:!0})],g.prototype,"visible",null),g=a=Object(s.a)([Object(c.a)("esri.Graphic")],g),(g||(g={})).generateUID=y.a;var m=g;t.a=m},1256:function(e,t,r){"use strict";r.r(t),r.d(t,"PropertySearch",(function(){return v}));var a,i,s,n,o=r(1),l=r(1054),c=(r(1112),r(107)),u=r(869),d=r(94),p=(e,t,r,a,i,s,n,o,l)=>new u.a({placeholder:e,name:t,maxSuggestions:6,getSuggestions:e=>((e,t,r,a,i,s,n,o)=>{var l=[];return s.forEach((t=>{n?l.push("".concat(t," LIKE '").concat(e.suggestTerm.toUpperCase(),"%'")):l.push("".concat(t," LIKE '%").concat(e.suggestTerm.toUpperCase(),"%'"))})),r.queryFeatures({returnDistinctValues:!0,outFields:a,returnGeometry:!1,num:o.activeSource?50:6,where:l.join(" OR ")}).then((r=>((e,t,r)=>{for(var a=[],i=[],s=0;s<r.length;s++)0===r[s].attributes[t].indexOf(e)?a.push(r[s]):i.push(r[s]);return a.sort(),i.sort(),a.concat(i)})(e.suggestTerm.toUpperCase(),s[0],r.features).map((r=>({key:t,text:r.getAttribute(a[0]),sourceIndex:e.sourceIndex})))))})(e,t,r,a,0,s,n,l),getResults:e=>r.queryFeatures({where:"".concat(i[0]," = '").concat(e.suggestResult.text.toUpperCase(),"'"),outFields:o}).then((e=>e.features.map((e=>({feature:e,name:t})))))}),h=e=>d.c((t=>{var r=a.relationships.find((e=>"CONDO_PROPERTY"===e.name));a.queryRelatedFeatures({relationshipId:null===r||void 0===r?void 0:r.id,objectIds:e,outFields:["OBJECTID","REID"],returnGeometry:!1}).then((e=>{var r=[];for(var a in e)e[a].features.forEach((e=>{r.push(e.getAttribute("OBJECTID"))}));n.queryFeatures({objectIds:r,outFields:["*"],returnGeometry:!0,outSpatialReference:{wkid:102100}}).then((e=>{s.view.goTo({target:e.features}),t(e.features)}))}))})),b=(e,t)=>d.c(((r,i)=>{var s={outFields:["*"]};""!=e?s.where=e:s.objectIds=t,a.queryFeatures(s).then((e=>{var t=[];e.features.forEach((e=>{t.push(e.getAttribute("OBJECTID"))})),h(t).then((t=>{if(e.features.length>1&&r({properties:t,features:e.features}),1===e.features.length){var s=e.features[0];s.geometry=t[0].geometry,s.layer=a,r({properties:t,features:e.features,feature:s})}i("no results")}))}))})),y=(e,t,r,s)=>d.c((n=>{var o;e||"Owner"!==t||(e=a),!e&&["Site Address","Street Name"].includes(t)&&(e=i);var l=[];r.forEach((e=>{l.push(e.feature.getAttribute("OBJECTID"))}));var c="";4===(null===(o=e)||void 0===o?void 0:o.layerId)?(c="".concat("Street Name"===t?"FULL_STREET_NAME":"SITE_ADDRESS"," = '").concat(s,"'"),((e,t)=>d.c((r=>{var i=t.relationships.find((e=>"ADDRESSES_CONDO"===e.name)),s={outFields:["*"],objectIds:e,relationshipId:null===i||void 0===i?void 0:i.id};t.queryRelatedFeatures(s).then((e=>{var t=[],i=[];for(var s in e)e[s].features.forEach((e=>{t.push(e.getAttribute("OBJECTID")),i.push(e)}));h(t).then((e=>{if(i.length>1&&r({properties:e,features:i}),1===i.length){var t=i[0];t.geometry=e[0].geometry,t.layer=a,r({properties:e,features:i,feature:t})}}))}))})))(l,e).then((e=>{e?n(e):b(c,l).then((e=>{n(e)}))}))):b(c,l).then((e=>{n(e)}))})),g=e=>d.c((t=>{if(!s.viewModel.selectedSuggestion){var r,i=[];if(s.activeSource)i=null===(r=s.activeSource)||void 0===r?void 0:r.searchFields;var n=((e,t)=>{var r="";return e.length?(e.includes("OWNER")&&(r="OWNER like '_%".concat(t.toUpperCase(),"%'")),e.includes("PIN_NUM")&&(r="PIN_NUM like '%".concat(t.toUpperCase(),"%'")),e.includes("REID")&&(r="REID like '%".concat(t.toUpperCase(),"%'"))):r="SITE_ADDRESS like '%".concat(t.toUpperCase(),"%' OR FULL_STREET_NAME like '%").concat(t.toUpperCase(),"%' OR OWNER like '%").concat(t.toUpperCase(),"%' OR REID like '").concat(t.toUpperCase(),"%' OR PIN_NUM like '").concat(t.toUpperCase(),"%'"),r})(i,e.searchTerm);t(((e,t)=>d.c((r=>{var a;null===(a=document.querySelector(".esri-search__warning-menu"))||void 0===a||a.setAttribute("style","visibility: hidden");var i=[];t.queryFeatures({where:e,outFields:["*"]}).then((e=>{e.features.forEach((e=>{i.push(e.getAttribute("OBJECTID"))})),i.length&&h(i).then((t=>{r({features:e.features,properties:t})}))}))})))(n,a))}e.numResults&&y(e.results[0].source.layer,e.results[0].source.name,e.results[0].results,e.searchTerm).then((e=>{t(e)}))})),m=e=>(19===e.length&&"."===e[4]&&[e[7],e[10],e[15]].every((e=>" "===e))&&(e=e.substring(0,4)+e.substring(8,10)+e.substring(11,15)),e),f=r(0),v=e=>{var t=Object(o.useRef)(null),r=Object(o.useRef)(),[u,d]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{if(!u){t.current;var o=new l.a({container:t.current,view:e.view,allPlaceholder:"Address, owner, PIN, or REID",includeDefaultSources:!1,popupEnabled:!1});r.current=o,o.sources=(h=e.addressTable,b=e.condosTable,y=e.propertyLayer,a=b,i=h,n=y,s=f=o,new c.a([p("example: 222 W HARGETT ST","Site Address",h,["ADDRESS"],["ADDRESS"],["ADDRESS"],!0,["ADDRESS","REA_REID","OBJECTID"],f),p("example: SMITH, JOHN","Owner",b,["OWNER"],["OWNER"],["OWNER"],!1,["OWNER","OBJECTID"],f),p("PIN","PIN",b,["PIN_NUM"],["PIN_NUM"],["PIN_NUM"],!0,["PIN_NUM","OBJECTID"],f),p("REID","REID",b,["REID"],["REID"],["REID"],!0,["REID","OBJECTID"],f),p("example: W HARGETT ST","Street Name",h,["STREET","ADDR_LIST"],["STREET"],["STREET","STREET_NODIR"],!1,["STREET","REA_REID","OBJECTID"],f)])),o.on("search-complete",(t=>{g(t).then((t=>{e.searchComplete(t)}))})),o.watch("searchTerm",(e=>{e!=m(e)&&(o.searchTerm=m(e))})),d(!0)}var h,b,y,f}),[e.view,e.addressTable,e.condosTable,e.propertyLayer,e.searchComplete]),Object(o.useEffect)((()=>{"OBJECTID IS NULL"!=e.where&&b(e.where,[]).then((t=>{e.searchComplete(t)})).catch((e=>{console.log(e)}))}),[e.where]),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("div",{ref:t}),Object(f.jsxs)("calcite-tooltip-manager",{children:[Object(f.jsx)("calcite-action",{id:"propertyClear",icon:"trash",scale:"s",onClick:()=>{var t;null===(t=r.current)||void 0===t||t.clear(),e.clear()}}),Object(f.jsx)("calcite-tooltip",{label:"Tooltip label","reference-element":"propertyClear",placement:"bottom",children:"Clear selected properties"})]})]})};t.default=v},134:function(e,t,r){"use strict";var a,i=r(82),s=(r(80),r(92)),n=(r(81),r(88),r(85)),o=r(102),l=r(84),c=(r(83),r(86),r(87),r(90)),u=a=class extends c.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new a({name:this.name,code:this.code})}};Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(i.a)([Object(n.b)({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0);var d,p=u=a=Object(i.a)([Object(l.a)("esri.layers.support.CodedValue")],u),h=r(121),b=d=class extends h.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(s.a)(this.codedValues),name:this.name})}};Object(i.a)([Object(n.b)({type:[p],json:{write:!0}})],b.prototype,"codedValues",void 0),Object(i.a)([Object(o.a)({codedValue:"coded-value"})],b.prototype,"type",void 0);var y=b=d=Object(i.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],b);t.a=y},136:function(e,t,r){"use strict";var a,i=r(82),s=(r(80),r(81),r(88),r(85),r(102)),n=r(84),o=(r(83),r(86),r(87),r(121)),l=a=class extends o.a{constructor(e){super(e),this.type="inherited"}clone(){return new a}};Object(i.a)([Object(s.a)({inherited:"inherited"})],l.prototype,"type",void 0);var c=l=a=Object(i.a)([Object(n.a)("esri.layers.support.InheritedDomain")],l);t.a=c},137:function(e,t,r){"use strict";var a,i=r(82),s=(r(80),r(81),r(88),r(85)),n=r(102),o=r(84),l=(r(83),r(86),r(87),r(121)),c=a=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new a({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(i.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(i.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(i.a)([Object(n.a)({range:"range"})],c.prototype,"type",void 0);var u=c=a=Object(i.a)([Object(o.a)("esri.layers.support.RangeDomain")],c);t.a=u},142:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));var a=r(91),i=r(83);function s(e,t){var r={query:e};return t&&((r=Object(a.a)(Object(a.a)({},t),r)).query=Object(a.a)(Object(a.a)({},r.query),t.query)),r}function n(e){return"string"==typeof e?Object(i.J)(e):e}function o(e,t,r){var a={};for(var i in e)if("declaredClass"!==i){var s=e[i];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){a[i]=[];for(var n=0;n<s.length;n++)a[i][n]=o(s[n])}else if("object"==typeof s)if(s.toJSON){var l=s.toJSON(r&&r[i]);a[i]=t?l:JSON.stringify(l)}else a[i]=t?s:JSON.stringify(s);else a[i]=s}return a}},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c}));r(80);var a,i,s=r(121),n=r(134),o=r(136),l=r(137);function c(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return a.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return a.INVALID_CODED_VALUE}return null}(i=a||(a={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var u={key:"type",base:s.a,typeMap:{range:l.a,"coded-value":n.a,inherited:o.a}};function d(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function p(e){if(!e||!e.type)return null;switch(e.type){case"range":return l.a.fromJSON(e);case"codedValue":return n.a.fromJSON(e);case"inherited":return o.a.fromJSON(e)}return null}},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return l}));var a,i=r(91),s=r(7),n=r(89),o=r(99);r(101);function l(){return c.apply(this,arguments)}function c(){return(c=Object(s.a)((function*(){return a||(a=Object(s.a)((function*(){var e=yield Promise.all([r.e(31),r.e(134)]).then(r.bind(null,383));return yield e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}}))()),a}))).apply(this,arguments)}var u=(e,t,r)=>h.create(e,t,r,null,["$feature"]),d=(e,t,r)=>h.create(e,t,r,null,["$feature","$view"]),p=(e,t,r,a)=>h.create(e,t,r,a,["$feature","$view"]);class h{constructor(e,t,r,a,i,s,n,o){this.script=e,this.evaluate=i,this.fields=n,this._syntaxTree=a,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=s,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(e,t,r,a,c,u){return Object(s.a)((function*(){var{arcade:s,Feature:d,Dictionary:p}=yield l(),b=o.a.fromJSON(t),y=s.parseScript(e,u),g=c.reduce(((e,t)=>Object(i.a)(Object(i.a)({},e),{},{[t]:null})),{}),m=null;Object(n.k)(a)&&((m=new p(a)).immutable=!0,g.$config=null);var f=s.scriptUsesGeometryEngine(y)&&s.enableGeometrySupport(),v=s.scriptUsesFeatureSet(y)&&s.enableFeatureSetSupport(),O=s.scriptIsAsync(y)&&s.enableAsyncSupport(),j={vars:g,spatialReference:b,useAsync:!!O},S=new p;S.immutable=!1,S.setField("scale",0);var w=s.compileScript(y,j);return yield Promise.all([f,v,O]),new h(e,s,p,y,(e=>("$view"in e&&e.$view&&(S.setField("scale",e.$view.scale),e.$view=S),m&&(e.$config=m),w({vars:e,spatialReference:b}))),new d,r,b)}))()}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var a=r(112),i=r(99),s=r(139);function n(e){return new i.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var o=n(s.a),l=n(s.b),c=n(s.c),u=new i.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(s.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function d(e){return e&&(Object(a.g)(e)||e===l)?l:e&&(Object(a.h)(e)||e===c)?c:o}function p(e){return e&&(Object(a.g)(e)||e===l)?s.b:e&&(Object(a.h)(e)||e===c)?s.c:s.a}function h(e){return Object(a.k)(e)?s.b:Object(a.l)(e)?s.c:s.a}},189:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=0;function i(){return++a}},201:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o}));var a=r(94);function i(e,t,r){return Object(a.j)(e.map(((e,a)=>t.apply(r,[e,a]))))}function s(e,t,r){return Object(a.j)(e.map(((e,a)=>t.apply(r,[e,a])))).then((e=>e.map((e=>e.value))))}function n(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function o(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(a.t)(e),{ok:!1,error:e})))}},261:function(e,t,r){"use strict";function a(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:i(e[t])}}}function i(e){return function(t,...r){!function(e){var{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...r):"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),t.target.click())}}r.d(t,"a",(function(){return a}))},301:function(e,t,r){"use strict";function a(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var r=t._delegatedEventNames,a=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);r.push(...a)}}r.d(t,"a",(function(){return a}))},314:function(e,t,r){"use strict";r.r(t);var a=r(7),i=r(91),s=r(82),n=(r(80),r(92)),o=r(89),l=r(81),c=r(88),u=r(85),d=r(98),p=r(84),h=r(93),b=r(83),y=(r(86),r(87),r(90)),g=r(103),m=r(162),f=r(185),v=r(252),O=r(116),j=r(97),S=l.a.getLogger("esri.portal.PortalItemResource"),w=class extends j.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?Object(i.a)(Object(i.a)({},e),{},{path:this.normalizePath(e.path,e.portalItem)}):e}set path(e){Object(o.k)(e)&&Object(b.s)(e)?S.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?"".concat(this.portalItem.itemUrl,"/resources/").concat(this.path):null}get itemRelativeUrl(){return this.portalItem&&this.path?"./resources/".concat(this.path):null}fetch(e="json",t){var r=this.url;if(Object(o.j)(r))throw new h.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,signal:Object(o.i)(t,"signal")})}update(e,t){var i=this;return Object(a.a)((function*(){return(yield r.e(19).then(r.bind(null,778))).addOrUpdateResource(i,"update",e,t)}))()}hasPath(){return Object(o.k)(this.path)}normalizePath(e,t){return Object(o.j)(e)?e:(e=e.replace(/^\/+/,""),Object(o.k)(t)&&Object(b.s)(e)&&(e=Object(b.B)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(s.a)([Object(u.b)()],w.prototype,"portalItem",void 0),Object(s.a)([Object(u.b)({type:String,value:null})],w.prototype,"path",null),Object(s.a)([Object(O.a)("path")],w.prototype,"_castPath",null),Object(s.a)([Object(u.b)({type:String,readOnly:!0})],w.prototype,"url",null),Object(s.a)([Object(u.b)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null);var _=w=Object(s.a)([Object(p.a)("esri.portal.PortalItemResource")],w),T=class extends j.a{constructor(e){super(e),this.created=null,this.rating=null}};Object(s.a)([Object(u.b)()],T.prototype,"created",void 0),Object(s.a)([Object(u.b)()],T.prototype,"rating",void 0);var x,I=T=Object(s.a)([Object(p.a)("esri.portal.PortalRating")],T),L=x=class extends(Object(y.b)(f.a)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Object(c.d)(x,e)}destroy(){this.portal=null}get displayName(){var e=this.type,t=this.typeKeywords||[],r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e&&(r="Tile Package (tpkx)"),r}readExtent(e){return e&&e.length?new g.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var e,t=this.type&&this.type.toLowerCase()||"",r=this.typeKeywords||[],a=!1,i=!1,s=!1,n=!1,o=!1,l=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(a=r.indexOf("Hosted Service")>-1,"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(i=r.indexOf("Table")>-1,s=r.indexOf("Route Layer")>-1,n=r.indexOf("Markup")>-1,o=-1!==r.indexOf("Spatiotemporal"),l=-1!==r.indexOf("UtilityNetwork"),e=o&&i?"spatiotemporaltable":i?"table":s?"routelayer":n?"markup":o?"spatiotemporal":a?"featureshosted":l?"utilitynetwork":"features"):e="map service"===t||"wms"===t||"wmts"===t?a||r.indexOf("Tiled")>-1||"wmts"===t?"maptiles":"mapimages":"scene service"===t?r.indexOf("Line")>-1?"sceneweblayerline":r.indexOf("3DObject")>-1?"sceneweblayermultipatch":r.indexOf("Point")>-1?"sceneweblayerpoint":r.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":r.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":r.indexOf("Polygon")>-1?"sceneweblayerpolygon":r.indexOf("Building")>-1?"sceneweblayerbuilding":"sceneweblayer":"image service"===t?r.indexOf("Elevation 3D Layer")>-1?"elevationlayer":r.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"geoprocessing service"===t&&r.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):e="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?r.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&r.indexOf("ArcGIS Pro")>-1||"explorer map"===t&&r.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"csv"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"360 vr experience"===t||"netcdf"===t||"administrative report"===t?"datafiles":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"form"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"image"===t||"workflow manager package"===t||"explorer map"===t&&r.indexOf("Explorer Mapping Application")>-1||r.indexOf("Document")>-1?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hubpage"===t?"hubpage":"hub event"===t?"hubevent":"hub site application"===t?"hubsite":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"style"===t?"style":"desktop style"===t?"desktopstyle":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"workflow"===t?"workflow":"insights script"===t?"insightsscript":"kernel gateway connection"===t?"kernelgatewayconnection":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"maps",e?Object(m.a)("esri/images/portal/"+e+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){var e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){var e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}get userItemUrl(){var e=this.get("portal.restUrl");if(!e)return null;var t=this.owner||this.get("portal.user.username");return t?"".concat(e,"/content/users/").concat(this.ownerFolder?"".concat(t,"/").concat(this.ownerFolder):t,"/items/").concat(this.id):null}load(e){this.portal||(this.portal=v.a.getDefault());var t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(o.k)(e)?e.signal:null}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){var t={method:"post",query:{}};return e instanceof I&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new I({rating:e,created:new Date})))}clone(){var e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(n.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(n.a)(this.categories),created:Object(n.a)(this.created),culture:this.culture,description:this.description,extent:Object(n.a)(this.extent),groupCategories:Object(n.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(n.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(n.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(n.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(n.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new x({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",Object(i.a)({responseType:e},t))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",e).then((e=>null!=e.rating?(e.created=new Date(e.created),new I(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Object(i.a)({query:e},t),x)}getThumbnailUrl(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{var t=e&&e.data,r={method:"post"};for(var a in r.query=this.createPostQuery(),r.query)null===r.query[a]&&(r.query[a]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal._request("".concat(this.userItemUrl,"/update"),r).then((()=>this.reload()))})):Promise.reject(new h.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{var t=e.thumbnail,r=e.filename,a={method:"post"};if("string"==typeof t)Object(b.u)(t)?a.query={data:t}:a.query={url:Object(b.z)(t)},Object(o.k)(r)&&(a.query.filename=r);else{var i=new FormData;Object(o.k)(r)?i.append("file",t,r):i.append("file",t),a.body=i}return this.portal._request("".concat(this.userItemUrl,"/updateThumbnail"),a).then((()=>this.reload()))})):Promise.reject(new h.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(e={},t){var i=this;return Object(a.a)((function*(){return(yield r.e(19).then(r.bind(null,778))).fetchResources(i,e,t)}))()}addResource(e,t,i){var s=this;return Object(a.a)((function*(){var a=yield r.e(19).then(r.bind(null,778));return e.portalItem=s,a.addOrUpdateResource(e,"add",t,i)}))()}removeResource(e,t){var i=this;return Object(a.a)((function*(){var a=yield r.e(19).then(r.bind(null,778));if(e.portalItem&&e.portalItem.itemUrl!==i.itemUrl)throw new h.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return a.removeResource(i,e,t)}))()}removeAllResources(e){var t=this;return Object(a.a)((function*(){return(yield r.e(19).then(r.bind(null,778))).removeAllResources(t,e)}))()}resourceFromPath(e){return new _({portalItem:this,path:e})}toJSON(){var e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(n.c)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new x({sourceJSON:e})}_getPostQuery(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};Object(s.a)([Object(u.b)({type:["private","shared","org","public"]})],L.prototype,"access",void 0),Object(s.a)([Object(u.b)()],L.prototype,"accessInformation",void 0),Object(s.a)([Object(u.b)({json:{read:{source:"appProxies"}}})],L.prototype,"applicationProxies",void 0),Object(s.a)([Object(u.b)()],L.prototype,"avgRating",void 0),Object(s.a)([Object(u.b)()],L.prototype,"categories",void 0),Object(s.a)([Object(u.b)({type:Date})],L.prototype,"created",void 0),Object(s.a)([Object(u.b)()],L.prototype,"culture",void 0),Object(s.a)([Object(u.b)()],L.prototype,"description",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"displayName",null),Object(s.a)([Object(u.b)({type:g.a})],L.prototype,"extent",void 0),Object(s.a)([Object(d.a)("extent")],L.prototype,"readExtent",null),Object(s.a)([Object(u.b)()],L.prototype,"groupCategories",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"iconUrl",null),Object(s.a)([Object(u.b)()],L.prototype,"id",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"isLayer",null),Object(s.a)([Object(u.b)()],L.prototype,"itemControl",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"itemUrl",null),Object(s.a)([Object(u.b)()],L.prototype,"licenseInfo",void 0),Object(s.a)([Object(u.b)({type:Date})],L.prototype,"modified",void 0),Object(s.a)([Object(u.b)()],L.prototype,"name",void 0),Object(s.a)([Object(u.b)()],L.prototype,"numComments",void 0),Object(s.a)([Object(u.b)()],L.prototype,"numRatings",void 0),Object(s.a)([Object(u.b)()],L.prototype,"numViews",void 0),Object(s.a)([Object(u.b)()],L.prototype,"owner",void 0),Object(s.a)([Object(u.b)()],L.prototype,"ownerFolder",void 0),Object(s.a)([Object(u.b)({type:v.a})],L.prototype,"portal",void 0),Object(s.a)([Object(u.b)()],L.prototype,"screenshots",void 0),Object(s.a)([Object(u.b)()],L.prototype,"size",void 0),Object(s.a)([Object(u.b)()],L.prototype,"snippet",void 0),Object(s.a)([Object(u.b)()],L.prototype,"sourceJSON",void 0),Object(s.a)([Object(u.b)()],L.prototype,"tags",void 0),Object(s.a)([Object(u.b)()],L.prototype,"thumbnail",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"thumbnailUrl",null),Object(s.a)([Object(u.b)()],L.prototype,"title",void 0),Object(s.a)([Object(u.b)()],L.prototype,"type",void 0),Object(s.a)([Object(u.b)()],L.prototype,"typeKeywords",void 0),Object(s.a)([Object(u.b)()],L.prototype,"url",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],L.prototype,"userItemUrl",null);var M=L=x=Object(s.a)([Object(p.a)("esri.portal.PortalItem")],L);t.default=M},324:function(e,t,r){"use strict";var a=r(91),i=r(82),s=(r(80),r(81),r(88),r(85)),n=r(84),o=r(83),l=(r(86),r(87),r(97)),c=class extends l.a{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return"string"!=typeof e?e:Object(a.a)({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Object(o.J)(e):null}_encode(e,t,r){var a={};for(var i in e)if("declaredClass"!==i){var s=e[i];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){a[i]=[];for(var n=0;n<s.length;n++)a[i][n]=this._encode(s[n])}else if("object"==typeof s)if(s.toJSON){var o=s.toJSON(r&&r[i]);a[i]=t?o:JSON.stringify(o)}else a[i]=t?s:JSON.stringify(s);else a[i]=s}return a}};Object(i.a)([Object(s.b)({readOnly:!0})],c.prototype,"parsedUrl",null),Object(i.a)([Object(s.b)()],c.prototype,"requestOptions",void 0),Object(i.a)([Object(s.b)({type:String})],c.prototype,"url",void 0);var u=c=Object(i.a)([Object(n.a)("esri.tasks.Task")],c);t.a=u},436:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u}));var a=r(7),i=r(89),s=r(107),n=r(185),o=r(201);function l(e,t){return c.apply(this,arguments)}function c(){return(c=Object(a.a)((function*(e,t){return yield e.load(),u(e,t)}))).apply(this,arguments)}function u(e,t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)((function*(e,t){var r=[],l=(...e)=>{for(var t of e)Object(i.j)(t)||(Array.isArray(t)?l(...t):s.a.isCollection(t)?t.forEach((e=>l(e))):n.a.isLoadable(t)&&r.push(t))};t(l);var c=null;if(yield Object(o.b)(r,function(){var e=Object(a.a)((function*(e){!1!==(yield Object(o.c)(p(e)?e.loadAll():e.load())).ok||c||(c=e)}));return function(t){return e.apply(this,arguments)}}()),c)throw c.loadError;return e}))).apply(this,arguments)}function p(e){return"loadAll"in e&&"function"==typeof e.loadAll}},484:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var a=r(89);function i(e){return e&&"function"==typeof e.highlight}function s(e,t,r){return Object(a.j)(e)||e>r&&(0===t||e<t)}},501:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(82),i=(r(80),r(81),r(88),r(85)),s=r(84),n=(r(83),r(86),r(87),e=>{var t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){var{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return Object(a.a)([Object(i.b)()],t.prototype,"goToOverride",void 0),Object(a.a)([Object(i.b)()],t.prototype,"view",void 0),t=Object(a.a)([Object(s.a)("esri.widgets.support.GoTo")],t)})},542:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(92),i=r(124),s=r(89),n=r(475),o=r(93),l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),c=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","tile","unknown","unsupported","vector-tile","web-tile"]);function u(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function d(e,t){if(t.restrictedWebMapWriting){var r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return!Object(s.k)(r)||r.has(e.type)&&!u(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=Object(n.b)(e.maxScale)),"minScale"in e&&(t.minScale=Object(n.b)(e.minScale))}function h(e,t){if(function(e,t){if(u(e)){var r=Object(i.b)("featureCollection.layers",t),a=r&&r[0]&&r[0].layerDefinition;a&&p(e,a)}else"stream"===e.type?p(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&p(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=Object(n.b)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(u(e)){var r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function b(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new o.a("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if(d(e,r)){var i={};return e.write(i,r)?i:null}return Object(s.k)(t)&&h(e,t=Object(a.a)(t)),t}},543:function(e,t,r){"use strict";r.r(t);var a,i=r(7),s=r(91),n=r(82),o=(r(80),r(92)),l=r(89),c=r(81),u=(r(88),r(85)),d=r(84),p=r(96),h=r(83),b=(r(86),r(87),r(94)),y=r(90),g=r(99),m=r(107),f=r(293),v=r(185),O=r(252),j=r(436),S=r(314),w=r(594),_=r(542),T=0,x=c.a.getLogger("esri.Basemap"),I=a=class extends(Object(y.b)(v.a)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+T++,this.baseLayers=new m.a,this.referenceLayers=new m.a;var t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&x.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a basemap layer and will therefore be ignored."))},r=e=>{e.parent=null};this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))}initialize(){this.when().catch((e=>{x.error("#load()","Failed to load basemap (title: '".concat(this.title,"', id: '").concat(this.id,"')"),e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e,t=this.baseLayers.removeAll();for(var r of t)r.destroy();var a=this.referenceLayers.removeAll();for(var i of a)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=Object(s.a)({},e)).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Object(f.b)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){var a=[];e?(r=Object(s.a)(Object(s.a)({},r),{},{layerContainerType:"basemap"}),this.baseLayers.forEach((e=>{var t=Object(_.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(l.k)(t)&&a.push(t)})),this.referenceLayers.forEach((e=>{var t=Object(_.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(l.k)(t)&&(t.isReference=!0,a.push(t))})),t.baseMapLayers=a):t.baseMapLayers=a}set referenceLayers(e){this._set("referenceLayers",Object(f.b)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(j.a)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){var e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new a({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t=Object(s.a)({origin:"web-map"},t)),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{var t=Object(o.a)(e);return t.url&&Object(h.v)(t.url)&&(t.url="https:".concat(t.url)),t.templateUrl&&Object(h.v)(t.templateUrl)&&(t.templateUrl="https:".concat(t.templateUrl)),t}))),e}_loadFromSource(e){var t=this;return Object(i.a)((function*(){var{resourceInfo:r,portalItem:a}=t;Object(b.u)(e);var i=[];if(r){var s=r.context?r.context.url:null;if(i.push(t._loadLayersFromJSON(r.data,s,e)),r.data.id&&!r.data.title){var n=r.data.id;i.push(Object(w.b)(n).then((e=>{e&&t.read({title:e},r.context)})))}}else a&&i.push(t._loadFromItem(a,e));yield Promise.all(i)}))()}_loadLayersFromJSON(e,t,a){var s=this;return Object(i.a)((function*(){var i=s.resourceInfo&&s.resourceInfo.context,n=s.portalItem&&s.portalItem.portal||i&&i.portal||null,o=i&&"web-scene"===i.origin?"web-scene":"web-map",{populateOperationalLayers:l}=yield r.e(151).then(r.bind(null,800)),c=[];if(Object(b.u)(a),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){var u={context:{origin:o,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},d=l(s.baseLayers,e.baseMapLayers.filter((e=>!e.isReference)),u);c.push(d);var p=l(s.referenceLayers,e.baseMapLayers.filter((e=>e.isReference)),u);c.push(p)}yield Object(b.j)(c)}))()}_loadFromItem(e,t){var r=this;return Object(i.a)((function*(){var a=yield e.load(t),i=yield a.fetchData("json",t),s=Object(h.J)(e.itemUrl);return r._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:e.portal||O.a.getDefault(),url:s}}),r.read(r.resourceInfo.data,r.resourceInfo.context),r.read({spatialReference:i.spatialReference},r.resourceInfo.context),r.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||O.a.getDefault(),url:s}),r._loadLayersFromJSON(r.resourceInfo.data,s,t)}))()}static fromId(e){var t=w.a[e];return t?a.fromJSON(t):null}};Object(n.a)([Object(u.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,a){this._writeBaseLayers(e,t,a)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:m.a}},writer(e,t,r,a){this._writeBaseLayers(e,t,a)}}}}}})],I.prototype,"baseLayers",null),Object(n.a)([Object(u.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],I.prototype,"id",void 0),Object(n.a)([Object(u.b)({type:S.default})],I.prototype,"portalItem",void 0),Object(n.a)([Object(u.b)()],I.prototype,"referenceLayers",null),Object(n.a)([Object(u.b)({readOnly:!0})],I.prototype,"resourceInfo",void 0),Object(n.a)([Object(u.b)({type:g.a})],I.prototype,"spatialReference",void 0),Object(n.a)([Object(u.b)()],I.prototype,"thumbnailUrl",void 0),Object(n.a)([Object(u.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],I.prototype,"title",void 0),Object(n.a)([Object(p.a)("title")],I.prototype,"writeTitle",null);var L=I=a=Object(n.a)([Object(d.a)("esri.Basemap")],I);t.default=L},545:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88),r(85)),s=r(84),n=(r(83),r(86),r(87),r(90)),o=r(100),l=class extends n.a{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){var e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(o.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(a.a)([Object(i.b)()],l.prototype,"geometries",void 0),Object(a.a)([Object(i.b)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),Object(a.a)([Object(i.b)()],l.prototype,"transformation",void 0),Object(a.a)([Object(i.b)()],l.prototype,"transformForward",void 0);var c=l=Object(a.a)([Object(s.a)("esri.tasks.support.ProjectParameters")],l);t.a=c},594:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return n}));var a=r(7),i=r(206),s=r(162);function n(e){return o.apply(this,arguments)}function o(){return(o=Object(a.a)((function*(e){if(e){var t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,r=yield Object(i.a)("esri/t9n/basemaps");return r[e]||r[t]}}))).apply(this,arguments)}var l={streets:{id:"streets",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Object(s.a)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},610:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return g}));var a=r(81),i=r(88),s=r(83),n=r(107),o=r(594),l=r(543),c=a.a.getLogger("esri.support.basemapUtils");function u(){return{}}function d(e){for(var t in e){var r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function p(e,t){var r,a;if("string"==typeof e){if(!(e in o.a)){var s=Object.keys(o.a).map((e=>'"'.concat(e,'"'))).join(", ");return c.warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(s)),null}t&&(a=t[e]),a||(a=l.default.fromId(e),t&&(t[e]=a))}else a=Object(i.m)(l.default,e);return null!=(r=a)&&r.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:a}),a=null),a}function h(e){var t=null,r=v(e),a=!r.baseLayers.length;for(var i in o.a){var s=_(r,S(o.a[i]),{mustMatchReferences:a});if("equal"===s){t=i;break}"base-layers-equal"===s&&(t=i)}return t}function b(e,t){return e===t||"equal"===_(v(e),v(t),{mustMatchReferences:!0})}function y(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(g))}function g(e){if(f(e.url))return!0;if("vector-tile"===e.type)for(var t in e.sourceNameToSource){var r=e.sourceNameToSource[t];if(f(null==r?void 0:r.sourceUrl))return!0}return!1}var m=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function f(e){if(!e)return!1;var t=new s.a(Object(s.z)(e));return m.test(t.authority)}function v(e){return e?!e.loaded&&e.resourceInfo?S(e.resourceInfo.data):{baseLayers:O(e.baseLayers),referenceLayers:O(e.referenceLayers)}:null}function O(e){return(n.a.isCollection(e)?e.toArray():e).map(j)}function j(e){return{type:e.type,url:I("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function S(e){return e?{baseLayers:w(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:w(e.baseMapLayers.filter((e=>e.isReference)))}:null}function w(e){return e.map((e=>function(e){var t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:I(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function _(e,t,r){return null!=e!=(null!=t)?"not-equal":e?T(e.baseLayers,t.baseLayers)?T(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function T(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!x(e[r],t[r]))return!1;return!0}function x(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function I(e){return e?Object(s.C)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},611:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var a=r(100);function i(e){return{geometryType:Object(a.c)(e[0]),geometries:e.map((e=>e.toJSON()))}}function s(e,t,r){var i=Object(a.b)(t);return e.map((e=>{var t=i.fromJSON(e);return t.spatialReference=r,t}))}},643:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o}));r(7),r(152);var a=r(543),i=r(610),s={light:["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]};function n(e,t=s){for(var r in t)if(t[r].indexOf(e)>-1)return r}function o(e,t,r=!0){var s=null;return"string"==typeof e&&t.indexOf(e)>-1?s=e:e instanceof a.default&&(s=Object(i.e)(e)),r?s||"gray":s}},679:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=new(r(95).a)({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})},680:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(105),i=(r(643),["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector"]),s=["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"];[].concat(i).concat(s);function n(e,t){return Math.ceil(function(e){var t=e.width,r=e.height,i=e.pixelSizeAt(e.toMap(Object(a.f)(.5*t,.5*r),{exclude:[]}));if(i<=0&&(i=e.pixelSizeAt(e.toMap(Object(a.f)(.5*t,.95*r),{exclude:[]})))<=0){var s=e.camera.position.clone();s.z=0,i=2*e.pixelSizeAt(s)}return i}(t)*Object(a.h)(Object(a.k)(e)))}},681:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var a=r(117);function i(e,t){var r=t||e.extent,i=e.width,s=Object(a.f)(r&&r.spatialReference);return r&&i?r.width/i*s*a.j*96:0}function s(e,t){return e/(Object(a.f)(t)*a.j*96)}function n(e,t){var r=e.extent,a=e.width,i=s(t,r.spatialReference);return r.clone().expand(i*a/r.width)}},707:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return l}));var a=r(92),i=r(89),s=r(643);var n=class{constructor(e){this.name=null,this.label=null,this.description=null,this.supportedBasemaps=null,this.basemapGroups=null,this.schemes=null;var{name:t,label:r,description:a,schemes:i}=e;this.name=t,this.label=r,this.description=a,this.schemes=i;var n=e.basemapGroups||s.a,o=[];if(n)for(var l in n)o=o.concat(n[l]);this.supportedBasemaps=o,this.basemapGroups=n}isBasemapSupported(e){var t=Object(s.c)(e,this.supportedBasemaps);return!!(t&&this.supportedBasemaps.indexOf(t)>-1)}getRawSchemes(e){var{basemapId:t,basemapTheme:r}=function(e,t,r){var a=null,n=null;if(t&&(a=Object(s.c)(t,e,!1))){var o=Object(s.b)(a);Object(i.k)(o)&&(n=o)}return!a&&r&&(a="dark"===r?"dark-gray":"gray",n=r),a||n||(a="gray",n="light"),{basemapId:a,basemapTheme:n}}(this.supportedBasemaps,e.basemap,e.basemapTheme),n=r;if(t){var o=Object(s.b)(t,this.basemapGroups);Object(i.k)(o)&&(n=o)}var l=e.geometryType;"multipoint"===l?l="point":"mesh"===l&&(l="polygon");var c=this.schemes[l]||this.schemes.default;return{schemesInfo:Object(a.a)(c[n]),basemapId:t,basemapTheme:r}}};function o(e){var t=e.themeDictionary,r=new Map;for(var a in t){var i=t[a];r.set(a,new n(i))}return r}function l(e,t){var r=[];return e.forEach((e=>{e.isBasemapSupported(t)&&r.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),r}function c(e,t){if(e&&t){var r=null,a=[t.primaryScheme,...t.secondarySchemes];for(var i of a)if(i.name.toLowerCase()===e.toLowerCase()){r=i;break}return r}}function u(e,t,r){if(!e&&!t)return[];if(!r)return[];var a=!(e&&e.length),i=!(t&&t.length),s=[r.primaryScheme,...r.secondarySchemes],n=[],o=function(r){var s=!!a||e.some((e=>r.tags.indexOf(e)>-1)),o=!i&&t.some((e=>r.tags.indexOf(e)>-1));s&&!o&&n.push(r)};for(var l of s)o(l);return n}function d(e){var t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},732:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(95),i=r(100),s=new a.a({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function n(e){var{geometries:t,deviationUnit:r,maxDeviation:a}=e.toJSON(),n={maxDeviation:a};return t&&t.length&&(n.geometries=JSON.stringify({geometryType:Object(i.c)(t[0]),geometries:t}),n.sr=JSON.stringify(t[0].spatialReference)),s.write(r,n,"deviationUnit"),n}},733:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(100),c=class extends o.a{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"deviationUnit",void 0),Object(a.a)([Object(s.b)({json:{read:{reader:e=>e?e.map((e=>Object(l.a)(e))):null},write:{writer:(e,t)=>{t.geometries=e.map((e=>e.toJSON()))}}}})],c.prototype,"geometries",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],c.prototype,"maxDeviation",void 0),(c=Object(a.a)([Object(n.a)("esri.tasks.support.GeneralizeParameters")],c)).from=Object(i.m)(c);var u=c;t.a=u},734:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=new(r(95).a)({preserveShape:"preserve-shape"});function i(e){var{polylines:t,lengthUnit:r,geodesic:i,calculationType:s}=e.toJSON(),n={};n.polylines=JSON.stringify(t);var o=e.polylines[0].spatialReference;return n.sr=o.wkid?o.wkid:JSON.stringify(o.toJSON()),r&&(n.lengthUnit=r),i&&(n.geodesic=i),s&&(n.calculationType=a.toJSON(s)),n}},735:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(141),c=r(100),u=(r(101),class extends o.a{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}});Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"calculationType",void 0),Object(a.a)([Object(s.b)({type:Boolean,json:{write:!0}})],u.prototype,"geodesic",void 0),Object(a.a)([Object(s.b)({json:{write:!0}})],u.prototype,"lengthUnit",void 0),Object(a.a)([Object(s.b)({type:[l.a],json:{read:{reader:e=>e?e.map((e=>Object(c.a)(e))):null},write:{writer:(e,t)=>{t.polylines=e.map((e=>e.toJSON()))}}}})],u.prototype,"polylines",void 0),(u=Object(a.a)([Object(n.a)("esri.tasks.support.LengthsParameters")],u)).from=Object(i.m)(u);var d=u;t.a=d},736:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(95),i=r(100),s=new a.a({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),n=new a.a({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function o(e){var{geometries:t,bevelRatio:r,offsetDistance:a,offsetHow:o,offsetUnit:l}=e.toJSON(),c={bevelRatio:r,offsetDistance:a};return t&&t.length&&(c.geometries=JSON.stringify({geometryType:Object(i.c)(t[0]),geometries:t}),c.sr=JSON.stringify(t[0].spatialReference)),o&&(c.offsetHow=s.toJSON(o)),l&&(c.offsetUnit=n.toJSON(l)),c}},737:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(100),c=class extends o.a{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],c.prototype,"bevelRatio",void 0),Object(a.a)([Object(s.b)({json:{read:{reader:e=>e?e.map((e=>Object(l.a)(e))):null},write:{writer:(e,t)=>{t.geometries=e.map((e=>e.toJSON()))}}}})],c.prototype,"geometries",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],c.prototype,"offsetDistance",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"offsetHow",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"offsetUnit",void 0),(c=Object(a.a)([Object(n.a)("esri.tasks.support.OffsetParameters")],c)).from=Object(i.m)(c);var u=c;t.a=u},738:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r(91),i=r(7),s=r(88),n=r(100),o=r(106),l=r(545),c=r(142),u=r(611),d=Object(s.m)(l.a);function p(e,t,r){return h.apply(this,arguments)}function h(){return(h=Object(i.a)((function*(e,t,r){t=d(t);var i=Object(c.c)(e),s=Object(a.a)(Object(a.a)({},i.query),{},{f:"json"},t.toJSON()),l=t.outSpatialReference,p=Object(n.c)(t.geometries[0]),h=Object(c.a)(s,r);return Object(o.default)(i.path+"/project",h).then((({data:{geometries:e}})=>Object(u.a)(e,p,l)))}))).apply(this,arguments)}},739:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(95),i=r(100),s=new a.a({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function n(e){var{geometries1:t,geometries2:r,relation:a,relationParameter:n}=e.toJSON(),o={};if(t&&t.length){o.geometries1=JSON.stringify({geometryType:Object(i.c)(t[0]),geometries:t});var l=t[0].spatialReference;o.sr=l.wkid?l.wkid:JSON.stringify(l)}return r&&r.length>0&&(o.geometries2=JSON.stringify({geometryType:Object(i.c)(r[0]),geometries:r})),a&&(o.relation=s.toJSON(a)),n&&(o.relationParam=n),o}},740:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(100),c=class extends o.a{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};Object(a.a)([Object(s.b)({json:{read:{reader:e=>e?e.map((e=>Object(l.a)(e))):null},write:{writer:(e,t)=>{t.geometries1=e.map((e=>e.toJSON()))}}}})],c.prototype,"geometries1",void 0),Object(a.a)([Object(s.b)({json:{read:{reader:e=>e?e.map((e=>Object(l.a)(e))):null},write:{writer:(e,t)=>{t.geometries2=e.map((e=>e.toJSON()))}}}})],c.prototype,"geometries2",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"relation",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"relationParameter",void 0),(c=Object(a.a)([Object(n.a)("esri.tasks.support.RelationParameters")],c)).from=Object(i.m)(c);var u=c;t.a=u},741:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=new(r(95).a)({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function i(e){var{extendHow:t,polylines:r,trimExtendTo:i}=e.toJSON(),s={};return s.extendHow=a.toJSON(t),r&&r.length&&(s.polylines=JSON.stringify(r),s.sr=JSON.stringify(r[0].spatialReference)),i&&(s.trimExtendTo=JSON.stringify(i)),s}},742:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(141),c=r(100),u=(r(101),class extends o.a{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}});Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"extendHow",void 0),Object(a.a)([Object(s.b)({type:[l.a],json:{read:{reader:e=>e?e.map((e=>Object(c.a)(e))):null},write:{writer:(e,t)=>{t.polylines=e.map((e=>e.toJSON()))}}}})],u.prototype,"polylines",void 0),Object(a.a)([Object(s.b)({json:{read:{reader:e=>e?Object(c.a)(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],u.prototype,"trimExtendTo",void 0),(u=Object(a.a)([Object(n.a)("esri.tasks.support.TrimExtendParameters")],u)).from=Object(i.m)(u);var d=u;t.a=d},743:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88),r(85)),s=r(84),n=(r(83),r(86),r(87),r(90)),o=r(266),l=class extends(Object(o.a)(n.a)){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};Object(a.a)([Object(i.b)()],l.prototype,"autoNavigate",void 0),Object(a.a)([Object(i.b)()],l.prototype,"filter",void 0),Object(a.a)([Object(i.b)()],l.prototype,"getResults",void 0),Object(a.a)([Object(i.b)()],l.prototype,"getSuggestions",void 0),Object(a.a)([Object(i.b)()],l.prototype,"maxResults",void 0),Object(a.a)([Object(i.b)()],l.prototype,"maxSuggestions",void 0),Object(a.a)([Object(i.b)()],l.prototype,"minSuggestCharacters",void 0),Object(a.a)([Object(i.b)()],l.prototype,"outFields",void 0),Object(a.a)([Object(i.b)()],l.prototype,"placeholder",void 0),Object(a.a)([Object(i.b)()],l.prototype,"popupEnabled",void 0),Object(a.a)([Object(i.b)()],l.prototype,"popupTemplate",void 0),Object(a.a)([Object(i.b)()],l.prototype,"prefix",void 0),Object(a.a)([Object(i.b)()],l.prototype,"resultGraphicEnabled",void 0),Object(a.a)([Object(i.b)()],l.prototype,"resultSymbol",void 0),Object(a.a)([Object(i.b)()],l.prototype,"suggestionsEnabled",void 0),Object(a.a)([Object(i.b)()],l.prototype,"suffix",void 0),Object(a.a)([Object(i.b)()],l.prototype,"withinViewEnabled",void 0),Object(a.a)([Object(i.b)()],l.prototype,"zoomScale",void 0);var c=l=Object(a.a)([Object(s.a)("esri.widgets.Search.SearchSource")],l);t.a=c},744:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return p}));var a=r(89),i=r(81),s=r(93),n=r(103),o=(r(101),r(681)),l=i.a.getLogger("esri.widgets.Search.support.geometryUtils");function c(e,t){var r,a;if(!t)return l.error("missing-parameter: view is missing."),Promise.reject(new s.a("searchgeometryutils:missing-parameter","view is missing."));if(!e)return l.error("missing-parameter: point is missing."),Promise.reject(new s.a("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||"2d"===t.type)return Promise.resolve(e);var i=null==t||null==(r=t.map)?void 0:r.ground;return i&&i.layers.length?i.queryElevation(e,{cache:null==(a=t.basemapTerrain)?void 0:a.elevationQueryCache}).then((e=>e.geometry)):Promise.resolve(e)}function u(e){if(Object(a.j)(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function d(e,t,r){return Object(a.j)(e)?null:"extent"===e.type?e:"multipoint"===e.type||"polygon"===e.type||"polyline"===e.type?e.extent:"point"===e.type?h(e,t,r):void 0}function p(e,t,r){return Object(a.j)(e)||Object(a.j)(t)?null:h(e.center,t,r)}function h(e,t,r){var a=e.hasZ?e.z:void 0;return t&&t.map?(r?Object(o.a)(t,r):t.extent).clone().centerAt(e).set({zmax:a,zmin:a}):new n.a({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:a,zmax:a})}},745:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={type:String,json:{read:{source:"token"},write:{target:"token"}}}},816:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return b}));var a=r(80),i=r(159),s=r(81),n=r(93),o=(r(83),r(166),r(161)),l=r(113),c=(r(103),r(225),r(130),r(141),r(101),r(106),r(252)),u=r(545),d=(r(679),r(732),r(733),r(734),r(735),r(736),r(737),r(738)),p=(r(739),r(740),r(741),r(742),s.a.getLogger("esri.widgets.support.geolocationUtils")),h={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function b(){return function(){var e=Object(a.a)("esri-geolocation");return e||p.warn("geolocation-unsupported","Geolocation unsupported."),e}()&&function(){var e=window.isSecureContext;return e||p.warn("insecure-context","Geolocation requires a secure origin."),e}()}function y(e){return e||(e=h),new Promise(((t,r)=>{setTimeout((()=>r(new n.a("geolocation:timeout","getting the current geolocation position timed out"))),15e3),navigator.geolocation.getCurrentPosition(t,r,e)}))}function g(e,t){var{position:r,view:a}=e;return function(e,t,r){if(!t)return Promise.resolve(e);var a=t.spatialReference;return a.isWGS84?Promise.resolve(e):a.isWebMercator?Promise.resolve(Object(o.b)(e)):function(e){if(i.a.geometryServiceUrl)return Promise.resolve(i.a.geometryServiceUrl);var t=c.a.getDefault();return t.load(e).catch((()=>{})).then((()=>t.get("helperServices.geometry.url")))}(r).then((t=>{if(!t)throw new n.a("geometry-service:missing-url","Geometry service URL is missing");var i=new u.a({geometries:[e],outSpatialReference:a});return Object(d.a)(t,i,r).then((e=>e[0]))}))}(function(e){var t=e&&e.coords;return t?new l.a({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}(function(e){var t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e?{coords:r,timestamp:e.timestamp}:e}(r)),a,t)}},817:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return y}));var a=r(89),i=r(130),s=r(123),n=r(818),o=r(819),l=r(820),c=r(744),u="Single Line Input";function d(e,t){return e.location?function(e,t){var{source:r,spatialReference:a,location:i,sourceIndex:s,view:n}=e,{apiKey:l,locator:c,zoomScale:u,defaultZoomScale:d}=r,p=n&&n.scale,h=t&&t.signal,b=new o.a;return b.location=i,l&&(b.apiKey=l),a&&(b.outSpatialReference=a),c.locationToAddress(b,{signal:h}).then((e=>v([e],{sourceIndex:s,scale:p,view:n,zoomScale:u,defaultZoomScale:d})))}(e,t):function(e,t){var{source:r,suggestResult:i,spatialReference:s,view:o,maxResults:l,sourceIndex:c}=e,d=r&&r.zoomScale,h=r&&r.defaultZoomScale;if(!i.text.trim())return Promise.resolve(null);var b=!i.key&&r.prefix?r.prefix:"",y=!i.key&&r.suffix?r.suffix:"",g="".concat(b).concat(i.text).concat(y),f=new n.a,{apiKey:O,locator:j}=r,S=o&&o.scale,w=m(r,o),_=t&&t.signal;if(O&&(f.apiKey=O),!j)return Promise.resolve(null);r.categories&&(f.categories=r.categories),r.locationType&&(f.locationType=r.locationType),s&&(f.outSpatialReference=s);var T=p(o);T&&(f.location=T),f.maxLocations=l,w&&(f.searchExtent=Object(a.q)(w)),r.countryCode&&(f.countryCode=r.countryCode);var{key:x}=i;return x&&(f.magicKey=x),f.address={},f.address[r.singleLineFieldName||u]=g,r.outFields&&(f.outFields=r.outFields),j.addressToLocations(f,{signal:_}).then((e=>v(e,{key:x,scale:S,sourceIndex:c,view:o,zoomScale:d,defaultZoomScale:h})))}(e,t)}function p(e){var t=null==e?void 0:e.scale;return"number"==typeof t&&t<=3e5?e.get("extent.center"):null}function h(e,t){var{source:r,spatialReference:i,view:s,suggestTerm:n,maxSuggestions:o,sourceIndex:c}=e,u=new l.a,{apiKey:d,locator:h}=r,b=m(r,s),y=t&&t.signal;if(!h)return Promise.resolve(null);d&&(u.apiKey=d),r.categories&&(u.categories=r.categories),i&&(u.outSpatialReference=i);var g=p(s);if(g&&(u.location=g),!n.trim())return Promise.resolve(null);var{prefix:v="",suffix:O=""}=r,j="".concat(v).concat(n).concat(O);return u.text=j,b&&(u.searchExtent=Object(a.q)(b)),u.maxSuggestions=o,r.countryCode&&(u.countryCode=r.countryCode),h.suggestLocations(u,{signal:y}).then((e=>f(e,c)))}function b(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function y(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function g(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function m(e,t){var{filter:r,withinViewEnabled:a}=e,i=t&&t.scale,s=t&&t.extent,n=r&&r.geometry;return Object(c.a)(n,t,i)||(a&&s?s:void 0)}function f(e,t){return e.map((e=>function(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}(e,t)))}function v(e,t){return e.map((e=>function(e,t){var{key:r,scale:n,sourceIndex:o,view:l,zoomScale:u,defaultZoomScale:d}=t,{attributes:p,extent:h,location:b,address:y}=e,g=new s.a({geometry:b,attributes:p}),m=h||b,f=Object(c.a)(m,l,n),v="number"==typeof u?Object(c.d)(f,l,u):"number"==typeof d&&"point"===m.type?Object(c.d)(f,l,d):f,O=b?"".concat(b.x,",").concat(b.y):"",j=y||O,S=g.clone();return Object(a.k)(v)&&(S.geometry=i.a.fromExtent(v)),{extent:v,feature:g,target:S,key:r,name:j,sourceIndex:o}}(e,t)))}},818:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(99),c=r(113),u=r(103),d=(r(101),r(745)),p=class extends o.a{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};Object(a.a)([Object(s.b)({type:Object,json:{write:!0}})],p.prototype,"address",void 0),Object(a.a)([Object(s.b)(d.a)],p.prototype,"apiKey",void 0),Object(a.a)([Object(s.b)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],p.prototype,"categories",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"countryCode",void 0),Object(a.a)([Object(s.b)({type:Boolean,json:{write:!0}})],p.prototype,"forStorage",void 0),Object(a.a)([Object(s.b)({type:c.a,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],p.prototype,"location",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"locationType",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"magicKey",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],p.prototype,"maxLocations",void 0),Object(a.a)([Object(s.b)({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],p.prototype,"outFields",void 0),Object(a.a)([Object(s.b)({type:l.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),Object(a.a)([Object(s.b)({type:u.a,json:{write:{writer:(e,t)=>{var r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],p.prototype,"searchExtent",void 0),(p=Object(a.a)([Object(n.a)("esri.tasks.support.AddressToLocationsParameters")],p)).from=Object(i.m)(p);var h=p;t.a=h},819:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(99),c=r(113),u=(r(101),r(745)),d=class extends o.a{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};Object(a.a)([Object(s.b)(u.a)],d.prototype,"apiKey",void 0),Object(a.a)([Object(s.b)({type:c.a,json:{write:{writer:(e,t)=>{var r=e?e.clone().normalize():null,a=void 0!==r;t.location=a?r:null}}}})],d.prototype,"location",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],d.prototype,"locationType",void 0),Object(a.a)([Object(s.b)({type:l.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],d.prototype,"outSpatialReference",void 0),(d=Object(a.a)([Object(n.a)("esri.tasks.support.LocationToAddressParameters")],d)).from=Object(i.m)(d);var p=d;t.a=p},820:function(e,t,r){"use strict";var a=r(82),i=(r(80),r(81),r(88)),s=r(85),n=r(84),o=(r(83),r(86),r(87),r(90)),l=r(99),c=r(113),u=r(103),d=(r(101),r(745)),p=class extends o.a{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};Object(a.a)([Object(s.b)(d.a)],p.prototype,"apiKey",void 0),Object(a.a)([Object(s.b)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],p.prototype,"categories",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"countryCode",void 0),Object(a.a)([Object(s.b)({type:c.a,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],p.prototype,"location",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],p.prototype,"maxSuggestions",void 0),Object(a.a)([Object(s.b)({type:l.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),Object(a.a)([Object(s.b)({type:u.a,json:{write:{writer:(e,t)=>{var r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],p.prototype,"searchExtent",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"text",void 0),(p=Object(a.a)([Object(n.a)("esri.tasks.support.SuggestLocationsParameters")],p)).from=Object(i.m)(p);var h=p;t.a=h},869:function(e,t,r){"use strict";var a,i=r(91),s=r(82),n=(r(80),r(92)),o=r(81),l=(r(88),r(85)),c=r(84),u=(r(83),r(86),r(87),r(743)),d=r(7),p=r(89),h=r(93),b=r(130),y=r(256),g=r(281),m=(r(171),r(117)),f=r(744),v=/https?:\/\/services.*\.arcgis\.com/i,O=/(?:\{([^}]+)\})/g,j=o.a.getLogger("esri.widgets.Search.support.layerSearchUtils");function S(e,t){var{exactMatch:r=!1,location:a,maxResults:i,spatialReference:s,source:o,sourceIndex:l,suggestResult:c,view:u}=e,{layer:d,filter:y,zoomScale:g}=o,v=u&&u.scale,O=_(o,u),S=t&&t.signal;return x(d).then((()=>{var e=d.popupTemplate;return e?e.getRequiredFields(d.fields):null})).then((e=>{var t,w,{objectIdField:_,returnZ:x}=d,I=M(o);if(!k(d,I))throw j.error("invalid-field: displayField is invalid."),new h.a("getResults():invalid-field","displayField is invalid.");var N=e&&e.length?e:[I],A=o.outFields||N,U=T(A);if(-1!==A.indexOf(_)||U||A.push(_),!U&&!R(d,A))throw j.error("invalid-field: outField is invalid."),new h.a("getResults():invalid-field","outField is invalid.");var G=d.createQuery(),{orderByFields:D}=o;if(D&&(G.orderByFields=D),s){G.outSpatialReference=s;var P=1/Object(m.f)(s);P&&(G.maxAllowableOffset=P)}var B="mesh"===d.geometryType||"multipatch"===d.geometryType,V=(null==(t=d.capabilities)||null==(w=t.data)?void 0:w.supportsZ)&&!B;if(G.returnZ=V&&!1!==x,G.returnGeometry=!0,G.multipatchOption=B?"xyFootprint":null,A&&(G.outFields=A),a)G.geometry=a;else if(c.key)G.objectIds=[parseInt(c.key,10)];else{var q=o.searchFields||[I];if(!R(d,q))throw j.error("invalid-field: search field is invalid."),new h.a("getResults():invalid-field","search field is invalid.");if(L(d)&&(G.num=i),O&&(G.geometry=O),!c.text.trim())return[];var{prefix:J="",suffix:W=""}=o,z=C(E("".concat(J).concat(c.text).concat(W)),d,q,y,r);if(!z)return[];G.where=z}return d.queryFeatures(G,{signal:S}).then((e=>function(e,t,r,a,i,s,o){return e.features.map((e=>function(e,t,r,a,i,s,o){var l=e.clone(),c=e.sourceLayer,u=c&&c.objectIdField,d=u&&e.attributes[u],h=F(e,r.searchTemplate,i),y=Object(f.a)(l.geometry,t,s),g="number"==typeof o?Object(f.d)(Object(n.a)(y),t,o):y,m=e.clone();return Object(p.k)(g)&&(m.geometry=b.a.fromExtent(g)),{extent:g,target:m,feature:l,key:d,name:h,sourceIndex:a}}(e,t,r,a,i,s,o)))}(e,u,o,l,I,v,g)))}))}function w(e,t){var{source:r,spatialReference:a,view:i,suggestTerm:s,maxSuggestions:n,sourceIndex:o}=e,{layer:l,filter:c}=r,u=t&&t.signal,d=_(r,i);return x(l).then((()=>{if(!L(l))return[];var e=M(r),t=r.searchFields||[e],i=[];r.suggestionTemplate?r.suggestionTemplate.replace(O,((e,t)=>(i.push(t),e))):i.push(e);var p=T(i);-1!==i.indexOf(l.objectIdField)||p||i.push(l.objectIdField);var b=k(l,e),y=p||R(l,i),g=R(l,t);if(!b)throw j.error("invalid-field: displayField is invalid."),new h.a("getSuggestions():invalid-field","displayField is invalid.");if(!y)throw j.error("invalid-field: outField is invalid."),new h.a("getSuggestions():invalid-field","outField is invalid.");if(!g)throw j.error("invalid-field: search field is invalid."),new h.a("getSuggestions():invalid-field","search field is invalid.");var m=l.createQuery(),{orderByFields:f}=r;if(f&&(m.orderByFields=f),m.outSpatialReference=a,m.returnGeometry=!1,m.num=n,m.outFields=i,d&&(m.geometry=d),!s.trim())return[];var{prefix:v="",suffix:S=""}=r,w=C(E("".concat(v).concat(s).concat(S)),l,t,c,!1);return w?(m.where=w,l.queryFeatures(m,{signal:u}).then((t=>function(e,t,r,a){return e.features.map((e=>function(e,t,r,a){var i=e.sourceLayer,{attributes:s}=e,{objectIdField:n}=i,o=s[n];return{text:F(e,t.suggestionTemplate,a),key:o,sourceIndex:r}}(e,t,r,a)))}(t,r,o,e)))):[]}))}function _(e,t){var{filter:r,withinViewEnabled:a}=e,i=t&&t.extent;return r&&r.geometry||(a&&i?i:void 0)}function T(e){return e&&-1!==e.indexOf("*")}function x(e){return I.apply(this,arguments)}function I(){return(I=Object(d.a)((function*(e){e&&(yield e.load())}))).apply(this,arguments)}function L(e){var t,r,a;return null!=(t=null==e||null==(r=e.capabilities)||null==(a=r.query)?void 0:a.supportsPagination)&&t}function M(e){return e.displayField||e.layer.displayField||function(e){var t="";if(e){var{fields:r}=e;r&&r.some((e=>"string"===e.type&&(t=e.name,!0)))}return t}(e.layer)}function R(e,t){return!(!e||!t)&&t.every((t=>k(e,t)))}function k(e,t){return!!e.getField(t)}function E(e){return e.replace(/\'/g,"''")}function N(e,t){var r=t&&t.where;return r?"(".concat(e,") AND (").concat(r,")"):e}function C(e,t,r,a,i){var{definitionExpression:s}=t,n="";if(e){var o=v.test(t.url)&&function(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}(e)?"N":"";r&&r.forEach((r=>{var s=t.getField(r),l="function"==typeof t.getFieldDomain&&t.getFieldDomain(r),c=(l&&"coded-value"===l.type?function(e,t,r){var a=null,{codedValues:i}=e;return i&&i.some((e=>{var i=e.name,s=r?i:i.toLowerCase();return(r?t:t.toLowerCase())===s&&(a=e.code.toString(),!0)})),a}(l,e,i):null)||e||null;if(null!==c){var u=function(e,t,r,a,i){var s=t.type,n=t.name;if("string"===s||"date"===s||"global-id"===s)return N(i?"".concat(n," = ").concat(r,"'").concat(e,"'"):"UPPER(".concat(n,") LIKE ").concat(r,"'%").concat(e.toUpperCase(),"%'"),a);if("oid"===s||"small-integer"===s||"integer"===s||"single"===s||"double"===s){var o=Number(e);return isNaN(o)?null:N("".concat(n," = ").concat(o),a)}return N("".concat(n," = ").concat(e),a)}(c,s,o,a,i);u&&(n+=function(e,t){return e?" OR (".concat(t,")"):"(".concat(t,")")}(n,u))}}))}return s?"(".concat(s,") AND (").concat(n,")"):n}function F(e,t,r){var a=e.sourceLayer,{attributes:i}=e,s="function"==typeof a.getFieldDomain&&a.getFieldDomain(r);if(t)return Object(g.a)(t,i);if(r&&i){var n=a.getField(r),o=function(e,t){return e[Object.keys(e).find((e=>e.toLowerCase()===t.toLowerCase()))]}(i,r);return null==o?"":s&&"coded-value"===s.type?function(e,t){var r=null,{codedValues:a}=e;return a&&a.length&&a.some((e=>e.code===t&&(r=e.name,!0))),r}(s,o):"date"===(null==n?void 0:n.type)?Object(y.b)(new Date(o)):"number"==typeof o?o.toString():"string"!=typeof o?"":o.trim()}return""}var A=a=class extends u.a{constructor(){super(...arguments),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(e,t)=>S(Object(i.a)({source:this},e),t),this.getSuggestions=(e,t)=>w(Object(i.a)({source:this},e),t)}set layer(e){this._set("layer",e),e&&e.load().catch((()=>{}))}get name(){return this._getLayerTitle()||""}set name(e){void 0!==e?this._override("name",e):this._clearOverride("name")}clone(){return new a({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(n.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?Object(n.a)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e=this.layer,t="";return e&&e.fields&&e.fields.some((e=>"string"===e.type&&(t=e.name,!0))),t}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){var{layer:e,searchFields:t}=this;return e.loaded?": ".concat((t||[this._getDisplayField()]).map((t=>{var r=e.getField(t);return r&&r.alias||t})).join(", ")):""}_getLayerTitle(){var{layer:e}=this;if(e){var{title:t}=e;return t?"".concat(t).concat(this._getSearchFieldsString()):void 0}}};Object(s.a)([Object(l.b)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],A.prototype,"displayField",void 0),Object(s.a)([Object(l.b)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],A.prototype,"exactMatch",void 0),Object(s.a)([Object(l.b)({value:null})],A.prototype,"layer",null),Object(s.a)([Object(l.b)()],A.prototype,"name",null),Object(s.a)([Object(l.b)({type:[String],json:{write:!0}})],A.prototype,"orderByFields",void 0),Object(s.a)([Object(l.b)()],A.prototype,"searchFields",void 0),Object(s.a)([Object(l.b)()],A.prototype,"searchTemplate",void 0),Object(s.a)([Object(l.b)()],A.prototype,"suggestionTemplate",void 0);var U=A=a=Object(s.a)([Object(c.a)("esri.widgets.Search.LayerSearchSource")],A);t.a=U},895:function(e,t,r){"use strict";var a,i=r(91),s=r(82),n=(r(80),r(92)),o=(r(81),r(88),r(85)),l=r(98),c=r(84),u=r(96),d=(r(83),r(86),r(87),r(922)),p=r(743),h=r(817),b=a=class extends p.a{constructor(){super(...arguments),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.locator=null,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.zoomScale=null,this.getResults=(e,t)=>Object(h.a)(Object(i.a)({source:this},e),t),this.getSuggestions=(e,t)=>Object(h.b)(Object(i.a)({source:this},e),t)}readLocator(e,t){var{url:r}=t;return r?new d.a({url:r}):null}writeLocator(e,t){t.url=e?e.url:null}clone(){return new a({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(n.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?Object(n.a)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};Object(s.a)([Object(o.b)()],b.prototype,"apiKey",void 0),Object(s.a)([Object(o.b)()],b.prototype,"categories",void 0),Object(s.a)([Object(o.b)()],b.prototype,"countryCode",void 0),Object(s.a)([Object(o.b)({json:{write:!0}})],b.prototype,"defaultZoomScale",void 0),Object(s.a)([Object(o.b)({type:d.a})],b.prototype,"locator",void 0),Object(s.a)([Object(l.a)("locator",["url"])],b.prototype,"readLocator",null),Object(s.a)([Object(u.a)("locator")],b.prototype,"writeLocator",null),Object(s.a)([Object(o.b)()],b.prototype,"locationType",void 0),Object(s.a)([Object(o.b)({json:{write:!0}})],b.prototype,"name",void 0),Object(s.a)([Object(o.b)({json:{write:!0}})],b.prototype,"placeholder",void 0),Object(s.a)([Object(o.b)()],b.prototype,"searchTemplate",void 0),Object(s.a)([Object(o.b)({json:{write:!0}})],b.prototype,"singleLineFieldName",void 0),Object(s.a)([Object(o.b)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],b.prototype,"suggestionsEnabled",void 0),Object(s.a)([Object(o.b)({json:{write:!0}})],b.prototype,"zoomScale",void 0);var y=b=a=Object(s.a)([Object(c.a)("esri.widgets.Search.LocatorSearchSource")],b);t.a=y},922:function(e,t,r){"use strict";var a=r(91),i=r(82),s=(r(80),r(81),r(88)),n=r(85),o=r(84),l=(r(83),r(86),r(87),r(99)),c=r(324);function u(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var d=r(7),p=r(106),h=r(142);var b=r(90),y=r(113),g=r(103),m=class extends b.a{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],m.prototype,"address",void 0),Object(i.a)([Object(n.b)({type:Object,json:{write:!0}})],m.prototype,"attributes",void 0),Object(i.a)([Object(n.b)({type:g.a,json:{write:!0}})],m.prototype,"extent",void 0),Object(i.a)([Object(n.b)({type:y.a,json:{write:!0}})],m.prototype,"location",void 0),Object(i.a)([Object(n.b)({type:Number,json:{write:!0}})],m.prototype,"score",void 0);var f=m=Object(i.a)([Object(o.a)("esri.tasks.support.AddressCandidate")],m),v=r(818),O=["address"];function j(){return(j=Object(d.a)((function*(e,t,r){t=v.a.from(t);var i=Object(h.c)(e),s=t.toJSON(),{address:n}=s,o=u(s,O),l=Object(a.a)(Object(a.a)(Object(a.a)({},n),o),{},{f:"json"}),c=Object(h.b)(Object(a.a)(Object(a.a)({},i.query),l)),d=Object(h.a)(c,r),b="".concat(i.path,"/findAddressCandidates");return Object(p.default)(b,d).then(S)}))).apply(this,arguments)}function S({data:e}){if(!e)return[];var{candidates:t,spatialReference:r}=e;return t?t.map((e=>{if(e){var t,{extent:a,location:i}=e,s=!a||(t=a)&&"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax;return function(e){return e&&"number"==typeof e.x&&"number"==typeof e.y}(i)&&s?(a&&(a.spatialReference=r),i.spatialReference=r,f.fromJSON(e)):void 0}})):[]}r(101);var w=class extends b.a{constructor(e){super(e),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};Object(i.a)([Object(n.b)({type:[Object],json:{read:{reader:e=>e&&e.records?e.records.map((e=>e.attributes)):null},write:{writer:(e,t)=>{var r=[];Array.isArray(e)&&e.forEach((e=>{r.push({attributes:e})})),t.addresses={records:r}}}}})],w.prototype,"addresses",void 0),Object(i.a)([Object(n.b)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],w.prototype,"categories",void 0),Object(i.a)([Object(n.b)({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],w.prototype,"countryCode",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],w.prototype,"locationType",void 0),Object(i.a)([Object(n.b)({type:l.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],w.prototype,"outSpatialReference",void 0),(w=Object(i.a)([Object(o.a)("esri.tasks.support.AddressesToLocationsParameters")],w)).from=Object(s.m)(w);var _=w;function T(){return(T=Object(d.a)((function*(e,t,r){t=_.from(t);var i=Object(h.c)(e),s=Object(a.a)(Object(a.a)({},t.toJSON()),{},{f:"json"}),n=Object(h.b)(Object(a.a)(Object(a.a)({},i.query),s)),o=Object(h.a)(n,r),l="".concat(i.path,"/geocodeAddresses");return Object(p.default)(l,o).then(x)}))).apply(this,arguments)}function x(e){var{data:t}=e;if(!t)return[];var{locations:r,spatialReference:a}=t;return r?r.map((e=>{var{location:t}=e;return t&&(t.spatialReference=a),f.fromJSON(e)})):[]}var I=r(819);function L(){return(L=Object(d.a)((function*(e,t,r){t=I.a.from(t);var i=Object(h.c)(e),s=Object(a.a)(Object(a.a)({},t.toJSON()),{},{f:"json"}),n=Object(h.b)(Object(a.a)(Object(a.a)({},i.query),s)),o=Object(h.a)(n,r),l="".concat(i.path,"/reverseGeocode");return Object(p.default)(l,o).then(M)}))).apply(this,arguments)}function M({data:e}){if(e){var{address:t,location:r}=e,a=t&&t.Match_addr||"";return f.fromJSON({address:a,attributes:t||{},location:r,score:100})}}var R=class extends b.a{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};Object(i.a)([Object(n.b)({type:Boolean,json:{write:!0}})],R.prototype,"isCollection",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],R.prototype,"magicKey",void 0),Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],R.prototype,"text",void 0);var k=R=Object(i.a)([Object(o.a)("esri.tasks.support.SuggestionCandidate")],R),E=r(820);function N(){return(N=Object(d.a)((function*(e,t,r){var i=Object(h.c)(e),s=Object(a.a)(Object(a.a)({},(t=E.a.from(t)).toJSON()),{},{f:"json"}),n=Object(h.b)(Object(a.a)(Object(a.a)({},i.query),s)),o=Object(h.a)(n,r),l="".concat(i.path,"/suggest");return Object(p.default)(l,o).then(C)}))).apply(this,arguments)}function C(e){var{data:t}=e;if(!t)return[];var{suggestions:r}=t;return r?r.map((e=>new k(e))):[]}var F=class extends c.a{constructor(e){super(e),this.outSpatialReference=null,this.url=null}addressToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r){return j.apply(this,arguments)}(this.url,e,r)}suggestLocations(e,t){var r=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r){return N.apply(this,arguments)}(this.url,e,r)}addressesToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r){return T.apply(this,arguments)}(this.url,e,r)}locationToAddress(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);var r=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r){return L.apply(this,arguments)}(this.url,e,r)}};Object(i.a)([Object(n.b)({type:l.a})],F.prototype,"outSpatialReference",void 0),Object(i.a)([Object(n.b)()],F.prototype,"url",void 0);var A=F=Object(i.a)([Object(o.a)("esri.tasks.Locator")],F);t.a=A}}]);
//# sourceMappingURL=90.5d0c0ab6.chunk.js.map