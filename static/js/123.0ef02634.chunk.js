(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[123],{1029:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e,t,n){var i,s=e.byteLength/(4*t),f=new Uint32Array(e,0,s*t),l=new Uint32Array(s),v=null!=(i=null==n?void 0:n.minReduction)?i:0,g=(null==n?void 0:n.originalIndices)||null,d=g?g.length:0,h=(null==n?void 0:n.componentOffsets)||null,p=0;if(h)for(var b=0;b<h.length-1;b++){var m=h[b+1]-h[b];m>p&&(p=m)}else p=s;var j=Math.floor(1.1*p)+1;(null==u||u.length<2*j)&&(u=new Uint32Array(Object(r.o)(2*j)));for(var w=0;w<2*j;w++)u[w]=0;for(var O=0,y=!!h&&!!g,A=y?d:s,I=y?new Uint32Array(d):null,k=1.96,L=0!==v?Math.ceil(4*k*k/(v*v)*v*(1-v)):A,S=1,U=h?h[1]:A,N=0;N<A;N++){if(N===L){var V=1-O/N;if(V+k*Math.sqrt(V*(1-V)/N)<v)return null;L*=2}if(N===U){for(var x=0;x<2*j;x++)u[x]=0;if(g)for(var E=h[S-1];E<h[S];E++)I[E]=l[g[E]];U=h[++S]}for(var M=y?g[N]:N,D=M*t,F=c(f,D,t),W=F%j,B=O;0!==u[2*W+1];){if(u[2*W]===F){var q=u[2*W+1]-1;if(a(f,D,q*t,t)){B=l[q];break}}++W>=j&&(W-=j)}B===O&&(u[2*W]=F,u[2*W+1]=M+1,O++),l[M]=B}if(0!==v&&1-O/s<v)return null;if(y){for(var P=h[S-1];P<I.length;P++)I[P]=l[g[P]];l=I}var C=new Uint32Array(t*O);O=0;for(var z=0;z<A;z++)l[z]===O&&(o(f,(y?g[z]:z)*t,C,O*t,t),O++);if(g&&!y){for(var H=new Uint32Array(d),J=0;J<H.length;J++)H[J]=l[g[J]];l=H}return{buffer:C.buffer,indices:l,uniqueCount:O}}function a(e,t,n,r){for(var i=0;i<r;i++)if(e[t+i]!==e[n+i])return!1;return!0}function o(e,t,n,r,i){for(var a=0;a<i;a++)n[r+a]=e[t+a]}function c(e,t,n){for(var r=0,i=0;i<n;i++)r=(r=e[t+i]+r|0)+(r<<11)+(r>>>2)|0;return r>>>0}var u=null},1240:function(e,t,n){"use strict";n.r(t),n.d(t,"work",(function(){return $})),n.d(t,"wrappedWork",(function(){return Y}));var r=n(7),i=n.n(r),a=n(16),o=n(1029),c=n(574),u=n(255),s=Object(u.a)().vec3f("position").u16("componentIndex").u16("u16padding"),f=Object(u.a)().vec2u8("sideness"),l=(Object(c.a)(f),Object(u.a)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),v=l.clone().vec3f("normal"),g=l.clone().vec3f("normalA").vec3f("normalB"),d=n(2),h=n(3),p=n(565),b=n(26),m=n(13),j=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"updateSettings",value:function(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?I:A}},{key:"write",value:function(e,t,n){var r=this.edgeHashFunction(n);N.seed=r;var i=N.getIntRange(0,255),a=N.getIntRange(0,this.settings.variants-1),o=N.getFloat(),c=255*(.5*function(e,t){var n=e<0?-1:1;return Math.pow(Math.abs(e),t)*n}(-(1-Math.min(o/.7,1))+Math.max(0,o-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,a),e.variantExtension.set(t,c)}},{key:"trim",value:function(e,t){return e.slice(0,t)}}]),e}(),w=new Float32Array(6),O=new Uint32Array(w.buffer),y=new Uint32Array(1);function A(e){var t=w;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],y[0]=5381;for(var n=0;n<O.length;n++)y[0]=31*y[0]+O[n];return y[0]}function I(e){var t=w;t[0]=k(e.position0[0]),t[1]=k(e.position0[1]),t[2]=k(e.position0[2]),t[3]=k(e.position1[0]),t[4]=k(e.position1[1]),t[5]=k(e.position1[2]),y[0]=5381;for(var n=0;n<O.length;n++)y[0]=31*y[0]+O[n];return y[0]}function k(e){return Math.round(1e4*e)/1e4}var L=function(){function e(){Object(d.a)(this,e),this.commonWriter=new j}return Object(h.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return v.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),Object(m.e)(U,n.faceNormal0,n.faceNormal1),Object(m.q)(U,U),e.normal.setVec(t,U)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();L.Layout=v,L.glLayout=Object(c.a)(v,{divisor:1});var S=function(){function e(){Object(d.a)(this,e),this.commonWriter=new j}return Object(h.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return g.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),e.normalA.setVec(t,n.faceNormal0),e.normalB.setVec(t,n.faceNormal1)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();S.Layout=g,S.glLayout=Object(c.a)(g,{divisor:1});var U=Object(b.e)(),N=new p.a,V=n(10),x=n(115);function E(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:M(e.layout)}}function M(e){var t=new Array;return e.fields.forEach((function(e,n){var r=Object(V.a)(Object(V.a)({},e),{},{constructor:F(e.constructor)});t.push([n,r])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}var D=[x.a,x.m,x.u,x.C,x.f,x.h,x.b,x.n,x.v,x.D,x.g,x.i,x.l,x.t,x.B,x.J,x.j,x.r,x.z,x.H,x.k,x.s,x.A,x.I,x.e,x.q,x.y,x.G,x.c,x.o,x.w,x.E,x.d,x.p,x.x,x.F];function F(e){return"".concat(e.ElementType,"_").concat(e.ElementCount)}var W=new Map;function B(e,t,n){for(var r=t/3,i=new Uint32Array(n+1),a=new Uint32Array(n+1),o=function(e,t){e<t?i[e+1]++:a[t+1]++},c=0;c<r;c++){var u=e[3*c],s=e[3*c+1],f=e[3*c+2];o(u,s),o(s,f),o(f,u)}for(var l=0,v=0,g=0;g<n;g++){var d=i[g+1],h=a[g+1];i[g+1]=l,a[g+1]=v,l+=d,v+=h}for(var p=new Uint32Array(6*r),b=i[n],m=function(e,t,n){if(e<t){var r=i[e+1]++;p[2*r]=t,p[2*r+1]=n}else{var o=a[t+1]++;p[2*b+2*o]=e,p[2*b+2*o+1]=n}},j=0;j<r;j++){var w=e[3*j],O=e[3*j+1],y=e[3*j+2];m(w,O,j),m(O,y,j),m(y,w,j)}for(var A=function(e,t){for(var n=2*e,r=t-e,i=1;i<r;i++){for(var a=p[n+2*i],o=p[n+2*i+1],c=i-1;c>=0&&p[n+2*c]>a;c--)p[n+2*c+2]=p[n+2*c],p[n+2*c+3]=p[n+2*c+1];p[n+2*c+2]=a,p[n+2*c+3]=o}},I=0;I<n;I++)A(i[I],i[I+1]),A(b+a[I],b+a[I+1]);for(var k=new Int32Array(3*r),L=function(t,n){return t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1},S=function(e,t){var n=L(e,t);k[3*t+n]=-1},U=function(e,t,n,r){var i=L(e,t);k[3*t+i]=r;var a=L(n,r);k[3*r+a]=t},N=0;N<n;N++){for(var V=i[N],x=i[N+1],E=a[N],M=a[N+1];V<x&&E<M;){var D=p[2*V],F=p[2*b+2*E];D===F?(U(N,p[2*V+1],F,p[2*b+2*E+1]),V++,E++):D<F?(S(N,p[2*V+1]),V++):(S(F,p[2*b+2*E+1]),E++)}for(;V<x;)S(N,p[2*V+1]),V++;for(;E<M;)S(p[2*b+2*E],p[2*b+2*E+1]),E++}return k}D.forEach((function(e){return W.set(F(e),e)}));var q=n(101),P=n(107),C=n(46),z=n(253),H=-1;function J(e,t){return e.cosAngle<t}function R(e,t){return e.cosAngle>t}function T(e,t){var n=Object(C.b)(e.cosAngle),r=K.fwd,i=K.ortho;return Object(z.d)(r,e.position1,e.position0),n*(Object(m.g)(Object(m.f)(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}function G(e){for(var t=e.faces.length/3,n=e.faces,r=e.neighbors,i=0,a=0;a<t;a++){var o=r[3*a+0],c=r[3*a+1],u=r[3*a+2],s=n[3*a+0],f=n[3*a+1],l=n[3*a+2];i+=o===H||s<f?1:0,i+=c===H||f<l?1:0,i+=u===H||l<s?1:0}for(var v=new Int32Array(4*i),g=0,d=0;d<t;d++){var h=r[3*d+0],p=r[3*d+1],b=r[3*d+2],m=n[3*d+0],j=n[3*d+1],w=n[3*d+2];(h===H||m<j)&&(v[g++]=m,v[g++]=j,v[g++]=d,v[g++]=h),(p===H||j<w)&&(v[g++]=j,v[g++]=w,v[g++]=d,v[g++]=p),(b===H||w<m)&&(v[g++]=w,v[g++]=m,v[g++]=d,v[g++]=b)}return v}function _(e){for(var t=e.faces.length/3,n=e.vertices.position,r=e.faces,i=Q.v0,a=Q.v1,o=Q.v2,c=new Float32Array(3*t),u=0;u<t;u++){var s=r[3*u+0],f=r[3*u+1],l=r[3*u+2];n.getVec(s,i),n.getVec(f,a),n.getVec(l,o),Object(m.i)(a,a,i),Object(m.i)(o,o,i),Object(m.f)(i,a,o),Object(m.q)(i,i),c[3*u+0]=i[0],c[3*u+1]=i[1],c[3*u+2]=i[2]}return c}var K={edge:{position0:Object(b.e)(),position1:Object(b.e)(),faceNormal0:Object(b.e)(),faceNormal1:Object(b.e)(),componentIndex:0,cosAngle:0},ortho:Object(b.e)(),fwd:Object(b.e)()},Q={v0:Object(b.e)(),v1:Object(b.e)(),v2:Object(b.e)()},X={anglePlanar:4,angleSignificantEdge:35};function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee(t),r=$(n),a=[n.data.buffer],e.abrupt("return",{result:te(r,a),transferList:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=function(e,t,n,r){if(t)return{faces:n,facesLength:r,neighbors:B(n,r,e.count),vertices:e};var i=Object(o.a)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),a=B(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:a,vertices:s.createView(i.buffer)}}(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return ne.updateSettings(e.writerSettings),re.updateSettings(e.writerSettings),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X,i=e.vertices.position,a=e.vertices.componentIndex,o=Object(C.f)(r.anglePlanar),c=Object(C.f)(r.angleSignificantEdge),u=Math.cos(c),s=Math.cos(o),f=K.edge,l=f.position0,v=f.position1,g=f.faceNormal0,d=f.faceNormal1,h=_(e),p=G(e),b=p.length/4,j=t.allocate(b),w=0,O=b,y=n.allocate(O),A=0,I=0,k=0,L=Object(P.h)(0,b),S=new Float32Array(b);Object(q.b)(S,(function(e,t,n){i.getVec(p[4*t+0],l),i.getVec(p[4*t+1],v),n[t]=Object(m.n)(l,v)})),L.sort((function(e,t){return S[t]-S[e]}));for(var U=new Array,N=new Array,V=0;V<b;V++){var x=L[V],E=S[x],M=p[4*x+0],D=p[4*x+1],F=p[4*x+2],W=p[4*x+3],B=W===H;if(i.getVec(M,l),i.getVec(D,v),B)Object(m.v)(g,h[3*F+0],h[3*F+1],h[3*F+2]),Object(m.j)(d,g),f.componentIndex=a.get(M),f.cosAngle=Object(m.g)(g,d);else{if(Object(m.v)(g,h[3*F+0],h[3*F+1],h[3*F+2]),Object(m.v)(d,h[3*W+0],h[3*W+1],h[3*W+2]),f.componentIndex=a.get(M),f.cosAngle=Object(m.g)(g,d),R(f,s))continue;f.cosAngle<-.9999&&Object(m.j)(d,g)}I+=E,k++,B||J(f,u)?(t.write(j,w++,f),U.push(E)):T(f,o)&&(n.write(y,A++,f),N.push(E))}var z=new Float32Array(U.reverse()),Q=new Float32Array(N.reverse());return{regular:{instancesData:t.trim(j,w),lodInfo:{lengths:z}},silhouette:{instancesData:n.trim(y,A),lodInfo:{lengths:Q}},averageEdgeLength:I/k}}(t,ne,re)}function ee(e){return{data:s.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indicesBuffer):"Uint16Array"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function te(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:E(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:E(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}var ne=new L,re=new S}}]);
//# sourceMappingURL=123.0ef02634.chunk.js.map