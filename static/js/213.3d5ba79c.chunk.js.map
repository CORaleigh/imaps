{"version":3,"sources":["Components/Header/Header.tsx"],"names":["Header","props","ref","useRef","lightItem","darkItem","disclaimer","links","setLinks","useState","theme","setTheme","useContext","ThemeContext","updateTheme","newTheme","document","body","classList","remove","add","link","Array","from","head","querySelectorAll","find","href","includes","appendChild","window","localStorage","setItem","useEffect","fetch","then","response","json","config","current","active","target","rel","className","src","placement","scale","width","type","slot","icon","onClick","map","group","title","event","id"],"mappings":"0HAAA,2FAcO,MAAMA,EAAUC,IACrB,MAAMC,EAAMC,iBAAmC,MACzCC,EAAYD,iBAAuC,MACnDE,EAAWF,iBAAuC,MAElDG,EAAaH,iBAAgC,OAE5CI,EAAOC,GAAYC,sBACpB,MAAEC,EAAF,SAASC,GAAaC,qBAAWC,KACjCC,EAAeC,IACnB,GAAIA,EAAU,CACZJ,EAASI,GACTC,SAASC,KAAKC,UAAUC,OAAoB,UAAbJ,EAAuB,OAAS,SAC/DC,SAASC,KAAKC,UAAUE,IAAiB,UAAbL,EAAuB,QAAU,QAE7D,MAAMM,EAAOC,MAAMC,KAAKP,SAASQ,KAAKC,iBAAiB,SAASC,MAAML,GAC7DA,EAAKM,KAAKC,SAAU,GAAEb,gBAE3BM,GACFL,SAASQ,KAAKK,YAAYR,GAE5BS,OAAOC,aAAaC,QAAQ,cAAejB,KAc/C,OAXAkB,qBAAU,KACRC,MAAM,iBAAiBC,MAAMC,IAC3BA,EAASC,OAAOF,MAAMG,IACpB9B,EAAS8B,EAAO/B,aAGhBG,GAASN,EAAUmC,SAAWlC,EAASkC,UACzCnC,EAAUmC,QAAQC,OAAmB,UAAV9B,EAC3BL,EAASkC,QAAQC,OAAmB,SAAV9B,KAE3B,IAED,gCACE,mCACE,mBACEiB,KAAK,sHACLc,OAAO,SACPC,IAAI,aAHN,SAKE,qBAAKC,UAAU,OAAOC,IAAe,UAAVlC,EAAoB,WAAa,oBAE9D,eAAC,IAAD,CACER,IAAKA,EACL2C,UAAU,UACVC,MAAM,IACNC,MAAM,IACNC,KAAK,QALP,UAyBE,cAAC,IAAD,CAAeF,MAAM,IAAIG,KAAK,mBAA9B,SACE,cAAC,IAAD,CAAaC,KAAK,gBAEpB,cAAC,IAAD,CAAsB,iBAAe,OAAO,cAAY,QAAxD,SACE,cAAC,IAAD,CACER,IAAI,aACJS,QAAS,KACH7C,EAAWiC,UACbjC,EAAWiC,QAAQC,QAAS,IAJlC,yBADkE,cAYnEjC,GACCA,EAAM6C,KAAKC,GAEP,cAAC,IAAD,CAAsB,iBAAe,OAAO,cAAaA,EAAMC,MAA/D,SACGD,EAAM9C,MAAM6C,KAAK/B,GAEd,cAAC,IAAD,CAAqBqB,IAAI,aAAaf,KAAMN,EAAKM,KAAMc,OAAO,SAA9D,SACGpB,EAAKiC,OADoEjC,EAAKiC,UAHZD,EAAMC,SAWtF5C,GACC,eAAC,IAAD,CAAsB,iBAAe,SAAS,cAAY,QAA1D,UACE,cAAC,IAAD,CACER,IAAKE,EACLkD,MAAM,QACNH,QAAUI,IACJlD,EAASkC,SAAWnC,EAAUmC,UAChCnC,EAAUmC,QAAQC,QAAS,EAC3BnC,EAASkC,QAAQC,QAAS,GAE5B1B,EAAY,UARhB,mBAaA,cAAC,IAAD,CACEZ,IAAKG,EACLiD,MAAM,OACNH,QAAUI,IACJlD,EAASkC,SAAWnC,EAAUmC,UAChClC,EAASkC,QAAQC,QAAS,EAC1BpC,EAAUmC,QAAQC,QAAS,GAE7B1B,EAAY,SARhB,2BAkBR,eAAC,IAAD,CAAcZ,IAAKI,EAAY,kBAAgB,cAA/C,UACE,qBAAK2C,KAAK,SAASO,GAAG,cAAtB,wBAGA,qBAAKP,KAAK,UAAV,4jBAQA,cAAC,IAAD,CACEA,KAAK,UACLF,MAAM,OACNI,QAAS,KACH7C,EAAWiC,UACbjC,EAAWiC,QAAQC,QAAS,IALlC,0BAeOxC","file":"static/js/213.3d5ba79c.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport {\n  CalciteButton,\n  CalciteDropdown,\n  CalciteDropdownGroup,\n  CalciteDropdownItem,\n  CalciteIcon,\n  CalciteModal,\n} from '@esri/calcite-components-react';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport ThemeContext from '../ThemeContext';\nimport './Header.scss';\nexport const Header = (props: any) => {\n  const ref = useRef<HTMLCalciteDropdownElement>(null);\n  const lightItem = useRef<HTMLCalciteDropdownItemElement>(null);\n  const darkItem = useRef<HTMLCalciteDropdownItemElement>(null);\n\n  const disclaimer = useRef<HTMLCalciteModalElement>(null);\n\n  const [links, setLinks] = useState<any>();\n  const { theme, setTheme } = useContext(ThemeContext);\n  const updateTheme = (newTheme: string) => {\n    if (newTheme) {\n      setTheme(newTheme);\n      document.body.classList.remove(newTheme === 'light' ? 'dark' : 'light');\n      document.body.classList.add(newTheme === 'light' ? 'light' : 'dark');\n\n      const link = Array.from(document.head.querySelectorAll('link')).find((link: HTMLLinkElement) => {\n        return link.href.includes(`${newTheme}/main.css`);\n      });\n      if (link) {\n        document.head.appendChild(link);\n      }\n      window.localStorage.setItem('imaps_theme', newTheme);\n    }\n  };\n  useEffect(() => {\n    fetch('./config.json').then((response) => {\n      response.json().then((config) => {\n        setLinks(config.links);\n      });\n    });\n    if (theme && lightItem.current && darkItem.current) {\n      lightItem.current.active = theme === 'light';\n      darkItem.current.active = theme === 'dark';\n    }\n  }, []);\n  return (\n    <div>\n      <header>\n        <a\n          href=\"https://www.wakegov.com/departments-government/geographic-information-services-gis/maps-apps-data/imaps-information\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <img className=\"logo\" src={theme === 'light' ? 'logo.svg' : 'logo_dark.svg'} />\n        </a>\n        <CalciteDropdown\n          ref={ref}\n          placement=\"top-end\"\n          scale=\"m\"\n          width=\"m\"\n          type=\"click\"\n          // onCalciteDropdownSelect={(event: any) => {\n          //   requestAnimationFrame(() => {\n          //     const theme = event.target.querySelector('calcite-dropdown-item[active]')?.getAttribute('title');\n          //     if (theme) {\n          //       setTheme(theme);\n          //       document.body.classList.remove(theme === 'light' ? 'dark' : 'light');\n          //       document.body.classList.add(theme === 'light' ? 'light' : 'dark');\n\n          //       const link = Array.from(document.head.querySelectorAll('link')).find((link: HTMLLinkElement) => {\n          //         return link.href.includes(`${theme}/main.css`);\n          //       });\n          //       if (link) {\n          //         document.head.appendChild(link);\n          //       }\n          //       window.localStorage.setItem('imaps_theme', theme);\n          //     }\n          //   });\n          // }}\n        >\n          <CalciteButton scale=\"s\" slot=\"dropdown-trigger\">\n            <CalciteIcon icon=\"hamburger\"></CalciteIcon>\n          </CalciteButton>\n          <CalciteDropdownGroup selection-mode=\"none\" group-title=\"About\" key=\"disclaimer\">\n            <CalciteDropdownItem\n              rel=\"noreferrer\"\n              onClick={() => {\n                if (disclaimer.current) {\n                  disclaimer.current.active = true;\n                }\n              }}\n            >\n              Disclaimer\n            </CalciteDropdownItem>\n          </CalciteDropdownGroup>\n          {links &&\n            links.map((group: any) => {\n              return (\n                <CalciteDropdownGroup selection-mode=\"none\" group-title={group.title} key={group.title}>\n                  {group.links.map((link: any) => {\n                    return (\n                      <CalciteDropdownItem rel=\"noreferrer\" href={link.href} target=\"_blank\" key={link.title}>\n                        {link.title}\n                      </CalciteDropdownItem>\n                    );\n                  })}\n                </CalciteDropdownGroup>\n              );\n            })}\n          {theme && (\n            <CalciteDropdownGroup selection-mode=\"single\" group-title=\"Theme\">\n              <CalciteDropdownItem\n                ref={lightItem}\n                title=\"light\"\n                onClick={(event: any) => {\n                  if (darkItem.current && lightItem.current) {\n                    lightItem.current.active = true;\n                    darkItem.current.active = false;\n                  }\n                  updateTheme('light');\n                }}\n              >\n                Light\n              </CalciteDropdownItem>\n              <CalciteDropdownItem\n                ref={darkItem}\n                title=\"dark\"\n                onClick={(event: any) => {\n                  if (darkItem.current && lightItem.current) {\n                    darkItem.current.active = true;\n                    lightItem.current.active = false;\n                  }\n                  updateTheme('dark');\n                }}\n              >\n                Dark\n              </CalciteDropdownItem>\n            </CalciteDropdownGroup>\n          )}\n        </CalciteDropdown>\n      </header>\n\n      <CalciteModal ref={disclaimer} aria-labelledby=\"modal-title\">\n        <div slot=\"header\" id=\"modal-title\">\n          Disclaimer\n        </div>\n        <div slot=\"content\">\n          iMAPS makes every effort to produce and publish the most current and accurate information possible. However,\n          the maps are productions for information purposed, and are NOT surveys. No warranties, expressed or implied,\n          are provided for the data therein, its use, or its interpretation. Register of Deeds documents accessed\n          through this site are unofficial. The official records are maintained at the Wake County Register of Deeds\n          office. The Wake County Register of Deeds assumes no responsibility or liability associated with the use or\n          misused of this data.\n        </div>\n        <CalciteButton\n          slot=\"primary\"\n          width=\"full\"\n          onClick={() => {\n            if (disclaimer.current) {\n              disclaimer.current.active = false;\n            }\n          }}\n        >\n          Close\n        </CalciteButton>\n      </CalciteModal>\n    </div>\n  );\n};\nexport default Header;\n"],"sourceRoot":""}