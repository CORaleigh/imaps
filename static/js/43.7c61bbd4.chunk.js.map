{"version":3,"sources":["../node_modules/@arcgis/core/TimeExtent.js","../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/core/timeUtils.js","../node_modules/@arcgis/core/chunks/_commonjsHelpers.js","../node_modules/@arcgis/core/renderers/support/lengthUtils.js","../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","../node_modules/@arcgis/core/core/loadAll.js","../node_modules/@arcgis/core/webdoc/support/writeUtils.js","../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/support/LayersMixin.js","../node_modules/@arcgis/core/support/TablesMixin.js"],"names":["u","d","e","constructor","t","super","this","end","start","allTime","c","empty","h","readEnd","Date","writeEnd","getTime","isAllTime","equals","isEmpty","readStart","writeStart","clone","r","s","i","n","expandTo","o","intersection","l","isNaN","offset","union","Math","min","max","type","json","write","allowNull","prototype","a","p","readOnly","read","m","y","Boolean","value","origins","service","name","reader","disablePopup","enabled","writer","f","String","isRequired","ignoreOrigin","Number","default","w","target","opacity","source","origin","drawingInfo","transparency","layerDefinition","g","get","layer","timeInfo","datesInUnknownTimezone","timeOffset","useViewTime","view","timeExtent","getTimezoneOffset","unit","_get","v","fromJSON","spatialReference","j","b","I","milliseconds","seconds","minutes","hours","days","weeks","months","years","decades","centuries","getter","setter","multiplier","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","globalThis","window","global","self","__esModule","Object","hasOwnProperty","call","Error","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","OGCFeatureLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","KML","RasterDataLayer","Voxel","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsHybrid","BingMapsRoad","GeoRSS","SubtypeGroupLayer","arguments","title","writeListMode","layerContainerType","writeOperationalLayerType","layerType","writeTitle","operationalLayerType","messages","push","id","declaredClass","filter","length","url","beforeSave","async","load","Array","isArray","isCollection","forEach","isLoadable","loadAll","ok","loadError","Set","restrictedWebMapWriting","has","maxScale","minScale","blendMode","visibility","visible","featureCollection","showLegend","legendEnabled","_visibilityHandles","fullExtent","_visibilityWatcher","bind","initialize","_enforceVisibility","visibilityMode","watch","_visibleWatcher","_writeLayers","webmap","getLayerJSONFromResourceInfo","layers","portalItem","_set","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","layerAdded","_turnOffOtherLayers","uid","layerRemoved","remove","initialized","find","getItemAt","_isAnyLayerVisible","some","getLogger","parent","error","on","item","destroy","removeAll","add","getNextIndex","reorder","then","destroyed","addMany","slice","findLayerById","findLayerByUid","removeMany","tables","findTableById","findTableByUid"],"mappings":"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","file":"static/js/43.7c61bbd4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"./chunks/tslib.es6.js\";import{JSONSupport as e}from\"./core/JSONSupport.js\";import{isSome as r,andThen as s,mapOr as i}from\"./core/maybe.js\";import{truncateDate as n,offsetDate as o}from\"./core/timeUtils.js\";import{property as l}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/accessorSupport/ensureType.js\";import\"./core/Logger.js\";import{reader as a}from\"./core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"./core/accessorSupport/decorators/writer.js\";var u;let d=u=class extends e{constructor(t){super(t),this.end=null,this.start=null}static get allTime(){return c}static get empty(){return h}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?t.getTime():null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?t.getTime():null}clone(){return new u({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=r(this.start)?this.start.getTime():this.start,s=r(this.end)?this.end.getTime():this.end,i=r(t.start)?t.start.getTime():t.start,n=r(t.end)?t.end.getTime():t.end;return e===i&&s===n}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=s(this.start,(e=>n(e,t))),r=s(this.end,(e=>o(n(e,t),1,t)));return new u({start:e,end:r})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return u.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=i(this.start,-1/0,(t=>t.getTime())),r=i(this.end,1/0,(t=>t.getTime())),s=i(t.start,-1/0,(t=>t.getTime())),n=i(t.end,1/0,(t=>t.getTime()));let o,l;if(s>=e&&s<=r?o=s:e>=s&&e<=n&&(o=e),r>=s&&r<=n?l=r:n>=e&&n<=r&&(l=n),!isNaN(o)&&!isNaN(l)){const t=new u;return t.start=o===-1/0?null:new Date(o),t.end=l===1/0?null:new Date(l),t}return u.empty}offset(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const s=new u,{start:i,end:n}=this;return r(i)&&(s.start=o(i,t,e)),r(n)&&(s.end=o(n,t,e)),s}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return c.clone();const e=r(this.start)&&r(t.start)?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,s=r(this.end)&&r(t.end)?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new u({start:e,end:s})}};t([l({type:Date,json:{write:{allowNull:!0}}})],d.prototype,\"end\",void 0),t([a(\"end\")],d.prototype,\"readEnd\",null),t([p(\"end\")],d.prototype,\"writeEnd\",null),t([l({readOnly:!0,json:{read:!1}})],d.prototype,\"isAllTime\",null),t([l({readOnly:!0,json:{read:!1}})],d.prototype,\"isEmpty\",null),t([l({type:Date,json:{write:{allowNull:!0}}})],d.prototype,\"start\",void 0),t([a(\"start\")],d.prototype,\"readStart\",null),t([p(\"start\")],d.prototype,\"writeStart\",null),d=u=t([m(\"esri.TimeExtent\")],d);const c=new d,h=new d({start:void 0,end:void 0});var y=d;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../TimeExtent.js\";import r from\"../../geometry/Extent.js\";import i from\"../../geometry/SpatialReference.js\";import{w as n}from\"../../chunks/persistableUrlUtils.js\";import{toLocalTimeExtent as t,toUTCTimeExtent as o}from\"../../support/timeUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import{transparencyToOpacity as s}from\"../../webdoc/support/opacityUtils.js\";const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:!0}},p={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},m={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n}}},d={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},c={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},w={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?s(r.layerDefinition.drawingInfo.transparency):void 0:s(r.drawingInfo.transparency)}}},g={type:e,readOnly:!0,get(){var e,r;if(null==(e=this.layer)||!e.timeInfo)return null;const{datesInUnknownTimezone:i,timeOffset:n,useViewTime:a}=this.layer,s=null==(r=this.view)?void 0:r.timeExtent;let l=this.layer.timeExtent;i&&(l=t(l));let p=a?s&&l?s.intersection(l):s||l:l;if(!p||p.isEmpty||p.isAllTime)return p;n&&(p=p.offset(-n.value,n.unit)),i&&(p=o(p));const m=this._get(\"timeExtent\");return p.equals(m)?m:p}},v={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,n)=>{const t=r.fromJSON(e);return null!=n.spatialReference&&\"object\"==typeof n.spatialReference&&(t.spatialReference=i.fromJSON(n.spatialReference)),t}}}},read:!1}},j={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},b={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},I={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}};export{g as combinedViewLayerTimeExtentProperty,c as elevationInfo,j as id,m as labelsVisible,d as legendEnabled,I as maxScale,b as minScale,u as opacity,w as opacityDrawingInfo,p as popupEnabled,y as readOnlyService,v as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{unwrap as e,isSome as n,isNone as i}from\"../core/maybe.js\";import{eachAlways as o}from\"../core/promiseUtils.js\";import{offsetDate as r}from\"../core/timeUtils.js\";function m(t){return\"feature\"===(null==t?void 0:t.type)}function s(t){return\"map-image\"===(null==t?void 0:t.type)}function f(t){return void 0!==t.timeInfo}async function u(n,r){if(0===n.length)return t.allTime;const u=n.filter(f);await Promise.all(u.map((t=>t.load({signal:r}))));const a=[],l=[];for(const t of u)(m(t)||s(t))&&t.timeInfo.hasLiveData?a.push(t):l.push(t);const c=t=>i(t)||t.isAllTime,p=l.map((t=>t.timeInfo.fullTimeExtent));if(p.some(c))return t.allTime;const T=a.map((async t=>{const{timeExtent:n}=await t.fetchRecomputedExtents({signal:r});return n||e(t.timeInfo.fullTimeExtent)})),d=(await o(T)).map((t=>t.value));if(d.some(c))return t.allTime;return d.concat(p).reduce(((t,e)=>t.union(e)))}function a(e){if(!e)return e;const{start:i,end:o}=e;return new t({start:n(i)?r(i,-i.getTimezoneOffset(),\"minutes\"):i,end:n(o)?r(o,-o.getTimezoneOffset(),\"minutes\"):o})}function l(e){if(!e)return e;const{start:i,end:o}=e;return new t({start:n(i)?r(i,i.getTimezoneOffset(),\"minutes\"):i,end:n(o)?r(o,o.getTimezoneOffset(),\"minutes\"):o})}export{u as getTimeExtentFromLayers,l as toLocalTimeExtent,a as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"./has.js\";const e={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},t={milliseconds:{getter:\"getMilliseconds\",setter:\"setMilliseconds\",multiplier:1},seconds:{getter:\"getSeconds\",setter:\"setSeconds\",multiplier:1},minutes:{getter:\"getMinutes\",setter:\"setMinutes\",multiplier:1},hours:{getter:\"getHours\",setter:\"setHours\",multiplier:1},days:{getter:\"getDate\",setter:\"setDate\",multiplier:1},weeks:{getter:\"getDate\",setter:\"setDate\",multiplier:7},months:{getter:\"getMonth\",setter:\"setMonth\",multiplier:1},years:{getter:\"getFullYear\",setter:\"setFullYear\",multiplier:1},decades:{getter:\"getFullYear\",setter:\"setFullYear\",multiplier:10},centuries:{getter:\"getFullYear\",setter:\"setFullYear\",multiplier:100}};function s(e,s,r){const n=new Date(e.getTime());if(s&&r){const e=t[r],{getter:l,setter:u,multiplier:i}=e;n[u](n[l]()+s*i)}return n}function r(e,t,s=\"milliseconds\"){const r=e.getTime(),n=o(t,s,\"milliseconds\");return new Date(r+n)}function n(e,t){switch(t){case\"milliseconds\":return new Date(e.getTime());case\"seconds\":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case\"minutes\":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case\"hours\":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case\"days\":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case\"weeks\":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case\"months\":return new Date(e.getFullYear(),e.getMonth(),1);case\"years\":return new Date(e.getFullYear(),0,1);case\"decades\":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case\"centuries\":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function l(e,t,s=\"milliseconds\"){const r=new Date(o(t,s,\"milliseconds\"));return r.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r}function u(e,t=\"milliseconds\"){const s=o(e.getUTCHours(),\"hours\",\"milliseconds\"),r=o(e.getUTCMinutes(),\"minutes\",\"milliseconds\"),n=o(e.getUTCSeconds(),\"seconds\",\"milliseconds\");return o(s+r+n+e.getUTCMilliseconds(),\"milliseconds\",t)}function i(e,t){const s=new Date(e.getTime());return s.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s}function a(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t}function o(t,s,r){if(0===t)return 0;return t*e[s]/e[r]}export{o as convertTime,l as makeUTCTime,s as offsetDate,r as offsetDateUTC,i as resetUTCDate,u as timeSinceUTCMidnight,n as truncateDate,a as truncateLocalTime};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function n(e){throw new Error('Could not dynamically require \"'+e+'\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}export{n as a,e as c,o as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{convertUnit as e,lengthToDegrees as s}from\"../../core/unitUtils.js\";import{earth as t}from\"../../geometry/support/Ellipsoid.js\";const m={inches:e(1,\"meters\",\"inches\"),feet:e(1,\"meters\",\"feet\"),\"us-feet\":e(1,\"meters\",\"us-feet\"),yards:e(1,\"meters\",\"yards\"),miles:e(1,\"meters\",\"miles\"),\"nautical-miles\":e(1,\"meters\",\"nautical-miles\"),millimeters:e(1,\"meters\",\"millimeters\"),centimeters:e(1,\"meters\",\"centimeters\"),decimeters:e(1,\"meters\",\"decimeters\"),meters:e(1,\"meters\",\"meters\"),kilometers:e(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/s(1,\"meters\",t.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as a}from\"../../core/accessorSupport/write.js\";import{supportedTypes as p}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,i,t){(t&&\"ground\"===t.layerContainerType||e&&a(this,i,{},t))&&(r[i]=e)}writeOperationalLayerType(e,r,i,t){!e||t&&\"tables\"===t.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,i){if(i&&i.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=p[e];let o=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),!o)return i.messages&&i.messages.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...i,layer:this}),o=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&o?null:t}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([i({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([o(\"listMode\")],y.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([o(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([i(n)],y.prototype,\"opacity\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([o(\"title\")],y.prototype,\"writeTitle\",null),e([i({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{map as o,result as a}from\"./asyncUtils.js\";import r from\"./Collection.js\";import t from\"./Loadable.js\";import{isNone as l}from\"./maybe.js\";async function n(o,a){return await o.load(),i(o,a)}async function i(n,i){const f=[],c=(...o)=>{for(const a of o)l(a)||(Array.isArray(a)?c(...a):r.isCollection(a)?a.forEach((o=>c(o))):t.isLoadable(a)&&f.push(a))};i(c);let e=null;if(await o(f,(async o=>{!1!==(await a(s(o)?o.loadAll():o.load())).ok||e||(e=o)})),e)throw e.loadError;return n}function s(o){return\"loadAll\"in o&&\"function\"==typeof o.loadAll}export{n as default,n as loadAll,i as loadAllChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as t}from\"../../core/lang.js\";import{isSome as n}from\"../../core/maybe.js\";import{getDeepValue as r}from\"../../core/object.js\";import{numberToJSON as i}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";const o=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wms\",\"wmts\"]),l=new Set([\"csv\",\"feature\",\"geo-rss\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"map-image\",\"map-notes\",\"ogc-feature\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wfs\",\"wms\",\"wmts\"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function c(e){return\"basemap\"===e.layerContainerType?o:\"operational-layers\"===e.layerContainerType?l:null}function m(e){return!(\"feature\"!==e.type||e.url||!e.source||\"memory\"!==e.source.type)}function p(e,t){if(t.restrictedWebMapWriting){const r=c(t);return!n(r)||r.has(e.type)&&!m(e)}return!0}function u(e,t){if(m(e)){const n=r(\"featureCollection.layers\",t),i=n&&n[0]&&n[0].layerDefinition;i&&d(e,i)}else if(\"stream\"===e.type){d(e,t.layerDefinition=t.layerDefinition||{})}else\"group\"!==e.type&&d(e,t)}function d(e,t){\"maxScale\"in e&&(t.maxScale=i(e.maxScale)),\"minScale\"in e&&(t.minScale=i(e.minScale))}function f(e,t){if(u(e,t),\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=i(e.opacity),t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type)if(m(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(r,i,o){if(!(\"write\"in r)||!r.write)return o&&o.messages&&o.messages.push(new e(\"layer:unsupported\",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted`,{layer:r})),null;if(p(r,o)){const e={};return r.write(e,o)?e:null}return n(i)&&f(r,i=t(i)),i}export{s as disableRestrictedWriting,a as enableRestrictedWriting,y as getLayerJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as v}from\"../support/TablesMixin.js\";import{getLayerJSON as b}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(v(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=b(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);var u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function l(e){return e&&\"group\"===e.type}function d(e,r,t){let s,o;if(e)for(let i=0,a=e.length;i<a;i++){if(s=e.getItemAt(i),s[r]===t)return s;if(l(s)&&(o=d(s.layers,r,t),o))return o}}const y=s.getLogger(\"esri.support.LayersMixin\"),p=s=>{let l=class extends s{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},s=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||y.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},o=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on(\"before-add\",(e=>t(e.item))),this.layers.on(\"after-add\",(e=>s(e.item))),this.layers.on(\"after-remove\",(e=>o(e.item)))}destroy(){const e=this.layers.removeAll();for(const r of e)this.layerRemoved(r),r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):y.error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;r=t.getNextIndex(r),e.slice().forEach((e=>{e.parent!==this?(t.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([i()],l.prototype,\"layers\",null),l=e([a(\"esri.support.LayersMixin\")],l),l};export{p as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";const n=\"esri.support.TablesMixin\",a=s.getLogger(n);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=s=>{let l=class extends s{constructor(...t){super(...t),this.tables=new e,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(n)],l),l};export{c as TablesMixin};\n"],"sourceRoot":""}