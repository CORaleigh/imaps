{"version":3,"sources":["../node_modules/@arcgis/core/rest/support/RouteResult.js","../node_modules/@arcgis/core/rest/support/RouteSolveResult.js","../node_modules/@arcgis/core/rest/route.js","../node_modules/@arcgis/core/tasks/RouteTask.js","../node_modules/@arcgis/core/tasks/Task.js"],"names":["n","r","constructor","o","super","this","directionLines","directionPoints","directions","route","routeName","stops","e","type","p","json","write","prototype","i","t","String","s","c","u","fromJSON","features","map","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","readPointBarriers","barriers","readPolylineBarriers","readPolygonBarriers","a","l","f","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","travelMode","declaredClass","async","d","y","g","R","path","v","b","push","slice","apiKey","hasZ","forEach","get","geometry","h","query","toQueryParams","A","endsWith","data","B","Map","routes","m","spatialReference","attributes","Name","ObjectID","has","routeId","set","RouteName","every","length","Array","from","keys","delete","RouteID","values","find","fieldAliases","geometryType","solve","url","requestOptions","normalizeCtorArgs","parsedUrl","_parseUrl","_encode","isArray","toJSON","JSON","stringify","readOnly"],"mappings":"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","file":"static/js/230.77e60ef3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./DirectionsFeatureSet.js\";import p from\"./FeatureSet.js\";let n=class extends r{constructor(o){super(o),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([e({type:p,json:{write:!0}})],n.prototype,\"directionLines\",void 0),o([e({type:p,json:{write:!0}})],n.prototype,\"directionPoints\",void 0),o([e({type:i,json:{write:!0}})],n.prototype,\"directions\",void 0),o([e({type:t,json:{write:!0}})],n.prototype,\"route\",void 0),o([e({type:String,json:{write:!0}})],n.prototype,\"routeName\",void 0),o([e({type:[t],json:{write:!0}})],n.prototype,\"stops\",void 0),n=o([s(\"esri.rest.support.RouteResult\")],n);const c=n;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../Graphic.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function u(r){return r&&i.fromJSON(r).features.map((r=>r))}let n=class extends e{constructor(r){super(r),this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return u(o.barriers)}readPolylineBarriers(r){return u(r)}readPolygonBarriers(r){return u(r)}};r([s({type:[a]})],n.prototype,\"messages\",void 0),r([s({type:[o]})],n.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],n.prototype,\"readPointBarriers\",null),r([s({type:[o]})],n.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],n.prototype,\"readPolylineBarriers\",null),r([s({type:[o]})],n.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],n.prototype,\"readPolygonBarriers\",null),r([s({type:[l]})],n.prototype,\"routeResults\",void 0),n=r([p(\"esri.rest.support.RouteSolveResult\")],n);const c=n;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{isSome as t}from\"../core/maybe.js\";import{createQueryParamsHelper as r}from\"../core/queryUtils.js\";import{normalizeCentralMeridian as s}from\"../geometry/support/normalizeUtils.js\";import{collectGeometries as i,isInputGeometryZAware as o,fetchServiceDescription as a,dropZValuesOffInputGeometry as n}from\"./networkService.js\";import{parseUrl as l}from\"./utils.js\";import u from\"./support/RouteSolveResult.js\";const f=r({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});function c(e){return\"esri.rest.support.FeatureSet\"===(null==e?void 0:e.declaredClass)}async function p(t,r,u){const p=[],d=[],y={},g={},R=l(t),{path:v}=R;c(r.stops)&&i(r.stops.features,d,\"stops.features\",y),c(r.pointBarriers)&&i(r.pointBarriers.features,d,\"pointBarriers.features\",y),c(r.polylineBarriers)&&i(r.polylineBarriers.features,d,\"polylineBarriers.features\",y),c(r.polygonBarriers)&&i(r.polygonBarriers.features,d,\"polygonBarriers.features\",y);const b=await s(d);for(const e in y){const t=y[e];p.push(e),g[e]=b.slice(t[0],t[1])}if(o(g,p)){let e=null;try{e=await a(v,r.apiKey,u)}catch{}e&&!e.hasZ&&n(g,p)}for(const e in g)g[e].forEach(((t,s)=>{r.get(e)[s].geometry=t}));const h={...u,query:{...R.query,...f.toQueryParams(r),f:\"json\"}},A=v.endsWith(\"/solve\")?v:`${v}/solve`,{data:B}=await e(A,h);return m(B)}function m(e){var r,s,i,o,a;const n=new Map,{directionLines:l,directionPoints:f,directions:c,routes:p,stops:m,barriers:d,polygonBarriers:y,polylineBarriers:g,messages:R}=e,v=null!=(r=null!=(s=null!=(i=null!=(o=null==p?void 0:p.spatialReference)?o:null==m?void 0:m.spatialReference)?i:null==d?void 0:d.spatialReference)?s:null==y?void 0:y.spatialReference)?r:null==g?void 0:g.spatialReference;null==p||p.features.forEach((e=>{const r=e.attributes.Name,s=e.attributes.ObjectID;n.has(r)?(n.get(r).route=e,n.get(r).routeId=s):n.set(r,{route:e,routeId:s,routeName:r}),t(e.geometry)&&(e.geometry.spatialReference=v)})),null==c||c.forEach((e=>{const t=e.routeName;n.has(t)?n.get(t).directions=e:n.set(t,{routeName:t,directions:e})})),null==m||m.features.forEach((e=>{var r;const s=null!=(r=e.attributes.RouteName)?r:null;n.has(s)?n.get(s).stops?n.get(s).stops.push(e):n.get(s).stops=[e]:n.set(s,{stops:[e],routeName:s}),t(e.geometry)&&(e.geometry.spatialReference=v)}));const b=null==(a=null==m?void 0:m.features.every((e=>null==e.attributes.RouteName)))||a;if((null==m?void 0:m.features.length)>0&&b){const e=Array.from(n.keys())[0];n.get(e).stops=n.get(null).stops,n.delete(null)}null==l||l.features.forEach((e=>{var t;const r=e.attributes.RouteID,s=null==(t=Array.from(n.values()).find((e=>e.routeId===r)))?void 0:t.routeName;if(s)if(n.has(s))if(n.get(s).directionLines)n.get(s).directionLines.features.push(e);else{const{fieldAliases:t,geometryType:r,spatialReference:i}=l;n.get(s).directionLines={features:[e],fieldAliases:t,geometryType:r,spatialReference:i}}else{const{fieldAliases:t,geometryType:r,spatialReference:i}=l;n.set(s,{routeName:s,directionLines:{features:[e],fieldAliases:t,geometryType:r,spatialReference:i}})}})),null==f||f.features.forEach((e=>{var t;const r=e.attributes.RouteID,s=null==(t=Array.from(n.values()).find((e=>e.routeId===r)))?void 0:t.routeName;if(s)if(n.has(s))if(n.get(s).directionPoints)n.get(s).directionPoints.features.push(e);else{const{fieldAliases:t,geometryType:r,spatialReference:i}=f;n.get(s).directionPoints={features:[e],fieldAliases:t,geometryType:r,spatialReference:i}}else{const{fieldAliases:t,geometryType:r,spatialReference:i}=f;n.set(s,{routeName:s,directionPoints:{features:[e],fieldAliases:t,geometryType:r,spatialReference:i}})}}));const h=Array.from(n.values());return u.fromJSON({routeResults:h,barriers:d,polygonBarriers:y,polylineBarriers:g,messages:R})}export{p as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/set.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{solve as o}from\"../rest/route.js\";import t from\"./Task.js\";let e=class extends t{constructor(s){super(s)}solve(s,r){return o(this.url,s,r)}};e=s([r(\"esri.tasks.RouteTask\")],e);const c=e;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import s from\"../core/Accessor.js\";import{urlToObject as t}from\"../core/urlUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";let i=class extends s{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,s){return\"string\"!=typeof r?r:{url:r,...s}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?t(r):null}_encode(r,s,t){const o={};for(const e in r){if(\"declaredClass\"===e)continue;const i=r[e];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){o[e]=[];for(let r=0;r<i.length;r++)o[e][r]=this._encode(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(t&&t[e]);o[e]=s?r:JSON.stringify(r)}else o[e]=s?i:JSON.stringify(i);else o[e]=i}return o}};r([o({readOnly:!0})],i.prototype,\"parsedUrl\",null),r([o()],i.prototype,\"requestOptions\",void 0),r([o({type:String})],i.prototype,\"url\",void 0),i=r([e(\"esri.tasks.Task\")],i);const l=i;export{l as default};\n"],"sourceRoot":""}