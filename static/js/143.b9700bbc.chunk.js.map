{"version":3,"sources":["../node_modules/@arcgis/core/rest/route.js","../node_modules/@arcgis/core/tasks/RouteTask.js","../node_modules/@arcgis/core/tasks/support/NAMessage.js","../node_modules/@arcgis/core/tasks/support/DirectionsFeatureSet.js","../node_modules/@arcgis/core/core/queryUtils.js","../node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","../node_modules/@arcgis/core/tasks/support/RouteResult.js","../node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","../node_modules/@arcgis/core/rest/networkUtils.js"],"names":["p","s","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","e","wkid","pointBarriers","polylineBarriers","polygonBarriers","restrictionAttributes","stops","travelMode","m","l","c","f","y","B","h","t","features","o","r","then","push","slice","i","a","path","Promise","resolve","dontCheck","hasZ","n","forEach","get","geometry","query","toQueryParams","endsWith","u","constructor","super","solve","this","url","type","String","json","read","write","prototype","extent","geometryType","routeId","routeName","totalDriveTime","totalLength","totalTime","readFeatures","_decompressFeatureGeometry","summary","envelope","spatialReference","fromJSON","map","strings","events","x","point","z","attributes","ETA","arriveTimeUTC","_mergePolylinesToSinglePath","_decompressGeometry","compressedGeometry","g","d","match","parseInt","indexOf","length","paths","hasM","concat","source","readOnly","value","_options","toJSON","Object","keys","Array","isArray","join","JSON","stringify","data","supportedTravelModes","defaultTravelMode","token","error","substring","owningSystemUrl","test","serviceName","results","paramName","parse","TravelMode","getServiceDescription","_serviceDescriptionPromise","_fetchServiceDescription","parsedUrl","id","itemId","currentVersion","_isInputGeometryZAware","_dropZValuesOffInputGeometry","console","log","directions","route","barriers","messages","routeResults","readPointBarriers","readPolylineBarriers","readPolygonBarriers","aliasOf","v","routes","Name","RouteName","splice","T"],"mappings":"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","file":"static/js/143.b9700bbc.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{normalizeCentralMeridian as r}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t}from\"./utils.js\";import{createQueryParamsHelper as s}from\"../core/queryUtils.js\";import{collectGeometries as o,isInputGeometryZAware as i,fetchServiceDescription as a,dropZValuesOffInputGeometry as n,handleSolveResponse as u}from\"./networkUtils.js\";const p=s({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});async function m(s,m,l){const c=[],f=[],y={},B={},h=t(s);return m.stops&&m.stops.features&&o(m.stops.features,f,\"stops.features\",y),m.pointBarriers&&m.pointBarriers.features&&o(m.pointBarriers.features,f,\"pointBarriers.features\",y),m.polylineBarriers&&m.polylineBarriers.features&&o(m.polylineBarriers.features,f,\"polylineBarriers.features\",y),m.polygonBarriers&&m.polygonBarriers.features&&o(m.polygonBarriers.features,f,\"polygonBarriers.features\",y),r(f).then((e=>{for(const r in y){const t=y[r];c.push(r),B[r]=e.slice(t[0],t[1])}return i(B,c)?a(h.path):Promise.resolve({dontCheck:!0})})).then((r=>{(\"dontCheck\"in r?r.dontCheck:r.hasZ)||n(B,c);for(const e in B)B[e].forEach(((r,t)=>{m.get(e)[t].geometry=r}));const t={...l,query:{...h.query,...p.toQueryParams(m),f:\"json\"}},{path:s}=h,o=\"/solve\",i=s.endsWith(o)?s:s+o;return e(i,t)})).then((e=>u(e)))}export{m as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"./Task.js\";import{solve as e}from\"../rest/route.js\";import{NAServiceDescriptionMixin as t}from\"./mixins/NAServiceDescription.js\";let p=class extends(t(o)){constructor(r){super(r)}solve(r,s){return e(this.url,r,s)}};p=r([s(\"esri.tasks.RouteTask\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../geometry/SpatialReference.js\";import p from\"../../geometry/Point.js\";import n from\"../../geometry/Extent.js\";import i from\"../../geometry/Polyline.js\";import\"../../geometry.js\";import m from\"../../Graphic.js\";import l from\"./FeatureSet.js\";let u=class extends l{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType=\"polyline\",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){(e||[]).forEach((e=>{this._decompressFeatureGeometry(e,r.summary.envelope.spatialReference)}));const o=a.fromJSON(r.spatialReference);return e.map((e=>{const r=m.fromJSON(e),s=e.geometry&&e.geometry.spatialReference;return r.geometry&&!s&&(t(r.geometry).spatialReference=o),r.strings=e.strings,r.events=(e.events||[]).map((t=>{const r=new m({geometry:new p({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),r}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>t(e))),r=this.get(\"extent.spatialReference\");return this._mergePolylinesToSinglePath(e,r)}get strings(){return this.features.map((({strings:e})=>e))}_decompressFeatureGeometry(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}_decompressGeometry(e,t){let r=0,o=0,s=0,a=0;const p=[];let n,i,m,l,u,c,y,g,h=0,f=0,d=0;if(u=e.match(/((\\+|\\-)[^\\+\\-\\|]+|\\|)/g),u||(u=[]),0===parseInt(u[h],32)){h=2;const e=parseInt(u[h],32);h++,c=parseInt(u[h],32),h++,1&e&&(f=u.indexOf(\"|\")+1,y=parseInt(u[f],32),f++),2&e&&(d=u.indexOf(\"|\",f)+1,g=parseInt(u[d],32),d++)}else c=parseInt(u[h],32),h++;for(;h<u.length&&\"|\"!==u[h];){n=parseInt(u[h],32)+r,h++,r=n,i=parseInt(u[h],32)+o,h++,o=i;const e=[n/c,i/c];f&&(l=parseInt(u[f],32)+s,f++,s=l,e.push(l/y)),d&&(m=parseInt(u[d],32)+a,d++,a=m,e.push(m/g)),p.push(e)}return{paths:[p],hasZ:f>0,hasM:d>0,spatialReference:t}}_mergePolylinesToSinglePath(e,t){let r=[];(e||[]).forEach((e=>{e.paths.forEach((e=>{r=r.concat(e)}))}));const o=[];let s=[0,0];return r.forEach((e=>{e[0]===s[0]&&e[1]===s[1]||(o.push(e),s=e)})),new i({paths:[o]},t)}};e([r({type:n,json:{read:{source:\"summary.envelope\"}}})],u.prototype,\"extent\",void 0),e([r()],u.prototype,\"features\",void 0),e([o(\"features\")],u.prototype,\"readFeatures\",null),e([r()],u.prototype,\"geometryType\",void 0),e([r({readOnly:!0})],u.prototype,\"mergedGeometry\",null),e([r()],u.prototype,\"routeId\",void 0),e([r()],u.prototype,\"routeName\",void 0),e([r({value:null,readOnly:!0})],u.prototype,\"strings\",null),e([r({json:{read:{source:\"summary.totalDriveTime\"}}})],u.prototype,\"totalDriveTime\",void 0),e([r({json:{read:{source:\"summary.totalLength\"}}})],u.prototype,\"totalLength\",void 0),e([r({json:{read:{source:\"summary.totalTime\"}}})],u.prototype,\"totalTime\",void 0),u=e([s(\"esri.tasks.support.DirectionsFeatureSet\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e};class e{constructor(t={}){this._options=t}toQueryParams(e){if(!e)return null;const o=e.toJSON(),n={};return Object.keys(o).forEach((e=>{const r=this._options[e];if(r){const s=\"boolean\"!=typeof r&&r.name?r.name:e,i=\"boolean\"!=typeof r&&r.getter?r.getter(o):o[e];null!=i&&(n[s]=t(i)?i.join(\",\"):\"object\"==typeof i?JSON.stringify(i):i)}else n[e]=o[e]}),this),n}}function o(t){return new e(t)}export{o as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import n from\"../Task.js\";async function l(e,r){try{const{data:{supportedTravelModes:t,defaultTravelMode:s}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\",token:r}});return{supportedTravelModes:t,defaultTravelMode:s}}catch(t){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}async function c(e,t){const{data:s}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\",token:t}});if(!s||!s.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=s.owningSystemUrl;const{data:o}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\",token:t}}),n=r(\"helperServices.routingUtilities.url\",o);if(!n)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),c=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",u=await a(n+(\"/\"===n[n.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:c,token:t}}),p=[];let d=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);p.push(r)}}else\"defaultTravelMode\"===r.paramName&&(d=r.value)}return{supportedTravelModes:p,defaultTravelMode:d}}const u=r=>{let i=class extends r{async getServiceDescription(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription(e)),this._serviceDescriptionPromise}async _fetchServiceDescription(e){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const r=this.url,{data:t}=await a(r,{query:{f:\"json\",token:e}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let o=0;o<t.supportedTravelModes.length;o++)t.supportedTravelModes[o].id||(t.supportedTravelModes[o].id=t.supportedTravelModes[o].itemId);const s=t.currentVersion>=10.4?l(r,e):c(r,e),{defaultTravelMode:i,supportedTravelModes:n}=await s;return t.defaultTravelMode=i,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return i=e([s(\"esri.tasks.mixins.NAServiceDescription\")],i),i};let p=class extends(u(n)){};p=e([s(\"esri.tasks.mixins.NAServiceDescription\")],p);export{p as NAServiceDescription,u as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getDeepValue as e}from\"../core/object.js\";import{isSome as t}from\"../core/maybe.js\";import r from\"../core/Error.js\";import s from\"../request.js\";import{parseUrl as o}from\"./utils.js\";import a from\"../tasks/support/RouteResultsContainer.js\";function l(e,t,r,s){s[r]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}function n(e,t){for(let r=0;r<t.length;r++){const s=e[t[r]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}function i(e){const t=[],r=[],{directions:s=[],routes:{features:o=[],spatialReference:l=null}={},stops:{features:n=[],spatialReference:i=null}={},barriers:u,polygonBarriers:d,polylineBarriers:p,messages:f}=e.data,c=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let v,m,h=!0;const g=o&&l||n&&i||u&&u.spatialReference||d&&d.spatialReference||p&&p.spatialReference;s.forEach((e=>{t.push(v=e.routeName),r[v]={directions:e}})),o.forEach((e=>{-1===t.indexOf(v=e.attributes.Name)&&(t.push(v),r[v]={}),e.geometry&&(e.geometry.spatialReference=g),r[v].route=e})),n.forEach((e=>{m=e.attributes,-1===t.indexOf(v=m.RouteName||c)&&(t.push(v),r[v]={}),v!==c&&(h=!1),e.geometry&&(e.geometry.spatialReference=g),null==r[v].stops&&(r[v].stops=[]),r[v].stops.push(e)})),n.length>0&&!0===h&&(r[t[0]].stops=r[c].stops,delete r[c],t.splice(t.indexOf(c),1));const T=t.map((e=>(r[e].routeName=e===c?null:e,r[e])));return a.fromJSON({routeResults:T,pointBarriers:u,polygonBarriers:d,polylineBarriers:p,messages:f})}function u(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}async function d(e){if(!e)throw new r(\"network-service:missing-url\",\"Url to Network service is missing\");const{data:t}=await s(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let r=0;r<t.supportedTravelModes.length;r++)t.supportedTravelModes[r].id||(t.supportedTravelModes[r].id=t.supportedTravelModes[r].itemId);const o=t.currentVersion>=10.4?f(e):p(e),{defaultTravelMode:a,supportedTravelModes:l}=await o;return t.defaultTravelMode=a,t.supportedTravelModes=l,t}async function p(t){const{data:r}=await s(t.substring(0,t.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!r||!r.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};t=r.owningSystemUrl;const{data:a}=await s(t+(\"/\"===t[t.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),l=e(\"helperServices.routingUtilities.url\",a);if(!l)return{supportedTravelModes:[],defaultTravelMode:null};const n=o(t),i=/\\/solve$/.test(n.path)?\"Route\":/\\/solveClosestFacility$/.test(n.path)?\"ClosestFacility\":\"ServiceAreas\",u=await s(l+(\"/\"===l[l.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:i}}),d=[];let p=null;if(u&&u.data&&u.data.results&&u.data.results.length){const e=u.data.results;for(const t of e)if(\"supportedTravelModes\"===t.paramName){if(t.value&&t.value.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);d.push(t)}}else\"defaultTravelMode\"===t.paramName&&(p=t.value)}return{supportedTravelModes:d,defaultTravelMode:p}}async function f(e){try{const{data:{supportedTravelModes:t,defaultTravelMode:r}}=await s(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:t,defaultTravelMode:r}}catch(t){throw new r(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:t})}}export{l as collectGeometries,n as dropZValuesOffInputGeometry,d as fetchServiceDescription,p as fetchTravelModesGP,i as handleSolveResponse,u as isInputGeometryZAware,f as retrieveTravelModes};\n"],"sourceRoot":""}