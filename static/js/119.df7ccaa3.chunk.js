(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[119,149],{122:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var s,a=i(79),r=i(97),n=i(179),l=i(111),o=i(86),c=i(89),u=i(85),b=i(251),p=i(81),d=(i(83),i(80)),h=i(98);let y=s=class extends o.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(b.a)(),configurable:!0})}normalizeCtorArgs(e,t,i,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:s}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&Object(u.l)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(u.l)(this.geometry)?this.geometry.toJSON():null,symbol:Object(u.l)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new s(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:Object(c.a)(this.attributes),geometry:Object(c.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(c.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,i,s){if(!this.layer||!("graphicChanged"in this.layer))return;const a={graphic:this,property:e,oldValue:t,newValue:i};"attributes"===e&&(a.attributeName=s),this.layer.graphicChanged(a)}};Object(a.a)([Object(p.b)({value:null})],y.prototype,"attributes",null),Object(a.a)([Object(p.b)({value:null,types:r.a,json:{read:h.a}})],y.prototype,"geometry",null),Object(a.a)([Object(p.b)({type:Boolean})],y.prototype,"isAggregate",void 0),Object(a.a)([Object(p.b)()],y.prototype,"layer",void 0),Object(a.a)([Object(p.b)({type:n.a})],y.prototype,"popupTemplate",void 0),Object(a.a)([Object(p.b)()],y.prototype,"sourceLayer",void 0),Object(a.a)([Object(p.b)({value:null,types:l.e})],y.prototype,"symbol",null),Object(a.a)([Object(p.b)({type:Boolean,value:!0})],y.prototype,"visible",null),y=s=Object(a.a)([Object(d.a)("esri.Graphic")],y),(y||(y={})).generateUID=b.a;const f=y},132:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return o}));var s=i(111),a=i(173),r=i(202),n=i(247),l=i(285);const o={types:s.i,json:{write:{writer:r.b},origins:{"web-scene":{types:s.j,write:{writer:r.b},read:{reader:Object(a.b)({types:s.j})}}}}},c={types:{base:n.a,key:"type",typeMap:{"simple-fill":s.e.typeMap["simple-fill"],"picture-fill":s.e.typeMap["picture-fill"],"polygon-3d":s.e.typeMap["polygon-3d"]}},json:{write:{writer:r.b},origins:{"web-scene":{type:l.a,write:{writer:r.b}}}}}},140:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(81);function a(e,t){const i=t?{...t,source:e}:e;return Object(s.b)({aliasOf:i})}},187:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s,a=i(79),r=i(99),n=i(178),l=i(81),o=(i(84),i(82),i(83),i(80));let c=s=class extends(Object(n.a)(r.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(a.a)([Object(l.b)()],c.prototype,"active",void 0),Object(a.a)([Object(l.b)()],c.prototype,"className",void 0),Object(a.a)([Object(l.b)()],c.prototype,"disabled",void 0),Object(a.a)([Object(l.b)()],c.prototype,"id",void 0),Object(a.a)([Object(l.b)()],c.prototype,"indicator",void 0),Object(a.a)([Object(l.b)()],c.prototype,"title",void 0),Object(a.a)([Object(l.b)()],c.prototype,"type",void 0),Object(a.a)([Object(l.b)()],c.prototype,"visible",void 0),c=s=Object(a.a)([Object(o.a)("esri.support.actions.ActionBase")],c);const u=c},192:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var s,a=i(79),r=i(111),n=i(90),l=i(89),o=i(87),c=i(85),u=i(81),b=i(104),p=i(95),d=i(93),h=i(80),y=i(92),f=i(83),m=i(105),O=i(117),j=i(139),v=i(290),g=i(132),S=i(182),w=i(126);const V=o.a.getLogger("esri.renderers.ClassBreaksRenderer"),x="percent-of-total",I="field",k=new n.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:x,esriNormalizeByField:I}),F=Object(f.m)(v.a);let E=s=class extends(Object(j.a)(O.a)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let s=t.minValue;return e.map((e=>{const t=new v.a;return t.read(e,i),null==t.minValue&&(t.minValue=s),null==t.maxValue&&(t.maxValue=t.minValue),s=t.maxValue,t}))}writeClassBreakInfos(e,t,i,s){const a=e.map((e=>e.write({},s)));this._areClassBreaksConsecutive()&&a.forEach((e=>delete e.classMinValue)),t[i]=a}castField(e){return null==e?e:"function"==typeof e?(V.error(".field: field must be a string value"),null):Object(f.l)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=null!=this.normalizationTotal;return t||i?(e=(t?I:i&&x)||null,t&&i&&V.warn("warning: both normalizationField and normalizationTotal are set!")):e!==I&&e!==x||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let s=null;s="number"==typeof e?new v.a({minValue:e,maxValue:t,symbol:Object(r.a)(i)}):F(Object(l.a)(e)),this.classBreakInfos.push(s),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let s=0;s<i;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))&&V.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))&&(i={...i,arcade:await Object(w.e)()});const s=this.getBreakIndex(e,i);return-1!==s?this.classBreakInfos[s]:null}getSymbol(e,t){if(this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade)))return void V.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))){const e=await Object(w.e)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const s=this.getBreakIndex(e,i);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new s({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(l.a)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(l.a)(this.visualVariables),legendOptions:Object(l.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(e,t))),Object(m.c)(e,t,this.valueExpression)];Object(m.f)(e,t,this.field),Object(m.f)(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:s,spatialReference:a,arcade:r}=Object(c.u)(t,{});let n=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const l=Object(c.t)(r).arcadeUtils;if(!n){const e=l.createSyntaxTree(this.valueExpression);n=l.createFunction(e),this._compiledValueExpression.compiledFunction=n}this._compiledValueExpression.valueExpression=this.valueExpression;const o=l.executeFunction(n,l.createExecContext(e,l.getViewInfo({viewingMode:i,scale:s,spatialReference:a})));return this._getBreakIndexfromInfos(o)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,s=this.normalizationType;let a=parseFloat(i[t]);if(s){const e=this.normalizationTotal,t=parseFloat(i[this.normalizationField]);if("log"===s)a=Math.log(a)*Math.LOG10E;else if(s!==x||isNaN(e)){if(s===I&&!isNaN(t)){if(isNaN(a)||isNaN(t))return-1;a/=t}}else a=a/e*100}return this._getBreakIndexfromInfos(a)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const s=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(s[0]<=e&&(t?e<=s[1]:e<s[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};Object(a.a)([Object(u.b)(g.a)],E.prototype,"backgroundFillSymbol",void 0),Object(a.a)([Object(u.b)({type:[v.a]})],E.prototype,"classBreakInfos",void 0),Object(a.a)([Object(d.a)("classBreakInfos")],E.prototype,"readClassBreakInfos",null),Object(a.a)([Object(y.a)("classBreakInfos")],E.prototype,"writeClassBreakInfos",null),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],E.prototype,"defaultLabel",void 0),Object(a.a)([Object(u.b)(g.b)],E.prototype,"defaultSymbol",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],E.prototype,"field",void 0),Object(a.a)([Object(b.a)("field")],E.prototype,"castField",null),Object(a.a)([Object(u.b)({type:Boolean})],E.prototype,"isMaxInclusive",void 0),Object(a.a)([Object(u.b)({type:S.a,json:{write:!0}})],E.prototype,"legendOptions",void 0),Object(a.a)([Object(u.b)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],E.prototype,"minValue",null),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],E.prototype,"normalizationField",void 0),Object(a.a)([Object(u.b)({type:Number,cast:e=>Object(f.i)(e),json:{write:!0}})],E.prototype,"normalizationTotal",void 0),Object(a.a)([Object(u.b)({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write}})],E.prototype,"normalizationType",null),Object(a.a)([Object(p.a)({classBreaks:"class-breaks"})],E.prototype,"type",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],E.prototype,"valueExpression",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],E.prototype,"valueExpressionTitle",void 0),E=s=Object(a.a)([Object(h.a)("esri.renderers.ClassBreaksRenderer")],E);const N=E},195:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var s,a=i(79),r=i(111),n=i(88),l=i(89),o=i(87),c=i(85),u=i(124),b=i(81),p=i(104),d=i(95),h=i(93),y=i(80),f=i(92),m=i(252),O=i(83),j=i(105),v=i(172),g=i(117),S=i(139),w=i(132),V=i(182),x=i(301),I=i(126),k=i(160),F=i(259),E=i(204);const N=o.a.getLogger("esri.renderers.UniqueValueRenderer"),q=Object(O.m)(x.a);let z=s=class extends(Object(S.a)(g.a)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let i=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let a=0;a<t.length;a++){const r=e.find((e=>e.value===t[a].value));r?Object(m.a)(r,t[a])?(s.changed.push({type:"complete",oldValue:r,newValue:t[a]}),i=!0):s.unchanged.push({oldValue:r,newValue:t[a]}):(s.added.push(t[a]),i=!0)}for(let a=0;a<e.length;a++)t.find((t=>t.value===e[a].value))||(s.removed.push(e[a]),i=!0);return i?s:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return null==e||"function"==typeof e?e:Object(O.l)(e)}writeField(e,t,i,s){"string"==typeof e?t[i]=e:s&&s.messages?s.messages.push(new n.a("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):N.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,i){return i.portal||v.a.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=Object(k.a)(t.styleUrl,i);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,i,s){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Object(k.e)(e.styleUrl,s))}set uniqueValueInfos(e){this.styleOrigin?N.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void N.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i="object"==typeof e?q(e):new x.a({value:e,symbol:Object(r.a)(t)}),this.uniqueValueInfos.push(i),this._valueInfoMap[i.value]=i}removeUniqueValueInfo(e){if(this.styleOrigin)N.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))&&(i={...i,arcade:await Object(I.e)()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade)))return void N.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(Object(c.k)(i)||Object(c.k)(i.arcade))){const e=await Object(I.e)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const s=this._getUniqueValueInfo(e,i);return s&&s.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new s({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(l.a)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(l.a)(this.visualVariables),legendOptions:Object(l.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(l.a)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=Object(l.a)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(Object(l.a)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(e,t))),Object(j.c)(e,t,this.valueExpression)];Object(j.f)(e,t,this.field),Object(j.f)(e,t,this.field2),Object(j.f)(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return Object(F.b)(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((i=>{const s=new E.a({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const a=new x.a({value:i.name,symbol:s});t.push(a),this._valueInfoMap[i.name]=a})),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach((e=>this._valueInfoMap[e.value+""]=e))}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:s,spatialReference:a,arcade:r}=Object(c.u)(t,{});let n=this._cache.compiledFunc;const l=Object(c.t)(r).arcadeUtils;if(!n){const e=l.createSyntaxTree(this.valueExpression);n=l.createFunction(e),this._cache.compiledFunc=n}const o=l.executeFunction(n,l.createExecContext(e,l.getViewInfo({viewingMode:i,scale:s,spatialReference:a})));return this._valueInfoMap[o+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let s;if("function"!=typeof t&&this.field2){const e=this.field2,a=this.field3,r=[];t&&r.push(i[t]),e&&r.push(i[e]),a&&r.push(i[a]),s=r.join(this.fieldDelimiter||"")}else"function"==typeof t?s=t(e):t&&(s=i[t]);return this._valueInfoMap[s+""]}static fromPortalStyle(e,t){const i=new s(t&&t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",t&&t.portal||v.a.getDefault());const a=i.populateFromStyle();return a.catch((t=>{N.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),a}static fromStyleUrl(e,t){const i=new s(t&&t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const a=i.populateFromStyle();return a.catch((t=>{N.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),a}};Object(a.a)([Object(b.b)({readOnly:!0})],z.prototype,"_cache",null),Object(a.a)([Object(d.a)({uniqueValue:"unique-value"})],z.prototype,"type",void 0),Object(a.a)([Object(b.b)(w.a)],z.prototype,"backgroundFillSymbol",void 0),Object(a.a)([Object(b.b)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],z.prototype,"field",void 0),Object(a.a)([Object(p.a)("field")],z.prototype,"castField",null),Object(a.a)([Object(f.a)("field")],z.prototype,"writeField",null),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"field2",void 0),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"field3",void 0),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"valueExpression",void 0),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"valueExpressionTitle",void 0),Object(a.a)([Object(b.b)({type:V.a,json:{write:!0}})],z.prototype,"legendOptions",void 0),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"defaultLabel",void 0),Object(a.a)([Object(b.b)(Object(u.a)({...w.b},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],z.prototype,"defaultSymbol",null),Object(a.a)([Object(b.b)({type:String,json:{write:!0}})],z.prototype,"fieldDelimiter",void 0),Object(a.a)([Object(b.b)({type:v.a,readOnly:!0})],z.prototype,"portal",void 0),Object(a.a)([Object(h.a)("portal",["styleName"])],z.prototype,"readPortal",null),Object(a.a)([Object(b.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],z.prototype,"styleOrigin",void 0),Object(a.a)([Object(h.a)("styleOrigin",["styleName","styleUrl"])],z.prototype,"readStyleOrigin",null),Object(a.a)([Object(f.a)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],z.prototype,"writeStyleOrigin",null),Object(a.a)([Object(b.b)({type:[x.a],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],z.prototype,"uniqueValueInfos",null),z=s=Object(a.a)([Object(y.a)("esri.renderers.UniqueValueRenderer")],z);const _=z},202:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return c}));var s=i(111),a=i(88),r=i(85),n=i(391),l=i(286),o=i(204);function c(e,t,i,s){const c=function(e,t,i){if(!e)return null;if(i&&"web-scene"===i.origin&&!(e instanceof n.a)&&!(e instanceof o.a)){const s=Object(l.a)(e,{retainCIM:!0});return Object(r.l)(s.symbol)?s.symbol.write(t,i):(i.messages&&i.messages.push(new a.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:s.error})),null)}return i&&"web-map"===i.origin&&"web-style"===e.type?(i.messages&&i.messages.push(new a.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:i})),null):e.write(t,i)}(e,{},s);c&&(t[i]=c)}function u(e,t){return Object(s.d)(e,null,t)}},206:function(e,t,i){"use strict";function s(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function r(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function n(e,t){const i=t||r(e),s=e.valueUnit||"unknown";return"unknown"===i?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===s?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a}))},211:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));i(82);function s(e){}function a(e){return()=>e}},214:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s,a=i(79),r=i(89),n=i(81),l=(i(83),i(95)),o=i(80),c=i(117),u=i(139),b=i(132);let p=s=class extends(Object(u.a)(c.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((i=>i.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new s({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(r.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],p.prototype,"description",void 0),Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],p.prototype,"label",void 0),Object(a.a)([Object(n.b)(b.b)],p.prototype,"symbol",void 0),Object(a.a)([Object(l.a)({simple:"simple"})],p.prototype,"type",void 0),p=s=Object(a.a)([Object(o.a)("esri.renderers.SimpleRenderer")],p);const d=p},218:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var s,a=i(79),r=i(103),n=i(89),l=i(81),o=(i(83),i(95)),c=i(80),u=i(105),b=i(117),p=i(309);let d=s=class extends b.a{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new p.a({ratio:0,color:new r.a("rgba(255, 140, 0, 0)")}),new p.a({ratio:.75,color:new r.a("rgba(255, 140, 0, 1)")}),new p.a({ratio:.9,color:new r.a("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const i=this.field;i&&"string"==typeof i&&Object(u.f)(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new s({blurRadius:this.blurRadius,colorStops:Object(n.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};Object(a.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"blurRadius",void 0),Object(a.a)([Object(l.b)({type:[p.a],json:{write:!0}})],d.prototype,"colorStops",void 0),Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"field",void 0),Object(a.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:null==i})}}})],d.prototype,"fieldOffset",void 0),Object(a.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"maxPixelIntensity",void 0),Object(a.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"minPixelIntensity",void 0),Object(a.a)([Object(o.a)({heatmap:"heatmap"})],d.prototype,"type",void 0),d=s=Object(a.a)([Object(c.a)("esri.renderers.HeatmapRenderer")],d);const h=d},219:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var s,a=i(79),r=i(103),n=i(89),l=i(140),o=i(83),c=i(95),u=i(81),b=i(80),p=i(105),d=i(117),h=i(139),y=i(86),f=i(87),m=(i(84),i(82),i(104));const O=f.a.getLogger("esri.renderers.support.AttributeColorInfo");let j=s=class extends y.a{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(O.error(".field: field must be a string value"),null):Object(o.l)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new s({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};Object(a.a)([Object(u.b)({type:r.a,json:{type:[Number],write:!0}})],j.prototype,"color",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],j.prototype,"field",void 0),Object(a.a)([Object(m.a)("field")],j.prototype,"castField",null),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],j.prototype,"valueExpression",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],j.prototype,"valueExpressionTitle",void 0),j=s=Object(a.a)([Object(b.a)("esri.renderers.support.AttributeColorInfo")],j);const v=j;var g;let S=g=class extends y.a{constructor(){super(...arguments),this.unit=null}clone(){return new g({unit:this.unit})}};Object(a.a)([Object(u.b)({type:String,json:{write:!0}})],S.prototype,"unit",void 0),S=g=Object(a.a)([Object(b.a)("esri.renderers.support.DotDensityLegendOptions")],S);const w=S;var V,x=i(184),I=i(190);let k=V=class extends(Object(h.a)(d.a)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new r.a([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new I.a,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new x.a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new V({attributes:Object(n.a)(this.attributes),backgroundColor:Object(n.a)(this.backgroundColor),dotBlendingEnabled:Object(n.a)(this.dotBlendingEnabled),dotShape:Object(n.a)(this.dotShape),dotSize:Object(n.a)(this.dotSize),dotValue:Object(n.a)(this.dotValue),legendOptions:Object(n.a)(this.legendOptions),outline:Object(n.a)(this.outline),referenceScale:Object(n.a)(this.referenceScale),visualVariables:Object(n.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await Object(p.c)(e,t,i.valueExpression),i.field&&e.add(i.field)}};Object(a.a)([Object(u.b)({type:[v],json:{write:!0}})],k.prototype,"attributes",void 0),Object(a.a)([Object(u.b)({type:r.a,json:{write:!0}})],k.prototype,"backgroundColor",void 0),Object(a.a)([Object(u.b)({type:Boolean}),Object(l.a)("dotBlendingEnabled")],k.prototype,"blendDots",void 0),Object(a.a)([Object(u.b)({type:Boolean,json:{write:!0}})],k.prototype,"dotBlendingEnabled",void 0),Object(a.a)([Object(u.b)({type:String,json:{write:!1}})],k.prototype,"dotShape",void 0),Object(a.a)([Object(u.b)({type:Number,json:{write:!1}})],k.prototype,"dotSize",void 0),Object(a.a)([Object(u.b)({type:w,json:{write:!0}})],k.prototype,"legendOptions",void 0),Object(a.a)([Object(u.b)({type:I.a,json:{default:null,write:!0}})],k.prototype,"outline",void 0),Object(a.a)([Object(u.b)({type:Number,json:{write:!0}})],k.prototype,"dotValue",void 0),Object(a.a)([Object(u.b)({type:Number}),Object(l.a)("dotValue")],k.prototype,"referenceDotValue",void 0),Object(a.a)([Object(u.b)({type:Number,json:{write:!0}})],k.prototype,"referenceScale",void 0),Object(a.a)([Object(u.b)({type:Number,json:{write:!0}})],k.prototype,"seed",void 0),Object(a.a)([Object(c.a)({dotDensity:"dot-density"})],k.prototype,"type",void 0),k=V=Object(a.a)([Object(b.a)("esri.renderers.DotDensityRenderer")],k);const F=k},227:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(114),a=i(138);const r={inches:Object(s.b)(1,"meters","inches"),feet:Object(s.b)(1,"meters","feet"),"us-feet":Object(s.b)(1,"meters","us-feet"),yards:Object(s.b)(1,"meters","yards"),miles:Object(s.b)(1,"meters","miles"),"nautical-miles":Object(s.b)(1,"meters","nautical-miles"),millimeters:Object(s.b)(1,"meters","millimeters"),centimeters:Object(s.b)(1,"meters","centimeters"),decimeters:Object(s.b)(1,"meters","decimeters"),meters:Object(s.b)(1,"meters","meters"),kilometers:Object(s.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(s.k)(1,"meters",a.a.radius)}},234:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return b}));var s=i(192),a=i(208),r=i(219),n=i(218),l=i(117),o=i(214),c=i(195);const u={key:"type",base:l.a,typeMap:{heatmap:n.a,simple:o.a,"unique-value":c.a,"class-breaks":s.a,"dot-density":r.a,dictionary:a.default},errorContext:"renderer"},b={key:"type",base:l.a,typeMap:{simple:o.a,"unique-value":c.a,"class-breaks":s.a},errorContext:"renderer"}},243:function(e,t,i){"use strict";i.r(t),i.d(t,"getAllSizes",(function(){return V})),i.d(t,"getColor",(function(){return h})),i.d(t,"getOpacity",(function(){return y})),i.d(t,"getRotationAngle",(function(){return f})),i.d(t,"getSize",(function(){return m})),i.d(t,"getSizeForValue",(function(){return v})),i.d(t,"getSizeFromNumberOrVariable",(function(){return O})),i.d(t,"getSizeRangeAtScale",(function(){return g})),i.d(t,"getVisualVariableValues",(function(){return S})),i.d(t,"viewScaleRE",(function(){return d}));var s=i(103),a=i(122),r=i(211),n=i(87),l=i(85),o=i(227),c=i(206);const u=n.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),b=new a.a,p=Math.PI,d=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function h(e,t,i){const a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!a)return;if("esri.renderers.visualVariables.ColorVariable"!==a.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const r="number"==typeof t,n=r?null:t,o=n&&n.attributes;let c=r?t:null;const b=a.field,{ipData:p,hasExpression:d}=a.cache;let h=a.cache.compiledFunc;if(!b&&!d){const e=a.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(d){if(!Object(l.l)(i)||!Object(l.l)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,s=t.getViewInfo(e),r=t.createExecContext(n,s);if(!h){const e=t.createSyntaxTree(a.valueExpression);h=t.createFunction(e),a.cache.compiledFunc=h}c=t.executeFunction(h,r)}else o&&(c=o[b]);const y=a.normalizationField,f=o?parseFloat(o[y]):void 0;if(null!=c&&(!y||r||!isNaN(f)&&0!==f)){isNaN(f)||r||(c/=f);const e=w(c,p);if(e){const t=e[0],r=e[1],n=t===r?a.stops[t].color:s.a.blendColors(a.stops[t].color,a.stops[r].color,e[2],Object(l.l)(i)?i.color:void 0);return new s.a(n)}}}function y(e,t,i){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.OpacityVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const a="number"==typeof t,r=a?null:t,n=r&&r.attributes;let o=a?t:null;const c=s.field,{ipData:b,hasExpression:p}=s.cache;let d=s.cache.compiledFunc;if(!c&&!p){const e=s.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof o)if(p){if(Object(l.k)(i)||Object(l.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),n=t.createExecContext(r,a);if(!d){const e=t.createSyntaxTree(s.valueExpression);d=t.createFunction(e),s.cache.compiledFunc=d}o=t.executeFunction(d,n)}else n&&(o=n[c]);const h=s.normalizationField,y=n?parseFloat(n[h]):void 0;if(null!=o&&(!h||a||!isNaN(y)&&0!==y)){isNaN(y)||a||(o/=y);const e=w(o,b);if(e){const t=e[0],i=e[1];if(t===i)return s.stops[t].opacity;{const a=s.stops[t].opacity;return a+(s.stops[i].opacity-a)*e[2]}}}}function f(e,t,i){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.RotationVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const a=s.axis||"heading",r="heading"===a&&"arithmetic"===s.rotationType?90:0,n="heading"===a&&"arithmetic"===s.rotationType?-1:1,o="number"==typeof t?null:t,c=o&&o.attributes,b=s.field,{hasExpression:p}=s.cache;let d=s.cache.compiledFunc,h=0;if(!b&&!p)return h;if(p){if(Object(l.k)(i)||Object(l.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),r=t.createExecContext(o,a);if(!d){const e=t.createSyntaxTree(s.valueExpression);d=t.createFunction(e),s.cache.compiledFunc=d}h=t.executeFunction(d,r)}else c&&(h=c[b]||0);return h="number"!=typeof h||isNaN(h)?null:r+n*h,h}function m(e,t,i){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!s)return;if("esri.renderers.visualVariables.SizeVariable"!==s.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const a=v(function(e,t,i){const s="number"==typeof t,a=s?null:t,r=a&&a.attributes;let n=s?t:null;const{isScaleDriven:o}=e.cache;let b=e.cache.compiledFunc;if(o){const t=Object(l.l)(i)?i.scale:void 0,s=Object(l.l)(i)?i.view:void 0;n=null==t||"3d"===s?function(e){let t=null,i=null;const s=e.stops;return s?(t=s[0].value,i=s[s.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):t}else if(!s)switch(e.inputValueType){case"expression":{if(Object(l.k)(i)||Object(l.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},s=i.arcade.arcadeUtils,r=s.getViewInfo(t),o=s.createExecContext(a,r);if(!b){const t=s.createSyntaxTree(e.valueExpression);b=s.createFunction(t),e.cache.compiledFunc=b}n=s.executeFunction(b,o);break}case"field":r&&(n=r[e.field]);break;case"unknown":n=null}if(!Object(c.d)(n))return null;if(s||!e.normalizationField)return n;const p=r?parseFloat(r[e.normalizationField]):null;return Object(c.d)(p)&&0!==p?n/p:null}(s,t,i),s,t,i,s.cache.ipData);return null==a||isNaN(a)?0:a}function O(e,t,i){return null==e?null:Object(c.c)(e)?m(e,t,i):Object(c.d)(e)?e:null}function j(e,t,i){return Object(c.d)(i)&&e>i?i:Object(c.d)(t)&&e<t?t:e}function v(e,t,i,s,a){switch(t.transformationType){case"additive":return function(e,t,i,s){return e+(O(t.minSize,i,s)||t.minDataValue)}(e,t,i,s);case"constant":return function(e,t,i){const s=e.stops;let a=s&&s.length&&s[0].size;return null==a&&(a=e.minSize),O(a,t,i)}(t,i,s);case"clamped-linear":return function(e,t,i,s){const a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),r=O(t.minSize,i,s),n=O(t.maxSize,i,s),o=Object(l.l)(s)?s.shape:void 0;if(e<=t.minDataValue)return r;if(e>=t.maxDataValue)return n;if("area"===t.scaleBy&&o){const e="circle"===o,t=e?p*(r/2)**2:r*r,i=t+a*((e?p*(n/2)**2:n*n)-t);return e?2*Math.sqrt(i/p):Math.sqrt(i)}return r+a*(n-r)}(e,t,i,s);case"proportional":return function(e,t,i,s){const a=Object(l.l)(s)?s.shape:void 0,r=e/t.minDataValue,n=O(t.minSize,i,s),o=O(t.maxSize,i,s);let c=null;return c="circle"===a?2*Math.sqrt(r*(n/2)**2):"square"===a||"diamond"===a||"image"===a?Math.sqrt(r*n**2):r*n,j(c,n,o)}(e,t,i,s);case"stops":return function(e,t,i,s,a){const[r,n,l]=w(e,a);if(r===n)return O(t.stops[r].size,i,s);{const e=O(t.stops[r].size,i,s);return e+(O(t.stops[n].size,i,s)-e)*l}}(e,t,i,s,a);case"real-world-size":return function(e,t,i,s){const a=(Object(l.l)(s)&&s.resolution?s.resolution:1)*o.a[t.valueUnit],r=O(t.minSize,i,s),n=O(t.maxSize,i,s),{valueRepresentation:c}=t;let u=null;return u="area"===c?2*Math.sqrt(e/p)/a:"radius"===c||"distance"===c?2*e/a:e/a,j(u,r,n)}(e,t,i,s);case"identity":return e;case"unknown":return null}}function g(e,t,i){const{isScaleDriven:s}=e.cache;if(!(s&&"3d"===i||t))return null;const a={scale:t,view:i};let r=O(e.minSize,b,a),n=O(e.maxSize,b,a);if(null!=r||null!=n){if(r>n){const e=n;n=r,r=e}return{minSize:r,maxSize:n}}}function S(e,t,i){if(!e.visualVariables)return;const s=[],a=[],r=[],n=[],l=[];for(const o of e.visualVariables)switch(o.type){case"color":a.push(o);break;case"opacity":r.push(o);break;case"rotation":l.push(o);break;case"size":n.push(o)}return a.forEach((e=>{const a=h(e,t,i);s.push({variable:e,value:a})})),r.forEach((e=>{const a=y(e,t,i);s.push({variable:e,value:a})})),l.forEach((e=>{const a=f(e,t,i);s.push({variable:e,value:a})})),n.forEach((e=>{const a=m(e,t,i);s.push({variable:e,value:a})})),s.filter((e=>null!=e.value))}function w(e,t){if(!t)return;let i=0,s=t.length-1;return t.some(((t,a)=>e<t?(s=a,!0):(i=a,!1))),[i,s,(e-t[i])/(t[s]-t[i])]}function V(e,t,i){const s=["proportional","proportional","proportional"];for(const a of e){const e=a.useSymbolValue?"symbol-value":m(a,t,i);switch(a.axis){case"width":s[0]=e;break;case"depth":s[1]=e;break;case"height":s[2]=e;break;case"width-and-depth":s[0]=e,s[1]=e;break;case"all":case void 0:case null:s[0]=e,s[1]=e,s[2]=e;break;default:Object(r.a)(a.axis)}}return s}},273:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var s=i(158),a=i(173),r=i(234);function n(e,t){return o(e,null,t)}const l=Object(a.b)({types:r.a});function o(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(i&&i.messages&&i.messages.push(new s.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):l(e,t,i):null}},286:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var s=i(111),a=i(88),r=i(204),n=i(405),l=i(190),o=i(410),c=i(242),u=i(364),b=i(184),p=i(285),d=i(277),h=i(409);const y={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function f(e,t=y){if(!e)return{symbol:null};const{retainId:i=y.retainId,ignoreDrivers:f=y.ignoreDrivers,hasLabelingContext:m=y.hasLabelingContext,retainCIM:O=y.retainCIM}=t;let j;if(Object(s.c)(e)||e instanceof r.a)j=e.clone();else if("cim"===e.type){var v,g;const t=null==(v=e.data)||null==(g=v.symbol)?void 0:g.type;if("CIMPointSymbol"!==t)return{error:new a.a("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};j=O?e.clone():n.a.fromCIMSymbol(e)}else if(e instanceof l.a)j=o.a.fromSimpleLineSymbol(e);else if(e instanceof c.a)j=n.a.fromSimpleMarkerSymbol(e);else if(e instanceof u.a)j=n.a.fromPictureMarkerSymbol(e);else if(e instanceof b.a)j=p.a.fromSimpleFillSymbol(e);else{if(!(e instanceof d.a))return{error:new a.a("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};j=m?h.a.fromTextSymbol(e):n.a.fromTextSymbol(e)}if(i&&"cim"!==j.type&&(j.id=e.id),f&&Object(s.c)(j))for(let s=0;s<j.symbolLayers.length;++s)j.symbolLayers.getItemAt(s)._ignoreDrivers=!0;return{symbol:j}}},290:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s,a=i(79),r=i(86),n=i(81),l=(i(84),i(82),i(83),i(80)),o=i(132);let c=s=class extends r.a{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new s({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(a.a)([Object(n.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0),Object(a.a)([Object(n.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0),Object(a.a)([Object(n.b)(o.b)],c.prototype,"symbol",void 0),c=s=Object(a.a)([Object(l.a)("esri.renderers.support.ClassBreakInfo")],c);const u=c},301:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s,a=i(79),r=i(86),n=i(81),l=(i(84),i(82),i(83),i(80)),o=i(132);let c=s=class extends r.a{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new s({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(a.a)([Object(n.b)(o.b)],c.prototype,"symbol",void 0),Object(a.a)([Object(n.b)({type:[String,Number],json:{type:String,write:{writer:(e,t)=>{t.value=null==e?void 0:e.toString()}}}})],c.prototype,"value",void 0),c=s=Object(a.a)([Object(l.a)("esri.renderers.support.UniqueValueInfo")],c);const u=c},309:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s,a=i(79),r=i(103),n=i(86),l=i(81),o=(i(84),i(82),i(83),i(80));let c=s=class extends n.a{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new s({color:this.color,ratio:this.ratio})}};Object(a.a)([Object(l.b)({type:r.a,json:{write:!0}})],c.prototype,"color",void 0),Object(a.a)([Object(l.b)({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0),c=s=Object(a.a)([Object(o.a)("esri.renderers.support.HeatmapColorStop")],c);const u=c},340:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s,a=i(79),r=i(81),n=(i(84),i(82),i(83),i(80)),l=i(187);let o=s=class extends l.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(a.a)([Object(r.b)()],o.prototype,"image",void 0),o=s=Object(a.a)([Object(n.a)("esri.support.Action.ActionButton")],o);const c=o},371:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s,a=i(79),r=i(81),n=(i(84),i(82),i(83),i(80)),l=i(187);let o=s=class extends l.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(a.a)([Object(r.b)()],o.prototype,"image",void 0),Object(a.a)([Object(r.b)()],o.prototype,"value",void 0),o=s=Object(a.a)([Object(n.a)("esri.support.Action.ActionToggle")],o);const c=o}}]);
//# sourceMappingURL=119.df7ccaa3.chunk.js.map