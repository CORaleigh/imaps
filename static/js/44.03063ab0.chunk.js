(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[44],{1091:function(e,t,n){"use strict";n.r(t),n.d(t,"ElevationQuery",(function(){return _})),n.d(t,"GeometryDescriptor",(function(){return O})),n.d(t,"getFinestLodIndex",(function(){return j}));var i=n(138),s=n(140),r=n(142),a=n(159),o=n(231),l=n(176),c=n(253),u=n(163),f=n(172),m=n(273),h=(n(129),n(130)),d=n(192),p=n(307);n(150);const y=h.a.getLogger("esri.layers.support.ElevationSampler");class x{queryElevation(e){return function(e,t){const n=g(e,t.spatialReference);if(!n)return null;switch(e.type){case"point":!function(e,t,n){e.z=Object(i.r)(n.elevationAt(t),0)}(e,n,t);break;case"polyline":!function(e,t,n){w.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let r=0;r<e.paths.length;r++){const a=e.paths[r],o=t.paths[r];for(let e=0;e<a.length;e++){const t=a[e],r=o[e];w.x=r[0],w.y=r[1],s&&(t[3]=t[2]),t[2]=Object(i.r)(n.elevationAt(w),0)}}e.hasZ=!0}(e,n,t);break;case"multipoint":!function(e,t,n){w.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let r=0;r<e.points.length;r++){const a=e.points[r],o=t.points[r];w.x=o[0],w.y=o[1],s&&(a[3]=a[2]),a[2]=Object(i.r)(n.elevationAt(w),0)}e.hasZ=!0}(e,n,t)}return e}(e.clone(),this)}on(){return b}projectIfRequired(e,t){return g(e,t)}}class T extends x{constructor(e,t,n){super(),this.tile=e,this.noDataValue=n,this.extent=Object(f.r)(e.tile.extent,t.spatialReference);const i=Object(u.f)(t.spatialReference),s=t.lodAt(e.tile.level).resolution*i;this.demResolution={min:s,max:s}}get spatialReference(){return this.extent.spatialReference}contains(e){const t=this.projectIfRequired(e,this.spatialReference);return Object(p.e)(this.extent,t)}elevationAt(e){const t=this.projectIfRequired(e,this.spatialReference);if(!t)return null;if(!this.contains(e)){const t=this.extent,n=`${t.xmin}, ${t.ymin}, ${t.xmax}, ${t.ymax}`;y.warn("#elevationAt()",`Point used to sample elevation (${e.x}, ${e.y}) is outside of the sampler extent (${n})`)}return this.tile.sample(t.x,t.y)}}class v extends x{constructor(e,t,n){let i;super(),"number"==typeof t?(this.noDataValue=t,i=null):(i=t,this.noDataValue=n),this.samplers=i?e.map((e=>new T(e,i,this.noDataValue))):e;const s=this.samplers[0];if(s){this.extent=s.extent.clone();const{min:e,max:t}=s.demResolution;this.demResolution={min:e,max:t};for(let n=1;n<this.samplers.length;n++){const e=this.samplers[n];this.extent.union(e.extent),this.demResolution.min=Math.min(this.demResolution.min,e.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,e.demResolution.max)}}else this.extent=Object(f.r)(Object(f.i)(),i.spatialReference),this.demResolution={min:0,max:0}}get spatialReference(){return this.extent.spatialReference}elevationAt(e){const t=this.projectIfRequired(e,this.spatialReference);if(!t)return null;for(const n of this.samplers)if(n.contains(t))return n.elevationAt(t);return y.warn("#elevationAt()",`Point used to sample elevation (${e.x}, ${e.y}) is outside of the sampler`),null}}function g(e,t){const n=e.spatialReference;return n.equals(t)?e:Object(d.a)(n,t)?Object(d.d)(e,t):(y.error(`Cannot project geometry spatial reference (wkid:${n.wkid}) to elevation sampler spatial reference (wkid:${t.wkid})`),null)}const w=new a.a,b={remove(){}};class R{constructor(e,t){if(this.tile=e,!t)return void(this.samplerData=null);const n=this.tile.extent;this.samplerData={pixelData:t.values,width:t.width,height:t.height,safeWidth:.99999999*(t.width-1),noDataValue:t.noDataValue,dx:(t.width-1)/(n[2]-n[0]),dy:(t.width-1)/(n[3]-n[1]),x0:n[0],y1:n[3]}}sample(e,t){if(this.samplerData)return function(e,t,n){const{safeWidth:i,width:s,pixelData:r,noDataValue:a}=e,o=q(e.dy*(e.y1-n),0,i),l=q(e.dx*(t-e.x0),0,i),c=Math.floor(o),u=Math.floor(l),f=c*s+u,m=f+s,h=r[f],d=r[m],p=r[f+1],y=r[m+1];if(h!==a&&d!==a&&p!==a&&y!==a){const e=l-u,t=h+(p-h)*e;return t+(d+(y-d)*e-t)*(o-c)}}(this.samplerData,e,t)}}function q(e,t,n){return e<t?t:e>n?n:e}class _{async queryAll(e,t,n){if(!(e=n&&n.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new s.a("elevation-query:invalid-layer","Elevation queries require at least one elevation layer to fetch tiles from");const i=O.fromGeometry(t);let r=!1;n&&n.returnSampleInfo||(r=!0);const a={...k,...n,returnSampleInfo:!0},o=await this.query(e[e.length-1],i,a),l=await this._queryAllContinue(e,o,a);return l.geometry=l.geometry.export(),r&&delete l.sampleInfo,l}async query(e,t,n){if(!e)throw new s.a("elevation-query:invalid-layer","Elevation queries require an elevation layer to fetch tiles from");if(!t||!(t instanceof O)&&"point"!==t.type&&"multipoint"!==t.type&&"polyline"!==t.type)throw new s.a("elevation-query:invalid-geometry","Only point, polyline and multipoint geometries can be used to query elevation");const i={...k,...n},r=new M(e,t.spatialReference,i),a=i.signal;return await e.load({signal:a}),await this._createGeometryDescriptor(r,t,a),await this._selectTiles(r,a),await this._populateElevationTiles(r,a),this._sampleGeometryWithElevation(r),this._createQueryResult(r,a)}async createSampler(e,t,n){if(!e)throw new s.a("elevation-query:invalid-layer","Elevation queries require an elevation layer to fetch tiles from");if(!t||"extent"!==t.type)throw new s.a("elevation-query:invalid-extent","Invalid or undefined extent");const i={...k,...n};return this._createSampler(e,t,i)}async createSamplerAll(e,t,n){if(!(e=n&&n.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new s.a("elevation-query:invalid-layer","Elevation queries require at least one elevation layer to fetch tiles from");if(!t||"extent"!==t.type)throw new s.a("elevation-query:invalid-extent","Invalid or undefined extent");const i={...k,...n,returnSampleInfo:!0},r=await this._createSampler(e[e.length-1],t,i);return this._createSamplerAllContinue(e,t,r,i)}async _createSampler(e,t,n,i){const s=n.signal;await e.load({signal:s});const r=t.spatialReference,a=e.tileInfo.spatialReference;r.equals(a)||(await Object(m.f)([{source:r,dest:a}],{signal:s}),t=Object(m.j)(t,a));const o=new I(e,t,n,i);return await this._selectTiles(o,s),await this._populateElevationTiles(o,s),new v(o.elevationTiles,o.layer.tileInfo,o.options.noDataValue)}async _createSamplerAllContinue(e,t,n,i){if(e.pop(),!e.length)return n;const s=n.samplers.map((e=>Object(f.m)(e.extent))),r=await this._createSampler(e[e.length-1],t,i,s);if(0===r.samplers.length)return n;const a=n.samplers.concat(r.samplers),o=new v(a,i.noDataValue);return this._createSamplerAllContinue(e,t,o,i)}async _queryAllContinue(e,t,n){const i=e.pop(),s=t.geometry.coordinates,r=[],a=[];for(let c=0;c<s.length;c++){const n=t.sampleInfo[c];n.demResolution>=0?n.source||(n.source=i):e.length&&(r.push(s[c]),a.push(c))}if(!e.length||0===r.length)return t;const o=t.geometry.clone(r),l=await this.query(e[e.length-1],o,n);return a.forEach(((e,n)=>{s[e].z=l.geometry.coordinates[n].z,t.sampleInfo[e].demResolution=l.sampleInfo[n].demResolution})),this._queryAllContinue(e,t,n)}async _createQueryResult(e,t){const n={geometry:(await e.geometry.project(e.outSpatialReference,t)).export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(n.sampleInfo=this._extractSampleInfo(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),n}async _createGeometryDescriptor(e,t,n){let i;const r=e.layer.tileInfo.spatialReference;if(t instanceof O?i=await t.project(r,n):(await Object(m.f)([{source:t.spatialReference,dest:r}],{signal:n}),i=Object(m.j)(t,r)),!i)throw new s.a("elevation-query:spatial-reference-mismatch",`Cannot query elevation in '${t.spatialReference.wkid}' on an elevation service in '${r.wkid}'`);e.geometry=O.fromGeometry(i)}async _selectTiles(e,t){const n=e.options.demResolution;if("geometry"===e.type&&this._preselectOutsideLayerExtent(e),"number"==typeof n)this._selectTilesClosestResolution(e);else if("finest-contiguous"===n)await this._selectTilesFinestContiguous(e,t);else{if("auto"!==n)throw new s.a("elevation-query:invalid-dem-resolution",`Invalid dem resolution value '${n}', expected a number, "finest-contiguous" or "auto"`);await this._selectTilesAuto(e,t)}}_preselectOutsideLayerExtent(e){const t=new R(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const n=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const i=e.x,s=e.y;(i<n.xmin||i>n.xmax||s<n.ymin||s>n.ymax)&&(e.elevationTile=t)}))}_selectTilesClosestResolution(e){const t=e.layer.tileInfo,n=this._findNearestDemResolutionLODIndex(t,e.options.demResolution);e.selectTilesAtLOD(n)}_findNearestDemResolutionLODIndex(e,t){const n=t/Object(u.f)(e.spatialReference);let i=e.lods[0],s=0;for(let r=1;r<e.lods.length;r++){const t=e.lods[r];Math.abs(t.resolution-n)<Math.abs(i.resolution-n)&&(i=t,s=r)}return s}async _selectTilesFinestContiguous(e,t){const n=j(e.layer.tileInfo,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,n,t)}async _selectTilesFinestContiguousAt(e,t,n){const i=e.layer;if(e.selectTilesAtLOD(t),t<0)return;const a=i.tilemapCache,o=e.getTilesToFetch();try{if(a)await Object(r.x)(Promise.all(o.map((e=>a.fetchAvailability(e.level,e.row,e.col,{signal:n})))),n);else if(await this._populateElevationTiles(e,n),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new s.a("elevation-query:has-unavailable-tiles")}catch(l){Object(r.t)(l),await this._selectTilesFinestContiguousAt(e,t-1,n)}}async _populateElevationTiles(e,t){const n=e.getTilesToFetch(),s={},a=e.options.cache,o=e.options.noDataValue,l=n.map((async n=>{const r=`${e.layer.uid}:${n.id}:${o}`,l=Object(i.k)(a)?a.get(r):null,c=Object(i.k)(l)?l:await e.layer.fetchTile(n.level,n.row,n.col,{noDataValue:o,signal:t});Object(i.k)(a)&&a.put(r,c),s[n.id]=new R(n,c)}));await Object(r.x)(Object(r.j)(l),t),e.populateElevationTiles(s)}async _selectTilesAuto(e,t){this._selectTilesAutoFinest(e),this._reduceTilesForMaximumRequests(e);const n=e.layer.tilemapCache;if(!n)return this._selectTilesAutoPrefetchUpsample(e,t);const i=e.getTilesToFetch(),s={},a=i.map((async e=>{const i={id:null,level:0,row:0,col:0,extent:Object(f.i)()},a=await Object(c.c)(n.fetchAvailabilityUpsample(e.level,e.row,e.col,i,{signal:t}));!1===a.ok?Object(r.t)(a.error):s[e.id]=i}));await Object(r.x)(Promise.all(a),t),e.remapTiles(s)}_reduceTilesForMaximumRequests(e){const t=e.layer.tileInfo;let n=0;const i={},s=e=>{e.id in i?i[e.id]++:(i[e.id]=1,n++)},r=e=>{const t=i[e.id];1===t?(delete i[e.id],n--):i[e.id]=t-1};e.forEachTileToFetch(s,r);let a=!0;for(;a&&(a=!1,e.forEachTileToFetch((i=>{n<=e.options.maximumAutoTileRequests||(r(i),t.upsampleTile(i)&&(a=!0),s(i))}),r),a););}_selectTilesAutoFinest(e){const t=j(e.layer.tileInfo,e.options.minDemResolution);e.selectTilesAtLOD(t,e.options.maximumAutoTileRequests)}async _selectTilesAutoPrefetchUpsample(e,t){const n=e.layer.tileInfo;await this._populateElevationTiles(e,t);let i=!1;e.forEachTileToFetch(((e,t)=>{n.upsampleTile(e)?i=!0:t()})),i&&await this._selectTilesAutoPrefetchUpsample(e,t)}_sampleGeometryWithElevation(e){e.geometry.coordinates.forEach((t=>{const n=t.elevationTile;let i=e.options.noDataValue;if(n){const e=n.sample(t.x,t.y);void 0!==e?i=e:t.elevationTile=null}t.z=i}))}_extractSampleInfo(e){const t=e.layer.tileInfo,n=Object(u.f)(t.spatialReference);return e.geometry.coordinates.map((i=>{let s=-1;return i.elevationTile&&i.elevationTile!==e.outsideExtentTile&&(s=t.lodAt(i.elevationTile.tile.level).resolution*n),{demResolution:s}}))}}class O{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new O;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>this._cloneCoordinate(e))),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await Object(m.f)([{source:this.spatialReference,dest:e}],{signal:t});const n=new o.a({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),i=Object(m.j)(n,e);if(!i)return null;const s=this.coordinates.map(((e,t)=>{const n=this._cloneCoordinate(e),s=i.points[t];return n.x=s[0],n.y=s[1],n})),r=this.clone(s);return r.spatialReference=e,r}_cloneCoordinate(e){return{x:e.x,y:e.y,z:e.z,m:e.m,tile:null,elevationTile:null}}static fromGeometry(e){const t=new O;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof O)t.coordinates=e.coordinates.map((e=>t._cloneCoordinate(e))),t._exporter=(t,n)=>{const i=e.clone(t);return i.spatialReference=n,i};else switch(e.type){case"point":{const n=e,{hasZ:i,hasM:s}=n;t.coordinates=i&&s?[{x:n.x,y:n.y,z:n.z,m:n.m}]:i?[{x:n.x,y:n.y,z:n.z}]:s?[{x:n.x,y:n.y,m:n.m}]:[{x:n.x,y:n.y}],t._exporter=(t,n)=>e.hasM?new a.a(t[0].x,t[0].y,t[0].z,t[0].m,n):new a.a(t[0].x,t[0].y,t[0].z,n);break}case"multipoint":{const n=e,{hasZ:i,hasM:s}=n;t.coordinates=i&&s?n.points.map((e=>({x:e[0],y:e[1],z:e[2],m:e[3]}))):i?n.points.map((e=>({x:e[0],y:e[1],z:e[2]}))):s?n.points.map((e=>({x:e[0],y:e[1],m:e[2]}))):n.points.map((e=>({x:e[0],y:e[1]}))),t._exporter=(t,n)=>e.hasM?new o.a({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatiaReference:n}):new o.a(t.map((e=>[e.x,e.y,e.z])),n);break}case"polyline":{const n=e,i=[],s=[],{hasZ:r,hasM:a}=e;let o=0;for(const e of n.paths)if(s.push([o,o+e.length]),o+=e.length,r&&a)for(const t of e)i.push({x:t[0],y:t[1],z:t[2],m:t[3]});else if(r)for(const t of e)i.push({x:t[0],y:t[1],z:t[2]});else if(a)for(const t of e)i.push({x:t[0],y:t[1],m:t[2]});else for(const t of e)i.push({x:t[0],y:t[1]});t.coordinates=i,t._exporter=(t,n)=>{const i=e.hasM?t.map((e=>[e.x,e.y,e.z,e.m])):t.map((e=>[e.x,e.y,e.z])),r=s.map((e=>i.slice(e[0],e[1])));return new l.a({paths:r,hasM:e.hasM,hasZ:!0,spatialReference:n})};break}}return t}}class E{constructor(e,t){this.layer=e,this.options=t}}class M extends E{constructor(e,t,n){super(e,n),this.outSpatialReference=t,this.type="geometry"}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>e.tile=null));else{const t=this.layer.tileInfo,n=t.lods[e].level;this.geometry.coordinates.forEach((e=>{e.tile=t.tileAt(n,e.x,e.y)}))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates)t.tile=e[t.tile.id]}getTilesToFetch(){const e={},t=[];for(const n of this.geometry.coordinates){const i=n.tile;n.elevationTile||!n.tile||e[i.id]||(e[i.id]=i,t.push(i))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>t.tile=null))}}class I extends E{constructor(e,t,n,i){super(e,n),this.type="extent",this.elevationTiles=[],this.candidateTiles=[],this.fetchedCandidates=new Set,this.extent=t.intersection(e.fullExtent),this.maskExtents=i}selectTilesAtLOD(e,t){const n=this._maximumLodForRequests(t),i=Math.min(n,e);i<0?this.candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(i)}_maximumLodForRequests(e){const t=this.layer.tileInfo;if(!e)return t.lods.length-1;const n=this.extent;for(let i=t.lods.length-1;i>=0;i--){const s=t.lods[i],r=s.resolution*t.size[0],a=s.resolution*t.size[1];if(Math.ceil(n.width/r)*Math.ceil(n.height/a)<=e)return i}return-1}allElevationTilesFetched(){return this.candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this.fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this.candidateTiles){const n=e[t.id];n&&(this.fetchedCandidates.add(t),this.elevationTiles.push(n))}}remapTiles(e){this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this.candidateTiles}forEachTileToFetch(e,t){const n=this.candidateTiles;this.candidateTiles=[],n.forEach((n=>{if(this.fetchedCandidates.has(n))return void(t&&t(n));let i=!1;e(n,(()=>i=!0)),i?t&&t(n):this.candidateTiles.push(n)})),this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles,t)}_uniqueNonOverlappingTiles(e,t){const n={},i=[];for(const r of e)n[r.id]?t&&t(r):(n[r.id]=r,i.push(r));const s=i.sort(((e,t)=>e.level-t.level));return s.filter(((e,n)=>{for(let i=0;i<n;i++)if(Object(f.d)(s[i].extent,e.extent))return t&&t(e),!1;return!0}))}_selectCandidateTilesCoveringExtentAt(e){this.candidateTiles.length=0;const t=this.layer.tileInfo,n=t.lods[e],i=this.extent,s=t.tileAt(n.level,i.xmin,i.ymin),r=n.resolution*t.size[0],a=n.resolution*t.size[1],o=Math.ceil((i.xmax-s.extent[0])/r),l=Math.ceil((i.ymax-s.extent[1])/a);for(let c=0;c<l;c++)for(let e=0;e<o;e++){const n={id:null,level:s.level,row:s.row-c,col:s.col+e};t.updateTileInfo(n),this._tileIsMasked(n)||this.candidateTiles.push(n)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>Object(f.d)(t,e.extent)))}}function j(e,t){let n=e.lods.length-1;if(t>0){const i=e.lods.findIndex((e=>e.resolution<t));0===i?n=0:i>0&&(n=i-1)}return n}const k={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:"auto",minDemResolution:0};t.default=_},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return q})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return A})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return U})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return S}));n(129);var i=n(148),s=n(288),r=n(156),a=n(145),o=n(179),l=n(218);const c=39.37,u=o.a.radius*Math.PI/200,f=/UNIT\[([^\]]+)\]\]$/i,m=s.a,h=/UNIT\[([^\]]+)\]/i,d=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),p=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),y=e=>e*e,x=e=>e*e*e,T={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:y(.001)},"square-centimeters":{inBaseUnits:y(.01)},"square-decimeters":{inBaseUnits:y(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:y(1e3)},"square-inches":{inBaseUnits:y(.0254)},"square-feet":{inBaseUnits:y(.3048)},"square-yards":{inBaseUnits:y(.9144)},"square-miles":{inBaseUnits:y(1609.344)},"square-us-feet":{inBaseUnits:y(1200/3937)},acres:{inBaseUnits:.0015625*y(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*x(.001)},"cubic-centimeters":{inBaseUnits:1e3*x(.01)},"cubic-decimeters":{inBaseUnits:1e3*x(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*x(1e3)},"cubic-inches":{inBaseUnits:1e3*x(.0254)},"cubic-feet":{inBaseUnits:1e3*x(.3048)},"cubic-yards":{inBaseUnits:1e3*x(.9144)},"cubic-miles":{inBaseUnits:1e3*x(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=function(){const e={};for(const t in T)for(const n in T[t].units)e[n]=t;return e}();const g=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],w=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function b(e){return"imperial"===e||"metric"===e}function R(e){const t=v[e];if(t)return t;throw new Error("unknown measure")}function q(e){return function(e){return T[e].baseUnit}(R(e))}function _(e,t=null){return t=t||R(e),T[t].baseUnit===e}function O(e,t,n){if(t===n)return e;const i=R(t);if(i!==R(n))throw new Error("incompatible units");const s=_(t,i)?e:function(e,t,n){return e*T[n].units[t].inBaseUnits}(e,t,i);return _(n,i)?s:function(e,t,n){return e/T[n].units[t].inBaseUnits}(s,n,i)}function E(e,t){return O(e,t,"meters")<3e3?"meters":"kilometers"}function M(e,t){return O(e,t,"meters")<1e5?"meters":"kilometers"}function I(e,t){return O(e,t,"feet")<1e3?"feet":"miles"}function j(e,t){return O(e,t,"feet")<1e5?"feet":"miles"}function k(e,t){return O(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function U(e,t){return O(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function A(e,t,n){return O(e,t,"meters")/(n*Math.PI/180)}function S(e){return p.fromJSON(e.toLowerCase())||null}function D(e){if(e&&"object"==typeof e&&!Object(r.e)(e))return 1;const t=B(e);return t>1e5?1:t}function C(e){return B(e)>=(e instanceof a.a?Object(l.e)(e).metersPerDegree:1e5)?"meters":G(e)}function B(e,t=o.a.metersPerDegree){return F(e,!0)||t}function F(e,t=!1){let n,i,s=null;if(null!=e&&("object"==typeof e?(n=e.wkid,i=e.wkt):"number"==typeof e?n=e:"string"==typeof e&&(i=e)),n){if(Object(r.k)(n))return o.b.metersPerDegree;if(Object(r.l)(n))return o.c.metersPerDegree;s=m.values[m[n]],!s&&t&&d.has(n)&&(s=u)}else if(i)if(-1!==i.search(/^PROJCS/i)){const e=f.exec(i);e&&e[1]&&(s=parseFloat(e[1].split(",")[1]))}else if(-1!==i.search(/^GEOCCS/i)){const e=h.exec(i);e&&e[1]&&(s=parseFloat(e[1].split(",")[1]))}return s}function G(e){let t,n,i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,n=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(n=e)),t)i=m.units[m[t]];else if(n&&-1!==n.search(/^PROJCS/i)){let e=f.exec(n);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),i=e&&e[1])}return i?S(i):null}function P(e){if(!e)return null;switch(G(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}const z={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},$={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},L=Object(i.b)()(z),V=Object(i.b)()($);Object(i.b)()({...z,...$})},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return l})),n.d(t,"s",(function(){return f}));n(129),n(138);var i=n(149);function s(e=q){return[e[0],e[1],e[2],e[3]]}function r(e){return[e[0],e[1],e[2],e[3]]}function a(e,t,n,i,r=s()){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function o(e,t=s()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new i.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e,t,n=e){if("length"in t)b(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}return n}function u(e,t,n=e){const i=t.length;let s=e[0],r=e[1],a=e[2],o=e[3];for(let l=0;l<i;l++){const e=t[l];s=Math.min(s,e[0]),r=Math.min(r,e[1]),a=Math.max(a,e[0]),o=Math.max(o,e[1])}return n[0]=s,n[1]=r,n[2]=a,n[3]=o,n}function f(e){return e[0]>=e[2]?0:e[2]-e[0]}function m(e){return e[1]>=e[3]?0:e[3]-e[1]}function h(e){return f(e)*m(e)}function d(e,t){return y(e,t[0],t[1])}function p(e,t){return y(e,t.x,t.y)}function y(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function x(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function T(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function v(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(e){return e?g(e,R):s(R)}function b(e){return 4===e.length}const R=[1/0,1/0,-1/0,-1/0],q=[0,0,0,0]},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f}));var i=n(156),s=n(145),r=n(179);function a(e){return new s.a({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const o=a(r.a),l=a(r.b),c=a(r.c),u=new s.a({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${r.a.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function f(e){return e&&(Object(i.g)(e)||e===l)?l:e&&(Object(i.h)(e)||e===c)?c:o}function m(e){return e&&(Object(i.g)(e)||e===l)?r.b:e&&(Object(i.h)(e)||e===c)?r.c:r.a}function h(e){return Object(i.k)(e)?r.b:Object(i.l)(e)?r.c:r.a}}}]);
//# sourceMappingURL=44.03063ab0.chunk.js.map