(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[200],{113:function(e,n,t){"use strict";t.d(n,"a",(function(){return R})),t.d(n,"b",(function(){return q})),t.d(n,"c",(function(){return F})),t.d(n,"d",(function(){return T})),t.d(n,"e",(function(){return x})),t.d(n,"f",(function(){return y})),t.d(n,"g",(function(){return b})),t.d(n,"h",(function(){return N})),t.d(n,"i",(function(){return w})),t.d(n,"j",(function(){return Z})),t.d(n,"k",(function(){return p})),t.d(n,"l",(function(){return c})),t.d(n,"m",(function(){return d})),t.d(n,"n",(function(){return h})),t.d(n,"o",(function(){return O})),t.d(n,"p",(function(){return V})),t.d(n,"q",(function(){return E})),t.d(n,"r",(function(){return Y})),t.d(n,"s",(function(){return C})),t.d(n,"t",(function(){return U})),t.d(n,"u",(function(){return P})),t.d(n,"v",(function(){return L})),t.d(n,"w",(function(){return G})),t.d(n,"x",(function(){return g})),t.d(n,"y",(function(){return J})),t.d(n,"z",(function(){return K}));var i=t(84),r=t(82),l=t(116),o=t(159),a=t(148);const u=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],s=["field","normalizationField"];function c(e,n){if(null!=e&&null!=n)for(const t of Array.isArray(e)?e:[e])if(f(u,t,n),"visualVariables"in t&&t.visualVariables)for(const e of t.visualVariables)f(s,e,n)}function f(e,n,t){if(e)for(const i of e){const e=Object(l.b)(i,n),r=e&&"function"!=typeof e&&t.get(e);r&&Object(l.c)(i,r.name,n)}}function d(e,n){if(null!=e&&null!=n&&n.fields.length)if("startField"in e){const t=n.get(e.startField),i=n.get(e.endField);e.startField=t&&t.name||null,e.endField=i&&i.name||null}else{const t=n.get(e.startTimeField),i=n.get(e.endTimeField);e.startTimeField=t&&t.name||null,e.endTimeField=i&&i.name||null}}const m=new Set;function p(e,n){return e&&n?(m.clear(),b(m,e,n),Array.from(m).sort()):[]}function b(e,n,t){var i;if(t)if(null!=n&&null!=(i=n.fields)&&i.length)if(t.includes("*"))for(const{name:r}of n.fields)e.add(r);else for(const r of t)y(e,n,r);else{if(t.includes("*"))return e.clear(),void e.add("*");for(const n of t)e.add(n)}}function y(e,n,t){if("string"==typeof t)if(n){const i=n.get(t);i&&e.add(i.name)}else e.add(t)}function g(e,n){return Object(r.j)(n)||Object(r.j)(e)?[]:n.includes("*")?e.fields.map((e=>e.name)):n}async function F(e,n,t){if(!t)return;const{arcadeUtils:i}=await Object(a.e)(),r=i.extractFieldNames(t);for(const l of r)y(e,n,l)}async function I(e,n,r){if(r&&"1=1"!==r){const l=(await Promise.all([t.e(11),t.e(278)]).then(t.bind(null,359))).WhereClause.create(r,n);if(!l.isStandardized)throw new i.a("fieldUtils:collectFilterFields","Where clause is not standardized");b(e,n,l.fieldNames)}}function h({displayField:e,fields:n}){return e||(n&&n.length?v(n,"name-or-title")||v(n,"unique-identifier")||v(n,"type-or-category")||function(e){for(const n of e){if(!n||!n.name)continue;const e=n.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return n.name}return null}(n):null)}function v(e,n){for(const t of e)if(t&&t.valueType&&t.valueType===n)return t.name;return null}async function T(e,n){if(!n)return;const t=Object(l.b)("elevationInfo.featureExpressionInfo",n);return t?t.collectRequiredFields(e,n.fieldsIndex):void 0}async function x(e,n,t){n&&t&&"cluster"===t.type&&t.fields&&await Promise.all(t.fields.map((t=>async function(e,n,t){t.outStatistic.onStatisticValueExpression?F(e,n,t.outStatistic.onStatisticValueExpression):e.add(t.outStatistic.onStatisticField)}(e,n.fieldsIndex,t))))}async function N(e,n,t){n&&(n.timeInfo&&Object(r.k)(t)&&t.timeExtent&&b(e,n.fieldsIndex,[n.timeInfo.startField,n.timeInfo.endField]),n.floorInfo&&b(e,n.fieldsIndex,[n.floorInfo.floorField]),Object(r.k)(t)&&Object(r.k)(t.where)&&await I(e,n.fieldsIndex,t.where))}function O(e){if(!e)return[];const n="editFieldsInfo"in e&&e.editFieldsInfo;return n?p(e.fieldsIndex,[n&&n.creatorField,n&&n.creationDateField,n&&n.editorField,n&&n.editDateField]):[]}function V(e){if(!e)return[];const n=e.geometryFieldsInfo;return n?p(e.fieldsIndex,[n.shapeAreaField,n.shapeLengthField]):[]}async function w(e,n){const{labelingInfo:t,fieldsIndex:i}=n;t&&t.length&&await Promise.all(t.map((n=>async function(e,n,t){if(!t)return;const i=t.getLabelExpression(),r=t.where;if("arcade"===i.type)await F(e,n,i.expression);else{const t=i.expression.match(/{[^}]*}/g);t&&t.forEach((t=>{y(e,n,t.slice(1,-1))}))}await I(e,n,r)}(e,i,n))))}function E(e){const n=e.defaultValue;return void 0!==n&&$(e,n)?n:e.nullable?null:void 0}function S(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function j(e){return null===e||S(e)}const z="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function A(e){return null===e||z(e)}function _(e){return null!=e&&"string"==typeof e}function k(e){return null===e||_(e)}function D(){return!0}function $(e,n){let t;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":t=e.nullable?A:z;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":t=e.nullable?j:S;break;case"string":case"esriFieldTypeString":t=e.nullable?k:_;break;default:t=D}return 1===arguments.length?t:t(n)}const L=["integer","small-integer","single","double"],M=new Set([...L,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function U(e){return null!=e&&M.has(e.type)}function P(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function C(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var R,q;function G(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function J(e,n){return e.nullable&&null===n?null:U(e)&&!function(e,n){const t="string"==typeof e?W(e):e;return!!t&&(t.isInteger?z(n)&&n>=t.min&&n<=t.max:n>=t.min&&n<=t.max)}(e.type,Number(n))?R.OUT_OF_RANGE:$(e,n)?e.domain?Object(o.e)(e.domain,n):null:q.INVALID_TYPE}function Y(e){return Object(o.c)(e.domain)||(U(e)?W(e.type):void 0)}function W(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return X;case"esriFieldTypeInteger":case"integer":return Q;case"esriFieldTypeSingle":case"single":return B;case"esriFieldTypeDouble":case"double":return H}}(R||(R={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(q||(q={}));const X={min:-32768,max:32767,isInteger:!0},Q={min:-2147483648,max:2147483647,isInteger:!0},B={min:-34e37,max:12e37,isInteger:!1},H={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function K(e,n,t){switch(e){case o.a.INVALID_CODED_VALUE:return`Value ${t} is not in the coded domain - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case o.a.VALUE_OUT_OF_RANGE:return`Value ${t} is out of the range of valid values - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case q.INVALID_TYPE:return`Value ${t} is not a valid value for the field type - field: ${n.name}, type: ${n.type}, nullable: ${n.nullable}`;case R.OUT_OF_RANGE:{const{min:e,max:i}=W(n.type);return`Value ${t} is out of range for the number type - field: ${n.name}, type: ${n.type}, value range is ${e} to ${i}`}}}function Z(e,n){return!function(e,n,t){if(!n||!n.attributes||!e){if(Object(r.k)(t))for(const n of e)t.add(n);return!0}const i=n.attributes;let l=!1;for(const o of e)if(!(o in i)){if(l=!0,!Object(r.k)(t))break;t.add(o)}return l}(e,n,null)}},1196:function(e,n,t){"use strict";t.r(n),t.d(n,"getDataValues",(function(){return s})),t.d(n,"summaryStatistics",(function(){return u}));var i=t(106),r=t(91),l=t(785),o=t(148);let a=null;async function u(e){const{attribute:n,featuresJSON:t}=e,{normalizationType:i,normalizationField:r,minValue:o,maxValue:a,fieldType:u}=n,c=await s({field:n.field,valueExpression:n.valueExpression,normalizationType:i,normalizationField:r,normalizationTotal:n.normalizationTotal,viewInfoParams:n.viewInfoParams},t),f=Object(l.d)({normalizationType:i,normalizationField:r,minValue:o,maxValue:a}),d="string"===u?Object(l.b)({values:c,supportsNullCount:f}):Object(l.a)({values:c,minValue:o,maxValue:a,useSampleStdDev:!i,supportsNullCount:f});return Object(l.e)(d,"date"===u)}async function s(e,n){if(!n)return[];const t=e.field,u=e.valueExpression,s=e.normalizationType,c=e.normalizationField,f=e.normalizationTotal,d=[],m=e.viewInfoParams;let p=null,b=null;if(u){if(!a){const{arcadeUtils:e}=await Object(o.e)();a=e}p=a.createFunction(u),b=m&&a.getViewInfo({viewingMode:m.viewingMode,scale:m.scale,spatialReference:new r.a(m.spatialReference)})}return n.forEach((e=>{const n=e.attributes;let r;if(u){const n=a.createExecContext(e,b);r=a.executeFunction(p,n)}else n&&(r=n[t]);if(s&&Object(i.j)(r)){const e=n&&parseFloat(n[c]);r=Object(l.c)(r,s,e,f)}d.push(r)})),d}},785:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return i})),t.d(n,"e",(function(){return o}));t(84),t(82),t(113);function i(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,i=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!i}function r(e){const{values:n,supportsNullCount:t}=e,i=n.filter((e=>null!=e)).length,r={count:i};return t&&(r.nullcount=n.length-i),r}function l(e){const{values:n,useSampleStdDev:t,supportsNullCount:i}=e;let r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,o=null,a=null,u=null,s=null,c=0;const f=null==e.minValue?-1/0:e.minValue,d=null==e.maxValue?1/0:e.maxValue;for(const p of n)Number.isFinite(p)?p>=f&&p<=d&&(o+=p,r=Math.min(r,p),l=Math.max(l,p),c++):"string"==typeof p&&c++;if(c&&null!=o){a=o/c;let e=0;for(const t of n)Number.isFinite(t)&&t>=f&&t<=d&&(e+=(t-a)**2);s=t?c>1?e/(c-1):0:c>0?e/c:0,u=Math.sqrt(s)}else r=null,l=null;const m={avg:a,count:c,max:l,min:r,stddev:u,sum:o,variance:s};return i&&(m.nullcount=n.length-c),m}function o(e,n){return n?(["avg","stddev","variance"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))})),e):e}function a(e,n,t,i){let r=null;switch(n){case"log":0!==e&&(r=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&0!==i&&(r=e/i*100);break;case"field":Number.isFinite(t)&&0!==t&&(r=e/t);break;case"natural-log":e>0&&(r=Math.log(e));break;case"square-root":e>0&&(r=e**.5)}return r}}}]);
//# sourceMappingURL=200.07fad12b.chunk.js.map