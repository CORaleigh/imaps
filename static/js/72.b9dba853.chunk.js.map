{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/views/draw/support/Reshape.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["t","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","_activeGraphic","_dragEvent","_handles","o","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","get","set","_findTargetGraphic","d","indexOf","emit","g","_","m","G","w","action","geometry","stopPropagation","origin","l","u","f","key","state","Number","MAX_VALUE","intersectionDistance","length","map","v","EventedAccessor","prototype","readOnly","b","mover","selected","E","V","I","C","R","j","added","A","removed","D","oldGraphic","vertices","O","z","removeVertex","T","reshapeGraphics","F","default","style","size","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","U","_graphicAttributes","esriSketchTool","_mover","_snappingTask","_stagedVertex","_totalDx","_totalDy","onReshapeStart","onReshape","onReshapeStop","onMoveStart","onMove","onMoveStop","enableMidpoints","handleGraphics","layer","midpointGraphics","midpointSymbol","selectedHandles","snappingManager","_setup","refresh","_clearSelection","_resetGraphics","_reset","_set","push","concat","includes","_removeVertex","_setupGraphics","_setupMover","_geometryHelper","fromGeometry","_snappingContext","S","elevationInfo","mode","offset","pointer","pointerType","excludeFeature","visualizer","vertexHandle","_getVertexFromEditGeometry","_resetGraphicStateVars","_resetSnappingStateVars","cursor","doneSnapping","removeMany","clone","pop","_createHandleGraphics","_createMidpointGraphics","_saveRelatedIndices","addMany","symbols","spatialReference","symbol","attributes","pathIndex","pointIndex","pointIndexStart","pointIndexEnd","relatedGraphicIndices","M","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","clearSelection","_isMidpoint","button","_createHandleFromMidpoint","_emitVertexAddEvent","_isHandle","native","shiftKey","_removeFromSelection","_addToSelection","visible","_emitMoveStartEvent","_setUpGeometryHelper","_saveSnappingContextForHandle","_onHandleMove","_emitReshapeStartEvent","_syncGraphicsWithGeometry","_emitMoveEvent","_emitReshapeEvent","_emitMoveStopEvent","_emitReshapeStopEvent","paths","rings","_updateHandleGraphicLocations","_updateMidpointGraphicLocations","editGeometry","components","update","_syncGeometryAfterHandleMove","snap","valid","apply","_getUpdatedGeometryAfterHandleMove","_moveRelatedCoordinates","_moveSelectedHandleCoordinates","_syncEditGeometryAfterHandleMove","H","pos","moveVertices","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","_emitDeselectEvent","repeat","_removeHandles","_emitVertexRemoveEvent","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","value","P","xoffset","Math","max","abs","yoffset","stops","filter","maxSize","minSize","floor","renderer","event","visualVariables","uniqueValueInfos","classBreakInfos","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","xmin","min","ymin","xmax","ymax","toMap","intersects","getLogger","interactive","selectable","grabbable","dragging","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","error","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","mapPoint","radiusPx","toScreen","include","renderSpatialReference","camera","eye","constructOnly","nonNullable"],"mappings":"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","file":"static/js/72.b9dba853.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t,isSome as s,abortMaybe as i,unwrap as o,get as r}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{createTask as h}from\"../../../core/promiseUtils.js\";import c from\"../../../geometry/Point.js\";import{geometryToCoordinates as l,getMidpoint as p}from\"../../../geometry/support/coordsUtils.js\";import\"../../../geometry.js\";import d from\"../../../core/Evented.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import v from\"../../../Graphic.js\";import y from\"../../../core/Handles.js\";import{whenOnce as _,pausable as g}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as u}from\"../../input/InputManager.js\";import{settings as f}from\"./settings.js\";import{SnappingVisualizer2D as x}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{EditGeometry as G}from\"../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as b}from\"../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as S}from\"../../interactive/snapping/SnappingContext.js\";import{cloneMove as H}from\"./drawUtils.js\";import{addUniqueLayer as w}from\"./layerUtils.js\";import M from\"./GraphicMover.js\";class k{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-start\"}}class E{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape\"}}class V{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-stop\"}}class I{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-start\"}}class C{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move\"}}class R{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-stop\"}}class j{constructor(e){this.added=e,this.type=\"vertex-select\"}}class A{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class D{constructor(e,t,s,i){this.added=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-add\"}}class O{constructor(e,t,s,i){this.removed=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-remove\"}}const z={removeVertex:[\"Backspace\",\"Delete\"]},T=f.reshapeGraphics,F={vertices:{default:new m({style:\"circle\",size:T.vertex.size,color:T.vertex.color,outline:{color:T.vertex.outlineColor,width:1}}),hover:new m({style:\"circle\",size:T.vertex.hoverSize,color:T.vertex.hoverColor,outline:{color:T.vertex.hoverOutlineColor,width:1}}),selected:new m({style:\"circle\",size:T.selected.size,color:T.selected.color,outline:{color:T.selected.outlineColor,width:1}})},midpoints:{default:new m({style:\"circle\",size:T.midpoint.size,color:T.midpoint.color,outline:{color:T.midpoint.outlineColor,width:1}}),hover:new m({style:\"circle\",size:T.midpoint.size,color:T.midpoint.color,outline:{color:T.midpoint.outlineColor,width:1}})}};let U=class extends d.EventedAccessor{constructor(e){super(e),this._handles=new y,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._totalDx=0,this._totalDy=0,this._viewHandles=new y,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.graphic=null,this.handleGraphics=[],this.layer=null,this.midpointGraphics=[],this.midpointSymbol=new m({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedHandles=[],this.snappingManager=null,this.type=\"reshape\",this.view=null}initialize(){this._setup(),this._handles.add([_(this,\"view.ready\",(()=>{const{layer:e,view:t}=this;w(t,e),this._viewHandles.add([t.on(\"key-down\",(e=>this._keyDownHandler(e)),u.TOOL)])})),g(this,\"graphic\",(()=>this.refresh())),g(this,\"layer\",((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),g(this,\"enableMidpoints\",(()=>{this.refresh()}))])}destroy(){this._reset(),this._mover&&this._mover.destroy(),this._mover=null,this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=F.midpoints,vertices:s=F.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:s})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.handleGraphics,this.midpointGraphics),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedHandles(){this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_setup(){this.graphic&&this.layer&&(this._setupGraphics(),this._setupMover())}_setUpGeometryHelper(){const e=this.graphic.geometry;t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type||(this._geometryHelper=new b(G.fromGeometry(e,\"local\"),e.type))}_saveSnappingContextForHandle(e,t){var s;this._snappingContext=new S({geometry:this._geometryHelper,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:(null==(s=t.viewEvent)?void 0:s.pointerType)||\"mouse\",excludeFeature:this.graphic,visualizer:new x,vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._resetGraphicStateVars(),this._resetGraphics(),this._resetSnappingStateVars(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetSnappingStateVars(){var e;s(this.snappingManager)&&this.snappingManager.doneSnapping(),null==(e=this._geometryHelper)||e.destroy(),this._geometryHelper=null,this._snappingTask=i(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphicStateVars(){this._totalDx=0,this._totalDy=0}_resetGraphics(e){const t=e||this.layer;t&&(t.removeMany(this.handleGraphics),t.removeMany(this.midpointGraphics)),this.handleGraphics.forEach((e=>e.destroy())),this.midpointGraphics.forEach((e=>e.destroy())),this._set(\"handleGraphics\",[]),this._set(\"midpointGraphics\",[]),this._set(\"selectedHandles\",[])}_setupGraphics(){const e=o(this.graphic.geometry),t=l(e.clone());if(\"polygon\"===e.type)for(const s of t){const e=s[s.length-1];s[0][0]===e[0]&&s[0][1]===e[1]&&s.length>2&&s.pop()}this._set(\"handleGraphics\",this._createHandleGraphics(t)),this.enableMidpoints&&this._set(\"midpointGraphics\",this._createMidpointGraphics(t)),this._saveRelatedIndices(this.handleGraphics),this.layer.addMany(this.midpointGraphics),this.layer.addMany(this.handleGraphics)}_createHandleGraphics(e){const{_graphicAttributes:t,symbols:s,view:{spatialReference:i}}=this,o=[];return null==e||e.forEach(((e,r)=>{e.forEach(((e,n)=>{var a;const[h,l]=e;o.push(new v({geometry:new c({x:h,y:l,spatialReference:i}),symbol:null==s||null==(a=s.vertices)?void 0:a.default,attributes:{...t,pathIndex:r,pointIndex:n}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:s,view:{spatialReference:i}}=this,o=[];return null==e||e.forEach(((e,n)=>{e.forEach(((a,h)=>{const[l,d]=a,m=e[h+1]?h+1:0;if(\"polygon\"===r(this.graphic.geometry,\"type\")||0!==m){const[r,a]=e[m],[y,_]=p([l,d],[r,a]);o.push(new v({geometry:new c({x:y,y:_,spatialReference:i}),symbol:s.midpoints.default,attributes:{...t,pathIndex:n,pointIndexStart:h,pointIndexEnd:m}}))}}))})),o}_saveRelatedIndices(e){if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let s=0;s<t.length;s++){const i=[];for(let e=0;e<t.length;e++){if(s===e)continue;const o=t[s],r=t[e];o.x===r.x&&o.y===r.y&&i.push(e)}e[s].attributes.relatedGraphicIndices=i}}_setupMover(){this._mover=new M({enableMoveAllGraphics:!1,graphics:[].concat(this.handleGraphics,this.midpointGraphics,this.graphic),view:this.view,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const s=this.graphic.clone(),i=this._createHandleFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],s,i)}else if(this._isHandle(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertex(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedHandles.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_onGraphicMoveStartCallback(e){const t=e.graphic,{dx:s,dy:i}=e;if(this._resetGraphicStateVars(),this._resetSnappingStateVars(),t===this.graphic)return this.handleGraphics.forEach((e=>e.visible=!1)),this.midpointGraphics.forEach((e=>e.visible=!1)),this._clearSelection(),void this._emitMoveStartEvent(s,i);if(this._isMidpoint(t)){this._clearSelection();const e=this.graphic.clone(),s=this._createHandleFromMidpoint(t);this._emitVertexAddEvent([t],e,s),this._addToSelection(t)}else this.selectedHandles.includes(t)||(this._clearSelection(),this._addToSelection(t));this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._onHandleMove(t,s,i,e),this._emitReshapeStartEvent(t)}_onGraphicMoveCallback(e){const{graphic:t,dx:s,dy:i}=e;this._totalDx+=s,this._totalDy+=i,t===this.graphic?(this._syncGraphicsWithGeometry(),this._emitMoveEvent(s,i)):(this._onHandleMove(t,s,i,e),this._emitReshapeEvent(t))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:s,dy:i}=e;if(this._totalDx+=s,this._totalDy+=i,t===this.graphic){this._syncGraphicsWithGeometry();for(const e of[].concat(this.handleGraphics,this.midpointGraphics))e.visible=!0;this._emitMoveStopEvent(),this._resetGraphicStateVars()}else this._onHandleMove(t,s,i,e),this._resetSnappingStateVars(),this._isMidpoint(t)&&this.refresh(),this._emitReshapeStopEvent(t),this._resetGraphicStateVars()}_syncGraphicsWithGeometry(){const e=this.graphic.geometry,t=\"polyline\"===e.type?e.paths:e.rings;this._updateHandleGraphicLocations(t),this._updateMidpointGraphicLocations(t)}_updateHandleGraphicLocations(e){for(const t of this.handleGraphics){const{pathIndex:s,pointIndex:i}=t.attributes,[o,r]=e[s][i];t.set(\"geometry\",new c(o,r,this.view.spatialReference))}}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:s,pointIndexStart:i,pointIndexEnd:o}=t.attributes,[r,n]=e[s][i],[a,h]=e[s][o],[l,d]=p([r,n],[a,h]);t.geometry=new c({x:l,y:d,spatialReference:this.view.spatialReference})}}_getVertexFromEditGeometry(e){var t;const{pathIndex:s,pointIndex:i}=e.attributes;return null==(t=this._geometryHelper)?void 0:t.editGeometry.components[s].vertices[i]}_onHandleMove(e,t,o,r){i(this._snappingTask);const n=e.geometry,a=\"graphic-move-stop\"===r.type;if(s(this.snappingManager)&&1===this.selectedHandles.length&&!a){const s=this.snappingManager;this._stagedVertex=s.update(n,this._snappingContext),this._syncGeometryAfterHandleMove(e,new c(this._stagedVertex),t,o,a),this._emitReshapeEvent(e),this._snappingTask=h((async i=>{const r=await s.snap(n,this._snappingContext,i);r.valid&&(this._stagedVertex=r.apply(),this._syncGeometryAfterHandleMove(e,new c(this._stagedVertex),t,o,a),this._emitReshapeEvent(e))}))}else{const i=s(this._stagedVertex)?new c(this._stagedVertex):n;this._syncGeometryAfterHandleMove(e,i,t,o,a),\"graphic-move\"===r.type&&this._emitReshapeEvent(e)}}async _syncGeometryAfterHandleMove(e,t,s,i,o=!1){const{x:r,y:n}=t,a=this._getUpdatedGeometryAfterHandleMove(e,t);let h=\"polyline\"===a.type?a.paths:a.rings;this._isHandle(e)&&(h=this._moveRelatedCoordinates(h,e,r,n),h=this._moveSelectedHandleCoordinates(h,e,s,i,\"polygon\"===a.type),this._updateMidpointGraphicLocations(h)),this.graphic.geometry=a,this._syncEditGeometryAfterHandleMove(e,r,n),o&&(e.geometry=t)}_getUpdatedGeometryAfterHandleMove(e,t){const{x:s,y:i}=t,r=o(this.graphic.geometry).clone(),n=\"polyline\"===r.type?r.paths:r.rings,{pathIndex:a,pointIndex:h}=e.attributes,c=n[a].length-1;return n[a][h]=[s,i],\"polygon\"===r.type&&(0===h?n[a][c]=[s,i]:h===c&&(n[a][0]=[s,i])),r}_moveRelatedCoordinates(e,t,s,i){const{relatedGraphicIndices:o}=t.attributes;for(const r of o){const o=this.handleGraphics[r],{pathIndex:n,pointIndex:a}=o.attributes;e[n][a]=[s,i],o.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,s,i,o){for(const r of this.selectedHandles)if(r!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=r.attributes,h=H(r.geometry,s,i,this.view),c=e[t].length-1;e[t][n]=[h.x,h.y],r.geometry=h,o&&(0===n?e[t][c]=[h.x,h.y]:n===c&&(e[t][0]=[h.x,h.y]));for(const s of a){const t=this.handleGraphics[s],{pathIndex:i,pointIndex:o}=t.attributes;e[i][o]=[h.x,h.y],t.geometry=h}}return e}_syncEditGeometryAfterHandleMove(e,t,s){const i=this._getVertexFromEditGeometry(e),o=t-i.pos[0],r=s-i.pos[1];this._geometryHelper.moveVertices([i],o,r,0)}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createHandleFromMidpoint(e){const{_graphicAttributes:t}=this,s=[],i=o(this.graphic.geometry).clone(),{pathIndex:r,pointIndexStart:n,pointIndexEnd:a}=e.attributes,{x:h,y:c}=e.geometry,l=0===a?n+1:a,p=\"polyline\"===i.type?i.paths:i.rings;return p[r].splice(l,0,[h,c]),e.attributes={...t,pathIndex:r,pointIndex:l,relatedGraphicIndices:[]},s.push({coordinates:p[r][l],componentIndex:r,vertexIndex:l}),this.graphic.geometry=i,s}_removeHandles(e){const t=o(this.graphic.geometry).clone(),s=\"polygon\"===t.type?t.rings:t.paths,i=[];e instanceof v&&(e=[e]);for(const o of e){const{x:e,y:t}=o.geometry;for(let o=0;o<s.length;o++){const r=s[o];for(let n=0;n<r.length;n++){const[a,h]=r[n];e===a&&t===h&&(i.push({coordinates:s[o][n],componentIndex:o,vertexIndex:n}),s[o].splice(Number(n),1))}}}if(\"polygon\"===t.type)for(const o of s){const[e,t]=o[0],[i,r]=o[o.length-1];(1===o.length||o.length<3&&e===i&&t===r)&&s.splice(s.indexOf(o),1),o.length>2&&(e!==i||t!==r)&&o.push(o[0])}else for(const o of s)1===o.length&&s.splice(s.indexOf(o),1);return this.graphic.geometry=t,i}_addToSelection(e){e instanceof v&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedHandles\",this.selectedHandles.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:s}=this.symbols,i=t?s.hover:s.default;e instanceof v&&(e=[e]);for(const o of e)this.selectedHandles.splice(this.selectedHandles.indexOf(o),1),this._set(\"selectedHandles\",this.selectedHandles),o.set(\"symbol\",i);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedHandles.length){const e=this.selectedHandles;for(const t of this.selectedHandles)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedHandles\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){z.removeVertex.includes(e.key)&&!e.repeat&&this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_removeVertex(e){if(\"polygon\"===this.graphic.geometry.type&&this.handleGraphics.length<4||this.handleGraphics.length<3)return;const t=this.graphic.clone();e instanceof v&&(e=[e]);const s=this._removeHandles(e);this.refresh(),this._emitVertexRemoveEvent(e,t,s)}_isHandle(e){return this.handleGraphics.includes(e)}_isSelected(e){return this._isHandle(e)&&this.selectedHandles.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const s=new I(this.graphic,e,t);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(e,t){const s=new C(this.graphic,e,t);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(){const e=new R(this.graphic,this._totalDx,this._totalDy);this.emit(\"move-stop\",e),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(e)}_emitReshapeStartEvent(e){const t=new k(this.graphic,e,this.selectedHandles);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new E(this.graphic,e,this.selectedHandles);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new V(this.graphic,e,this.selectedHandles);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new j(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new A(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,s){const i=new D(e,this.graphic,t,s);this.emit(\"vertex-add\",i),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(i)}_emitVertexRemoveEvent(e,t,s){const i=new O(e,this.graphic,t,s);this.emit(\"vertex-remove\",i),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(i)}};e([n()],U.prototype,\"callbacks\",void 0),e([n()],U.prototype,\"enableMidpoints\",void 0),e([n()],U.prototype,\"graphic\",void 0),e([n({readOnly:!0})],U.prototype,\"handleGraphics\",void 0),e([n()],U.prototype,\"layer\",void 0),e([n({readOnly:!0})],U.prototype,\"midpointGraphics\",void 0),e([n()],U.prototype,\"midpointSymbol\",void 0),e([n({readOnly:!0})],U.prototype,\"selectedHandles\",void 0),e([n()],U.prototype,\"snappingManager\",void 0),e([n({readOnly:!0})],U.prototype,\"state\",null),e([n({value:F})],U.prototype,\"symbols\",null),e([n({readOnly:!0})],U.prototype,\"type\",void 0),e([n()],U.prototype,\"view\",void 0),U=e([a(\"esri.views.draw.support.Reshape\")],U);var P=U;export default P;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}