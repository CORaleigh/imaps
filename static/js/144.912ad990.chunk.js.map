{"version":3,"sources":["../node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js","../node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js","../node_modules/@arcgis/core/widgets/support/decorators/propUtils.js","../node_modules/@arcgis/core/core/accessorSupport/read.js","../node_modules/@arcgis/core/core/accessorSupport/write.js","../node_modules/@arcgis/core/widgets/support/widget.js","../node_modules/@arcgis/core/identity/IdentityForm.js","../../index.js","../../src/index.js","../node_modules/@arcgis/core/identity/IdentityModal.js","../node_modules/@arcgis/core/identity/OAuthCredential.js","../node_modules/@arcgis/core/identity/OAuthInfo.js","../node_modules/@arcgis/core/identity/ServerInfo.js","../node_modules/@arcgis/core/identity/IdentityManagerBase.js","../node_modules/@arcgis/core/identity/IdentityManager.js","../node_modules/@arcgis/core/core/JSONSupport.js"],"names":["t","n","TypeError","value","o","r","type","KeyboardEvent","e","call","this","key","preventDefault","stopPropagation","target","click","a","hasOwnProperty","_delegatedEventNames","slice","s","Array","isArray","split","map","trim","push","read","enabled","source","indexOf","f","i","Object","getOwnPropertyNames","metadatas","default","set","c","origin","u","d","setDefaultOrigin","reader","ignoreDefaults","messages","forEach","loaded","loadWarnings","l","getLogger","write","writer","get","overridePolicy","allowNull","isRequired","declaredClass","propertyName","error","name","message","defaultEquals","ignoreOrigin","store","originOf","p","g","toJSON","isDefaultToJSON","m","keys","length","resources","pendingOperations","Promise","all","then","writtenProperties","propName","oldOrigin","newOrigin","render","postMixInProperties","buildRendering","postCreate","startup","constructor","super","_usernameInputNode","_passwordInputNode","signingIn","server","resource","oAuthPrompt","class","oAuthInfo","info","test","lblItem","lblUser","required","autocomplete","spellcheck","bind","afterCreate","lblPwd","h","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","username","password","prototype","candidateSelectors","candidateSelector","matches","Element","getCandidates","candidates","el","includeContainer","getTabindex","tabindexAttr","parseInt","node","isNaN","isContentEditable","sortOrderedTabbables","b","isInput","isNonTabbableRadio","isRadio","radioScope","queryRadios","window","radioSet","err","console","checked","nodes","getCheckedRadio","isTabbableRadio","isNodeMatchingSelectorFocusable","isHiddenInput","getComputedStyle","nodeUnderDetails","displayCheck","width","height","isHidden","options","child","isDetailsWithSummary","parentNode","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","focusableCandidateSelector","isFocusable","Error","activeFocusTraps","trapQueue","activateTrap","activeTrap","trapIndex","deactivateTrap","delay","setTimeout","fn","findIndex","idx","arr","valueOrHandler","params","createFocusTrap","doc","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","getOption","configOverrideOptions","optionName","configOptionName","containersContain","container","getNodeForOption","optionValue","getInitialFocusNode","firstTabbableGroup","updateTabbableNodes","tabbableNodes","regularTabbables","orderedTabbables","candidate","candidateTabindex","documentOrder","tabIndex","tabbable","firstTabbableNode","lastTabbableNode","tryFocus","preventScroll","isSelectableInput","getReturnFocusNode","checkPointerDown","trap","returnFocus","checkFocusIn","targetContained","checkKey","isEscapeEvent","isTabEvent","destinationNode","containerIndex","startOfGroupIndex","destinationGroupIndex","lastOfGroupIndex","checkTab","checkClick","addListeners","activeFocusDelay","capture","passive","removeListeners","activate","onActivate","activateOptions","onPostActivate","checkCanFocusTrap","finishActivation","deactivate","clearTimeout","onDeactivate","deactivateOptions","onPostDeactivate","checkCanReturnFocus","finishDeactivation","pause","unpause","updateContainerElements","elementsAsArray","concat","containerElements","filter","element","document","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","destroy","_destroyFocusTrap","id","title","close","role","_createFocusTrap","_renderContent","_focusTrap","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","HTMLElement","_attachToNode","readOnly","aliasOf","storage","appId","expires","ssl","token","userId","_init","isValid","Date","now","minTimeUntilExpiration","save","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","replace","FormData","append","navigator","sendBeacon","XMLHttpRequest","send","_oAuthCred","getItem","parse","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","clone","fromJSON","json","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","R","host","P","some","C","D","localStorage","sessionStorage","q","_portalConfig","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","y","tokenValidity","normalizeWebTierAuth","_appOrigin","location","_appUrlObj","_","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","addEventListener","_pageShowHandler","registerServers","findServerInfo","registerOAuthInfos","findOAuthInfo","splice","registerToken","_sanitizeUrl","_isServerRsrc","O","_getServerInstanceRoot","_getTokenSvcUrl","_findCredential","assign","j","scope","emitTokenChange","refreshServerTokens","initialize","x","_hasSameServerInstance","findCredential","_getIdenticalSvcIdx","getCredential","prompt","signal","abort","reject","promise","_isAdminResource","resolve","_restInfoPms","_selfReq","selfDfd","_getPortalSelf","_enqueue","getResourceName","_isRESTService","generateToken","isAdmin","serverUrl","customParameters","toLowerCase","scheme","uri","port","v","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","validity","isBusy","checkSignInStatus","checkAppAccess","credential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","setOAuthResponseHash","_oAuthDfd","clearInterval","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","error_description","sinfo_","oinfo_","access_token","Number","expires_in","persist","setOAuthRedirectionHandler","_oAuthRedirectFunc","setProtocolErrorHandler","_protocolFunc","signIn","U","on","oAuthSignIn","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","destroyCredentials","enablePostMessageAuth","_postMessageAuthHandle","endsWith","postMessage","disablePostMessageAuth","hash","persisted","_errbackFunc","_addResource","_removeResource","_findOAuthInfo","_isIdProvider","_isPortalDomain","String","_getOrigin","search","substr","_normalizeAGOLorgDomain","proxyUrl","path","_isIdenticalService","_getSuffix","restBaseUrl","adminUrl","_exchangeToken","_getPlatformSelf","headers","allSSL","portalMode","supportsOAuth","startsWith","_checkProtocol","S","resourceUrl","serverInfo","options_","admin_","refresh_","focus","_doSignIn","creationTime","shift","parent","T","_pendingDfd","oAuthState","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","accountId","redirect_uri","w","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","I","setInterval","detail","authorizeParams","authorizeUrl","EventedAccessor","tokenRefreshBuffer","refreshToken","_enqueued","_refreshTimer","_startRefreshTimer","k","A"],"mappings":"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","file":"static/js/144.912ad990.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isActivationKey as n}from\"../widgetUtils.js\";function t(){return function(n,t){if(!n[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:o(n[t])}}}function e(n){const{type:t}=n;return n instanceof KeyboardEvent||\"keyup\"===t||\"keydown\"===t||\"keypress\"===t}function o(t){return function(o,...r){e(o)?n(o.key)&&(o.preventDefault(),o.stopPropagation(),o.target.click()):t.call(this,o,...r)}}export{t as accessibleHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{splitProps as e}from\"./propUtils.js\";function t(t){return a=>{a.hasOwnProperty(\"_delegatedEventNames\")||(a._delegatedEventNames=a._delegatedEventNames?a._delegatedEventNames.slice():[]);const r=a._delegatedEventNames,s=Array.isArray(t)?t:e(t);r.push(...s)}}export{t as vmEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n){return n.split(\",\").map((n=>n.trim()))}function t(n,t){return n.map((n=>r(n,t)))}function r(n,t){return 0===n.indexOf(t)?n:`${t}.${n}`}export{t as normalizePropNames,n as splitProps};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{valueOf as e,exists as t}from\"./get.js\";import{getProperties as r}from\"./utils.js\";import{originSpecificReadPropertyDefinition as o,originSpecificPropertyDefinition as n}from\"./extensions/serializableProperty.js\";function s(e,r,o){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if(\"string\"==typeof n){if(n===r)return!0;if(n.indexOf(\".\")>-1&&0===n.indexOf(r)&&t(n,o))return!0}else for(const s of n){if(s===r)return!0;if(s.indexOf(\".\")>-1&&0===s.indexOf(r)&&t(s,o))return!0}return!1}function i(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)}function f(e,t,r,n,f){let a=o(t[r],f);i(a)&&(e[r]=!0);for(const i of Object.getOwnPropertyNames(t))a=o(t[i],f),s(a,r,n)&&(e[i]=!0)}function a(e,t,r,o){const s=r.metadatas,i=n(s[t],\"any\",o),f=i&&i.default;if(void 0===f)return;const a=\"function\"==typeof f?f.call(e,t,o):f;void 0!==a&&r.set(t,a)}const c={origin:\"service\"};function u(t,n,s=c){if(!n||\"object\"!=typeof n)return;const i=r(t),u=i.metadatas,d={};for(const e of Object.getOwnPropertyNames(n))f(d,u,e,n,s);i.setDefaultOrigin(s.origin);for(const r of Object.getOwnPropertyNames(d)){const f=o(u[r],s).read,a=f&&f.source;let c;c=a&&\"string\"==typeof a?e(n,a):n[r],f&&f.reader&&(c=f.reader.call(t,c,n,s)),void 0!==c&&i.set(r,c)}if(!s||!s.ignoreDefaults)for(const e of Object.getOwnPropertyNames(u))d[e]||a(t,e,i,s);i.setDefaultOrigin(\"user\")}function d(e,t,r,o=c){var n;const s={...o,messages:[]};r(s),null==(n=s.messages)||n.forEach((t=>{\"warning\"!==t.type||e.loaded?o&&o.messages&&o.messages.push(t):e.loadWarnings.push(t)}))}export default u;export{u as read,d as readLoadable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as r}from\"../arrayUtils.js\";import e from\"../Error.js\";import t from\"../Logger.js\";import{idToReadableName as i,nameToId as o}from\"./PropertyOrigin.js\";import{getProperties as n,merge as s}from\"./utils.js\";import{originSpecificWritePropertyDefinition as u}from\"./extensions/serializableProperty.js\";const l=t.getLogger(\"esri.core.accessorSupport.write\");function a(r,e,t,i,o){var n,s;const u={};return null==(n=e.write)||null==(s=n.writer)||s.call(r,i,u,t,o),u}function f(r,t,i,n,s,u){if(!n||!n.write)return!1;const a=r.get(i);if(!s&&n.write.overridePolicy){const e=n.write.overridePolicy.call(r,a,i,u);void 0!==e&&(s=e)}if(s||(s=n.write),!s||!1===s.enabled)return!1;if((null===a&&!s.allowNull||void 0===a)&&s.isRequired){const t=new e(\"web-document-write:property-required\",`Missing value for required property '${i}' on '${r.declaredClass}'`,{propertyName:i,target:r});return t&&u&&u.messages?u.messages.push(t):t&&!u&&l.error(t.name,t.message),!1}if(void 0===a)return!1;if(null===a&&!s.allowNull)return!1;if(c(r,i,u,n,a))return!1;if(void 0!==n.default)return!0;if(!s.ignoreOrigin&&u&&u.origin){if(t.store.originOf(i)<o(u.origin))return!1}return!0}function c(e,t,i,o,n){const s=o.default;if(void 0===s)return!1;if(null!=o.defaultEquals)return o.defaultEquals(n);if(\"function\"==typeof s){if(Array.isArray(n)){const o=s.call(e,t,i);return r(o,n)}return!1}return s===n}function p(r,e,t,i){const o=n(r),s=o.metadatas,l=u(s[e],i);return!!l&&f(r,o,e,l,t,i)}function g(r,e,t){if(r&&\"function\"==typeof r.toJSON&&(!r.toJSON.isDefaultToJSON||!r.write))return s(e,r.toJSON());const o=n(r),l=o.metadatas;for(const n in l){const g=u(l[n],t);if(!f(r,o,n,g,void 0,t))continue;const d=r.get(n),m=a(r,g,g.write&&\"string\"==typeof g.write.target?g.write.target:n,d,t);var c,p;if(Object.keys(m).length>0)e=s(e,m),null!=t&&null!=(c=t.resources)&&null!=(p=c.pendingOperations)&&p.length&&Promise.all(t.resources.pendingOperations).then((()=>s(e,m))),t&&t.writtenProperties&&t.writtenProperties.push({target:r,propName:n,oldOrigin:i(o.store.originOf(n)),newOrigin:t.origin})}return e}export default g;export{p as willPropertyWrite,g as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nexport{accessibleHandler}from\"./decorators/accessibleHandler.js\";export{messageBundle}from\"./decorators/messageBundle.js\";export{renderable}from\"./decorators/renderable.js\";export{vmEvent}from\"./decorators/vmEvent.js\";export{tsx}from\"./jsxFactory.js\";export{additionalAllowedTags,classes,cssTransition,discardNode,getCalciteThemeClass,getThemeName,isActivationKey,isDarkTheme,isRTL,keepMenuItemWithinView,renderingSanitizer,safeAttrs,storeNode}from\"./widgetUtils.js\";function e(e){return e&&\"function\"==typeof e.render}function t(e){return e&&\"function\"==typeof e.postMixInProperties&&\"function\"==typeof e.buildRendering&&\"function\"==typeof e.postCreate&&\"function\"==typeof e.startup}export{t as hasDomNode,e as isWidget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const l={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},p=\"ArcGIS Online\";let a=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:a}=this,d=u(\"div\",{class:l.group},r(n?a.oAuthInfo:a.info,{server:/\\.arcgis\\.com/i.test(e)?p:e,resource:`(${t||a.lblItem})`})),c=n?null:u(\"div\",{class:l.group,key:\"username\"},u(\"label\",{class:l.label},a.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:l.esriInput}))),m=n?null:u(\"div\",{class:l.group,key:\"password\"},u(\"label\",{class:l.label},a.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:l.esriInput}))),h=u(\"div\",{class:this.classes(l.group,l.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?a.lblSigning:a.lblOk,class:l.esriButton}),u(\"input\",{type:\"button\",value:a.lblCancel,bind:this,onclick:this._cancel,class:this.classes(l.esriButton,l.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?a.invalidUser:a.noAuthService):null;return u(\"form\",{class:l.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],a.prototype,\"messages\",void 0),s([e()],a.prototype,\"signingIn\",void 0),s([e()],a.prototype,\"server\",void 0),s([e()],a.prototype,\"resource\",void 0),s([e()],a.prototype,\"error\",void 0),s([e()],a.prototype,\"oAuthPrompt\",void 0),a=s([t(\"esri.identity.IdentityForm\")],a);var d=a;export default d;\n","import { tabbable, isFocusable } from 'tabbable';\n\nlet activeFocusDelay;\n\nconst activeFocusTraps = (function () {\n  const trapQueue = [];\n  return {\n    activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        const activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap(trap) {\n      const trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    },\n  };\n})();\n\nconst isSelectableInput = function (node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n};\n\nconst isEscapeEvent = function (e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nconst isTabEvent = function (e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nconst delay = function (fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nconst findIndex = function (arr, fn) {\n  let idx = -1;\n\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nconst valueOrHandler = function (value, ...params) {\n  return typeof value === 'function' ? value(...params) : value;\n};\n\nconst createFocusTrap = function (elements, userOptions) {\n  const doc = document;\n\n  const config = {\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    ...userOptions,\n  };\n\n  const state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{ container: HTMLElement, firstTabbableNode: HTMLElement|null, lastTabbableNode: HTMLElement|null }>}\n    tabbableGroups: [],\n\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n  };\n\n  let trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  const getOption = (configOverrideOptions, optionName, configOptionName) => {\n    return configOverrideOptions &&\n      configOverrideOptions[optionName] !== undefined\n      ? configOverrideOptions[optionName]\n      : config[configOptionName || optionName];\n  };\n\n  const containersContain = function (element) {\n    return state.containers.some((container) => container.contains(element));\n  };\n\n  const getNodeForOption = function (optionName) {\n    const optionValue = config[optionName];\n    if (!optionValue) {\n      return null;\n    }\n\n    let node = optionValue;\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error(`\\`${optionName}\\` refers to no known node`);\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error(`\\`${optionName}\\` did not return a node`);\n      }\n    }\n\n    return node;\n  };\n\n  const getInitialFocusNode = function () {\n    let node;\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (containersContain(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      const firstTabbableGroup = state.tabbableGroups[0];\n      const firstTabbableNode =\n        firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n      node = firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        'Your focus-trap needs to have at least one focusable element'\n      );\n    }\n\n    return node;\n  };\n\n  const updateTabbableNodes = function () {\n    state.tabbableGroups = state.containers\n      .map((container) => {\n        const tabbableNodes = tabbable(container);\n\n        if (tabbableNodes.length > 0) {\n          return {\n            container,\n            firstTabbableNode: tabbableNodes[0],\n            lastTabbableNode: tabbableNodes[tabbableNodes.length - 1],\n          };\n        }\n\n        return undefined;\n      })\n      .filter((group) => !!group); // remove groups with no tabbable nodes\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (\n      state.tabbableGroups.length <= 0 &&\n      !getNodeForOption('fallbackFocus')\n    ) {\n      throw new Error(\n        'Your focus-trap must have at least one container with at least one tabbable node in it at all times'\n      );\n    }\n  };\n\n  const tryFocus = function (node) {\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({ preventScroll: !!config.preventScroll });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  const getReturnFocusNode = function (previousActiveElement) {\n    const node = getNodeForOption('setReturnFocus');\n\n    return node ? node : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  const checkPointerDown = function (e) {\n    if (containersContain(e.target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target),\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  const checkFocusIn = function (e) {\n    const targetContained = containersContain(e.target);\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || e.target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = e.target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  const checkTab = function (e) {\n    updateTabbableNodes();\n\n    let destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's tabbable\n      //  with tabIndex='-1' and was given initial focus\n      const containerIndex = findIndex(state.tabbableGroups, ({ container }) =>\n        container.contains(e.target)\n      );\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode =\n            state.tabbableGroups[state.tabbableGroups.length - 1]\n              .lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        let startOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ firstTabbableNode }) => e.target === firstTabbableNode\n        );\n\n        if (\n          startOfGroupIndex < 0 &&\n          state.tabbableGroups[containerIndex].container === e.target\n        ) {\n          // an exception case where the target is the container itself, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          const destinationGroupIndex =\n            startOfGroupIndex === 0\n              ? state.tabbableGroups.length - 1\n              : startOfGroupIndex - 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        let lastOfGroupIndex = findIndex(\n          state.tabbableGroups,\n          ({ lastTabbableNode }) => e.target === lastTabbableNode\n        );\n\n        if (\n          lastOfGroupIndex < 0 &&\n          state.tabbableGroups[containerIndex].container === e.target\n        ) {\n          // an exception case where the target is the container itself, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          const destinationGroupIndex =\n            lastOfGroupIndex === state.tabbableGroups.length - 1\n              ? 0\n              : lastOfGroupIndex + 1;\n\n          const destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  const checkKey = function (e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  const checkClick = function (e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (containersContain(e.target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  const addListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    activeFocusDelay = config.delayInitialFocus\n      ? delay(function () {\n          tryFocus(getInitialFocusNode());\n        })\n      : tryFocus(getInitialFocusNode());\n\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false,\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false,\n    });\n\n    return trap;\n  };\n\n  const removeListeners = function () {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      const onActivate = getOption(activateOptions, 'onActivate');\n      const onPostActivate = getOption(activateOptions, 'onPostActivate');\n      const checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      const finishActivation = () => {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(\n          finishActivation,\n          finishActivation\n        );\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n\n    deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(activeFocusDelay);\n\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n\n      activeFocusTraps.deactivateTrap(trap);\n\n      const onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      const onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      const checkCanReturnFocus = getOption(\n        deactivateOptions,\n        'checkCanReturnFocus'\n      );\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      const returnFocus = getOption(\n        deactivateOptions,\n        'returnFocus',\n        'returnFocusOnDeactivate'\n      );\n\n      const finishDeactivation = () => {\n        delay(() => {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(\n          getReturnFocusNode(state.nodeFocusedBeforeActivation)\n        ).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n\n    pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n\n      return this;\n    },\n\n    unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n\n      return this;\n    },\n\n    updateContainerElements(containerElements) {\n      const elementsAsArray = [].concat(containerElements).filter(Boolean);\n\n      state.containers = elementsAsArray.map((element) =>\n        typeof element === 'string' ? doc.querySelector(element) : element\n      );\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    },\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n\n  return trap;\n};\n\nexport { createFocusTrap };\n","const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nconst isContentEditable = function (node) {\n  return node.contentEditable === 'true';\n};\n\nconst getTabindex = function (node) {\n  const tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n  if (\n    (node.nodeName === 'AUDIO' ||\n      node.nodeName === 'VIDEO' ||\n      node.nodeName === 'DETAILS') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isHidden = function (node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    const { width, height } = node.getBoundingClientRect();\n    return width === 0 && height === 0;\n  }\n\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (\n    isInput(node) ||\n    node.tagName === 'SELECT' ||\n    node.tagName === 'TEXTAREA' ||\n    node.tagName === 'BUTTON'\n  ) {\n    let parentNode = node.parentElement;\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            }\n\n            // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n            return true;\n          }\n        }\n\n        // the node isn't in a legend, so no matter where it is now, it'll be disabled\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options.displayCheck) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    !isNodeMatchingSelectorFocusable(options, node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  const regularTabbables = [];\n  const orderedTabbables = [];\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorTabbable.bind(null, options)\n  );\n\n  candidates.forEach(function (candidate, i) {\n    const candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  });\n\n  const tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  const candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorFocusable.bind(null, options)\n  );\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../widgets/Widget.js\";import{isWidget as r}from\"../widgets/support/widget.js\";import{createFocusTrap as n}from\"focus-trap\";import{tsx as a}from\"../widgets/support/jsxFactory.js\";import{messageBundle as c}from\"../widgets/support/decorators/messageBundle.js\";const d={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let l=class extends i{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[d.open]:r,[d.closed]:!r},c=a(\"button\",{class:d.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},a(\"span\",{\"aria-hidden\":\"true\",class:d.iconClose})),l=`${t}_title`,p=`${t}_content`,u=s?a(\"h1\",{id:l,class:d.title},s):null,m=r?a(\"div\",{bind:this,class:d.dialog,role:\"dialog\",\"aria-labelledby\":l,\"aria-describedby\":p,afterCreate:this._createFocusTrap},c,u,this._renderContent(p)):null;return a(\"div\",{tabIndex:-1,class:this.classes(d.base,n)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=n(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?a(\"div\",{class:d.content,id:t,innerHTML:e}):r(e)?a(\"div\",{class:d.content,id:t},e.render()):e instanceof HTMLElement?a(\"div\",{class:d.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],l.prototype,\"container\",void 0),t([o()],l.prototype,\"content\",void 0),t([o()],l.prototype,\"open\",void 0),t([o(),c(\"esri/t9n/common\")],l.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],l.prototype,\"title\",void 0),l=t([s(\"esri.identity.IdentityModal\")],l);var p=l;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class s{constructor(t,s){this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=s,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.token&&this.userId){const s=Date.now();if(this.expires>s){(this.expires-s)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return;const s=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let o=s[e.authNamespace];o||(o=s[e.authNamespace]={}),o[e.portalUrl]={appId:this.appId=e.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}destroy(){const s=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){const t=e.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",s=new FormData;if(s.append(\"f\",\"json\"),s.append(\"auth_token\",this.token),s.append(\"client_id\",e.appId),s.append(\"token_type_hint\",\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,s);else{const e=new XMLHttpRequest;e.open(\"POST\",t),e.send(s)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){const o=s[e.authNamespace];if(o){delete o[e.portalUrl];try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let e=t[s.authNamespace];e&&(e=e[s.portalUrl],e&&(this.appId=e.appId,this.expires=e.expires,this.ssl=e.ssl,this.token=e.token,this.userId=e.userId))}}_load(){let s={};if(this.storage){const i=this.storage.getItem(t);if(i)try{s=JSON.parse(i)}catch(e){console.log(e)}}return s}}s.prototype.declaredClass=\"esri.identity.OAuthCredential\";export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var p;let s=p=class extends t{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return p.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],s.prototype,\"appId\",void 0),o([r({json:{write:!0}})],s.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],s.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],s.prototype,\"locale\",void 0),o([r({json:{write:!0}})],s.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"popup\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],s.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],s.prototype,\"userId\",void 0),s=p=o([e(\"esri.identity.OAuthInfo\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};o([e({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasServer\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),o([e({json:{write:!0}})],s.prototype,\"server\",void 0),o([e({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),o([e({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=o([t(\"esri.identity.ServerInfo\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import{id as s}from\"../kernel.js\";import r from\"../request.js\";import i from\"../core/Error.js\";import n from\"../core/Evented.js\";import{on as o}from\"../core/events.js\";import a from\"../core/global.js\";import{fixJson as h}from\"../core/lang.js\";import{getDeepValue as l}from\"../core/object.js\";import{createAbortController as c,createResolver as d,onAbort as u,isAborted as p}from\"../core/promiseUtils.js\";import{urlToObject as _,hasSameOrigin as g,Url as f,queryToObject as m,normalize as v,getProxyRule as S,makeAbsolute as w,objectToQuery as I}from\"../core/urlUtils.js\";import{property as k}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as A}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"./IdentityForm.js\";import U from\"./IdentityModal.js\";import T from\"./OAuthCredential.js\";import x from\"./OAuthInfo.js\";import O from\"./ServerInfo.js\";const R={},b=e=>{const t=new f(e.owningSystemUrl).host,s=new f(e.server).host,r=/.+\\.arcgis\\.com$/i;return r.test(t)&&r.test(s)},P=(e,t)=>!!(b(e)&&t&&t.some((t=>t.test(e.server))));let C=null,D=null;try{C=window.localStorage,D=window.sessionStorage}catch{}class q extends n{constructor(){super(),this._portalConfig=a.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=y,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=\"null\"!==window.origin?window.origin:window.location.origin,this._appUrlObj=_(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthHash=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthHash(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const s of e){const e=this.findOAuthInfo(s.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),s=this._isServerRsrc(t);let r,i=this.findServerInfo(t),n=!0;i||(i=new O,i.server=this._getServerInstanceRoot(t),s?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),n=!1):(r=new j({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:s?\"server\":\"portal\"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),n||r.refreshServerTokens()}toJSON(){return h({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,s=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new O(t))})),e.length&&this.registerServers(e)}if(s){const e=[];s.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new x(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new j(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,e)){t=s;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,e)){t=s;break}return t}findCredential(e,t){let s;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){s=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===r){s=i;break}return s}getCredential(e,t){let s,r,n=!0;t&&(s=!!t.token,r=t.error,n=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=c(),a=d();if(t.signal&&u(t.signal,(()=>{o.abort()})),u(o,(()=>{a.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))})),p(o))return a.promise;t.signal=o.signal;const h=this._isAdminResource(e),l=s?this.findCredential(e):null;let _;if(l&&r&&r.details&&498===r.details.httpStatus)l.destroy();else if(l)return _=new i(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+l.userId+\"'. You do not have access to this resource: \"+e,{error:r}),a.reject(_),a.promise;const f=this._findCredential(e,t);if(f)return a.resolve(f),a.promise;let m=this.findServerInfo(e);if(m)!m.hasServer&&this._isServerRsrc(e)&&(m._restInfoPms=this._getTokenSvcUrl(e),m.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return _=new i(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),a.reject(_),a.promise;m=new O,m.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(m.tokenServiceUrl=t,m.hasPortal=!0):(m._restInfoPms=t,m.hasServer=!0),this.registerServers([m])}return m.hasPortal&&void 0===m._selfReq&&(n||g(m.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===m.tokenServiceUrl)))&&(m._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(m.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,m,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,s){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),o=new f(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,u,p,_,m;t&&(m=this.tokenValidity||a||this.defaultTokenValidity,m>a&&a>0&&(m=a)),s&&(h=s.isAdmin,l=s.serverUrl,c=s.token,p=s.signal,_=s.ssl,e.customParameters=s.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,u=new f(d.toLowerCase()),e.webTierAuth&&null!=s&&s.serverUrl&&!_&&\"http\"===o.scheme&&(g(o.uri,d,!0)||\"https\"===u.scheme&&o.host===u.host&&\"7080\"===o.port&&\"7443\"===u.port)&&(d=d.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const v={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:l,token:c,expiration:m,referer:h||n?this._appOrigin:null,client:h?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,s),signal:p,...null==s?void 0:s.ioArgs};n||(v.withCredentials=!1);return r(d,v).then((s=>{const r=s.data;if(!r||!r.token)return new i(\"identity-manager:authentication-failed\",\"Unable to generate token\");const n=e.server;return R[n]||(R[n]={}),t&&(R[n][t.username]=t.password),r.validity=m,r}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,s){let n=!1;return this.getCredential(e,{prompt:!1}).then((o=>{let a;const h={f:\"json\"};if(\"portal\"===o.scope)if(t&&(this._doPortalSignIn(e)||s&&s.force))a=o.server+\"/sharing/rest/oauth2/validateAppAccess\",h.client_id=t;else{if(!o.token)return{credential:o};a=o.server+\"/sharing/rest\"}else{if(!o.token)return{credential:o};a=o.server+\"/rest/services\"}return o.token&&(h.token=o.token),r(a,{query:h,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new i(\"identity-manager:not-authorized\",`You are currently signed in as: '${o.userId}'.`,e.data);return n=!!e.data.viewOnlyUserTypeApp,{credential:o}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw o.destroy(),new i(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new i(\"identity-manager:invalid-request\");return{credential:o}}))})).then((e=>({credential:e.credential,viewOnly:n})))}setOAuthResponseHash(e){var t;const s=this._oAuthDfd;if(this._oAuthDfd=null,!s||!e)return;clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),\"#\"===e.charAt(0)&&(e=e.substring(1));const r=m(e);if(r.error){const e=\"access_denied\"===r.error,t=new i(e?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",e?\"ABORTED\":\"OAuth: \"+r.error+\" - \"+r.error_description);s.reject(t)}else{const e=s.sinfo_,t=s.oinfo_,i=t._oAuthCred,n=new j({userId:r.username,server:e.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:\"true\"===r.ssl,_oAuthCred:i});t.userId=n.userId,i.storage=r.persist?C:D,i.token=n.token,i.expires=n.expires,i.userId=n.userId,i.ssl=n.ssl,i.save(),s.resolve(n)}}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,s={}){const r=d(),n=()=>{var e,t,s,r,i;null==(e=h)||e.remove(),null==(t=l)||t.remove(),null==(s=c)||s.remove(),null==(r=a)||r.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=a=h=l=c=null},o=()=>{n(),this._oAuthDfd=null,r.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))};s.signal&&u(s.signal,(()=>{o()}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new U,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");let h=a.on(\"cancel\",o),l=this.dialog.watch(\"open\",o),c=a.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:s.isAdmin,signal:s.signal}).then((i=>{n();const o=new j({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:s.isAdmin,validity:i.validity});r.resolve(o)})).catch((e=>{a.error=e,a.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,s,r){this._oAuthDfd=d();const n=this._oAuthDfd;null!=r&&r.signal&&u(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&h()})),n.resUrl_=e,n.sinfo_=t,n.oinfo_=s;const o=!r||!1!==r.oAuthPopupConfirmation;if(!s.popup||!o)return this._doOAuthSignIn(e,t,s),n.promise;const a=new this.formConstructor;a.oAuthPrompt=!0,a.server=t.server,this.dialog=new U,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");const h=()=>{_(),this._oAuthDfd=null,n.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))},l=a.on(\"cancel\",h),c=this.dialog.watch(\"open\",h),p=a.on(\"submit\",(()=>{_(),this._doOAuthSignIn(e,t,s)})),_=()=>{l.remove(),c.remove(),p.remove(),a.destroy(),this.dialog.destroy(),this.dialog=null};return n.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=o(window,\"message\",(t=>{var s;if((t.origin===this._appOrigin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(s=t.data)?void 0:s.type)){const s=t.source;this.getCredential(e).then((e=>{s.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{s.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthHash(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const t=m(e);let s=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty(\"username\"))try{t.state=JSON.parse(t.state),\"object\"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,s=!0)}catch{}else t.error&&t.error_description&&(console.log(\"IdentityManager OAuth Error: \",t.error,\" - \",t.error_description),\"access_denied\"===t.error&&(s=!0));s&&(window.location.hash=\"object\"==typeof t.state&&t.state.hash||\"\")}}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new i(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let s,r,i,n,o=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(s=c[0],n=this.findServerInfo(s.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,s.userId),o=this._getIdenticalSvcIdx(e,s),!a)return-1===o&&s.resources.push(e),this._addResource(e,i),s;-1!==o&&(s.resources.splice(o,1),this._removeResource(e,i))}else{let t,s;if(c.some((a=>(s=this._getIdenticalSvcIdx(e,a),-1!==s&&(t=a,n=this.findServerInfo(t.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,t.userId),o=s,!0)))),a)t&&(t.resources.splice(o,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,e)){t=s;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let s=-1;t&&(s=this._getIdenticalSvcIdx(e,t),s>-1&&t.resources.splice(s,1))}_useProxy(e,t){return t&&t.isAdmin&&!g(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!g(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new f(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let s=t.indexOf(this._agsRest);return-1===s&&this._isAdminResource(e)&&(s=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===s&&(s=t.indexOf(\"/sharing\")),-1===s&&\"/\"===t.substr(-1)&&(s=t.length-1),s>-1?e.substring(0,s):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):s.test(e)?e=e.replace(s,\"https://devext.arcgis.com\"):r.test(e)&&(e=e.replace(r,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const s=(t.request.proxyUrl||\"\").toLowerCase(),r=s?e.toLowerCase().indexOf(s+\"?\"):-1;return-1!==r&&(e=e.substring(r+s.length+1)),e=v(e),_(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let s;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(s=r===i,!s){const e=/(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;s=r.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?s=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(s=!0);return s}_isPortalDomain(e){const s=new f(e.toLowerCase()),r=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(s.uri)));return!i&&r&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),s.uri)),i||t.portalUrl&&(i=g(s,t.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,s.uri)))),i=i||this._agsPortal.test(s.path),i}_isIdProvider(e,t){let s=-1,r=-1;this._gwDomains.forEach(((i,n)=>{-1===s&&i.regex.test(e)&&(s=n),-1===r&&i.regex.test(t)&&(r=n)}));let i=!1;if(s>-1&&r>-1&&(0===s||4===s?0!==r&&4!==r||(i=!0):1===s?1!==r&&2!==r||(i=!0):2===s?2===r&&(i=!0):3===s&&3===r&&(i=!0)),!i){const s=this.findServerInfo(t),r=s&&s.owningSystemUrl;r&&b(s)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let s=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){s=r;break}}return s}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,s,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+\"/admin/generateToken\",s=r(e=i+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:s}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((s=>(s.regex.test(e)&&(t=s.tokenServiceUrl),!!t))),t||this._portals.some((s=>(this._hasSameServerInstance(s,e)&&(t=s+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf(\"/sharing\"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const s=new f(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===s&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_exchangeToken(e,t,s){return r(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:s}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return r(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\"},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let s;if(this._gwDomains.some((t=>(t.regex.test(e)&&(s=t.customBaseUrl),!!s))),s)return Promise.resolve({allSSL:!0,currentVersion:\"4.4\",customBaseUrl:s,portalMode:\"multitenant\",supportsOAuth:!0});this._appOrigin.startsWith(\"https:\")?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return r(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,s=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(s)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(s,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||g(s,e,!0)))}_checkProtocol(e,t,s,r){let n=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;if(o.trim().toLowerCase().startsWith(\"https:\")&&!this._appOrigin.startsWith(\"https:\")&&S(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!n)){s(new i(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return n}_enqueue(e,t,s,r,i,n){return r||(r=d()),r.resUrl_=e,r.sinfo_=t,r.options_=s,r.admin_=i,r.refresh_=n,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const s=e.options_&&e.options_.resource,r=e.resUrl_,i=e.refresh_;let n=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,n=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.push(s||r),t.scope=this._isServerRsrc(r)?\"server\":\"portal\",t.emitTokenChange();const o=this._soReqs,a={};this._soReqs=[],o.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const s=this._getSuffix(e.resUrl_);a[s]||(a[s]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),o.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,n||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=(r,n,a,h)=>{var l,c;const d=e.sinfo_,p=!e.options_||!1!==e.options_.prompt,_=d.hasPortal&&this._findOAuthInfo(e.resUrl_);let f,m;if(r)t(new j({userId:r,server:d.server,token:a||null,expires:null!=h?Number(h):null,ssl:!!n}));else if(window!==window.parent&&null!=(l=this._appUrlObj.query)&&l[\"arcgis-auth-origin\"]&&null!=(c=this._appUrlObj.query)&&c[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var v;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const r=o(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(r.remove(),t(new j(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(r.remove(),s(i.fromJSON(e.data.error))))}));u(null==(v=e.options_)?void 0:v.signal,(()=>{r.remove()}))}else if(_){let r=_._oAuthCred;if(!r){const e=new T(_,C),t=new T(_,D);e.isValid()&&t.isValid()?e.expires>t.expires?(r=e,t.destroy()):(r=t,e.destroy()):r=e.isValid()?e:t,_._oAuthCred=r}if(r.isValid())f=new j({userId:r.userId,server:d.server,token:r.token,expires:r.expires,ssl:r.ssl,_oAuthCred:r}),_.appId!==r.appId&&this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._exchangeToken(f.server,_.appId,f.token).then((e=>{f.token=e,r.token=e,r.save(),t(f)})).catch((()=>{t(f)})):t(f);else if(this._oAuthHash&&this._hasSameServerInstance(_.portalUrl,this._oAuthHash.state.portalUrl)){const e=this._oAuthHash;f=new j({userId:e.username,server:d.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:r}),_.userId=f.userId,r.storage=e.persist?C:D,r.token=f.token,r.expires=f.expires,r.userId=f.userId,r.ssl=f.ssl,r.save(),this._oAuthHash=null,t(f)}else{const r=()=>{p?e._pendingDfd=this.oAuthSignIn(e.resUrl_,d,_,e.options_).then(t,s):(m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(d.server,_.appId).then((({portalUrl:e,token:s,username:i})=>{!e||g(e,this._appOrigin,!0)?(f=new j({server:d.server,userId:i,token:s}),t(f)):r()})).catch(r):r()}}else if(p){if(this._checkProtocol(e.resUrl_,d,s,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,d,r).then(t,s)}}else m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m)},n=()=>{const r=e.sinfo_,i=r.owningSystemUrl,n=e.options_;let o,a,h,l;if(n&&(o=n.token,a=n.error,h=n.prompt),l=this._findCredential(i,{token:o,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(P(r,this._legacyFed)){const e=l.toJSON();e.server=r.server,e.resources=null,t(new j(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((s=>{t(new j({userId:l.userId,server:r.server,token:s.token,expires:null!=s.expires?Number(s.expires):null,ssl:!!s.ssl,isAdmin:e.admin_,validity:s.validity}))}),s)}}else{this._busy=null,o&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:o,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(e=>{s(e)}))}};this._errbackFunc=s;const a=e.sinfo_.owningSystemUrl,h=this._isServerRsrc(e.resUrl_),c=e.sinfo_._restInfoPms;c?c.promise.then((t=>{const s=e.sinfo_;if(s._restInfoPms){s.adminTokenServiceUrl=s._restInfoPms.adminUrl,s._restInfoPms=null,s.tokenServiceUrl=l(\"authInfo.tokenServicesUrl\",t)||l(\"authInfo.tokenServiceUrl\",t)||l(\"tokenServiceUrl\",t),s.shortLivedTokenValidity=l(\"authInfo.shortLivedTokenValidity\",t),s.currentVersion=t.currentVersion,s.owningTenant=t.owningTenant;const e=s.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}h&&s.owningSystemUrl?n():r()}),(()=>{e.sinfo_._restInfoPms=null;const t=new i(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");s(t)})):h&&a?n():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const s={};let r,i,n,o;return t&&(r=t.user&&t.user.username,s.username=r,s.allSSL=t.allSSL,i=t.supportsOAuth,n=t.currentVersion,\"multitenant\"===t.portalMode&&(o=t.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((()=>null)).then((e=>(s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s))):!r&&i&&parseFloat(n)>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>s)):s})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?r(t.username,t.allSSL,t.portalToken,t.tokenExpiration):r()})):r()}_generateOAuthInfo(e){let t,s,i=e.portalUrl;const n=e.customBaseUrl,o=e.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){s=window.location.href;let e=s.indexOf(\"?\");e>-1&&(s=s.slice(0,e)),e=s.search(/\\/(apps|home)\\//),s=e>-1?s.slice(0,e):null}return a&&s?(this._hasTestedIfAppIsOnPortal=!0,t=r(s+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new x({appId:\"arcgisonline\",popupCallbackUrl:s+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return i=i.replace(/^http:/i,\"https:\"),r(i+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:w(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&n?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+n:t.portalUrl=i,t.popup=window!==window.top||!(g(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,s){const r={portalUrl:s.portalUrl};!s.popup&&s.preserveUrlHash&&window.location.hash&&(r.hash=window.location.hash);const n={client_id:s.appId,response_type:\"token\",state:JSON.stringify(r),expiration:s.expiration,locale:s.locale,redirect_uri:s.popup?w(s.popupCallbackUrl):window.location.href.replace(/#.*$/,\"\")};s.forceLogin&&(n.force_login=!0),s.forceUserId&&s.userId&&(n.prepopulatedusername=s.userId),!s.popup&&this._doPortalSignIn(e)&&(n.redirectToUserOrgUrl=!0);const h=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",l=h+\"?\"+I(n);if(s.popup){const e=window.open(l,\"esriJSAPIOAuth\",s.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnHashHandle.remove();const e=this._oAuthDfd;if(e){const t=new i(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnHashHandle=o(a,\"arcgis:auth:hash\",(e=>{this.setOAuthResponseHash(e.detail)}));else{const e=new i(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:n,authorizeUrl:h,resourceUrl:e,serverInfo:t,oAuthInfo:s}):window.location.href=l}}q.prototype.declaredClass=\"esri.identity.IdentityManagerBase\";let j=class extends n.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=s.findServerInfo(this.server),t=e&&e.owningSystemUrl,r=!!t&&\"server\"===this.scope,i=r&&P(e,s._legacyFed),n=e.webTierAuth,o=n&&s.normalizeWebTierAuth,a=R[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=r&&s.findServerInfo(t),u={username:this.userId,password:h};if(n&&!o)return;r&&!d&&s.serverInfos.some((e=>(s._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d&&s.findCredential(d.server,this.userId);if(!r||p){if(!i){if(r)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(o)u=null,l={ssl:this.ssl};else{if(!h){let t;return c&&(c=s._sanitizeUrl(c),this._enqueued=1,t=s._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(l={isAdmin:!0})}return s.generateToken(r?d:e,r?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}p.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&s.credentials.forEach((e=>{const t=s.findServerInfo(e.server),r=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&r&&\"server\"===e.scope&&(s._hasSameServerInstance(this.server,r)||s._isIdProvider(r,this.server))&&(P(t,s._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&s.findServerInfo(this.server),r=t&&t.owningSystemUrl,i=r&&s.findServerInfo(r);!1===e||r&&\"portal\"!==this.scope&&(!i||!i.webTierAuth||s.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=s.credentials.indexOf(this);e>-1&&s.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=h({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let s=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();s<0?s=0:s>t&&(s=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),s>e?s-e:s)}};e([k()],j.prototype,\"creationTime\",void 0),e([k()],j.prototype,\"expires\",void 0),e([k()],j.prototype,\"isAdmin\",void 0),e([k()],j.prototype,\"oAuthState\",void 0),e([k()],j.prototype,\"resources\",void 0),e([k()],j.prototype,\"scope\",void 0),e([k()],j.prototype,\"server\",void 0),e([k()],j.prototype,\"ssl\",void 0),e([k()],j.prototype,\"token\",void 0),e([k()],j.prototype,\"tokenRefreshBuffer\",void 0),e([k()],j.prototype,\"userId\",void 0),e([k()],j.prototype,\"validity\",void 0),j=e([A(\"esri.identity.Credential\")],j);export{j as Credential,q as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{setId as e}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";class r extends t{}r.prototype.declaredClass=\"esri.identity.IdentityManager\";const s=new r;e(s);export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{read as s}from\"./accessorSupport/read.js\";import{write as e}from\"./accessorSupport/write.js\";import{subclass as o}from\"./accessorSupport/decorators/subclass.js\";const i=t=>{let i=class extends t{constructor(...r){super(...r)}read(r,t){s(this,r,t)}write(r={},t){return e(this,r,t)}toJSON(r){return this.write({},r)}static fromJSON(r,t){return c.call(this,r,t)}};return i=r([o(\"esri.core.JSONSupport\")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function c(r,t){if(!r)return null;if(r.declaredClass)throw new Error(\"JSON object is already hydrated\");const s=new this;return s.read(r,t),s}function n(r){return r&&\"read\"in r&&\"write\"in r&&\"toJSON\"in r}let a=class extends(i(t)){};a=r([o(\"esri.core.JSONSupport\")],a);export{a as JSONSupport,i as JSONSupportMixin,n as isJSONSupport};\n"],"sourceRoot":""}