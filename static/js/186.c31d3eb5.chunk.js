(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[186],{228:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(115),o=n(88),s=n(85),a=n(439),l=n(306),i=n(224);function c(e,t,n,r){const o=m(e,{},{context:r,isLabelSymbol:!1});Object(s.k)(o)&&(t[n]=o)}function u(e,t,n,r){const o=m(e,{},{context:r,isLabelSymbol:!0});Object(s.k)(o)&&(t[n]=o)}function m(e,t,n){if(Object(s.j)(e))return null;const{context:r,isLabelSymbol:c}=n;if(r&&"web-scene"===r.origin&&!(e instanceof a.a)&&!(e instanceof i.a)){const n=Object(l.a)(e,{retainCIM:!0,hasLabelingContext:c});return Object(s.k)(n.symbol)?n.symbol.write(t,r):(r.messages&&r.messages.push(new o.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:n.error})),null)}return r&&"web-map"===r.origin&&"web-style"===e.type?(r.messages&&r.messages.push(new o.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:r})),null):e.write(t,r)}function b(e,t){return Object(r.d)(e,null,t)}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(103),o=n(88),s=n(91),a=n(98),l=n(181),i=n(333),c=n(82);const u={};function m(e,t,n){const r=t&&t.portal||l.a.getDefault();let s;const a=`${r.url} - ${r.user&&r.user.username} - ${e}`;return u[a]||(u[a]=function(e,t,n){return t.load(n).then((()=>{const r=new i.a({disableExtraQuery:!0,query:`owner:${p} AND type:${h} AND typekeywords:"${e}"`});return t.queryItems(r,n)})).then((({results:t})=>{let r=null;const s=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t)if(e.typeKeywords.some((e=>e.toLowerCase()===s))&&e.type===h&&e.owner===p){r=e;break}if(!r)throw new o.a("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(n)}))}(e,r,n).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),u[a]}function b(e,t,n){return e.styleUrl?async function(e,t){try{return{data:(await d(e,t)).data,baseUrl:Object(a.I)(e),styleUrl:e}}catch(n){return Object(s.s)(n),null}}(e.styleUrl,n):e.styleName?m(e.styleName,t,n):Promise.reject(new o.a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function f(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!Object(c.a)("enable-feature:force-wosr"))for(const n of e.formatInfos)if("gltf"===n.type)return n.href;return e.webRef}function d(e,t){const n={responseType:"json",query:{f:"json"},...t};return Object(r.default)(Object(a.F)(e),n)}const p="esri_en",h="Style",g="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(115),o=n(88),s=n(224),a=n(456),l=n(199),i=n(467),c=n(255),u=n(401),m=n(195),b=n(303),y=n(299),f=n(466);const d={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function p(e,t=d){if(!e)return{symbol:null};const{retainId:n=d.retainId,ignoreDrivers:p=d.ignoreDrivers,hasLabelingContext:h=d.hasLabelingContext,retainCIM:g=d.retainCIM}=t;let w;if(Object(r.c)(e)||e instanceof s.a)w=e.clone();else if("cim"===e.type){var j,O;const t=null==(j=e.data)||null==(O=j.symbol)?void 0:O.type;if("CIMPointSymbol"!==t)return{error:new o.a("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};w=g?e.clone():a.a.fromCIMSymbol(e)}else if(e instanceof l.a)w=i.a.fromSimpleLineSymbol(e);else if(e instanceof c.a)w=a.a.fromSimpleMarkerSymbol(e);else if(e instanceof u.a)w=a.a.fromPictureMarkerSymbol(e);else if(e instanceof m.a)w=b.a.fromSimpleFillSymbol(e);else{if(!(e instanceof y.a))return{error:new o.a("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};w=h?f.a.fromTextSymbol(e):a.a.fromTextSymbol(e)}if(n&&"cim"!==w.type&&(w.id=e.id),p&&Object(r.c)(w))for(let r=0;r<w.symbolLayers.length;++r)w.symbolLayers.getItemAt(r)._ignoreDrivers=!0;return{symbol:w}}},487:function(e,t,n){"use strict";function r(e){return e=e||globalThis.location.hostname,c.some((t=>{var n;return null!=(null==(n=e)?void 0:n.match(t))}))}function o(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(a)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const s=/^devext.arcgis.com$/,a=/^qaext.arcgis.com$/,l=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,a,/^jsapps.esri.com$/,l,i]},878:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchSymbolFromStyle",(function(){return f})),n.d(t,"resolveWebStyleSymbol",(function(){return y}));var r=n(115),o=n(487),s=n(88),a=n(98),l=n(181),i=n(150),c=n(228),u=n(973),m=n(275),b=n(919);function y(e,t,n,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){const r=m.a.replace(/\{SymbolName\}/gi,e.name);return Object(m.d)(r,n).then((e=>{const n=Object(m.c)(e.data);return Object(c.a)(n,{portal:t.portal,url:Object(a.M)(Object(a.I)(r)),origin:"portal-item"})}))}(e,t,r):Object(m.b)(e,t,r).then((o=>f(o,e.name,t,n,r))):Promise.reject(new s.a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,n,y,f){const d=e.data,p={portal:n&&n.portal||l.a.getDefault(),url:Object(a.M)(e.baseUrl),origin:"portal-item"},h=d.items.find((e=>e.name===t));if(!h){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new s.a("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let g=Object(i.b)(Object(m.e)(h,y),p),w=h.thumbnail&&h.thumbnail.href;const j=h.thumbnail&&h.thumbnail.imageData;Object(o.b)()&&(g=Object(o.a)(g),w=Object(o.a)(w));const O={portal:n.portal,url:Object(a.M)(Object(a.I)(g)),origin:"portal-item"};return Object(m.d)(g,f).then((o=>{const s="cimRef"===y?Object(m.c)(o.data):o.data,a=Object(c.a)(s,O);if(a&&Object(r.c)(a)){if(w){const e=Object(i.b)(w,p);a.thumbnail=new b.a({url:e})}else j&&(a.thumbnail=new b.a({url:`data:image/png;base64,${j}`}));e.styleUrl?a.styleOrigin=new u.a({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(a.styleOrigin=new u.a({portal:n.portal,styleName:e.styleName,name:t}))}return a}))}}}]);
//# sourceMappingURL=186.c31d3eb5.chunk.js.map