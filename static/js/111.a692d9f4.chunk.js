(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[111,54,262,263,264],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return z})),n.d(t,"f",(function(){return G})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return $})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return M})),n.d(t,"u",(function(){return q})),n.d(t,"v",(function(){return F})),n.d(t,"w",(function(){return k})),n.d(t,"x",(function(){return U}));n(74);var r=n(85),i=n(152),s=n(88),o=n(125),a=n(100),c=n(245);const u=39.37,l=o.a.radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,f=c.a,h=/UNIT\[([^\]]+)\]/i,p=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),m=Object(r.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),y=e=>e*e,g=e=>e*e*e,b={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:y(.001)},"square-centimeters":{inBaseUnits:y(.01)},"square-decimeters":{inBaseUnits:y(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:y(1e3)},"square-inches":{inBaseUnits:y(.0254)},"square-feet":{inBaseUnits:y(.3048)},"square-yards":{inBaseUnits:y(.9144)},"square-miles":{inBaseUnits:y(1609.344)},"square-us-feet":{inBaseUnits:y(1200/3937)},acres:{inBaseUnits:.0015625*y(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*g(.001)},"cubic-centimeters":{inBaseUnits:1e3*g(.01)},"cubic-decimeters":{inBaseUnits:1e3*g(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*g(1e3)},"cubic-inches":{inBaseUnits:1e3*g(.0254)},"cubic-feet":{inBaseUnits:1e3*g(.3048)},"cubic-yards":{inBaseUnits:1e3*g(.9144)},"cubic-miles":{inBaseUnits:1e3*g(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){const e={};for(const t in b)for(const n in b[t].units)e[n]=t;return e}();const j=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],w=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function x(e){return"imperial"===e||"metric"===e}function _(e){const t=O[e];if(t)return t;throw new Error("unknown measure")}function I(e){return function(e){return b[e].baseUnit}(_(e))}function v(e,t=null){return t=t||_(e),b[t].baseUnit===e}function S(e,t,n){if(t===n)return e;const r=_(t);if(r!==_(n))throw new Error("incompatible units");const i=v(t,r)?e:function(e,t,n){return e*b[n].units[t].inBaseUnits}(e,t,r);return v(n,r)?i:function(e,t,n){return e/b[n].units[t].inBaseUnits}(i,n,r)}function F(e,t){return S(e,t,"meters")<3e3?"meters":"kilometers"}function k(e,t){return S(e,t,"meters")<1e5?"meters":"kilometers"}function T(e,t){return S(e,t,"feet")<1e3?"feet":"miles"}function M(e,t){return S(e,t,"feet")<1e5?"feet":"miles"}function q(e,t){return S(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function P(e,t){return S(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function R(e,t,n){return S(e,t,"meters")/(n*Math.PI/180)}function U(e){return m.fromJSON(e.toLowerCase())||null}function E(e){if(e&&"object"==typeof e&&!Object(a.f)(e))return 1;const t=G(e);return t>1e5?1:t}function N(e){return G(e)>=(e instanceof s.a?Object(i.e)(e).metersPerDegree:1e5)?"meters":A(e)}function G(e,t=o.a.metersPerDegree){return z(e,!0)||t}function z(e,t=!1){let n,r,i=null;if(null!=e&&("object"==typeof e?(n=e.wkid,r=e.wkt):"number"==typeof e?n=e:"string"==typeof e&&(r=e)),n){if(Object(a.l)(n))return o.b.metersPerDegree;if(Object(a.m)(n))return o.c.metersPerDegree;i=f.values[f[n]],!i&&t&&p.has(n)&&(i=l)}else if(r)if(-1!==r.search(/^PROJCS/i)){const e=d.exec(r);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}else if(-1!==r.search(/^GEOCCS/i)){const e=h.exec(r);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}return i}function A(e){let t,n,r=null;if(null!=e&&("object"==typeof e?(t=e.wkid,n=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(n=e)),t)r=f.units[f[t]];else if(n&&-1!==n.search(/^PROJCS/i)){let e=d.exec(n);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),r=e&&e[1])}return r?U(r):null}function L(e){if(!e)return null;switch(A(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}const D={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},C={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},B=Object(r.b)()(D),$=Object(r.b)()(C);Object(r.b)()({...D,...C})},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return F})),n.d(t,"j",(function(){return Q})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return V})),n.d(t,"s",(function(){return D})),n.d(t,"t",(function(){return A})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return G})),n.d(t,"w",(function(){return $})),n.d(t,"x",(function(){return g})),n.d(t,"y",(function(){return J})),n.d(t,"z",(function(){return X}));var r=n(83),i=n(80),s=n(114),o=n(154),a=n(144);const c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function l(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(d(c,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)d(u,e,t)}function d(e,t,n){if(e)for(const r of e){const e=Object(s.b)(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&Object(s.c)(r,i.name,t)}}function f(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=r&&r.name||null}}const h=new Set;function p(e,t){return e&&t?(h.clear(),m(h,e,t),Array.from(h).sort()):[]}function m(e,t,n){var r;if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of n)y(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function y(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function g(e,t){return Object(i.j)(t)||Object(i.j)(e)?[]:t.includes("*")?e.fields.map((e=>e.name)):t}async function b(e,t,n){if(!n)return;const{arcadeUtils:r}=await Object(a.e)(),i=r.extractFieldNames(n);for(const s of i)y(e,t,s)}async function O(e,t,i){if(i&&"1=1"!==i){const s=(await Promise.all([n.e(11),n.e(278)]).then(n.bind(null,354))).WhereClause.create(i,t);if(!s.isStandardized)throw new r.a("fieldUtils:collectFilterFields","Where clause is not standardized");m(e,t,s.fieldNames)}}function j({displayField:e,fields:t}){return e||(t&&t.length?w(t,"name-or-title")||w(t,"unique-identifier")||w(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function w(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}async function x(e,t){if(!t)return;const n=Object(s.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}async function _(e,t,n){t&&n&&"cluster"===n.type&&n.fields&&await Promise.all(n.fields.map((n=>async function(e,t,n){n.outStatistic.onStatisticValueExpression?b(e,t,n.outStatistic.onStatisticValueExpression):e.add(n.outStatistic.onStatisticField)}(e,t.fieldsIndex,n))))}async function I(e,t,n){t&&(t.timeInfo&&Object(i.k)(n)&&n.timeExtent&&m(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&m(e,t.fieldsIndex,[t.floorInfo.floorField]),Object(i.k)(n)&&Object(i.k)(n.where)&&await O(e,t.fieldsIndex,n.where))}function v(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?p(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function S(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?p(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function F(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n&&n.length&&await Promise.all(n.map((t=>async function(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if("arcade"===r.type)await b(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{y(e,t,n.slice(1,-1))}))}await O(e,t,i)}(e,r,t))))}function k(e){const t=e.defaultValue;return void 0!==t&&N(e,t)?t:e.nullable?null:void 0}function T(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function M(e){return null===e||T(e)}const q="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function P(e){return null===e||q(e)}function R(e){return null!=e&&"string"==typeof e}function U(e){return null===e||R(e)}function E(){return!0}function N(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?P:q;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?M:T;break;case"string":case"esriFieldTypeString":n=e.nullable?U:R;break;default:n=E}return 1===arguments.length?n:n(t)}const G=["integer","small-integer","single","double"],z=new Set([...G,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function A(e){return null!=e&&z.has(e.type)}function L(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function D(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var C,B;function $(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function J(e,t){return e.nullable&&null===t?null:A(e)&&!function(e,t){const n="string"==typeof e?Z(e):e;return!!n&&(n.isInteger?q(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?C.OUT_OF_RANGE:N(e,t)?e.domain?Object(o.e)(e.domain,t):null:B.INVALID_TYPE}function V(e){return Object(o.c)(e.domain)||(A(e)?Z(e.type):void 0)}function Z(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return H;case"esriFieldTypeInteger":case"integer":return Y;case"esriFieldTypeSingle":case"single":return K;case"esriFieldTypeDouble":case"double":return W}}(C||(C={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(B||(B={}));const H={min:-32768,max:32767,isInteger:!0},Y={min:-2147483648,max:2147483647,isInteger:!0},K={min:-34e37,max:12e37,isInteger:!1},W={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function X(e,t,n){switch(e){case o.a.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case o.a.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case B.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case C.OUT_OF_RANGE:{const{min:e,max:r}=Z(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function Q(e,t){return!function(e,t,n){if(!t||!t.attributes||!e){if(Object(i.k)(n))for(const t of e)n.add(t);return!0}const r=t.attributes;let s=!1;for(const o of e)if(!(o in r)){if(s=!0,!Object(i.k)(n))break;n.add(o)}return s}(e,t,null)}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return c})),n.d(t,"w",(function(){return h}));n(74),n(80);var r=n(94);function i(e=k){return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,n,r,s=i()){return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function a(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function c(e,t){return new r.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function l(e,t,n=e){if("length"in t)S(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}return n}function d(e,t,n=e){const r=t.length;let i=e[0],s=e[1],o=e[2],a=e[3];for(let c=0;c<r;c++){const e=t[c];i=Math.min(i,e[0]),s=Math.min(s,e[1]),o=Math.max(o,e[0]),a=Math.max(a,e[1])}return n[0]=i,n[1]=s,n[2]=o,n[3]=a,n}function f(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function h(e){return e[0]>=e[2]?0:e[2]-e[0]}function p(e){return e[1]>=e[3]?0:e[3]-e[1]}function m(e){return h(e)*p(e)}function y(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function g(e,t){return O(e,t[0],t[1])}function b(e,t){return O(e,t.x,t.y)}function O(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function j(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function w(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function x(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function _(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function v(e){return e?I(e,F):i(F)}function S(e){return 4===e.length}const F=[1/0,1/0,-1/0,-1/0],k=[0,0,0,0]},1195:function(e,t,n){"use strict";n.r(t);var r=n(95),i=n(83),s=n(93),o=n(100),a=n(153),c=n(825),u=n(386),l=n(752),d=n(679),f=n(600),h=n(886),p=n(215),m=n(236),y=n(111);const g={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};t.default=class{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(e){const t=[];await this._checkProjection(e.spatialReference);let n=null;e.url&&(n=(await Object(r.default)(e.url,{responseType:"json"})).data,await Object(d.d)(n));const s=Object(d.c)(n,{geometryType:e.geometryType}),h=e.fields||s.fields||[],b=null!=e.hasZ?e.hasZ:s.hasZ,O=s.geometryType,j=e.objectIdField||("number"===s.objectIdFieldType?s.objectIdFieldName:"OBJECTID")||"OBJECTID",w=e.spatialReference||o.a;let x=e.timeInfo;if(!O)throw new i.a("geojson-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if("string"===s.objectIdFieldType&&t.push({name:"geojson-layer:unsupported-id-type",message:"Feature ids are of type string and can't be honored."}),h===s.fields&&s.unknownFields.length>0&&t.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:s.unknownFields}}),j){let e=null;h.some((t=>t.name===j&&(e=t,!0)))?(e.type="esriFieldTypeOID",e.editable=!1,e.nullable=!1):h.unshift({alias:j,name:j,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const r of h){if(null==r.name&&(r.name=r.alias),null==r.alias&&(r.alias=r.name),!r.name)throw new i.a("geojson-layer:invalid-field-name","field name is missing",{field:r});if(r.name===j&&(r.type="esriFieldTypeOID"),-1===m.a.jsonValues.indexOf(r.type))throw new i.a("geojson-layer:invalid-field-type",`invalid type for field "${r.name}"`,{field:r})}const _={};this._requiredFields=[];for(const r of h)if("esriFieldTypeOID"!==r.type&&"esriFieldTypeGlobalID"!==r.type){r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable;const e=Object(y.q)(r);r.nullable||void 0!==e?_[r.name]=e:this._requiredFields.push(r)}if(this._fieldsIndex=new p.a(h),x){if(x.startTimeField){const e=this._fieldsIndex.get(x.startTimeField);e?(x.startTimeField=e.name,e.type="esriFieldTypeDate"):x.startTimeField=null}if(x.endTimeField){const e=this._fieldsIndex.get(x.endTimeField);e?(x.endTimeField=e.name,e.type="esriFieldTypeDate"):x.endTimeField=null}if(x.trackIdField){const e=this._fieldsIndex.get(x.trackIdField);e?x.trackIdField=e.name:(x.trackIdField=null,t.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:x}}))}x.startTimeField||x.endTimeField||(t.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:x}}),x=null)}const I={warnings:t,featureErrors:[],layerDefinition:{...g,drawingInfo:Object(f.d)(O),templates:Object(f.c)(_),extent:null,geometryType:O,objectIdField:j,fields:h,hasZ:!!b,timeInfo:x}};this._queryEngine=new l.a({fields:h,geometryType:O,hasM:!1,hasZ:b,objectIdField:j,spatialReference:w,timeInfo:x,featureStore:new c.a({geometryType:O,hasM:!1,hasZ:b}),cacheSpatialQueries:!0}),this._createDefaultAttributes=Object(f.b)(_,j),this._nextObjectId=s.maxObjectId+1;const v=Object(d.a)(n,{geometryType:O,hasZ:b,objectIdField:"number"===s.objectIdFieldType?j:null});if(!Object(o.c)(w,o.a))for(const r of v)r.geometry&&(r.geometry=Object(a.d)(Object(u.b)(Object(a.k)(r.geometry,O,b,!1),o.a,w)));return this._loadInitialFeatures(I,v),I}async applyEdits(e){const{spatialReference:t,geometryType:n}=this._queryEngine;return await Promise.all([Object(h.c)(t,n),Object(u.a)(e.adds,t),Object(u.a)(e.updates,t)]),this._applyEdits(e)}queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}_loadInitialFeatures(e,t){const{featureStore:n,objectIdField:r}=this._queryEngine,i=[];for(const s of t){const t=this._createDefaultAttributes(),n=Object(h.d)(this._fieldsIndex,t,s.attributes,this._requiredFields,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(t,s.attributes,!0),s.attributes=t,s.objectId=t[r],i.push(s))}if(n.addMany(i),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:n}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,n]}return e}_applyEdits(e){const{adds:t,updates:n,deletes:r}=e,i={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(i,t),n&&n.length&&this._applyUpdateEdits(i,n),r&&r.length){for(const e of r)i.deleteResults.push(Object(h.b)(e));this._queryEngine.featureStore.removeManyById(r)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:i}}_applyAddEdits(e,t){const{addResults:n}=e,{geometryType:r,hasM:i,hasZ:o,objectIdField:c,spatialReference:l,featureStore:d}=this._queryEngine,f=[];for(const a of t){if(a.geometry&&r!==Object(s.c)(a.geometry)){n.push(Object(h.a)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),i=Object(h.d)(this._fieldsIndex,t,a.attributes,this._requiredFields);if(i)n.push(i);else{if(this._assignObjectId(t,a.attributes),a.attributes=t,null!=a.uid){const t=a.attributes[c];e.uidToObjectId[a.uid]=t}a.geometry&&(a.geometry=Object(u.b)(Object(h.e)(a.geometry,l),a.geometry.spatialReference,l)),f.push(a),n.push(Object(h.b)(a.attributes[c]))}}d.addMany(Object(a.c)([],f,r,o,i,c))}_applyUpdateEdits({updateResults:e},t){const{geometryType:n,hasM:r,hasZ:i,objectIdField:o,spatialReference:c,featureStore:l}=this._queryEngine;for(const d of t){const{attributes:t,geometry:f}=d,p=t&&t[o];if(null==p){e.push(Object(h.a)(`Identifier field ${o} missing`));continue}if(!l.has(p)){e.push(Object(h.a)(`Feature with object id ${p} missing`));continue}const m=Object(a.i)(l.getFeature(p),n,i,r);if(f){if(n!==Object(s.c)(f)){e.push(Object(h.a)("Incorrect geometry type."));continue}m.geometry=Object(u.b)(Object(h.e)(f,c),f.spatialReference,c)}if(t){const n=Object(h.d)(this._fieldsIndex,m.attributes,t,this._requiredFields);if(n){e.push(n);continue}}l.add(Object(a.a)(m,n,i,r,o)),e.push(Object(h.b)(p))}}_assignObjectId(e,t,n=!1){const r=this._queryEngine.objectIdField;n&&isFinite(t[r])?e[r]=t[r]:e[r]=this._nextObjectId++}async _checkProjection(e){try{await Object(u.a)(o.a,e)}catch{throw new i.a("geojson-layer","Projection not supported")}}}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return d}));var r=n(88),i=n(125),s=n(100);function o(e){return new r.a({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=o(i.a),c=o(i.b),u=o(i.c),l=new r.a({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${i.a.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function d(e){return e&&e===i.b?c:e&&e===i.c?u:a}function f(e){return e&&(Object(s.h)(e)||e===c)?c:e&&(Object(s.i)(e)||e===u)?u:a}function h(e){return e&&(Object(s.h)(e)||e===c)?i.b:e&&(Object(s.i)(e)||e===u)?i.c:i.a}function p(e){return Object(s.l)(e)?i.b:Object(s.m)(e)?i.c:i.a}},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return X})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return Z})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return le})),n.d(t,"q",(function(){return ne})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return ue})),n.d(t,"t",(function(){return ee})),n.d(t,"u",(function(){return te})),n.d(t,"v",(function(){return g})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return ae})),n.d(t,"y",(function(){return Q})),n.d(t,"z",(function(){return oe}));var r=n(83),i=n(75),s=n(93),o=n(246),a=n(271),c=n(155);function u(e,t){return e?t?4:3:t?3:2}const l=i.a.getLogger("esri.tasks.support.optimizedFeatureSet"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},f=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s},h=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+2]},p=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+3]},m=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+2],e[n+3]=t[r+3]};function y(e,t,n,r){if(e){if(n)return t&&r?m:h;if(t&&r)return p}else if(t&&r)return h;return f}function g({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function b({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function O({scale:e,translate:t},n){return n*e[0]+t[0]}function j({scale:e,translate:t},n){return t[1]-n*e[1]}function w(e,t,n){return e?t?n?k(e):I(e):n?S(e):x(e):null}function x(e){const t=e.coords;return{x:t[0],y:t[1]}}function _(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function I(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function v(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function S(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function k(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function T(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function M(e,t){return e&&t?T:e?v:t?F:_}function q(e,t,n,r,i){const s=M(n,r);for(const a of t){const{geometry:t,attributes:n}=a;let r;t&&(r=s(new c.a,t)),e.push(new o.a(r,n,null,n[i]))}return e}function P(e,t,n){if(!e)return null;const r=u(t,n),i=[];for(let s=0;s<e.coords.length;s+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[s+n]);i.push(t)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function R(e,t,n,r,i){const s=u(n,r);for(const a of t){const t=a.geometry,n=a.attributes;let r;t&&(r=U(new c.a,t,s)),e.push(new o.a(r,n,null,n[i]))}return e}function U(e,t,n=u(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let i=0;for(const s of t.points)for(let e=0;e<n;e++)r[i++]=s[e];return e}function E(e,t,n){if(!e)return null;const r=u(t,n),{coords:i,lengths:s}=e,o=[];let a=0;for(const c of s){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}o.push(e)}return t?n?{paths:o,hasZ:t,hasM:n}:{paths:o,hasZ:t}:n?{paths:o,hasM:n}:{paths:o}}function N(e,t,n,r,i){const s=u(n,r);for(const a of t){const t=a.geometry,n=a.attributes;let r;t&&(r=G(new c.a,t,s)),e.push(new o.a(r,n,null,n[i]))}return e}function G(e,t,n=u(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e;let s=0;for(const o of t.paths){for(const e of o)for(let t=0;t<n;t++)i[s++]=e[t];r.push(o.length)}return e}function z(e,t,n){if(!e)return null;const r=u(t,n),{coords:i,lengths:s}=e,o=[];let a=0;for(const c of s){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}o.push(e)}return t?n?{rings:o,hasZ:t,hasM:n}:{rings:o,hasZ:t}:n?{rings:o,hasM:n}:{rings:o}}function A(e,t,n,r,i){for(const s of t){const t=s.geometry,a=s.centroid,u=s.attributes;let l;t&&(l=L(new c.a,t,n,r)),a?e.push(new o.a(l,u,_(new c.a,a),u[i])):e.push(new o.a(l,u,null,u[i]))}return e}function L(e,t,n=t.hasZ,r=t.hasM){return D(e,t.rings,n,r),e}function D(e,t,n,r){const i=u(n,r),{lengths:s,coords:o}=e;let a=0;s.length=o.length=0;for(const c of t){for(const e of c)for(let t=0;t<i;t++)o[a++]=e[t];s.push(c.length)}return e}const C=[],B=[];function $(e,t,n,r,i){C[0]=e;const[s]=J(B,C,t,n,r,i);return C.length=B.length=0,s}function J(e,t,n,i,s,a){if(e.length=0,!n){for(const n of t){const t=n.attributes[a];e.push(new o.a(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return q(e,t,i,s,a);case"esriGeometryMultipoint":return R(e,t,i,s,a);case"esriGeometryPolyline":return N(e,t,i,s,a);case"esriGeometryPolygon":return A(e,t,i,s,a);default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`)),e.length=0}return e}function V(e,t,n,i,s,o){const a=e.length;switch(n){case"esriGeometryPoint":q(e,t,i,s,o);break;case"esriGeometryMultipoint":R(e,t,i,s,o);break;case"esriGeometryPolyline":N(e,t,i,s,o);break;case"esriGeometryPolygon":A(e,t,i,s,o);break;default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<t.length;r++)e[r+a].geometryType=n,e[r+a].insertAfter=t[r].insertAfter,e[r+a].groupId=t[r].groupId;return e}function Z(e,t,n,r){B[0]=e,K(C,B,t,n,r);const i=C[0];return C.length=B.length=0,i}function H(e,t,n){if(!e)return null;const i=new c.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),Object(s.f)(e)?M(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(i,e):Object(s.g)(e)?L(i,e,t,n):Object(s.h)(e)?G(i,e,u(t,n)):Object(s.e)(e)?U(i,e,u(t,n)):void l.error("convertFromGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${e}'`))}function Y(e,t,n,i){const s=e&&("coords"in e?e:e.geometry);if(!s)return null;switch(t){case"esriGeometryPoint":{let e=x;return n&&i?e=k:n?e=I:i&&(e=S),e(s)}case"esriGeometryMultipoint":return P(s,n,i);case"esriGeometryPolyline":return E(s,n,i);case"esriGeometryPolygon":return z(s,n,i);default:return void l.error("convertToGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${t}'`))}}function K(e,t,n,i,s){switch(e.length=0,n){case"esriGeometryPoint":return function(e,t,n,r){let i=x;n&&r?i=k:n?i=I:r&&(i=S);for(const s of t){const{geometry:t,attributes:n}=s,r=t?i(t):null;e.push({attributes:n,geometry:r})}return e}(e,t,i,s);case"esriGeometryMultipoint":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s}=i;let o;t&&(o=P(t,n,r)),e.push({attributes:s,geometry:o})}return e}(e,t,i,s);case"esriGeometryPolyline":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s}=i;let o;t&&(o=E(t,n,r)),e.push({attributes:s,geometry:o})}return e}(e,t,i,s);case"esriGeometryPolygon":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s,centroid:o}=i;let a;if(t&&(a=z(t,n,r)),o){const t=x(o);e.push({attributes:s,centroid:t,geometry:a})}else e.push({attributes:s,geometry:a})}return e}(e,t,i,s);default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}return e}function W(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:i,hasM:s,hasZ:o,features:a,geometryType:c,exceededTransferLimit:u,uniqueIdField:l,queryGeometry:d,queryGeometryType:f}=e,h={features:K([],a,c,o,s),fields:i,geometryType:c,objectIdFieldName:t,spatialReference:n,uniqueIdField:l,queryGeometry:Y(d,f,!1,!1)};return r&&(h.transform=r),u&&(h.exceededTransferLimit=u),s&&(h.hasM=s),o&&(h.hasZ=o),h}function X(e,t){const n=new a.a,{hasM:i,hasZ:s,features:o,objectIdFieldName:c,spatialReference:u,geometryType:d,exceededTransferLimit:f,transform:h,fields:p}=e;return p&&(n.fields=p),n.geometryType=d,n.objectIdFieldName=c||t,n.spatialReference=u,n.objectIdFieldName?(o&&J(n.features,o,d,s,i,n.objectIdFieldName),f&&(n.exceededTransferLimit=f),i&&(n.hasM=i),s&&(n.hasZ=s),h&&(n.transform=h),n):(l.error(new r.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function Q(e){const{transform:t,features:n,hasM:r,hasZ:i}=e;if(!t)return e;for(const s of n)s.geometry&&oe(s.geometry,s.geometry,r,i,t),s.centroid&&oe(s.centroid,s.centroid,r,i,t);return e.transform=null,e}function ee(e,t){const{geometryType:n,features:r,hasM:i,hasZ:s}=t;if(!e)return t;for(let o=0;o<r.length;o++){const t=r[o],a=t.weakClone();a.geometry=new c.a,te(a.geometry,t.geometry,i,s,n,e),t.centroid&&(a.centroid=new c.a,te(a.centroid,t.centroid,i,s,"esriGeometryPoint",e)),r[o]=a}return t.transform=e,t}function te(e,t,n,r,i,s,o=n,a=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const c=d[i],{coords:l,lengths:f}=t,h=u(n,r),p=u(n&&o,r&&a),m=y(n,r,o,a);if(!f.length)return m(e.coords,l,0,0,g(s,l[0]),b(s,l[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;let O,j,w,x,_=0,I=0,v=I;for(const u of f){if(u<c)continue;let t=0;I=v,w=O=g(s,l[_]),x=j=b(s,l[_+1]),m(e.coords,l,I,_,w,x),t++,_+=h,I+=p;for(let n=1;n<u;n++,_+=h)w=g(s,l[_]),x=b(s,l[_+1]),w===O&&x===j||(m(e.coords,l,I,_,w-O,x-j),I+=p,t++,O=w,j=x);t>=c&&(e.lengths.push(t),v=I)}return e.coords.length=v,e.coords.length?e:null}function ne(e,t,n,r,i,s,o=n,a=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const c=d[i],{coords:l,lengths:f}=t,h=u(n,r),p=u(n&&o,r&&a),m=y(n,r,o,a);if(!f.length)return m(e.coords,l,0,0,l[0],l[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;let g=0;const b=s*s;for(const u of f){if(u<c){g+=u*h;continue}const t=e.coords.length/p,n=g,r=g+(u-1)*h;m(e.coords,l,e.coords.length,n,l[n],l[n+1]),ie(e.coords,l,h,b,m,n,r),m(e.coords,l,e.coords.length,r,l[r],l[r+1]);const i=e.coords.length/p-t;i>=c?e.lengths.push(i):e.coords.length=t*p,g+=u*h}return e.coords.length?e:null}function re(e,t,n,r){const i=e[t],s=e[t+1],o=e[n],a=e[n+1],c=e[r],u=e[r+1];let l=o,d=a,f=c-l,h=u-d;if(0!==f||0!==h){const e=((i-l)*f+(s-d)*h)/(f*f+h*h);e>1?(l=c,d=u):e>0&&(l+=f*e,d+=h*e)}return f=i-l,h=s-d,f*f+h*h}function ie(e,t,n,r,i,s,o){let a,c=r,u=0;for(let l=s+n;l<o;l+=n)a=re(t,l,s,o),a>c&&(u=l,c=a);c>r&&(u-s>n&&ie(e,t,n,r,i,s,u),i(e,t,e.length,u,t[u],t[u+1]),o-u>n&&ie(e,t,n,r,i,u,o))}function se(e,t,n,r){if(!t||!t.coords||!t.coords.length)return null;const i=u(n,r);let s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1];s=Math.min(s,n),a=Math.max(a,n),o=Math.min(o,r),c=Math.max(c,r)}}return e[0]=s,e[1]=o,e[2]=a,e[3]=c,e}function oe(e,t,n,r,i){const{coords:s,lengths:o}=t,a=n?r?m:h:r?h:f,c=u(n,r);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!o.length)return a(e.coords,s,0,0,O(i,s[0]),j(i,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=c),e;const[l,d]=i.scale;let p=0;for(let u=0;u<o.length;u++){const t=o[u];e.lengths[u]=t;let n=O(i,s[p]),r=j(i,s[p+1]);a(e.coords,s,p,p,n,r),p+=c;for(let i=1;i<t;i++,p+=c)n+=s[p]*l,r-=s[p+1]*d,a(e.coords,s,p,p,n,r)}return e!==t&&(e.lengths.length=o.length,e.coords.length=s.length),e}function ae(e,t,n,r,i,s){const o=u(n,r),a=y(n,r,i,s),c=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let u=0;u<c.length;u+=o)a(e.coords,c,e.coords.length,u,c[u],c[u+1]);return e}function ce(e,t,n,r){let i=0,s=e[r*t],o=e[r*(t+1)];for(let a=1;a<n;a++){const n=s+e[r*(t+a)],c=o+e[r*(t+a)+1],u=(n-s)*(c+o);s=n,o=c,i+=u}return.5*i}function ue(e,t){const{coords:n,lengths:r}=e;let i=0,s=0;for(let o=0;o<r.length;o++)s+=ce(n,i,r[o],t),i+=o;return Math.abs(s)}function le(e,t){const n=e.clone(),r=e.coords,i=e.lengths;let s=0;for(let o=0;o<i.length;o++){const e=i[o];let a=r[t*s],c=r[t*s+1];for(let i=1;i<e;i++){const e=a+r[t*(s+i)],o=c+r[t*(s+i)+1];n.coords[t*(s+i)]=e,n.coords[t*(s+i)+1]=o,a=e,c=o}s+=e}return n}},155:function(e,t,n){"use strict";class r{constructor(e=[],t=[],n=!1){this.lengths=null!=e?e:[],this.coords=null!=t?t:[],this.hasIndeterminateRingOrder=n}get isPoint(){return 0===this.lengths.length}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}clone(){return new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}t.a=r},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c}));var r=n(80),i=n(84);function s(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r]))))}function o(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r])))).then((e=>e.map((e=>e.value))))}function a(e){return Object(r.j)(e)?Object(i.t)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function c(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(i.u)(e),{ok:!1,error:e})))}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return O}));var r=n(140),i=n(83),s=n(75),o=n(80),a=n(116),c=n(124),u=n(239),l=n(100),d=n(150),f=(n(91),n(95)),h=n(92),p=n(93);async function m(e,t,n){const r="string"==typeof e?Object(h.K)(e):e,i=t[0].spatialReference,s=Object(p.c)(t[0]),o={...n,query:{...r.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((a=t,{geometryType:Object(p.c)(a[0]),geometries:a.map((e=>e.toJSON()))}))}};var a;return function(e,t,n){const r=Object(p.b)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=n,t}))}((await Object(f.default)(r.path+"/simplify",o)).data,s,i)}const y=s.a.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function O(e,t){if(!(e instanceof c.a||e instanceof a.a)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new i.a(e)}const n=Object(u.b)(e),r=[];for(const i of n){const e=[];r.push(e),e.push([i[0][0],i[0][1]]);for(let n=0;n<i.length-1;n++){const r=i[n][0],s=i[n][1],o=i[n+1][0],a=i[n+1][1],c=Math.sqrt((o-r)*(o-r)+(a-s)*(a-s)),u=(a-s)/c,l=(o-r)/c,d=c/t;if(d>1){for(let a=1;a<=d-1;a++){const n=a*t,i=l*n+r,o=u*n+s;e.push([i,o])}const n=(c+Math.floor(d-1)*t)/2,i=l*n+r,o=u*n+s;e.push([i,o])}e.push([o,a])}}return function(e){return"polygon"===e.type}(e)?new a.a({rings:r,spatialReference:e.spatialReference}):new c.a({paths:r,spatialReference:e.spatialReference})}function j(e,t,n){if(t){const t=O(e,1e6);e=Object(d.e)(t,!0)}return n&&(e=Object(u.e)(e,n)),e}function w(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=Object(u.d)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=Object(u.d)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=Object(u.d)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=Object(u.d)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function x(e,t,n){if(!Array.isArray(e))return x([e],t);const i=t?t.url:r.a.geometryServiceUrl;let s,y,O,_,I,v,S,F,k=0;const T=[],M=[];for(const r of e)if(Object(o.j)(r))M.push(r);else if(s||(s=r.spatialReference,y=Object(l.d)(s),O=s.isWebMercator,v=O?102100:4326,_=u.a[v].maxX,I=u.a[v].minX,S=u.a[v].plus180Line,F=u.a[v].minus180Line),y)if("mesh"===r.type)M.push(r);else if("point"===r.type)M.push(w(r.clone(),_,I));else if("multipoint"===r.type){const e=r.clone();e.points=e.points.map((e=>w(e,_,I))),M.push(e)}else if("extent"===r.type){const e=r.clone()._normalize(!1,!1,y);M.push(e.rings?new a.a(e):e)}else if(r.extent){const e=r.extent,t=Object(u.d)(e.xmin,I)*(2*_);let n=0===t?r.clone():Object(u.e)(r.clone(),t);e.offset(t,0),e.intersects(S)&&e.xmax!==_?(k=e.xmax>k?e.xmax:k,n=j(n,O),T.push(n),M.push("cut")):e.intersects(F)&&e.xmin!==I?(k=e.xmax*(2*_)>k?e.xmax*(2*_):k,n=j(n,O,360),T.push(n),M.push("cut")):M.push(n)}else M.push(r.clone());else M.push(r);let q=Object(u.d)(k,_),P=-90;const R=q,U=new c.a;for(;q>0;){const e=360*q-180;U.addPath([[e,P],[e,-1*P]]),P*=-1,q--}if(T.length>0&&R>0){const t=function(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],s=t.geometries[r],o=Object(u.b)(s);for(let e=0;e<o.length;e++){const t=o[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*Object(u.d)(n,180);for(let i=0;i<t.length;i++){const t=s.getPoint(e,i);s.setPoint(e,i,t.clone().offset(r,0))}return!0}}))}if(i===n){if(g(e))for(const t of Object(u.b)(s))e[i]=e[i].addRing(t);else if(b(e))for(const t of Object(u.b)(s))e[i]=e[i].addPath(t)}else n=i,e[i]=s}return e}(T,await async function(e,t,n,r){const i="string"==typeof e?Object(h.K)(e):e,s=t[0].spatialReference,o={...r,query:{...i.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(p.c)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await Object(f.default)(i.path+"/cut",o),{cutIndexes:c,geometries:u=[]}=a.data;return{cutIndexes:c,geometries:u.map((e=>{const t=Object(p.a)(e);return t.spatialReference=s,t}))}}(i,T,U,n)),r=[],s=[];for(let n=0;n<M.length;n++){const i=M[n];if("cut"!==i)s.push(i);else{const i=t.shift(),a=e[n];Object(o.k)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&i.rings.length>=a.rings.length?(r.push(i),s.push("simplify")):s.push(O?Object(d.b)(i):i)}}if(!r.length)return s;const a=await m(i,r,n),c=[];for(let e=0;e<s.length;e++){const t=s[e];"simplify"!==t?c.push(t):c.push(O?Object(d.b)(a.shift()):a.shift())}return c}const E=[];for(let r=0;r<M.length;r++){const e=M[r];if("cut"!==e)E.push(e);else{const e=T.shift();E.push(!0===O?Object(d.b)(e):e)}}return Promise.resolve(E)}function _(e,t){const n=Object(l.d)(t);if(n){const[t,r]=n.valid,i=r-t;if(e<t)for(;e<t;)e+=i;if(e>r)for(;e>r;)e-=i}return e}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(165);class i{constructor(e,t,n){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,n,r=0){this._storage.put(this._namespace+e,t,n,r)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class s{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.a,this._users=new r.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,n,r){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),n>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const s=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:n,lifetime:s,lives:s}),this._size+=n,this._checkSizeLimit()}updateSize(e,t,n){const r=this._db.get(e);if(r&&r.entry===t){if(this._size-=r.size,n>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);r.size=n,this._size+=n,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forAll((n=>{const i=n.namespace;if(r.startsWith(i)){const n=t[i]||0;t[i]=n+e.size}}))}));const r={};this._users.forAll((e=>{const n=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,n)=>t[n]-t[e])),i.forEach((n=>e[n]=Math.round(t[n])+"% / "+r[n]));for(let s=n.length-1;s>=0;--s){const t=n[s];t&&(e["Priority "+(s+-3-1)]=Math.round(t/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemoved(n,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((n=>{e.startsWith(n[0])&&n[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},215:function(e,t,n){"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function i(e){return e.toLowerCase().trim()}t.a=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const n of e){const e=n&&n.name;if(e){const s=i(e);this._fieldsMap.set(e,n),this._fieldsMap.set(s,n),t.push(s),r(n)&&(this.dateFields.push(n),this._dateFieldsSet.add(n))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},221:function(e,t,n){"use strict";n.r(t);var r=n(76),i=n(138),s=n(83),o=n(81),a=n(82),c=n(172),u=n(80),l=n(92),d=n(78),f=n(79),h=(n(74),n(75)),p=n(87),m=n(77),y=n(94),g=n(174),b=n(89),O=n(106);const j=h.a.getLogger("esri.portal.PortalItemResource");let w=class extends b.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){Object(u.k)(e)&&Object(l.s)(e)?j.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const n=this.url;if(Object(u.j)(n))throw new s.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(n,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(u.i)(t,"signal")})}async update(e,t){return(await n.e(20).then(n.bind(null,821))).addOrUpdateResource(this,"update",e,t)}hasPath(){return Object(u.k)(this.path)}normalizePath(e,t){return Object(u.j)(e)?e:(e=e.replace(/^\/+/,""),Object(u.k)(t)&&Object(l.s)(e)&&(e=Object(l.C)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(r.a)([Object(d.b)()],w.prototype,"portalItem",void 0),Object(r.a)([Object(d.b)({type:String,value:null})],w.prototype,"path",null),Object(r.a)([Object(O.a)("path")],w.prototype,"_castPath",null),Object(r.a)([Object(d.b)({type:String,readOnly:!0})],w.prototype,"url",null),Object(r.a)([Object(d.b)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=Object(r.a)([Object(m.a)("esri.portal.PortalItemResource")],w);var x=w;let _=class extends b.a{constructor(e){super(e),this.created=null,this.rating=null}};Object(r.a)([Object(d.b)()],_.prototype,"created",void 0),Object(r.a)([Object(d.b)()],_.prototype,"rating",void 0),_=Object(r.a)([Object(m.a)("esri.portal.PortalRating")],_);var I,v=_;let S=I=class extends(Object(o.b)(c.a)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Object(f.d)(I,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?n=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?n=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?n="Locator":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?n=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"OGCFeatureServer"===e&&(n="OGC Feature Layer"),n}readExtent(e){return e&&e.length?new y.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let n,r=!1,s=!1,o=!1,a=!1,c=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.indexOf("Table")>-1,o=t.indexOf("Route Layer")>-1,a=t.indexOf("Markup")>-1,c=-1!==t.indexOf("Spatiotemporal"),u=-1!==t.indexOf("UtilityNetwork"),n=c&&s?"spatiotemporaltable":s?"table":o?"routelayer":a?"markup":c?"spatiotemporal":r?"featureshosted":u?"utilitynetwork":"features"):n="map service"===e||"wms"===e||"wmts"===e?r||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):n="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"maps",n?Object(i.a)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=g.a.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(u.k)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof v&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new v({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(a.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(a.a)(this.categories),created:Object(a.a)(this.created),culture:this.culture,description:this.description,extent:Object(a.a)(this.extent),groupCategories:Object(a.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(a.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(a.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(a.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(a.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new I({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new v(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},I)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,n={method:"post"};n.query=this.createPostQuery();for(const e in n.query)null===n.query[e]&&(n.query[e]="");return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,n).then((()=>this.reload()))})):Promise.reject(new s.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,n=e.filename,r={method:"post"};if("string"==typeof t)Object(l.u)(t)?r.query={data:t}:r.query={url:Object(l.A)(t)},Object(u.k)(n)&&(r.query.filename=n);else{const e=new FormData;Object(u.k)(n)?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new s.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await n.e(20).then(n.bind(null,821))).fetchResources(this,e,t)}async addResource(e,t,r){const i=await n.e(20).then(n.bind(null,821));return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await n.e(20).then(n.bind(null,821));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await n.e(20).then(n.bind(null,821))).removeAllResources(this,e)}resourceFromPath(e){return new x({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(a.c)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new I({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};Object(r.a)([Object(d.b)({type:["private","shared","org","public"]})],S.prototype,"access",void 0),Object(r.a)([Object(d.b)()],S.prototype,"accessInformation",void 0),Object(r.a)([Object(d.b)({type:String})],S.prototype,"apiKey",void 0),Object(r.a)([Object(d.b)({json:{read:{source:"appProxies"}}})],S.prototype,"applicationProxies",void 0),Object(r.a)([Object(d.b)()],S.prototype,"avgRating",void 0),Object(r.a)([Object(d.b)()],S.prototype,"categories",void 0),Object(r.a)([Object(d.b)({type:Date})],S.prototype,"created",void 0),Object(r.a)([Object(d.b)()],S.prototype,"culture",void 0),Object(r.a)([Object(d.b)()],S.prototype,"description",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"displayName",null),Object(r.a)([Object(d.b)({type:y.a})],S.prototype,"extent",void 0),Object(r.a)([Object(p.a)("extent")],S.prototype,"readExtent",null),Object(r.a)([Object(d.b)()],S.prototype,"groupCategories",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"iconUrl",null),Object(r.a)([Object(d.b)()],S.prototype,"id",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"isLayer",null),Object(r.a)([Object(d.b)()],S.prototype,"itemControl",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"itemUrl",null),Object(r.a)([Object(d.b)()],S.prototype,"licenseInfo",void 0),Object(r.a)([Object(d.b)({type:Date})],S.prototype,"modified",void 0),Object(r.a)([Object(d.b)()],S.prototype,"name",void 0),Object(r.a)([Object(d.b)()],S.prototype,"numComments",void 0),Object(r.a)([Object(d.b)()],S.prototype,"numRatings",void 0),Object(r.a)([Object(d.b)()],S.prototype,"numViews",void 0),Object(r.a)([Object(d.b)()],S.prototype,"owner",void 0),Object(r.a)([Object(d.b)()],S.prototype,"ownerFolder",void 0),Object(r.a)([Object(d.b)({type:g.a})],S.prototype,"portal",void 0),Object(r.a)([Object(d.b)()],S.prototype,"screenshots",void 0),Object(r.a)([Object(d.b)()],S.prototype,"size",void 0),Object(r.a)([Object(d.b)()],S.prototype,"snippet",void 0),Object(r.a)([Object(d.b)()],S.prototype,"sourceJSON",void 0),Object(r.a)([Object(d.b)()],S.prototype,"tags",void 0),Object(r.a)([Object(d.b)()],S.prototype,"thumbnail",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"thumbnailUrl",null),Object(r.a)([Object(d.b)()],S.prototype,"title",void 0),Object(r.a)([Object(d.b)()],S.prototype,"type",void 0),Object(r.a)([Object(d.b)()],S.prototype,"typeKeywords",void 0),Object(r.a)([Object(d.b)()],S.prototype,"url",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],S.prototype,"userItemUrl",null),S=I=Object(r.a)([Object(m.a)("esri.portal.PortalItem")],S);var F=S;t.default=F},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return P})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return v})),n.d(t,"z",(function(){return b})),n.d(t,"A",(function(){return T}));var r=n(80),i=(n(94),n(117));function s(e=E){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function o(e,t,n,r,i,o,a=s()){return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t,n=0,r=t.length/3){let i=e[0],s=e[1],o=e[2],a=e[3],c=e[4],u=e[5];for(let l=0;l<r;l++)i=Math.min(i,t[n+3*l]),s=Math.min(s,t[n+3*l+1]),o=Math.min(o,t[n+3*l+2]),a=Math.max(a,t[n+3*l]),c=Math.max(c,t[n+3*l+1]),u=Math.max(u,t[n+3*l+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=c,e[5]=u}function d(e,t,n){const r=t.length;let i=e[0],s=e[1],o=e[2],a=e[3],c=e[4],u=e[5];if(n)for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),s=Math.min(s,e[1]),o=Math.min(o,e[2]),a=Math.max(a,e[0]),c=Math.max(c,e[1]),u=Math.max(u,e[2])}else for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[0]),c=Math.max(c,e[1])}e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=c,e[5]=u}function f(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function h(e){return e[0]>=e[3]?0:e[3]-e[0]}function p(e){return e[1]>=e[4]?0:e[4]-e[1]}function m(e){return e[2]>=e[5]?0:e[5]-e[2]}function y(e){const t=h(e),n=m(e),r=p(e);return Math.sqrt(t*t+n*n+r*r)}function g(e,t=[0,0,0]){return t[0]=e[0]+h(e)/2,t[1]=e[1]+p(e)/2,t[2]=e[2]+m(e)/2,t}function b(e,t=[0,0,0]){return t[0]=h(e),t[1]=p(e),t[2]=m(e),t}function O(e){return Math.max(h(e),m(e),p(e))}function j(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function w(e,t){return!!Object(r.j)(t)||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function x(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function _(e,t,n=e){const r=e[0]+h(e)/2,i=e[1]+p(e)/2,s=e[2]+m(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=s+(e[2]-s)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=s+(e[5]-s)*t,n}function I(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function v(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function S(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function F(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function k(e){return e?F(e,U):s(U)}function T(e,t){return t||(t=Object(i.k)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function q(e){return 6===e.length}function P(e){return 0===h(e)&&0===p(e)&&0===m(e)}function R(e,t,n){if(Object(r.j)(e)||Object(r.j)(t))return e===t;if(!q(e)||!q(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const U=[1/0,1/0,1/0,-1/0,-1/0,-1/0],E=[0,0,0,0,0,0];s()},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=new(n(85).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c}));var r=n(124),i=n(88),s=n(93);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:i.a.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.a.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function c(e,t){const n=u(e);for(const r of n)for(const e of r)e[0]+=t;return e}function u(e){return Object(s.g)(e)?e.rings:e.paths}function l(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[o[t].minX,o[t].maxX]}},246:function(e,t,n){"use strict";class r{constructor(e=null,t={},n,r){this.displayId=0,this.geohashX=0,this.geohashY=0,this.geometry=e,t&&(this.attributes=t),n&&(this.centroid=n),null!=r&&(this.objectId=r)}get hasGeometry(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}weakClone(){const e=new r(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}t.a=r},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return l}));const r=[252,146,31,255],i=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},c={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},l={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},271:function(e,t,n){"use strict";class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}t.a=r},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return _}));var r=n(93);const i=(e,t,n)=>[t,n],s=(e,t,n)=>[t,n,e[2]],o=(e,t,n)=>[t,n,e[2],e[3]];function a(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function c({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function u({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function l(e,t,n){const r=[];let i,s,o,a;for(let l=0;l<n.length;l++){const d=n[l];l>0?(o=c(e,d[0]),a=u(e,d[1]),o===i&&a===s||(r.push(t(d,o-i,a-s)),i=o,s=a)):(i=c(e,d[0]),s=u(e,d[1]),r.push(t(d,i,s)))}return r.length>0?r:null}function d({scale:e,translate:t},n){return n*e[0]+t[0]}function f({scale:e,translate:t},n){return t[1]-n*e[1]}function h(e,t,n){const r=new Array(n.length);if(!n.length)return r;const[i,s]=e.scale;let o=d(e,n[0][0]),a=f(e,n[0][1]);r[0]=t(n[0],o,a);for(let c=1;c<n.length;c++){const e=n[c];o+=e[0]*i,a-=e[1]*s,r[c]=t(e,o,a)}return r}function p(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=h(e,t,n[i]);return r}function m(e,t,n,r,a){return t.points=function(e,t,n,r){return l(e,n?r?o:s:r?s:i,t)}(e,n.points,r,a),t}function y(e,t,n,r,i){return t.x=c(e,n.x),t.y=u(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m)),t}function g(e,t,n,r,a){const c=function(e,t,n,r){const a=[],c=n?r?o:s:r?s:i;for(let i=0;i<t.length;i++){const n=l(e,c,t[i]);n&&n.length>=3&&a.push(n)}return a.length?a:null}(e,n.rings,r,a);return c?(t.rings=c,t):null}function b(e,t,n,r,a){const c=function(e,t,n,r){const a=[],c=n?r?o:s:r?s:i;for(let i=0;i<t.length;i++){const n=l(e,c,t[i]);n&&n.length>=2&&a.push(n)}return a.length?a:null}(e,n.paths,r,a);return c?(t.paths=c,t):null}function O(e,t){return e&&t?Object(r.f)(t)?y(e,{},t,!1,!1):Object(r.h)(t)?b(e,{},t,!1,!1):Object(r.g)(t)?g(e,{},t,!1,!1):Object(r.e)(t)?m(e,{},t,!1,!1):Object(r.d)(t)?(o=!1,a=!1,(i={}).xmin=c(n=e,(s=t).xmin),i.ymin=u(n,s.ymin),i.xmax=c(n,s.xmax),i.ymax=u(n,s.ymax),i!==s&&(o&&(i.zmin=s.zmin,i.zmax=s.zmax),a&&(i.mmin=s.mmin,i.mmax=s.mmax)),i):null:null;var n,i,s,o,a}function j(e,t,n,r,a){return t.points=function(e,t,n,r){return h(e,n?r?o:s:r?s:i,t)}(e,n.points,r,a),t}function w(e,t,n,r,i){return t.x=d(e,n.x),t.y=f(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m)),t}function x(e,t,n,r,a){return t.rings=function(e,t,n,r){return p(e,n?r?o:s:r?s:i,t)}(e,n.rings,r,a),t}function _(e,t,n,r,a){return t.paths=function(e,t,n,r){return p(e,n?r?o:s:r?s:i,t)}(e,n.paths,r,a),t}},393:function(e,t,n){"use strict";var r=n(213);t.a=class{constructor(e,t){this._storage=new r.b,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},506:function(e,t,n){"use strict";var r=n(84);class i{constructor(e,t,n,r,i){this.resolve=e,this.reject=t,this.callback=n,this.signal=r,this.abortCallback=i}}t.a=class{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(e,t,n){return new Promise(((r,s)=>this._tasks.push(new i(r,s,e,t,n))))}unshift(e,t,n){return new Promise(((r,s)=>this._tasks.unshift(new i(r,s,e,t,n))))}process(){if(0===this._tasks.length)return!1;const e=this._tasks.shift();try{const t=Object(r.n)(e.signal);if(t&&!e.abortCallback)e.reject(Object(r.e)());else{const n=t?e.abortCallback(Object(r.e)()):e.callback();Object(r.o)(n)?n.then(e.resolve,e.reject):e.resolve(n)}}catch(i){e.reject(i)}return!0}cancelAll(){const e=Object(r.e)();for(const t of this._tasks)if(t.abortCallback){const n=t.abortCallback(e);t.resolve(n)}else t.reject(e);this._tasks.length=0}}},600:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a}));var r=n(74),i=n(82),s=n(599),o=n(268);function a(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.c:"esriGeometryPolyline"===e?o.e:o.d}}}function c(e,t){if(Object(r.a)("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function u(e={}){return[{name:"New Feature",description:"",prototype:{attributes:Object(i.a)(e)}}]}function l(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:s.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},679:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return j}));var r=n(83),i=n(246),s=n(155);const o={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function a(e){return o[e]}function*c(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function l(e){for(const t of e)if(t.length>2)return!0;return!1}function d(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function f(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function h(e,t,n){switch(t.type){case"LineString":return function(e,t,n){return y(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)y(e,r,n);return e}(e,t,n);case"MultiPoint":return function(e,t,n){return y(e,t.coordinates,n),e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){p(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return b(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;p(e,r[0],n);for(let i=1;i<r.length;i++)m(e,r[i],n);return e}(e,t,n)}}function p(e,t,n){const r=f(t);!function(e){return!d(e)}(r)?y(e,r,n):g(e,r,n)}function m(e,t,n){const r=f(t);!function(e){return d(e)}(r)?y(e,r,n):g(e,r,n)}function y(e,t,n){for(const r of t)b(e,r,n);e.lengths.push(t.length)}function g(e,t,n){for(let r=t.length-1;r>=0;r--)b(e,t[r],n);e.lengths.push(t.length)}function b(e,t,n){const[r,i,s]=t;e.coords.push(r,i),n.hasZ&&e.coords.push(s||0)}function O(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function j(e){if(!e)throw new r.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!i.test(n))throw new r.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function w(e,t={}){const n=[],r=new Set,i=new Set;let s,o=!1,d=Number.NEGATIVE_INFINITY,f=null,h=!1,{geometryType:p=null}=t,m=!1;for(const g of c(e)){const{geometry:e,properties:t,id:c}=g;if((!e||(p||(p=a(e.type)),a(e.type)===p))&&(o||(o=l(u(e))),h||(h=null!=c,h&&(s=typeof c,"number"===s&&(f=Object.keys(t).filter((e=>t[e]===c))))),h&&"number"===s&&null!=c&&(d=Math.max(d,c),f.length>1?f=f.filter((e=>t[e]===c)):1===f.length&&(f=t[f[0]]===c?f:[])),!m&&t)){let e=!0;for(const s in t){if(r.has(s))continue;const o=t[s];if(null==o){e=!1,i.add(s);continue}const a=O(o);"unknown"!==a?(i.delete(s),r.add(s),n.push({name:s,alias:s,type:a})):i.add(s)}m=e}}const y=f&&1===f.length&&f[0]||null;if(y)for(const a of n)a.name===y&&(a.type="esriFieldTypeOID");return{fields:n,geometryType:p,hasZ:o,maxObjectId:Math.max(0,d),objectIdFieldName:y,objectIdFieldType:s,unknownFields:Array.from(i)}}function x(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const c of e){var o;const{geometry:e,properties:u,id:l}=c;if(e&&a(e.type)!==n)continue;const d=u||{};let f=null!=(o=d[r])?o:null;r&&null!=l&&!d[r]&&(d[r]=f=l);const p=new i.a(e?h(new s.a,e,t):null,d,null,f);yield p}}(c(e),t))}},886:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p}));var r=n(100),i=n(111);class s{constructor(){this.code=null,this.description=null}}class o{constructor(e){this.error=new s,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function a(e){return new o(e)}class c{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function u(e){return new c(e)}const l=new Set;function d(e,t,n,r,s=!1,o){l.clear();for(const c in n){const r=e.get(c);if(!r)continue;const u=n[c],d=f(r,u);if(d!==u&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:r,originalValue:u,sanitizedValue:d}}),l.add(r.name),r&&(s||r.editable)){const e=Object(i.y)(r,d);if(e)return a(Object(i.z)(e,r,d));t[r.name]=d}}if(r)for(const i of r)if(!l.has(i.name))return a(`missing required field "${i.name}"`);return null}function f(e,t){let n=t;return"string"==typeof t&&Object(i.t)(e)?n=parseFloat(t):null!=t&&Object(i.u)(e)&&"string"!=typeof t&&(n=String(t)),Object(i.w)(n)}let h;function p(e,t){if(!e||!Object(r.j)(t))return e;if("rings"in e||"paths"in e){if(!h)throw new TypeError("geometry engine not loaded");return h.simplify(t,e)}return e}async function m(e,t){!Object(r.j)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return h||(h=await Promise.all([n.e(8),n.e(28)]).then(n.bind(null,794)),h)}()}}}]);
//# sourceMappingURL=111.a692d9f4.chunk.js.map