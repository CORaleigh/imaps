(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[172],{119:function(n,t,e){"use strict";e.d(t,"a",(function(){return D})),e.d(t,"b",(function(){return m})),e.d(t,"c",(function(){return g})),e.d(t,"d",(function(){return x})),e.d(t,"e",(function(){return i})),e.d(t,"f",(function(){return v})),e.d(t,"g",(function(){return y})),e.d(t,"h",(function(){return p})),e.d(t,"i",(function(){return b})),e.d(t,"j",(function(){return M})),e.d(t,"k",(function(){return u})),e.d(t,"l",(function(){return z})),e.d(t,"m",(function(){return l})),e.d(t,"n",(function(){return s})),e.d(t,"o",(function(){return f})),e.d(t,"p",(function(){return a})),e.d(t,"q",(function(){return o})),e.d(t,"r",(function(){return d})),e.d(t,"s",(function(){return w})),e.d(t,"t",(function(){return O})),e.d(t,"u",(function(){return j})),e.d(t,"v",(function(){return c})),e.d(t,"w",(function(){return h}));e(75),e(81);var r=e(94);function u(n=C){return[n[0],n[1],n[2],n[3]]}function i(n){return[n[0],n[1],n[2],n[3]]}function o(n,t,e,r,i=u()){return i[0]=n,i[1]=t,i[2]=e,i[3]=r,i}function a(n,t=u()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.xmax,t[3]=n.ymax,t}function c(n,t){return new r.a({xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3],spatialReference:t})}function s(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function l(n,t,e=n){if("length"in t)P(t)?(e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.max(n[2],t[2]),e[3]=Math.max(n[3],t[3])):2!==t.length&&3!==t.length||(e[0]=Math.min(n[0],t[0]),e[1]=Math.min(n[1],t[1]),e[2]=Math.max(n[2],t[0]),e[3]=Math.max(n[3],t[1]));else switch(t.type){case"extent":e[0]=Math.min(n[0],t.xmin),e[1]=Math.min(n[1],t.ymin),e[2]=Math.max(n[2],t.xmax),e[3]=Math.max(n[3],t.ymax);break;case"point":e[0]=Math.min(n[0],t.x),e[1]=Math.min(n[1],t.y),e[2]=Math.max(n[2],t.x),e[3]=Math.max(n[3],t.y)}return e}function f(n,t,e=n){const r=t.length;let u=n[0],i=n[1],o=n[2],a=n[3];for(let c=0;c<r;c++){const n=t[c];u=Math.min(u,n[0]),i=Math.min(i,n[1]),o=Math.max(o,n[0]),a=Math.max(a,n[1])}return e[0]=u,e[1]=i,e[2]=o,e[3]=a,e}function m(n){for(let t=0;t<4;t++)if(!isFinite(n[t]))return!1;return!0}function h(n){return n[0]>=n[2]?0:n[2]-n[0]}function d(n){return n[1]>=n[3]?0:n[3]-n[1]}function g(n){return h(n)*d(n)}function x(n,t=[0,0]){return t[0]=(n[0]+n[2])/2,t[1]=(n[1]+n[3])/2,t}function y(n,t){return M(n,t[0],t[1])}function p(n,t){return M(n,t.x,t.y)}function M(n,t,e){return t>=n[0]&&e>=n[1]&&t<=n[2]&&e<=n[3]}function b(n,t,e){return t[0]>=n[0]-e&&t[1]>=n[1]-e&&t[0]<=n[2]+e&&t[1]<=n[3]+e}function w(n,t){return Math.max(t[0],n[0])<=Math.min(t[2],n[2])&&Math.max(t[1],n[1])<=Math.min(t[3],n[3])}function v(n,t){return t[0]>=n[0]&&t[2]<=n[2]&&t[1]>=n[1]&&t[3]<=n[3]}function O(n,t,e,r=n){return r[0]=n[0]+t,r[1]=n[1]+e,r[2]=n[2]+t,r[3]=n[3]+e,r}function j(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function z(n){return n?j(n,D):u(D)}function P(n){return 4===n.length}const D=[1/0,1/0,-1/0,-1/0],C=[0,0,0,0]},304:function(n,t,e){"use strict";e.d(t,"a",(function(){return M})),e.d(t,"b",(function(){return x})),e.d(t,"c",(function(){return a})),e.d(t,"d",(function(){return b})),e.d(t,"e",(function(){return w})),e.d(t,"f",(function(){return v})),e.d(t,"g",(function(){return O}));var r=e(95);const u=(n,t,e)=>[t,e],i=(n,t,e)=>[t,e,n[2]],o=(n,t,e)=>[t,e,n[2],n[3]];function a(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function c({scale:n,translate:t},e){return Math.round((e-t[0])/n[0])}function s({scale:n,translate:t},e){return Math.round((t[1]-e)/n[1])}function l(n,t,e){const r=[];let u,i,o,a;for(let l=0;l<e.length;l++){const f=e[l];l>0?(o=c(n,f[0]),a=s(n,f[1]),o===u&&a===i||(r.push(t(f,o-u,a-i)),u=o,i=a)):(u=c(n,f[0]),i=s(n,f[1]),r.push(t(f,u,i)))}return r.length>0?r:null}function f({scale:n,translate:t},e){return e*n[0]+t[0]}function m({scale:n,translate:t},e){return t[1]-e*n[1]}function h(n,t,e){const r=new Array(e.length);if(!e.length)return r;const[u,i]=n.scale;let o=f(n,e[0][0]),a=m(n,e[0][1]);r[0]=t(e[0],o,a);for(let c=1;c<e.length;c++){const n=e[c];o+=n[0]*u,a-=n[1]*i,r[c]=t(n,o,a)}return r}function d(n,t,e){const r=new Array(e.length);for(let u=0;u<e.length;u++)r[u]=h(n,t,e[u]);return r}function g(n,t,e,r,a){return t.points=function(n,t,e,r){return l(n,e?r?o:i:r?i:u,t)}(n,e.points,r,a),t}function x(n,t,e,r,u){return t.x=c(n,e.x),t.y=s(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function y(n,t,e,r,a){const c=function(n,t,e,r){const a=[],c=e?r?o:i:r?i:u;for(let u=0;u<t.length;u++){const e=l(n,c,t[u]);e&&e.length>=3&&a.push(e)}return a.length?a:null}(n,e.rings,r,a);return c?(t.rings=c,t):null}function p(n,t,e,r,a){const c=function(n,t,e,r){const a=[],c=e?r?o:i:r?i:u;for(let u=0;u<t.length;u++){const e=l(n,c,t[u]);e&&e.length>=2&&a.push(e)}return a.length?a:null}(n,e.paths,r,a);return c?(t.paths=c,t):null}function M(n,t){return n&&t?Object(r.f)(t)?x(n,{},t,!1,!1):Object(r.h)(t)?p(n,{},t,!1,!1):Object(r.g)(t)?y(n,{},t,!1,!1):Object(r.e)(t)?g(n,{},t,!1,!1):Object(r.d)(t)?(o=!1,a=!1,(u={}).xmin=c(e=n,(i=t).xmin),u.ymin=s(e,i.ymin),u.xmax=c(e,i.xmax),u.ymax=s(e,i.ymax),u!==i&&(o&&(u.zmin=i.zmin,u.zmax=i.zmax),a&&(u.mmin=i.mmin,u.mmax=i.mmax)),u):null:null;var e,u,i,o,a}function b(n,t,e,r,a){return t.points=function(n,t,e,r){return h(n,e?r?o:i:r?i:u,t)}(n,e.points,r,a),t}function w(n,t,e,r,u){return t.x=f(n,e.x),t.y=m(n,e.y),t!==e&&(r&&(t.z=e.z),u&&(t.m=e.m)),t}function v(n,t,e,r,a){return t.rings=function(n,t,e,r){return d(n,e?r?o:i:r?i:u,t)}(n,e.rings,r,a),t}function O(n,t,e,r,a){return t.paths=function(n,t,e,r){return d(n,e?r?o:i:r?i:u,t)}(n,e.paths,r,a),t}},412:function(n,t,e){"use strict";var r=e(83),u=e(76),i=e(304);const o=new Map;function a(n,t,e){const{transform:a,hasZ:c,hasM:s}=e;o.has(t)||o.set(t,function(n){const t={};switch(n){case"esriGeometryPoint":return(n,e,r,u)=>Object(i.e)(e,t,n,r,u);case"esriGeometryPolygon":return(n,e,r,u)=>Object(i.f)(e,t,n,r,u);case"esriGeometryPolyline":return(n,e,r,u)=>Object(i.g)(e,t,n,r,u);case"esriGeometryMultipoint":return(n,e,r,u)=>Object(i.d)(e,t,n,r,u);default:return u.a.getLogger("esri.views.2d.support.arcadeOnDemand").error(new r.a("mapview-arcade",`Unable to handle geometryType: ${n}`)),n=>n}}(t));const l=o.get(t)(n.geometry,a,c,s);return{...n,geometry:l}}t.a=function(n,t,e,r,i){const o=n.referencesGeometry()&&i?a(t,r,i):t,c=n.repurposeFeature(o);try{return n.evaluate({...e,$feature:c})}catch(s){return u.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",s),null}}},716:function(n,t,e){"use strict";e.r(t),e.d(t,"previewCIMSymbol",(function(){return a}));var r=e(98),u=e(1186),i=e(433);const o=new u.CIMSymbolRasterizer(null,!0);async function a(n,t={}){const{size:e,maxSize:u,node:a,opacity:c}=t,s=t.cimOptions||t,{feature:l,fieldMap:f,geometryType:m,style:h}=s,d=Object(i.c)(n),g=Math.min(null!=e?e:d,null!=u?u:Object(r.i)(120));g!==d&&(n=n.clone(),Object(i.e)(n,g,{preserveOutlineWidth:!0}));let x=3;n&&n.data&&n.data.symbol&&"CIMPointSymbol"!==n.data.symbol.type&&(x=1);const y=await o.rasterizeCIMSymbolAsync(n,l,f,m,{scaleFactor:x,style:h}),p=document.createElement("canvas");p.width=y.imageData.width,p.height=y.imageData.height,p.getContext("2d").putImageData(y.imageData,0,0);let M=p.width/x,b=p.height/x;if(null!=e&&(null==(null==t?void 0:t.scale)||(null==t?void 0:t.scale))){const n=M/b;M=n<=1?Math.ceil(g*n):g,b=n<=1?g:Math.ceil(g/n)}const w=new Image(M,b);return w.src=p.toDataURL(),null!=c&&(w.style.opacity=`${c}`),a&&a.appendChild(w),w}}}]);
//# sourceMappingURL=172.2e5e7bd7.chunk.js.map