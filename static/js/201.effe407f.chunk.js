(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[201],{242:function(e,r,n){"use strict";n.d(r,"a",(function(){return d})),n.d(r,"b",(function(){return s})),n.d(r,"c",(function(){return b})),n.d(r,"d",(function(){return m})),n.d(r,"e",(function(){return j})),n.d(r,"f",(function(){return f})),n.d(r,"g",(function(){return y})),n.d(r,"h",(function(){return v})),n.d(r,"i",(function(){return h})),n.d(r,"j",(function(){return p})),n.d(r,"k",(function(){return O}));var t=n(89),a=n(83),u=n(258),l=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],i=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(l.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),o=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(l.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),c=/(.*)\/(\d+)\/?$/i;function s(e){return!!i.test(e)}function f(e){var r=Object(a.J)(e),n=r.path.match(i)||r.path.match(o);if(!n)return null;var[,t,u,l,c]=n,s=u.indexOf("/");return{title:d(-1!==s?u.slice(s+1):u),serverType:l,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:t}}}function y(e){var r=Object(a.J)(e).path.match(c);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function d(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function p(e,r){var n=[];if(e){var a=f(e);Object(t.k)(a)&&a.title&&n.push(a.title)}if(r){var u=d(r);n.push(u)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function b(e){if(!e)return!1;var r=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),n=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return r&&n}function v(e,r){return e?Object(a.H)(Object(a.G)(e,r)):e}function h(e){var{url:r}=e;if(!r)return{url:r};r=Object(a.G)(r,e.logger);var n,u=Object(a.J)(r),l=f(u.path);if(Object(t.k)(l))null!=l.sublayer&&null==e.layer.layerId&&(n=l.sublayer),r=l.url.path;else if(e.nonStandardUrlAllowed){var i=y(u.path);Object(t.k)(i)&&(r=i.serviceUrl,n=i.sublayerId)}return{url:Object(a.H)(r),layerId:n}}function O(e,r,n,t,l){Object(u.f)(r,t,"url",l),t.url&&null!=e.layerId&&(t.url=Object(a.y)(t.url,n,e.layerId.toString()))}function j(e){if(!e)return!1;var r=e.toLowerCase(),n=-1!==r.indexOf("/services/"),t=-1!==r.indexOf("/mapserver/wmsserver"),a=-1!==r.indexOf("/imageserver/wmsserver"),u=-1!==r.indexOf("/wmsserver");return n&&(t||a||u)}function m(e){if(!e)return!1;var r=new a.a(Object(a.z)(e)).authority.toLowerCase();return"server.arcgisonline.com"===r||"services.arcgisonline.com"===r}},632:function(e,r,n){"use strict";n.r(r),n.d(r,"fromUrl",(function(){return f}));var t=n(91),a=n(7),u=n(89),l=n(93),i=n(83),o=n(106),c=n(242),s=n(648);function f(e){return y.apply(this,arguments)}function y(){return(y=Object(a.a)((function*(e){var r,a=null==(r=e.properties)?void 0:r.customParameters,u=yield b(e.url,a),l=Object(t.a)(Object(t.a)({},e.properties),{},{url:e.url});if(!u.sublayerIds)return null!=u.layerOrTableId&&(l.layerId=u.layerOrTableId,l.sourceJSON=u.sourceJSON),new u.Constructor(l);var i=new(0,(yield Promise.all([n.e(37),n.e(113)]).then(n.bind(null,671))).default)({title:u.parsedUrl.title});return p(i,u,l),i}))).apply(this,arguments)}function d(e,r){return e?e.find((e=>e.id===r)):null}function p(e,r,n){function a(e,a){var l=Object(t.a)(Object(t.a)({},n),{},{layerId:e,sublayerTitleMode:"service-name"});return Object(u.k)(a)&&(l.sourceJSON=a),new r.Constructor(l)}r.sublayerIds.forEach((n=>{var t=a(n,d(r.sublayerInfos,n));e.add(t)})),r.tableIds.forEach((n=>{var t=a(n,d(r.tableInfos,n));e.tables.add(t)}))}function b(e,r){return v.apply(this,arguments)}function v(){return(v=Object(a.a)((function*(e,r){var n=Object(c.f)(e);if(Object(u.j)(n)&&(n=yield h(e,r)),Object(u.j)(n))throw new l.a("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});var t,{serverType:a,sublayer:i}=n;switch(a){case"MapServer":t=null!=i?"FeatureLayer":w(e,r).then((e=>e?"TileLayer":"MapImageLayer"));break;case"ImageServer":t=C(e,r).then((e=>{var r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||"LERC"!==r.toUpperCase()||e.cacheType&&"elevation"!==e.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"}));break;case"SceneServer":t=C(n.url.path,r).then((e=>{var r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){var n=e.layers[0].layerType;if(null!=r[n])return r[n]}return"SceneLayer"}));break;default:t={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"}[a]}var o="FeatureServer"===a,s={parsedUrl:n,Constructor:null,layerOrTableId:o?i:null,sublayerIds:null,tableIds:null},f=yield t;if({FeatureLayer:!0,SceneLayer:!0}[f]&&null==i){var y=yield j(e,a,r);if(o&&(s.sublayerInfos=y.layerInfos,s.tableInfos=y.tableInfos),1!==y.layerIds.length+y.tableIds.length)s.sublayerIds=y.layerIds,s.tableIds=y.tableIds;else if(o){var d,p;s.layerOrTableId=null!=(d=y.layerIds[0])?d:y.tableIds[0],s.sourceJSON=null!=(p=y.layerInfos[0])?p:y.tableInfos[0]}}return s.Constructor=yield g(f),s}))).apply(this,arguments)}function h(e,r){return O.apply(this,arguments)}function O(){return(O=Object(a.a)((function*(e,r){var n=yield C(e,r),t=null,a=null,l=n.type;if("Feature Layer"===l||"Table"===l?(t="FeatureServer",a=n.id):"indexedVector"===l?t="VectorTileServer":n.hasOwnProperty("mapName")?t="MapServer":n.hasOwnProperty("bandCount")&&n.hasOwnProperty("pixelSizeX")?t="ImageServer":n.hasOwnProperty("maxRecordCount")&&n.hasOwnProperty("allowGeometryUpdates")?t="FeatureServer":n.hasOwnProperty("streamUrls")&&(t="StreamServer"),!t)return null;var o=null!=a?Object(c.g)(e):null;return{title:Object(u.k)(o)&&n.name||Object(i.k)(e),serverType:t,sublayer:a,url:{path:Object(u.k)(o)?o.serviceUrl:Object(i.J)(e).path}}}))).apply(this,arguments)}function j(e,r,n){return m.apply(this,arguments)}function m(){return(m=Object(a.a)((function*(e,r,n){var t,a,u,l=!1;if("FeatureServer"===r){var i=yield L(e,n);l=!!i.layersJSON,u=i.layersJSON||i.serviceJSON}else u=yield C(e,n);var o=null==(t=u)?void 0:t.layers,c=null==(a=u)?void 0:a.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==c?void 0:c.map((e=>e.id)).reverse())||[],layerInfos:l?o:[],tableInfos:l?c:[]}}))).apply(this,arguments)}function I(e){return!e.type||"Feature Layer"===e.type}function L(e,r){return S.apply(this,arguments)}function S(){return(S=Object(a.a)((function*(e,r){var n,t,a=yield C(e,r);(a=a||{}).layers=(null==(n=a.layers)?void 0:n.filter(I))||[];var u={serviceJSON:a};if(a.currentVersion<10.5)return u;var l=yield C(e+"/layers",r);return u.layersJSON={layers:(null==l||null==(t=l.layers)?void 0:t.filter(I))||[],tables:(null==l?void 0:l.tables)||[]},u}))).apply(this,arguments)}function g(e){return P.apply(this,arguments)}function P(){return(P=Object(a.a)((function*(e){return(0,s.a[e])()}))).apply(this,arguments)}function w(e,r){return T.apply(this,arguments)}function T(){return(T=Object(a.a)((function*(e,r){return(yield C(e,r)).tileInfo}))).apply(this,arguments)}function C(e,r){return x.apply(this,arguments)}function x(){return(x=Object(a.a)((function*(e,r){return(yield Object(o.default)(e,{responseType:"json",query:Object(t.a)({f:"json"},r)})).data}))).apply(this,arguments)}},648:function(e,r,n){"use strict";n.d(r,"a",(function(){return a}));var t=n(7),a={BingMapsLayer:function(){var e=Object(t.a)((function*(){return(yield n.e(99).then(n.bind(null,871))).default}));return function(){return e.apply(this,arguments)}}(),BuildingSceneLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(72)]).then(n.bind(null,859))).default}));return function(){return e.apply(this,arguments)}}(),CSVLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(80)]).then(n.bind(null,872))).default}));return function(){return e.apply(this,arguments)}}(),ElevationLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(3),n.e(12),n.e(24),n.e(46)]).then(n.bind(null,768))).default}));return function(){return e.apply(this,arguments)}}(),FeatureLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(82)]).then(n.bind(null,271))).default}));return function(){return e.apply(this,arguments)}}(),GroupLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(37),n.e(110)]).then(n.bind(null,671))).default}));return function(){return e.apply(this,arguments)}}(),GeoRSSLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(100)]).then(n.bind(null,846))).default}));return function(){return e.apply(this,arguments)}}(),ImageryLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(68)]).then(n.bind(null,860))).default}));return function(){return e.apply(this,arguments)}}(),ImageryTileLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(10),n.e(71)]).then(n.bind(null,858))).default}));return function(){return e.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(3),n.e(10),n.e(32),n.e(121)]).then(n.bind(null,865))).default}));return function(){return e.apply(this,arguments)}}(),KMLLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(94)]).then(n.bind(null,873))).default}));return function(){return e.apply(this,arguments)}}(),MapImageLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(87)]).then(n.bind(null,789))).default}));return function(){return e.apply(this,arguments)}}(),MapNotesLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(70)]).then(n.bind(null,751))).default}));return function(){return e.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(23),n.e(277)]).then(n.bind(null,847))).default}));return function(){return e.apply(this,arguments)}}(),PointCloudLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(2),n.e(3),n.e(32),n.e(117)]).then(n.bind(null,861))).default}));return function(){return e.apply(this,arguments)}}(),RouteLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(81)]).then(n.bind(null,848))).default}));return function(){return e.apply(this,arguments)}}(),SceneLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(73)]).then(n.bind(null,874))).default}));return function(){return e.apply(this,arguments)}}(),StreamLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(91)]).then(n.bind(null,875))).default}));return function(){return e.apply(this,arguments)}}(),TileLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(4),n.e(3),n.e(88)]).then(n.bind(null,746))).default}));return function(){return e.apply(this,arguments)}}(),UnknownLayer:function(){var e=Object(t.a)((function*(){return(yield n.e(147).then(n.bind(null,849))).default}));return function(){return e.apply(this,arguments)}}(),UnsupportedLayer:function(){var e=Object(t.a)((function*(){return(yield n.e(148).then(n.bind(null,850))).default}));return function(){return e.apply(this,arguments)}}(),VectorTileLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(3),n.e(24),n.e(42),n.e(119)]).then(n.bind(null,765))).default}));return function(){return e.apply(this,arguments)}}(),WebTileLayer:function(){var e=Object(t.a)((function*(){return(yield n.e(23).then(n.bind(null,761))).default}));return function(){return e.apply(this,arguments)}}(),WMSLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(1),n.e(2),n.e(96)]).then(n.bind(null,866))).default}));return function(){return e.apply(this,arguments)}}(),WMTSLayer:function(){var e=Object(t.a)((function*(){return(yield Promise.all([n.e(23),n.e(262)]).then(n.bind(null,863))).default}));return function(){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=201.effe407f.chunk.js.map