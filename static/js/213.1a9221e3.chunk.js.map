{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/symbolLayerUtils3D.js","../node_modules/@arcgis/core/symbols/support/symbolLayerUtils.js"],"names":["t","r","isPrimitive","n","width","o","depth","c","height","s","u","i","e","m","a","y","type","l","b","f","p","d","resource","href","h","then","primitive","size","responseType","data","w","get","Promise","resolve","fetch","disableTextures","put","referenceBoundingBox","length","reject"],"mappings":"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","file":"static/js/213.1a9221e3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{f as e}from\"../../chunks/vec3f64.js\";import{fromValues as r}from\"../../geometry/support/aaBoundingBox.js\";function t(r,{isPrimitive:t,width:n,depth:o,height:c}){const s=t?10:1;if(null==n&&null==c&&null==o)return[s*r[0],s*r[1],s*r[2]];const i=e(n,o,c);let u;for(let e=0;e<3;e++){const t=i[e];if(null!=t){u=t/r[e];break}}for(let e=0;e<3;e++)null==i[e]&&(i[e]=r[e]*u);return i}const n=r(-.5,-.5,-.5,.5,.5,.5),o=r(-.5,-.5,0,.5,.5,1),c=r(-.5,-.5,0,.5,.5,.5);function s(e){switch(e){case\"sphere\":case\"cube\":case\"diamond\":return n;case\"cylinder\":case\"cone\":case\"inverted-cone\":return o;case\"tetrahedron\":return c;default:return}}export{c as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_TETRAHEDRON,n as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CUBE,o as OBJECT_SYMBOL_LAYER_BOUNDING_BOX_UNIT_CYLINDER,s as objectSymbolLayerPrimitiveBoundingBox,t as objectSymbolLayerSizeWithResourceSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import r from\"../../core/Error.js\";import o from\"../../request.js\";import t from\"../../core/ItemCache.js\";import{size as n,create as i}from\"../../geometry/support/aaBoundingBox.js\";import{objectSymbolLayerSizeWithResourceSize as s,objectSymbolLayerPrimitiveBoundingBox as u}from\"./symbolLayerUtils3D.js\";let c=m();function m(){return new t(50)}function a(){c=m()}function y(e,o){if(\"icon\"===e.type)return l(e,o);if(\"object\"===e.type)return b(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function f(e,o){if(\"icon\"===e.type)return p(e,o);if(\"object\"===e.type)return d(e,o);throw new r(\"symbol3d:unsupported-symbol-layer\",\"computeLayerSize only works with symbol layers of type Icon and Object\")}async function l(o,t){if(o.resource.href)return h(o.resource.href).then((e=>[e.width,e.height]));if(o.resource.primitive)return e(t)?[t,t]:[256,256];throw new r(\"symbol3d:invalid-symbol-layer\",\"symbol layers of type Icon must have either an href or a primitive resource\")}function p(e,r){return l(e,r).then((r=>{if(null==e.size)return r;const o=r[0]/r[1];return o>1?[e.size,e.size/o]:[e.size*o,e.size]}))}function h(e){return o(e,{responseType:\"image\"}).then((e=>e.data))}function b(e,r){return w(e,r).then((e=>n(e)))}async function d(e,r){const o=await b(e,r);return s(o,e)}async function w(o,t){if(!o.isPrimitive){const e=o.resource.href,r=c.get(e);if(void 0!==r)return Promise.resolve(r);const t=await import(\"../../views/3d/layers/graphics/objectResourceUtils.js\"),n=await t.fetch(e,{disableTextures:!0});return c.put(e,n.referenceBoundingBox),n.referenceBoundingBox}let n=null;if(o.resource&&o.resource.primitive&&(n=i(u(o.resource.primitive)),e(t)))for(let e=0;e<n.length;e++)n[e]*=t;return n?Promise.resolve(n):Promise.reject(new r(\"symbol:invalid-resource\",\"The symbol does not have a valid resource\"))}export{a as clearBoundingBoxCache,l as computeIconLayerResourceSize,y as computeLayerResourceSize,f as computeLayerSize,b as computeObjectLayerResourceSize};\n"],"sourceRoot":""}