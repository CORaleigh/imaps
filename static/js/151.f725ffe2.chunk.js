(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[151,45],{310:function(e,r,t){"use strict";t.d(r,"a",(function(){return l}));var a=t(7),n=t(175),i=t(94),u=t(201);function l(e,r,t){return y.apply(this,arguments)}function y(){return(y=Object(a.a)((function*(e,r,t){var a=e&&e.getAtOrigin&&e.getAtOrigin("renderer",r.origin);if(a&&"unique-value"===a.type&&a.styleOrigin){var l=yield Object(u.c)(a.populateFromStyle());if(Object(i.u)(t),!1===l.ok){var y=l.error;r&&r.messages&&r.messages.push(new n.a("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(y.message),{error:y,context:r})),e.clear("renderer",r.origin)}}}))).apply(this,arguments)}},571:function(e,r,t){"use strict";t.r(r),t.d(r,"fromItem",(function(){return s})),t.d(r,"selectLayerClassPath",(function(){return p}));var a=t(7),n=t(91),i=t(89),u=t(93),l=t(106),y=t(314),c=t(657),o=t(648);function s(e){return!e.portalItem||e.portalItem instanceof y.default||(e=Object(n.a)(Object(n.a)({},e),{},{portalItem:new y.default(e.portalItem)})),function(e){return e.load().then(p).then(f)}(e.portalItem).then((r=>{var t=Object(n.a)({portalItem:e.portalItem},r.properties),a=r.constructor;return Promise.resolve(new a(t))}))}function p(e){switch(e.type){case"Map Service":return function(e){return function(e){return b(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}))}(e);case"Feature Service":return function(e){return m(e).then((e=>{if("object"==typeof e){var r={};return null!=e.id&&(r.layerId=e.id),{className:"FeatureLayer",properties:r}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return d.apply(this,arguments)}(e);case"Scene Service":return function(e){return m(e).then((r=>{if("object"==typeof r){var t,a={};if(null!=r.id?(a.layerId=r.id,t="".concat(e.url,"/layers/").concat(r.id)):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){var n={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(var i of Object.keys(n))if(-1!==e.typeKeywords.indexOf(i))return{className:n[i]}}return b(t).then((e=>{var r="SceneLayer",t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&t[e.layerType]&&(r=t[e.layerType]),{className:r,properties:a}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){return L.apply(this,arguments)}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new u.a("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function f(e){return(0,o.a[e.className])().then((r=>({constructor:r,properties:e.properties})))}function d(){return(d=Object(a.a)((function*(e){return yield e.load(),Object(c.b)(e,"Map Notes")?{className:"MapNotesLayer"}:Object(c.b)(e,"Route Layer")?{className:"RouteLayer"}:1===S(yield e.fetchData())?{className:"FeatureLayer"}:{className:"GroupLayer"}}))).apply(this,arguments)}function L(){return(L=Object(a.a)((function*(e){var r,t,a;yield e.load();var n=null!=(r=null==(t=e.typeKeywords)?void 0:t.map((e=>e.toLowerCase())))?r:[];if(n.indexOf("elevation 3d layer")>-1)return{className:"ElevationLayer"};if(n.indexOf("tiled imagery")>-1)return{className:"ImageryTileLayer"};var i=yield e.fetchData(),u=null==i?void 0:i.layerType;return"ArcGISTiledImageServiceLayer"===u?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===u?{className:"ImageryLayer"}:"map"===(null==(a=(yield b(e.url)).cacheType)?void 0:a.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}))).apply(this,arguments)}function m(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((r=>S(r)>0?h(r):b(e.url).then(h)))}function h(e){return 1===S(e)&&{id:Object(i.q)(v(e))}}function v(e){var r=e.layers;if(r&&r.length)return r[0].id;var t=e.tables;return t&&t.length?t[0].id:null}function S(e){var r,t,a,n;return(null!=(r=null==e||null==(t=e.layers)?void 0:t.length)?r:0)+(null!=(a=null==e||null==(n=e.tables)?void 0:n.length)?a:0)}function b(e){return Object(l.default)(e,{responseType:"json",query:{f:"json"}}).then((e=>e.data))}},648:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var a=t(7),n={BingMapsLayer:function(){var e=Object(a.a)((function*(){return(yield t.e(99).then(t.bind(null,871))).default}));return function(){return e.apply(this,arguments)}}(),BuildingSceneLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(72)]).then(t.bind(null,859))).default}));return function(){return e.apply(this,arguments)}}(),CSVLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(80)]).then(t.bind(null,872))).default}));return function(){return e.apply(this,arguments)}}(),ElevationLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(3),t.e(12),t.e(24),t.e(46)]).then(t.bind(null,768))).default}));return function(){return e.apply(this,arguments)}}(),FeatureLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(82)]).then(t.bind(null,271))).default}));return function(){return e.apply(this,arguments)}}(),GroupLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(37),t.e(110)]).then(t.bind(null,671))).default}));return function(){return e.apply(this,arguments)}}(),GeoRSSLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(100)]).then(t.bind(null,846))).default}));return function(){return e.apply(this,arguments)}}(),ImageryLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(68)]).then(t.bind(null,860))).default}));return function(){return e.apply(this,arguments)}}(),ImageryTileLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(10),t.e(71)]).then(t.bind(null,858))).default}));return function(){return e.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(3),t.e(10),t.e(32),t.e(121)]).then(t.bind(null,865))).default}));return function(){return e.apply(this,arguments)}}(),KMLLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(94)]).then(t.bind(null,873))).default}));return function(){return e.apply(this,arguments)}}(),MapImageLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(87)]).then(t.bind(null,789))).default}));return function(){return e.apply(this,arguments)}}(),MapNotesLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(70)]).then(t.bind(null,751))).default}));return function(){return e.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(23),t.e(277)]).then(t.bind(null,847))).default}));return function(){return e.apply(this,arguments)}}(),PointCloudLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(2),t.e(3),t.e(32),t.e(117)]).then(t.bind(null,861))).default}));return function(){return e.apply(this,arguments)}}(),RouteLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(81)]).then(t.bind(null,848))).default}));return function(){return e.apply(this,arguments)}}(),SceneLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(73)]).then(t.bind(null,874))).default}));return function(){return e.apply(this,arguments)}}(),StreamLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(91)]).then(t.bind(null,875))).default}));return function(){return e.apply(this,arguments)}}(),TileLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(88)]).then(t.bind(null,746))).default}));return function(){return e.apply(this,arguments)}}(),UnknownLayer:function(){var e=Object(a.a)((function*(){return(yield t.e(147).then(t.bind(null,849))).default}));return function(){return e.apply(this,arguments)}}(),UnsupportedLayer:function(){var e=Object(a.a)((function*(){return(yield t.e(148).then(t.bind(null,850))).default}));return function(){return e.apply(this,arguments)}}(),VectorTileLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(3),t.e(24),t.e(42),t.e(119)]).then(t.bind(null,765))).default}));return function(){return e.apply(this,arguments)}}(),WebTileLayer:function(){var e=Object(a.a)((function*(){return(yield t.e(23).then(t.bind(null,761))).default}));return function(){return e.apply(this,arguments)}}(),WMSLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(96)]).then(t.bind(null,866))).default}));return function(){return e.apply(this,arguments)}}(),WMTSLayer:function(){var e=Object(a.a)((function*(){return(yield Promise.all([t.e(23),t.e(262)]).then(t.bind(null,863))).default}));return function(){return e.apply(this,arguments)}}()}},657:function(e,r,t){"use strict";function a(e,r){if(!n(e,r)){var t=e.typeKeywords;t?t.push(r):e.typeKeywords=[r]}}function n(e,r){return!!e.typeKeywords&&e.typeKeywords.indexOf(r)>-1}function i(e,r){var t=e.typeKeywords;if(t){var a=t.indexOf(r);a>-1&&t.splice(a,1)}}t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return n})),t.d(r,"c",(function(){return i}))},800:function(e,r,t){"use strict";t.r(r),t.d(r,"populateOperationalLayers",(function(){return L}));var a=t(7),n=(t(80),t(94)),i=t(107),u=t(314),l=t(310),y=t(648),c=t(657);function o(e,r){return p(e,r,"notes","Map Notes")}function s(e,r){return p(e,r,"route","Route Layer")}function p(e,r,t,a){return f.apply(this,arguments)}function f(){return(f=Object(a.a)((function*(e,r,t,a){if(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)return!1;if(e.url)return!1;if(e.featureCollectionType&&e.featureCollectionType===t)return!0;if(e.itemId){var n=new u.default({id:e.itemId,portal:r});return yield n.load(),"Feature Collection"===n.type&&Object(c.b)(n,a)}return!1}))).apply(this,arguments)}var d=t(571);function L(e,r,t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)((function*(e,r,t){if(r){var a=[];for(var i of r){var u=T(i,t);"GroupLayer"===i.layerType?a.push(C(u,i,t)):a.push(u)}var l=yield Object(n.j)(a);for(var y of l)!y.value||t.filter&&!t.filter(y.value)||e.add(y.value)}}))).apply(this,arguments)}var h={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},v={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},S={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},b={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},I={ArcGISFeatureLayer:"FeatureLayer"},g={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function T(e,r){return M.apply(this,arguments)}function M(){return(M=Object(a.a)((function*(e,r){return O(yield G(e,r),e,r)}))).apply(this,arguments)}function O(e,r,t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)((function*(e,r,t){var a=new e;return a.read(r,t.context),"group"===a.type&&w(r)&&(yield B(a,r,t.context)),yield Object(l.a)(a,t.context),a}))).apply(this,arguments)}function G(e,r){return A.apply(this,arguments)}function A(){return(A=Object(a.a)((function*(e,r){var t=r.context,a=N(t),n=e.layerType||e.type;!n&&r&&r.defaultLayerType&&(n=r.defaultLayerType);var i=a[n],l=i?y.a[i]:y.a.UnknownLayer,c=t&&t.portal;if(P(e)){if(e.itemId){var p=new u.default({id:e.itemId,portal:c});yield p.load();var f=(yield Object(d.selectLayerClassPath)(p)).className||"UnknownLayer";l=y.a[f]}}else"ArcGISFeatureLayer"===n&&((yield o(e,c))?l=y.a.MapNotesLayer:(yield s(e,c))?l=y.a.RouteLayer:w(e)&&(l=y.a.GroupLayer));return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(l=y.a.WMTSLayer),l()}))).apply(this,arguments)}function w(e){if("ArcGISFeatureLayer"!==e.layerType||P(e))return!1;var r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function P(e){return"Feature Collection"===e.type}function N(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=S;break;case"ground":r=v;break;default:r=h}break;default:switch(e.layerContainerType){case"basemap":r=g;break;case"tables":r=I;break;default:r=b}}return r}function C(e,r,t){return W.apply(this,arguments)}function W(){return(W=Object(a.a)((function*(e,r,t){var a=new i.a,n=L(a,Array.isArray(r.layers)?r.layers:[],t),u=yield e;if(yield n,"group"===u.type)return u.layers.addMany(a),u}))).apply(this,arguments)}function B(e,r,t){return F.apply(this,arguments)}function F(){return(F=Object(a.a)((function*(e,r,t){var a=y.a.FeatureLayer,n=yield a(),i=r.featureCollection,u=i.showLegend,l=i.layers.map((e=>{var r=new n;return r.read(e,t),null!=u&&r.read({showLegend:u},t),r}));e.layers.addMany(l)}))).apply(this,arguments)}}}]);
//# sourceMappingURL=151.f725ffe2.chunk.js.map