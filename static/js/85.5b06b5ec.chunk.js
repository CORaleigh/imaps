/*! For license information please see 85.5b06b5ec.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[85],{1010:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),h=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),f=l(/iP(ad|od|hone)/i),p=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function m(e,t,n){e.addEventListener(t,n,!c&&g)}function b(e,t,n){e.removeEventListener(t,n,!c&&g)}function v(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&v(e,t):v(e,t))||r&&e===n)return e;if(e===n)break}while(e=y(e))}return null}var O,w=/\s+/g;function j(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(w," ")}}function A(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function S(e,t){var n="";if("string"===typeof e)n=e;else do{var r=A(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function C(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function E(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,a,l,u,d,h;if(e!==window&&e.parentNode&&e!==E()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,u=o.right,d=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!c))do{if(i&&i.getBoundingClientRect&&("none"!==A(i,"transform")||n&&"static"!==A(i,"position"))){var f=i.getBoundingClientRect();s-=f.top+parseInt(A(i,"border-top-width")),a-=f.left+parseInt(A(i,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=S(i||e),g=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(d/=m),u=(a/=g)+(h/=g))}return{top:s,left:a,bottom:l,right:u,width:h,height:d}}}function k(e,t,n){for(var r=L(e,!0),i=I(e)[t];r;){var o=I(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===E())break;r=L(r,!1)}return!1}function x(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==$e.ghost&&o[i]!==$e.dragged&&_(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function T(e,t){for(var n=e.lastElementChild;n&&(n===$e.ghost||"none"===A(n,"display")||t&&!v(n,t));)n=n.previousElementSibling;return n||null}function P(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===$e.clone||t&&!v(e,t)||n++;return n}function M(e){var t=0,n=0,r=E();if(e)do{var i=S(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function L(e,t){if(!e||!e.getBoundingClientRect)return E();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=A(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return E();if(r||t)return n;r=!0}}}while(n=n.parentNode);return E()}function D(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function N(e,t){return function(){if(!O){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),O=setTimeout((function(){O=void 0}),t)}}}function $(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var q="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==A(e,"display")&&e!==$e.ghost){t.push({target:e,rect:I(e)});var n=s({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=S(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=I(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=S(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&D(l,a)&&!D(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),D(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=r.options.animation),r.animate(n,u,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){A(e,"transition",""),A(e,"transform","");var i=S(this.el),o=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,A(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),A(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),A(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){A(e,"transition",""),A(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var F=[],B={initializeByDefault:!0},z={mount:function(e){for(var t in B)B.hasOwnProperty(t)&&!(t in e)&&(e[t]=B[t]);F.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),F.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";F.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](s({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](s({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in F.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var s=new r(e,t,e.options);s.sortable=e,s.options=e.options,e[i]=s,o(n,s.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var s=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof s&&(e.options[i]=s)}},getEventProperties:function(e,t){var n={};return F.forEach((function(r){"function"===typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return F.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function V(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,d=e.oldIndex,h=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[q]){var v,y=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||u?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=l||n,v.item=i||n,v.clone=o,v.oldIndex=d,v.newIndex=h,v.oldDraggableIndex=f,v.newDraggableIndex=p,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var O=s({},b,z.getEventProperties(r,t));for(var w in O)v[w]=O[w];n&&n.dispatchEvent(v),y[_]&&y[_].call(t,v)}}var W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=a(n,["evt"]);z.pluginEvent.bind($e)(e,t,s({dragEl:Y,parentEl:X,ghostEl:J,rootEl:K,nextEl:G,lastDownEl:Z,cloneEl:Q,cloneHidden:ee,dragStarted:fe,putSortable:se,activeSortable:$e.active,originalEvent:r,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie,hideGhostForTarget:Me,unhideGhostForTarget:Le,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:r})}},i))};function H(e){V(s({putSortable:se,cloneEl:Q,targetEl:Y,rootEl:K,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ie},e))}var Y,X,J,K,G,Z,Q,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,de,he,fe,pe,ge,me,be,ve=!1,ye=!1,_e=[],Oe=!1,we=!1,je=[],Ae=!1,Se=[],Ce="undefined"!==typeof document,Ee=f,Ie=u||c?"cssFloat":"float",ke=Ce&&!p&&!f&&"draggable"in document.createElement("div"),xe=function(){if(Ce){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Te=function(e,t){var n=A(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=x(e,0,t),o=x(e,1,t),s=i&&A(i),a=o&&A(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[Ie]||o&&"none"===n[Ie]&&l+c>r)?"vertical":"horizontal"},Pe=function(e){function t(e,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Me=function(){!xe&&J&&A(J,"display","none")},Le=function(){!xe&&J&&A(J,"display","")};Ce&&document.addEventListener("click",(function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1}),!0);var De=function(e){if(Y){var t=function(e,t){var n;return _e.some((function(r){if(!T(r)){var i=I(r),o=r[q].options.emptyInsertThreshold,s=e>=i.left-o&&e<=i.right+o,a=t>=i.top-o&&t<=i.bottom+o;return o&&s&&a?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[q]._onDragOver(n)}}},Ne=function(e){Y&&Y.parentNode[q]._isOutsideThisEl(e.target)};function $e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Te(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==$e.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var r in z.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Pe(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&ke,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),_e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,U())}function Re(e,t,n,r,i,o,s,a){var l,d,h=e[q],f=h.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||I(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),f&&(d=f.call(h,l,s)),d}function qe(e){e.draggable=!1}function Ue(){Ae=!1}function Fe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Be(e){return setTimeout(e,0)}function ze(e){return clearTimeout(e)}$e.prototype={constructor:$e,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(pe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(function(e){Se.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Se.push(r)}}(n),!Y&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!h||!a||"SELECT"!==a.tagName.toUpperCase())&&(!(a=_(a,r.draggable,n,!1))||!a.animated)&&Z!==a){if(te=P(a),re=P(a,r.draggable),"function"===typeof c){if(c.call(this,e,a,this))return H({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),W("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=_(l,r.trim(),n,!1))return H({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),W("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!_(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!Y&&n.parentNode===o){var l=I(n);if(K=o,X=(Y=n).parentNode,G=Y.nextSibling,Z=n,oe=s.group,$e.dragged=Y,ae={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY},de=ae.clientX-l.left,he=ae.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",r=function(){W("delayEnded",i,{evt:e}),$e.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!d&&i.nativeDraggable&&(Y.draggable=!0),i._triggerDragStart(e,t),H({sortable:i,name:"choose",originalEvent:e}),j(Y,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){C(Y,e.trim(),qe)})),m(a,"dragover",De),m(a,"mousemove",De),m(a,"touchmove",De),m(a,"mouseup",i._onDrop),m(a,"touchend",i._onDrop),m(a,"touchcancel",i._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),W("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))r();else{if($e.eventCanceled)return void this._onDrop();m(a,"mouseup",i._disableDelayedDrag),m(a,"touchend",i._disableDelayedDrag),m(a,"touchcancel",i._disableDelayedDrag),m(a,"mousemove",i._delayedDragTouchMoveHandler),m(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&m(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&qe(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(Y,"dragend",this),m(K,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(ve=!1,K&&Y){W("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",Ne);var n=this.options;!e&&j(Y,n.dragClass,!1),j(Y,n.ghostClass,!0),$e.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Me();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(Y.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){if(t[q]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(ae){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=J&&S(J,!0),s=J&&o&&o.a,a=J&&o&&o.d,l=Ee&&be&&M(be),c=(i.clientX-ae.clientX+r.x)/(s||1)+(l?l[0]-je[0]:0)/(s||1),u=(i.clientY-ae.clientY+r.y)/(a||1)+(l?l[1]-je[1]:0)/(a||1);if(!$e.active&&!ve){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(J){o?(o.e+=c-(ce||0),o.f+=u-(ue||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");A(J,"webkitTransform",d),A(J,"mozTransform",d),A(J,"msTransform",d),A(J,"transform",d),ce=c,ue=u,le=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:K,t=I(Y,!0,Ee,!0,e),n=this.options;if(Ee){for(be=e;"static"===A(be,"position")&&"none"===A(be,"transform")&&be!==document;)be=be.parentNode;be!==document.body&&be!==document.documentElement?(be===document&&(be=E()),t.top+=be.scrollTop,t.left+=be.scrollLeft):be=E(),je=M(be)}j(J=Y.cloneNode(!0),n.ghostClass,!1),j(J,n.fallbackClass,!0),j(J,n.dragClass,!0),A(J,"transition",""),A(J,"transform",""),A(J,"box-sizing","border-box"),A(J,"margin",0),A(J,"top",t.top),A(J,"left",t.left),A(J,"width",t.width),A(J,"height",t.height),A(J,"opacity","0.8"),A(J,"position",Ee?"absolute":"fixed"),A(J,"zIndex","100000"),A(J,"pointerEvents","none"),$e.ghost=J,e.appendChild(J),A(J,"transform-origin",de/parseInt(J.style.width)*100+"% "+he/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;W("dragStart",this,{evt:e}),$e.eventCanceled?this._onDrop():(W("setupClone",this),$e.eventCanceled||((Q=R(Y)).draggable=!1,Q.style["will-change"]="",this._hideClone(),j(Q,this.options.chosenClass,!1),$e.clone=Q),n.cloneId=Be((function(){W("clone",n),$e.eventCanceled||(n.options.removeCloneOnHide||K.insertBefore(Q,Y),n._hideClone(),H({sortable:n,name:"clone"}))})),!t&&j(Y,i.dragClass,!0),t?(ye=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,Y)),m(document,"drop",n),A(Y,"transform","translateZ(0)")),ve=!0,n._dragStartId=Be(n._dragStarted.bind(n,t,e)),m(document,"selectstart",n),fe=!0,h&&A(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,a=e.target,l=this.options,c=l.group,u=$e.active,d=oe===c,h=l.sort,f=se||u,p=this,g=!1;if(!Ae){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=_(a,l.draggable,o,!0),N("dragOver"),$e.eventCanceled)return g;if(Y.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return U(!1);if(ye=!1,u&&!l.disabled&&(d?h||(r=!K.contains(Y)):se===this||(this.lastPutMode=oe.checkPull(this,u,Y,e))&&c.checkPut(this,u,Y,e))){if(i="vertical"===this._getDirection(e,a),t=I(Y),N("dragOverValid"),$e.eventCanceled)return g;if(r)return X=K,R(),this._hideClone(),N("revert"),$e.eventCanceled||(G?K.insertBefore(Y,G):K.appendChild(Y)),U(!0);var m=T(o,l.draggable);if(!m||function(e,t,n){var r=I(T(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,i,this)&&!m.animated){if(m===Y)return U(!1);if(m&&o===e.target&&(a=m),a&&(n=I(a)),!1!==Re(K,o,Y,t,a,n,e,!!a))return R(),o.appendChild(Y),X=o,F(),U(!0)}else if(a.parentNode===o){n=I(a);var b,v,y,O=Y.parentNode!==o,w=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||i===a||r+o/2===s+l/2}(Y.animated&&Y.toRect||t,a.animated&&a.toRect||n,i),S=i?"top":"left",C=k(a,"top","top")||k(Y,"top","top"),E=C?C.scrollTop:void 0;if(pe!==a&&(v=n[S],Oe=!1,we=!w&&l.invertSwap||O),0!==(b=function(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!s)if(a&&me<c*i){if(!Oe&&(1===ge?l>u+c*o/2:l<d-c*o/2)&&(Oe=!0),Oe)h=!0;else if(1===ge?l<u+me:l>d-me)return-ge}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return P(Y)<P(e)?1:-1}(t);if((h=h||s)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,a,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,pe===a))){var x=P(Y);do{x-=b,y=X.children[x]}while(y&&("none"===A(y,"display")||y===J))}if(0===b||y===a)return U(!1);pe=a,ge=b;var M=a.nextElementSibling,L=!1,D=Re(K,o,Y,t,a,n,e,L=1===b);if(!1!==D)return 1!==D&&-1!==D||(L=1===D),Ae=!0,setTimeout(Ue,30),R(),L&&!M?o.appendChild(Y):a.parentNode.insertBefore(Y,L?M:a),C&&$(C,0,E-C.scrollTop),X=Y.parentNode,void 0===v||we||(me=Math.abs(v-I(a)[S])),F(),U(!0)}if(o.contains(Y))return U(!1)}return!1}function N(l,c){W(l,p,s({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:a,completed:U,onMove:function(n,r){return Re(K,o,Y,t,n,I(n),e,r)},changed:F},c))}function R(){N("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function U(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==f&&(j(Y,se?se.options.ghostClass:u.options.ghostClass,!1),j(Y,l.ghostClass,!0)),se!==p&&p!==$e.active?se=p:p===$e.active&&se&&(se=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){N("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===Y&&!Y.animated||a===o&&!a.animated)&&(pe=null),l.dragoverBubble||e.rootEl||a===document||(Y.parentNode[q]._isOutsideThisEl(e.target),!t&&De(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function F(){ne=P(Y),ie=P(Y,l.draggable),H({sortable:p,name:"change",toEl:o,newIndex:ne,newDraggableIndex:ie,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",De),b(document,"mousemove",De),b(document,"touchmove",De)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=P(Y),ie=P(Y,n.draggable),W("drop",this,{evt:e}),X=Y&&Y.parentNode,ne=P(Y),ie=P(Y,n.draggable),$e.eventCanceled||(ve=!1,we=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ze(this.cloneId),ze(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&A(document.body,"user-select",""),A(Y,"transform",""),e&&(fe&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(K===X||se&&"clone"!==se.lastPutMode)&&Q&&Q.parentNode&&Q.parentNode.removeChild(Q),Y&&(this.nativeDraggable&&b(Y,"dragend",this),qe(Y),Y.style["will-change"]="",fe&&!ve&&j(Y,se?se.options.ghostClass:this.options.ghostClass,!1),j(Y,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),K!==X?(ne>=0&&(H({rootEl:X,name:"add",toEl:X,fromEl:K,originalEvent:e}),H({sortable:this,name:"remove",toEl:X,originalEvent:e}),H({rootEl:X,name:"sort",toEl:X,fromEl:K,originalEvent:e}),H({sortable:this,name:"sort",toEl:X,originalEvent:e})),se&&se.save()):ne!==te&&ne>=0&&(H({sortable:this,name:"update",toEl:X,originalEvent:e}),H({sortable:this,name:"sort",toEl:X,originalEvent:e})),$e.active&&(null!=ne&&-1!==ne||(ne=te,ie=re),H({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){W("nulling",this),K=Y=X=J=G=Q=Z=ee=ae=le=fe=ne=ie=te=re=pe=ge=se=oe=$e.dragged=$e.ghost=$e.clone=$e.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)_(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Fe(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];_(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=z.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Pe(n)},destroy:function(){W("destroy",this);var e=this.el;e[q]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(W("hideClone",this),$e.eventCanceled)return;A(Q,"display","none"),this.options.removeCloneOnHide&&Q.parentNode&&Q.parentNode.removeChild(Q),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(W("showClone",this),$e.eventCanceled)return;Y.parentNode!=K||this.options.group.revertClone?G?K.insertBefore(Q,G):K.appendChild(Q):K.insertBefore(Q,Y),this.options.group.revertClone&&this.animate(Y,Q),A(Q,"display",""),ee=!1}}else this._hideClone()}},Ce&&m(document,"touchmove",(function(e){($e.active||ve)&&e.cancelable&&e.preventDefault()})),$e.utils={on:m,off:b,css:A,find:C,is:function(e,t){return!!_(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:N,closest:_,toggleClass:j,clone:R,index:P,nextTick:Be,cancelNextTick:ze,detectDirection:Te,getChild:x},$e.get=function(e){return e[q]},$e.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&($e.utils=s({},$e.utils,e.utils)),z.mount(e)}))},$e.create=function(e,t){return new $e(e,t)},$e.version="1.13.0";var Ve,We,He,Ye,Xe,Je,Ke=[],Ge=!1;function Ze(){Ke.forEach((function(e){clearInterval(e.pid)})),Ke=[]}function Qe(){clearInterval(Je)}var et=N((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=E(),u=!1;We!==n&&(We=n,Ze(),Ve=t.scroll,i=t.scrollFn,!0===Ve&&(Ve=L(n,!0)));var d=0,h=Ve;do{var f=h,p=I(f),g=p.top,m=p.bottom,b=p.left,v=p.right,y=p.width,_=p.height,O=void 0,w=void 0,j=f.scrollWidth,S=f.scrollHeight,C=A(f),k=f.scrollLeft,x=f.scrollTop;f===c?(O=y<j&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),w=_<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(O=y<j&&("auto"===C.overflowX||"scroll"===C.overflowX),w=_<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var T=O&&(Math.abs(v-o)<=a&&k+y<j)-(Math.abs(b-o)<=a&&!!k),P=w&&(Math.abs(m-s)<=a&&x+_<S)-(Math.abs(g-s)<=a&&!!x);if(!Ke[d])for(var M=0;M<=d;M++)Ke[M]||(Ke[M]={});Ke[d].vx==T&&Ke[d].vy==P&&Ke[d].el===f||(Ke[d].el=f,Ke[d].vx=T,Ke[d].vy=P,clearInterval(Ke[d].pid),0==T&&0==P||(u=!0,Ke[d].pid=setInterval(function(){r&&0===this.layer&&$e.active._onTouchMove(Xe);var t=Ke[this.layer].vy?Ke[this.layer].vy*l:0,n=Ke[this.layer].vx?Ke[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call($e.dragged.parentNode[q],n,t,e,Xe,Ke[this.layer].el)||$(Ke[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=L(h,!1)));Ge=u}}),30),tt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nt(){}function rt(){}nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=x(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:tt},o(nt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:tt},o(rt,{pluginName:"removeOnSpill"});$e.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),Qe(),Ze(),clearTimeout(O),O=void 0},nulling:function(){Xe=We=Ve=Ge=Je=He=Ye=null,Ke.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(Xe=e,t||u||c||h){et(e,this.options,o,t);var s=L(o,!0);!Ge||Je&&r===He&&i===Ye||(Je&&Qe(),Je=setInterval((function(){var o=L(document.elementFromPoint(r,i),!0);o!==s&&(s=o,Ze()),et(e,n.options,o,t)}),10),He=r,Ye=i)}else{if(!this.options.bubbleScroll||L(o,!0)===E())return void Ze();et(e,this.options,L(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),$e.mount(rt,nt),t.a=$e},102:function(e,t,n){"use strict";var r,i=n(78),o=n(278),s=n(121),a=n(85),l=n(82),c=n(181),u=n(215),d=n(81),h=n(214),f=n(80),p=n(79),g=n(349);class m{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new g.a(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const n=e[t];n.onInvalidated(),n.onCommitted()}}}const b=new c.a(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),v=()=>{};function y(e){return e?e instanceof I?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function _(e){if(e&&e.length)return e[0]}function O(e,t,n,r){const i=Math.min(e.length-n,t.length-r);let o=0;for(;o<i&&e[n+o]===t[r+o];)o++;return o}function w(e,t,n,r){t&&t.forEach(((t,i,o)=>{e.push(t),w(e,n.call(r,t,i,o),n,r)}))}const j=new Set,A=new Set,S=new Set,C=new Map;let E=0,I=r=class extends s.a.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new m,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:E++})}static isCollection(e){return null!=e&&e instanceof r}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof r?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return Object(h.c)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...y(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,n={removed:!1,callback:t};return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=v,n.removed=!0,e.splice(e.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const n=this.on(e,t);return{remove(){n.remove()}}}add(e,t){if(Object(h.c)(this._observable),this._emitBeforeChanges(1))return this;const n=this.getNextIndex(null!=t?t:null);return this._splice(n,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(Object(h.c)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const n=this.getNextIndex(t);return this._splice(n,0,...y(e)),this._emitAfterChanges(1),this}removeAll(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return Object(h.c)(this._observable),this._createNewInstance({items:this._items.map(a.a)})}concat(...e){Object(h.c)(this._observable);const t=e.map(y);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const n=Object(l.d)(this._splice(0,this.length)),r=n.length;for(let i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(2)}every(e,t){return Object(h.c)(this._observable),this._items.every(e,t)}filter(e,t){let n;return Object(h.c)(this._observable),n=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:n})}find(e,t){return Object(h.c)(this._observable),this._items.find(e,t)}findIndex(e,t){return Object(h.c)(this._observable),this._items.findIndex(e,t)}flatten(e,t){Object(h.c)(this._observable);const n=[];return w(n,this,e,t),new r(n)}forEach(e,t){return Object(h.c)(this._observable),this._items.forEach(e,t)}getItemAt(e){return Object(h.c)(this._observable),this._items[e]}getNextIndex(e){Object(h.c)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Object(h.c)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Object(h.c)(this._observable),this._items.indexOf(e,t)}join(e=","){return Object(h.c)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Object(h.c)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Object(h.c)(this._observable);const n=this._items.map(e,t);return new r({items:n})}reorder(e,t=this.length-1){Object(h.c)(this._observable);const n=this.indexOf(e);if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(4))return e;this._splice(n,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return Object(h.c)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){Object(h.c)(this._observable);const n=this._items;return 2===arguments.length?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){Object(h.c)(this._observable);const n=this._items;return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return Object(h.c)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Object(h.c)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=_(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(Object(h.c)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof r?e.toArray():e,n=this._items,i=[],o=t.length;for(let r=0;r<o;r++){const e=t[r],o=n.indexOf(e);if(o>-1){const e=1+O(t,n,r+1,o+1),s=this._splice(o,e);s&&s.length>0&&i.push.apply(i,s),r+=e-1}}return this._emitAfterChanges(2),i}reverse(){if(Object(h.c)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return Object(h.c)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Object(h.c)(this._observable),this._items.some(e,t)}sort(e){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=Object(l.d)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...n){Object(h.c)(this._observable);const r=(t?2:0)|(n.length?1:0);if(this._emitBeforeChanges(r))return[];const i=this._splice(e,t,...n)||[];return this._emitAfterChanges(r),i}toArray(){return Object(h.c)(this._observable),this._items.slice()}toJSON(){return Object(h.c)(this._observable),this.toArray()}toLocaleString(){return Object(h.c)(this._observable),this._items.toLocaleString()}toString(){return Object(h.c)(this._observable),this._items.toString()}unshift(...e){return Object(h.c)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...n){const r=this._items,i=this.constructor.prototype.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(u.b)((()=>this._dispatchChange()))),t){if(s=r.splice(e,t),this.hasEventListener("before-remove")){const t=b.acquire();t.target=this,t.cancellable=!0;for(let n=0,i=s.length;n<i;n++)o=s[n],t.reset(o),this.emit("before-remove",t),t.defaultPrevented&&(s.splice(n,1),r.splice(e,0,o),e+=1,n-=1,i-=1);b.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=b.acquire();e.target=this,e.cancellable=!1;const t=s.length;for(let n=0;n<t;n++)e.reset(s[n]),this.emit("after-remove",e);b.release(e)}}if(n&&n.length){if(i){const e=[];for(const t of n){const n=i.ensureType(t);null==n&&null!=t||e.push(n)}n=e}const t=this.hasEventListener("before-add"),o=this.hasEventListener("after-add"),s=e===this.length;if(t||o){const i=b.acquire();i.target=this,i.cancellable=!0;const a=b.acquire();a.target=this,a.cancellable=!1;for(const l of n)t?(i.reset(l),this.emit("before-add",i),i.defaultPrevented||(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),o&&(a.reset(l),this.emit("after-add",a)))):(s?r.push(l):r.splice(e++,0,l),this._set("length",r.length),a.reset(l),this.emit("after-add",a));b.release(a),b.release(i)}else{if(s)for(const e of n)r.push(e);else r.splice(e,0,...n);this._set("length",r.length)}}return(n&&n.length||s&&s.length)&&this._notifyChangeEvent(n,s),s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=b.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,b.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=b.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),b.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;j.clear(),A.clear(),S.clear();for(const{added:t,removed:o}of e){if(t)if(0===S.size&&0===A.size)for(const e of t)j.add(e);else for(const e of t)A.has(e)?(S.add(e),A.delete(e)):S.has(e)||j.add(e);if(o)if(0===S.size&&0===j.size)for(const e of o)A.add(e);else for(const e of o)j.has(e)?j.delete(e):(S.delete(e),A.add(e))}const n=o.a.acquire();j.forEach((e=>{n.push(e)}));const r=o.a.acquire();A.forEach((e=>{r.push(e)}));const i=this._items,s=t.items,a=o.a.acquire();if(S.forEach((e=>{s.indexOf(e)!==i.indexOf(e)&&a.push(e)})),t.listeners&&(n.length||r.length||a.length)){const e={target:this,added:n,removed:r,moved:a},i=t.listeners.length;for(let n=0;n<i;n++){const r=t.listeners[n];r.removed||r.callback.call(this,e)}}o.a.release(n),o.a.release(r),o.a.release(a)}j.clear(),A.clear(),S.clear()}};I.ofType=e=>{if(!e)return r;if(C.has(e))return C.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let n=class extends r{};n=Object(i.a)([Object(p.a)(`esri.core.Collection<${t}>`)],n);const o={Type:e,ensureType:"function"==typeof e?Object(d.m)(e):Object(d.k)(e)};return Object.defineProperty(n.prototype,"itemType",{value:o}),C.set(e,n),n},Object(i.a)([Object(f.b)()],I.prototype,"length",void 0),Object(i.a)([Object(f.b)()],I.prototype,"items",null),I=r=Object(i.a)([Object(p.a)("esri.core.Collection")],I);var k=I;t.a=k},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(81),i=n(222);const o=Object.prototype.toString;function s(e){const t="__accessorMetadata__"in e?Object(r.m)(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,e)}}function a(e,t,n,r){Object(i.b)(e,t).cast=r}function l(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===o.call(e[0])?s(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return function(t,n){Object(i.b)(t,e).cast=t[n]}}(e[0]):void 0}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(85);function i(e,t,n=!1){return l(e,t,n)}function o(e,t){if(null!=t)return t[e]||a(e.split("."),!1,t)}function s(e,t,n){const r=e.split("."),i=r.pop(),o=a(r,!0,n);o&&i&&(o[i]=t)}function a(e,t,n){let r=n;for(const i of e){if(null==r)return;if(!(i in r)){if(!t)return;r[i]={}}r=r[i]}return r}function l(e,t,n){return t?Object.keys(t).reduce((function(e,i){let o=e[i],s=t[i];return o===s?e:void 0===o?(e[i]=Object(r.a)(s),e):(Array.isArray(s)||Array.isArray(e)?(o=o?Array.isArray(o)?e[i]=o.concat():e[i]=[o]:e[i]=[],s&&(Array.isArray(s)||(s=[s]),n?s.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})):e[i]=s.concat())):s&&"object"==typeof s?e[i]=l(o,s,n):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=s),e)}),e||{}):e}},1184:function(e,t,n){"use strict";var r,i=n(78),o=n(102),s=n(285),a=n(176),l=n(111),c=n(76),u=n(77),d=n(108),h=n(141),f=n(107),p=n(80),g=n(79),m=n(153),b=n(121),v=(n(81),n(90)),y=n(151),_=n(165),O=n(184),w=n(322);let j=r=class extends O.a{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};Object(i.a)([Object(p.b)()],j.prototype,"displayValueEnabled",void 0),Object(i.a)([Object(p.b)()],j.prototype,"max",void 0),Object(i.a)([Object(p.b)()],j.prototype,"min",void 0),Object(i.a)([Object(p.b)()],j.prototype,"step",void 0),Object(i.a)([Object(p.b)()],j.prototype,"value",void 0),j=r=Object(i.a)([Object(g.a)("esri.support.Action.ActionSlider")],j);var A=j,S=n(352),C=n(393),E=n(122);const I="esri-layer-list-panel",k="esri-layer-list-panel__content",x="esri-layer-list-panel__content--legend",T="esri-layer-list-panel__content--string",P="esri-layer-list-panel__content--html-element",M="esri-layer-list-panel__content--widget";let L=class extends(Object(_.a)(m.a)){constructor(e,t){super(e,t),this._legend=null,this._handles=new l.a,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([Object(d.a)(this,"content",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return Object(E.a)("div",{class:I},this._renderContents())}_renderContent(e){const{_legend:t,listItem:n}=this;return e?"legend"===e?n&&n.view&&n.layer&&t?Object(E.a)("div",{class:this.classes(k,x),key:t},t.render()):null:"string"==typeof e?Object(E.a)("div",{class:this.classes(k,T),key:e,innerHTML:e}):Object(C.b)(e)?Object(E.a)("div",{class:this.classes(k,M),key:e},e.render()):e instanceof HTMLElement?Object(E.a)("div",{class:this.classes(k,P),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:n}=e;return t&&n?{view:n,layerInfos:[{layer:t,title:""}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([n.e(1),n.e(2),n.e(4),n.e(24),n.e(101)]).then(n.bind(null,1156)).then((({default:e})=>{const{_handles:t,listItem:n}=this,r=new e(this._getLegendOptions(n));this._legend=r,this.notifyChange("className"),this.notifyChange("title");const i=Object(d.a)(this,["listItem.view","listItem.layer"],(()=>this._updateLegend(r)));t.add(i,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:n,view:r}=t;e.view=r,e.layerInfos=[{layer:n,title:null}],this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:Object(C.b)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const n=this._getWidget(e);return n&&(t=n),!!n})),t}return this._getWidget(e)}};Object(i.a)([Object(p.b)()],L.prototype,"className",null),Object(i.a)([Object(p.b)()],L.prototype,"content",void 0),Object(i.a)([Object(p.b)()],L.prototype,"image",void 0),Object(i.a)([Object(p.b)()],L.prototype,"listItem",void 0),Object(i.a)([Object(p.b)()],L.prototype,"title",null),Object(i.a)([Object(p.b)()],L.prototype,"open",void 0),Object(i.a)([Object(p.b)()],L.prototype,"visible",void 0),L=Object(i.a)([Object(g.a)("esri.widgets.LayerList.ListItemPanel")],L);var D=L;const N="hide",$="hide-children";function R(e){if(e)return null!=e.listMode?e.listMode:void 0}function q(e){if(e)return e.listMode===$||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function U(e,t){e&&e.sort(((e,n)=>{const r=t.indexOf(e.uid),i=t.indexOf(n.uid);return r>i?-1:r<i?1:0}))}function F(e){const t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function B(e,t){var n;const r=null==(n=e.layer)?void 0:n.uid;return r&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===r}))}var z;const V=o.a.ofType({key:"type",defaultKeyValue:"button",base:O.a,typeMap:{button:w.a,toggle:S.a,slider:A}}),W=o.a.ofType(V),H="layer",Y="child-list-mode";let X=z=class extends(Object(_.a)(Object(y.b)(v.a))){constructor(e){super(e),this.actionsSections=new W,this.actionsOpen=!1,this.children=new(o.a.ofType(z)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([Object(d.a)(this,"layer",(e=>this._watchLayerProperties(e))),Object(d.a)(this,"view",(e=>this._updateChildren(e))),Object(d.a)(this,"panel",(e=>this._setListItemOnPanel(e))),Object(d.a)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new D(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!function(e,t){if(!e||isNaN(t))return!1;const n=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),r=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),i=!isNaN(n)&&n>0&&t>n,o=!isNaN(r)&&r>0&&t<r;return i||o}(this.layer,this.get("view.scale"))}get visibilityMode(){return function(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const n=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof n?n?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}clone(){return new z({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(Y),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(Object(d.d)(t,"listMode",(()=>this._addChildren(e))),Y)}));const t=e.filter((e=>"hide"!==R(e)));this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),H)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map((e=>R(e)!==N?new z({layer:e,parent:this,view:this.view}):null)).reverse()}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(H),this.handles.remove(Y),!e)return;if(this.handles.add(Object(d.d)(e,"listMode",(()=>this._watchLayerProperties(e))),H),"hide-children"===R(e))return void this.children.removeAll();const t=q(e);t&&this.handles.add(Object(d.a)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),H)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const n=await t.whenLayerView(e);if(n.layer!==this.layer)return;this._set("layerView",n)}catch{}}_isLayerUpdating(e){return e&&"loading"===e.loadStatus}};Object(i.a)([Object(p.b)({type:W})],X.prototype,"actionsSections",void 0),Object(i.a)([Object(p.b)()],X.prototype,"actionsOpen",void 0),Object(i.a)([Object(p.b)({type:o.a})],X.prototype,"children",void 0),Object(i.a)([Object(p.b)()],X.prototype,"childrenSortable",void 0),Object(i.a)([Object(h.a)("layer.loadError?")],X.prototype,"error",void 0),Object(i.a)([Object(p.b)()],X.prototype,"layer",void 0),Object(i.a)([Object(p.b)({readOnly:!0})],X.prototype,"layerView",void 0),Object(i.a)([Object(p.b)()],X.prototype,"open",void 0),Object(i.a)([Object(p.b)({type:D})],X.prototype,"panel",void 0),Object(i.a)([Object(f.a)("panel")],X.prototype,"castPanel",null),Object(i.a)([Object(p.b)()],X.prototype,"parent",void 0),Object(i.a)([Object(p.b)()],X.prototype,"sortable",void 0),Object(i.a)([Object(p.b)()],X.prototype,"title",null),Object(i.a)([Object(p.b)({readOnly:!0})],X.prototype,"updating",null),Object(i.a)([Object(p.b)({value:null})],X.prototype,"view",void 0),Object(i.a)([Object(h.a)("layer.visible")],X.prototype,"visible",void 0),Object(i.a)([Object(p.b)({readOnly:!0})],X.prototype,"visibleAtCurrentScale",null),Object(i.a)([Object(p.b)({readOnly:!0})],X.prototype,"visibilityMode",null),X=z=Object(i.a)([Object(g.a)("esri.widgets.LayerList.ListItem")],X);var J=X;const K="view",G="view-layers",Z="map-layers",Q="layer-views",ee="layer-list-mode",te=o.a.ofType(J);let ne=class extends b.a.EventedAccessor{constructor(e){super(e),this._handles=new l.a,this.listItemCreatedFunction=null,this.operationalItems=new te,this.view=null}initialize(){this._handles.add(Object(d.a)(this,["view","view.ready"],(()=>this._viewHandles())),K)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,n,r){var i,o;const s=null==e?void 0:e.layer;if(!s)return;const a=null==(i=this.view)||null==(o=i.map)?void 0:o.layers,l=t?F(t):a,c=n?F(n):a;if(!l||!c)return;const{operationalItems:u}=this,d=(null==t?void 0:t.children)||u,h=(null==n?void 0:n.children)||u,f=c.length-r;e.parent=n||null,d.includes(e)&&d.remove(e),l.includes(s)&&l.remove(s),h.includes(e)||h.add(e,f),c.includes(s)||c.add(s,f)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(Q),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),Q)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(Z),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),Z)}_watchItemProperties(e){this._handles.add([e.children.on("change",(()=>{this._modifyListItemChildren(e.children)}))],`children-change-${e.uid}`)}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if("function"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){const{view:t}=this,n=new J({layer:e,view:t});return this._watchItemProperties(n),n}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==R(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(ee),e&&e.forEach((e=>{t.add(Object(d.d)(e,"listMode",(()=>this._compileList())),ee)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){const{_handles:t,operationalItems:n}=this,r=[];n.forEach((n=>{n&&e&&e.find((e=>n.layer===e))?this._modifyListItem(n):(t.remove(`children-change-${n.uid}`),r.push(n))})),n.removeMany(r)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,n)=>{const r=e.indexOf(t.layer),i=e.indexOf(n.layer);return r>i?-1:r<i?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([Z,Q,G]),this._compileList(),t&&t.ready&&e.add([Object(d.a)(this,"view.map.allLayers",(e=>this._createMapLayerHandles(e))),Object(d.a)(this,"view.allLayerViews",(e=>this._createLayerViewHandles(e))),Object(d.a)(this,"listItemCreatedFunction",(()=>this._compileList()))],G)}};Object(i.a)([Object(p.b)()],ne.prototype,"listItemCreatedFunction",void 0),Object(i.a)([Object(p.b)({type:te})],ne.prototype,"operationalItems",void 0),Object(i.a)([Object(p.b)({readOnly:!0})],ne.prototype,"state",null),Object(i.a)([Object(p.b)()],ne.prototype,"view",void 0),ne=Object(i.a)([Object(g.a)("esri.widgets.LayerList.LayerListViewModel")],ne);var re=ne,ie=n(266),oe=n(169),se=n(313),ae=(n(105),n(1010));function le(e,t,n){e.splice(n,0,e.splice(t,1)[0])}const ce=o.a.ofType(J),ue="data-sort-filter",de="data-layer-uid",he="esri-layer-list esri-widget esri-widget--panel",fe="esri-layer-list--new-ui",pe="esri-layer-list__no-items",ge="esri-layer-list__list",me="esri-layer-list__list--root",be="esri-layer-list__list--exclusive",ve="esri-layer-list__list--inherited",ye="esri-layer-list__list--independent",_e="esri-layer-list__item",Oe="esri-layer-list__item--error",we="esri-layer-list__item--invisible",je="esri-layer-list__item--invisible-at-scale",Ae="esri-layer-list__item--updating",Se="esri-layer-list__item--has-children",Ce="esri-layer-list__item--selectable",Ee="esri-layer-list__item-container",Ie="esri-layer-list__item-actions-menu",ke="esri-layer-list__item-actions-menu-item",xe="esri-layer-list__item-actions-menu-item--active",Te="esri-layer-list__item-actions",Pe="esri-layer-list__item-actions-list",Me="esri-layer-list__item-action",Le="esri-layer-list__item-action-icon",De="esri-layer-list__item-action-image",Ne="esri-layer-list__item-action-title",$e="esri-layer-list__action-toggle",Re="esri-layer-list__action-toggle--on",qe="esri-layer-list__item-label",Ue="esri-layer-list__item-error-message",Fe="esri-layer-list__item-title",Be="esri-layer-list__item-toggle",ze="esri-layer-list__item-toggle-icon",Ve="esri-layer-list__item-toggle-icon",We="esri-layer-list__item-radio-icon",He="esri-layer-list__child-toggle",Ye="esri-layer-list__child-toggle--open",Xe="esri-layer-list__child-toggle-icon--opened",Je="esri-layer-list__child-toggle-icon--closed",Ke="esri-layer-list__child-toggle-icon--closed-rtl",Ge="esri-layer-list--chosen",Ze="esri-disabled",Qe="esri-disabled-element",et="esri-hidden",tt="esri-rotating",nt="esri-icon-handle-horizontal",rt="esri-icon-visible",it="esri-icon-non-visible",ot="esri-icon-radio-checked",st="esri-icon-radio-unchecked",at="esri-icon-notice-triangle",lt="esri-icon-down-arrow",ct="esri-icon-right-triangle-arrow",ut="esri-icon-left-triangle-arrow",dt="esri-icon-loading-indicator",ht="esri-icon-default-action",ft="esri-icon-layers",pt="actions",gt="action-section",mt="items",bt={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function vt(e){const{actionsOpen:t,children:n}=e;t&&(e.actionsOpen=!1),n.forEach((e=>vt(e)))}const yt="root",_t=u.a.getLogger("esri.widgets.LayerList"),Ot={statusIndicators:!0};let wt=class extends m.a{constructor(e,t){super(e,t),this._handles=new l.a,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=Object(c.a)("esri-layerlist-new-ui"),this.visibleItems=null,this.iconClass=ft,this.label=void 0,this.listItemCreatedFunction=null,this.localeStrings=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new ce,this.view=null,this.viewModel=new re,this.visibleElements={...Ot},this._onSortableSort=({to:e,from:t,item:n,newIndex:r})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:n,newIndex:r}))},this._sortableCanPut=(e,t,n)=>{var r,i;const o=e.el.dataset.group,s=t.el.dataset.group,a=e.el["data-item"],l=n["data-item"],c=null==l||null==(r=l.layer)?void 0:r.type,u=null==a||null==(i=a.layer)?void 0:i.type;return o&&s&&c&&!("group"===u&&"group"===c)},this._sortableCanPull=(e,t,n)=>{var r;const i=e.el.dataset.group,o=t.el.dataset.group,s=n["data-item"],a=null==s||null==(r=s.layer)?void 0:r.type;return i&&o&&!!a},this._onSortableEnd=({oldIndex:e,from:t,to:n,item:r})=>{t!==n&&t.insertBefore(r,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(Object(d.b)(this,"operationalItems","change",(()=>this._itemsChanged(e))),Object(d.a)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){Object(s.d)(_t,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements={...this.visibleElements,statusIndicators:e}}castVisibleElements(e){return{...Ot,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:n}=this,r=null==(e=this.viewModel)?void 0:e.state,i={[fe]:n,[et]:"loading"===r,[Ze]:"disabled"===r};return Object(E.a)("div",{class:this.classes(he,i)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return Object(E.a)("div",{class:pe},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:n}=this;return Object(E.a)("ul",{"aria-label":n.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":yt,bind:this,class:this.classes(ge,me,ye)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messages:n}=this,r={[xe]:e.actionsOpen},i=e.actionsOpen?n.closeActions:n.openActions;return Object(E.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(ke,r),tabindex:"0",role:"button","aria-controls":t,"aria-label":i,title:i},Object(E.a)("span",{"aria-hidden":"true",class:nt}))}renderActionsMenu(e,t,n,r){const{panel:i}=e,o=i&&i.visible?this.renderPanelButton(i):null,s=1===n&&this._getSingleActionButton(t),a=s?this.renderAction({item:e,action:s,singleAction:!0}):null,l=!s&&n?this.renderActionsMenuIcon(e,r):null;return l||o||s?Object(E.a)("div",{key:"actions-menu",class:Ie},o,a,l):null}renderChildList(e,t){var n;const{selectionEnabled:r}=this,{visibilityMode:i,children:o}=e,s=!!e.error,a=!!o.length&&!s,l=!a&&r&&"group"===(null==(n=e.layer)?void 0:n.type),{exclusive:c,inherited:u}=bt,d={[be]:i===c,[ve]:i===u,[ye]:i!==u&&i!==c};return a||l?Object(E.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(ge,d),"aria-expanded":e.open?"true":"false",role:r?"listbox":i===c?"radiogroup":"group",hidden:!e.open&&!l||null},null==o?void 0:o.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:n}=this,{children:r}=e,i=!!e.error,o=!!r.length&&!i,s={[Ye]:e.open},a=e.open?n.collapse:n.expand;return o?Object(E.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(He,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(E.a)("span",{"aria-hidden":"true",class:this.classes(Je,ct)}),Object(E.a)("span",{"aria-hidden":"true",class:this.classes(Xe,lt)}),Object(E.a)("span",{"aria-hidden":"true",class:this.classes(Ke,ut)})):null}renderError(e){return e.error?Object(E.a)("div",{key:"esri-layer-list__error",class:Ue,role:"alert"},Object(E.a)("span",null,this.messages.layerError)):null}renderItemContent(e,t,n){const{id:r}=this,i=`${r}_${e.uid}`,o=`${i}_actions`,s=`${i}__list`,{panel:a}=e,l=this._filterActions(e.actionsSections),c=this._countActions(l);return[Object(E.a)("div",{key:"list-item-container",class:Ee},this.renderChildrenToggle(e,s),this.renderLabel(e,t,n),this.renderActionsMenu(e,l,c,o)),this.renderError(e),c?this.renderActionsSections(e,l,o):null,a&&a.open?a.render():null,this.renderChildList(e,s)]}renderItem(e,t){const{_newUI:n,id:r,selectionEnabled:i,selectedItems:o,visibleElements:s}=this,{children:a}=e,l=`${r}_${e.uid}__title`,c=!!e.error,u=!!a.length&&!c,d={[Se]:u,[Oe]:!!c,[Ae]:e.updating&&!t&&s.statusIndicators,[we]:n&&!e.visible,[je]:!e.visibleAtCurrentScale,[Ce]:i};if(i){var h;const n={[de]:null==(h=e.layer)?void 0:h.uid,[ue]:(!e.sortable).toString()};return Object(E.a)("li",{key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(_e,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:yt,tabIndex:0,"aria-selected":B(e,o)?"true":"false",role:"option",...n},this.renderItemContent(e,t,l))}return Object(E.a)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(_e,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}renderItemTitle(e,t){const{messages:n}=this,r=e.title||n.untitledLayer,i=e.visibleAtCurrentScale?r:`${r} (${n.layerInvisibleAtScale})`;return Object(E.a)("span",{key:"layer-title-container",id:t,title:i,"aria-label":i,class:Fe},r)}renderItemToggleIcon(e,t){const{_newUI:n}=this,{exclusive:r}=bt,i=t&&t.visibilityMode,o={[ze]:n,[Ve]:n&&i!==r,[We]:n&&i===r,[ot]:i===r&&e.visible,[st]:i===r&&!e.visible,[rt]:i!==r&&e.visible,[it]:i!==r&&!e.visible};return Object(E.a)("span",{key:"item-toggle-icon",class:this.classes(o),"aria-hidden":"true"})}renderItemToggle(e,t,n){const{selectionEnabled:r}=this,{exclusive:i}=bt,o=t&&t.visibilityMode,s=o===i?"radio":"switch";return Object(E.a)("span",r?{key:"item-toggle-selection-enabled",class:Be,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":o,tabIndex:0,"aria-checked":e.visible?"true":"false",role:s,"aria-labelledby":n}:{key:"item-toggle",class:Be},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?Object(E.a)("span",{key:"notice-triangle","aria-hidden":"true",class:at}):null}renderLabel(e,t,n){const{selectionEnabled:r,_newUI:i}=this,{inherited:o,exclusive:s}=bt,a=null==t?void 0:t.visibilityMode,l=a===s?"radio":"switch",c=[this.renderItemToggle(e,t,n),this.renderItemTitle(e,n)];i&&c.reverse();const u=Object(E.a)("div",r?{key:`item-label-no-selection-${e.uid}`,class:qe}:{key:`item-label-with-selection-${e.uid}`,class:qe,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:l,"aria-labelledby":n},c);return a===o||e.error?Object(E.a)("div",{key:`item-label-container-${e.uid}`,class:qe},this.renderItemError(e),this.renderItemTitle(e,n)):u}renderPanelButton(e){const{className:t,open:n,title:r,image:i}=e,o=i||t?t:ht,s=this._getIconImageStyles(e),a={[xe]:n},l={[De]:!!s["background-image"]};return o&&(l[o]=!!o),Object(E.a)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(ke,a),role:"button",tabindex:"0",title:r,"aria-label":r},Object(E.a)("span",{class:this.classes(l),styles:s}))}renderActionsSections(e,t,n){const r=t.toArray().map(((t,n)=>Object(E.a)("ul",{key:`${e}-action-section-${n}`,class:Pe},this.renderActionSection(e,t))));return Object(E.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:n,class:Te,hidden:!e.actionsOpen||null},r)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:n}=e,r=this._getIconImageStyles(e),i="button"!==e.type||e.image||n?n:ht,o={[De]:!t&&!!r["background-image"],[dt]:t,[tt]:t};return i&&!t&&(o[i]=!0),Object(E.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(Le,o),styles:r})}renderActionTitle(e,t){return t?null:Object(E.a)("span",{key:"action-title",class:Ne},e)}renderAction(e){const{item:t,action:n,singleAction:r}=e,{active:i,disabled:o,title:s}=n,a={[ke]:r&&"button"===n.type,[Me]:i||!r&&"toggle"!==n.type,[$e]:!i&&"toggle"===n.type,[Re]:!i&&"toggle"===n.type&&n.value,[Qe]:o},l=[this.renderActionIcon(n),this.renderActionTitle(s,r)];return r?Object(E.a)("div",{bind:this,"data-item":t,"data-action":n,role:"button",key:`single-action-${n.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",title:s,"aria-label":s},l):Object(E.a)("li",{bind:this,"data-item":t,"data-action":n,key:`action-${n.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",role:"button",title:s,"aria-label":s},l)}_sortNodeRemoved(e){const{_sortableMap:t}=this,n=e.dataset.group,r=t.get(n);r&&r.destroy(),t.delete(n)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:n,newIndex:r}){const i=n["data-item"],o=e["data-item"],s=t["data-item"];this.viewModel.moveListItem(i,s,o,r)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],n=e.toArray();var r,i;t?function(e,t){const n=null==e?void 0:e.layer;if(!n)return;const r=q(n);r&&U(n.get(r),t)}(t,n):U(null==(r=this.view)||null==(i=r.map)?void 0:i.layers,n)}_toggleSorting(e,t){const{_sortableMap:n,selectionEnabled:r}=this,i=n.get(t),o=e["data-item"],s=(t===yt||o.childrenSortable&&function(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const n=t.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof n||n}(o))&&r;if(i)i.option("disabled",!s);else if(s){const r=ae.a.create(e,{dataIdAttr:de,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${ue}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!s,chosenClass:Ge});n.set(t,r)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:n}=this;e&&n&&(null==(t=e["data-item"].layer)?void 0:t.uid)===n&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const n=gt+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),n),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const n=pt+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(d.a)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],n):this._handles.add([Object(d.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],n):this._handles.add([Object(d.a)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],n)}_renderOnItemChanges(e){const t=e.uid,n=mt+t;this._handles.add([Object(d.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],n),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=Object(a.a)(e);if(-1===["ArrowDown","ArrowUp"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const n=e.currentTarget,r=n["data-item"],{_sortableMap:i,selectedItems:o}=this,s=n.dataset.group,l=i.get(s);if(!l)return;const c=B(r,o),u=l.toArray(),d=e.target,h=u.indexOf(d.dataset.layerUid);if(-1!==h){if("ArrowDown"===t){const e=h+1;if(e>=u.length)return;var f,p;c?(le(u,h,e),l.sort(u),this._sortLayers(l),this._focusSortUid=null==(f=r.layer)?void 0:f.uid):(this._focusSortUid=null==(p=r.layer)?void 0:p.uid,this.scheduleRender())}if("ArrowUp"===t){const e=h-1;if(e<=-1)return;var g,m;c?(le(u,h,e),l.sort(u),this._sortLayers(l),this._focusSortUid=null==(g=r.layer)?void 0:g.uid):(this._focusSortUid=null==(m=r.layer)?void 0:m.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:n}=t,r=!n;r&&this.operationalItems.forEach((e=>vt(e))),t.actionsOpen=r,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,n=t["data-action"],r=t["data-item"];"toggle"===n.type&&(n.value=!n.value),this.triggerAction(n,r),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,n=t.getAttribute("data-parent-visibility"),r=t["data-item"];n===bt.exclusive&&r.visible||(r.visible=!r.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:n}=this,r=e.currentTarget["data-item"],i=B(r,n),{length:o}=n;if(!t)return!o||i&&1===o?void(i?null==n.remove||n.remove(i):n.add(r)):(n.removeAll(),void n.add(r));i?null==n.remove||n.remove(i):n.add(r)}};Object(i.a)([Object(p.b)()],wt.prototype,"visibleItems",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"iconClass",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"errorsVisible",void 0),Object(i.a)([Object(p.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],wt.prototype,"label",void 0),Object(i.a)([Object(h.a)("viewModel.listItemCreatedFunction")],wt.prototype,"listItemCreatedFunction",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"localeStrings",void 0),Object(i.a)([Object(p.b)(),Object(oe.a)("esri/widgets/LayerList/t9n/LayerList")],wt.prototype,"messages",void 0),Object(i.a)([Object(p.b)(),Object(oe.a)("esri/t9n/common")],wt.prototype,"messagesCommon",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"multipleSelectionEnabled",void 0),Object(i.a)([Object(h.a)("viewModel.operationalItems")],wt.prototype,"operationalItems",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"selectionEnabled",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"selectedItems",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"statusIndicatorsVisible",null),Object(i.a)([Object(h.a)("viewModel.view")],wt.prototype,"view",void 0),Object(i.a)([Object(se.a)("trigger-action"),Object(p.b)({type:re})],wt.prototype,"viewModel",void 0),Object(i.a)([Object(p.b)()],wt.prototype,"visibleElements",void 0),Object(i.a)([Object(f.a)("visibleElements")],wt.prototype,"castVisibleElements",null),Object(i.a)([Object(h.a)("viewModel.triggerAction")],wt.prototype,"triggerAction",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_toggleActionsOpen",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_triggerPanel",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_triggerAction",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_toggleVisibility",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_toggleChildrenClick",null),Object(i.a)([Object(ie.a)()],wt.prototype,"_toggleSelection",null),wt=Object(i.a)([Object(g.a)("esri.widgets.LayerList")],wt);var jt=wt;t.a=jt},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r,i,o,s=n(140);let a,l;const c=null!=(r=null==(i=s.a.esriConfig)?void 0:i.locale)?r:null==(o=s.a.dojoConfig)?void 0:o.locale;function u(){var e,t;return null!=(e=null!=c?c:null==(t=s.a.navigator)?void 0:t.language)?e:"en"}function d(){return void 0===l&&(l=u()),l}const h=[];function f(e){return h.push(e),{remove(){h.splice(h.indexOf(e),1)}}}const p=[];function g(e){return p.push(e),{remove(){h.splice(p.indexOf(e),1)}}}function m(){var e;const t=null!=(e=a)?e:u();l!==t&&(l=t,[...p].forEach((e=>{e.call(null,t)})),[...h].forEach((e=>{e.call(null,t)})))}null==s.a.addEventListener||s.a.addEventListener("languagechange",m)},121:function(e,t,n){"use strict";var r=n(78),i=n(90),o=n(179),s=n(79);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear()}emit(e,t){const n=this._listenersMap&&this._listenersMap.get(e);if(!n)return!1;const r=this.target||this;return[...n].forEach((e=>{e.call(r,t)})),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return Object(o.b)(n)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}}}once(e,t){const n=this.on(e,(e=>{n.remove(),t.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=Object(r.a)([Object(s.a)("esri.core.Evented")],n),n};let n=class extends i.a{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=Object(r.a)([Object(s.a)("esri.core.Evented")],n),e.EventedAccessor=n}(a||(a={}));var l=a;t.a=l},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r=n(76),i=n(93);n(189);const o="4.20",s={request(e,t){var r;const i=null==(r=e.options)?void 0:r.responseType;return Promise.resolve().then(n.bind(null,97)).then((({default:n})=>{const r=e.options||{};return r.responseType="native"===i||"native-request-init"===i?"native-request-init":"array-buffer",r.signal=null==t?void 0:t.signal,n(e.url,r)})).then((e=>{const t={data:e.data,ssl:e.ssl};return"native-request-init"===e.requestOptions.responseType?(delete t.data.signal,t):{result:t,transferList:[t.data]}}))}};let a;function l(e){a=e}function c(e){const t=a&&a.findCredential(e);return t&&t.token?Object(i.d)(e,"token",t.token):e}Object(r.a)("host-webworker")||(Object(r.a)("edge")||Object(r.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(142),i=(n(97),n(84)),o=n(77),s=n(93);const a=o.a.getLogger("esri.assets");function l(e){if(!r.a.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.a("assets:path-not-set","config.assetsPath is not set");return Object(s.z)(r.a.assetsPath,e)}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u}));var r=n(179),i=n(85),o=n(82);function s(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function a(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function l(e,t,n){return c(e,t,n?{policy:n,path:""}:null)}function c(e,t,n){return t?Object.keys(t).reduce((function(e,r){let s=null,a="merge";if(n&&(s=n.path?`${n.path}.${r}`:r,a=n.policy(s)),"replace"===a)return e[r]=t[r],e;if(void 0===e[r])return e[r]=Object(i.a)(t[r]),e;let l=e[r],u=t[r];if(l===u)return e;if(Array.isArray(u)||Array.isArray(e))l=l?Array.isArray(l)?e[r]=l.concat():e[r]=[l]:e[r]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{-1===l.indexOf(e)&&l.push(e)})));else if(u&&"object"==typeof u)if(n){const t=n.path;n.path=Object(o.d)(s),e[r]=c(l,u,n),n.path=t}else e[r]=c(l,u,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=u);return e}),e||{}):e}function u(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:d(e):e}function d(e){return Array.isArray(e)?e:e.split(".")}function h(e){return e.indexOf(",")>-1?e.split(",").map((e=>e.trim())):[e.trim()]}function f(e,t,n,i){const o=function(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...h(n));return t}return h(e)}(t);if(1!==o.length){const t=o.map((t=>i(e,t,n)));return Object(r.b)(t)}return i(e,o[0],n)}function p(e){let t=!1;return()=>{t||(t=!0,e())}}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n(116);const i=/\{([^\}]+)\}/g;function o(e){return null==e?"":e}function s(e,t){return e.replace(i,"object"==typeof t?(e,n)=>o(Object(r.b)(n,t)):(e,n)=>o(t(n)))}function a(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function l(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},140:function(e,t,n){"use strict";(function(e){const n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=n}).call(this,n(213))},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(80);function i(e,t){const n=t?{...t,source:e}:e;return Object(r.b)({aliasOf:n})}},142:function(e,t,n){"use strict";var r=n(140),i=(n(76),n(116));const o={apiKey:void 0,applicationUrl:r.a.location&&r.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(r.a.esriConfig&&(Object(i.a)(o,r.a.esriConfig,!0),delete o.has),!o.assetsPath){const e="4.20.2";o.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}o.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(o,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),o.request.corsEnabledServers=[],o.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=o},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(78),i=n(90),o=n(111),s=n(80),a=n(79),l=n(288);const c=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new o.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}};return Object(r.a)([Object(s.b)({readOnly:!0})],t.prototype,"handles",null),Object(r.a)([Object(s.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(r.a)([Object(a.a)("esri.core.HandleOwner")],t),t};let u=class extends(c(i.a)){};u=Object(r.a)([Object(a.a)("esri.core.HandleOwner")],u)},161:function(e,t,n){"use strict";n(209),n(194),n(248),n(119);var r=n(167),i=n(97),o=n(84),s=n(140),a=n(82);async function l(e){if(Object(a.k)(u.fetchBundleAsset))return u.fetchBundleAsset(e);const t=await Object(i.default)(e,{responseType:"text"});return JSON.parse(t.data)}class c{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r;r="string"==typeof n?e=>new URL(e,new URL(n,s.a.location)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,n,i){const s=t.exec(n);if(!s)throw new o.a("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const a=s[1]?`${s[1]}/`:"",c=s[2],u=Object(r.b)(i),d=`${a}${c}.json`,h=u?`${a}${c}_${u}.json`:d;let f;try{f=await l(e(h))}catch(p){if(h===d)throw new o.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p});try{f=await l(e(d))}catch(p){throw new o.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p})}}return f}(this.getAssetUrl,this.matcher,e,t)}}const u={};var d,h=n(127);Object(r.c)((d={pattern:"esri/",location:h.a},new c(d)))},164:function(e,t,n){"use strict";var r=n(379);class i extends r.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof i))return new i(e,t,n)}}i.prototype.type="warning",t.a=i},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(78),i=n(79);let o=0;const s=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return t=Object(r.a)([Object(i.a)("esri.core.Identifiable")],t),t};let a=class extends(s(class{})){};a=Object(r.a)([Object(i.a)("esri.core.Identifiable")],a)},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(84),i=n(86),o=n(119);const s=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,a={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function l(e){var t;return null!=(t=a[e])&&t}const c=[],u=new Map;function d(e){for(const t of u.keys())g(e.pattern,t)&&u.delete(t)}function h(e){return c.includes(e)||(d(e),c.unshift(e)),{remove(){const t=c.indexOf(e);t>-1&&(c.splice(t,1),d(e))}}}async function f(e){const t=Object(o.b)();u.has(e)||u.set(e,async function(e,t){const n=[];for(const r of c)if(g(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(s){n.push(s)}if(n.length)throw new r.a("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n});throw new r.a("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const n=u.get(e);return await m.add(n),n}function p(e){if(!s.test(e))return null;const[,t,n]=s.exec(e),r=t+(n?"-"+n.toUpperCase():"");return l(r)?r:l(t)?t:null}function g(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Object(o.a)((()=>{u.clear()}));const m=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Object(i.f)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},170:function(e,t,n){"use strict";var r,i=n(171);!function(e){const t=(e,t,n,r)=>{let i=t,o=t;const s=n>>>1,a=e[i-1];for(;o<=s;){o=i<<1,o<n&&r(e[o-1],e[o])<0&&++o;const t=e[o-1];if(r(t,a)<=0)break;e[i-1]=t,i=o}e[i-1]=a},n=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o);const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o)}},e.iterableSort=function*(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o),yield;const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o),yield}}}(r||(r={}));var o=r;function s(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}t.a=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new i.a,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>s(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,s(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=Object(i.e)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){const t=Object(i.j)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=Object(i.k)(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){e>=this.length||t>=this.length||e===t||([this.data[e],this.data[t]]=[this.data[t],this.data[e]])}sort(e){o.sort(this.data,0,this.length,e)}iterableSort(e){return o.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(e,t){const n=this.length,r=this.data;for(let i=0;i<n;++i)e.call(t,r[i],i,r)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}}},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return o}));var r=n(82),i=n(422);function o(e,t){return t?e.filter(((e,n,r)=>r.findIndex(t.bind(null,e))===n)):e.filter(((e,t,n)=>n.indexOf(e)===t))}function s(e,t,n){if(Object(r.j)(e)&&Object(r.j)(t))return!0;if(Object(r.j)(e)||Object(r.j)(t)||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t,n){return e&&t?n?e.filter((function(e){return t.findIndex((function(t){return n(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}function l(e){return e&&"number"==typeof e.length}const c=!!Array.prototype.fill;function u(e,t){if(c)return new Array(e).fill(t);const n=new Array(e);for(let r=0;r<e;r++)n[r]=t;return n}function d(e,t){void 0===t&&(t=e,e=0);const n=new Array(t-e);for(let r=e;r<t;r++)n[r-e]=r;return n}function h(e){return e.reduce(((e,t)=>e.concat(t||[])),[])}class f{constructor(){this.last=0}}const p=new f;function g(e,t,n,r){r=r||p;const i=Math.max(0,r.last-10);for(let s=i;s<n;++s)if(e[s]===t)return r.last=s,s;const o=Math.min(i,n);for(let s=0;s<o;++s)if(e[s]===t)return r.last=s,s;return-1}function m(e,t,n,r){const i=null==n?e.length:n,o=g(e,t,i,r);if(-1!==o)return e[o]=e[i-1],null==n&&e.pop(),t}const b=new Set;function v(e,t,n=e.length,r=t.length,i,o){if(0===r||0===n)return n;b.clear();for(let a=0;a<r;++a)b.add(t[a]);i=i||p;const s=Math.max(0,i.last-10);for(let a=s;a<n;++a)if(b.has(e[a])&&(o&&o.push(e[a]),b.delete(e[a]),e[a]=e[n-1],--n,--a,0===b.size||0===n))return b.clear(),n;for(let a=0;a<s;++a)if(b.has(e[a])&&(o&&o.push(e[a]),b.delete(e[a]),e[a]=e[n-1],--n,--a,0===b.size||0===n))return b.clear(),n;return b.clear(),n}new i.a;function y(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}},176:function(e,t,n){"use strict";function r(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function i(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){const r=t.slice();for(const t of r)e.addEventListener(t,n);return{remove(){for(const t of r)e.removeEventListener(t,n)}}}return e.addEventListener(t,n),{remove(){e.removeEventListener(t,n)}}}function o(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const o=i(e,t,(t=>{o.remove(),n.call(e,t)}));return{remove(){o.remove()}}}function s(e,t,n){let r=!1;const o=i(e,t,(t=>{r||n.call(e,t)}));return{resume(){r=!1},pause(){r=!0},remove(){o.remove()}}}n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));const a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function l({key:e}){return a[e]||e}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(82);function i(e){return o((()=>e.forEach((e=>Object(r.k)(e)&&e.remove()))))}function o(e){return{remove:()=>{e&&(e(),e=void 0)}}}function s(e){return o((()=>{const t=e();Object(r.k)(t)&&t.remove()}))}function a(e){return o(Object(r.k)(e)?()=>e.destroy():void 0)}},181:function(e,t,n){"use strict";class r{constructor(e,t,n,r=1,i=0){if(this.ctor=e,this.acquireFunction=t,this.releaseFunction=n,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i,this.ctor)for(let o=0;o<i;o++)this._pool[o]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t;if(r.test.disabled)t=new this.ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this.ctor}t=this._pool.pop()}return this.acquireFunction?this.acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}r.test={disabled:!1},t.a=r},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(77),i=n(116),o=n(164),s=n(222),a=n(351);const l=r.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c(e,t,n){var r,o;e&&(!n&&!t.read||null!=(r=t.read)&&r.reader||!1===(null==(o=t.read)?void 0:o.enabled)||function(e){return"types"in e?m(e.types):g(e.type)}(e)&&Object(i.c)("read.reader",u(e),t))}function u(e){var t;const n=null!=(t=e.ndimArray)?t:0;if(n>1)return function(e){var t;const n=d(e),r=h.bind(null,n),i=null!=(t=e.ndimArray)?t:0;return(e,t,n)=>{if(null==e)return e;e=r(e,n,i);let o=i,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let r=0;r<o;r++)e=[e];return e}}(e);if(1===n)return f(e);if("type"in e&&p(e.type)){var r,i;const t=null==(r=e.type.prototype)||null==(i=r.itemType)?void 0:i.Type,n=f("function"==typeof t?{type:t}:{types:t});return(t,r,i)=>{const o=n(t,r,i);return o?new e.type(o):o}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void l.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}(e.type):function(e){var t;let n=null;const r=null!=(t=e.errorContext)?t:"type";return(t,i,a)=>{if(null==t)return t;const c=typeof t;if("object"!==c)return void l.error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`);n||(n=function(e){const t={};for(const i in e.typeMap){var n,r;const o=e.typeMap[i],a=Object(s.a)(o.prototype);if("function"==typeof e.key)continue;const l=a.properties[e.key];if(!l)continue;null!=(n=l.json)&&n.type&&Array.isArray(l.json.type)&&1===l.json.type.length&&"string"==typeof l.json.type[0]&&(t[l.json.type[0]]=o);const c=null==(r=l.json)?void 0:r.write;if(!c||!c.writer){t[i]=o;continue}const u=c.target,d="string"==typeof u?u:e.key,h={};c.writer(i,h,d),h[d]&&(t[h[d]]=o)}return t}(e));const u=e.key;if("string"!=typeof u)return;const d=t[u],h=d?n[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const e=`Type '${d||"unknown"}' is not supported`;return a&&a.messages&&t&&a.messages.push(new o.a(`${r}:unsupported`,e,{definition:t,context:a})),void l.error(e)}const f=new h;return f.read(t,a),f}}(e.types)}function h(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map((t=>h(e,t,n,r-1))):e(t,void 0,n)}function f(e){const t=d(e);return(e,n,r)=>{if(null==e)return e;if(Array.isArray(e)){const n=[];for(const i of e){const e=t(i,void 0,r);void 0!==e&&n.push(e)}return n}const i=t(e,void 0,r);return void 0!==i?[i]:void 0}}function p(e){if(!Object(a.a)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?g(t.Type):m(t.Type))}function g(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||p(e))}function m(e){for(const t in e.typeMap)if(!g(e.typeMap[t]))return!1;return!0}},184:function(e,t,n){"use strict";var r,i=n(78),o=n(90),s=n(165),a=n(80),l=(n(76),n(81),n(77),n(79));let c=r=class extends(Object(s.a)(o.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(i.a)([Object(a.b)()],c.prototype,"active",void 0),Object(i.a)([Object(a.b)()],c.prototype,"className",void 0),Object(i.a)([Object(a.b)()],c.prototype,"disabled",void 0),Object(i.a)([Object(a.b)()],c.prototype,"id",void 0),Object(i.a)([Object(a.b)()],c.prototype,"indicator",void 0),Object(i.a)([Object(a.b)()],c.prototype,"title",void 0),Object(i.a)([Object(a.b)()],c.prototype,"type",void 0),Object(i.a)([Object(a.b)()],c.prototype,"visible",void 0),c=r=Object(i.a)([Object(l.a)("esri.support.actions.ActionBase")],c);var u=c;t.a=u},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(129);function i(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const i=Object(r.a)(t);return Object(r.b)(i,n)?i.get(n):t[n]}function o(e,t,n){if(null==e)return e;const r=i(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:o(r,t,n+1)}function s(e,t,n=0){return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):o(e,Object(r.f)(t),n)}function a(e,t){return s(e,t)}function l(e,t){return void 0!==s(t,e)}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="20210707",i="17f9314e751fd1e720022ff5819d4e40def1f79a"},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(82),i=n(119);const o={ar:"ar-u-nu-latn"};let s=new WeakMap,a={};function l(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return function(e){const t=e||a;if(!s.has(t)){const n=Object(i.b)(),r=o[Object(i.b)()]||n;s.set(t,new Intl.NumberFormat(r,e))}return Object(r.d)(s.get(t))}(t).format(e)}Object(i.a)((()=>{s=new WeakMap,a={}}))},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m}));var r=n(87),i=n(119);const o={year:"numeric",month:"numeric",day:"numeric"},s={year:"numeric",month:"long",day:"numeric"},a={year:"numeric",month:"short",day:"numeric"},l={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},u={...c,second:"numeric"},d={"short-date":o,"short-date-short-time":{...o,...c},"short-date-short-time-24":{...o,...c,hour12:!1},"short-date-long-time":{...o,...u},"short-date-long-time-24":{...o,...u,hour12:!1},"short-date-le":o,"short-date-le-short-time":{...o,...c},"short-date-le-short-time-24":{...o,...c,hour12:!1},"short-date-le-long-time":{...o,...u},"short-date-le-long-time-24":{...o,...u,hour12:!1},"long-month-day-year":s,"long-month-day-year-short-time":{...s,...c},"long-month-day-year-short-time-24":{...s,...c,hour12:!1},"long-month-day-year-long-time":{...s,...u},"long-month-day-year-long-time-24":{...s,...u,hour12:!1},"day-short-month-year":a,"day-short-month-year-short-time":{...a,...c},"day-short-month-year-short-time-24":{...a,...c,hour12:!1},"day-short-month-year-long-time":{...a,...u},"day-short-month-year-long-time-24":{...a,...u,hour12:!1},"long-date":l,"long-date-short-time":{...l,...c},"long-date-short-time-24":{...l,...c,hour12:!1},"long-date-long-time":{...l,...u},"long-date-long-time-24":{...l,...u,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":u},h=Object(r.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),f=(h.apiValues,h.toJSON.bind(h),h.fromJSON.bind(h),{ar:"ar-u-nu-latn-ca-gregory"});let p=new WeakMap,g=d["short-date-short-time"];function m(e){const t=e||g;if(!p.has(t)){const e=Object(i.b)(),n=f[Object(i.b)()]||e;p.set(t,new Intl.DateTimeFormat(n,t))}return p.get(t)}function b(e){return d[e]||null}function v(e,t){return m(t).format(e)}Object(i.a)((()=>{p=new WeakMap,g=d["short-date-short-time"]}))},213:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b}));n(76);var r=n(77),i=n(129);let o,s=[];const a=r.a.getLogger("esri.core.Accessor");function l(e){void 0!==o&&o.onObservableAccessed(e)}let c=!1,u=!1;function d(e,t,n){if(c)return h(e,t,n);f(e);const r=t.call(n);return p(),r}function h(e,t,n){const r=c;c=!0,f(e);let i=null;try{i=t.call(n)}catch(o){u&&a.error(o)}return p(),c=r,i}function f(e){o=e,s.push(e)}function p(){const e=s.pop();o=s.length>0?s[s.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function g(e,t){if(32&t.flags)return;const n=u;u=!1,64&t.flags?h(t,t.metadata.get,e):b(e,t),u=n}const m=[];function b(e,t){128&t.flags||(t.flags|=128,h(t,(()=>{const n=t.metadata.dependsOn||m;for(const t of n)if("string"==typeof t&&-1===t.indexOf("."))v(e,t,!1);else{const n=Object(i.f)(t);for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=v(r,n[t],t!==n.length-1)}})),t.flags&=-129)}function v(e,t,n){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const o=Object(i.a)(e),s=null==o?void 0:o.properties.get(r);return s&&(l(s),g(e,s)),n?e[r]:void 0}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return C}));var r=n(82),i=n(336),o=n(374),s=n(170),a=n(86),l=n(380);class c{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class u{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let d=0,h=0;const f={time:Object(l.a)(0),deltaTime:Object(l.a)(0),elapsedFrameTime:Object(l.a)(0),frameDuration:Object(l.a)(0)},p=["prepare","preRender","render","postRender","update"],g=[],m=new s.a;class b{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const v={frameTasks:m,willDispatch:!1,clearFrameTasks:function(e=!1){m.forAll((e=>{e.removed=!0})),e&&A()},dispatch:S,executeFrameTasks:function(e){const t=Object(l.a)(e-d);d=e;const n=h>0?h:1e3/60,r=Math.max(0,t-n);for(let i=0;i<p.length;i++){const o=performance.now(),s=p[i];m.forAll((o=>{var a;o.paused||o.removed||(0===i&&o.ticks++,o.phases[s]&&(f.time=e,f.deltaTime=0===o.ticks?Object(l.a)(0):t,f.elapsedFrameTime=Object(l.a)(performance.now()-e),f.frameDuration=Object(l.a)(n-r),null==(a=o.phases[s])||a.call(o,f)))})),E[i].record(performance.now()-o)}A(),I.record(performance.now()-e)}};function y(e){const t=new u(e);return g.push(t),v.willDispatch||(v.willDispatch=!0,Object(i.a)(S)),t}function _(e){const t=new c(e);return m.push(t),null==O&&(d=performance.now(),O=requestAnimationFrame(w)),new b(t)}let O=null;function w(){const e=performance.now();O=null,O=m.length>0?requestAnimationFrame(w):null,v.executeFrameTasks(e)}const j=new s.a;function A(){m.forAll((e=>{e.removed&&j.push(e)})),m.removeUnorderedMany(j.data,j.length),j.clear()}function S(){for(;g.length;){const e=Object(r.d)(g.shift());e.isActive&&e.callback()}v.willDispatch=!1}function C(e=1,t){const n=Object(a.g)(),r=()=>{Object(a.n)(t)?n.reject(Object(a.e)()):0===e?n():(--e,Object(i.a)((()=>r())))};return r(),n.promise}const E=p.map((e=>new o.a(e))),I=new o.a("total")},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(85),i=n(82),o=n(129);class s{constructor(e){this.autoDestroy=!1,this.properties=e}}function a(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){const n=Object.create(t.properties),i=t.autoDestroy;for(const e in n)n[e]=Object(r.a)(n[e]);t=new s(n),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new s({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(i.d)(e.constructor.__accessorMetadata__)}function l(e){return a(e).properties}function c(e,t){const n=l(e);let r=n[t];return r||(r=n[t]={}),r}function u(e,t){return Object(o.c)(e,t,h)}const d=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function h(e){return d.test(e)?"replace":"merge"}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r=n(82);const i=7;function o(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function s(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(r.d)(void 0)}function a(e){return s(e)}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(78),i=n(90),o=n(82),s=n(86),a=n(79);class l{constructor(e){this.instance=e,this._resolver=Object(s.f)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject(Object(s.e)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=Object(s.f)(),t=[...this._resolvingPromises,Object(o.d)(e.promise)],n=this._allPromise=Promise.all(t);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==n||Object(s.m)(e)||this._resolver.reject(e)})),e.resolve()}}const c=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new l(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=Object(r.a)([Object(a.a)("esri.core.Promise")],t),t};let u=class extends(c(i.a)){};u=Object(r.a)([Object(a.a)("esri.core.Promise")],u)},248:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(77),i=n(116),o=n(133),s=n(209),a=n(194);const l=r.a.getLogger("esri.intl");function c(e,t,n={}){const{format:r={}}=n;return Object(o.c)(e,(e=>function(e,t,n){let r,o;const s=e.indexOf(":");if(-1===s?r=e.trim():(r=e.slice(0,s).trim(),o=e.slice(s+1).trim()),!r)return"";const a=Object(i.b)(r,t);if(null==a)return"";const l=n[o]||n[r];return l?u(a,l):o?d(a,o):h(a)}(e,t,r)))}function u(e,t){switch(t.type){case"date":return Object(s.b)(e,t.intlOptions);case"number":return Object(a.b)(e,t.intlOptions);default:return l.warn("missing format descriptor for key {key}"),h(e)}}function d(e,t){switch(t.toLowerCase()){case"dateformat":return Object(s.b)(e);case"numberformat":return Object(a.b)(e);default:return l.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Object(s.b)(e):/^numberformat/i.test(t)?Object(a.b)(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return Object(a.b)(e);case"boolean":return""+e;default:return e instanceof Date?Object(s.b)(e):""}}},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(214),i=n(388);let o=!1;const s=[];function a(e,t,n={runImmediately:!1}){let s=new i.a((function n(){if(!s||l)return;if(o)return void d(n);const i=a;s.clear(),o=!0,l=!0,a=Object(r.b)(s,e),l=!1,o=!1,t(a,i),h()})),a=null,l=!1;return l=!0,a=Object(r.b)(s,e),l=!1,n.runImmediately&&t(a,a),{remove:function(){s&&(s.destroy(),s=null,a=null)}}}function l(e,t){return a(e,t,{runImmediately:!0})}function c(e,t){let n=new i.a((function(){t(o,s)})),o=null;function s(){return n?(n.clear(),o=Object(r.b)(n,e),o):null}return s(),{remove:function(){n&&(n.destroy(),n=null),o=null}}}function u(e){let t=new i.a((function i(){t&&!n&&(o?d(i):(t.clear(),o=!0,n=!0,Object(r.b)(t,e),n=!1,o=!1,h()))})),n=!1;return n=!0,Object(r.b)(t,e),n=!1,{remove:function(){t&&(t.destroy(),t=null)}}}function d(e){s.includes(e)||s.unshift(e)}function h(){for(;s.length;)s.pop()()}},266:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(105);function i(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:o(e[t])}}}function o(e){return function(t,...n){!function(e){const{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...n):Object(r.f)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},278:function(e,t,n){"use strict";var r=n(181);function i(e){e.length=0}class o{constructor(e=50,t=50){this._pool=new r.a(Array,void 0,i,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return s.acquire()}static release(e){return s.release(e)}static prune(){s.prune()}}const s=new o(100);t.a=o},285:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(76);const i=new Set;function o(e,t,n=!1){n&&i.has(t)||(n&&i.add(t),e.warn(`\ud83d\uded1 DEPRECATED - ${t}`))}function s(e,t,n={}){Object(r.a)("esri-deprecation-warnings")&&c(e,`Module: ${t}`,n)}function a(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n;c(e,"Function: "+((r?r+"::":"")+t+"()"),n)}}function l(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n;c(e,"Property: "+((r?r+"::":"")+t),n)}}function c(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{replacement:r,version:i,see:s,warnOnce:a}=n;let l=t;r&&(l+=`\n\t\ud83d\udee0\ufe0f Replacement: ${r}`),i&&(l+=`\n\t\u2699\ufe0f Version: ${i}`),s&&(l+=`\n\t\ud83d\udd17 See ${s} for more details.`),o(e,l,a)}}},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(78),i=n(90),o=n(111),s=n(82),a=n(215),l=n(108),c=n(186),u=n(257),d=n(80),h=n(79);let f=class extends i.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new o.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,n,r=0){const i=0!=(1&r),o=++this.handleId;i||this.installSyncUpdatingWatch(e,t,o);const s=0!=(2&r)?Object(l.a)(e,t,n,i):e.watch(t,n,i);return this.handles.add(s,o),{remove:()=>this.handles.remove(o)}}addOnCollectionPropertyChange(e,t,n,r=0){const i=0!=(2&r),o=++this.handleId;return this.handles.add([Object(l.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(l.b)(e,t,"change",n,i?e=>{n({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:()=>{this.handles.remove(o)}}}addOnCollectionChange(e,t,n=0){const r=0!=(2&n),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),r&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(i)}}}addPromise(e){if(Object(s.j)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(p)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const n=()=>this.handles.remove(t);return e.then(n,n),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,n){const r=this.createSyncUpdatingCallback(),i=Object(u.b)((()=>Object(c.c)(e,t)),r);return this.handles.add(i,n),i}createSyncUpdatingCallback(){return()=>{this.handles.remove(p),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(a.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(p))})),p)}}};Object(r.a)([Object(d.b)({readOnly:!0})],f.prototype,"updating",void 0),f=Object(r.a)([Object(h.a)("esri.views.support.WatchUpdatingTracking")],f);const p=-42},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return m}));var r=n(82);function i(e,t){if(e.forEach)e.forEach(t);else for(let n=0;n<e.length;n++)t(e[n],n,e)}function o(e,t,n){if(e.slice)return e.slice(t,n);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===n?n=e.length:(n<0&&(n+=e.length),n=Math.min(e.length,Math.max(0,n)));const r=Math.max(0,n-t),i=new(0,e.constructor)(r);for(let o=0;o<r;o++)i[o]=e[t+o];return i}function s(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function a(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function l(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function c(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function d(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function h(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function f(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function p(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function g(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function m(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}function b(e){return Object(r.j)(e)?0:128+e.buffer.byteLength+64}},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(81);var i=n(182);function o(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function s(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function a(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var l=n(389);function c(e,t){return d(e,"read",t)}function u(e,t){return d(e,"write",t)}function d(e,t,n){let r=e&&e.json;if(e&&e.json&&e.json.origins&&n){const i=e.json.origins[n.origin];i&&("any"===t||t in i)&&(r=i)}return r}function h(e){const t=function(e){return e.type?function(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!Object(r.o)(n);)n=n[0],t++;return{type:n,ndimArray:t}}(e):function(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}(e)}(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n];Object(i.a)(t,r,!1),Object(l.a)(t,r)}Object(i.a)(t,e.json,!0),Object(l.a)(t,e.json)}const f={processPrototypePropertyMetadata(e,t){(function(e){if(e.json||(e.json={}),s(e.json),a(e.json),o(e.json),e.json.origins)for(const t in e.json.origins)s(e.json.origins[t]),a(e.json.origins[t]),o(e.json.origins[t]);return!0})(t)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const e in n)if(t[e]){const r=t[e];n[e].forEach((e=>{t[e]=r})),delete t[e]}}}(t),h(t))}}},313:function(e,t,n){"use strict";function r(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const n=t._delegatedEventNames,r=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);n.push(...r)}}n.d(t,"a",(function(){return r}))},322:function(e,t,n){"use strict";var r,i=n(78),o=n(80),s=(n(76),n(81),n(77),n(79)),a=n(184);let l=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(i.a)([Object(o.b)()],l.prototype,"image",void 0),l=r=Object(i.a)([Object(s.a)("esri.support.Action.ActionButton")],l);var c=l;t.a=c},336:function(e,t,n){"use strict";var r=n(140);const i=r.a.queueMicrotask?r.a.queueMicrotask:e=>{r.a.Promise.resolve().then(e)},o=[];let s=[];function a(e){o.push(e),1===o.length&&i((()=>{for(const t of s)t();const e=o.slice();o.length=0;for(const t of e)t()}))}(a||(a={})).before=function(e){return s.push(e),{remove(){s=s.filter((t=>t!==e))}}};var l=a;t.a=l},349:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(171);class i{constructor(e,t){this._observers=e,this._observer=t}remove(){Object(r.i)(this._observers,this._observer)}}},350:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(76);var r=n(77),i=n(186);function o(e,t,n){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))o(e,r,t[r]);else{if(-1!==t.indexOf(".")){const r=t.split("."),s=r.splice(r.length-1,1)[0];return void o(Object(i.b)(e,r),s,n)}e[t]=n}}r.a.getLogger("esri.core.accessorSupport.set")},351:function(e,t,n){"use strict";function r(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}n.d(t,"a",(function(){return r}))},352:function(e,t,n){"use strict";var r,i=n(78),o=n(80),s=(n(76),n(81),n(77),n(79)),a=n(184);let l=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(i.a)([Object(o.b)()],l.prototype,"image",void 0),Object(i.a)([Object(o.b)()],l.prototype,"value",void 0),l=r=Object(i.a)([Object(s.a)("esri.support.Action.ActionToggle")],l);var c=l;t.a=c},374:function(e,t,n){"use strict";t.a=class{constructor(e,t=29){this.name=e,this._counter=0,this._items=new Array(t)}record(e){this._items[++this._counter%this._items.length]=e}get median(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}get average(){return this._items.reduce(((e,t)=>e+t),0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},379:function(e,t,n){"use strict";var r=n(116);class i{constructor(e,t,n){this.name=e,this.details=n,this.message=void 0,this instanceof i&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,n){if(""===n)return"$";const i=Object(r.b)(n,t),o=null==i?"":i;if(void 0===o)throw new Error(`could not find key "${n}" in template`);return o.toString()}))}(t,n)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=i},380:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},388:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e){this._notify=e,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}onObservableAccessed(e){this._accessed.includes(e)||this._accessed.push(e)}onTrackingEnd(){const e=this._handles,t=this._accessed;for(let n=0;n<t.length;++n)e.push(t[n].observe(this));t.length=0}clear(){const e=this._handles;for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=n(116),i=n(351);function o(e,t){var n;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const o=null!=(n=null==e?void 0:e.ndimArray)?n:0;var a;e&&(1===o||"type"in e&&Object(i.a)(e.type))?t.write.writer=c:t.write.writer=o>1?(a=o,function(e,t,n,i){let o;if(null===e)o=null;else{o=u(e,i,a);let t=a,n=o;for(;t>0&&Array.isArray(n);)t--,n=n[0];if(void 0!==n)for(let e=0;e<t;e++)o=[o]}Object(r.c)(n,o,t)}):s}function s(e,t,n,i){Object(r.c)(n,a(e,i),t)}function a(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?l(e):e}function l(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function c(e,t,n,i){let o;null===e?o=null:e&&"function"==typeof e.map?(o=e.map((e=>a(e,i))),"function"==typeof o.toArray&&(o=o.toArray())):o=[a(e,i)],Object(r.c)(n,o,t)}function u(e,t,n){return 0!==n&&Array.isArray(e)?e.map((e=>u(e,t,n-1))):a(e,t)}},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));n(266),n(169),n(285),n(76),n(77);n(313),n(122),n(105);function r(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(76),i=n(82),o=n(86);function s(e,t,n=!1,s){return new Promise(((l,c)=>{if(Object(o.n)(s))return void c(a());let u=()=>{f(),c(new Error(`Unable to load ${t}`))},d=()=>{const t=e;f(),l(t)},h=()=>{if(!e)return;const t=e;f(),t.src="",c(a())};const f=()=>{Object(r.a)("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",d)),u=null,d=null,e=null,Object(i.k)(s)&&s.removeEventListener("abort",h),h=null,n&&URL.revokeObjectURL(t)};Object(i.k)(s)&&s.addEventListener("abort",h),Object(r.a)("esri-image-decode")?e.decode().then(d,u):(e.addEventListener("error",u),e.addEventListener("load",d))}))}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}},422:function(e,t,n){"use strict";class r{constructor(e=1){this._seed=e}set seed(e){this._seed=null==e?Math.random()*r._m:e}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const n=t-e;return e+this.getInt()/r._m*n}}r._m=2147483647,r._a=48271,r._c=0,t.a=r},423:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(82);function r(e,t){for(const n of e.entries())if(t(n[0]))return!0;return!1}},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(93);const i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function o(e){const t=Object(r.m)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return j}));var r=n(278),i=n(85),o=n(444),s=n(215),a=n(423),l=n(186),c=n(257),u=n(129);class d{constructor(){this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.getValue=null,this.removed=!1,this.propertyPath=null}acquire(e,t,n,r,i){this.target=e,this.path=t,this.oldValue=n,this.callback=r,this.getValue=i,this.propertyPath=Object(u.g)(t),this.uid=++d.uid,this.removed=!1}release(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++d.uid,this.removed=!0}}d.pool=new o.a(d),d.uid=0;const h=new r.a,f=new Set;let p;function g(e){f.delete(e),f.add(e),p||(p=Object(s.b)(y))}function m(e){if(e.removed)return;const{callback:t,path:n,oldValue:r,target:i}=e,o=e.getValue();b(r,o)&&(e.oldValue=o,t.call(i,o,r,n,i))}function b(e,t){return!Object(i.b)(e,t)}function v(e){for(const t of f.values())t.target===e&&(t.removed=!0)}function y(){let e=10;for(;p&&e--;){p=null;const e=_(),t=h.acquire();for(const n of e){const e=n.uid;m(n),e===n.uid&&n.removed&&t.push(n)}for(const n of f)n.removed&&(t.push(n),f.delete(n));for(let n=0;n<t.length;n++)d.pool.release(t[n]);h.release(t),h.release(e),O.forEach((e=>e()))}}function _(){const e=h.acquire();e.length=f.size;let t=0;for(const n of f)e[t]=n,++t;return f.clear(),e}const O=new Set;function w(e){return O.add(e),{remove(){O.delete(e)}}}function j(e,t,n,r=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:r?function(e,t,n){const r=Object(u.e)(e,t,n,((e,t,n)=>{let i=!1;return Object(c.b)((()=>Object(l.c)(e,t)),((o,s)=>{e.__accessor__.destroyed?r.remove():i||(i=!0,b(s,o)&&n.call(e,o,s,t,e),i=!1)}))}));return r}(e,t,n):function(e,t,n){let r=Object(u.e)(e,t,n,((e,t,n)=>{let i,o,s=Object(c.c)((()=>Object(l.c)(e,t)),((s,a)=>{e.__accessor__.destroyed||i&&i.uid!==o?r.remove():(i||(i=d.pool.acquire(e,t,s,n,a),o=i.uid),g(i))}));return{remove:Object(u.d)((function(){s.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,g(i)),i=null),r=s=null}))}}));return r}(e,t,n)}function A(e){return Object(a.a)(f,(t=>t.oldValue===e))}},444:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(82),i=n(181);class o extends i.a{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(r.p)(this._set)}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},463:function(e,t,n){"use strict";var r=n(140);var i,o=(i=r.a,{setTimeout:(e,t)=>{const n=i.setTimeout(e,t);return{remove:()=>i.clearTimeout(n)}}});t.a=o},76:function(e,t,n){"use strict";var r,i,o=n(140);let s;var a,l;function c(e){return"function"==typeof s[e]?s[e]=s[e](o.a):s[e]}s=null!=(r=o.a.dojoConfig)&&r.has||null!=(i=o.a.esriConfig)&&i.has?{...null==(a=o.a.dojoConfig)?void 0:a.has,...null==(l=o.a.esriConfig)?void 0:l.has}:{},c.add=(e,t,n,r)=>((r||void 0===s[e])&&(s[e]=t),n&&c(e)),c.cache=s,c.add("esri-deprecation-warnings",!0),(()=>{c.add("host-webworker",void 0!==o.a.WorkerGlobalScope&&self instanceof o.a.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",e),c.add("host-node","object"==typeof o.a.process&&o.a.process.versions&&o.a.process.versions.node&&o.a.process.versions.v8),c.add("dom",e),c("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(c.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),c.add("khtml",n.includes("Konqueror")?r:void 0),c.add("edge",parseFloat(t.split("Edge/")[1])||void 0),c.add("opr",parseFloat(t.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(t.split("Android ")[1])||void 0),c.add("safari",!n.includes("Safari")||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(n.split("Version/")[1])),c.add("mac",n.includes("Macintosh")),!c("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),n=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replace(/_/g,""));c.add(e,r),c.add("ios",r)}c.add("trident",parseFloat(n.split("Trident/")[1])||void 0),c("webkit")||(!t.includes("Gecko")||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",r),c("mozilla")&&c.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(o.a.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&c.add("esri-mobile",t),n&&c.add("esri-iPhone",n),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in o.a),c.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in o.a,t=!1===o.a.crossOriginIsolated;return e&&!t})),c.add("esri-atomics","Atomics"in o.a),c.add("esri-workers","Worker"in o.a),c.add("esri-text-decoder","TextDecoder"in o.a),c.add("esri-text-encoder","TextEncoder"in o.a),c.add("web-feat:cache","caches"in o.a),c.add("esri-workers-arraybuffer-transfer",!c("safari")||Number(c("safari"))>=12),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("mapview-transitions-duration",200),c.add("mapserver-pbf-enabled",!1),c("host-webworker")||c("host-browser")&&(c.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),c.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{c.add("esri-image-decode",!0,!0,!0)})).catch((()=>{c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(()=>{const e=o.a.document.createElement("a");return e.href="?'",e.href.includes("?%27")})),c.add("vectortilelayer-max-buffers",c("ff")?160:Number.POSITIVE_INFINITY))})(),t.a=c},77:function(e,t,n){"use strict";var r=n(142),i=(n(76),n(82)),o=n(133);const s={info:0,warn:1,error:2,none:3};class a{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,a._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=a.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=a._loggers;return a._loggers=e,t},set throttlingDisabled(e){a._throttlingDisabled=e}}}static getLogger(e){let t=a._loggers[e];return t||(t=new a({module:e})),t}_log(e,t,...n){if(this._matchLevel(e)){if("always"!==t&&!a._throttlingDisabled){const r=this._argsToKey(n),i=this._loggedMessages[e].get(r);if("once"===t&&null!=i||"oncePerTick"===t&&i&&i>=a._tickCounter)return;this._loggedMessages[e].set(r,a._tickCounter),a._scheduleTickCounterIncrement()}for(const t of r.a.log.interceptors)if(t(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,t){let n=this;for(;Object(i.k)(n);){const t=n[e];if(Object(i.k)(t))return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...n){console[e](`[${t}]`,...n)}_matchLevel(e){const t=r.a.log.level?r.a.log.level:"warn";return s[this._parentWithMember("level",t)]<=s[e]}_argsToKey(...e){return Object(o.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then((()=>{a._tickCounter++,a._tickCounterScheduled=!1})))}}a._loggers={},a._tickCounter=0,a._tickCounterScheduled=!1,a._throttlingDisabled=!1,t.a=a},78:function(e,t,n){"use strict";function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}n.d(t,"a",(function(){return r}))},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(76);const r=[n(310).a];var i=n(222),o=n(214);const s=new Set,a=new Set;function l(e){return t=>{t.prototype.declaredClass=e,function(e,t){for(const n of r)if(n.processPrototypePropertyMetadata)for(const r in e){const i=e[r];n.processPrototypePropertyMetadata(r,i,e,t)}}(Object(i.a)(t.prototype).properties,e),function(e){const t=e.prototype,n=t.declaredClass,o=Object(i.a)(t).properties;!function(e,t){for(const n of r)if(n.processClassPropertyMetadata)for(const r in e){const i=e[r];n.processClassPropertyMetadata(r,i,e,t)}}(o,n);const s={};for(const r of Object.getOwnPropertyNames(o)){const e=o[r];s[r]={enumerable:!0,configurable:!0,get:c(r,e),set(t){const n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(2===n.lifecycle&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);n.set(r,t)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,s)}(t);const n=[],o=[];let l=t.prototype;for(;l;)l.hasOwnProperty("initialize")&&!s.has(l.initialize)&&(s.add(l.initialize),n.push(l.initialize)),l.hasOwnProperty("destroy")&&!a.has(l.destroy)&&(a.add(l.destroy),o.push(l.destroy)),l=Object.getPrototypeOf(l);s.clear(),a.clear();class u extends t{constructor(...e){if(super(...e),this.constructor===u&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),o.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<o.length;e++)o[e].call(this)}}})}this.postscript(...e)}}}return u.__accessorMetadata__=Object(i.a)(t.prototype),u.prototype.declaredClass=e,u}}function c(e,t){return null==t.get?function(){const t=this.__accessor__.properties.get(e);if(void 0===t)return;Object(o.c)(t);const n=this.__accessor__.store;return n.has(e)?n.get(e):t.metadata.value}:function(){const t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(77),i=n(81),o=n(186),s=n(222),a=n(350);const l=r.a.getLogger("esri.core.accessorSupport.decorators.property");function c(e={}){return(t,n,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const c=Object(s.b)(t,n);r&&(r.get||r.set?(c.get=r.get||c.get,c.set=r.set||c.set):"value"in r&&("value"in e&&l.warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),c.value=e.value=r.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const u=e.aliasOf;if(u){const e="string"==typeof u?u:u.source,t="string"==typeof u?null:!0===u.overridable;let r;c.dependsOn=[e],c.get=function(){let t=Object(o.b)(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const n=Object(o.b)(this,r);n&&(t=t.bind(n))}return t},c.readOnly||(c.set=t?function(e){void 0!==e?this._override(n,e):this._clearOverride(n)}:function(t){Object(a.a)(this,e,t)})}const h=e.type,f=e.types;c.cast||(h?c.cast=function(e){let t=0,n=e;if(Object(i.n)(e))return Object(i.f)(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const r=n;if(Object(i.o)(r))return 0===t?Object(i.j)(r):Object(i.h)(Object(i.j)(r),t);if(1===t)return Object(i.b)(r);if(t>1)return Object(i.g)(r,t);const o=e;return o.from?o.from:Object(i.m)(o)}(h):f&&(Array.isArray(f)?c.cast=Object(i.c)(Object(i.k)(f[0])):c.cast=Object(i.k)(f))),e.range&&(c.cast=d(c.cast,e.range)),Object(s.c)(c,e)}}function u(e,t,n){const r=Object(s.b)(e,n);r.json||(r.json={});let i=r.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function d(e,t){return n=>{let r=+e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return E}));n(76);const r=n(77).a.getLogger("esri.core.Accessor");function i(e){return null==e?e:new Date(e)}function o(e){return null==e?e:!!e}function s(e){return null==e?e:e.toString()}function a(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function l(e){return null==e?e:Math.round(parseFloat(e))}function c(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function u(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function h(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function f(e,t){return!!c(t)&&(r.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function p(e,t){return null==t?t:d(e)?function(e,t){if(!t||!t.constructor||!d(t.constructor))return f(e,t)?t:new e(t);const n=h(e.prototype.itemType),r=h(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(f(e,t),t):new e(t):t}(e,t):u(e,t)?f(e,t)?t:new e(t):t}function g(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function m(e){switch(e){case Number:return a;case C:return l;case Boolean:return o;case String:return s;case Date:return i;default:return p.bind(null,e)}}function b(e,t){const n=m(e);return 1===arguments.length?n:n(t)}function v(e,t,n){return 1===arguments.length?v.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,n))):[e(t,n)]:t}function y(e,t){return 1===arguments.length?v(b.bind(null,e)):v(b.bind(null,e),t)}function _(e,t,n){return 0!==t&&Array.isArray(n)?n.map((n=>_(e,t-1,n))):e(n)}function O(e,t,n){if(2===arguments.length)return O.bind(null,e,t);if(!n)return n;let r=t,i=n=_(e,t,n);for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let o=0;o<r;o++)n=[n];return n}function w(e,t,n){return 2===arguments.length?O(b.bind(null,e),t):O(b.bind(null,e),t,n)}function j(e){return!!Array.isArray(e)&&!e.some((t=>{const n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)}))}function A(e,t){if(2===arguments.length)return A(e).call(null,t);const n=new Set,i=e.filter((e=>"function"!=typeof e)),o=e.filter((e=>"function"==typeof e));for(const r of e)"string"!=typeof r&&"number"!=typeof r||n.add(r);let s=null,a=null;return(e,t)=>{if(null==e)return e;const l=typeof e,c="string"===l||"number"===l;return c&&(n.has(e)||o.some((e=>"string"===l&&e===String||"number"===l&&e===Number)))||"object"===l&&o.some((t=>!u(e,t)))?e:(c&&i.length?(s||(s=i.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&o.length?(a||(a=o.map((e=>g(e))).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):r.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function S(e,t){if(2===arguments.length)return S(e).call(null,t);const n={},i=[],o=[];for(const r in e.typeMap){const t=e.typeMap[r];n[r]=b(t),i.push(g(t)),o.push(r)}const s=()=>`'${i.join("', '")}'`,a=()=>`'${o.join("', '")}'`,l="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!u(e.base,t))return t;if(null==t)return t;const i=l(t)||e.defaultKeyValue,o=n[i];if(!o)return r.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!u(e.typeMap[i],t))return t;if("string"==typeof e.key&&!c(t)){const n={};for(const r in t)r!==e.key&&(n[r]=t[r]);return o(n)}return o(t)}}class C{}const E={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function I(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function k(e){switch(e.type){case"native":return b(e.value);case"array":return v(k(e.value));case"one-of":return function(e){let t=null;return(n,i)=>T(n,e)?n:(null==t&&(t=x(e)),r.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}(e);default:return null}}function x(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case C:return"integer";case Date:return"date";default:return g(e.value)}case"array":return`array of ${x(e.value)}`;case"one-of":{const t=e.values.map((e=>x(e)));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function T(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case C:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!T(e,t.value)));case"one-of":return t.values.some((t=>T(e,t)))}}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return r})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"u",(function(){return c}));const r=null;function i(e){return null!=e}function o(e){return null==e}function s(e){return void 0===e}function a(e,t){return i(e)?t(e):r}function l(e){return e}function c(e,t){if(o(e))throw new Error(t);return e}function u(e,t){return i(e)?e:"function"==typeof t?t():t}function d(e){return i(e)&&e.destroy(),null}function h(e){return i(e)&&e.dispose(),null}function f(e){return i(e)&&e.remove(),null}function p(e){return i(e)&&e.abort(),null}function g(e){return i(e)&&e.release(),null}function m(e){return null}function b(e,t){const n=new Array;for(const r of e)n.push(y(r,null,t));return n}function v(e,t){for(const n of e)y(n,null,t)}function y(e,t,n){return i(e)?n(e):t}function _(e,t){return i(e)?t(e):null}function O(e){return e.filter((e=>i(e)))}function w(e,...t){let n=e;for(let r=0;r<t.length&&n;++r)n=n[t[r]];return n}function j(e){return e}},84:function(e,t,n){"use strict";var r=n(85),i=n(77),o=n(379);class s extends o.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof s))return new s(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(r.a)(t)}catch(s){return"[object]"}})))}}catch(e){throw i.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error",t.a=s},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));n(76);var r=n(307);function i(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&i(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(r.h)(e)||Object(r.k)(e)||Object(r.l)(e)||Object(r.f)(e)||Object(r.i)(e)||Object(r.g)(e)||Object(r.j)(e)||Object(r.d)(e)||Object(r.e)(e))return Object(r.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach(((e,n)=>{t.set(n,o(e))})),t}if(e instanceof Set){const t=new Set;return e.forEach((e=>{t.add(o(e))})),t}let t;const n=e;if("function"==typeof n.clone)t=n.clone();else if("function"==typeof n.map&&"function"==typeof n.forEach)t=n.map(o);else if("function"==typeof n.notifyChange&&"function"==typeof n.watch)t=n.clone();else{t={};for(const n of Object.getOwnPropertyNames(e))t[n]=o(e[n])}return t}function s(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return d})),n.d(t,"w",(function(){return g})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return v}));var r=n(463),i=n(84),o=n(176),s=(n(77),n(82));function a(e){return Promise.all(e)}function l(e){return new Promise(((t,n)=>{try{e(t,n)}catch(r){Promise.resolve().then((()=>n(r)))}}))}function c(e="Aborted"){return new i.a("AbortError",e)}function u(){return new AbortController}function d(e,t="Aborted"){if(f(e))throw c(t)}function h(e){return Object(s.k)(e)?"aborted"in e?e:e.signal:e}function f(e){const t=h(e);return Object(s.k)(t)&&t.aborted}function p(e){if(y(e))throw e}function g(e){if(!y(e))throw e}function m(e,t){const n=h(e);if(!Object(s.j)(n)){if(!n.aborted)return Object(o.d)(n,"abort",(()=>t()));t()}}function b(e,t){const n=h(e);if(!Object(s.j)(n))return d(n),Object(o.d)(n,"abort",(()=>t(c())))}function v(e,t){const n=h(t);return Object(s.j)(n)?e:new Promise(((n,r)=>{let i=m(t,(()=>r(c())));const o=()=>i=Object(s.r)(i);e.then(o,o),e.then(n,r)}))}function y(e){return e&&"AbortError"===e.name}function _(e){return e.catch((e=>{if(!y(e))throw e}))}function O(){let e=null;const t=new Promise(((t,n)=>{e={promise:void 0,resolve:t,reject:n}}));return e.promise=t,e}function w(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return w(t.map((t=>e[t]))).then((e=>{const n={};return t.forEach(((t,r)=>n[t]=e[r])),n}))}const t=e;return l((e=>{const n=[];let r=t.length;0===r&&e(n),t.forEach((t=>{const i={promise:t||Promise.resolve(t)};n.push(i),i.promise.then((e=>{i.value=e})).catch((e=>{i.error=e})).then((()=>{--r,0===r&&e(n)}))}))}))}function j(e){return w(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function A(e){return Promise.reject(e)}function S(e){return Promise.resolve(e)}function C(e,t,n){const r=u();return m(n,(()=>r.abort())),new Promise(((n,i)=>{let o=setTimeout((()=>{o=0,n(t)}),e);m(r,(()=>{o&&(clearTimeout(o),i(c()))}))}))}function E(e){return e&&"function"==typeof e.then}function I(e){return k(e)?e:Promise.resolve(e)}function k(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}function x(e,t=-1){let n,r,i,o,a=null;const l=(...d)=>{if(n){r=d,o&&o.reject(c()),o=O();const e=Object(s.d)(o.promise);if(a){const e=a;a=null,e.abort()}return e}if(i=o||O(),o=null,t>0){const r=u();n=I(e(...d,r.signal));const i=n;C(t).then((()=>{n===i&&(o?r.abort():a=r)}))}else n=1,n=I(e(...d));const h=()=>{const e=r;r=i=n=a=null,null!=e&&l(...e)},f=n,p=i;return f.then(h,h),f.then(p.resolve,p.reject),Object(s.d)(p.promise)};return l}function T(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>r.a.setTimeout((()=>i.reject(t)),e),i.promise=n,i}function P(e){let t=u();const n=e(t.signal);let r={promise:n,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const i=()=>{r&&(r.finished=!0,r=null),t=null};return n.then(i,i),r}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(116);class i{constructor(e,t={ignoreUnknown:!1}){this.jsonToAPI=e,this.options=t,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(e),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{const i=this.toJSON(e);void 0!==i&&Object(r.c)(n,i,t)},this.write.isJSONMapWriter=!0}toJSON(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e}fromJSON(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}invertMap(e){const t={};for(const n in e)t[e[n]]=n;return t}getKeysSorted(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}}function o(){return function(e){return new i(e,{ignoreUnknown:!0})}}},90:function(e,t,n){"use strict";var r=n(285),i=n(77),o=n(186),s=n(222),a=(n(76),n(85)),l=n(181),c=n(214),u=n(349);class d{constructor(e,t,n){this.properties=e,this.propertyName=t,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(n.nonNullable?8:0)|(n.hasOwnProperty("value")?16:0)|(void 0===n.get?32:0)|(void 0===n.dependsOn?64:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Object(c.c)(this);const e=this.properties.store,t=this.propertyName,n=this.flags,r=e.get(t);if(4&n)return r;if(1&~n&&e.has(t))return r;this.flags|=4;const i=this.properties.host;let o;64&n?o=Object(c.b)(this,this.metadata.get,i):(Object(c.d)(i,this),o=this.metadata.get.call(i)),e.set(t,o,1);const s=e.get(t);return s===r?this.flags&=-2:this.commit(),this.flags&=-5,s}onObservableAccessed(e){e!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const e=this._accessed;if(null===e)return;let t=this._handles;null===t&&(t=this._handles=[]);for(let n=0;n<e.length;++n)t.push(e[n].observe(this));e.length=0}observe(e){return null===this._observers&&(this._observers=[]),this._observers.includes(e)||this._observers.push(e),new u.a(this._observers,e)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){2&~this.flags&&(this.flags|=1);const e=this._observers;if(null!==e)for(let t=0;t<e.length;++t)e[t].onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onCommitted(){if(null===this._observers)return;const e=this._observers.slice();for(let t=0;t<e.length;++t)e[t].onCommitted()}_clearObservationHandles(){const e=this._handles;if(null!==e){for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}}var h=n(230);class f{constructor(){this._values=new Map}clone(e){const t=new f;return this._values.forEach(((n,r)=>{e&&e.has(r)||t.set(r,Object(a.a)(n))})),t}get(e){return this._values.get(e)}originOf(){return 6}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}var p=n(129);function g(e,t,n){return void 0!==e}function m(e,t,n,r){return void 0!==e&&(!(null==n&&8&e.flags)||(r.lifecycle,!1))}function b(e){return e&&"function"==typeof e.destroy}i.a.getLogger("esri.core.accessorSupport.Properties");const v=new l.a(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var y=class{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new f,this._origin=6;const t=this.host.constructor.__accessorMetadata__,n=t.properties;for(const r in n){const e=new d(this,r,n[r]);this.properties.set(r,e)}this.metadatas=n,this._autoDestroy=t.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[e,t]of this.properties){const n=this.internalGet(e);n&&b(n)&&(n.destroy(),8&~t.flags&&this._internalSet(t,null)),t.destroy()}else for(const[e,t]of this.properties)t.destroy()}get initialized(){return 0!==this.lifecycle}get(e){const t=this.properties.get(e);if(t.metadata.get)return t.getComputed();Object(c.c)(t);const n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.properties.get(e);if(void 0!==t&&16&t.flags)return"defaults"}return Object(h.b)(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e);if(g(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.properties.get(e);g(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.properties.get(t);if(!g(r))return"";const i=new Set,o=Object(c.b)({onObservableAccessed:e=>i.add(e),onTrackingEnd:()=>{}},(()=>{var t;return null==(t=r.metadata.get)?void 0:t.call(e)}));let s=`${n}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;if(0===i.size)return s;n+="  ";for(const a of i){if(!(a instanceof d))continue;const e=a.properties.host,t=a.propertyName,r=Object(p.a)(e);s+=r?r.getDependsInfo(e,t,n):`${n}${t}: undefined\n`}return s}setAtOrigin(e,t,n){const r=this.properties.get(e);if(g(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}clearOverride(e){const t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.notifyChange())}override(e,t){const n=this.properties.get(e);if(!m(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(v.release(e),!n)return;t=i}n.flags|=2,this._internalSet(n,t)}set(e,t){const n=this.properties.get(e);if(!m(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(v.release(e),!n)return;t=i}const i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=Object(h.d)(e)}getDefaultOrigin(){return Object(h.b)(this._origin)}notifyChange(e){const t=this.properties.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.properties.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.properties.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const n=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName;r.has(i,n)&&Object(a.b)(t,r.get(i))&&2&~e.flags&&n===r.originOf(i)||(e.invalidate(),r.set(i,t,n),e.commit(),Object(c.a)(this.host,e))}_cast(e,t){const n=v.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}},_=n(350),O=n(443),w=n(80),j=n(79);function A(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class S{constructor(...e){if(this.constructor===S)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new y(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class o extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}Object(s.a)(o.prototype);for(const s in e){const t=e[s];o.prototype[s]="function"==typeof t?function(...e){const n=this.inherited;let r;this.inherited=function(...e){if(i.prototype[s])return i.prototype[s].apply(this,e)};try{r=t.apply(this,e)}catch(o){throw this.inherited=n,o}return this.inherited=n,r}:e[s]}for(const s in t){const e=A(t[s]);Object(w.b)(e)(o.prototype,s)}return Object(j.a)(n)(o)}postscript(e){const t=this.__accessor__,n=t.ctorArgs||e;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(Object(O.c)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return Object(o.b)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}isInstanceOf(e){return Object(r.b)(i.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Object(_.a)(this,e,t),this}watch(e,t,n){return Object(O.d)(this,e,t,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}t.a=S},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return ue})),n.d(t,"e",(function(){return de})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return se})),n.d(t,"i",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return ie})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return he})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return M})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return W})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return Q})),n.d(t,"w",(function(){return G})),n.d(t,"x",(function(){return le})),n.d(t,"y",(function(){return $})),n.d(t,"z",(function(){return B})),n.d(t,"A",(function(){return q})),n.d(t,"B",(function(){return K})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return F})),n.d(t,"E",(function(){return S})),n.d(t,"F",(function(){return j})),n.d(t,"G",(function(){return re})),n.d(t,"H",(function(){return ce})),n.d(t,"I",(function(){return oe})),n.d(t,"J",(function(){return ee})),n.d(t,"K",(function(){return w}));var r=n(142),i=n(84),o=(n(140),n(77)),s=n(82);const a=o.a.getLogger("esri.core.urlUtils"),l=r.a.request,c="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,d=/^\s*http:/i,h=/^\s*https:/i,f=/^\s*file:/i,p=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),b=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class v{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=Object(s.d)(this.uri.match(m));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=Object(s.d)(this.authority.match(b)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const y=new v(r.a.applicationUrl),_={},O=(()=>{const e=Object(s.d)(y.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${y.scheme}://${y.host}${null!=y.port?`:${y.port}`:""}${t}`})();function w(e){const t={path:null,query:null},n=new v(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.substring(0,r),t.query=j(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.substring(0,t.path.length-(n.fragment.length+1)))),t}function j(e){const t=e.split("&"),n={};for(const r of t){if(!r)continue;const e=r.indexOf("=");let t,i;e<0?(t=decodeURIComponent(r),i=""):(t=decodeURIComponent(r.slice(0,e)),i=decodeURIComponent(r.slice(e+1)));let o=n[t];"string"==typeof o&&(o=n[t]=[o]),Array.isArray(o)?o.push(i):n[t]=i}return n}function A(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function S(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n])))).join("&"):Object.keys(e).map((n=>{const r=e[n];if(null==r)return"";const i=encodeURIComponent(n)+"=",o=t&&t[n];return o?i+encodeURIComponent(o(r)):Array.isArray(r)?r.map((e=>A(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):A(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function C(e=!1){let t,n=l.proxyUrl;if("string"==typeof e){t=Q(e);const r=P(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw a.warn(c),new i.a("urlutils:proxy-not-set",c);return t&&te()&&(n=ee(n)),w(n)}function E(e){const t=P(e);let n,r;if(t){const e=k(t.proxyUrl);n=e.path,r=e.query?j(e.query):null}if(n){const t=w(e);e=n+"?"+t.path;const i=S({...r,...t.query});i&&(e=`${e}?${i}`)}return e}const I={path:"",query:""};function k(e){const t=e.indexOf("?");return-1!==t?(I.path=e.slice(0,t),I.query=e.slice(t+1)):(I.path=e,I.query=null),I}function x(e){return(e=ne(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=k(e).path),!0)).toLowerCase()}function T(e){const t={proxyUrl:e.proxyUrl,urlPrefix:x(e.urlPrefix)},n=l.proxyRules,r=t.urlPrefix;let i=n.length;for(let o=0;o<n.length;o++){const e=n[o].urlPrefix;if(0===r.indexOf(e)){if(r.length===e.length)return-1;i=o;break}0===e.indexOf(r)&&(i=o+1)}return n.splice(i,0,t),i}function P(e){const t=l.proxyRules,n=x(e);for(let r=0;r<t.length;r++)if(0===n.indexOf(t[r].urlPrefix))return t[r]}function M(e,t){return e=L(e),t=L(t),ne(e)===ne(t)}function L(e){const t=(e=F(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function D(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),n=l.interceptors;if(n)for(const r of n)if(Array.isArray(r.urls)){if(r.urls.some(t))return r}else if(t(r.urls))return r;return null}function N(e,t,n=!1){const r=ae(e),i=ae(t);return!(!n&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function $(e){if("string"==typeof e){if(!V(e))return!0;e=ae(e)}if(N(e,y))return!0;const t=l.trustedServers||[];for(let n=0;n<t.length;n++){const r=R(t[n]);for(let t=0;t<r.length;t++)if(N(e,r[t]))return!0}return!1}function R(e){return _[e]||(Z(e)||G(e)?_[e]=[new v(q(e))]:_[e]=[new v(`http://${e}`),new v(`https://${e}`)]),_[e]}function q(e,t=O,n){return G(e)?n&&n.preserveProtocolRelative?e:"http"===y.scheme&&y.authority===z(e).slice(2)?`http:${e}`:`https:${e}`:Z(e)?e:Object(s.d)(B("/"===e[0]?function(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e))}function U(e,t=O,n){if(!V(e))return e;const r=F(e),i=r.toLowerCase(),o=F(t).toLowerCase().replace(/\/+$/,""),s=n?F(n).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===c)return e;if(s&&c<s.length)return e;e=r.slice(c);const u=o.slice(c-1).replace(/[^/]+/g,"").length;if(u>0)for(let d=0;d<u;d++)e=`../${e}`;else e=`./${e}`;return e}function F(e){return function(e){const t=l.httpsDomains;if(!function(e){return d.test(e)||"http"===y.scheme&&G(e)}(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),p.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===y.scheme&&r===y.authority&&!g.test(e)||(te()&&r===y.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||te()&&!P(e))&&(e=ee(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=k(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=q(e=e.trim()))))}function B(...e){const t=e.filter(s.k);if(!t||!t.length)return;const n=[];if(V(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),function(e){return f.test(e)}(t[0])&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let i=0;i<r.length;i++){const e=r[i];".."===e&&n.length>0&&".."!==n[n.length-1]?n.pop():(!e&&i===r.length-1||e&&("."!==e||0===n.length))&&n.push(e)}return n.join("/")}function z(e,t=!1){if(W(e)||H(e))return null;let n=e.indexOf("://");if(-1===n&&G(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=ne(e,!0)),e}function V(e){return G(e)||Z(e)}function W(e){return null!=e&&"blob:"===e.slice(0,5)}function H(e){return"data:"===e.slice(0,5)}function Y(e){const t=J(e);if(!t||!t.isBase64)return null;const n=atob(t.data),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r.buffer}const X=/^data:(.*?)(;base64)?,(.*)$/;function J(e){const t=e.match(X);if(!t)return null;const[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function K(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function G(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Z(e){return u.test(e)}function Q(e){return h.test(e)||"https"===y.scheme&&G(e)}function ee(e){return G(e)?`https:${e}`:e.replace(d,"https:")}function te(){return"https"===y.scheme}function ne(e,t=!1){return G(e)?e.slice(2):(e=e.replace(u,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function re(e){let t=0;if(V(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function ie(e,t){if(!e)return"";const n=w(e).path.replace(/\/+$/,""),r=n.substring(n.lastIndexOf("/")+1);if(null==t||!t.length)return r;const i=new RegExp(`.(${t.join("|")})$`,"ig");return r.replace(i,"")}function oe(e){return e.replace(/\/+$/,"")}function se(e,t,n){if(!(t&&n&&e&&V(e)))return e;const r=e.indexOf("//"),i=e.indexOf("/",r+2),o=e.indexOf(":",r+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(r+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(s)}`}function ae(e){return"string"==typeof e?new v(q(e)):(e.scheme||(e.scheme=y.scheme),e)}function le(e){return pe.test(e)}function ce(e,t){const n=w(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function ue(e,t,n){const r=w(e),i=r.query||{};return i[t]=String(n),`${r.path}?${S(i)}`}function de(e,t){const n=w(e),r=n.query||{};for(const o in t)r[o]=t[o];const i=S(r);return i?`${n.path}?${i}`:n.path}function he(e){if(Object(s.j)(e))return null;const t=e.match(fe);return t?t[1]:null}const fe=/.*?\.([^\/]*)$/,pe=/(^data:image\/svg|\.svg$)/i},97:function(e,t,n){"use strict";n.r(t);var r=n(142),i=n(123),o=n(84),s=n(140),a=n(76),l=n(85),c=n(82),u=n(86),d=n(93),h=n(432),f=n(402);async function p(e,t){const l=Object(d.u)(e),f=Object(d.t)(e);f||l||(e=Object(d.D)(e));const v={url:e,requestOptions:{...Object(c.s)(t)}};let y=Object(d.l)(e);if(y){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(f){n=A("request:interceptor",f,t)}if((r instanceof Error||r instanceof o.a)&&(n=A("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}(y,v);if(null!=e)return{data:e,getHeader:O,requestOptions:v.requestOptions,url:v.url};y.after||y.error||(y=null)}if(e=v.url,"image"===(t=v.requestOptions).responseType){if(Object(a.a)("host-webworker")||Object(a.a)("host-node"))throw A("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),v)}else if(l)throw A("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),v);if("head"===t.method){if(t.body)throw A("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),v);if(l||f)throw A("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),v)}if(await async function(){Object(a.a)("host-webworker")?g||(g=await n.e(279).then(n.bind(null,632))):p._abortableFetch||(p._abortableFetch=s.a.fetch.bind(s.a))}(),g)return g.execute(e,t);const _=Object(u.d)();Object(u.q)(t,(()=>_.abort()));const w={controller:_,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:y,params:v,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},j=await async function(e){var t,n;let o,a;await async function(e){const t=e.params.url,n=e.params.requestOptions,o=e.controller.signal,a=n.body;let l=null,c=null,d=null;if(b&&"HTMLFormElement"in s.a&&(a instanceof FormData?l=a:a instanceof HTMLFormElement&&(c=a,l=new FormData(c))),"string"==typeof a&&(d=a),e.fetchOptions={cache:n.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(l||d)&&(e.fetchOptions.body=l||d),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query&&n.query.token||l&&l.get&&l.get("token")||c&&c.elements.token),!e.hasToken&&r.a.apiKey&&Object(h.a)(t)&&(n.query||(n.query={}),n.query.token=r.a.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!C(t)&&!Object(u.n)(o)){let r;"immediate"===n.authMode?(await S(),r=await i.b.getCredential(t,{signal:o}),e.credential=r):"no-prompt"===n.authMode?(await S(),r=await i.b.getCredential(t,{prompt:!1,signal:o}).catch((()=>{})),e.credential=r):i.b&&(r=i.b.findCredential(t)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[o,a]=await E(e)}while(!await k(e,o,a))}catch(f){const t=A("request:server",f,e.params,o);throw t.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(t),t}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(t=a)&&null!=(n=t.user)&&n.username&&!Object(d.y)(l)){const e=Object(d.m)(l,!0);e&&m.trustedServers.push(e)}const c=e.credential;if(c&&i.b){const e=i.b.findServerInfo(c.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=i.b.findCredential(t,c.userId);e&&-1===i.b._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:o?e=>o.headers.get(e):O,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(w);return y&&y.after&&y.after(j),j}let g;const m=r.a.request,b="FormData"in s.a,v=[499,498,403,401],y=["COM_0056","COM_0057","SB_0008"],_=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],O=()=>null,w=Symbol();function j(e){const t=Object(d.m)(e);return!t||t.endsWith(".arcgis.com")||p._corsServers.includes(t)||Object(d.y)(t)}function A(e,t,n,r){let i="Error";const s={url:n.url,requestOptions:n.requestOptions,getHeader:O,ssl:!1};if(t instanceof o.a)return t.details?(t.details=Object(l.a)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=s,t;if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,o=t.message;o&&(i=o),e&&(s.getHeader=e),s.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,s.subCode=t.subcode,s.messageCode=t.messageCode,"string"==typeof t.details?s.messages=[t.details]:s.messages=t.details,s.raw=w in t?t[w]:t}return Object(u.m)(t)?Object(u.e)():new o.a(e,i,s)}async function S(){i.b||await Promise.all([n.e(14),n.e(143),n.e(275)]).then(n.bind(null,605))}function C(e){return _.some((t=>t.test(e)))}async function E(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions,o=Object(d.t)(t)||Object(d.u)(t),s=n.responseType||"json",l=o?0:null!=n.timeout?n.timeout:m.timeout;let c=!1;if(!o){e.useSSL&&(t=Object(d.J)(t)),n.cacheBust&&"default"===r.cache&&(t=Object(d.d)(t,"request.preventCache",Date.now()));let o={...n.query};e.credentialToken&&(o.token=e.credentialToken);let s=Object(d.E)(o);Object(a.a)("esri-url-encodes-apostrophe")&&(s=s.replace(/'/g,"%27"));const l=t.length+1+s.length;let u;c="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||l>m.maxUrlLength;const h=n.useProxy||!!Object(d.o)(t);if(h){const e=Object(d.p)(t);u=e.path,!c&&u.length+1+l>m.maxUrlLength&&(c=!0),e.query&&(o={...e.query,...o})}if("HEAD"===r.method&&(c||h)){if(c){if(l>m.maxUrlLength)throw A("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw A("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw A("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(c?(r.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=Object(d.e)(t,o):(r.body=Object(d.E)(o),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Object(d.e)(t,o),h&&(e.useProxy=!0,t=`${u}?${t}`),o.token&&b&&r.body instanceof FormData){const e=r.body;e.set?e.set("token",o.token):e.append("token",o.token)}if(n.hasOwnProperty("withCredentials"))e.withCredentials=n.withCredentials;else if(!Object(d.q)(t,d.g))if(Object(d.y)(t))e.withCredentials=!0;else if(i.b){const n=i.b.findServerInfo(t);n&&n.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(r.credentials="include")}let h,f,g=0,v=!1;l>0&&(g=setTimeout((()=>{v=!0,e.controller.abort()}),l));try{if("native-request-init"===n.responseType)f=r,f.url=t;else if("image"!==n.responseType||"default"!==r.cache||"GET"!==r.method||c||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(n.headers)||!o&&!e.useProxy&&m.proxyUrl&&!j(t)){if(h=await p._abortableFetch(t,r),e.useProxy||function(e){const t=Object(d.m)(e);t&&!p._corsServers.includes(t)&&p._corsServers.push(t)}(t),"native"===n.responseType)f=h;else if("HEAD"!==r.method)if(h.ok){switch(s){case"array-buffer":f=await h.arrayBuffer();break;case"blob":case"image":f=await h.blob();break;default:f=await h.text()}if(g&&(clearTimeout(g),g=0),"json"===s||"xml"===s||"document"===s)if(f)switch(s){case"json":f=JSON.parse(f);break;case"xml":f=I(f,"application/xml");break;case"document":f=I(f,"text/html")}else f=null;if(f){if("array-buffer"===s||"blob"===s){const e=h.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&f["blob"===s?"size":"byteLength"]<=750)try{const e=await new Response(f).json();e.error&&(f=e)}catch{}}"image"===s&&f instanceof Blob&&(f=await x(URL.createObjectURL(f),e,!0))}}else f=await h.text()}else f=await x(t,e)}catch(y){if("AbortError"===y.name){if(v)throw new Error("Timeout exceeded");throw Object(u.e)("Request canceled")}if(!(!h&&y instanceof TypeError&&m.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||j(t))throw y;e.redoRequest=!0,Object(d.c)({proxyUrl:m.proxyUrl,urlPrefix:Object(d.m)(t)})}finally{g&&clearTimeout(g)}return[h,f]}function I(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function k(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let o,s,a,l;if(!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[w]=n,o;null!=n&&n.error&&(o=n.error),o&&(s=Number(o.code),a=o.hasOwnProperty("subcode")?Number(o.subcode):null,l=o.messageCode,l=l&&l.toUpperCase());const c=r.authMode;if(403===s&&(4===a||o.message&&o.message.toLowerCase().indexOf("ssl")>-1&&-1===o.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===s)&&-1!==v.indexOf(s)&&!C(e.params.url)&&(403!==s||-1===y.indexOf(l)&&(null==a||2===a&&e.credentialToken))){await S();try{const t=await i.b.getCredential(e.params.url,{error:A("request:server",o,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(u){if("no-prompt"===c)return e.credential=null,e.credentialToken=null,!1;o=u}}if(o)throw o;return!0}function x(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,Object(f.a)(i,e,n,r)}p._abortableFetch=null,p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],t.default=p}}]);
//# sourceMappingURL=85.5b06b5ec.chunk.js.map