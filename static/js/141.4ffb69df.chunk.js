(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[141,276],{1213:function(e,t,n){"use strict";n.r(t),n.d(t,"DirectLineMeasurement3DController",(function(){return A}));var r=n(81),a=(n(79),n(88)),i=(n(80),n(87),n(84)),s=n(83),c=(n(82),n(85),n(86),n(95)),o=n(138),u=n(108),d=n(102),l=n(109),h=n(113),f=n(106),p=n(170),g=n(220),m=n(906),M=n(609),b=n(499),y=n(977);let A=class extends c.a{constructor(e){super(e),this._tempStartPosition=Object(d.e)(),this._tempEndPosition=Object(d.e)(),this._tempCornerPosition=Object(d.e)(),this._unitNormalizer=new y.a,this._handles=new h.a}initialize(){this._handles.add(Object(f.j)(this.view,"ready",(()=>this._initialize()),!0))}_initialize(){const e=this.view.spatialReference,t=Object(p.g)(e),n=t===p.a?p.d:t;this._sphericalPCPF=n;const r=Object(g.b)(e,n);this._unitNormalizer.spatialReference=r?n:e,this._handles.add([this.dataObject.watch("startPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("endPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("settings",(()=>this._updateMeasurement()),!0)],"model"),this._updateMeasurement()}_updateMeasurement(){const e=this.dataObject.startPoint,t=this.dataObject.endPoint;if(Object(a.j)(e)||Object(a.j)(t))return void(this.dataObject.measurement=null);const n=this._euclideanDistances(e,t),r=this._exactGeodesicDistanceAndAngle(e,t,n.horizontal.value);this.dataObject.measurement={directDistance:n.direct,horizontalDistance:n.horizontal,verticalDistance:n.vertical,geodesicDistance:r.distance,geodesicAngle:r.angle}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const n=e.clone();n.z=t.z;const r=this._tempStartPosition,a=this._tempEndPosition,i=this._tempCornerPosition,s=this.view.spatialReference,c=this._sphericalPCPF,o=Object(g.b)(s,c)?c:s;Object(g.o)(e,r,o),Object(g.o)(t,a,o),Object(g.o)(n,i,o);const u=Object(l.n)(r,a),d=Object(l.n)(i,a),h=Math.abs(t.z-e.z),f=e=>this._unitNormalizer.normalizeDistance(e),p=f(u),M=f(d),b=f(h);return{direct:new m.a(p,"meters"),horizontal:new m.a(M,"meters"),vertical:new m.a(b,"meters")}}_exactGeodesicDistanceAndAngle(e,t,n){const r=e.spatialReference,a=new o.a({paths:[e,t],spatialReference:r}),i=r.isGeographic&&Object(M.f)(r)?Object(M.d)([a],"meters")[0]:r.isWebMercator?Object(b.geodesicLength)(a,"meters"):void 0,{distance:s,angle:c}=i?{distance:i,angle:this._fallbackGeodesicAngle(i,r)}:this._fallbackGeodesicDistance(e,t,n);return{distance:new m.a(s,"meters"),angle:new m.a(c,"degrees")}}_fallbackGeodesicAngle(e,t){return e/Object(p.e)(t).metersPerDegree}_fallbackGeodesicDistance(e,t,n){if(Object(g.p)(e,j)){Object(g.p)(t,O);const e=Object(u.f)(j[0]),n=Object(u.f)(j[1]),r=Object(u.f)(O[0]),a=Object(u.f)(O[1]),i=Math.abs(r-e),s=Object(u.b)(Math.sin(n)*Math.sin(a)+Math.cos(n)*Math.cos(a)*Math.cos(i)),c=Object(u.q)(s),o={distance:0};return Object(M.e)(o,[j[0],j[1]],[O[0],O[1]]),{distance:o.distance,angle:c}}{const t=e.spatialReference,r=n;return{distance:r,angle:this._fallbackGeodesicAngle(r,t)}}}};Object(r.a)([Object(i.b)()],A.prototype,"view",void 0),Object(r.a)([Object(i.b)()],A.prototype,"dataObject",void 0),A=Object(r.a)([Object(s.a)("esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DController")],A);const j=Object(d.e)(),O=Object(d.e)()},482:function(e,t,n){"use strict";n.r(t),n.d(t,"hydratedAdapter",(function(){return o}));var r=n(111),a=n(101),i=n(222),s=n(127),c=n(138);const o={convertToGEGeometry:function(e,t){if(null==t)return null;let n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){const a=e.hasZ(t),i=e.hasM(t),s=new r.a({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return a&&(s.z=e.getPointZ(t)),i&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,n){const r=new s.a({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){const r=new c.a({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){const r=new i.a({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){const r=e.hasZ(t),i=e.hasM(t),s=new a.a({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(r){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(i){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}}},499:function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return R})),n.d(t,"clip",(function(){return c})),n.d(t,"contains",(function(){return u})),n.d(t,"convexHull",(function(){return j})),n.d(t,"crosses",(function(){return d})),n.d(t,"cut",(function(){return o})),n.d(t,"densify",(function(){return k})),n.d(t,"difference",(function(){return O})),n.d(t,"disjoint",(function(){return m})),n.d(t,"distance",(function(){return l})),n.d(t,"equals",(function(){return h})),n.d(t,"extendedSpatialReferenceInfo",(function(){return s})),n.d(t,"flipHorizontal",(function(){return S})),n.d(t,"flipVertical",(function(){return G})),n.d(t,"generalize",(function(){return V})),n.d(t,"geodesicArea",(function(){return C})),n.d(t,"geodesicBuffer",(function(){return z})),n.d(t,"geodesicDensify",(function(){return U})),n.d(t,"geodesicLength",(function(){return L})),n.d(t,"intersect",(function(){return _})),n.d(t,"intersects",(function(){return f})),n.d(t,"isSimple",(function(){return y})),n.d(t,"nearestCoordinate",(function(){return P})),n.d(t,"nearestVertex",(function(){return D})),n.d(t,"nearestVertices",(function(){return E})),n.d(t,"offset",(function(){return x})),n.d(t,"overlaps",(function(){return M})),n.d(t,"planarArea",(function(){return Z})),n.d(t,"planarLength",(function(){return I})),n.d(t,"relate",(function(){return b})),n.d(t,"rotate",(function(){return q})),n.d(t,"simplify",(function(){return A})),n.d(t,"symmetricDifference",(function(){return w})),n.d(t,"touches",(function(){return p})),n.d(t,"union",(function(){return v})),n.d(t,"within",(function(){return g}));var r=n(500),a=n(482);function i(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function s(e){return r.a.extendedSpatialReferenceInfo(e)}function c(e,t){return r.a.clip(a.hydratedAdapter,i(e),e,t)}function o(e,t){return r.a.cut(a.hydratedAdapter,i(e),e,t)}function u(e,t){return r.a.contains(a.hydratedAdapter,i(e),e,t)}function d(e,t){return r.a.crosses(a.hydratedAdapter,i(e),e,t)}function l(e,t,n){return r.a.distance(a.hydratedAdapter,i(e),e,t,n)}function h(e,t){return r.a.equals(a.hydratedAdapter,i(e),e,t)}function f(e,t){return r.a.intersects(a.hydratedAdapter,i(e),e,t)}function p(e,t){return r.a.touches(a.hydratedAdapter,i(e),e,t)}function g(e,t){return r.a.within(a.hydratedAdapter,i(e),e,t)}function m(e,t){return r.a.disjoint(a.hydratedAdapter,i(e),e,t)}function M(e,t){return r.a.overlaps(a.hydratedAdapter,i(e),e,t)}function b(e,t,n){return r.a.relate(a.hydratedAdapter,i(e),e,t,n)}function y(e){return r.a.isSimple(a.hydratedAdapter,i(e),e)}function A(e){return r.a.simplify(a.hydratedAdapter,i(e),e)}function j(e,t=!1){return r.a.convexHull(a.hydratedAdapter,i(e),e,t)}function O(e,t){return r.a.difference(a.hydratedAdapter,i(e),e,t)}function w(e,t){return r.a.symmetricDifference(a.hydratedAdapter,i(e),e,t)}function _(e,t){return r.a.intersect(a.hydratedAdapter,i(e),e,t)}function v(e,t=null){return r.a.union(a.hydratedAdapter,i(e),e,t)}function x(e,t,n,s,c,o){return r.a.offset(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function R(e,t,n,s=!1){return r.a.buffer(a.hydratedAdapter,i(e),e,t,n,s)}function z(e,t,n,s,c,o){return r.a.geodesicBuffer(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function P(e,t,n=!0){return r.a.nearestCoordinate(a.hydratedAdapter,i(e),e,t,n)}function D(e,t){return r.a.nearestVertex(a.hydratedAdapter,i(e),e,t)}function E(e,t,n,s){return r.a.nearestVertices(a.hydratedAdapter,i(e),e,t,n,s)}function N(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function q(e,t,n){var a;if(null==e)throw new Error("Illegal Argument Exception");const i=e.spatialReference;if(null==(n=null!=(a=n)?a:N(e)))throw new Error("Illegal Argument Exception");const s=e.constructor.fromJSON(r.a.rotate(e,t,n));return s.spatialReference=i,s}function S(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");const a=e.spatialReference;if(null==(t=null!=(n=t)?n:N(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.a.flipHorizontal(e,t));return i.spatialReference=a,i}function G(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");const a=e.spatialReference;if(null==(t=null!=(n=t)?n:N(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.a.flipVertical(e,t));return i.spatialReference=a,i}function V(e,t,n,s){return r.a.generalize(a.hydratedAdapter,i(e),e,t,n,s)}function k(e,t,n){return r.a.densify(a.hydratedAdapter,i(e),e,t,n)}function U(e,t,n,s=0){return r.a.geodesicDensify(a.hydratedAdapter,i(e),e,t,n,s)}function Z(e,t){return r.a.planarArea(a.hydratedAdapter,i(e),e,t)}function I(e,t){return r.a.planarLength(a.hydratedAdapter,i(e),e,t)}function C(e,t,n){return r.a.geodesicArea(a.hydratedAdapter,i(e),e,t,n)}function L(e,t,n){return r.a.geodesicLength(a.hydratedAdapter,i(e),e,t,n)}},609:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return h}));var r=n(91),a=n(97),i=(n(111),n(127)),s=n(138),c=(n(99),n(115)),o=n(526);function u(e){if(!e)return null;if(e.isGeographic&&e.wkid){const t=o.c[e.wkid];if(t)return t}if(e.wkt){const t=o.a.exec(e.wkt);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const r=parseFloat(n[1]),a=parseFloat(n[2]);return isNaN(r)||isNaN(a)?null:{a:r,f:0===a?0:1/a}}return null}function d(e){const t=u(e||a.a.WGS84);if(function(e){return"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function l(e,t,n){const{a:r,eSq:a}=d(n),i=Math.sqrt(a),s=Math.sin(t[1]*o.d),c=r*t[0]*o.d;let u;return u=a>0?r*((1-a)*(s/(1-a*(s*s))-1/(2*i)*Math.log((1-i*s)/(1+i*s))))*.5:r*s,e[0]=c,e[1]=u,e}function h(e){return null!==u(e)}function f(e,t="square-meters"){if(e.some((e=>!h(e.spatialReference))))throw new r.a("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let r=0;r<e.length;r++){const t=e[r],a=t.spatialReference,{radius:i,densificationRatio:s}=d(a),c=i*s;n.push(g(t,c))}const a=[],i=[0,0],s=[0,0];for(let r=0;r<n.length;r++){const{rings:e,spatialReference:o}=n[r];let u=0;for(let t=0;t<e.length;t++){const n=e[t];l(i,n[0],o),l(s,n[n.length-1],o);let r=s[0]*i[1]-i[0]*s[1];for(let e=0;e<n.length-1;e++)l(i,n[e+1],o),l(s,n[e],o),r+=s[0]*i[1]-i[0]*s[1];u+=r}u=Object(c.c)(u,"square-meters",t),a.push(u/-2)}return a}function p(e,t="meters"){const n=e,a=e;if(!n&&!a)throw new r.a("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(n?n.some((e=>!h(e.spatialReference))):a.some((e=>!h(e.spatialReference))))throw new r.a("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let r=0;r<e.length;r++){const n=e[r],{spatialReference:a}=n,s="polyline"===n.type?n.paths:n.rings;let o=0;for(let e=0;e<s.length;e++){const t=s[e];let n=0;for(let e=1;e<t.length;e++){const r=t[e-1][0],i=t[e][0],s=t[e-1][1],c=t[e][1];if(s!==c||r!==i){const e={distance:null};M(e,[r,s],[i,c],a),n+=e.distance}}o+=n}o=Object(c.c)(o,"meters",t),i.push(o)}return i}function g(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new r.a("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!h(n))throw new r.a("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const a="polyline"===e.type?e.paths:e.rings,c=[],o=[0,0],u={distance:null};for(const r of a){const e=[];c.push(e),e.push([r[0][0],r[0][1]]);let a,i,s=r[0][0],d=r[0][1];for(let c=0;c<r.length-1;c++){if(a=r[c+1][0],i=r[c+1][1],s===a&&d===i)continue;const l=[s,d];M(u,[s,d],[a,i],n);const{azimuth:h,distance:f}=u,p=f/t;if(p>1){for(let r=1;r<=p-1;r++)m(o,l,h,r*t,n),e.push(o.slice(0));m(o,l,h,(f+Math.floor(p-1)*t)/2,n),e.push(o.slice(0))}m(o,l,h,f,n),e.push(o.slice(0)),s=o[0],d=o[1]}}return"polyline"===e.type?new s.a({paths:c,spatialReference:n}):new i.a({rings:c,spatialReference:n})}function m(e,t,n,r,a){const i=t[0],s=t[1],c=i*o.d,u=s*o.d,l=n*o.d,{a:h,b:f,f:p}=d(a),g=Math.sin(l),m=Math.cos(l),M=(1-p)*Math.tan(u),b=1/Math.sqrt(1+M*M),y=M*b,A=Math.atan2(M,m),j=b*g,O=j*j,w=1-O,_=w*(h*h-f*f)/(f*f),v=1+_/16384*(4096+_*(_*(320-175*_)-768)),x=_/1024*(256+_*(_*(74-47*_)-128));let R,z,P,D,E=r/(f*v),N=2*Math.PI;for(;Math.abs(E-N)>1e-12;)P=Math.cos(2*A+E),R=Math.sin(E),z=Math.cos(E),D=x*R*(P+x/4*(z*(2*P*P-1)-x/6*P*(4*R*R-3)*(4*P*P-3))),N=E,E=r/(f*v)+D;const q=y*R-b*z*m,S=Math.atan2(y*z+b*R*m,(1-p)*Math.sqrt(O+q*q)),G=Math.atan2(R*g,b*z-y*R*m),V=p/16*w*(4+p*(4-3*w)),k=S/o.d,U=(c+(G-(1-V)*p*j*(E+V*R*(P+V*z*(2*P*P-1)))))/o.d;return e[0]=U,e[1]=k,e}function M(e,t,n,r){const a=t[0]*o.d,i=t[1]*o.d,s=n[0]*o.d,c=n[1]*o.d,{a:u,b:l,f:h,radius:f}=d(r),p=s-a,g=Math.atan((1-h)*Math.tan(i)),m=Math.atan((1-h)*Math.tan(c)),M=Math.sin(g),b=Math.cos(g),y=Math.sin(m),A=Math.cos(m);let j,O,w,_,v,x,R,z,P,D,E=1e3,N=p;do{if(R=Math.sin(N),z=Math.cos(N),w=Math.sqrt(A*R*(A*R)+(b*y-M*A*z)*(b*y-M*A*z)),0===w)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;v=M*y+b*A*z,x=Math.atan2(w,v),P=b*A*R/w,O=1-P*P,_=v-2*M*y/O,isNaN(_)&&(_=0),D=h/16*O*(4+h*(4-3*O)),j=N,N=p+(1-D)*h*P*(x+D*w*(_+D*v*(2*_*_-1)))}while(Math.abs(N-j)>1e-12&&--E>0);if(0===E){const t=f,n=Math.acos(Math.sin(i)*Math.sin(c)+Math.cos(i)*Math.cos(c)*Math.cos(s-a))*t,r=s-a,u=Math.sin(r)*Math.cos(c),d=Math.cos(i)*Math.sin(c)-Math.sin(i)*Math.cos(c)*Math.cos(r),l=Math.atan2(u,d);return e.azimuth=l/o.d,e.distance=n,e.reverseAzimuth=void 0,e}const q=O*(u*u-l*l)/(l*l),S=q/1024*(256+q*(q*(74-47*q)-128)),G=l*(1+q/16384*(4096+q*(q*(320-175*q)-768)))*(x-S*w*(_+S/4*(v*(2*_*_-1)-S/6*_*(4*w*w-3)*(4*_*_-3)))),V=Math.atan2(A*Math.sin(N),b*y-M*A*Math.cos(N)),k=Math.atan2(b*Math.sin(N),b*y*Math.cos(N)-M*A);return e.azimuth=V/o.d,e.distance=G,e.reverseAzimuth=k/o.d,e}},906:function(e,t,n){"use strict";var r=n(115);class a{constructor(e,t){this.measure=Object(r.o)(t),this.value=e,this.unit=t}get isBaseUnit(){return Object(r.k)(this.unit)}toUnit(e){return new a(Object(r.c)(this.value,this.unit,e),e)}toBaseUnit(){return this.toUnit(Object(r.b)(this.unit))}}t.a=a},977:function(e,t,n){"use strict";var r=n(115);t.a=class{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=Object(r.f)(this._spatialReference,1),this._metersPerElevationUnit=Object(r.f)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}}}]);
//# sourceMappingURL=141.4ffb69df.chunk.js.map