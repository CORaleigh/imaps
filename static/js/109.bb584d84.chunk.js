(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[109],{1075:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r,o=i(81),n=i(87),s=i(83),a=(i(84),i(79),i(80),i(93)),l=i(82),c=i(783),d=i(164),u=i(283);let p=r=class extends c.a{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new r({...this.cloneProperties(),field:Object(n.a)(this.field),fieldTransformType:Object(n.a)(this.fieldTransformType),stops:Object(n.a)(this.stops),legendOptions:Object(n.a)(this.legendOptions)})}};Object(o.a)([Object(a.a)({pointCloudStretchRenderer:"point-cloud-stretch"})],p.prototype,"type",void 0),Object(o.a)([Object(s.b)({json:{write:!0},type:String})],p.prototype,"field",void 0),Object(o.a)([Object(s.b)({type:d.a,json:{write:!0}})],p.prototype,"legendOptions",void 0),Object(o.a)([Object(s.b)({type:c.a.fieldTransformTypeKebabDict.apiValues,json:{type:c.a.fieldTransformTypeKebabDict.jsonValues,read:c.a.fieldTransformTypeKebabDict.read,write:c.a.fieldTransformTypeKebabDict.write}})],p.prototype,"fieldTransformType",void 0),Object(o.a)([Object(s.b)({type:[u.a],json:{write:!0}})],p.prototype,"stops",void 0),p=r=Object(o.a)([Object(l.a)("esri.renderers.PointCloudStretchRenderer")],p);var b=p},1108:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r,o=i(81),n=i(87),s=i(83),a=i(84),l=(i(79),i(80),i(93)),c=i(82),d=i(783),u=i(164),p=i(104),b=i(86);let y=r=class extends b.a{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:Object(n.a)(this.color)})}};Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],y.prototype,"description",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],y.prototype,"label",void 0),Object(o.a)([Object(s.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],y.prototype,"minValue",void 0),Object(o.a)([Object(s.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],y.prototype,"maxValue",void 0),Object(o.a)([Object(s.b)({type:p.a,json:{type:[a.a],write:!0}})],y.prototype,"color",void 0),y=r=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],y);var j,O=y;let f=j=class extends d.a{constructor(e){super(e),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new j({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:Object(n.a)(this.colorClassBreakInfos),legendOptions:Object(n.a)(this.legendOptions)})}};Object(o.a)([Object(l.a)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],f.prototype,"type",void 0),Object(o.a)([Object(s.b)({json:{write:!0},type:String})],f.prototype,"field",void 0),Object(o.a)([Object(s.b)({type:u.a,json:{write:!0}})],f.prototype,"legendOptions",void 0),Object(o.a)([Object(s.b)({type:d.a.fieldTransformTypeKebabDict.apiValues,json:{type:d.a.fieldTransformTypeKebabDict.jsonValues,read:d.a.fieldTransformTypeKebabDict.read,write:d.a.fieldTransformTypeKebabDict.write}})],f.prototype,"fieldTransformType",void 0),Object(o.a)([Object(s.b)({type:[O],json:{write:!0}})],f.prototype,"colorClassBreakInfos",void 0),f=j=Object(o.a)([Object(c.a)("esri.renderers.PointCloudClassBreaksRenderer")],f);var h=f},1109:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r,o=i(81),n=i(87),s=i(83),a=i(84),l=(i(79),i(80),i(93)),c=i(82),d=i(783),u=i(164),p=i(104),b=i(86);let y=r=class extends b.a{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new r({description:this.description,label:this.label,values:Object(n.a)(this.values),color:Object(n.a)(this.color)})}};Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],y.prototype,"description",void 0),Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],y.prototype,"label",void 0),Object(o.a)([Object(s.b)({type:[String],json:{write:!0}})],y.prototype,"values",void 0),Object(o.a)([Object(s.b)({type:p.a,json:{type:[a.a],write:!0}})],y.prototype,"color",void 0),y=r=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],y);var j,O=y;let f=j=class extends d.a{constructor(e){super(e),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new j({...this.cloneProperties(),field:Object(n.a)(this.field),fieldTransformType:Object(n.a)(this.fieldTransformType),colorUniqueValueInfos:Object(n.a)(this.colorUniqueValueInfos),legendOptions:Object(n.a)(this.legendOptions)})}};Object(o.a)([Object(l.a)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],f.prototype,"type",void 0),Object(o.a)([Object(s.b)({json:{write:!0},type:String})],f.prototype,"field",void 0),Object(o.a)([Object(s.b)({type:d.a.fieldTransformTypeKebabDict.apiValues,json:{type:d.a.fieldTransformTypeKebabDict.jsonValues,read:d.a.fieldTransformTypeKebabDict.read,write:d.a.fieldTransformTypeKebabDict.write}})],f.prototype,"fieldTransformType",void 0),Object(o.a)([Object(s.b)({type:[O],json:{write:!0}})],f.prototype,"colorUniqueValueInfos",void 0),Object(o.a)([Object(s.b)({type:u.a,json:{write:!0}})],f.prototype,"legendOptions",void 0),f=j=Object(o.a)([Object(c.a)("esri.renderers.PointCloudUniqueValueRenderer")],f);var h=f},119:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r=i(81),o=i(89),n=i(86),s=i(83),a=(i(79),i(84),i(80),i(93)),l=i(82);const c=new o.a({inherited:"inherited",codedValue:"coded-value",range:"range"});let d=class extends n.a{constructor(e){super(e),this.name=null,this.type=null}};Object(r.a)([Object(s.b)({type:String,json:{write:!0}})],d.prototype,"name",void 0),Object(r.a)([Object(a.a)(c)],d.prototype,"type",void 0),d=Object(r.a)([Object(l.a)("esri.layers.support.Domain")],d);var u=d},143:function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));var r,o=i(81),n=i(87),s=i(83),a=(i(84),i(79),i(80),i(93)),l=i(82),c=i(86);let d=r=class extends c.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],d.prototype,"name",void 0),Object(o.a)([Object(s.b)({type:[String,Number],json:{write:!0}})],d.prototype,"code",void 0),d=r=Object(o.a)([Object(l.a)("esri.layers.support.CodedValue")],d);var u,p=d,b=i(119);let y=u=class extends b.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new u({codedValues:Object(n.a)(this.codedValues),name:this.name})}};Object(o.a)([Object(s.b)({type:[p],json:{write:!0}})],y.prototype,"codedValues",void 0),Object(o.a)([Object(a.a)({codedValue:"coded-value"})],y.prototype,"type",void 0),y=u=Object(o.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],y);var j=y},147:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,o=i(81),n=(i(83),i(79),i(84),i(80),i(93)),s=i(82),a=i(119);let l=r=class extends a.a{constructor(e){super(e),this.type="inherited"}clone(){return new r}};Object(o.a)([Object(n.a)({inherited:"inherited"})],l.prototype,"type",void 0),l=r=Object(o.a)([Object(s.a)("esri.layers.support.InheritedDomain")],l);var c=l},148:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r,o=i(81),n=i(83),s=(i(79),i(84),i(80),i(93)),a=i(82),l=i(119);let c=r=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(o.a)([Object(n.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(o.a)([Object(n.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(o.a)([Object(s.a)({range:"range"})],c.prototype,"type",void 0),c=r=Object(o.a)([Object(a.a)("esri.layers.support.RangeDomain")],c);var d=c},157:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var r,o=i(81),n=i(89),s=i(86),a=i(83),l=(i(79),i(84)),c=(i(80),i(93)),d=i(92),u=i(82),p=i(242),b=i(267);const y=new n.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let j=r=class extends s.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let i;try{i=JSON.parse(t)}catch(r){}return i?i.value:null}readValueType(e,{description:t}){let i;try{i=JSON.parse(t)}catch(r){}return i?y.fromJSON(i.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],j.prototype,"alias",void 0),Object(o.a)([Object(a.b)({type:[String,Number],json:{write:{allowNull:!0}}})],j.prototype,"defaultValue",void 0),Object(o.a)([Object(a.b)()],j.prototype,"description",void 0),Object(o.a)([Object(d.a)("description")],j.prototype,"readDescription",null),Object(o.a)([Object(a.b)({types:p.b,json:{read:{reader:p.a},write:!0}})],j.prototype,"domain",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),Object(o.a)([Object(a.b)({type:l.a,json:{write:!0}})],j.prototype,"length",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],j.prototype,"name",void 0),Object(o.a)([Object(a.b)({type:Boolean,json:{write:!0}})],j.prototype,"nullable",void 0),Object(o.a)([Object(c.a)(b.a)],j.prototype,"type",void 0),Object(o.a)([Object(a.b)()],j.prototype,"valueType",void 0),Object(o.a)([Object(d.a)("valueType",["description"])],j.prototype,"readValueType",null),j=r=Object(o.a)([Object(u.a)("esri.layers.support.Field")],j);var O=j},164:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,o=i(81),n=i(86),s=i(83),a=(i(79),i(84),i(80),i(82));let l=r=class extends n.a{constructor(){super(...arguments),this.title=null}clone(){return new r({title:this.title})}};Object(o.a)([Object(s.b)({type:String,json:{write:!0}})],l.prototype,"title",void 0),l=r=Object(o.a)([Object(a.a)("esri.renderers.support.LegendOptions")],l);var c=l},186:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r,o=i(81),n=i(96),s=i(144),a=i(83),l=(i(79),i(84),i(80),i(82));let c=r=class extends(Object(s.a)(n.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(o.a)([Object(a.b)()],c.prototype,"active",void 0),Object(o.a)([Object(a.b)()],c.prototype,"className",void 0),Object(o.a)([Object(a.b)()],c.prototype,"disabled",void 0),Object(o.a)([Object(a.b)()],c.prototype,"id",void 0),Object(o.a)([Object(a.b)()],c.prototype,"indicator",void 0),Object(o.a)([Object(a.b)()],c.prototype,"title",void 0),Object(o.a)([Object(a.b)()],c.prototype,"type",void 0),Object(o.a)([Object(a.b)()],c.prototype,"visible",void 0),c=r=Object(o.a)([Object(l.a)("esri.support.actions.ActionBase")],c);var d=c},240:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n}));var r=i(84);function o(e){const t=Object(r.e)(100*(1-e));return Math.max(0,Math.min(t,100))}function n(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},242:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return a}));i(79);var r=i(143),o=i(119),n=i(147),s=i(148);const a={key:"type",base:o.a,typeMap:{range:s.a,"coded-value":r.a,inherited:n.a}};function l(e){if(!e||!e.type)return null;switch(e.type){case"range":return s.a.fromJSON(e);case"codedValue":return r.a.fromJSON(e);case"inherited":return n.a.fromJSON(e)}return null}},243:function(e,t,i){"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}i.d(t,"a",(function(){return o}));class o{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const i of e){const e=i&&i.name;if(e){const o=n(e);this._fieldsMap.set(e,i),this._fieldsMap.set(o,i),t.push(o),r(i)&&(this.dateFields.push(i),this._dateFieldsSet.add(i))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(n(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function n(e){return e.toLowerCase().trim()}},267:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=new(i(89).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},283:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r,o=i(81),n=i(104),s=i(86),a=i(83),l=(i(79),i(84)),c=(i(80),i(82)),d=i(90);let u=r=class extends s.a{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=null==e?0:e}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};Object(o.a)([Object(a.b)({type:n.a,json:{type:[l.a],write:!0}})],u.prototype,"color",void 0),Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"label",void 0),Object(o.a)([Object(a.b)({type:Number,json:{write:{allowNull:!0}}})],u.prototype,"value",void 0),Object(o.a)([Object(d.a)("value")],u.prototype,"writeValue",null),u=r=Object(o.a)([Object(c.a)("esri.renderers.visualVariables.support.ColorStop")],u);var p=u},300:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r,o=i(81),n=i(89),s=i(86),a=i(85),l=i(83),c=(i(79),i(84),i(80),i(92)),d=i(82),u=i(90),p=i(107);let b=r=class extends s.a{async collectRequiredFields(e,t){return Object(p.c)(e,t,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}};Object(o.a)([Object(l.b)({type:String,json:{write:!0}})],b.prototype,"expression",void 0),Object(o.a)([Object(l.b)({type:String,json:{write:!0}})],b.prototype,"title",void 0),b=r=Object(o.a)([Object(d.a)("esri.layers.support.FeatureExpressionInfo")],b);var y,j=b,O=i(539);const f=Object(n.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),h=new n.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let v=y=class extends s.a{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write(null,r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):Object(a.k)(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new y({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};Object(o.a)([Object(l.b)({type:j,json:{write:!0}})],v.prototype,"featureExpressionInfo",void 0),Object(o.a)([Object(c.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],v.prototype,"readFeatureExpressionInfo",null),Object(o.a)([Object(u.a)("featureExpressionInfo",{featureExpressionInfo:{type:j},"featureExpression.value":{type:[0]}})],v.prototype,"writeFeatureExpressionInfo",null),Object(o.a)([Object(l.b)({type:f.apiValues,nonNullable:!0,json:{type:f.jsonValues,read:f.read,write:{writer:f.write,isRequired:!0}}})],v.prototype,"mode",null),Object(o.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"offset",void 0),Object(o.a)([Object(l.b)({type:O.b,json:{type:String,read:h.read,write:h.write}})],v.prototype,"unit",null),v=y=Object(o.a)([Object(d.a)("esri.layers.support.ElevationInfo")],v);var m=v},309:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r=i(170),o=i(107),n=i(419),s=(i(386),i(420),i(421)),a=(i(422),i(366),i(333)),l=i(381);const c=["oid","global-id"],d=["oid","global-id","guid"];function u({displayField:e,editFieldsInfo:t,fields:i,objectIdField:a,title:l},c){if(!i)return null;const d=f({editFieldsInfo:t,fields:i,objectIdField:a},c);if(!d.length)return null;const u=function(e){const t=Object(o.o)(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i}({titleBase:l,fields:i,displayField:e}),p=[new s.a,new n.a];return new r.a({title:u,content:p,fieldInfos:d})}const p=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],b=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:r})=>r?r.has(e.name):!j(e.name,t)&&(!i||e.name!==i)&&!(c.indexOf(e.type)>-1)&&!p.some((t=>t.test(e.name)));function y(e,t){return"oid"===e.type?-1:"oid"===t.type?1:v(e)?-1:v(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function j(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:r,editDateField:o,editorField:n}=t;return-1!==[i&&i.toLowerCase(),r&&r.toLowerCase(),o&&o.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())}function O(e,t){return e.editable&&-1===d.indexOf(e.type)&&!j(e.name,t)}function f({editFieldsInfo:e,fields:t,objectIdField:i},r){return function(e,t){const i=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===i&&(e=e.slice()),e.sort(y),e}(t,(null==r?void 0:r.ignoreFieldTypes)||m).map((t=>new a.a({fieldName:t.name,isEditable:O(t,e),label:t.alias,format:h(t),visible:b(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:null==r?void 0:r.visibleFieldNames})})))}function h(e){switch(e.type){case"small-integer":case"integer":case"single":return new l.a({digitSeparator:!0,places:0});case"double":return new l.a({digitSeparator:!0,places:2});case"date":return new l.a({dateFormat:"long-month-day-year"});default:return null}}function v(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const m=["geometry","blob","raster","guid","xml"]},324:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(81),o=i(83),n=(i(79),i(84),i(80),i(82));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return Object(r.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(r.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],t.prototype,"scaleRangeId",null),t=Object(r.a)([Object(n.a)("esri.layers.mixins.ScaleRangeLayer")],t),t}},334:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,o=i(81),n=i(83),s=(i(79),i(84),i(80),i(82)),a=i(186);let l=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(o.a)([Object(n.b)()],l.prototype,"image",void 0),l=r=Object(o.a)([Object(s.a)("esri.support.Action.ActionButton")],l);var c=l},338:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i(80),o=i(157),n=i(243),s=i(107);const a=r.a.getLogger("esri.layers.support.fieldProperties");function l(){return{fields:{type:[o.a],value:null},fieldsIndex:{readOnly:!0,get(){return new n.a(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||a.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return Object(s.l)(this.fieldsIndex,e)}}}}},358:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,o=i(81),n=i(83),s=(i(79),i(84),i(80),i(82)),a=i(186);let l=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(o.a)([Object(n.b)()],l.prototype,"image",void 0),Object(o.a)([Object(n.b)()],l.prototype,"value",void 0),l=r=Object(o.a)([Object(s.a)("esri.support.Action.ActionToggle")],l);var c=l},539:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o}));var r=i(228);function o(e){return null!=r.a[e]}function n(e){return 1/(r.a[e]||1)}const s=function(){const e=Object.keys(r.a);return e.sort(),e}()},783:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var r,o=i(81),n=i(89),s=i(86),a=i(87),l=i(83),c=(i(84),i(79),i(80),i(82));let d=r=class extends s.a{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new r({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};Object(o.a)([Object(l.b)({type:String,json:{write:!0}})],d.prototype,"field",void 0),Object(o.a)([Object(l.b)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"minValue",void 0),Object(o.a)([Object(l.b)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"maxValue",void 0),d=r=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.ColorModulation")],d);var u=d;const p=new n.a({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let b=class extends s.a{};Object(o.a)([Object(l.b)({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],b.prototype,"type",void 0),b=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],b);var y,j=b,O=i(93);let f=y=class extends j{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new y({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};Object(o.a)([Object(O.a)({pointCloudFixedSizeAlgorithm:"fixed-size"})],f.prototype,"type",void 0),Object(o.a)([Object(l.b)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"size",void 0),Object(o.a)([Object(l.b)({type:Boolean,json:{write:!0}})],f.prototype,"useRealWorldSymbolSizes",void 0),f=y=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],f);var h,v=f;let m=h=class extends j{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new h({scaleFactor:this.scaleFactor})}};Object(o.a)([Object(O.a)({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0),Object(o.a)([Object(l.b)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0),m=h=Object(o.a)([Object(c.a)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m);const g={key:"type",base:j,typeMap:{"fixed-size":v,splat:m}},w=Object(n.b)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let x=class extends s.a{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:Object(a.a)(this.pointSizeAlgorithm),colorModulation:Object(a.a)(this.colorModulation),pointsPerInch:Object(a.a)(this.pointsPerInch)}}};Object(o.a)([Object(l.b)({type:w.apiValues,readOnly:!0,nonNullable:!0,json:{type:w.jsonValues,read:!1,write:w.write}})],x.prototype,"type",void 0),Object(o.a)([Object(l.b)({types:g,json:{write:!0}})],x.prototype,"pointSizeAlgorithm",void 0),Object(o.a)([Object(l.b)({type:u,json:{write:!0}})],x.prototype,"colorModulation",void 0),Object(o.a)([Object(l.b)({json:{write:!0},nonNullable:!0,type:Number})],x.prototype,"pointsPerInch",void 0),x=Object(o.a)([Object(c.a)("esri.renderers.PointCloudRenderer")],x),(x||(x={})).fieldTransformTypeKebabDict=new n.a({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});var T=x},963:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return te}));var r=i(81),o=i(170),n=i(101),s=i(88),a=i(87),l=i(80),c=i(85),d=i(291),u=i(112),p=i(91),b=i(98),y=i(83),j=i(84),O=(i(79),i(92)),f=i(82),h=i(90),v=i(182),m=i(332),g=i(316),w=i(244),x=i(341),T=i(324),S=i(907),I=i(93),F=i(86);let V=class extends F.a{constructor(e){super(e),this.field=null,this.type=null}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}};Object(r.a)([Object(y.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],V.prototype,"field",void 0),Object(r.a)([Object(y.b)({readOnly:!0,nonNullable:!0,json:{read:!1}})],V.prototype,"type",void 0),V=Object(r.a)([Object(f.a)("esri.layers.pointCloudFilters.PointCloudFilter")],V);var C,N=V;let R=C=class extends N{constructor(e){super(e),this.requiredClearBits=null,this.requiredSetBits=null,this.type="bitfield"}clone(){return new C({field:this.field,requiredClearBits:Object(a.a)(this.requiredClearBits),requiredSetBits:Object(a.a)(this.requiredSetBits)})}};Object(r.a)([Object(y.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredSetBits}}}}})],R.prototype,"requiredClearBits",void 0),Object(r.a)([Object(y.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredClearBits}}}}})],R.prototype,"requiredSetBits",void 0),Object(r.a)([Object(I.a)({pointCloudBitfieldFilter:"bitfield"})],R.prototype,"type",void 0),R=C=Object(r.a)([Object(f.a)("esri.layers.pointCloudFilters.PointCloudBitfieldFilter")],R);var P,B=R;let q=P=class extends N{constructor(e){super(e),this.includedReturns=[],this.type="return"}clone(){return new P({field:this.field,includedReturns:Object(a.a)(this.includedReturns)})}};Object(r.a)([Object(y.b)({type:[["firstOfMany","last","lastOfMany","single"]],json:{write:{enabled:!0,isRequired:!0}}})],q.prototype,"includedReturns",void 0),Object(r.a)([Object(I.a)({pointCloudReturnFilter:"return"})],q.prototype,"type",void 0),q=P=Object(r.a)([Object(f.a)("esri.layers.pointCloudFilters.PointCloudReturnFilter")],q);var D,E=q;let _=D=class extends N{constructor(e){super(e),this.mode="exclude",this.type="value",this.values=[]}clone(){return new D({field:this.field,mode:this.mode,values:Object(a.a)(this.values)})}};Object(r.a)([Object(y.b)({type:["exclude","include"],json:{write:{enabled:!0,isRequired:!0}}})],_.prototype,"mode",void 0),Object(r.a)([Object(I.a)({pointCloudValueFilter:"value"})],_.prototype,"type",void 0),Object(r.a)([Object(y.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],_.prototype,"values",void 0),_=D=Object(r.a)([Object(f.a)("esri.layers.pointCloudFilters.PointCloudValueFilter")],_);const k={key:"type",base:N,typeMap:{value:_,bitfield:B,return:E}};var L,M=i(145),z=i(157),A=i(338),$=i(683),K=i(1108),G=i(783);let U=L=class extends G.a{constructor(e){super(e),this.type="point-cloud-rgb",this.field=null}clone(){return new L({...this.cloneProperties(),field:Object(a.a)(this.field)})}};Object(r.a)([Object(I.a)({pointCloudRGBRenderer:"point-cloud-rgb"})],U.prototype,"type",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],U.prototype,"field",void 0),U=L=Object(r.a)([Object(f.a)("esri.renderers.PointCloudRGBRenderer")],U);var J=U,W=i(1075),H=i(1109);const X={key:"type",base:G.a,typeMap:{"point-cloud-class-breaks":K.a,"point-cloud-rgb":J,"point-cloud-stretch":W.a,"point-cloud-unique-value":H.a},errorContext:"renderer"};var Q=i(309);const Y=l.a.getLogger("esri.layers.PointCloudLayer"),Z=Object(A.a)();let ee=class extends(Object(S.a)(Object(g.a)(Object(w.a)(Object(x.a)(Object(T.a)(Object(d.a)(Object(m.a)(v.a)))))))){constructor(...e){super(...e),this.operationalLayerType="PointCloudLayer",this.popupEnabled=!0,this.popupTemplate=null,this.opacity=1,this.filters=[],this.fields=null,this.fieldsIndex=null,this.outFields=null,this.path=null,this.legendEnabled=!0,this.renderer=null,this.type="point-cloud"}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}get defaultPopupTemplate(){return this.attributeStorageInfo?this.createPopupTemplate():null}getFieldDomain(e){const t=this.fieldsIndex.get(e);return t&&t.domain?t.domain:null}readServiceFields(e,t,i){return Array.isArray(e)?e.map((e=>{const t=new z.a;return"FieldTypeInteger"===e.type&&((e=Object(a.a)(e)).type="esriFieldTypeInteger"),t.read(e,i),t})):Array.isArray(t.attributeStorageInfo)?t.attributeStorageInfo.map((e=>new z.a({name:e.name,type:"ELEVATION"===e.name?"double":"integer"}))):null}set elevationInfo(e){this._set("elevationInfo",e),this._validateElevationInfo()}writeRenderer(e,t,i,r){Object(u.c)("layerDefinition.drawingInfo.renderer",e.write(null,r),t)}load(e){const t=Object(c.k)(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(p.u).then((()=>this._fetchService(t)));return this.addResolvingPromise(i),Promise.resolve(this)}createPopupTemplate(e){const t=Object(Q.a)(this,e);return this.formatPopupTemplateReturnsField(t),this.formatPopupTemplateRGBField(t),t}formatPopupTemplateReturnsField(e){const t=this.fieldsIndex.get("RETURNS");if(!t)return;const i=e.fieldInfos.find((e=>e.fieldName===t.name));if(!i)return;const r=new $.a({name:"pcl-returns-decoded",title:t.alias||t.name,expression:`\n        var returnValue = $feature.${t.name};\n        return (returnValue % 16) + " / " + Floor(returnValue / 16);\n      `});e.expressionInfos=[...e.expressionInfos||[],r],i.fieldName="expression/pcl-returns-decoded"}formatPopupTemplateRGBField(e){const t=this.fieldsIndex.get("RGB");if(!t)return;const i=e.fieldInfos.find((e=>e.fieldName===t.name));if(!i)return;const r=new $.a({name:"pcl-rgb-decoded",title:t.alias||t.name,expression:`\n        var rgb = $feature.${t.name};\n        var red = Floor(rgb / 65536, 0);\n        var green = Floor((rgb - (red * 65536)) / 256,0);\n        var blue = rgb - (red * 65536) - (green * 256);\n\n        return "rgb(" + red + "," + green + "," + blue + ")";\n      `});e.expressionInfos=[...e.expressionInfos||[],r],i.fieldName="expression/pcl-rgb-decoded"}async queryCachedStatistics(e,t){if(await this.load(t),!this.attributeStorageInfo)throw new s.a("scenelayer:no-cached-statistics","Cached statistics are not available for this layer");const i=this.fieldsIndex.get(e);if(!i)throw new s.a("pointcloudlayer:field-unexisting",`Field '${e}' does not exist on the layer`);for(const r of this.attributeStorageInfo)if(r.name===i.name){const e=Object(b.z)(this.parsedUrl.path,`./statistics/${r.key}`);return Object(n.default)(e,{query:{f:"json",token:this.apiKey},responseType:"json",signal:t?t.signal:null}).then((e=>e.data))}throw new s.a("pointcloudlayer:no-cached-statistics","Cached statistics for this attribute are not available")}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"point-cloud"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"point-cloud"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(e.layerType&&"PointCloud"!==e.layerType)throw new s.a("pointcloudlayer:layer-type-not-supported","PointCloudLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new s.a("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x-2.x"});if(this.version.major>2)throw new s.a("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x-2.x"})}hasCachedStatistics(e){return null!=this.attributeStorageInfo&&this.attributeStorageInfo.some((t=>t.name===e))}_getTypeKeywords(){return["PointCloud"]}_validateElevationInfo(){const e=this.elevationInfo;e&&("absolute-height"!==e.mode&&Y.warn(".elevationInfo=","Point cloud layers only support absolute-height elevation mode"),e.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression&&Y.warn(".elevationInfo=","Point cloud layers do not support featureExpressionInfo"))}};Object(r.a)([Object(y.b)({type:["PointCloudLayer"]})],ee.prototype,"operationalLayerType",void 0),Object(r.a)([Object(y.b)(M.j)],ee.prototype,"popupEnabled",void 0),Object(r.a)([Object(y.b)({type:o.a,json:{name:"popupInfo",write:!0}})],ee.prototype,"popupTemplate",void 0),Object(r.a)([Object(y.b)({readOnly:!0,json:{read:!1}})],ee.prototype,"defaultPopupTemplate",null),Object(r.a)([Object(y.b)({readOnly:!0,json:{write:!1,read:!1,origins:{"web-document":{write:!1,read:!1}}}})],ee.prototype,"opacity",void 0),Object(r.a)([Object(y.b)({type:["show","hide"]})],ee.prototype,"listMode",void 0),Object(r.a)([Object(y.b)({types:[k],json:{origins:{service:{read:{source:"filters"}}},name:"layerDefinition.filters",write:!0}})],ee.prototype,"filters",void 0),Object(r.a)([Object(y.b)({type:[z.a]})],ee.prototype,"fields",void 0),Object(r.a)([Object(y.b)(Z.fieldsIndex)],ee.prototype,"fieldsIndex",void 0),Object(r.a)([Object(O.a)("service","fields",["fields","attributeStorageInfo"])],ee.prototype,"readServiceFields",null),Object(r.a)([Object(y.b)(Z.outFields)],ee.prototype,"outFields",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],ee.prototype,"attributeStorageInfo",void 0),Object(r.a)([Object(y.b)(M.b)],ee.prototype,"elevationInfo",null),Object(r.a)([Object(y.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],ee.prototype,"path",void 0),Object(r.a)([Object(y.b)(M.e)],ee.prototype,"legendEnabled",void 0),Object(r.a)([Object(y.b)({types:X,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:{target:{"layerDefinition.drawingInfo.renderer":{types:X},"layerDefinition.drawingInfo.transparency":{type:Number}}}}})],ee.prototype,"renderer",void 0),Object(r.a)([Object(h.a)("renderer")],ee.prototype,"writeRenderer",null),Object(r.a)([Object(y.b)({json:{read:!1},readOnly:!0})],ee.prototype,"type",void 0),ee=Object(r.a)([Object(f.a)("esri.layers.PointCloudLayer")],ee);var te=ee}}]);
//# sourceMappingURL=109.bb584d84.chunk.js.map