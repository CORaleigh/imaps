(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[89,20,111,164,282],{104:function(e,t,r){"use strict";function a(){return[0,0,0]}function n(e){return[e[0],e[1],e[2]]}function i(e,t,r){return[e,t,r]}function o(e){for(var t=[0,0,0],r=Math.min(3,e.length),a=0;a<r;++a)t[a]=e[a];return t}function s(e,t){return new Float64Array(e,t,3)}function l(){return[0,0,0]}function c(){return i(1,1,1)}function u(){return i(1,0,0)}function p(){return i(0,1,0)}function d(){return i(0,0,1)}r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"g",(function(){return i}));var f=[0,0,0],b=c(),y=u(),h=p(),m=d();Object.freeze({__proto__:null,create:a,clone:n,fromValues:i,fromArray:o,createView:s,zeros:l,ones:c,unitX:u,unitY:p,unitZ:d,ZEROS:f,ONES:b,UNIT_X:y,UNIT_Y:h,UNIT_Z:m})},1091:function(e,t,r){"use strict";r.r(t);var a=r(91),n=r(7),i=r(82),o=(r(80),r(89)),s=(r(81),r(88)),l=r(85),c=r(95),u=r(84),p=r(93),d=r(83),f=(r(86),r(87),r(130)),b=r(105),y=r(160),h=r(106),m=r(277),v=r(132),g=r(324),O=r(99),j=r(103),S=r(97),x=class extends S.a{constructor(){super(...arguments),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}};Object(i.a)([Object(l.b)({type:O.a})],x.prototype,"outSpatialReference",void 0),Object(i.a)([Object(l.b)({type:j.a})],x.prototype,"processExtent",void 0),Object(i.a)([Object(l.b)({type:O.a})],x.prototype,"processSpatialReference",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],x.prototype,"returnFeatureCollection",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],x.prototype,"returnM",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],x.prototype,"returnZ",void 0),(x=Object(i.a)([Object(u.a)("esri/rest/geoprocessor/GPOptions")],x)).from=Object(s.m)(x);var w=x,T=r(721),_=r(236),M=r(155),F=r(146),I=r(142),N=r(90),P=class extends N.a{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};Object(i.a)([Object(l.b)({type:j.a})],P.prototype,"extent",void 0),Object(i.a)([Object(l.b)()],P.prototype,"height",void 0),Object(i.a)([Object(l.b)()],P.prototype,"href",void 0),Object(i.a)([Object(l.b)()],P.prototype,"opacity",void 0),Object(i.a)([Object(l.b)()],P.prototype,"rotation",void 0),Object(i.a)([Object(l.b)()],P.prototype,"scale",void 0),Object(i.a)([Object(l.b)()],P.prototype,"visible",void 0),Object(i.a)([Object(l.b)()],P.prototype,"width",void 0);var L=P=Object(i.a)([Object(u.a)("esri.layer.support.MapImage")],P),k=class extends N.a{constructor(e){super(e),this.itemId=null,this.url=null}};Object(i.a)([Object(l.b)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],k.prototype,"itemId",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],k.prototype,"url",void 0);var D=k=Object(i.a)([Object(u.a)("esri.tasks.support.DataFile")],k),R=new c.a({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1}),E=class extends N.a{constructor(e){super(e),this.distance=0,this.units=null}};Object(i.a)([Object(l.b)({json:{write:!0}})],E.prototype,"distance",void 0),Object(i.a)([Object(l.b)({json:{read:R.read,write:R.write}})],E.prototype,"units",void 0);var V=E=Object(i.a)([Object(u.a)("esri/tasks/support/LinearUnit")],E),A=new c.a({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"}),C=class extends N.a{constructor(e){super(e),this.dataType=null,this.value=null}};Object(i.a)([Object(l.b)({json:{read:A.read,write:A.write}})],C.prototype,"dataType",void 0),Object(i.a)([Object(l.b)()],C.prototype,"value",void 0);var U=C=Object(i.a)([Object(u.a)("esri.tasks.support.ParameterValue")],C),J=class extends N.a{constructor(e){super(e),this.format=null,this.itemId=null,this.url=null}};Object(i.a)([Object(l.b)()],J.prototype,"format",void 0),Object(i.a)([Object(l.b)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],J.prototype,"itemId",void 0),Object(i.a)([Object(l.b)()],J.prototype,"url",void 0);var G=J=Object(i.a)([Object(u.a)("esri/tasks/support/RasterData")],J);function z(e,t,r,a,n){return q.apply(this,arguments)}function q(){return(q=Object(n.a)((function*(e,t,r,n,i){var o={},s={},l=[];return B(n,l,o),Object(_.a)(l).then((l=>{var{outSpatialReference:c,processExtent:u,processSpatialReference:p,returnFeatureCollection:d,returnM:f,returnZ:b}=r,{path:y}=Object(I.c)(e);for(var m in o){var v=o[m];s[m]=l.slice(v[0],v[1])}var g=c?c.wkid||c:null,O=p?p.wkid||p:null,j="execute"===t?{returnFeatureCollection:d||void 0,returnM:f||void 0,returnZ:b||void 0}:null,S=W(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},u?{context:{extent:u,outSR:g,processSR:O}}:{"env:outSR":g,"env:processSR":O}),n),j),{},{f:"json"}),null,s),x=Object(a.a)(Object(a.a)({},i),{},{query:S});return Object(h.default)("".concat(y,"/").concat(t),x)}))}))).apply(this,arguments)}function B(e,t,r){for(var a in e){var n=e[a];if(n&&"object"==typeof n&&n instanceof F.default){var{features:i}=n;r[a]=[t.length,t.length+i.length],i.forEach((e=>{t.push(e.geometry)}))}}}function H(e){var t=e.dataType,r=U.fromJSON(e);switch(t){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":return r;case"GPDate":r.value=new Date(r.value);break;case"GPDataFile":r.value=D.fromJSON(r.value);break;case"GPLinearUnit":r.value=V.fromJSON(r.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":var a=e.value.url;r.value=a?D.fromJSON(r.value):F.default.fromJSON(r.value);break;case"GPRasterData":case"GPRasterDataLayer":var n=e.value.mapImage;r.value=n?L.fromJSON(n):G.fromJSON(r.value);break;case"GPField":r.value=M.a.fromJSON(r.value);break;case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return r;case"GPMultiValue:GPDate":var i=r.value;r.value=i.map((e=>new Date(e)));break;case"GPMultiValue:GPDataFile":r.value=r.value.map((e=>D.fromJSON(e)));break;case"GPMultiValue:GPLinearUnit":r.value=r.value.map((e=>V.fromJSON(e)));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":r.value=r.value.map((e=>F.default.fromJSON(e)));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":r.value=r.value.map((e=>e?L.fromJSON(e):G.fromJSON(r.value)));break;case"GPMultiValue:GPField":r.value=r.value.map((e=>M.a.fromJSON(e)))}return r}function W(e,t,r){for(var a in e){var n=e[a];Array.isArray(n)?e[a]=JSON.stringify(n.map((e=>W({item:e},!0).item))):n instanceof Date&&(e[a]=n.getTime())}return Object(I.b)(e,t,r)}function Y(){return(Y=Object(n.a)((function*(e,t,r,a){return z(e,"execute",r=w.from(r),t,a).then((e=>{var t=e.data.results||[],r=e.data.messages||[];return{results:t.map(H),messages:r.map((e=>T.a.fromJSON(e)))}}))}))).apply(this,arguments)}var X,Z=r(94),K=new c.a({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"}),$=X=class extends N.a{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.requestOptions=null,this.sourceUrl=null,this._timer=null}cancelJob(e){var{jobId:t,sourceUrl:r}=this,{path:n}=Object(I.c)(r),i=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),e),{},{query:{f:"json"}});return this._clearTimer(),Object(h.default)("".concat(n,"/jobs/").concat(t,"/cancel"),i).then((e=>{var t=X.fromJSON(e.data);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}destroy(){clearInterval(this._timer)}checkJobStatus(e){var{path:t}=Object(I.c)(this.sourceUrl),r=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),e),{},{query:{f:"json"}}),n="".concat(t,"/jobs/").concat(this.jobId);return Object(h.default)(n,r).then((({data:e})=>{var t=X.fromJSON(e);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}fetchResultData(e,t,r){t=w.from(t);var{returnFeatureCollection:n,returnM:i,returnZ:o,outSpatialReference:s}=t,{path:l}=Object(I.c)(this.sourceUrl),c=W({returnFeatureCollection:n||void 0,returnM:i||void 0,returnZ:o||void 0,outSR:s,returnType:"data",f:"json"},null),u=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),r),{},{query:c}),p="".concat(l,"/jobs/").concat(this.jobId,"/results/").concat(e);return Object(h.default)(p,u).then((e=>H(e.data)))}fetchResultImage(e,t,r){var{path:n}=Object(I.c)(this.sourceUrl),i=W(Object(a.a)(Object(a.a)({},t.toJSON()),{},{f:"json"})),o=Object(a.a)(Object(a.a)(Object(a.a)({},this.requestOptions),r),{},{query:i}),s="".concat(n,"/jobs/").concat(this.jobId,"/results/").concat(e);return Object(h.default)(s,o).then((e=>H(e.data)))}fetchResultMapImageLayer(){var e=this;return Object(n.a)((function*(){var{path:t}=Object(I.c)(e.sourceUrl),a=t.indexOf("/GPServer/"),n="".concat(t.substring(0,a),"/MapServer/jobs/").concat(e.jobId);return new(0,(yield Promise.all([r.e(4),r.e(3),r.e(34),r.e(98)]).then(r.bind(null,789))).default)({url:n})}))()}waitForJobCompletion(e={}){var t=this;return Object(n.a)((function*(){var{interval:r=1e3,signal:a,statusCallback:n}=e;return new Promise(((e,i)=>{Object(Z.p)(a,(()=>{t._clearTimer(),i(Object(Z.e)())})),t._clearTimer();var o=setInterval((()=>{t._timer||i(Object(Z.e)()),t.checkJobStatus(t.requestOptions).then((r=>{var{jobStatus:a}=r;switch(t.jobStatus=a,a){case"job-succeeded":t._clearTimer(),e(t);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":n&&n(t);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":t._clearTimer(),i(t)}}))}),r);t._timer=o}))}))()}_clearTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}};Object(i.a)([Object(l.b)()],$.prototype,"jobId",void 0),Object(i.a)([Object(l.b)({json:{read:K.read}})],$.prototype,"jobStatus",void 0),Object(i.a)([Object(l.b)({type:[T.a]})],$.prototype,"messages",void 0),Object(i.a)([Object(l.b)()],$.prototype,"requestOptions",void 0),Object(i.a)([Object(l.b)({json:{write:!0}})],$.prototype,"sourceUrl",void 0);var Q=$=X=Object(i.a)([Object(u.a)("esri.tasks.support.JobInfo")],$);function ee(){return(ee=Object(n.a)((function*(e,t,r,a){return r=w.from(r),z(e,"submitJob",r,t,a).then((t=>{var r=Q.fromJSON(t.data);return r.sourceUrl=e,r}))}))).apply(this,arguments)}var te=class extends g.a{constructor(e){super(e),this._jobs=new Map,this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}destroy(){this._jobs.forEach((e=>e.destroy())),this._jobs.clear()}cancelJob(e,t){var r=this._jobs.get(e),n=Object(a.a)(Object(a.a)({},this.requestOptions),t);return r.cancelJob(n)}checkJobStatus(e,t){var r=this._jobs.get(e),n=Object(a.a)(Object(a.a)({},this.requestOptions),t);return r.checkJobStatus(n)}execute(e,t){var r=new w({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),n=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r,a){return Y.apply(this,arguments)}(this.url,e,r,n)}getResultData(e,t,r){var n=this._jobs.get(e),{returnFeatureCollection:i,returnM:o,returnZ:s,outSpatialReference:l}=this,c=new w({returnFeatureCollection:i,returnM:o,returnZ:s,outSpatialReference:l,url:this.url}),u=Object(a.a)(Object(a.a)({},this.requestOptions),r);return n.fetchResultData(t,c,u)}getResultImage(e,t,r,n){var i=this._jobs.get(e),o=Object(a.a)(Object(a.a)({},this.requestOptions),n);return i.fetchResultImage(t,r,o)}getResultMapImageLayer(e){var t=this;return Object(n.a)((function*(){return t._jobs.get(e).fetchResultMapImageLayer()}))()}submitJob(e,t){var r=new w({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),n=Object(a.a)(Object(a.a)({},this.requestOptions),t);return function(e,t,r,a){return ee.apply(this,arguments)}(this.url,e,r,n).then((e=>(e.sourceUrl=this.url,this._jobs.set(e.jobId,e),e)))}waitForJobCompletion(e,t={}){return this._jobs.get(e).waitForJobCompletion(t)}};Object(i.a)([Object(l.b)({type:O.a})],te.prototype,"outSpatialReference",void 0),Object(i.a)([Object(l.b)({type:j.a})],te.prototype,"processExtent",void 0),Object(i.a)([Object(l.b)({type:O.a})],te.prototype,"processSpatialReference",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],te.prototype,"returnFeatureCollection",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],te.prototype,"returnM",void 0),Object(i.a)([Object(l.b)({nonNullable:!0})],te.prototype,"returnZ",void 0);var re=te=Object(i.a)([Object(u.a)("esri/tasks/Geoprocessor")],te),ae=new c.a({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),ne=(ae.fromJSON.bind(ae),ae.toJSON.bind(ae)),ie=new c.a({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),oe=(ie.fromJSON.bind(ie),ie.toJSON.bind(ie)),se="simple-marker",le="simple-line";function ce(e,t){var{graphic:r,renderer:a,symbol:n}=t,i=n.type;if("text"!==i&&"shield-label-symbol"!==i&&"visualVariables"in a&&a.visualVariables){var o=a.getVisualVariablesForType("size"),s=a.getVisualVariablesForType("color"),l=a.getVisualVariablesForType("opacity"),c=a.getVisualVariablesForType("rotation"),u=o&&o[0],p=s&&s[0],d=l&&l[0],f=c&&c[0];if(u){var y=i===se?n.style:null,h=Object(m.getSize)(u,r,{shape:y});null!=h&&(i===se?e.size=Object(b.i)(h):"picture-marker"===i?(e.width=Object(b.i)(h),e.height=Object(b.i)(h)):i===le?e.width=Object(b.i)(h):e.outline&&(e.outline.width=Object(b.i)(h)))}if(p){var v=Object(m.getColor)(p,r);(v&&i===se||i===le||"simple-fill"===i)&&(e.color=v?v.toJSON():void 0)}if(d){var g=Object(m.getOpacity)(d,r);null!=g&&e.color&&(e.color[3]=Math.round(255*g))}f&&(e.angle=-Object(m.getRotationAngle)(a,r))}}function ue(e){return e&&"bing-maps"===e.type}function pe(e){return e&&"csv"===e.type}function de(e){return e&&"feature"===e.type}function fe(e){return e&&"geojson"===e.type}function be(e){return e&&"graphics"===e.type}function ye(e){return e&&"group"===e.type}function he(e){return e&&"esri.views.2d.layers.GroupLayerView2D"===e.declaredClass}function me(e){return e&&"imagery"===e.type}function ve(e){return e&&"kml"===e.type}function ge(e){return e&&"map-image"===e.type}function Oe(e){return e&&"map-notes"===e.type}function je(e){return e&&"open-street-map"===e.type}function Se(e){return e&&"stream"===e.type}function xe(e){return e&&"tile"===e.type}function we(e){return e&&"vector-tile"===e.type}function Te(e){return e&&"web-tile"===e.type}function _e(e){return e&&"wms"===e.type}function Me(e){return e&&"wmts"===e.type}var Fe=r(900),Ie={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},Ne=new c.a({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),Pe=new c.a({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),Le=new v.a({returnGeometry:!0});function ke(e){return e&&(e.path||"image/svg+xml"===e.contentType||e.url&&e.url.endsWith(".svg"))}var De=class extends g.a{constructor(...e){super(...e),this._ssExtent=null,this._legendLayers=[],this._legendLayerNameMap={},this._gpServerUrl=null,this._cimVersion=null,this._is11xService=!1,this._gpMetadata=null,this.updateDelay=1e3}get _geoprocessor(){return new re({url:this.url})}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?Pe.fromJSON(this._gpMetadata.executionType):"sync"}execute(e,t){var r=this.url,a=r.lastIndexOf("/GPServer/");return a>0&&(r=r.slice(0,a+9)),Promise.resolve().then((()=>this._gpServerUrl===r?{data:this._gpMetadata}:(this._gpServerUrl=r,Object(h.default)(r,{query:{f:"json"}})))).then((t=>(this._gpMetadata=t.data,this._cimVersion=this._gpMetadata.cimVersion,this._is11xService=!!this._cimVersion,this._getGpPrintParams(e)))).then((e=>{var r=e=>"sync"===this.mode?e.results&&e.results[0]&&e.results[0].value:this._geoprocessor.getResultData(e.jobId,"Output_File",t).then((e=>e.value));return"async"===this.mode?this._geoprocessor.submitJob(e,t).then((e=>this._geoprocessor.waitForJobCompletion(e.jobId,{interval:this.updateDelay}).then(r))):this._geoprocessor.execute(e,t).then(r)}))}_createOperationalLayers(e,t){var r=this;return Object(n.a)((function*(){var a=[],n={layerView:null,printTemplate:t,view:e},i=0;t.scalePreserved&&(i=t.outScale||e.scale);var o=function(e,t){var r=e.allLayerViews.items;if(t===e.scale)return r.filter((e=>!e.suspended));var a=new Array;for(var n of r)he(n.parent)&&!a.includes(n.parent)||!n.visible||t&&"isVisibleAtScale"in n&&!n.isVisibleAtScale(t)||a.push(n);return a}(e,i);for(var s of o){var l=s.layer;if(l.loaded&&!ye(l)){var c=void 0;n.layerView=s,(c=ue(l)?r._createBingMapsLayerJSON(l):pe(l)?yield r._createCSVLayerJSON(l,n):de(l)?yield r._createFeatureLayerJSON(l,n):fe(l)?yield r._createGeoJSONLayer(l,n):be(l)?yield r._createGraphicsLayerJSON(l,n):me(l)?r._createImageryLayerJSON(l):ve(l)?yield r._createKMLLayerJSON(l,n):ge(l)?r._createMapImageLayerJSON(l,n):Oe(l)?yield r._createMapNotesLayerJSON(n):je(l)?r._createOpenStreetMapLayerJSON():Se(l)?yield r._createStreamLayerJSON(l,n):xe(l)?r._createTileLayerJSON(l):we(l)?yield r._createVectorTileLayerJSON(l,n):Te(l)?r._createWebTileLayerJSON(l):_e(l)?r._createWMSLayerJSON(l):Me(l)?r._createWMTSLayerJSON(l):yield r._createScreenshotJSON(l,n))&&(Array.isArray(c)?a.push(...c):(c.id=l.id,c.title=r._legendLayerNameMap[l.id]||l.title,c.opacity=l.opacity,c.minScale=l.minScale||0,c.maxScale=l.maxScale||0,a.push(c)))}}if(i&&a.forEach((e=>{e.minScale=0,e.maxScale=0})),e.graphics&&e.graphics.length){var u=yield r._createFeatureCollectionJSON(null,e.graphics,t);u&&a.push(u)}return a}))()}_createBingMapsLayerJSON(e){return{culture:e.culture,key:e.key,type:"BingMaps"+("aerial"===e.style?"Aerial":"hybrid"===e.style?"Hybrid":"Road")}}_createCSVLayerJSON(e,{layerView:t,printTemplate:r}){var a=this;return Object(n.a)((function*(){var n;if(a._legendLayers&&a._legendLayers.push({id:e.id}),!a._is11xService){var i=yield a._getGraphics(t);return a._createFeatureCollectionJSON(e,i,r)}return n={type:"CSV"},e.write(n,{origin:"web-map"}),delete n.popupInfo,delete n.layerType,n.showLabels=r.showLabels&&e.labelsVisible,n}))()}_createFeatureCollectionJSON(e,t,r){var a=this;return Object(n.a)((function*(){var n,i,o={layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}},s={layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}},l={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}},c={layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}},u={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}};if(u.layerDefinition.name="textLayer",delete u.layerDefinition.drawingInfo,e){if("esri.layers.FeatureLayer"===e.declaredClass||"esri.layers.StreamLayer"===e.declaredClass?o.layerDefinition.name=s.layerDefinition.name=l.layerDefinition.name=c.layerDefinition.name=a._legendLayerNameMap[e.id]||e.get("arcgisProps.title")||e.title:"esri.layers.GraphicsLayer"===e.declaredClass&&(t=e.graphics.items),e.renderer){var p=e.renderer.toJSON();o.layerDefinition.drawingInfo.renderer=p,s.layerDefinition.drawingInfo.renderer=p,l.layerDefinition.drawingInfo.renderer=p,c.layerDefinition.drawingInfo.renderer=p}if(r.showLabels&&e.labelsVisible&&"function"==typeof e.write){var d,b,y=null==(d=e.write({},{origin:"web-map"}).layerDefinition)||null==(b=d.drawingInfo)?void 0:b.labelingInfo;y&&(n=!0,o.layerDefinition.drawingInfo.labelingInfo=y,s.layerDefinition.drawingInfo.labelingInfo=y,l.layerDefinition.drawingInfo.labelingInfo=y,c.layerDefinition.drawingInfo.labelingInfo=y)}}null!=e&&e.renderer||n||(delete o.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo,delete l.layerDefinition.drawingInfo,delete c.layerDefinition.drawingInfo);var h=e&&e.fields,m=e&&e.renderer;if(h&&m&&"function"==typeof m.collectRequiredFields){var v=new Set;yield m.collectRequiredFields(v,h),i=Array.from(v)}if(h){var g=h.map((e=>e.toJSON()));o.layerDefinition.fields=g,s.layerDefinition.fields=g,l.layerDefinition.fields=g,c.layerDefinition.fields=g}for(var O,j=t&&t.length,S=0;S<j;S++){var x=t[S]||t.getItemAt(S);if(!1!==x.visible&&x.geometry&&((O=x.toJSON()).hasOwnProperty("popupTemplate")&&delete O.popupTemplate,O.geometry&&O.geometry.z&&delete O.geometry.z,!O.symbol||!O.symbol.outline||"esriCLS"!==O.symbol.outline.type||a._is11xService)){!a._is11xService&&O.symbol&&O.symbol.outline&&O.symbol.outline.color&&O.symbol.outline.color[3]&&(O.symbol.outline.color[3]=255);var w=e&&e.renderer&&("valueExpression"in e.renderer&&e.renderer.valueExpression||"hasVisualVariables"in e.renderer&&e.renderer.hasVisualVariables());if(!O.symbol&&e&&e.renderer&&w&&!a._is11xService){var T=e.renderer,_=yield T.getSymbolAsync(x);if(!_)continue;O.symbol=_.toJSON(),"hasVisualVariables"in T&&T.hasVisualVariables()&&ce(O.symbol,{renderer:T,graphic:x,symbol:_})}O.symbol&&(O.symbol.angle||delete O.symbol.angle,ke(O.symbol)?O.symbol=yield a._convertSvgToPictureMarkerSymbolJson(O.symbol):O.symbol.text&&delete O.attributes),r&&r.forceFeatureAttributes||!i||!i.length||function(){var e={};i.forEach((t=>{O.attributes&&O.attributes.hasOwnProperty(t)&&(e[t]=O.attributes[t])})),O.attributes=e}(),"polygon"===x.geometry.type?o.featureSet.features.push(O):"polyline"===x.geometry.type?s.featureSet.features.push(O):"point"===x.geometry.type?O.symbol&&O.symbol.text?u.featureSet.features.push(O):l.featureSet.features.push(O):"multipoint"===x.geometry.type?c.featureSet.features.push(O):"extent"===x.geometry.type&&(O.geometry=f.a.fromExtent(x.geometry).toJSON(),o.featureSet.features.push(O))}}var M=[o,s,c,l,u].filter((e=>e.featureSet.features.length>0));for(var F of M){var I=F.featureSet.features.every((e=>e.symbol));!I||r&&r.forceFeatureAttributes||F.featureSet.features.forEach((e=>{delete e.attributes})),I&&delete F.layerDefinition.drawingInfo,F.layerDefinition.drawingInfo&&F.layerDefinition.drawingInfo.renderer&&(yield a._convertSvgRenderer(F.layerDefinition.drawingInfo.renderer))}return M.length?{featureCollection:{layers:M},showLabels:n}:null}))()}_createFeatureLayerJSON(e,t){var r=this;return Object(n.a)((function*(){var a,n,i;r._legendLayers&&r._legendLayers.push({id:e.id});var o=e.renderer;if(e.featureReduction||o&&"dot-density"===o.type&&(!r._is11xService||parseFloat(r._cimVersion)<2.6))return r._createScreenshotJSON(e,t);var s,{layerView:l,printTemplate:c,view:u}=t,p=o&&("valueExpression"in o&&o.valueExpression||"hasVisualVariables"in o&&o.hasVisualVariables()),d="feature-layer"!==(null==(a=e.source)?void 0:a.type)&&"ogc-feature"!==(null==(n=e.source)?void 0:n.type);if(!r._is11xService&&p||e.featureReduction||d||!o||"field"in o&&null!=o.field&&("string"!=typeof o.field||!e.getField(o.field))){var f=yield r._getGraphics(l);i=yield r._createFeatureCollectionJSON(e,f,c)}else{var b,y;if((i={id:(s=e.write()).id,title:s.title,opacity:s.opacity,minScale:s.minScale,maxScale:s.maxScale,url:s.url,layerDefinition:s.layerDefinition}).showLabels=c.showLabels&&e.labelsVisible,r._setURLandToken(i,e),null!=(b=i.layerDefinition)&&null!=(y=b.drawingInfo)&&y.renderer&&(delete i.layerDefinition.minScale,delete i.layerDefinition.maxScale,yield r._convertSvgRenderer(i.layerDefinition.drawingInfo.renderer),"visualVariables"in o&&o.visualVariables&&o.visualVariables[0])){var h=o.visualVariables[0];if("size"===h.type&&h.maxSize&&"number"!=typeof h.maxSize&&h.minSize&&"number"!=typeof h.minSize){var v=Object(m.getSizeRangeAtScale)(h,u.scale);i.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=v.minSize,i.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=v.maxSize}}}return i}))()}_createGeoJSONLayer(e,{layerView:t,printTemplate:r}){var a=this;return Object(n.a)((function*(){a._legendLayers&&a._legendLayers.push({id:e.id});var n=yield a._getGraphics(t);return a._createFeatureCollectionJSON(e,n,r)}))()}_createGraphicsLayerJSON(e,{printTemplate:t}){var r=this;return Object(n.a)((function*(){return r._createFeatureCollectionJSON(e,null,t)}))()}_createImageryLayerJSON(e){this._legendLayers&&this._legendLayers.push({id:e.id});var t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{var r=e.exportImageServiceParameters.combineRendererWithRenderingRule();r&&(t.renderingRule=r.toJSON())}return this._setURLandToken(t,e),t}_createKMLLayerJSON(e,t){var r=this;return Object(n.a)((function*(){var n=t.printTemplate;if(r._is11xService){var i={type:"kml"};return e.write(i,{origin:"web-map"}),delete i.layerType,i.url=Object(d.C)(e.url),i}var o=[],s=t.layerView;s.allVisibleMapImages.forEach(((t,r)=>{var a={id:"".concat(e.id,"_image").concat(r),type:"image",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};"data:image/png;base64,"===t.href.substr(0,22)?a.imageData=t.href.substr(22):a.url=t.href,o.push(a)}));var l=[...s.allVisiblePoints.items,...s.allVisiblePolylines.items,...s.allVisiblePolygons.items],c=Object(a.a)({id:e.id},yield r._createFeatureCollectionJSON(null,l,n));return o.push(c),o}))()}_createMapImageLayerJSON(e,{view:t}){var r,a={id:e.id,subLayerIds:[]},n=[],i=t.scale,o=e=>{var t=0===i,r=0===e.minScale||i<=e.minScale,s=0===e.maxScale||i>=e.maxScale;if(e.visible&&(t||r&&s))if(e.sublayers)e.sublayers.forEach(o);else{var l=e.toExportImageJSON(),c={id:e.id,name:e.title,layerDefinition:{drawingInfo:l.drawingInfo,definitionExpression:l.definitionExpression,source:l.source}};n.unshift(c),a.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(o),n.length&&(r={layers:n=n.map((({id:e,name:t,layerDefinition:r})=>({id:e,name:t,layerDefinition:r}))),visibleLayers:e.capabilities.exportMap.supportsDynamicLayers?void 0:a.subLayerIds},this._setURLandToken(r,e),this._legendLayers.push(a)),r}_createMapNotesLayerJSON({layerView:e,printTemplate:t}){var r=this;return Object(n.a)((function*(){var a=[],n=e.layer;if(Object(o.k)(n.featureCollections))for(var i of n.featureCollections){var s=yield r._createFeatureCollectionJSON(i,i.source,t);s&&a.push(...s.featureCollection.layers)}else if(Object(o.k)(n.sublayers))for(var l of n.sublayers){var c=yield r._createFeatureCollectionJSON(null,l.graphics,t);c&&a.push(...c.featureCollection.layers)}return{featureCollection:{layers:a}}}))()}_createOpenStreetMapLayerJSON(){return{type:"OpenStreetMap"}}_createScreenshotJSON(e,{printTemplate:t,view:r}){var a=this;return Object(n.a)((function*(){var n={type:"image"},i={format:"png",ignoreBackground:!0,layers:[e],rotation:0},o=a._ssExtent||r.extent.clone(),s=96,l=!0,c=!0;if(t.exportOptions){var u=t.exportOptions;u.dpi>0&&(s=u.dpi),u.width>0&&(l=u.width%2==r.width%2),u.height>0&&(c=u.height%2==r.height%2)}if("map-only"===t.layout&&t.scalePreserved&&(!t.outScale||t.outScale===r.scale)&&96===s&&(!l||!c)&&(i.area={x:0,y:0,width:r.width,height:r.height},l||(i.area.width-=1),c||(i.area.height-=1),!a._ssExtent)){var p=r.toMap(Object(b.f)(i.area.width,i.area.height));o.ymin=p.y,o.xmax=p.x,a._ssExtent=o}n.extent=o.clone()._normalize(!0).toJSON();var f=yield r.takeScreenshot(i),y=Object(d.i)(f.dataUrl);return n.imageData=y.data,n}))()}_createStreamLayerJSON(e,{layerView:t,printTemplate:r}){var a=this;return Object(n.a)((function*(){a._legendLayers&&a._legendLayers.push({id:e.id});var n=yield a._getGraphics(t);return a._createFeatureCollectionJSON(e,n,r)}))()}_createTileLayerJSON(e){var t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}_createVectorTileLayerJSON(e,t){var r=this;return Object(n.a)((function*(){if(r._is11xService&&e.serviceUrl&&e.styleUrl){var a=y.b&&y.b.findCredential(e.styleUrl),n=y.b&&y.b.findCredential(e.serviceUrl);if(!a&&!n||"2.1.0"!==r._cimVersion){var i={type:"VectorTileLayer"};return i.styleUrl=Object(d.C)(e.styleUrl),a&&(i.token=a.token),n&&n.token!==i.token&&(i.additionalTokens=[{url:e.serviceUrl,token:n.token}]),i}}return r._createScreenshotJSON(e,t)}))()}_createWebTileLayerJSON(e){var t={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}_createWMSLayerJSON(e){var t,r=[],a=e=>{e.visible&&(e.sublayers?e.sublayers.forEach(a):e.name&&r.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(a),r.length&&(t={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:r,url:Object(d.C)(e.url),version:e.version}),t}_createWMTSLayerJSON(e){var t=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:Object(d.C)(e.url)}}_setURLandToken(e,t){var r;if(t.url){e.url=Object(d.C)(e.url||t.url);var a=null==(r=y.b)?void 0:r.findCredential(t.url);a&&(e.token=a.token)}}_convertSvgToPictureMarkerSymbolJson(e){var t=this;return Object(n.a)((function*(){t._canvas||(t._canvas=document.createElement("canvas"));var r=1024;t._canvas.width=r,t._canvas.height=r;var a,n,i=t._canvas.getContext("2d");if(e.path){var o,s=new Path2D(e.path);s.closePath(),i.fillStyle=Array.isArray(e.color)?"rgba(".concat(e.color[0],",").concat(e.color[1],",").concat(e.color[2],",").concat(e.color[3]/255,")"):"rgb(0,0,0)",i.fill(s);var l=function(e,t=15){var r,a,n,i,o,s,l=e.canvas.width,c=e.canvas.height,u=e.getImageData(0,0,l,c).data;e:for(a=c;a--;)for(r=l;r--;)if(u[4*(l*a+r)+3]>t){s=a;break e}if(!s)return null;e:for(r=l;r--;)for(a=s+1;a--;)if(u[4*(l*a+r)+3]>t){o=r;break e}e:for(r=0;r<=o;++r)for(a=s+1;a--;)if(u[4*(l*a+r)+3]>t){n=r;break e}e:for(a=0;a<=s;++a)for(r=n;r<=o;++r)if(u[4*(l*a+r)+3]>t){i=a;break e}return{x:n,y:i,width:o-n,height:s-i}}(i);if(!l)return null;i.clearRect(0,0,r,r);var c=Object(b.h)(e.size)/Math.max(l.width,l.height);i.scale(c,c);var u=r/c,p=u/2-l.width/2-l.x,d=u/2-l.height/2-l.y;if(i.translate(p,d),Array.isArray(e.color)&&i.fill(s),null!=(o=e.outline)&&o.width&&Array.isArray(e.outline.color)){var f=e.outline;i.lineWidth=Object(b.h)(f.width)/c,i.lineJoin="round",i.strokeStyle="rgba(".concat(f.color[0],",").concat(f.color[1],",").concat(f.color[2],",").concat(f.color[3]/255,")"),i.stroke(s),l.width+=i.lineWidth,l.height+=i.lineWidth}l.width*=c,l.height*=c;var y=i.getImageData(512-l.width/2,512-l.height/2,Math.ceil(l.width),Math.ceil(l.height));a=y.width,n=y.height,i.canvas.width=a,i.canvas.height=n,i.putImageData(y,0,0)}else{var m="image/svg+xml"===e.contentType?"data:image/svg+xml;base64,"+e.imageData:e.url,v=(yield Object(h.default)(m,{responseType:"image"})).data;a=Object(b.h)(e.width),n=Object(b.h)(e.height),i.canvas.width=a,i.canvas.height=n,i.drawImage(v,0,0,i.canvas.width,i.canvas.height)}return{type:"esriPMS",imageData:i.canvas.toDataURL("image/png").substr(22),angle:e.angle,contentType:"image/png",height:Object(b.i)(n),width:Object(b.i)(a),xoffset:e.xoffset,yoffset:e.yoffset}}))()}_convertSvgRenderer(e){var t=this;return Object(n.a)((function*(){var r=e.type;if("simple"===r&&ke(e.symbol))e.symbol=yield t._convertSvgToPictureMarkerSymbolJson(e.symbol);else if("uniqueValue"===r||"classBreaks"===r){ke(e.defaultSymbol)&&(e.defaultSymbol=yield t._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));var a=e["uniqueValue"===r?"uniqueValueInfos":"classBreakInfos"];if(a)for(var n of a)ke(n.symbol)&&(n.symbol=yield t._convertSvgToPictureMarkerSymbolJson(n.symbol))}}))()}_getGraphics(e){return e.queryFeatures(Le).then((e=>e.features))}_getPrintDefinition(e,t){var r=this;return Object(n.a)((function*(){var a=e.view,n=a.spatialReference,i={operationalLayers:yield r._createOperationalLayers(a,t)},o=r._ssExtent||e.extent||a.extent;return n&&n.isWrappable&&(n=(o=o.clone()._normalize(!0)).spatialReference),i.mapOptions={extent:o&&o.toJSON(),spatialReference:n&&n.toJSON(),showAttribution:t.attributionVisible},r._ssExtent=null,a.background&&(i.background=a.background.toJSON()),a.rotation&&(i.mapOptions.rotation=-a.rotation),t.scalePreserved&&(i.mapOptions.scale=t.outScale||a.scale),i}))()}_getGpPrintParams(e){var t=this;return Object(n.a)((function*(){var r=e.template||new Fe.a;null==r.showLabels&&(r.showLabels=!0);var a,n=r.exportOptions,i=oe(r.layout);if(n&&(a={dpi:n.dpi},"map_only"===i.toLowerCase()||""===i)){var o=n.width,s=n.height;a.outputSize=[o,s]}var l,c,u,d=r.layoutOptions;d&&("Miles"===d.scalebarUnit||"Kilometers"===d.scalebarUnit?(c="Kilometers",u="Miles"):"Meters"!==d.scalebarUnit&&"Feet"!==d.scalebarUnit||(c="Meters",u="Feet"),l={titleText:d.titleText,authorText:d.authorText,copyrightText:d.copyrightText,customTextElements:d.customTextElements,scaleBarOptions:{metricUnit:Ne.toJSON(c),metricLabel:Ie[c],nonMetricUnit:Ne.toJSON(u),nonMetricLabel:Ie[u]}});var f=null;d&&d.legendLayers&&(f=d.legendLayers.map((e=>{t._legendLayerNameMap[e.layerId]=e.title;var r={id:e.layerId};return e.subLayerIds&&(r.subLayerIds=e.subLayerIds),r})));var b=yield t._getPrintDefinition(e,r);if(b.operationalLayers){var y=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),h=/[\u0600-\u06FF]/,m=e=>{var t=e.text,r=e.font,a=r&&r.family&&r.family.toLowerCase();t&&r&&("arial"===a||"arial unicode ms"===a)&&(r.family=y.test(t)?"Arial Unicode MS":"Arial","normal"!==r.style&&h.test(t)&&(r.family="Arial Unicode MS"))},v=()=>{throw new p.a("print-task:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")};b.operationalLayers.forEach((e=>{var r,a,n;null!=(r=e.featureCollection)&&r.layers?e.featureCollection.layers.forEach((e=>{var r,a,n,i;if(null!=(r=e.layerDefinition)&&null!=(a=r.drawingInfo)&&null!=(n=a.renderer)&&n.symbol){var o=e.layerDefinition.drawingInfo.renderer;"esriTS"===o.symbol.type?m(o.symbol):"CIMSymbolReference"!==o.symbol.type||t._is11xService||v()}null!=(i=e.featureSet)&&i.features&&e.featureSet.features.forEach((e=>{e.symbol&&("esriTS"===e.symbol.type?m(e.symbol):"CIMSymbolReference"!==e.symbol.type||t._is11xService||v())}))})):!t._is11xService&&null!=(a=e.layerDefinition)&&null!=(n=a.drawingInfo)&&n.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&v()}))}e.outSpatialReference&&(b.mapOptions.spatialReference=e.outSpatialReference.toJSON()),Object.assign(b,{exportOptions:a,layoutOptions:l||{}}),Object.assign(b.layoutOptions,{legendOptions:{operationalLayers:null!=f?f:t._legendLayers.slice()}}),t._legendLayers.length=0;var g={Web_Map_as_JSON:JSON.stringify(b),Format:ne(r.format),Layout_Template:i};return e.extraParameters&&Object.assign(g,e.extraParameters),g}))()}};Object(i.a)([Object(l.b)()],De.prototype,"_geoprocessor",null),Object(i.a)([Object(l.b)()],De.prototype,"_gpMetadata",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],De.prototype,"mode",null),Object(i.a)([Object(l.b)()],De.prototype,"updateDelay",void 0);var Re=De=Object(i.a)([Object(u.a)("esri.tasks.PrintTask")],De);t.default=Re},111:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return T})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return j})),r.d(t,"i",(function(){return c})),r.d(t,"j",(function(){return o})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return S})),r.d(t,"m",(function(){return D})),r.d(t,"n",(function(){return b})),r.d(t,"o",(function(){return i})),r.d(t,"p",(function(){return F})),r.d(t,"q",(function(){return v})),r.d(t,"r",(function(){return h})),r.d(t,"s",(function(){return m})),r.d(t,"t",(function(){return w})),r.d(t,"u",(function(){return I})),r.d(t,"v",(function(){return s})),r.d(t,"w",(function(){return x})),r.d(t,"x",(function(){return R})),r.d(t,"y",(function(){return k})),r.d(t,"z",(function(){return L}));var a=r(104),n=r(184);function i(e){var t=e[0],r=e[1],a=e[2];return Math.sqrt(t*t+r*r+a*a)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,a){return e[0]=t,e[1]=r,e[2]=a,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function p(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function d(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function f(e,t,r,a){return e[0]=t[0]+r[0]*a,e[1]=t[1]+r[1]*a,e[2]=t[2]+r[2]*a,e}function b(e,t){var r=t[0]-e[0],a=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+a*a+n*n)}function y(e,t){var r=t[0]-e[0],a=t[1]-e[1],n=t[2]-e[2];return r*r+a*a+n*n}function h(e){var t=e[0],r=e[1],a=e[2];return t*t+r*r+a*a}function m(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function v(e,t){var r=t[0],a=t[1],n=t[2],i=r*r+a*a+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){var a=t[0],n=t[1],i=t[2],o=r[0],s=r[1],l=r[2];return e[0]=n*l-i*s,e[1]=i*o-a*l,e[2]=a*s-n*o,e}function j(e,t,r,a){var n=t[0],i=t[1],o=t[2];return e[0]=n+a*(r[0]-n),e[1]=i+a*(r[1]-i),e[2]=o+a*(r[2]-o),e}function S(e,t,r){var a=t[0],n=t[1],i=t[2];return e[0]=r[0]*a+r[4]*n+r[8]*i+r[12],e[1]=r[1]*a+r[5]*n+r[9]*i+r[13],e[2]=r[2]*a+r[6]*n+r[10]*i+r[14],e}function x(e,t,r){var a=t[0],n=t[1],i=t[2];return e[0]=a*r[0]+n*r[3]+i*r[6],e[1]=a*r[1]+n*r[4]+i*r[7],e[2]=a*r[2]+n*r[5]+i*r[8],e}function w(e,t,r){var a=r[0],n=r[1],i=r[2],o=r[3],s=t[0],l=t[1],c=t[2],u=n*c-i*l,p=i*s-a*c,d=a*l-n*s,f=n*d-i*p,b=i*u-a*d,y=a*p-n*u,h=2*o;return u*=h,p*=h,d*=h,f*=2,b*=2,y*=2,e[0]=s+u+f,e[1]=l+p+b,e[2]=c+d+y,e}function T(e,t,r,a){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[0]*Math.cos(a)-n[1]*Math.sin(a),i[1]=n[0]*Math.sin(a)+n[1]*Math.cos(a),i[2]=n[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}var _=Object(a.e)(),M=Object(a.e)();function F(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var I=c,N=u,P=p,L=b,k=y,D=i,R=h;Object.freeze({__proto__:null,length:i,copy:o,set:s,add:l,subtract:c,multiply:u,divide:p,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:d,scaleAndAdd:f,distance:b,squaredDistance:y,squaredLength:h,negate:m,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:v,dot:g,cross:O,lerp:j,hermite:function(e,t,r,a,n,i){var o=i*i,s=o*(2*i-3)+1,l=o*(i-2)+i,c=o*(i-1),u=o*(3-2*i);return e[0]=t[0]*s+r[0]*l+a[0]*c+n[0]*u,e[1]=t[1]*s+r[1]*l+a[1]*c+n[1]*u,e[2]=t[2]*s+r[2]*l+a[2]*c+n[2]*u,e},bezier:function(e,t,r,a,n,i){var o=1-i,s=o*o,l=i*i,c=s*o,u=3*i*s,p=3*l*o,d=l*i;return e[0]=t[0]*c+r[0]*u+a[0]*p+n[0]*d,e[1]=t[1]*c+r[1]*u+a[1]*p+n[1]*d,e[2]=t[2]*c+r[2]*u+a[2]*p+n[2]*d,e},random:function(e,t){t=t||1;var r=2*Object(n.b)()*Math.PI,a=2*Object(n.b)()-1,i=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=a*t,e},transformMat4:S,transformMat3:x,transformQuat:w,rotateX:function(e,t,r,a){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[0],i[1]=n[1]*Math.cos(a)-n[2]*Math.sin(a),i[2]=n[1]*Math.sin(a)+n[2]*Math.cos(a),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateY:function(e,t,r,a){var n=[],i=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],i[0]=n[2]*Math.sin(a)+n[0]*Math.cos(a),i[1]=n[1],i[2]=n[2]*Math.cos(a)-n[0]*Math.sin(a),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateZ:T,angle:function(e,t){o(_,e),o(M,t),v(_,_),v(M,M);var r=g(_,M);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:F,equals:function(e,t){var r=e[0],a=e[1],i=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(r-o)<=n.a*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=n.a*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-l)<=n.a*Math.max(1,Math.abs(i),Math.abs(l))},sub:I,mul:N,div:P,dist:L,sqrDist:k,len:D,sqrLen:R})},1110:function(e,t,r){},117:function(e,t,r){"use strict";r.d(t,"a",(function(){return q})),r.d(t,"b",(function(){return T})),r.d(t,"c",(function(){return M})),r.d(t,"d",(function(){return J})),r.d(t,"e",(function(){return C})),r.d(t,"f",(function(){return A})),r.d(t,"g",(function(){return E})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return V})),r.d(t,"j",(function(){return u})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return x})),r.d(t,"m",(function(){return D})),r.d(t,"n",(function(){return B})),r.d(t,"o",(function(){return w})),r.d(t,"p",(function(){return j})),r.d(t,"q",(function(){return S})),r.d(t,"r",(function(){return k})),r.d(t,"s",(function(){return N})),r.d(t,"t",(function(){return P})),r.d(t,"u",(function(){return L})),r.d(t,"v",(function(){return F})),r.d(t,"w",(function(){return I})),r.d(t,"x",(function(){return R}));var a=r(91),n=(r(80),r(95)),i=r(257),o=r(112),s=r(99),l=r(139),c=r(173),u=39.37,p=l.a.radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,f=i.a,b=/UNIT\[([^\]]+)\]/i,y=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),h=Object(n.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,v=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*v(.001)},"cubic-centimeters":{inBaseUnits:1e3*v(.01)},"cubic-decimeters":{inBaseUnits:1e3*v(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*v(1e3)},"cubic-inches":{inBaseUnits:1e3*v(.0254)},"cubic-feet":{inBaseUnits:1e3*v(.3048)},"cubic-yards":{inBaseUnits:1e3*v(.9144)},"cubic-miles":{inBaseUnits:1e3*v(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){var e={};for(var t in g)for(var r in g[t].units)e[r]=t;return e}();var j=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],S=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function x(e){return"imperial"===e||"metric"===e}function w(e){var t=O[e];if(t)return t;throw new Error("unknown measure")}function T(e){return function(e){return g[e].baseUnit}(w(e))}function _(e,t=null){return t=t||w(e),g[t].baseUnit===e}function M(e,t,r){if(t===r)return e;var a=w(t);if(a!==w(r))throw new Error("incompatible units");var n=_(t,a)?e:function(e,t,r){return e*g[r].units[t].inBaseUnits}(e,t,a);return _(r,a)?n:function(e,t,r){return e/g[r].units[t].inBaseUnits}(n,r,a)}function F(e,t){return M(e,t,"meters")<3e3?"meters":"kilometers"}function I(e,t){return M(e,t,"meters")<1e5?"meters":"kilometers"}function N(e,t){return M(e,t,"feet")<1e3?"feet":"miles"}function P(e,t){return M(e,t,"feet")<1e5?"feet":"miles"}function L(e,t){return M(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function k(e,t){return M(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function D(e,t,r){return M(e,t,"meters")/(r*Math.PI/180)}function R(e){return h.fromJSON(e.toLowerCase())||null}function E(e){if(e&&"object"==typeof e&&!Object(o.e)(e))return 1;var t=A(e);return t>1e5?1:t}function V(e){return A(e)>=(e instanceof s.a?Object(c.e)(e).metersPerDegree:1e5)?"meters":U(e)}function A(e,t=l.a.metersPerDegree){return C(e,!0)||t}function C(e,t=!1){var r,a,n=null;if(null!=e&&("object"==typeof e?(r=e.wkid,a=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(a=e)),r){if(Object(o.k)(r))return l.b.metersPerDegree;if(Object(o.l)(r))return l.c.metersPerDegree;!(n=f.values[f[r]])&&t&&y.has(r)&&(n=p)}else if(a)if(-1!==a.search(/^PROJCS/i)){var i=d.exec(a);i&&i[1]&&(n=parseFloat(i[1].split(",")[1]))}else if(-1!==a.search(/^GEOCCS/i)){var s=b.exec(a);s&&s[1]&&(n=parseFloat(s[1].split(",")[1]))}return n}function U(e){var t,r,a=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)a=f.units[f[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var n=d.exec(r);n&&n[1]&&(a=(n=/[\\"\\']{1}([^\\"\\']+)/.exec(n[1]))&&n[1])}return a?R(a):null}function J(e){if(!e)return null;switch(U(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}var G={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},z={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},q=Object(n.b)()(G),B=Object(n.b)()(z);Object(n.b)()(Object(a.a)(Object(a.a)({},G),z))},118:function(e,t,r){"use strict";r.d(t,"a",(function(){return Y})),r.d(t,"b",(function(){return X})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return I})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return P})),r.d(t,"i",(function(){return R})),r.d(t,"j",(function(){return ce})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return p})),r.d(t,"m",(function(){return f})),r.d(t,"n",(function(){return x})),r.d(t,"o",(function(){return k})),r.d(t,"p",(function(){return D})),r.d(t,"q",(function(){return g})),r.d(t,"r",(function(){return C})),r.d(t,"s",(function(){return re})),r.d(t,"t",(function(){return O})),r.d(t,"u",(function(){return Q})),r.d(t,"v",(function(){return K})),r.d(t,"w",(function(){return $})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return v})),r.d(t,"z",(function(){return te})),r.d(t,"A",(function(){return le}));var a=r(7),n=r(124),i=r(89),o=r(93),s=r(149),l=r(152),c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function p(e,t){if(null!=e&&null!=t)for(var r of Array.isArray(e)?e:[e])if(d(c,r,t),"visualVariables"in r&&r.visualVariables)for(var a of r.visualVariables)d(u,a,t)}function d(e,t,r){if(e)for(var a of e){var i=Object(n.b)(a,t),o=i&&"function"!=typeof i&&g(r,i);o&&Object(n.c)(a,o.name,t)}}function f(e,t){if(null!=e&&null!=t)if("startField"in e){var r=g(t,e.startField),a=g(t,e.endField);e.startField=r&&r.name||null,e.endField=a&&a.name||null}else{var n=g(t,e.startTimeField),i=g(t,e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=i&&i.name||null}}var b=new Set;function y(e,t){return e&&t?(b.clear(),h(b,e,t),Array.from(b).sort()):[]}function h(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(var{name:a}of t)e.add(a);else for(var n of r)m(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(var i of r)e.add(i)}}function m(e,t,r){if(t&&t.length){var a=g(t,r);a&&e.add(a.name)}else"string"==typeof r&&e.add(r)}function v(e,t){return Object(i.j)(t)||Object(i.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function g(e,t){if("string"!=typeof t)return null;if(null!=e)for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return r;return null}function O(e,t){if(!e||!t||"string"!=typeof t)return!1;for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return!0;return!1}function j(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(a.a)((function*(e,t,r){if(r){var{arcadeUtils:a}=yield Object(l.e)(),n=a.extractFieldNames(r);for(var i of n)m(e,t,i)}}))).apply(this,arguments)}function x({displayField:e,fields:t}){return e||(t&&t.length?w(t,"name-or-title")||w(t,"unique-identifier")||w(t,"type-or-category")||function(e){for(var t of e)if(t&&t.name){var r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}(t):null)}function w(e,t){for(var r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function T(e,t){return _.apply(this,arguments)}function _(){return(_=Object(a.a)((function*(e,t){if(t){var{fields:r}=t,a=Object(n.b)("elevationInfo.featureExpressionInfo",t);return a?a.collectRequiredFields(e,r):void 0}}))).apply(this,arguments)}function M(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(a.a)((function*(e,t,r){r.outStatistic.onStatisticValueExpression?j(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}))).apply(this,arguments)}function I(e,t,r){return N.apply(this,arguments)}function N(){return(N=Object(a.a)((function*(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&(yield Promise.all(r.fields.map((r=>M(e,t.fields,r)))))}))).apply(this,arguments)}function P(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(a.a)((function*(e,t,a){if(t&&(t.timeInfo&&Object(i.k)(a)&&a.timeExtent&&h(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&h(e,t.fields,[t.floorInfo.floorField]),Object(i.k)(a)&&Object(i.k)(a.where)&&a.where&&"1=1"!==a.where)){var n=(yield Promise.all([r.e(11),r.e(273)]).then(r.bind(null,272))).WhereClause.create(a.where,t.fieldsIndex);if(!n.isStandardized)throw new o.a("fieldUtils:collectFilterFields","Where clause is not standardized");h(e,t.fields,n.fieldNames)}}))).apply(this,arguments)}function k(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?y(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function D(e){if(!e)return[];var t=e.geometryFieldsInfo;return t?y(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}function R(e,t){return E.apply(this,arguments)}function E(){return(E=Object(a.a)((function*(e,t){var{labelingInfo:r,fields:a}=t;r&&r.length&&(yield Promise.all(r.map((t=>V(e,a,t)))))}))).apply(this,arguments)}function V(e,t,r){return A.apply(this,arguments)}function A(){return(A=Object(a.a)((function*(e,t,r){if(r){var a=r.getLabelExpression(),n=r.where;if("arcade"===a.type)yield j(e,t,a.expression);else{var i=a.expression.match(/{[^}]*}/g);i&&i.forEach((r=>{m(e,t,r.slice(1,-1))}))}var o=/['"]+/g;if(n){var s=n.split(" ");3===s.length&&m(e,t,s[0].replace(o,"")),7===s.length&&(m(e,t,s[0].replace(o,"")),m(e,t,s[4].replace(o,"")))}}}))).apply(this,arguments)}function C(e){var t=e.defaultValue;return void 0!==t&&W(e,t)?t:e.nullable?null:void 0}function U(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function J(e){return null===e||U(e)}var G="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function z(e){return null===e||G(e)}function q(e){return null!=e&&"string"==typeof e}function B(e){return null===e||q(e)}function H(){return!0}function W(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?z:G;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?J:U;break;case"string":case"esriFieldTypeString":r=e.nullable?B:q;break;default:r=H}return 1===arguments.length?r:r(t)}var Y,X,Z=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function K(e){return null!=e&&Z.has(e.type)}function $(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Q(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:K(e)&&!function(e,t){var r="string"==typeof e?ae(e):e;return!!r&&(r.isInteger?G(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?Y.OUT_OF_RANGE:W(e,t)?e.domain?Object(s.e)(e.domain,t):null:X.INVALID_TYPE}function re(e){return Object(s.c)(e.domain)||(K(e)?ae(e.type):void 0)}function ae(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ne;case"esriFieldTypeInteger":case"integer":return ie;case"esriFieldTypeSingle":case"single":return oe;case"esriFieldTypeDouble":case"double":return se}}(Y||(Y={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(X||(X={}));var ne={min:-32768,max:32767,isInteger:!0},ie={min:-2147483648,max:2147483647,isInteger:!0},oe={min:-34e37,max:12e37,isInteger:!1},se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function le(e,t,r){switch(e){case s.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case s.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case X.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case Y.OUT_OF_RANGE:var{min:a,max:n}=ae(t.type);return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(a," to ").concat(n)}}function ce(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(i.k)(r))for(var a of e)r.add(a);return!0}var n=t.attributes,o=!1;for(var s of e)if(!(s in n)){if(o=!0,!Object(i.k)(r))break;r.add(s)}return o}(e,t,null)}},121:function(e,t,r){"use strict";var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(95),o=r(102),s=r(84),l=(r(83),r(86),r(87),r(90)),c=new i.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),u=class extends l.a{constructor(e){super(e),this.name=null,this.type=null}};Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(a.a)([Object(o.a)(c)],u.prototype,"type",void 0);var p=u=Object(a.a)([Object(s.a)("esri.layers.support.Domain")],u);t.a=p},123:function(e,t,r){"use strict";var a,n=r(91),i=r(82),o=(r(80),r(92)),s=r(89),l=(r(81),r(88),r(85)),c=r(84),u=(r(83),r(86),r(87),r(90)),p=r(100),d=r(101),f=r(169),b=r(138),y=r(189),h=a=class extends u.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(y.a)(),configurable:!0})}normalizeCtorArgs(e,t,r,a){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:a}}set attributes(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(s.k)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(s.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(s.k)(this.symbol)?this.symbol.toJSON():null,attributes:Object(n.a)({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new a(this.cloneProperties())}cloneProperties(){return{attributes:Object(o.a)(this.attributes),geometry:Object(o.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(o.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,a){if(this.layer&&"graphicChanged"in this.layer){var n={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(n.attributeName=a),this.layer.graphicChanged(n)}}};Object(i.a)([Object(l.b)({value:null})],h.prototype,"attributes",null),Object(i.a)([Object(l.b)({value:null,types:d.a,json:{read:p.a}})],h.prototype,"geometry",null),Object(i.a)([Object(l.b)({type:Boolean})],h.prototype,"isAggregate",void 0),Object(i.a)([Object(l.b)()],h.prototype,"layer",void 0),Object(i.a)([Object(l.b)({type:f.a})],h.prototype,"popupTemplate",void 0),Object(i.a)([Object(l.b)()],h.prototype,"sourceLayer",void 0),Object(i.a)([Object(l.b)({value:null,types:b.e})],h.prototype,"symbol",null),Object(i.a)([Object(l.b)({type:Boolean,value:!0})],h.prototype,"visible",null),h=a=Object(i.a)([Object(c.a)("esri.Graphic")],h),(h||(h={})).generateUID=y.a;var m=h;t.a=m},1237:function(e,t,r){"use strict";r.r(t),r.d(t,"Print",(function(){return T}));var a=r(91),n=r(1),i={results:[{paramName:"Output_JSON",dataType:"GPString",value:[{layoutTemplate:"11x17_landscape",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[16,9],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_attributes",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[13,10],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_attributes_legend",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[13,10],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_landscape_legend",pageSize:[17,11],pageUnits:"INCH",webMapFrameSize:[16,9],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_portrait",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"11x17_portrait_attributes",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"},{PropertyInfo:" "}]}},{layoutTemplate:"11x17_portrait_attributes_legend",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"},{PropertyInfo:" "}]}},{layoutTemplate:"11x17_portrait_legend",pageSize:[11,17],pageUnits:"INCH",webMapFrameSize:[10,13],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"24x36_landscape",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[35,21],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_attributes",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[28,23],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:"Text"},{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_attributes_legend",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[28,23],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:"Text"},{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_landscape_legend",pageSize:[36,24],pageUnits:"INCH",webMapFrameSize:[35,21],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_portrait",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"24x36_portrait_attributes",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"24x36_portrait_attributes_legend",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"24x36_portrait_legend",pageSize:[24,36],pageUnits:"INCH",webMapFrameSize:[23,29],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[47,32.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_attributes",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[38,35],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_attributes_legend",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[38,35],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_landscape_legend",pageSize:[48,36],pageUnits:"INCH",webMapFrameSize:[47,32.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_portrait",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"36x48_portrait_attributes",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!1,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"36x48_portrait_attributes_legend",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!1,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"},{PropertyInfo:" "}]}},{layoutTemplate:"36x48_portrait_legend",pageSize:[36,48],pageUnits:"INCH",webMapFrameSize:[35,39],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{"2xScale":"200"},{"4xScale":"400"},{"6xScale":"600"},{Scale:"100"}]}},{layoutTemplate:"85x11_landscape",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[10,6.7],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"85x11_landscape_attributes",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_landscape_attributes_legend",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{PropertyInfo:" "},{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_landscape_legend",pageSize:[11,8.5],pageUnits:"INCH",webMapFrameSize:[10,6.7],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"800"},{"2xScale":"1,600"},{HalfScale:"400"}]}},{layoutTemplate:"85x11_portrait",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}},{layoutTemplate:"85x11_portrait_attributes",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!1,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"},{PropertyInfo:""}]}},{layoutTemplate:"85x11_portrait_attributes_legend",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"},{PropertyInfo:""}]}},{layoutTemplate:"85x11_portrait_legend",pageSize:[8.5,11],pageUnits:"INCH",webMapFrameSize:[7.5,7.5],layoutOptions:{hasTitleText:!0,hasAuthorText:!1,hasCopyrightText:!1,hasLegend:!0,customTextElements:[{Scale:"100"},{"2xScale":"200"},{HalfScale:"50"}]}}]}],messages:[]},o=r(223),s=(r(1110),r(94)),l=r(106),c=r(1091),u=r(82),p=(r(80),r(81),r(88),r(85)),d=r(84),f=(r(83),r(86),r(87),r(90)),b=class extends f.a{constructor(e){super(e),this.layerId=null,this.subLayerIds=null,this.title=null}};Object(u.a)([Object(p.b)({json:{write:!0}})],b.prototype,"layerId",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],b.prototype,"subLayerIds",void 0),Object(u.a)([Object(p.b)({json:{write:!0}})],b.prototype,"title",void 0);var y=b=Object(u.a)([Object(d.a)("esri/tasks/support/LegendLayer")],b),h=r(97),m=class extends h.a{constructor(e){super(e),this.extent=null,this.extraParameters=null,this.outSpatialReference=null,this.template=null,this.view=null}};Object(u.a)([Object(p.b)()],m.prototype,"extent",void 0),Object(u.a)([Object(p.b)()],m.prototype,"extraParameters",void 0),Object(u.a)([Object(p.b)()],m.prototype,"outSpatialReference",void 0),Object(u.a)([Object(p.b)()],m.prototype,"template",void 0),Object(u.a)([Object(p.b)()],m.prototype,"view",void 0);var v=m=Object(u.a)([Object(d.a)("esri.tasks.support.PrintParameters")],m),g=r(900),O=e=>{var t=Math.round(600*e/564.248588);return t<=75?75:t>75&&t<=150?150:t>150&&t<=300?300:t>300&&t<=600?600:t>600&&t<=1200?1200:t>1200&&t<=2400?2400:t>2400&&t<=4800?4800:t>4800&&t<=9600?9600:t>9600&&t<=19200?19200:t>19200&&t<=38400?38400:t>38400&&t<=76800?76800:t>76800&&t<=153600?153600:t>153600&&t<=307200?307200:t>307200&&t<=614400?614400:t>614400&&t<=1228800?1228800:0},j=r(514),S=r(103),x=r(123),w=r(0),T=e=>{var[t,r]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[d,f]=Object(n.useState)([]),[b,h]=Object(n.useState)("current"),m=Object(n.useRef)("current"),[T,_]=Object(n.useState)(),[M,F]=Object(n.useState)(Math.round(600*e.view.scale/564.248588)),[I,N]=Object(n.useState)([]),[P,L]=Object(n.useState)(!1),k=Object(n.useRef)(null),D=Object(n.useRef)(null),R=Object(n.useRef)(null),E=Object(n.useRef)(null),V=Object(n.useRef)(null),A=Object(n.useRef)(null),C=Object(n.useRef)(null),U=Object(n.useRef)(null),J=Object(n.useRef)([]),[G,z]=Object(n.useState)(NaN),q=Object(n.useRef)(null),B=e=>{var t;L("custom"===e.target.selectedOption.value),(null===(t=U.current)||void 0===t?void 0:t.hasAttribute("checked"))&&W(),"custom"===e.target.selectedOption.value?q.current&&q.current.addEventListener("change",H):q.current&&q.current.removeEventListener("change",H)},H=e=>{var t;z(parseInt(e.target.value)),(null===(t=U.current)||void 0===t?void 0:t.hasAttribute("checked"))&&W()},W=()=>{var t=e.view.map.findLayerById("print-graphic");t.removeAll(),setTimeout((()=>{o.i().then((()=>{var r,a,n,s,l,c=o.j(e.view.extent.center,{wkid:2264}),u=null===(r=k.current)||void 0===r?void 0:r.querySelector("calcite-option[selected]"),p=JSON.parse(u.value).template.replace(".","");console.log(p);var d=i.results[0].value.filter((e=>e.layoutTemplate===p)),f="current"===m.current?M:parseInt(null===(a=D.current)||void 0===a||null===(n=a.querySelector("calcite-option[selected]"))||void 0===n?void 0:n.value);f/=12,console.log(f);var b=(null===(s=d[0])||void 0===s?void 0:s.webMapFrameSize[0])*f,y=(null===(l=d[0])||void 0===l?void 0:l.webMapFrameSize[1])*f,h=c.x+b/2,v=c.y+y/2,g=c.x-b/2,O=c.y-y/2;console.log(h),t.add(new x.a({symbol:{type:"simple-fill",style:"cross",outline:{width:2,color:[149,149,149,1]}},geometry:new S.a({xmax:h,xmin:g,ymax:v,ymin:O,spatialReference:{wkid:2264}})}))}))}))},Y=t=>{e.view.map.findLayerById("print-graphic").removeAll(),t.target.hasAttribute("checked")||W()};return Object(n.useEffect)((()=>{_(e.selectedFeature)}),[e.selectedFeature]),Object(n.useEffect)((()=>{var t,a=new j.a({id:"print-graphic",listMode:"hide"});e.view.map.add(a),(e.templateUrl,s.c(((e,t)=>{var r=[],a=[];i.results[0].value.forEach((e=>{var t=e.pageSize[0],n=e.pageSize[1],i="".concat(t,'"x').concat(n,'"'),o="Portrait",s=t,l="".concat(t,"x").concat(n,"_").concat(o.toLowerCase());t>n&&(i="".concat(n,'"x').concat(t,'"'),o="Landscape",l="".concat(n,"x").concat(t,"_").concat(o.toLowerCase()),s=n);var c={label:i+=" ".concat(o),template:l,size:s};a.includes(c.template)||(r.push(c),a.push(c.template))})),r.sort(((e,t)=>e.size-t.size)),e(r)}))).then((e=>r(e))),(t=e.exportUrl,s.c(((e,r)=>Object(l.default)(t,{query:{f:"json"}}).then((t=>{t.data.parameters.forEach((t=>{"Format"===t.name&&e(t.choiceList)}))})).catch((e=>{r(e)}))))).then((e=>p(e))),f((e=>{var t,r=null===(t=e.constraints._defaultLODs.filter((e=>e.scale>=300&&e.scale<614400)).map((e=>{var t=O(e.scale);return{scale:t,label:'1" = '.concat((t/12).toLocaleString("en"),"'")}})))||void 0===t?void 0:t.reverse();return r.push({scale:"custom",label:"User Defined"}),r})(e.view));var n=O(e.view.scale);F(n),e.view.watch("stationary",(()=>{var t,r=O(e.view.scale);F(r),(null===(t=U.current)||void 0===t?void 0:t.hasAttribute("checked"))&&W()})),setTimeout((()=>{var e,t,r;null===(e=k.current)||void 0===e||e.addEventListener("calciteSelectChange",(()=>{var e;(null===(e=U.current)||void 0===e?void 0:e.hasAttribute("checked"))&&W()})),null===(t=R.current)||void 0===t||t.addEventListener("calciteRadioButtonGroupChange",(e=>{h(e.detail),m.current=e.detail,D.current&&D.current.removeEventListener("calciteSelectChange",B),L(!1),"custom"===e.detail&&D.current?D.current.addEventListener("calciteSelectChange",B):D.current&&q.current&&q.current.removeEventListener("change",H)})),null===(r=U.current)||void 0===r||r.addEventListener("calciteCheckboxChange",Y)}))}),[]),Object(w.jsxs)("div",{id:"printPanel",children:[Object(w.jsxs)("calcite-label",{children:["Title",Object(w.jsx)("calcite-input",{ref:V,placeholder:"Title of file"})]}),Object(w.jsxs)("calcite-label",{children:["Page size",Object(w.jsx)("calcite-select",{ref:k,children:t.map(((e,t)=>Object(w.jsx)("calcite-option",{value:JSON.stringify(e),selected:0===t?"":null,children:e.label},e.template)))})]}),Object(w.jsxs)("calcite-label",{children:["File format",Object(w.jsx)("calcite-select",{ref:E,children:u.map(((e,t)=>Object(w.jsx)("calcite-option",{value:e,selected:0===t?"":null,children:e},e)))})]}),Object(w.jsxs)("calcite-radio-button-group",{ref:R,layout:"vertical",name:"Radio Group name",children:[Object(w.jsxs)("calcite-radio-button",{value:"current",checked:!0,children:["Current Scale (",'1" = '.concat((M/12).toLocaleString("en"),"'"),")"]}),Object(w.jsx)("calcite-radio-button",{value:"custom",children:"Custom Scale"})]}),"custom"===b&&Object(w.jsxs)("calcite-label",{children:["Scale",Object(w.jsx)("calcite-select",{ref:D,children:d.map(((e,t)=>Object(w.jsx)("calcite-option",{value:e.scale,selected:0===t?"":null,children:e.label},e.scale)))})]}),"custom"===b&&P&&Object(w.jsx)("calcite-input",{ref:q,placeholder:"Placeholder","prefix-text":"1 in =",required:!0,"suffix-text":"ft",type:"number",value:G}),Object(w.jsxs)("calcite-label",{children:["Include legend ",Object(w.jsx)("calcite-checkbox",{checked:!0,ref:C})]}),Object(w.jsxs)("calcite-label",{children:["Show Map Frame",Object(w.jsx)("calcite-checkbox",{ref:U})]}),T&&Object(w.jsxs)("calcite-label",{children:["Include attributes ",Object(w.jsx)("calcite-checkbox",{ref:A})]}),Object(w.jsx)("calcite-button",{disabled:P&&isNaN(G)?"":null,onClick:()=>{var t,r,n,i,o,l,u,p,d,f,b=e.view.map.findLayerById("print-graphic");b.visible=!1;var h="current"===m.current?M:parseInt(null===(t=D.current)||void 0===t||null===(r=t.querySelector("calcite-option[selected]"))||void 0===r?void 0:r.value);P&&G&&(h=12*G);var O=null===(n=k.current)||void 0===n?void 0:n.querySelector("calcite-option[selected]"),j=JSON.parse(O.value).template.replace(".",""),S=((e,t)=>{var r=[];return r.push({Scale:(t/12).toString()}),e<24?(r.push({HalfScale:(t/12/2).toString()}),r.push({"2xScale":t/12*2+" ft"})):e<36?(r.push({"2xScale":t/12*2}),r.push({"4xScale":t/12*4+" ft"})):(r.push({"2xScale":t/12*2}),r.push({"4xScale":t/12*4}),r.push({"6xScale":t/12*6+" ft"})),r})(JSON.parse(O.value).size,h);if(void 0!=T&&!(null===(i=A.current)||void 0===i?void 0:i.disabled)&&(null===(o=A.current)||void 0===o?void 0:o.checked)){var x=(e=>{var t="";return e.layer.fields.forEach((r=>{if(!["OBJECTID"].includes(r.name)&&e.getAttribute(r.name))if("date"===r.type){var a=new Date(e.getAttribute(r.name));console.log(a),t+="".concat(r.alias,": ").concat(a.getUTCMonth()+1,"/").concat(a.getUTCDate(),"/").concat(a.getUTCFullYear(),"\n")}else t+="".concat(r.alias,": ").concat(e.getAttribute(r.name),"\n")})),t})(T);j+="_attributes",S.push({PropertyInfo:x})}(null===(l=C.current)||void 0===l?void 0:l.checked)&&(j+="_legend");var w=((e,t,r,a,n,i)=>new g.a({outScale:e,showLabels:!0,format:t,layoutOptions:{titleText:r,scalebarUnit:"Feet",customTextElements:a,legendLayers:n.map.allLayers.filter((e=>"imagery"!=e.type&&"selection-layer"!=e.id)).map((e=>new y({layerId:e.id,title:e.title})))},layout:i}))(h,null===(u=E.current)||void 0===u||null===(p=u.querySelector("calcite-option[selected]"))||void 0===p?void 0:p.value,null===(d=V.current)||void 0===d?void 0:d.value,S,e.view,j),_={title:null===(f=V.current)||void 0===f?void 0:f.value,loading:!0,submitted:(new Date).getTime().toString(),href:null};N([...I,_]),J.current=[...J.current,_];var F=e.view.scale;w.outScale!=e.view.scale&&(e.view.scale=w.outScale),setTimeout((()=>{((e,t,r,a)=>s.c(((n,i)=>{new c.default({url:e}).execute(new v({template:t,view:r})).then((e=>{n(e)})).catch((e=>{i(e)})),setTimeout((()=>{r.scale=a}),1e3)})))(e.exportUrl,w,e.view,F).then((e=>{setTimeout((()=>{b.visible=!0;var t=J.current.indexOf(_);J.current[t]=Object(a.a)(Object(a.a)({},J.current[t]),{url:e.url,loading:!1}),N([...J.current])}))})).catch((e=>{console.log(e),b.visible=!0;var t=J.current.indexOf(_);J.current[t]=Object(a.a)(Object(a.a)({},J.current[t]),{error:!0,loading:!1}),N([...J.current])}))}),1e3)},children:"Export"}),Object(w.jsxs)("div",{className:"esri-print__export-panel-container",children:[Object(w.jsx)("h3",{className:"esri-print__export-title esri-widget__heading",children:"Exported files"}),Object(w.jsx)("div",{children:Object(w.jsx)("div",{children:"Your exported files will appear here."})}),Object(w.jsx)("div",{id:"printJobs",children:I.map((e=>Object(w.jsxs)("div",{className:"print-job",children:[e.loading&&Object(w.jsxs)("div",{children:[Object(w.jsx)("calcite-loader",{scale:"s",inline:!0,active:!0}),Object(w.jsx)("span",{className:"loader-text",children:"".concat(""!=e.title?e.title:"untitled")})]}),e.url&&!e.loading&&Object(w.jsxs)("div",{children:[Object(w.jsx)("calcite-link",{target:"_blank","icon-start":"download",href:e.url,children:"".concat(""!=e.title?e.title:"untitled")}),Object(w.jsx)("calcite-button",{appearance:"transparent","icon-start":"x",scale:"s",onClick:()=>{J.current=I.filter((t=>t.title!==e.title)),N(I.filter((t=>t!==e)))}})]})]},"printjob_".concat(e.submitted))))})]})]})};t.default=T},124:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}));var a=r(92);function n(e,t,r=!1){return l(e,t,r)}function i(e,t){if(null!=t)return t[e]||s(e.split("."),!1,t)}function o(e,t,r){var a=e.split("."),n=a.pop(),i=s(a,!0,r);i&&n&&(i[n]=t)}function s(e,t,r){var a=r;for(var n of e){if(null==a)return;if(!(n in a)){if(!t)return;a[n]={}}a=a[n]}return a}function l(e,t,r){return t?Object.keys(t).reduce((function(e,n){var i=e[n],o=t[n];return i===o?e:void 0===i?(e[n]=Object(a.a)(o),e):(Array.isArray(o)||Array.isArray(e)?(i=i?Array.isArray(i)?e[n]=i.concat():e[n]=[i]:e[n]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach((e=>{-1===i.indexOf(e)&&i.push(e)})):e[n]=o.concat())):o&&"object"==typeof o?e[n]=l(i,o,r):e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=o),e)}),e||{}):e}},125:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return n})),r.d(t,"j",(function(){return j})),r.d(t,"k",(function(){return c})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return s})),r.d(t,"n",(function(){return o})),r.d(t,"o",(function(){return d})),r.d(t,"p",(function(){return v})),r.d(t,"q",(function(){return O})),r.d(t,"r",(function(){return l})),r.d(t,"s",(function(){return p}));r(80),r(89);var a=r(103);function n(e=w){return[e[0],e[1],e[2],e[3]]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,a,i=n()){return i[0]=e,i[1]=t,i[2]=r,i[3]=a,i}function s(e,t=n()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new a.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e,t,r=e){if("length"in t)S(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}return r}function u(e,t,r=e){for(var a=t.length,n=e[0],i=e[1],o=e[2],s=e[3],l=0;l<a;l++){var c=t[l];n=Math.min(n,c[0]),i=Math.min(i,c[1]),o=Math.max(o,c[0]),s=Math.max(s,c[1])}return r[0]=n,r[1]=i,r[2]=o,r[3]=s,r}function p(e){return e[0]>=e[2]?0:e[2]-e[0]}function d(e){return e[1]>=e[3]?0:e[3]-e[1]}function f(e){return p(e)*d(e)}function b(e,t){return h(e,t[0],t[1])}function y(e,t){return h(e,t.x,t.y)}function h(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function m(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function v(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function g(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function O(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function j(e){return e?O(e,x):n(x)}function S(e){return 4===e.length}var x=[1/0,1/0,-1/0,-1/0],w=[0,0,0,0]},132:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(92)),o=r(89),s=(r(81),r(88)),l=r(85),c=r(116),u=r(95),p=r(84),d=r(96),f=(r(83),r(86),r(87),r(90)),b=r(99),y=r(113),h=r(100),m=r(101),v=r(150),g=r(170),O=r(250),j=r(246),S=new u.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),x=new u.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),w=a=class extends f.a{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.units=null,this.where=null}static from(e){return Object(s.d)(a,e)}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){var r={};for(var a in e){var n=e[a];Array.isArray(n)?r[a]=n.map((e=>e instanceof Date?e.getTime():e)):n instanceof Date?r[a]=n.getTime():r[a]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new a(Object(i.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(o.k)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}};w.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(n.a)([Object(l.b)({json:{write:!0}})],w.prototype,"aggregateIds",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{writer:(e,t)=>{null!=e&&(t.cacheHint=e)}}}})],w.prototype,"cacheHint",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],w.prototype,"datumTransformation",void 0),Object(n.a)([Object(c.a)("datumTransformation")],w.prototype,"castDatumTransformation",null),Object(n.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],w.prototype,"distance",void 0),Object(n.a)([Object(l.b)({type:g.a,json:{write:!0}})],w.prototype,"dynamicDataSource",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"gdbVersion",void 0),Object(n.a)([Object(l.b)({types:m.a,json:{read:h.a,write:!0}})],w.prototype,"geometry",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],w.prototype,"geometryPrecision",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],w.prototype,"groupByFieldsForStatistics",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"having",void 0),Object(n.a)([Object(l.b)({type:Date})],w.prototype,"historicMoment",void 0),Object(n.a)([Object(d.a)("historicMoment")],w.prototype,"writeHistoricMoment",null),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],w.prototype,"maxAllowableOffset",void 0),Object(n.a)([Object(l.b)({type:Number,cast:e=>e<1?1:e>a.MAX_MAX_RECORD_COUNT_FACTOR?a.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],w.prototype,"maxRecordCountFactor",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"multipatchOption",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],w.prototype,"num",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],w.prototype,"objectIds",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],w.prototype,"orderByFields",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],w.prototype,"outFields",void 0),Object(n.a)([Object(l.b)({type:b.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],w.prototype,"outSpatialReference",void 0),Object(n.a)([Object(l.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(o.k)(this.outStatistics)&&this.outStatistics.length>0}}}}})],w.prototype,"outStatistics",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],w.prototype,"parameterValues",void 0),Object(n.a)([Object(d.a)("parameterValues")],w.prototype,"writeParameterValues",null),Object(n.a)([Object(l.b)({type:y.a,json:{write:!0}})],w.prototype,"pixelSize",void 0),Object(n.a)([Object(l.b)({type:O.a,json:{write:!0}})],w.prototype,"quantizationParameters",void 0),Object(n.a)([Object(l.b)({type:[Object],json:{write:!0}})],w.prototype,"rangeValues",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],w.prototype,"relationParameter",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"resultType",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnCentroid",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnDistinctValues",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:!e})}}})],w.prototype,"returnExceededLimitFeatures",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:!0}})],w.prototype,"returnGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnQueryGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnM",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnZ",void 0),Object(n.a)([Object(l.b)({type:b.a,json:{write:!0}})],w.prototype,"sourceSpatialReference",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"spatialRel",reader:S.read},write:{target:"spatialRel",writer:S.write}}})],w.prototype,"spatialRelationship",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultOffset"}}})],w.prototype,"start",void 0),Object(n.a)([Object(d.a)("start"),Object(d.a)("num")],w.prototype,"writeStart",null),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"sqlFormat",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],w.prototype,"text",void 0),Object(n.a)([Object(l.b)({type:v.a,json:{write:!0}})],w.prototype,"timeExtent",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:x.read,write:{writer:x.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],w.prototype,"units",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||this.start>0}}}}})],w.prototype,"where",void 0),Object(n.a)([Object(d.a)("where")],w.prototype,"writeWhere",null);var T=w=a=Object(n.a)([Object(p.a)("esri.tasks.support.Query")],w);t.a=T},134:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(102),l=r(84),c=(r(83),r(86),r(87),r(90)),u=a=class extends c.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new a({name:this.name,code:this.code})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0);var p,d=u=a=Object(n.a)([Object(l.a)("esri.layers.support.CodedValue")],u),f=r(121),b=p=class extends f.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new p({codedValues:Object(i.a)(this.codedValues),name:this.name})}};Object(n.a)([Object(o.b)({type:[d],json:{write:!0}})],b.prototype,"codedValues",void 0),Object(n.a)([Object(s.a)({codedValue:"coded-value"})],b.prototype,"type",void 0);var y=b=p=Object(n.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],b);t.a=y},136:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(81),r(88),r(85),r(102)),o=r(84),s=(r(83),r(86),r(87),r(121)),l=a=class extends s.a{constructor(e){super(e),this.type="inherited"}clone(){return new a}};Object(n.a)([Object(i.a)({inherited:"inherited"})],l.prototype,"type",void 0);var c=l=a=Object(n.a)([Object(o.a)("esri.layers.support.InheritedDomain")],l);t.a=c},137:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(102),s=r(84),l=(r(83),r(86),r(87),r(121)),c=a=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new a({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(n.a)([Object(i.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(n.a)([Object(i.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(n.a)([Object(o.a)({range:"range"})],c.prototype,"type",void 0);var u=c=a=Object(n.a)([Object(s.a)("esri.layers.support.RangeDomain")],c);t.a=u},140:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c}));r(80);var a=r(95);function n(e){return e}var i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},o=Object(a.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function s(e,t,r){var a=new Date(e.getTime());if(t&&r){var n=i[r],{getter:o,setter:s,multiplier:l}=n;a[s](a[o]()+t*l)}return a}var l={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},142:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o}));var a=r(91),n=r(83);function i(e,t){var r={query:e};return t&&((r=Object(a.a)(Object(a.a)({},t),r)).query=Object(a.a)(Object(a.a)({},r.query),t.query)),r}function o(e){return"string"==typeof e?Object(n.J)(e):e}function s(e,t,r){var a={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){a[n]=[];for(var o=0;o<i.length;o++)a[n][o]=s(i[o])}else if("object"==typeof i)if(i.toJSON){var l=i.toJSON(r&&r[n]);a[n]=t?l:JSON.stringify(l)}else a[n]=t?i:JSON.stringify(i);else a[n]=i}return a}},143:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return c}));var a=r(124),n=/\{([^\}]+)\}/g;function i(e){return null==e?"":e}function o(e,t){return e.replace(n,"object"==typeof t?(e,r)=>i(Object(a.b)(r,t)):(e,r)=>i(t(r)))}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:"\\".concat(e)))}function l(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},146:function(e,t,r){"use strict";r.r(t);var a=r(82),n=(r(80),r(89)),i=(r(81),r(88),r(85)),o=r(95),s=r(98),l=r(84),c=r(96),u=(r(83),r(86),r(87),r(90)),p=r(99),d=r(100),f=r(101),b=r(123),y=r(155),h=new o.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),m=class extends u.a{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){for(var r=p.a.fromJSON(t.spatialReference),a=[],i=0;i<e.length;i++){var o=e[i],s=b.a.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;Object(n.k)(s.geometry)&&!l&&(s.geometry.spatialReference=r),a.push(s)}return a}writeGeometryType(e,t,r,a){if(e)h.write(e,t,r,a);else{var{features:i}=this;if(i)for(var o of i)if(o&&Object(n.k)(o.geometry))return void h.write(o.geometry.type,t,r,a)}}readQueryGeometry(e,t){if(!e)return null;var r=!!e.spatialReference,a=Object(d.a)(e);return!r&&t.spatialReference&&(a.spatialReference=p.a.fromJSON(t.spatialReference)),a}writeSpatialReference(e,t){if(e)t.spatialReference=e.toJSON();else{var{features:r}=this;if(r)for(var a of r)if(a&&Object(n.k)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}toJSON(e){var t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var a=t.features[r];if(a.geometry){var n=e&&e[r];a.geometry=n&&n.toJSON()||a.geometry}}return t}quantize(e){for(var{scale:[t,r],translate:[a,i]}=e,o=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-a)/t)),(e=>Math.round((i-e)/r))),l=0,c=o.length;l<c;l++)s(Object(n.q)(o[l].geometry))||(o.splice(l,1),l--,c--);return this.transform=e,this}unquantize(){var{geometryType:e,features:t,transform:r}=this;if(!r)return this;var{translate:[a,i],scale:[o,s]}=r,l=this._getHydrationFunction(e,(e=>e*o+a),(e=>i-e*s));for(var{geometry:c}of t)Object(n.k)(c)&&l(c);return this.transform=null,this}_quantizePoints(e,t,r){for(var a,n,i=[],o=0,s=e.length;o<s;o++){var l=e[o];if(o>0){var c=t(l[0]),u=r(l[1]);c===a&&u===n||(i.push([c-a,u-n]),a=c,n=u)}else a=t(l[0]),n=r(l[1]),i.push([a,n])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{for(var a=Object(d.g)(e)?e.rings:e.paths,n=[],i=0,o=a.length;i<o;i++){var s=a[i],l=this._quantizePoints(s,t,r);l&&n.push(l)}return n.length>0?(Object(d.g)(e)?e.rings=n:e.paths=n,e):null}:"multipoint"===e?e=>{var a=this._quantizePoints(e.points,t,r);return a.length>0?(e.points=a,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{for(var a,n,i=Object(d.g)(e)?e.rings:e.paths,o=0,s=i.length;o<s;o++)for(var l=i[o],c=0,u=l.length;c<u;c++){var p=l[c];c>0?(a+=p[0],n+=p[1]):(a=p[0],n=p[1]),p[0]=t(a),p[1]=r(n)}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{for(var a,n,i=e.points,o=0,s=i.length;o<s;o++){var l=i[o];o>0?(a+=l[0],n+=l[1]):(a=l[0],n=l[1]),l[0]=t(a),l[1]=r(n)}}:void 0}};Object(a.a)([Object(i.b)({type:String,json:{write:!0}})],m.prototype,"displayFieldName",void 0),Object(a.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"exceededTransferLimit",void 0),Object(a.a)([Object(i.b)({type:[b.a],json:{write:!0}})],m.prototype,"features",void 0),Object(a.a)([Object(s.a)("features")],m.prototype,"readFeatures",null),Object(a.a)([Object(i.b)({type:[y.a],json:{write:!0}})],m.prototype,"fields",void 0),Object(a.a)([Object(i.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:h.read}}})],m.prototype,"geometryType",void 0),Object(a.a)([Object(c.a)("geometryType")],m.prototype,"writeGeometryType",null),Object(a.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"hasM",void 0),Object(a.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"hasZ",void 0),Object(a.a)([Object(i.b)({types:f.a,json:{write:!0}})],m.prototype,"queryGeometry",void 0),Object(a.a)([Object(s.a)("queryGeometry")],m.prototype,"readQueryGeometry",null),Object(a.a)([Object(i.b)({type:p.a,json:{write:!0}})],m.prototype,"spatialReference",void 0),Object(a.a)([Object(c.a)("spatialReference")],m.prototype,"writeSpatialReference",null),Object(a.a)([Object(i.b)({json:{write:!0}})],m.prototype,"transform",void 0),(m=Object(a.a)([Object(l.a)("esri.tasks.support.FeatureSet")],m)).prototype.toJSON.isDefaultToJSON=!0,m||(m={});var v=m;t.default=v},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c}));r(80);var a,n,i=r(121),o=r(134),s=r(136),l=r(137);function c(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>n)return a.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return a.INVALID_CODED_VALUE}return null}(n=a||(a={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",n.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var u={key:"type",base:i.a,typeMap:{range:l.a,"coded-value":o.a,inherited:s.a}};function p(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function d(e){if(!e||!e.type)return null;switch(e.type){case"range":return l.a.fromJSON(e);case"codedValue":return o.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},150:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(98),s=r(84),l=r(96),c=(r(83),r(86),r(87),r(90)),u=r(140),p=a=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return d}static get empty(){return f}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(a.allTime)}get isEmpty(){return this.equals(a.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new a({end:this.end,start:this.start})}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=this.start?Object(u.e)(this.start,e):null,r=this.end?Object(u.c)(Object(u.e)(this.end,e),1,e):null;return new a({start:t,end:r})}intersection(e){var t,r,n,i,o,s,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var u,p,d=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,f=null!=(n=null==(i=this.end)?void 0:i.getTime())?n:1/0,b=null!=(o=null==(s=e.start)?void 0:s.getTime())?o:-1/0,y=null!=(l=null==(c=e.end)?void 0:c.getTime())?l:1/0;if(b>=d&&b<=f?u=b:d>=b&&d<=y&&(u=d),f>=b&&f<=y?p=f:y>=d&&y<=f&&(p=y),!isNaN(u)&&!isNaN(p)){var h=new a;return h.start=u===-1/0?null:new Date(u),h.end=p===1/0?null:new Date(p),h}return a.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new a,{start:n,end:i}=this;return n&&(r.start=Object(u.c)(n,e,t)),i&&(r.end=Object(u.c)(i,e,t)),r}equals(e){if(!e)return!1;var t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,a=e.start?e.start.getTime():e.start,n=e.end?e.end.getTime():e.end;return t===a&&r===n}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return d.clone();var t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new a({start:t,end:r})}};Object(n.a)([Object(i.b)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),Object(n.a)([Object(o.a)("end")],p.prototype,"readEnd",null),Object(n.a)([Object(l.a)("end")],p.prototype,"writeEnd",null),Object(n.a)([Object(i.b)({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),Object(n.a)([Object(i.b)({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),Object(n.a)([Object(i.b)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),Object(n.a)([Object(o.a)("start")],p.prototype,"readStart",null),Object(n.a)([Object(l.a)("start")],p.prototype,"writeStart",null);var d=new(p=a=Object(n.a)([Object(s.a)("esri.TimeExtent")],p)),f=new p({start:void 0,end:void 0}),b=p;t.a=b},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return l}));var a,n=r(91),i=r(7),o=r(89),s=r(99);r(101);function l(){return c.apply(this,arguments)}function c(){return(c=Object(i.a)((function*(){return a||(a=Object(i.a)((function*(){var e=yield Promise.all([r.e(31),r.e(134)]).then(r.bind(null,383));return yield e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}}))()),a}))).apply(this,arguments)}var u=(e,t,r)=>f.create(e,t,r,null,["$feature"]),p=(e,t,r)=>f.create(e,t,r,null,["$feature","$view"]),d=(e,t,r,a)=>f.create(e,t,r,a,["$feature","$view"]);class f{constructor(e,t,r,a,n,i,o,s){this.script=e,this.evaluate=n,this.fields=o,this._syntaxTree=a,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=i,this._spatialReference=s,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(e,t,r,a,c,u){return Object(i.a)((function*(){var{arcade:i,Feature:p,Dictionary:d}=yield l(),b=s.a.fromJSON(t),y=i.parseScript(e,u),h=c.reduce(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{[t]:null})),{}),m=null;Object(o.k)(a)&&((m=new d(a)).immutable=!0,h.$config=null);var v=i.scriptUsesGeometryEngine(y)&&i.enableGeometrySupport(),g=i.scriptUsesFeatureSet(y)&&i.enableFeatureSetSupport(),O=i.scriptIsAsync(y)&&i.enableAsyncSupport(),j={vars:h,spatialReference:b,useAsync:!!O},S=new d;S.immutable=!1,S.setField("scale",0);var x=i.compileScript(y,j);return yield Promise.all([v,g,O]),new f(e,i,d,y,(e=>("$view"in e&&e.$view&&(S.setField("scale",e.$view.scale),e.$view=S),m&&(e.$config=m),x({vars:e,spatialReference:b}))),new p,r,b)}))()}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},155:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(81),r(88)),o=r(85),s=r(95),l=r(102),c=r(98),u=r(84),p=(r(83),r(86),r(87),r(90)),d=r(149),f=r(237),b=new s.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),y=a=class extends p.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){var r;try{r=JSON.parse(t)}catch(a){}return r?r.value:null}readValueType(e,{description:t}){var r;try{r=JSON.parse(t)}catch(a){}return r?b.fromJSON(r.fieldValueType):null}clone(){return new a({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],y.prototype,"alias",void 0),Object(n.a)([Object(o.b)({type:[String,Number],json:{write:{allowNull:!0}}})],y.prototype,"defaultValue",void 0),Object(n.a)([Object(o.b)()],y.prototype,"description",void 0),Object(n.a)([Object(c.a)("description")],y.prototype,"readDescription",null),Object(n.a)([Object(o.b)({types:d.d,json:{read:{reader:d.b},write:!0}})],y.prototype,"domain",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0),Object(n.a)([Object(o.b)({type:i.a,json:{write:!0}})],y.prototype,"length",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],y.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],y.prototype,"nullable",void 0),Object(n.a)([Object(l.a)(f.a)],y.prototype,"type",void 0),Object(n.a)([Object(o.b)()],y.prototype,"valueType",void 0),Object(n.a)([Object(c.a)("valueType",["description"])],y.prototype,"readValueType",null);var h=y=a=Object(n.a)([Object(u.a)("esri.layers.support.Field")],y);t.a=h},158:function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=r}).call(this,r(172))},159:function(e,t,r){"use strict";var a=r(158),n=(r(80),r(124)),i={apiKey:void 0,applicationUrl:a.a.location&&a.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(a.a.esriConfig&&(Object(n.a)(i,a.a.esriConfig,!0),delete i.has),!i.assetsPath){i.assetsPath="https://js.arcgis.com/".concat("4.19.0".slice(0,-2),"/@arcgis/core/assets")}i.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(i,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),i.request.corsEnabledServers=[],i.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=i},165:function(e,t,r){"use strict";function a(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function n(e,t,r){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){var n=t.slice();for(var i of n)e.addEventListener(i,r);return{remove(){for(var t of n)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function i(e,t,r){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);var i=n(e,t,(t=>{i.remove(),r.call(e,t)}));return{remove(){i.remove()}}}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i}));var o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s({key:e}){return o[e]||e}},170:function(e,t,r){"use strict";r.d(t,"a",(function(){return L}));var a,n,i=r(82),o=(r(80),r(81),r(88)),s=r(85),l=r(116),c=r(95),u=r(102),p=r(98),d=r(188),f=r(84),b=(r(83),r(86),r(87),r(90)),y=r(155),h=r(262),m=r(99),v=r(183),g=(r(101),a=class extends b.a{constructor(e){super(e),this.type="query-table"}clone(){var e,{workspaceId:t,query:r,oidFields:n,spatialReference:i,geometryType:o}=this,s={workspaceId:t,query:r,oidFields:n,spatialReference:null!=(e=null==i?void 0:i.clone())?e:void 0,geometryType:o};return new a(s)}});Object(i.a)([Object(u.a)({queryTable:"query-table"})],g.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"query",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"oidFields",void 0),Object(i.a)([Object(s.b)({type:m.a,json:{write:!0}})],g.prototype,"spatialReference",void 0),Object(i.a)([Object(u.a)(v.a)],g.prototype,"geometryType",void 0),g=a=Object(i.a)([Object(f.a)("esri.layers.support.source.QueryTableDataSource")],g);var O,j=n=class extends b.a{constructor(e){super(e),this.type="raster"}clone(){var{workspaceId:e,dataSourceName:t}=this;return new n({workspaceId:e,dataSourceName:t})}};Object(i.a)([Object(u.a)({raster:"raster"})],j.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],j.prototype,"dataSourceName",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],j.prototype,"workspaceId",void 0),j=n=Object(i.a)([Object(f.a)("esri.layers.support.source.RasterDataSource")],j);var S,x,w=O=class extends b.a{constructor(e){super(e),this.type="table"}clone(){var{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new O({workspaceId:e,gdbVersion:t,dataSourceName:r})}};Object(i.a)([Object(u.a)({table:"table"})],w.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"gdbVersion",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),w=O=Object(i.a)([Object(f.a)("esri.layers.support.source.TableDataSource")],w);var T=Object(c.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),_=S=class extends b.a{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return F()(e,t,r)}castLeftTableSource(e){return Object(o.k)(N(),e)}readRightTableSource(e,t,r){return F()(e,t,r)}castRightTableSource(e){return Object(o.k)(N(),e)}clone(){var e,t,{leftTableKey:r,rightTableKey:a,leftTableSource:n,rightTableSource:i,joinType:o}=this,s={leftTableKey:r,rightTableKey:a,leftTableSource:null!=(e=null==n?void 0:n.clone())?e:void 0,rightTableSource:null!=(t=null==i?void 0:i.clone())?t:void 0,joinType:o};return new S(s)}};Object(i.a)([Object(u.a)({joinTable:"join-table"})],_.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],_.prototype,"leftTableKey",void 0),Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],_.prototype,"rightTableKey",void 0),Object(i.a)([Object(s.b)({json:{write:!0}})],_.prototype,"leftTableSource",void 0),Object(i.a)([Object(p.a)("leftTableSource")],_.prototype,"readLeftTableSource",null),Object(i.a)([Object(l.a)("leftTableSource")],_.prototype,"castLeftTableSource",null),Object(i.a)([Object(s.b)({json:{write:!0}})],_.prototype,"rightTableSource",void 0),Object(i.a)([Object(p.a)("rightTableSource")],_.prototype,"readRightTableSource",null),Object(i.a)([Object(l.a)("rightTableSource")],_.prototype,"castRightTableSource",null),Object(i.a)([Object(u.a)(T)],_.prototype,"joinType",void 0),_=S=Object(i.a)([Object(f.a)("esri.layers.support.source.JoinTableDataSource")],_);var M=null;function F(){return M||(M=Object(d.b)({types:N()})),M}var I=null;function N(){return I||(I={key:"type",base:null,typeMap:{"data-layer":L,"map-layer":h.a}}),I}var P={key:"type",base:null,typeMap:{"join-table":_,"query-table":g,raster:j,table:w}},L=x=class extends b.a{constructor(e){super(e),this.type="data-layer"}clone(){var{fields:e,dataSource:t}=this;return new x({fields:e,dataSource:t})}};Object(i.a)([Object(u.a)({dataLayer:"data-layer"})],L.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:[y.a],json:{write:!0}})],L.prototype,"fields",void 0),Object(i.a)([Object(s.b)({types:P,json:{write:!0}})],L.prototype,"dataSource",void 0),(L=x=Object(i.a)([Object(f.a)("esri.layers.support.source.DataLayerSource")],L)).from=Object(o.m)(L)},172:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(a){"object"===typeof window&&(r=window)}e.exports=r},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return p}));var a=r(112),n=r(99),i=r(139);function o(e){return new n.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var s=o(i.a),l=o(i.b),c=o(i.c),u=new n.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(i.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function p(e){return e&&(Object(a.g)(e)||e===l)?l:e&&(Object(a.h)(e)||e===c)?c:s}function d(e){return e&&(Object(a.g)(e)||e===l)?i.b:e&&(Object(a.h)(e)||e===c)?i.c:i.a}function f(e){return Object(a.k)(e)?i.b:Object(a.l)(e)?i.c:i.a}},180:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));r(80);function a(e){}function n(e){return()=>e}},184:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return s}));var a=1e-6,n=Math.random,i=Math.PI/180,o=180/Math.PI;function s(e){return e*i}function l(e){return e*o}Object.freeze({__proto__:null,EPSILON:a,RANDOM:n,toRadian:s,toDegree:l,equals:function(e,t){return Math.abs(e-t)<=a*Math.max(1,Math.abs(e),Math.abs(t))}})},189:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=0;function n(){return++a}},193:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(139),n=r(117),i={inches:Object(n.c)(1,"meters","inches"),feet:Object(n.c)(1,"meters","feet"),"us-feet":Object(n.c)(1,"meters","us-feet"),yards:Object(n.c)(1,"meters","yards"),miles:Object(n.c)(1,"meters","miles"),"nautical-miles":Object(n.c)(1,"meters","nautical-miles"),millimeters:Object(n.c)(1,"meters","millimeters"),centimeters:Object(n.c)(1,"meters","centimeters"),decimeters:Object(n.c)(1,"meters","decimeters"),meters:Object(n.c)(1,"meters","meters"),kilometers:Object(n.c)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.m)(1,"meters",a.a.radius)}},204:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(84),o=(r(83),r(86),r(87),e=>{var t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return"".concat(this.minScale,",").concat(this.maxScale)}};return Object(a.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(a.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(a.a)([Object(n.b)({readOnly:!0})],t.prototype,"scaleRangeId",null),t=Object(a.a)([Object(i.a)("esri.layers.mixins.ScaleRangeLayer")],t)})},215:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(84),o=(r(83),r(86),r(87),e=>{var t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return Object(a.a)([Object(n.b)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),Object(a.a)([Object(n.b)()],t.prototype,"effect",void 0),t=Object(a.a)([Object(i.a)("esri.layers.mixins.BlendLayer")],t)})},218:function(e,t,r){"use strict";var a=r(7),n=r(82),i=(r(80),r(159)),o=r(81),s=(r(88),r(85)),l=r(84),c=r(93),u=r(83),p=(r(86),r(87),r(94)),d=r(99),f=r(103),b=(r(101),r(131)),y=r(266),h=r(106),m=r(185),v=0,g=o.a.getLogger("esri.layers.Layer"),O=class extends(b.a.EventedMixin(Object(y.a)(m.a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.a(-180,-90,180,90,d.a.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=d.a.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(e){return Object(a.a)((function*(){var t="string"==typeof e?{url:e}:e,a=yield r.e(201).then(r.bind(null,632));try{return yield a.fromUrl(t)}catch(n){throw g.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",n),n}}))()}static fromPortalItem(e){return Object(a.a)((function*(){var t="portalItem"in e?e:{portalItem:e},a=yield r.e(169).then(r.bind(null,571));try{return yield a.fromItem(t)}catch(l){var n=t&&t.portalItem,o=n&&n.id||"unset",s=n&&n.portal&&n.portal.url||i.a.portalUrl;throw g.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+o+"')",l),l}}))()}initialize(){this.when().catch((e=>{var t,r;Object(p.m)(e)||o.a.getLogger(this.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(t=this.title)?t:"no title","', id: '").concat(null!=(r=this.id)?r:"no id","')"),{error:e})}))}destroy(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){var e=this.url;return e?Object(u.J)(e):null}fetchAttributionData(){var e=this;return Object(a.a)((function*(){var t=e.attributionDataUrl;if(e.hasAttributionData&&t)return(yield Object(h.default)(t,{query:{f:"json"},responseType:"json"})).data;throw new c.a("layer:no-attribution-data","Layer does not have attribution data")}))()}};Object(n.a)([Object(s.b)({type:String})],O.prototype,"attributionDataUrl",void 0),Object(n.a)([Object(s.b)({type:f.a})],O.prototype,"fullExtent",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],O.prototype,"hasAttributionData",null),Object(n.a)([Object(s.b)({type:String})],O.prototype,"id",void 0),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0})],O.prototype,"legendEnabled",void 0),Object(n.a)([Object(s.b)({type:["show","hide","hide-children"]})],O.prototype,"listMode",void 0),Object(n.a)([Object(s.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],O.prototype,"opacity",void 0),Object(n.a)([Object(s.b)()],O.prototype,"parent",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],O.prototype,"parsedUrl",null),Object(n.a)([Object(s.b)({type:Boolean})],O.prototype,"popupEnabled",void 0),Object(n.a)([Object(s.b)({type:Boolean})],O.prototype,"attributionVisible",void 0),Object(n.a)([Object(s.b)({type:d.a})],O.prototype,"spatialReference",void 0),Object(n.a)([Object(s.b)({type:String})],O.prototype,"title",void 0),Object(n.a)([Object(s.b)({type:String,readOnly:!0,json:{read:!1}})],O.prototype,"type",void 0),Object(n.a)([Object(s.b)()],O.prototype,"url",void 0),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0})],O.prototype,"visible",void 0);var j=O=Object(n.a)([Object(l.a)("esri.layers.Layer")],O);t.a=j},233:function(e,t,r){"use strict";function a(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function i(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var r=t||i(e),a=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===a?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return n}))},236:function(e,t,r){"use strict";r.d(t,"a",(function(){return F})),r.d(t,"b",(function(){return N})),r.d(t,"c",(function(){return w}));var a=r(7),n=r(159),i=r(89),o=r(81),s=r(93),l=r(112),c=r(161),u=r(130),p=r(141),d=r(243),f=r(91),b=r(83),y=r(100),h=(r(101),r(106));function m(e,t,r,a){return v.apply(this,arguments)}function v(){return(v=Object(a.a)((function*(e,t,r,a){var n="string"==typeof e?Object(b.J)(e):e,i=t[0].spatialReference,o=Object(f.a)(Object(f.a)({},a),{},{query:Object(f.a)(Object(f.a)({},n.query),{},{f:"json",sr:JSON.stringify(i),target:JSON.stringify({geometryType:Object(y.c)(t[0]),geometries:t}),cutter:JSON.stringify(r)})}),s=yield Object(h.default)(n.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=s.data;return{cutIndexes:l,geometries:c.map((e=>{var t=Object(y.a)(e);return t.spatialReference=i,t}))}}))).apply(this,arguments)}function g(e,t,r){return O.apply(this,arguments)}function O(){return(O=Object(a.a)((function*(e,t,r){var a="string"==typeof e?Object(b.J)(e):e,n=t[0].spatialReference,i=Object(y.c)(t[0]),o=Object(f.a)(Object(f.a)({},r),{},{query:Object(f.a)(Object(f.a)({},a.query),{},{f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify(j(t))})});return S((yield Object(h.default)(a.path+"/simplify",o)).data,i,n)}))).apply(this,arguments)}function j(e){return{geometryType:Object(y.c)(e[0]),geometries:e.map((e=>e.toJSON()))}}function S(e,t,r){var a=Object(y.b)(t);return e.map((e=>{var t=a.fromJSON(e);return t.spatialReference=r,t}))}var x=o.a.getLogger("esri.geometry.support.normalizeUtils");function w(e,t){if(!(e instanceof p.a||e instanceof u.a)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw x.error(r),new s.a(r)}var a=Object(d.b)(e),n=[];for(var i of a){var o=[];n.push(o),o.push([i[0][0],i[0][1]]);for(var l=0;l<i.length-1;l++){var c=i[l][0],f=i[l][1],b=i[l+1][0],y=i[l+1][1],h=Math.sqrt((b-c)*(b-c)+(y-f)*(y-f)),m=(y-f)/h,v=(b-c)/h,g=h/t;if(g>1){for(var O=1;O<=g-1;O++){var j=O*t,S=v*j+c,w=m*j+f;o.push([S,w])}var T=(h+Math.floor(g-1)*t)/2,_=v*T+c,M=m*T+f;o.push([_,M])}o.push([b,y])}}return function(e){return"polygon"===e.type}(e)?new u.a({rings:n,spatialReference:e.spatialReference}):new p.a({paths:n,spatialReference:e.spatialReference})}function T(e,t,r){if(t){var a=w(e,1e6);e=Object(c.e)(a,!0)}return r&&(e=Object(d.e)(e,r)),e}function _(e,t,r){if(Array.isArray(e)){var a=e[0];if(a>t){var n=Object(d.d)(a,t);e[0]=a+n*(-2*t)}else if(a<r){var i=Object(d.d)(a,r);e[0]=a+i*(-2*r)}}else{var o=e.x;if(o>t){var s=Object(d.d)(o,t);e=e.clone().offset(s*(-2*t),0)}else if(o<r){var l=Object(d.d)(o,r);e=e.clone().offset(l*(-2*r),0)}}return e}function M(e,t){for(var r=-1,a=function(a){for(var n=t.cutIndexes[a],i=t.geometries[a],o=Object(d.b)(i),s=function(e){var t=o[e];t.some((r=>{if(r[0]<180)return!0;for(var a=0,n=0;n<t.length;n++){var o=t[n][0];a=o>a?o:a}a=Number(a.toFixed(9));for(var s=-360*Object(d.d)(a,180),l=0;l<t.length;l++){var c=i.getPoint(e,l);i.setPoint(e,l,c.clone().offset(s,0))}return!0}))},l=0;l<o.length;l++)s(l);if(n===r){if(function(e){return"polygon"===e[0].type}(e))for(var c of Object(d.b)(i))e[n]=e[n].addRing(c);else if(function(e){return"polyline"===e[0].type}(e))for(var u of Object(d.b)(i))e[n]=e[n].addPath(u)}else r=n,e[n]=i},n=0;n<t.cutIndexes.length;n++)a(n);return e}function F(e,t,r){return I.apply(this,arguments)}function I(){return(I=Object(a.a)((function*(e,t,r){if(!Array.isArray(e))return F([e],t);var a,o,s,f,b,y,h,v,O=t?t.url:n.a.geometryServiceUrl,j=0,S=[],x=[];for(var w of e)if(Object(i.j)(w))x.push(w);else if(a||(a=w.spatialReference,o=Object(l.d)(a),y=(s=a.isWebMercator)?102100:4326,f=d.a[y].maxX,b=d.a[y].minX,h=d.a[y].plus180Line,v=d.a[y].minus180Line),o)if("mesh"===w.type)x.push(w);else if("point"===w.type)x.push(_(w.clone(),f,b));else if("multipoint"===w.type){var I=w.clone();I.points=I.points.map((e=>_(e,f,b))),x.push(I)}else if("extent"===w.type){var N=w.clone()._normalize(!1,!1,o);x.push(N.rings?new u.a(N):N)}else if(w.extent){var P=w.extent,L=Object(d.d)(P.xmin,b)*(2*f),k=0===L?w.clone():Object(d.e)(w.clone(),L);P.offset(L,0),P.intersects(h)&&P.xmax!==f?(j=P.xmax>j?P.xmax:j,k=T(k,s),S.push(k),x.push("cut")):P.intersects(v)&&P.xmin!==b?(j=P.xmax*(2*f)>j?P.xmax*(2*f):j,k=T(k,s,360),S.push(k),x.push("cut")):x.push(k)}else x.push(w.clone());else x.push(w);for(var D=Object(d.d)(j,f),R=-90,E=D,V=new p.a;D>0;){var A=360*D-180;V.addPath([[A,R],[A,-1*R]]),R*=-1,D--}if(S.length>0&&E>0){for(var C=M(S,yield m(O,S,V,r)),U=[],J=[],G=0;G<x.length;G++){var z=x[G];if("cut"!==z)J.push(z);else{var q=C.shift(),B=e[G];Object(i.k)(B)&&"polygon"===B.type&&B.rings&&B.rings.length>1&&q.rings.length>=B.rings.length?(U.push(q),J.push("simplify")):J.push(s?Object(c.b)(q):q)}}if(!U.length)return J;for(var H=yield g(O,U,r),W=[],Y=0;Y<J.length;Y++){var X=J[Y];"simplify"!==X?W.push(X):W.push(s?Object(c.b)(H.shift()):H.shift())}return W}for(var Z=[],K=0;K<x.length;K++){var $=x[K];if("cut"!==$)Z.push($);else{var Q=S.shift();Z.push(!0===s?Object(c.b)(Q):Q)}}return Promise.resolve(Z)}))).apply(this,arguments)}function N(e,t){var r=Object(l.d)(t);if(r){var[a,n]=r.valid,i=n-a;if(e<a)for(;e<a;)e+=i;if(e>n)for(;e>n;)e-=i}return e}},237:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=new(r(95).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},243:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l}));var a=r(99),n=r(141),i=r(100),o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:a.a.WebMercator}),minus180Line:new n.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:a.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n.a({paths:[[[180,-180],[180,180]]],spatialReference:a.a.WGS84}),minus180Line:new n.a({paths:[[[-180,-180],[-180,180]]],spatialReference:a.a.WGS84})}};function s(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){var r=c(e);for(var a of r)for(var n of a)n[0]+=t;return e}function c(e){return Object(i.g)(e)?e.rings:e.paths}function u(e){var t=(null==e?void 0:e.isWebMercator)?102100:4326;return[o[t].minX,o[t].maxX]}},246:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(95),l=r(84),c=r(96),u=(r(83),r(86),r(87),r(90)),p=new s.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),d=a=class extends u.a{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(i.a)(e))}clone(){return new a({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(i.a)(this.statisticParameters)})}};Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],d.prototype,"maxPointCount",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],d.prototype,"maxRecordCount",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],d.prototype,"maxVertexCount",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],d.prototype,"outStatisticFieldName",void 0),Object(n.a)([Object(o.b)({type:String,json:{read:{source:"statisticType",reader:p.read},write:{target:"statisticType",writer:p.write}}})],d.prototype,"statisticType",void 0),Object(n.a)([Object(o.b)({type:Object})],d.prototype,"statisticParameters",void 0),Object(n.a)([Object(c.a)("statisticParameters")],d.prototype,"writeStatisticParameters",null);var f=d=a=Object(n.a)([Object(l.a)("esri.tasks.support.StatisticDefinition")],d);t.a=f},250:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(95),l=r(84),c=(r(83),r(86),r(87),r(90)),u=r(103),p=(r(101),new s.a({upperLeft:"upper-left",lowerLeft:"lower-left"})),d=a=class extends c.a{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new a(Object(i.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};Object(n.a)([Object(o.b)({type:u.a,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"extent",void 0),Object(n.a)([Object(o.b)({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0),Object(n.a)([Object(o.b)({type:String,json:{read:p.read,write:p.write}})],d.prototype,"originPosition",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0);var f=d=a=Object(n.a)([Object(l.a)("esri.tasks.support.QuantizationParameters")],d);t.a=f},262:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a,n=r(82),i=(r(80),r(81),r(88)),o=r(85),s=r(102),l=r(84),c=(r(83),r(86),r(87),r(90)),u=a=class extends c.a{constructor(e){super(e),this.type="map-layer"}clone(){var{mapLayerId:e,gdbVersion:t}=this;return new a({mapLayerId:e,gdbVersion:t})}};Object(n.a)([Object(s.a)({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(n.a)([Object(o.b)({type:i.a,json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=a=Object(n.a)([Object(l.a)("esri.layers.support.source.MapLayerSource")],u)},277:function(e,t,r){"use strict";r.r(t),r.d(t,"getAllSizes",(function(){return w})),r.d(t,"getColor",(function(){return b})),r.d(t,"getOpacity",(function(){return y})),r.d(t,"getRotationAngle",(function(){return h})),r.d(t,"getSize",(function(){return m})),r.d(t,"getSizeForValue",(function(){return O})),r.d(t,"getSizeFromNumberOrVariable",(function(){return v})),r.d(t,"getSizeRangeAtScale",(function(){return j})),r.d(t,"getVisualVariableValues",(function(){return S})),r.d(t,"viewScaleRE",(function(){return f}));var a=r(180),n=r(89),i=r(81),o=r(109),s=r(123),l=r(193),c=r(233),u=i.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),p=new s.a,d=Math.PI,f=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function b(e,t,r){var a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(a)if("esri.renderers.visualVariables.ColorVariable"===a.declaredClass){var i="number"==typeof t,s=i?null:t,l=s&&s.attributes,c=i?t:null,p=a.field,{ipData:d,hasExpression:f}=a.cache,b=a.cache.compiledFunc;if(!p&&!f){var y=a.stops;return y&&y[0]&&y[0].color}if("number"!=typeof c)if(f){if(!Object(n.k)(r)||!Object(n.k)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,v=m.getViewInfo(h),g=m.createExecContext(s,v);if(!b){var O=m.createSyntaxTree(a.valueExpression);b=m.createFunction(O),a.cache.compiledFunc=b}c=m.executeFunction(b,g)}else l&&(c=l[p]);var j=a.normalizationField,S=l?parseFloat(l[j]):void 0;if(null!=c&&(!j||i||!isNaN(S)&&0!==S)){isNaN(S)||i||(c/=S);var w=x(c,d);if(w){var T=w[0],_=w[1],M=T===_?a.stops[T].color:o.a.blendColors(a.stops[T].color,a.stops[_].color,w[2],Object(n.k)(r)?r.color:void 0);return new o.a(M)}}}else u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function y(e,t,r){var a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(a)if("esri.renderers.visualVariables.OpacityVariable"===a.declaredClass){var i="number"==typeof t,o=i?null:t,s=o&&o.attributes,l=i?t:null,c=a.field,{ipData:p,hasExpression:d}=a.cache,f=a.cache.compiledFunc;if(!c&&!d){var b=a.stops;return b&&b[0]&&b[0].opacity}if("number"!=typeof l)if(d){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,m=h.getViewInfo(y),v=h.createExecContext(o,m);if(!f){var g=h.createSyntaxTree(a.valueExpression);f=h.createFunction(g),a.cache.compiledFunc=f}l=h.executeFunction(f,v)}else s&&(l=s[c]);var O=a.normalizationField,j=s?parseFloat(s[O]):void 0;if(null!=l&&(!O||i||!isNaN(j)&&0!==j)){isNaN(j)||i||(l/=j);var S=x(l,p);if(S){var w=S[0],T=S[1];if(w===T)return a.stops[w].opacity;var _=a.stops[w].opacity;return _+(a.stops[T].opacity-_)*S[2]}}}else u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function h(e,t,r){var a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(a){if("esri.renderers.visualVariables.RotationVariable"===a.declaredClass){var i=a.axis||"heading",o="heading"===i&&"arithmetic"===a.rotationType?90:0,s="heading"===i&&"arithmetic"===a.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,p=a.field,{hasExpression:d}=a.cache,f=a.cache.compiledFunc,b=0;if(!p&&!d)return b;if(d){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,m=h.getViewInfo(y),v=h.createExecContext(l,m);if(!f){var g=h.createSyntaxTree(a.valueExpression);f=h.createFunction(g),a.cache.compiledFunc=f}b=h.executeFunction(f,v)}else c&&(b=c[p]||0);return b="number"!=typeof b||isNaN(b)?null:o+s*b}u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function m(e,t,r){var a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(a){if("esri.renderers.visualVariables.SizeVariable"===a.declaredClass){var i=O(function(e,t,r){var a="number"==typeof t,i=a?null:t,o=i&&i.attributes,s=a?t:null,{isScaleDriven:l}=e.cache,p=e.cache.compiledFunc;if(l){var d=Object(n.k)(r)?r.scale:void 0,f=Object(n.k)(r)?r.view:void 0;s=null==d||"3d"===f?function(e){var t=null,r=null,a=e.stops;return a?(t=a[0].value,r=a[a.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):d}else if(!a)switch(e.inputValueType){case"expression":if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,h=y.getViewInfo(b),m=y.createExecContext(i,h);if(!p){var v=y.createSyntaxTree(e.valueExpression);p=y.createFunction(v),e.cache.compiledFunc=p}s=y.executeFunction(p,m);break;case"field":o&&(s=o[e.field]);break;case"unknown":s=null}if(!Object(c.d)(s))return null;if(a||!e.normalizationField)return s;var g=o?parseFloat(o[e.normalizationField]):null;return Object(c.d)(g)&&0!==g?s/g:null}(a,t,r),a,t,r,a.cache.ipData);return null==i||isNaN(i)?0:i}u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function v(e,t,r){return null==e?null:Object(c.c)(e)?m(e,t,r):Object(c.d)(e)?e:null}function g(e,t,r){return Object(c.d)(r)&&e>r?r:Object(c.d)(t)&&e<t?t:e}function O(e,t,r,a,i){switch(t.transformationType){case"additive":return function(e,t,r,a){return e+(v(t.minSize,r,a)||t.minDataValue)}(e,t,r,a);case"constant":return function(e,t,r){var a=e.stops,n=a&&a.length&&a[0].size;return null==n&&(n=e.minSize),v(n,t,r)}(t,r,a);case"clamped-linear":return function(e,t,r,a){var i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=v(t.minSize,r,a),s=v(t.maxSize,r,a),l=Object(n.k)(a)?a.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if("area"===t.scaleBy&&l){var c="circle"===l,u=c?d*Math.pow(o/2,2):o*o,p=u+i*((c?d*Math.pow(s/2,2):s*s)-u);return c?2*Math.sqrt(p/d):Math.sqrt(p)}return o+i*(s-o)}(e,t,r,a);case"proportional":return function(e,t,r,a){var i=Object(n.k)(a)?a.shape:void 0,o=e/t.minDataValue,s=v(t.minSize,r,a),l=v(t.maxSize,r,a);return g("circle"===i?2*Math.sqrt(o*Math.pow(s/2,2)):"square"===i||"diamond"===i||"image"===i?Math.sqrt(o*Math.pow(s,2)):o*s,s,l)}(e,t,r,a);case"stops":return function(e,t,r,a,n){var[i,o,s]=x(e,n);if(i===o)return v(t.stops[i].size,r,a);var l=v(t.stops[i].size,r,a);return l+(v(t.stops[o].size,r,a)-l)*s}(e,t,r,a,i);case"real-world-size":return function(e,t,r,a){var i=(Object(n.k)(a)&&a.resolution?a.resolution:1)*l.a[t.valueUnit],o=v(t.minSize,r,a),s=v(t.maxSize,r,a),{valueRepresentation:c}=t;return g("area"===c?2*Math.sqrt(e/d)/i:"radius"===c||"distance"===c?2*e/i:e/i,o,s)}(e,t,r,a);case"identity":return e;case"unknown":return null}}function j(e,t,r){var{isScaleDriven:a}=e.cache;if(!(a&&"3d"===r||t))return null;var n={scale:t,view:r},i=v(e.minSize,p,n),o=v(e.maxSize,p,n);if(null!=i||null!=o){if(i>o){var s=o;o=i,i=s}return{minSize:i,maxSize:o}}}function S(e,t,r){if(e.visualVariables){var a=[],n=[],i=[],o=[],s=[];for(var l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":i.push(l);break;case"rotation":s.push(l);break;case"size":o.push(l)}return n.forEach((e=>{var n=b(e,t,r);a.push({variable:e,value:n})})),i.forEach((e=>{var n=y(e,t,r);a.push({variable:e,value:n})})),s.forEach((e=>{var n=h(e,t,r);a.push({variable:e,value:n})})),o.forEach((e=>{var n=m(e,t,r);a.push({variable:e,value:n})})),a.filter((e=>null!=e.value))}}function x(e,t){if(t){var r=0,a=t.length-1;return t.some(((t,n)=>e<t?(a=n,!0):(r=n,!1))),[r,a,(e-t[r])/(t[a]-t[r])]}}function w(e,t,r){var n=["proportional","proportional","proportional"];for(var i of e){var o=i.useSymbolValue?"symbol-value":m(i,t,r);switch(i.axis){case"width":n[0]=o;break;case"depth":n[1]=o;break;case"height":n[2]=o;break;case"width-and-depth":n[0]=o,n[1]=o;break;case"all":case void 0:case null:n[0]=o,n[1]=o,n[2]=o;break;default:Object(a.a)(i.axis)}}return n}},295:function(e,t,r){"use strict";function a(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)}function n(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));for(var a=Math.max(0,r-t),n=new(0,e.constructor)(a),i=0;i<a;i++)n[i]=e[t+i];return n}function i(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function o(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function s(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function l(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function c(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function u(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function p(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function d(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function f(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function b(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function y(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function h(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return n})),r.d(t,"n",(function(){return y}))},324:function(e,t,r){"use strict";var a=r(91),n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(84),s=r(83),l=(r(86),r(87),r(97)),c=class extends l.a{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return"string"!=typeof e?e:Object(a.a)({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Object(s.J)(e):null}_encode(e,t,r){var a={};for(var n in e)if("declaredClass"!==n){var i=e[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){a[n]=[];for(var o=0;o<i.length;o++)a[n][o]=this._encode(i[o])}else if("object"==typeof i)if(i.toJSON){var s=i.toJSON(r&&r[n]);a[n]=t?s:JSON.stringify(s)}else a[n]=t?i:JSON.stringify(i);else a[n]=i}return a}};Object(n.a)([Object(i.b)({readOnly:!0})],c.prototype,"parsedUrl",null),Object(n.a)([Object(i.b)()],c.prototype,"requestOptions",void 0),Object(n.a)([Object(i.b)({type:String})],c.prototype,"url",void 0);var u=c=Object(n.a)([Object(o.a)("esri.tasks.Task")],c);t.a=u},359:function(e,t,r){"use strict";var a,n=r(82),i=(r(80),r(89)),o=(r(81),r(88),r(85)),s=r(95),l=r(98),c=r(84),u=r(96),p=(r(83),r(86),r(87),r(90)),d=r(7),f=r(118),b=a=class extends p.a{collectRequiredFields(e,t){var r=this;return Object(d.a)((function*(){return Object(f.c)(e,t,r.expression)}))()}clone(){return new a({expression:this.expression,title:this.title})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"expression",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"title",void 0);var y,h=b=a=Object(n.a)([Object(c.a)("esri.layers.support.FeatureExpressionInfo")],b),m=r(376),v=Object(s.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),g=new s.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),O=y=class extends p.a{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,a){t[r]=e.write(null,a),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){var{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):Object(i.k)(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new y({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};Object(n.a)([Object(o.b)({type:h,json:{write:!0}})],O.prototype,"featureExpressionInfo",void 0),Object(n.a)([Object(l.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],O.prototype,"readFeatureExpressionInfo",null),Object(n.a)([Object(u.a)("featureExpressionInfo",{featureExpressionInfo:{type:h},"featureExpression.value":{type:[0]}})],O.prototype,"writeFeatureExpressionInfo",null),Object(n.a)([Object(o.b)({type:v.apiValues,nonNullable:!0,json:{type:v.jsonValues,read:v.read,write:{writer:v.write,isRequired:!0}}})],O.prototype,"mode",null),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],O.prototype,"offset",void 0),Object(n.a)([Object(o.b)({type:m.b,json:{type:String,read:g.read,write:g.write}})],O.prototype,"unit",null);var j=O=y=Object(n.a)([Object(c.a)("esri.layers.support.ElevationInfo")],O);t.a=j},376:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));var a=r(193);function n(e){return null!=a.a[e]}function i(e){return 1/(a.a[e]||1)}var o=function(){var e=Object.keys(a.a);return e.sort(),e}()},409:function(e,t,r){"use strict";var a=r(124);class n{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof n&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";var n=Object(a.b)(r,t),i=null==n?"":n;if(void 0===i)throw new Error('could not find key "'.concat(r,'" in template'));return i.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=n},455:function(e,t,r){"use strict";var a=r(158);var n,i=(n=a.a,{setTimeout:(e,t)=>{var r=n.setTimeout(e,t);return{remove:()=>n.clearTimeout(r)}}});t.a=i},514:function(e,t,r){"use strict";var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(84),o=(r(83),r(86),r(87),r(218)),s=r(359),l=r(215),c=r(204),u=r(547),p=class extends(Object(l.a)(Object(c.a)(o.a))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new u.b,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};Object(a.a)([Object(n.b)({type:s.a})],p.prototype,"elevationInfo",void 0),Object(a.a)([Object(n.b)(Object(u.c)())],p.prototype,"graphics",void 0),Object(a.a)([Object(n.b)({type:["show","hide"]})],p.prototype,"listMode",void 0),Object(a.a)([Object(n.b)()],p.prototype,"screenSizePerspectiveEnabled",void 0),Object(a.a)([Object(n.b)({readOnly:!0})],p.prototype,"type",void 0),Object(a.a)([Object(n.b)({constructOnly:!0})],p.prototype,"internal",void 0);var d=p=Object(a.a)([Object(i.a)("esri.layers.GraphicsLayer")],p);t.a=d},547:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return d}));var a=r(82),n=(r(80),r(81)),i=(r(88),r(85)),o=r(84),s=(r(83),r(86),r(87),r(107)),l=r(293),c=r(123),u=s.a.ofType(c.a);n.a.getLogger("esri.support.GraphicsCollection");var p=class extends u{constructor(e){super(e),this.on("before-add",(e=>{e.item||e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(({item:e})=>{e.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}_createNewInstance(e){return new u(e)}_ownAll(){this.items.forEach((e=>this._own(e)))}_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_unownAll(){this.items.forEach((e=>this._unown(e)))}_unown(e){e.layer===this.owner&&(e.layer=null)}};Object(a.a)([Object(i.b)()],p.prototype,"owner",null),p=Object(a.a)([Object(o.a)("esri.support.GraphicsCollection")],p);var d=(e="graphics")=>({type:p,cast:l.a,set(t){var r=Object(l.b)(t,this._get(e),p);r.owner=this,this._set(e,r)}}),f=p;t.b=f},721:function(e,t,r){"use strict";var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(95),o=r(84),s=(r(83),r(86),r(87),r(90)),l=new i.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),c=class extends s.a{constructor(e){super(e),this.description=null,this.type=null}};Object(a.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(a.a)([Object(n.b)({type:String,json:{read:l.read,write:l.write}})],c.prototype,"type",void 0);var u=c=Object(a.a)([Object(o.a)("esri.tasks.support.GPMessage")],c);t.a=u},80:function(e,t,r){"use strict";var a,n,i,o,s,l=r(91),c=r(158);function u(e){return"function"==typeof i[e]?i[e]=i[e](c.a):i[e]}i=null!=(a=c.a.dojoConfig)&&a.has||null!=(n=c.a.esriConfig)&&n.has?Object(l.a)(Object(l.a)({},null==(o=c.a.dojoConfig)?void 0:o.has),null==(s=c.a.esriConfig)?void 0:s.has):{},u.add=(e,t,r,a)=>((a||void 0===i[e])&&(i[e]=t),r&&u(e)),u.cache=i,u.add("esri-deprecation-warnings",!0),(()=>{u.add("host-webworker",void 0!==c.a.WorkerGlobalScope&&self instanceof c.a.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(u.add("host-browser",e),u.add("host-node","object"==typeof c.a.process&&c.a.process.versions&&c.a.process.versions.node&&c.a.process.versions.v8),u.add("dom",e),u("host-browser")){var t=navigator,r=t.userAgent,a=t.appVersion,n=parseFloat(a);if(u.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),u.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),u.add("khtml",a.indexOf("Konqueror")>=0?n:void 0),u.add("edge",parseFloat(r.split("Edge/")[1])||void 0),u.add("opr",parseFloat(r.split("OPR/")[1])||void 0),u.add("webkit",!u("wp")&&!u("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),u.add("chrome",!u("edge")&&!u("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),u.add("android",!u("wp")&&parseFloat(r.split("Android ")[1])||void 0),u.add("safari",!(a.indexOf("Safari")>=0)||u("wp")||u("chrome")||u("android")||u("edge")||u("opr")?void 0:parseFloat(a.split("Version/")[1])),u.add("mac",a.indexOf("Macintosh")>=0),u.add("quirks","BackCompat"===document.compatMode),!u("wp")&&r.match(/(iPhone|iPod|iPad)/)){var i=RegExp.$1.replace(/P/,"p"),o=r.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(o.replace(/_/,".").replace(/_/g,""));u.add(i,s),u.add("ios",s)}u.add("trident",parseFloat(a.split("Trident/")[1])||void 0),u.add("svg","undefined"!=typeof SVGAngle),u("webkit")||(r.indexOf("Opera")>=0&&u.add("opera",n>=9.8&&parseFloat(r.split("Version/")[1])||n),!(r.indexOf("Gecko")>=0)||u("wp")||u("khtml")||u("trident")||u("edge")||u.add("mozilla",n),u("mozilla")&&u.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(c.a.navigator){var e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&u.add("esri-mobile",t),r&&u.add("esri-iPhone",r),u.add("esri-geolocation",!!navigator.geolocation)}u.add("esri-canvas-svg-support",!u("trident")),u.add("esri-wasm","WebAssembly"in c.a),u.add("esri-shared-array-buffer",(()=>{var e="SharedArrayBuffer"in c.a,t=!1===c.a.crossOriginIsolated;return e&&!t})),u.add("esri-atomics","Atomics"in c.a),u.add("esri-workers","Worker"in c.a),u.add("esri-text-decoder","TextDecoder"in c.a),u.add("esri-text-encoder","TextEncoder"in c.a),u.add("featurelayer-snapshot-enabled",!0),u.add("featurelayer-snapshot-point-min-threshold",8e4),u.add("featurelayer-snapshot-point-max-threshold",4e5),u.add("featurelayer-snapshot-point-coverage",.1),u.add("featurelayer-advanced-symbols",!1),u.add("featurelayer-pbf",!0),u.add("featurelayer-pbf-statistics",!1),u.add("feature-layers-workers",!0),u.add("mapview-transitions-duration",200),u.add("mapserver-pbf-enabled",!1),u("host-webworker")||u("host-browser")&&(u.add("csp-restrictions",(()=>{try{new Function}catch(e){return!0}return!1})),u.add("esri-image-decode",(()=>{if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{u.add("esri-image-decode",!0,!0,!0)})).catch((()=>{u.add("esri-image-decode",!1,!0,!0)}))}return!1})),u.add("esri-url-encodes-apostrophe",(()=>{var e=c.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),u.add("vectortilelayer-max-buffers",(()=>u("ff")?160:Number.POSITIVE_INFINITY)))})(),t.a=u},81:function(e,t,r){"use strict";r(80);var a=r(159),n=r(89),i=r(143),o={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers[this.module]=this;var t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){var e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){var t=s._loggers;return s._loggers=e,t},set throttlingDisabled(e){s._throttlingDisabled=e}}}static getLogger(e){var t=s._loggers[e];return t||(t=new s({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!s._throttlingDisabled){var n=this._argsToKey(r),i=this._loggedMessages[e].get(n);if("once"===t&&null!=i||"oncePerTick"===t&&i&&i>=s._tickCounter)return;this._loggedMessages[e].set(n,s._tickCounter),s._scheduleTickCounterIncrement()}for(var o of a.a.log.interceptors)if(o(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){for(var r=this;Object(n.k)(r);){var a=r[e];if(Object(n.k)(a))return a;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e]("[".concat(t,"]"),...r)}_matchLevel(e){var t=a.a.log.level?a.a.log.level:"warn";return o[this._parentWithMember("level",t)]<=o[e]}_argsToKey(...e){return Object(i.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}s._loggers={},s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1,t.a=s},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return n})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return i})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return b})),r.d(t,"p",(function(){return d})),r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return c})),r.d(t,"s",(function(){return l}));function a(e){return null!=e}function n(e){return null==e}function i(e){return void 0===e}function o(e,t){return a(e)?t(e):null}function s(e){return e}function l(e,t){if(n(e))throw new Error(t);return e}function c(e,t){return a(e)?e:"function"==typeof t?t():t}function u(e){return a(e)&&e.destroy(),null}function p(e){return a(e)&&e.dispose(),null}function d(e){return a(e)&&e.remove(),null}function f(e){return a(e)&&e.abort(),null}function b(e){return null}function y(e,t){var r=new Array;for(var a of e)r.push(m(a,null,t));return r}function h(e,t){for(var r of e)m(r,null,t)}function m(e,t,r){return a(e)?r(e):t}function v(e,t){return a(e)?t(e):null}function g(e){return e.filter((e=>a(e)))}function O(e,...t){for(var r=e,a=0;a<t.length&&r;)r=r[t[a++]];return r}function j(e){return e}},900:function(e,t,r){"use strict";var a=r(82),n=(r(80),r(81),r(88),r(85)),i=r(84),o=(r(83),r(86),r(87),r(97)),s=class extends o.a{constructor(e){super(e),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format="png32",this.label=null,this.layout="map-only",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}};Object(a.a)([Object(n.b)()],s.prototype,"attributionVisible",void 0),Object(a.a)([Object(n.b)()],s.prototype,"exportOptions",void 0),Object(a.a)([Object(n.b)()],s.prototype,"forceFeatureAttributes",void 0),Object(a.a)([Object(n.b)()],s.prototype,"format",void 0),Object(a.a)([Object(n.b)()],s.prototype,"label",void 0),Object(a.a)([Object(n.b)()],s.prototype,"layout",void 0),Object(a.a)([Object(n.b)()],s.prototype,"layoutOptions",void 0),Object(a.a)([Object(n.b)()],s.prototype,"outScale",void 0),Object(a.a)([Object(n.b)()],s.prototype,"scalePreserved",void 0),Object(a.a)([Object(n.b)()],s.prototype,"showLabels",void 0);var l=s=Object(a.a)([Object(i.a)("esri.tasks.support.PrintTemplate")],s);t.a=l},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));r(80);var a=r(295);function n(e,t){var r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&n(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function i(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(a.h)(e)||Object(a.k)(e)||Object(a.l)(e)||Object(a.f)(e)||Object(a.i)(e)||Object(a.g)(e)||Object(a.j)(e)||Object(a.d)(e)||Object(a.e)(e))return Object(a.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach(((e,r)=>{t.set(r,i(e))})),t}if(e instanceof Set){var r=new Set;return e.forEach((e=>{r.add(i(e))})),r}var n,o=e;if("function"==typeof o.clone)n=o.clone();else if("function"==typeof o.map&&"function"==typeof o.forEach)n=o.map(i);else if("function"==typeof o.notifyChange&&"function"==typeof o.watch)n=o.clone();else for(var s of(n={},Object.getOwnPropertyNames(e)))n[s]=i(e[s]);return n}function o(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},93:function(e,t,r){"use strict";var a=r(92),n=r(81),i=r(409);class o extends i.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof o))return new o(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(a.a)(t)}catch(o){return"[object]"}})))}}catch(e){throw n.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new o(e.name,e.message,e.details)}}o.prototype.type="error",t.a=o},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return N})),r.d(t,"h",(function(){return P})),r.d(t,"i",(function(){return I})),r.d(t,"j",(function(){return S})),r.d(t,"k",(function(){return x})),r.d(t,"l",(function(){return O})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return f})),r.d(t,"o",(function(){return M})),r.d(t,"p",(function(){return h})),r.d(t,"q",(function(){return m})),r.d(t,"r",(function(){return w})),r.d(t,"s",(function(){return T})),r.d(t,"t",(function(){return b})),r.d(t,"u",(function(){return p})),r.d(t,"v",(function(){return y})),r.d(t,"w",(function(){return F})),r.d(t,"x",(function(){return v}));var a=r(89),n=(r(81),r(93)),i=r(455),o=r(165);function s(e){return Promise.all(e)}function l(e){return new Promise(((t,r)=>{try{e(t,r)}catch(a){Promise.resolve().then((()=>r(a)))}}))}function c(e="Aborted"){return new n.a("AbortError",e)}function u(){return new AbortController}function p(e){if(f(e))throw c()}function d(e){return Object(a.k)(e)?"aborted"in e?e:e.signal:e}function f(e){var t=d(e);return Object(a.k)(t)&&t.aborted}function b(e){if(g(e))throw e}function y(e){if(!g(e))throw e}function h(e,t){var r=d(e);if(!Object(a.j)(r)){if(!r.aborted)return Object(o.d)(r,"abort",(()=>t()));t()}}function m(e,t){var r=d(e);if(!Object(a.j)(r))return p(r),Object(o.d)(r,"abort",(()=>t(c())))}function v(e,t){var r=d(t);return Object(a.j)(r)?e:new Promise(((r,n)=>{var i=h(t,(()=>n(c()))),o=()=>i=Object(a.p)(i);e.then(o,o),e.then(r,n)}))}function g(e){return e&&"AbortError"===e.name}function O(e){return e.catch((e=>{if(!g(e))throw e}))}function j(){var e=null,t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function S(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return S(t.map((t=>e[t]))).then((e=>{var r={};return t.forEach(((t,a)=>r[t]=e[a])),r}))}var r=e;return l((e=>{var t=[],a=r.length;0===a&&e(t),r.forEach((r=>{var n={promise:r||Promise.resolve(r)};t.push(n),n.promise.then((e=>{n.value=e})).catch((e=>{n.error=e})).then((()=>{0===--a&&e(t)}))}))}))}}function x(e){return S(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function w(e){return Promise.reject(e)}function T(e){return Promise.resolve(e)}function _(e,t,r){var a=u();return h(r,(()=>a.abort())),new Promise(((r,n)=>{var i=setTimeout((()=>{i=0,r(t)}),e);h(a,(()=>{i&&(clearTimeout(i),n(c()))}))}))}function M(e){return e&&"function"==typeof e.then}function F(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function I(e,t=-1){var r,n,i,o,s=null,l=(...p)=>{if(r){n=p,o&&o.reject(c()),o=j();var d=Object(a.d)(o.promise);if(s){var f=s;s=null,f.abort()}return d}if(i=o||j(),o=null,t>0){var b=u(),y=r=F(e(...p,b.signal));_(t).then((()=>{r===y&&(o?b.abort():s=b)}))}else r=1,r=F(e(...p));var h=()=>{var e=n;n=i=r=s=null,null!=e&&l(...e)},m=r,v=i;return m.then(h,h),m.then(v.resolve,v.reject),Object(a.d)(v.promise)};return l}function N(){var e,t,r=new Promise(((r,a)=>{e=r,t=a})),a=t=>{e(t)};return a.resolve=t=>e(t),a.reject=e=>t(e),a.timeout=(e,t)=>i.a.setTimeout((()=>a.reject(t)),e),a.promise=r,a}function P(e){var t=u(),r=e(t.signal),a={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}},n=()=>{a&&(a.finished=!0,a=null),t=null};return r.then(n,n),a}}}]);
//# sourceMappingURL=89.f3e8e145.chunk.js.map