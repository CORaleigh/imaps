(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[4],{1040:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(15);var n=new(r(45).a)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function i(e){return n.toJSON(e)}},1084:function(e,t,r){"use strict";var n=r(2),i=r(3),a=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\xab","\xbb"],["\xbb","\xab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],s=["\u0622","\u0623","\u0625","\u0627"],o=["\ufef5","\ufef7","\ufef9","\ufefb"],u=["\ufef6","\ufef8","\ufefa","\ufefc"],c=["\u0627","\u0628","\u062a","\u062b","\u062c","\u062d","\u062e","\u062f","\u0630","\u0631","\u0632","\u0633","\u0634","\u0635","\u0636","\u0637","\u0638","\u0639","\u063a","\u0641","\u0642","\u0643","\u0644","\u0645","\u0646","\u0647","\u0648","\u064a","\u0625","\u0623","\u0622","\u0629","\u0649","\u0644","\u0645","\u0646","\u0647","\u0648","\u064a","\u0625","\u0623","\u0622","\u0629","\u0649","\u06cc","\u0626","\u0624"],l=["\ufe8d","\ufe8f","\ufe95","\ufe99","\ufe9d","\ufea1","\ufea5","\ufea9","\ufeab","\ufead","\ufeaf","\ufeb1","\ufeb5","\ufeb9","\ufebd","\ufec1","\ufec5","\ufec9","\ufecd","\ufed1","\ufed5","\ufed9","\ufedd","\ufee1","\ufee5","\ufee9","\ufeed","\ufef1","\ufe87","\ufe83","\ufe81","\ufe93","\ufeef","\ufbfc","\ufe89","\ufe85","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe89","\ufe85"],f=["\ufe8e","\ufe90","\ufe96","\ufe9a","\ufe9e","\ufea2","\ufea6","\ufeaa","\ufeac","\ufeae","\ufeb0","\ufeb2","\ufeb6","\ufeba","\ufebe","\ufec2","\ufec6","\ufeca","\ufece","\ufed2","\ufed6","\ufeda","\ufede","\ufee2","\ufee6","\ufeea","\ufeee","\ufef2","\ufe88","\ufe84","\ufe82","\ufe94","\ufef0","\ufbfd","\ufe8a","\ufe86","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe8a","\ufe86"],h=["\ufe8e","\ufe92","\ufe98","\ufe9c","\ufea0","\ufea4","\ufea8","\ufeaa","\ufeac","\ufeae","\ufeb0","\ufeb4","\ufeb8","\ufebc","\ufec0","\ufec4","\ufec8","\ufecc","\ufed0","\ufed4","\ufed8","\ufedc","\ufee0","\ufee4","\ufee8","\ufeec","\ufeee","\ufef4","\ufe88","\ufe84","\ufe82","\ufe94","\ufef0","\ufbff","\ufe8c","\ufe86","\ufe71","\ufe72","\ufe74","\ufe77","\ufe79","\ufe7b","\ufe7d","\ufe7f","\ufe80","\ufe8c","\ufe86"],d=["\ufe8d","\ufe91","\ufe97","\ufe9b","\ufe9f","\ufea3","\ufea7","\ufea9","\ufeab","\ufead","\ufeaf","\ufeb3","\ufeb7","\ufebb","\ufebf","\ufec3","\ufec7","\ufecb","\ufecf","\ufed3","\ufed7","\ufedb","\ufedf","\ufee3","\ufee7","\ufeeb","\ufeed","\ufef3","\ufe87","\ufe83","\ufe81","\ufe93","\ufeef","\ufbfe","\ufe8b","\ufe85","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe8b","\ufe85"],b=["\u0621","\u0622","\u0623","\u0624","\u0625","\u0627","\u0629","\u062f","\u0630","\u0631","\u0632","\u0648","\u0649"],p=["\u064b","\u064b","\u064c","\u061f","\u064d","\u061f","\u064e","\u064e","\u064f","\u064f","\u0650","\u0650","\u0651","\u0651","\u0652","\u0652","\u0621","\u0622","\u0622","\u0623","\u0623","\u0624","\u0624","\u0625","\u0625","\u0626","\u0626","\u0626","\u0626","\u0627","\u0627","\u0628","\u0628","\u0628","\u0628","\u0629","\u0629","\u062a","\u062a","\u062a","\u062a","\u062b","\u062b","\u062b","\u062b","\u062c","\u062c","\u062c","\u062c","\u062d","\u062d","\u062d","\u062d","\u062e","\u062e","\u062e","\u062e","\u062f","\u062f","\u0630","\u0630","\u0631","\u0631","\u0632","\u0632","\u0633","\u0633","\u0633","\u0633","\u0634","\u0634","\u0634","\u0634","\u0635","\u0635","\u0635","\u0635","\u0636","\u0636","\u0636","\u0636","\u0637","\u0637","\u0637","\u0637","\u0638","\u0638","\u0638","\u0638","\u0639","\u0639","\u0639","\u0639","\u063a","\u063a","\u063a","\u063a","\u0641","\u0641","\u0641","\u0641","\u0642","\u0642","\u0642","\u0642","\u0643","\u0643","\u0643","\u0643","\u0644","\u0644","\u0644","\u0644","\u0645","\u0645","\u0645","\u0645","\u0646","\u0646","\u0646","\u0646","\u0647","\u0647","\u0647","\u0647","\u0648","\u0648","\u0649","\u0649","\u064a","\u064a","\u064a","\u064a","\ufef5","\ufef6","\ufef7","\ufef8","\ufef9","\ufefa","\ufefb","\ufefc","\u061f","\u061f","\u061f"],v=["\u0621","\u0641"],m=["\u063a","\u064a"],g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O=10,j=11,x=12,w=18,T=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],S=100,_=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107],L=[[w,w,w,w,w,w,w,w,w,6,5,6,8,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,5,5,5,6,8,4,4,j,j,j,4,4,4,4,4,O,9,O,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,w,w,w,w,w,w,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,9,4,j,j,j,j,4,4,4,4,0,4,4,w,4,4,j,j,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,1,x,1,x,x,1,x,x,1,x,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,j,j,7,9,7,4,4,x,x,x,x,x,x,x,x,x,x,x,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,3,3,3,3,3,3,3,3,3,3,j,3,3,7,7,7,x,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,x,x,x,x,x,x,x,3,4,x,x,x,x,x,x,7,7,x,x,4,x,x,x,x,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,x,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,x,x,x,x,x,x,x,x,x,x,x,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,x,x,x,x,x,x,x,x,x,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,w,w,w,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,j,j,j,j,j,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,w,w,w,w,w,4,4,4,4,4,w,w,w,w,w,w,2,0,4,4,2,2,2,2,2,2,O,O,4,4,4,0,2,2,2,2,2,2,2,2,2,2,O,O,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,x,1,1,1,1,1,1,1,1,1,1,O,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,x,x,x,x,x,x,x,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,j,4,4,O,O,4,4,4,4,4,j,j,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,w],[4,4,4,j,j,j,4,4,4,4,4,O,9,O,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,j,j,4,4,4,j,j,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]],M=function(){function e(){Object(n.a)(this,e),this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}return Object(i.a)(e,[{key:"bidiTransform",value:function(e,t,r){if(this.sourceToTarget=[],this.targetToSource=[],!e)return"";if(function(e,t,r){X=[],$=[];for(var n=0;n<r;n++)e[n]=n,t[n]=n,X[n]=n}(this.sourceToTarget,this.targetToSource,e.length),!this.checkParameters(t,r))return e;t=this.inputFormat,r=this.outputFormat;var n,i=Q,a=q(t.charAt(1)),c=q(r.charAt(1)),h=("I"===t.charAt(0)?"L":t.charAt(0))+a,b=("I"===r.charAt(0)?"L":r.charAt(0))+c,v=t.charAt(2)+r.charAt(2);i.defInFormat=h,i.defOutFormat=b,i.defSwap=v;var m=F(e,h,b,v,i),g=!1;return"R"===r.charAt(1)?g=!0:"C"!==r.charAt(1)&&"D"!==r.charAt(1)||(g="rtl"===this.checkContextual(m)),this.sourceToTarget=X,this.targetToSource=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[e[r]]=r;return t}(this.sourceToTarget),Z=this.targetToSource,n=t.charAt(3)===r.charAt(3)?m:"S"===r.charAt(3)?function(e,t,r){if(0===t.length)return"";void 0===e&&(e=!0),void 0===r&&(r=!0);var n=(t=String(t)).split(""),i=0,a=1,s=n.length;e||(i=n.length-1,a=-1,s=1);for(var c=function(e,t,r,n,i){for(var a=0,s=[],c=0,h=t;h*r<n;h+=r)if(V(e[h])||J(e[h])){if("\u0644"===e[h]&&I(e,h+r,r,n)){e[h]=K(e[h+r],0===a?o:u),G(e,h+=r,r,n),i&&(s[c]=h,c++),a=0;continue}var b=e[h];1===a?e[h]=C(e,h+r,r,n)?D(e[h]):H(e[h],f):!0===C(e,h+r,r,n)?e[h]=H(e[h],d):e[h]=H(e[h],l),J(b)||(a=1),!0===W(b)&&(a=0)}else a=0;return s}(n,i,a,s,r),h="",b=0;b<n.length;b++)r&&E(c,c.length,b)>-1?(Y(Z,b,!e,-1),X.splice(b,1)):h+=n[b];return h}(g,m,!0):function(e,t,r){if(0===e.length)return"";void 0===r&&(r=!0),void 0===t&&(t=!0);for(var n="",i=(e=String(e)).split(""),a=0;a<e.length;a++){var o=!1;if(i[a]>="\ufe70"&&i[a]<"\ufeff"){var u=e.charCodeAt(a);i[a]>="\ufef5"&&i[a]<="\ufefc"?(t?(a>0&&r&&" "===i[a-1]?n=n.substring(0,n.length-1)+"\u0644":(n+="\u0644",o=!0),n+=s[(u-65269)/2]):(n+=s[(u-65269)/2],n+="\u0644",a+1<e.length&&r&&" "===i[a+1]?a++:o=!0),o&&(Y(Z,a,!0,1),X.splice(a,0,X[a]))):n+=p[u-65136]}else n+=i[a]}return n}(m,g,!0),this.sourceToTarget=X,this.targetToSource=Z,this.levels=$,n}},{key:"_inputFormatSetter",value:function(e){if(!ie.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e}},{key:"_outputFormatSetter",value:function(e){if(!ie.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e}},{key:"checkParameters",value:function(e,t){return e?this._inputFormatSetter(e):e=this.inputFormat,t?this._outputFormatSetter(t):t=this.outputFormat,e!==t}},{key:"checkContextual",value:function(e){var t=A(e);if("ltr"!==t&&"rtl"!==t){try{t=document.dir.toLowerCase()}catch(r){}"ltr"!==t&&"rtl"!==t&&(t="ltr")}return t}},{key:"hasBidiChar",value:function(e){return ae.test(e)}}]),e}();function F(e,t,r,n,i){var a=function(e,t,r){if(void 0===t.inFormat&&(t.inFormat=r.defInFormat),void 0===t.outFormat&&(t.outFormat=r.defOutFormat),void 0===t.swap&&(t.swap=r.defSwap),t.inFormat===t.outFormat)return t;var n,i=t.inFormat.substring(0,1),a=t.outFormat.substring(0,1),s=t.inFormat.substring(1,4),o=t.outFormat.substring(1,4);return"C"===s.charAt(0)&&(n=A(e),s="ltr"===n||"rtl"===n?n.toUpperCase():"L"===t.inFormat.charAt(2)?"LTR":"RTL",t.inFormat=i+s),"C"===o.charAt(0)&&("rtl"===(n=A(e))?o="RTL":"ltr"===n?(n=function(e){var t=e.split("");return t.reverse(),A(t.join(""))}(e),o=n.toUpperCase()):o="L"===t.outFormat.charAt(2)?"LTR":"RTL",t.outFormat=a+o),t}(e,{inFormat:t,outFormat:r,swap:n},i);if(a.inFormat===a.outFormat)return e;t=a.inFormat,r=a.outFormat,n=a.swap;var s=t.substring(0,1),o=t.substring(1,4),u=r.substring(0,1),c=r.substring(1,4);if(i.inFormat=t,i.outFormat=r,i.swap=n,"L"===s&&"VLTR"===r){if("LTR"===o)return i.dir=re,k(e,i);if("RTL"===o)return i.dir=ne,k(e,i)}if("V"===s&&"V"===u)return i.dir="RTL"===o?ne:re,z(e,i);if("L"===s&&"VRTL"===r)return"LTR"===o?(i.dir=re,e=k(e,i)):(i.dir=ne,e=k(e,i)),z(e);if("VLTR"===t&&"LLTR"===r)return i.dir=re,k(e,i);if("V"===s&&"L"===u&&o!==c)return e=z(e),"RTL"===o?F(e,"LLTR","VLTR",n,i):F(e,"LRTL","VRTL",n,i);if("VRTL"===t&&"LRTL"===r)return F(e,"LRTL","VRTL",n,i);if("L"===s&&"L"===u){var l=i.swap;return i.swap=l.substr(0,1)+"N","RTL"===o?(i.dir=ne,e=k(e,i),i.swap="N"+l.substr(1,2),i.dir=re,e=k(e,i)):(i.dir=re,e=k(e,i),i.swap="N"+l.substr(1,2),e=F(e,"VLTR","LRTL",i.swap,i)),e}return e}function A(e){var t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(e);return t?t[0]<="z"?"ltr":"rtl":""}function k(e,t){var r=e.split(""),n=[];return R(r,n,t),function(e,t,r){if(0!==r.hiLevel&&r.swap.substr(0,1)!==r.swap.substr(1,2))for(var n=0;n<e.length;n++)1===t[n]&&(e[n]=P(e[n]))}(r,n,t),N(2,r,n,t),N(1,r,n,t),$=n,r.join("")}function R(e,t,r){var n=e.length,i=r.dir?y:g,a=0,s=-1,o=[],u=[];r.hiLevel=r.dir,r.lastArabic=!1,r.hasUbatAl=!1,r.hasUbatB=!1,r.hasUbatS=!1;for(var c=0;c<n;c++)o[c]=B(e[c]);for(var l=0;l<n;l++){var f=a,h=U(e,o,u,l,r);u[l]=h;var d=240&(a=i[f][h]),b=i[a&=15][ee];if(t[l]=b,d>0)if(16===d){for(var p=s;p<l;p++)t[p]=1;s=-1}else s=-1;if(i[a][te])-1===s&&(s=l);else if(s>-1){for(var v=s;v<l;v++)t[v]=b;s=-1}5===o[l]&&(t[l]=0),r.hiLevel|=b}r.hasUbatS&&function(e,t,r,n){for(var i=0;i<r;i++)if(6===e[i]){t[i]=n.dir;for(var a=i-1;a>=0&&8===e[a];a--)t[a]=n.dir}}(o,t,n,r)}function B(e){var t=e.charCodeAt(0),r=_[t>>8];return r<S?r:L[r-S][255&t]}function z(e,t){var r=e.split("");if(t){var n=[];R(r,n,t),$=n}return r.reverse(),X.reverse(),r.join("")}function E(e,t,r){for(var n=0;n<t;n++)if(e[n]===r)return n;return-1}function V(e){for(var t=0;t<v.length;t++)if(e>=v[t]&&e<=m[t])return!0;return!1}function C(e,t,r,n){for(;t*r<n&&J(e[t]);)t+=r;return!!(t*r<n&&V(e[t]))}function I(e,t,r,n){for(;t*r<n&&J(e[t]);)t+=r;var i;if(!(t*r<n))return!1;i=e[t];for(var a=0;a<s.length;a++)if(s[a]===i)return!0;return!1}function N(e,t,r,n){if(!(n.hiLevel<e)){if(1===e&&n.dir===ne&&!n.hasUbatB)return t.reverse(),void X.reverse();for(var i,a,s,o,u,c=t.length,l=0;l<c;){if(r[l]>=e){for(i=l+1;i<c&&r[i]>=e;)i++;for(a=l,s=i-1;a<s;a++,s--)o=t[a],t[a]=t[s],t[s]=o,u=X[a],X[a]=X[s],X[s]=u;l=i}l++}}}function U(e,t,r,n,i){var a=t[n];return{UBAT_L:function(){return i.lastArabic=!1,0},UBAT_R:function(){return i.lastArabic=!1,1},UBAT_ON:function(){return 4},UBAT_AN:function(){return 3},UBAT_EN:function(){return i.lastArabic?3:2},UBAT_AL:function(){return i.lastArabic=!0,i.hasUbatAl=!0,1},UBAT_WS:function(){return 4},UBAT_CS:function(){var e,a;return n<1||n+1>=t.length||2!==(e=r[n-1])&&3!==e||2!==(a=t[n+1])&&3!==a?4:(i.lastArabic&&(a=3),a===e?a:4)},UBAT_ES:function(){return 2===(n>0?r[n-1]:5)&&n+1<t.length&&2===t[n+1]?2:4},UBAT_ET:function(){if(n>0&&2===r[n-1])return 2;if(i.lastArabic)return 4;for(var e=n+1,a=t.length;e<a&&t[e]===j;)e++;return e<a&&2===t[e]?2:4},UBAT_NSM:function(){if("VLTR"===i.inFormat){for(var a=t.length,s=n+1;s<a&&t[s]===x;)s++;if(s<a){var o=e[n].charCodeAt[0],u=o>=1425&&o<=2303||64286===o,c=t[s];if(u&&(1===c||7===c))return 1}}return n<1||5===t[n-1]?4:r[n-1]},UBAT_B:function(){return i.lastArabic=!0,i.hasUbatB=!0,i.dir},UBAT_S:function(){return i.hasUbatS=!0,4},UBAT_LRE:function(){return i.lastArabic=!1,4},UBAT_RLE:function(){return i.lastArabic=!1,4},UBAT_LRO:function(){return i.lastArabic=!1,4},UBAT_RLO:function(){return i.lastArabic=!1,4},UBAT_PDF:function(){return i.lastArabic=!1,4},UBAT_BN:function(){return 4}}[T[a]]()}function P(e){for(var t,r=0,n=a.length-1;r<=n;)if(t=Math.floor((r+n)/2),e<a[t][0])n=t-1;else{if(!(e>a[t][0]))return a[t][1];r=t+1}return e}function W(e){for(var t=0;t<b.length;t++)if(b[t]===e)return!0;return!1}function D(e){for(var t=0;t<c.length;t++)if(e===c[t])return h[t];return e}function H(e,t){for(var r=0;r<c.length;r++)if(e===c[r])return t[r];return e}function J(e){return e>="\u064b"&&e<="\u0655"}function q(e){return"L"===e?"LTR":"R"===e?"RTL":"C"===e?"CLR":"D"===e?"CRL":""}function G(e,t,r,n){for(;t*r<n&&J(e[t]);)t+=r;return t*r<n&&(e[t]=" ",!0)}function K(e,t){for(var r=0;r<s.length;r++)if(e===s[r])return t[r];return e}function Y(e,t,r,n){for(var i=0;i<e.length;i++)(e[i]>t||!r&&e[i]===t)&&(e[i]+=n)}var X=[],Z=[],$=[],Q={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},ee=5,te=6,re=0,ne=1,ie=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,ae=/[\u0591-\u06ff\ufb1d-\ufefc]/;t.a=M},1097:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return b}));var n=r(7),i=r.n(n),a=r(15),s=r(10),o=r(16),u=r(37),c=r(537),l=r(898),f=r(900),h=r(858),d={"simple-marker":1,"picture-marker":1,text:0,"simple-line":0,"simple-fill":0,"picture-fill":0,cim:1,"web-style":1};function b(e){if(!("visualVariables"in e))return 0;if(!e.hasVisualVariables("size"))return 0;var t=e.getVisualVariablesForType("size");if(!t[0])return 0;var r=t[0];if("stops"===r.transformationType)return r.stops.map((function(e){return e.size})).reduce(M,0);if("clamped-linear"===r.transformationType){var n,i;return n="number"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((function(e){return e.size})).reduce(M,0),i="number"==typeof r.minSize?r.minSize:r.minSize.stops.map((function(e){return e.size})).reduce(M,0),Math.max(n,i)}return"real-world-size"===r.transformationType?30:void 0}function p(e){return e.type in d}function v(e,t,r){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(i.a.mark((function e(t,r,n){var s,o,c,l,f,h,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(!n||"cluster"!==n.type)){e.next=2;break}return e.abrupt("return",0);case 2:if("heatmap"!==t.type){e.next=4;break}return e.abrupt("return",Math.round(3*t.blurRadius));case 4:if("dot-density"!==t.type){e.next=6;break}return e.abrupt("return",0);case 6:if("dictionary"!==t.type){e.next=8;break}return e.abrupt("return","esriGeometryPoint"===r||"esriGeometryMultipoint"===r?100:200);case 8:s=t.getSymbols(),o=b(t),c=[],l=Object(a.a)(s);try{for(l.s();!(f=l.n()).done;)h=f.value,c.push(S(h,o))}catch(i){l.e(i)}finally{l.f()}return e.next=13,Promise.all(c);case 13:return d=e.sent,e.abrupt("return",Object(u.h)(d.reduce(M,0)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=[0,0,0,0];function y(e,t){return null==e?t:e}function O(e,t){return null==e.outline?t:y(e.outline.width,t)}var j={sdf:!0,code:99,metrics:c.c.metrics,rect:new l.a(0,0,24,24),page:0,textureBinding:2};function x(e){var t=e.text&&e.text.length;if(!t)return{glyphMosaicItems:[j]};for(var r=[],n=0;n<t;n++)r.push(Object(s.a)(Object(s.a)({},j),{},{code:e.text.charCodeAt(n)}));return{glyphMosaicItems:r}}function w(e,t){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(i.a.mark((function e(t,r){var n,a,s,o,u,c,l,d,b,p,v,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("simple-marker"!==t.type){e.next=3;break}return n=Math.max(y(t.size,12),r),e.abrupt("return",L(t)+.707*n);case 3:if("picture-marker"!==t.type){e.next=6;break}return a=Math.max(y(t.height,12),r),s=y(t.width,12)*(a/y(t.height,12))/2,o=a/2,e.abrupt("return",L(t)+Math.sqrt(s*s+o*o));case 6:if("text"!==t.type){e.next=11;break}return u=x(t),Object(h.g)(g,t.toJSON(),u),c=Math.abs(g[0]),l=Math.abs(g[1]),d=g[2],b=g[3],e.abrupt("return",Math.max(c,l)+Math.max(d,b));case 11:if("simple-line"!==t.type){e.next=14;break}return p=t,v=Math.max(y(p.width,.75),r)/2,e.abrupt("return",p.marker?Math.max(6*p.width,2*r):v);case 14:if("simple-fill"!==t.type&&"picture-fill"!==t.type){e.next=16;break}return e.abrupt("return",Math.max(O(t,0),r)/2);case 16:if("cim"!==t.type){e.next=19;break}return m=f.a.getEnvelope(t.data),e.abrupt("return",m?Math.sqrt(m.width*m.width+m.height*m.height):0);case 19:if("web-style"!==t.type){e.next=28;break}return e.t1=w,e.next=23,t.fetchCIMSymbol();case 23:e.t2=e.sent,e.t3=r,e.t0=(0,e.t1)(e.t2,e.t3),e.next=29;break;case 28:e.t0=0;case 29:return e.abrupt("return",e.t0);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p(t)){e.next=8;break}return e.t1=Math,e.next=4,w(t,r);case 4:e.t2=e.sent,e.t0=e.t1.min.call(e.t1,e.t2,75),e.next=9;break;case 8:e.t0=0;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=y(e.xoffset,0),r=y(e.yoffset,0);return Math.sqrt(t*t+r*r)}function M(e,t){return Math.max(e,t)}},1119:function(e,t,r){"use strict";r.d(t,"a",(function(){return A})),r.d(t,"b",(function(){return L})),r.d(t,"c",(function(){return M})),r.d(t,"d",(function(){return k}));var n,i=r(23),a=r(10),s=r(15),o=r(14),u=r(6),c=r(12),l=r(20),f=r(607),h=r(363),d=r(977),b=r(2),p=r(3),v=r(4),m=r(5),g=r(0),y=r(21),O=(r(17),r(1)),j=r(8),x=r(42),w=(r(11),r(18),r(19),r(176)),T=n=function(e){Object(v.a)(r,e);var t=Object(m.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"writeLevels",value:function(e,t,r){for(var n in e){var i=this.levels[n];return void(t.stops=i)}}},{key:"clone",value:function(){return new n({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(w.c)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(w.c)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:Object(y.a)(this.levels)})}}]),r}(h.a);Object(g.a)([Object(O.b)()],T.prototype,"levels",void 0),Object(g.a)([Object(x.a)("levels")],T.prototype,"writeLevels",null),T=n=Object(g.a)([Object(j.a)("esri.views.2d.engine.LevelDependentSizeVariable")],T);var S=c.a.getLogger("esri.views.2d.layers.support.clusterUtils");o.a.add("esri-cluster-arcade-enabled",1);var _=Object(o.a)("esri-cluster-arcade-enabled"),L=function(e,t,r,n){var i=t.clone();if(!k(i))return i;if(r.fields){var a,o=Object(s.a)(r.fields);try{for(o.s();!(a=o.n()).done;){var c=a.value;R(e,c)}}catch(h){o.e(h)}finally{o.f()}}if("visualVariables"in i){var l=(i.visualVariables||[]).filter((function(e){return"$view.scale"!==e.valueExpression})),f=M(l);l.forEach((function(t){"rotation"===t.type?t.field?t.field=z(e,t.field,"avg_angle"):t.valueExpression&&(t.field=B(e,t.valueExpression,"avg_angle"),t.valueExpression=null):t.normalizationField?(t.field=z(e,t.field,"norm",t.normalizationField),t.normalizationField=null):t.field?t.field=z(e,t.field,"avg"):(t.field=B(e,t.valueExpression,"avg"),t.valueExpression=null)})),Object(u.j)(f)&&!F(l)&&(l.push(A(r,n)),i.dynamicClusterSize=!0),i.visualVariables=l}switch(i.type){case"simple":break;case"unique-value":i.field?i.field=z(e,i.field,"mode"):i.valueExpression&&(i.field=B(e,i.valueExpression,"mode"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=z(e,i.field,"norm",i.normalizationField),i.normalizationField=null):i.field?i.field=z(e,i.field,"avg"):(i.field=B(e,i.valueExpression,"avg"),i.valueExpression=null)}return i},M=function(e){var t,r=Object(s.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("size"===n.type)return n}}catch(i){r.e(i)}finally{r.f()}return null},F=function(e){var t,r=Object(s.a)(e);try{for(r.s();!(t=r.n()).done;){if("cluster_count"===t.value.field)return!0}}catch(n){r.e(n)}finally{r.f()}return!1},A=function(e,t){var r=[new f.a({value:0,size:0}),new f.a({value:1})];if(Object(u.j)(t))return new h.a({field:"cluster_count",stops:[].concat(r,[new f.a({value:2,size:0})])});var n=Object.keys(t).reduce((function(n,s){return Object(a.a)(Object(a.a)({},n),{},Object(i.a)({},s,[].concat(r,[new f.a({value:Math.max(2,t[s].minValue),size:e.clusterMinSize}),new f.a({value:Math.max(3,t[s].maxValue),size:e.clusterMaxSize})])))}),{});return new T({field:"cluster_count",levels:n})},k=function(e){var t=function(t){return S.error(new l.a("Unsupported-renderer",t,{renderer:e}))};if("unique-value"===e.type){if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1}else if("class-breaks"===e.type){if(e.normalizationField){var r=e.normalizationType;if("field"!==r)return t("FeatureReductionCluster does not support a normalizationType of ".concat(r)),!1}}else if("simple"!==e.type)return t("FeatureReductionCluster does not support renderers of type ".concat(e.type)),!1;if(!_){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((function(e){return!(!("valueExpression"in e)||!e.valueExpression)})))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function R(e,t){var r=t.name,n=t.outStatistic,i=n.onStatisticField,a=n.onStatisticValueExpression,s=n.statisticType;if(a){var o=Object(d.a)(a.toLowerCase());e.push({name:r,outStatistic:{onStatisticField:o,onStatisticValueExpression:a,statisticType:s}})}else i?e.push({name:r,outStatistic:{onStatisticField:i,statisticType:s}}):S.error(new l.a("mapview-unsupported-field","Unable to handle field",{field:t}))}function B(e,t,r){var n=Object(d.a)(t),i="mode"===r?"cluster_type_".concat(n):"cluster_avg_".concat(n);return e.some((function(e){return e.name===i}))||e.push({name:i,outStatistic:{onStatisticField:n,onStatisticValueExpression:t,statisticType:r}}),i}function z(e,t,r,n){if("cluster_count"===t||e.some((function(e){return e.name===t})))return t;var i=function(e,t,r){switch(e){case"avg":case"avg_angle":return"cluster_avg_".concat(t);case"mode":return"cluster_type_".concat(t);case"norm":var n=r,i=t.toLowerCase()+",norm:field,"+n.toLowerCase();return"cluster_avg_"+Object(d.a)(i)}}(r,t,n);return e.some((function(e){return e.name===i}))||("norm"===r?e.push({name:i,outStatistic:{onStatisticField:t,onStatisticNormalizationField:n,statisticType:r}}):e.push({name:i,outStatistic:{onStatisticField:t,statisticType:r}})),i}},1120:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return d}));var n=r(32),i=r(600),a=r(602),s=r(373),o=r(601);function u(e){return Object(i.a)(e)||Object(a.a)(e)||Object(s.a)(e)||Object(o.a)()}var c=r(12),l=r(37),f=c.a.getLogger("esri.renderers.visualVariables.support.utils"),h=function(e){if(!("visualVariables"in e)||!e.visualVariables||!e.visualVariables.length)return e;var t=e.clone(),r=t.visualVariables.map((function(e){return b(e)?p(e):e}));return t.visualVariables=r,t};function d(e){return e.map((function(e){return b(e)?p(e.clone()):e}))}function b(e){return("size"===e.type||"color"===e.type||"opacity"===e.type)&&null!=e.stops}function p(e){return e.stops=function(e,t){return t.length<=8?t:(f.warn("Found ".concat(t.length," Visual Variable stops, but MapView only supports ").concat(8,". Displayed stops will be simplified.")),t.length>16?function(e,t){for(var r=u(t),n=r[0],i=r.slice(1),a=i.pop(),s=i[0].value,o=i[i.length-1].value,c=(o-s)/6,f=[],h=s;h<o;h+=c){for(var d=0;h>=i[d].value;)d++;var b=i[d],p=t[d-1],m=h-p.value,g=b.value===p.value?1:m/(b.value-p.value);if("color"===e){var y=i[d],O=t[d-1],j=y.color.clone();j.r=v(O.color.r,j.r,g),j.g=v(O.color.g,j.g,g),j.b=v(O.color.b,j.b,g),j.a=v(O.color.a,j.a,g),f.push({value:h,color:j,label:y.label})}else if("size"===e){var x=i[d],w=t[d-1],T=Object(l.k)(x.size),S=v(Object(l.k)(w.size),T,g);f.push({value:h,size:S,label:x.label})}else{var _=i[d],L=v(t[d-1].opacity,_.opacity,g);f.push({value:h,opacity:L,label:_.label})}}return[n].concat(f,[a])}(e,t):function(e){for(var t=u(e),r=t[0],i=t.slice(1),a=i.pop();i.length>6;){for(var s=0,o=0,c=1;c<i.length;c++){var l=i[c-1],f=i[c],h=Math.abs(f.value-l.value);h>o&&(o=h,s=c)}i.splice(s,1)}return[r].concat(Object(n.a)(i),[a])}(t))}(e.type,e.stops),e}function v(e,t,r){return(1-r)*e+r*t}},837:function(e,t,r){"use strict";var n,i;function a(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}function s(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function o(e){switch(e){case"above-left":return[n.Right,i.Bottom];case"above-center":case"above-along":return[n.Center,i.Bottom];case"above-right":return[n.Left,i.Bottom];case"center-left":return[n.Right,i.Center];case"center-center":case"center-along":return[n.Center,i.Center];case"center-right":return[n.Left,i.Center];case"below-left":return[n.Right,i.Top];case"below-center":case"below-along":return[n.Center,i.Top];case"below-right":return[n.Left,i.Top];case"always-horizontal":return[n.Center,i.Baseline];default:return console.debug("Found invalid placement type ".concat(e)),[n.Center,i.Center]}}function u(e){switch(e){case n.Right:return-1;case n.Center:return 0;case n.Left:return 1;default:return console.debug("Found invalid horizontal alignment ".concat(e)),0}}function c(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug("Found invalid vertical alignment ".concat(e)),0}}function l(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return c})),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(n||(n={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},847:function(e,t,r){"use strict";r.d(t,"a",(function(){return W})),r.d(t,"b",(function(){return F})),r.d(t,"c",(function(){return L}));var n=r(15),i=r(32),a=r(10),s=r(14),o=r(21),u=r(6),c=r(12),l=r(20),f=r(37),h=(r(152),r(157)),d=(r(402),r(299),r(441),r(443),r(442),r(361)),b=(r(332),r(1119)),p=r(821),v=r(823),m=r(822),g=r(866);var y=r(1097),O=r(1120),j=r(1040),x=c.a.getLogger("esri.views.2d.layers.features.schemaUtils"),w="ValidationError",T={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function S(e){return Object(v.h)(e)}function _(e){switch(e.type){case"line-marker":var t;return{type:"line-marker",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style};default:return Object(h.a)(e.toJSON()).toJSON()}}function L(e,t,r){if(!e)return null;var i=0,s=!1,o=0;switch(Object(u.k)(t)&&(o=Object(y.b)(t),"visualVariables"in t&&(i=function(e){if(!e)return p.e.NONE;var t,r=0,i=Object(n.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("size"===a.type){var s=Object(g.a)(a);r|=s,"outline"===a.target&&(r|=s<<4)}else"color"===a.type?r|=p.e.COLOR:"opacity"===a.type?r|=p.e.OPACITY:"rotation"===a.type&&(r|=p.e.ROTATION)}}catch(o){i.e(o)}finally{i.f()}return r}(t.visualVariables||[]),s="dot-density"===t.type)),e.type){case"simple-fill":case"picture-fill":return function(e,t,r,n){var i=Object(v.g)(p.d.FILL,t,!1,r),s=n?S(i):i,o=e.clone(),u=o.outline;o.outline=null;var c=[],l=Object(a.a)({materialKey:s,hash:o.hash()},_(o));if(c.push(l),u){var f=Object(v.g)(p.d.LINE,t,!0,!1),h=Object(a.a)({materialKey:n?S(f):f,hash:u.hash()},_(u));c.push(h)}return{type:"composite-symbol",layers:c,hash:c.reduce((function(e,t){return t.hash+e}),"")}}(e,i,s,r);case"simple-marker":case"picture-marker":return function(e,t,r,n){var i=Object(v.g)(p.d.MARKER,t,!1,!1),s=n?S(i):i,o=_(e);return Object(a.a)(Object(a.a)({materialKey:s,hash:e.hash()},o),{},{angle:e.angle,maxVVSize:r})}(e,i,o,r);case"simple-line":return function(e,t,r){var n=Object(v.g)(p.d.LINE,t,!1,!1),i=r?S(n):n,s=e.clone(),o=s.marker;s.marker=null;var u=[];if(u.push(Object(a.a)({materialKey:i,hash:s.hash()},_(s))),o){var c,l=Object(v.g)(p.d.MARKER,t,!1,!1),f=r?S(l):l;o.color=null!=(c=o.color)?c:s.color,u.push(Object(a.a)({materialKey:f,hash:o.hash(),lineWidth:s.width},_(o)))}return{type:"composite-symbol",layers:u,hash:u.reduce((function(e,t){return t.hash+e}),"")}}(e,i,r);case"text":return function(e,t,r,n){var i=Object(v.g)(p.d.TEXT,t,!1,!1),s=n?S(i):i,o=_(e);return Object(a.a)(Object(a.a)({materialKey:s,hash:e.hash()},o),{},{angle:e.angle,maxVVSize:r})}(e,i,o,r);case"label":return function(e,t,r){var n=Object(v.g)(p.d.LABEL,t,!1,!1,e.labelPlacement);return Object(a.a)(Object(a.a)({materialKey:r?S(n):n,hash:e.hash()},e.toJSON()),{},{labelPlacement:e.labelPlacement})}(e,i,r);case"cim":return{type:"cim",rendererKey:i,data:e.data,maxVVSize:o};case"web-style":return Object(a.a)(Object(a.a)({},_(e)),{},{type:"web-style",hash:e.hash(),rendererKey:i,maxVVSize:o});default:throw new Error("symbol not supported ".concat(e.type))}}function M(e,t){var r=Object(o.a)(e);return r.some((function(e){return function(e,t){var r=e.labelPlacement,n=T[t];if(!e.symbol)return x.warn("No LabelClass symbol specified."),!0;if(!n)return x.error(new l.a("mapview-labeling:unsupported-geometry-type","Unable to create labels for Feature Layer, ".concat(t," is not supported"))),!0;if(!n.some((function(e){return e===r}))){var i=n[0];r&&x.warn("Found invalid label placement type ".concat(r," for ").concat(t,". Defaulting to ").concat(i)),e.labelPlacement=i}return!1}(e,t)}))?[]:r}function F(e){return Object(s.a)("esri-2d-update-debug")&&console.debug("Created new schema",A(e,!0)),A(e)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var r,n,i=C(e,t),a={};return i.map((function(t){return k(a,e,t)})),{source:{definitionExpression:e.definitionExpression,fields:e.fields.map((function(e){return e.toJSON()})),gdbVersion:e.gdbVersion,historicMoment:null==(r=e.historicMoment)?void 0:r.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:null==(n=e.timeExtent)?void 0:n.toJSON()},attributes:{fields:{},indexCount:0},processors:i,targets:a}}catch(s){if(s.fieldName===w)return x.error(s),null;throw s}}function k(e,t,r){switch(r.target){case"feature":return void z(e,B(t),r);case"aggregate":var n=t.featureReduction;if("selection"===n.type)throw new l.a(w,"Mapview does not support `selection` reduction type",n);return z(e,B(t),r),void function(e,t,r){e.aggregate||(e.aggregate={name:"aggregate",input:"feature",filters:null,attributes:{},params:{clusterRadius:Object(f.h)(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(Object(f.h)(t.clusterMaxSize)/64),fields:r.aggregateFields}}),R(e.aggregate,r.attributes.fields)}(e,n,r)}}function R(e,t){for(var r in t){var n=t[r];if(n.target===e.name){var i=e.attributes[r];i?(i.context.mesh=i.context.mesh||n.context.mesh,i.context.storage=i.context.storage||n.context.storage):e.attributes[r]=n}}return e}function B(e){var t,r,n,i,a;return[null!=(t=null==(r=e.filter)?void 0:r.toJSON())?t:null,null!=(n=null==(i=e.effect)||null==(a=i.filter)?void 0:a.toJSON())?n:null]}function z(e,t,r){return e.feature||(e.feature={name:"feature",input:"source",filters:t,attributes:{}}),R(e.feature,r.attributes.fields),e}function E(e,t){return t.field?V(e,Object(a.a)(Object(a.a)({},t),{},{type:"field",field:t.field})):t.valueExpression?V(e,Object(a.a)(Object(a.a)({},t),{},{type:"expression",valueExpression:t.valueExpression})):{field:null,fieldIndex:null}}function V(e,t){switch(t.type){case"expression":var r=t.valueExpression;if(!e.fields[r]){var n=e.indexCount++;e.fields[r]=Object(a.a)(Object(a.a)({},t),{},{name:r,fieldIndex:n})}return{fieldIndex:e.fields[r].fieldIndex};case"label-expression":var i=JSON.stringify(t.label);if(!e.fields[i]){var s=e.indexCount++;e.fields[i]=Object(a.a)(Object(a.a)({},t),{},{name:i,fieldIndex:s})}return{fieldIndex:e.fields[i].fieldIndex};case"field":var o=t.field;return"aggregate"===t.target&&e.fields[o]||(e.fields[o]=Object(a.a)(Object(a.a)({},t),{},{name:o})),{field:o};case"statistic":return e.fields[t.name]=Object(a.a)({},t),{field:t.name}}}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Array,n=0;return r.push(N(e,n++,t)),r}function I(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=V(t,{type:"label-expression",target:n,context:{mesh:!0},resultType:"string",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),u=o.fieldIndex;return Object(a.a)(Object(a.a)({},L(r,e,s)),{},{fieldIndex:u,target:n,index:i})}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={indexCount:0,fields:{}},a="featureReduction"in e&&e.featureReduction,s=a?"aggregate":"feature";switch(e.renderer.type){case"heatmap":var o=e.renderer,u=o.blurRadius,c=o.fieldOffset,f=o.field;return{type:"heatmap",aggregateFields:[],attributes:n,target:s,storage:null,mesh:{blurRadius:u,fieldOffset:c,field:E(n,{target:s,field:f,resultType:"numeric"}).field}};default:var h=[],p="aggregate"===s?Object(b.b)(h,e.renderer,a,null):e.renderer;U(n,h);var v=W(n,s,p,r),m=null,g=P(n,s,p),y=Object(j.a)(e.geometryType),O=e.labelsVisible&&e.labelingInfo||[],x=[];if(a){if("selection"===a.type)throw new l.a(w,"Mapview does not support `selection` reduction type",a);if(a.symbol){var T=new d.a({symbol:a.symbol,visualVariables:"visualVariables"in p?p.visualVariables:null});m=W(n,s,T,r)}x=a&&a.labelsVisible&&a.labelingInfo||[]}O=M(O,y),x=M(x,y);var S=0,_=[].concat(Object(i.a)(O.map((function(e){return I(p,n,e,"feature",S++,r)}))),Object(i.a)(x.map((function(e){return I(p,n,e,"aggregate",S++,r)}))));return{type:"symbol",target:s,attributes:n,aggregateFields:h,storage:g,mesh:{matcher:v,labels:_,aggregateMatcher:m}}}}function U(e,t){var r,i={mesh:!0,storage:!0},a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=s.name,u=s.outStatistic,c=u.statisticType,l=u.onStatisticField,f=null,h=null,d=null,b="numeric",p="feature";"onStatisticValueExpression"in u?h=V(e,{type:"expression",target:p,valueExpression:u.onStatisticValueExpression,resultType:b}).fieldIndex:"onStatisticNormalizationField"in u?(f=V(e,{type:"field",target:p,field:l,resultType:b}).field,d=u.onStatisticNormalizationField):f=V(e,{type:"field",target:p,field:l,resultType:b}).field,V(e,{type:"statistic",target:"aggregate",name:o,context:i,inField:f,inNormalizationField:d,inFieldIndex:h,statisticType:c})}}catch(v){a.e(v)}finally{a.f()}}function P(e,t,r){switch(r.type){case"dot-density":return function(e,t,r){return r&&r.length?{type:"dot-density",mapping:r.map((function(r,n){var i=E(e,{valueExpression:r.valueExpression,field:r.field,resultType:"numeric",target:t});return{binding:n,field:i.field,fieldIndex:i.fieldIndex}})),target:t}:{type:"dot-density",mapping:[],target:t}}(e,t,r.attributes);case"simple":case"class-breaks":case"unique-value":return function(e,t,r){if(!r||!r.length)return{type:"visual-variable",mapping:[],target:t};var n={storage:!0},i="numeric";return{type:"visual-variable",mapping:Object(O.b)(r).map((function(r){var a,s=Object(m.m)(r.type),o=E(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:n,resultType:i}),u=o.field,c=o.fieldIndex;switch(r.type){case"size":return"$view.scale"===r.valueExpression?null:{type:"size",binding:s,field:u,fieldIndex:c,normalizationField:E(e,{target:t,field:r.normalizationField,context:n,resultType:i}).field,valueRepresentation:null!=(a=r.valueRepresentation)?a:null};case"color":return{type:"color",binding:s,field:u,fieldIndex:c,normalizationField:E(e,{target:t,field:r.normalizationField,context:n,resultType:i}).field};case"opacity":return{type:"opacity",binding:s,field:u,fieldIndex:c,normalizationField:E(e,{target:t,field:r.normalizationField,context:n,resultType:i}).field};case"rotation":return{type:"rotation",binding:s,field:u,fieldIndex:c}}})).filter((function(e){return e})),target:t}}(e,t,r.visualVariables);case"heatmap":case"dictionary":return null}}function W(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(u.r)(e,{indexCount:0,fields:{}});switch(r.type){case"simple":case"dot-density":return D(i,r,"dot-density"===r.type,n);case"class-breaks":return H(i,t,r,n);case"unique-value":return J(i,t,r,n);case"dictionary":return q(i,r,n)}}function D(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.getSymbols();return{type:"simple",symbol:L(i.length?i[0]:null,t,n),isDotDensity:r}}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={mesh:!0,use:"renderer.field"},a=r.backgroundFillSymbol,s=E(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:"numeric",context:i}),o=s.field,u=s.fieldIndex,c=r.normalizationType,l="log"===c?"esriNormalizeByLog":"percent-of-total"===c?"esriNormalizeByPercentOfTotal":"field"===c?"esriNormalizeByField":null,f=r.classBreakInfos.map((function(e){return{symbol:L(e.symbol,r,n),min:e.minValue,max:e.maxValue}})).sort((function(e,t){return e.min-t.min}));return{type:"interval",attributes:e.fields,field:o,fieldIndex:u,backgroundFillSymbol:L(a,r,n),defaultSymbol:L(r.defaultSymbol,r,n),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:l,isMaxInclusive:r.isMaxInclusive}}function J(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],o=r.backgroundFillSymbol,u={target:t,context:{mesh:!0},resultType:"string"};if(r.field&&"string"!=typeof r.field)throw new l.a(w,"Expected renderer.field to be a string",r);var c,f=E(e,Object(a.a)(Object(a.a)({},u),{},{field:r.field,valueExpression:r.valueExpression})),h=f.field,d=f.fieldIndex,b=Object(n.a)(r.uniqueValueInfos);try{for(b.s();!(c=b.n()).done;){var p=c.value;s.push({value:""+p.value,symbol:L(p.symbol,r,i)})}}catch(v){b.e(v)}finally{b.f()}return{type:"map",attributes:e.fields,field:h,fieldIndex:d,field2:E(e,Object(a.a)(Object(a.a)({},u),{},{field:r.field2})).field,field3:E(e,Object(a.a)(Object(a.a)({},u),{},{field:r.field3})).field,fieldDelimiter:r.fieldDelimiter,backgroundFillSymbol:L(o,r),defaultSymbol:L(r.defaultSymbol,r),map:s}}function q(e,t){return{type:"dictionary",renderer:t.toJSON()}}},858:function(e,t,r){"use strict";r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return T})),r.d(t,"c",(function(){return L})),r.d(t,"d",(function(){return U})),r.d(t,"e",(function(){return N})),r.d(t,"f",(function(){return P})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return A})),r.d(t,"i",(function(){return _})),r.d(t,"j",(function(){return F})),r.d(t,"k",(function(){return I})),r.d(t,"l",(function(){return M}));var n=r(29),i=(r(14),r(6)),a=r(56),s=r(330),o=r(67),u=r(37),c=r(144),l=r(353),f=r(105),h=r(34),d=r(102),b=r(399),p=r(513),v=r(837),m=r(919),g=r(867),y=r(900),O=Math.PI/180,j=.04,x=Object(b.a)(),w=Object(p.a)(),T=512,S=50;function _(e,t){if(!t.isWrappable)return null;var r=Object(c.c)(t),i=Object(n.a)(r,2),a=i[0],s=i[1];return e[2]>s?[Object(f.i)([e[0],e[1],s,e[3]]),Object(f.i)([a,e[1],a+e[2]-s,e[3]])]:e[0]<a?[Object(f.i)([a,e[1],e[2],e[3]]),Object(f.i)([s-(a-e[0]),e[1],s,e[3]])]:null}function L(e,t,r,i,u,c,f){if(!i||!r.symbol)return e[0]=e[1]=e[2]=e[3]=0,t[0]=t[1]=t[2]=t[3]=0,e;var h=i;if(!Object(o.f)(h)){Object(s.a)(e,h);var d=t[0];0===d&&(d=W(r),t[0]=d);var b=u*d/2;return e[0]-=b,e[1]-=b,e[2]+=b,e[3]+=b,e}var p=h.x,v=h.y;return"esriTS"===r.symbol.type&&0===t[2]&&0===t[3]&&D(t,r.symbol,r.mosaicItem),function(e,t,r,i,s,o,u,c){var f;switch(i.type){case"esriSMS":case"esriPMS":f=N(t,r,i,o,u,0);break;case"esriTS":f=P(t,r,i,s,o,0);break;case"cim":case"CIMSymbolReference":case"expanded-cim":f=U(t,r,i,o,u,0)}for(var h,d,b=0,p=0;p<f.rings[0].length-1;p++)h=(t-(d=f.rings[0][p])[0])*(t-d[0])+(r-d[1])*(r-d[1]),b=Math.max(b,h);b=Math.sqrt(b);var v=Object(l.b)(t-b,c),m=Object(l.b)(t+b,c);if(v>m){var g=Object(a.d)(c);if(g){var y=Object(n.a)(g.valid,2);v=y[0],m=y[1]}}e[0]=v,e[1]=r-b,e[2]=m,e[3]=r+b}(e,p,v,r.symbol,t,u,c,f),e}function M(e){return"text"===e||"esriTS"===e}function F(e){return"simple-marker"===e||"picture-marker"===e||"esriSMS"===e||"esriPMS"===e}function A(e){switch(Object(i.q)(e.geometry).type){case"point":case"multipoint":return 0;case"polyline":return 1;case"polygon":case"extent":return 2}return 0}var k=Object(p.a)(),R=Object(p.a)(),B=Object(p.a)(),z=Object(p.a)(),E=Object(p.a)(),V=Object(p.a)(),C=Object(p.a)();function I(e,t,r,n){Object(h.r)(B,t,r);for(var i,a,s,o,u,c,l,f,d,b=e.paths,p=1/0,v=0;v<b.length;v++){var m=b[v];if(!(m.length<2))for(var g=1;g<m.length;g++)i=m[g-1][0],s=m[g-1][1],a=m[g][0],o=m[g][1],u=Math.min(i,a)-n,c=Math.min(s,o)-n,l=Math.max(i,a)+n,f=Math.max(s,o)+n,t<u||t>l||r<c||r>f||(Object(h.r)(k,i,s),Object(h.r)(R,a,o),Object(h.d)(z,R,k),Object(h.d)(E,k,B),Object(h.a)(V,z,Object(h.g)(z,E)/Object(h.g)(z,z)),Object(h.d)(C,E,V),p>(d=Object(h.g)(C,C))&&(p=d))}return Math.sqrt(p)<=n}function N(e,t,r,n,i,a){var s,o,c=Object(u.h)(r.xoffset),l=Object(u.h)(r.yoffset),f=O*r.angle,b=O*a;switch(r.type){case"esriSMS":s=o=Object(u.h)(r.size);break;case"esriPMS":s=Object(u.h)(r.width),o=Object(u.h)(r.height)}i<j&&(n=j*n/i);var p=Object(d.d)(x);Object(d.h)(p,p,Object(h.r)(w,e,t)),Object(d.f)(p,p,b-f),Object(d.g)(p,p,Object(h.r)(w,n,-n)),Object(d.h)(p,p,Object(h.r)(w,c,-l));var v=[0,0];Object(h.s)(v,Object(h.r)(w,-.5*s,-.5*o),p);var m=[0,0];Object(h.s)(m,Object(h.r)(w,-.5*s,.5*o),p);var g=[0,0];Object(h.s)(g,Object(h.r)(w,.5*s,-.5*o),p);var y=[0,0];return Object(h.s)(y,Object(h.r)(w,.5*s,.5*o),p),{rings:[[v,g,y,m,v]]}}function U(e,t,r,n,i,a){var s=y.a.getEnvelope(r.data);if(!s)return null;i<j&&(n=j*n/i);var o=Object(u.h)(s.width),c=Object(u.h)(s.height),l=Object(u.h)(s.x),f=Object(u.h)(s.y),b=0*O,p=O*a,v=Object(d.d)(x);Object(d.h)(v,v,Object(h.r)(w,e,t)),Object(d.f)(v,v,p-b),Object(d.g)(v,v,Object(h.r)(w,n,n));var m=[0,0];Object(h.s)(m,Object(h.r)(w,l,f+c),v);var g=[0,0];Object(h.s)(g,Object(h.r)(w,l,f),v);var T=[0,0];Object(h.s)(T,Object(h.r)(w,l+o,f+c),v);var S=[0,0];return Object(h.s)(S,Object(h.r)(w,l+o,f),v),{rings:[[m,T,S,g,m]]}}function P(e,t,r,n,i,a){var s=Object(u.h)(r.xoffset),o=Object(u.h)(r.yoffset),c=O*r.angle,l=O*a,f=Object(d.d)(x);Object(d.h)(f,f,Object(h.r)(w,e,t)),Object(d.f)(f,f,l),Object(d.g)(f,f,Object(h.r)(w,i,-i));var b=n[0]+n[2]/2,p=n[1]+n[3]/2;Object(d.h)(f,f,Object(h.r)(w,s,-o)),Object(d.h)(f,f,Object(h.r)(w,b,p)),Object(d.f)(f,f,c),Object(d.h)(f,f,Object(h.r)(w,-b,-p));var v=[0,0];Object(h.s)(v,Object(h.r)(w,n[0],n[1]),f);var m=[0,0];Object(h.s)(m,Object(h.r)(w,n[0],n[1]+n[3]),f);var g=[0,0];Object(h.s)(g,Object(h.r)(w,n[0]+n[2],n[1]),f);var y=[0,0];return Object(h.s)(y,Object(h.r)(w,n[0]+n[2],n[1]+n[3]),f),{rings:[[v,g,y,m,v]]}}function W(e){switch(e.symbol.type){case"esriSFS":case"esriPFS":var t=e.symbol.outline;return t?t.width:0;case"esriSLS":return Object(u.h)(e.symbol.width);case"esriSMS":return Object(u.h)(e.symbol.size);case"esriPMS":return Object(u.h)(Math.max(e.symbol.width,e.symbol.height));case"esriTS":var r=[0,0,0,0];D(r,e.symbol,e.mosaicItem);var n=Math.max(Math.abs(r[0]),Math.abs(r[1]));return Math.max(r[2],r[3])+n;case"expanded-cim":var i=y.a.getEnvelope(e.symbol.data);return i.width!==-1/0&&i.height!==-1/0||(i.width=10,i.height=10,i.x=0,i.y=0),Object(u.h)(Math.sqrt(i.width*i.width+i.height*i.height));case"composite-symbol":if(!e.symbol.layers.length)return 0;var a=e.symbol.layers.length-1;return W({symbol:e.symbol.layers[a],mosaicItem:null});case"label":default:return 0}}function D(e,t,r){if(!r||0===r.glyphMosaicItems.length)return e;var n=Object(g.a)(t.text)[1],i=r.glyphMosaicItems,a=Object(m.a)(i,n,{scale:Object(u.h)(t.font.size)/24,angle:t.angle,xOffset:t.xoffset,yOffset:t.yoffset,hAlign:Object(v.d)(t.horizontalAlignment||"center"),vAlign:Object(v.f)(t.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(t.lineWidth||512,512)),lineHeight:30*Math.max(.25,Math.min(t.lineHeight||1,4)),decoration:t.font.decoration||"none",isCIM:!1}).bounds;return e[0]=Object(u.h)(a.x-a.halfWidth),e[1]=Object(u.h)(a.y-a.halfHeight),e[2]=Object(u.h)(a.width),e[3]=Object(u.h)(a.height),e}},867:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=new(r(1084).a);function i(e){return n.hasBidiChar(e)?(t="rtl"===n.checkContextual(e)?"IDNNN":"ICNNN",[n.bidiTransform(e,t,"VLYSN"),!0]):[e,!1];var t}},912:function(e,t,r){"use strict";var n=r(2),i=r(3),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(n.a)(this,e),this.x=t,this.y=r,this.width=i,this.height=a}return Object(i.a)(e,[{key:"isEmpty",get:function(){return this.width<=0||this.height<=0}},{key:"union",value:function(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}}]),e}();t.a=a},919:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(15),i=r(2),a=r(3),s=r(34),o=r(102),u=r(399),c=r(513),l=r(837),f=r(824),h=r(912),d=r(46),b=function(){function e(t,r,n,a){Object(i.a)(this,e),this.center=Object(c.b)(t,r),this.centerT=Object(c.a)(),this.halfWidth=n/2,this.halfHeight=a/2,this.width=n,this.height=a}return Object(a.a)(e,[{key:"x",get:function(){return this.center[0]},set:function(e){this.center[0]=e}},{key:"y",get:function(){return this.center[1]},set:function(e){this.center[1]=e}},{key:"blX",get:function(){return this.center[0]+this.halfWidth}},{key:"blY",get:function(){return this.center[1]+this.halfHeight}},{key:"trX",get:function(){return this.center[0]-this.halfWidth}},{key:"trY",get:function(){return this.center[1]-this.halfHeight}},{key:"xmin",get:function(){return this.x-this.halfWidth}},{key:"xmax",get:function(){return this.x+this.halfWidth}},{key:"ymin",get:function(){return this.y-this.halfHeight}},{key:"ymax",get:function(){return this.y+this.halfHeight}},{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"serialize",value:function(e){return e.writeF32(this.center[0]),e.writeF32(this.center[1]),e.push(this.width),e.push(this.height),e}},{key:"findCollisionDelta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=Math.abs(e.centerT[0]-this.centerT[0]),n=Math.abs(e.centerT[1]-this.centerT[1]),i=(e.halfWidth+this.halfWidth+t)/r,a=(e.halfHeight+this.halfHeight+t)/n,s=Math.min(i,a);return Object(d.m)(s)}},{key:"extend",value:function(e){var t=Math.min(this.xmin,e.xmin),r=Math.min(this.ymin,e.ymin),n=Math.max(this.xmax,e.xmax)-t,i=Math.max(this.ymax,e.ymax)-r,a=t+n/2,s=r+i/2;this.width=n,this.height=i,this.halfWidth=n/2,this.halfHeight=i/2,this.x=a,this.y=s}}],[{key:"deserialize",value:function(t){return new e(t.readF32(),t.readF32(),t.readInt32(),t.readInt32())}}]),e}(),p=Math.PI/180,v=function(){function e(t,r,n,a){Object(i.a)(this,e),this._rotationT=Object(u.a)(),this._xBounds=0,this._yBounds=0,this.minZoom=0,this.maxZoom=255,this._bounds=null;var s=n.rect,o=new Float32Array(8);t*=a,r*=a;var c=n.code?s.width*a:n.metrics.width,l=n.code?s.height*a:n.metrics.height;o[0]=t,o[1]=r,o[2]=t+c,o[3]=r,o[4]=t,o[5]=r+l,o[6]=t+c,o[7]=r+l,this._data=o,this._setTextureCoords(s),this._scale=a,this._mosaic=n,this.x=t,this.y=r,this.maxOffset=Math.max(t+c,r+l)}return Object(a.a)(e,[{key:"width",get:function(){return this._mosaic.metrics.width*this._scale}},{key:"mosaic",get:function(){return this._mosaic}},{key:"angle",get:function(){return this._angle},set:function(e){this._angle=e,Object(o.d)(this._rotationT),Object(o.f)(this._rotationT,this._rotationT,-e),this._setOffsets(this._data)}},{key:"xTopLeft",get:function(){return this._data[0]}},{key:"yTopLeft",get:function(){return this._data[1]}},{key:"xBottomRight",get:function(){return this._data[6]}},{key:"yBottomRight",get:function(){return this._data[7]}},{key:"texcoords",get:function(){return this._texcoords}},{key:"textureBinding",get:function(){return this._mosaic.textureBinding}},{key:"offsets",get:function(){return this._offsets||this._setOffsets(this._data),this._offsets}},{key:"char",get:function(){return String.fromCharCode(this._mosaic.code)}},{key:"code",get:function(){return this._mosaic.code}},{key:"bounds",get:function(){if(!this._bounds){var e=this._mosaic.metrics,t=e.height,r=e.width*this._scale,n=Math.abs(t)*this._scale,i=new Float32Array(8);i[0]=this.x,i[1]=this.y,i[2]=this.x+r,i[3]=this.y,i[4]=this.x,i[5]=this.y+n,i[6]=this.x+r,i[7]=this.y+n;var a=Object(o.e)(Object(u.a)(),this._rotationT,this._T);Object(u.b)(i,i,a);for(var s=1/0,c=1/0,l=0,f=0,h=0;h<4;h++){var d=i[2*h],p=i[2*h+1];s=Math.min(s,d),c=Math.min(c,p),l=Math.max(l,d),f=Math.max(f,p)}var v=l-s,m=f-c,g=s+v/2,y=c+m/2;this._bounds=new b(g,y,v,m)}return this._bounds}},{key:"setTransform",value:function(e){this._T=e,this._offsets=null}},{key:"_setOffsets",value:function(e){this._offsets||(this._offsets={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0});var t=this._offsets,r=new Float32Array(8),n=Object(o.e)(Object(u.a)(),this._rotationT,this._T);Object(u.b)(r,e,n),t.upperLeft=Object(f.a)(8*r[0],8*r[1]),t.upperRight=Object(f.a)(8*r[2],8*r[3]),t.lowerLeft=Object(f.a)(8*r[4],8*r[5]),t.lowerRight=Object(f.a)(8*r[6],8*r[7])}},{key:"_setTextureCoords",value:function(e){var t=e.x,r=e.y,n=e.width,i=e.height;this._texcoords={upperLeft:Object(f.a)(t,r),upperRight:Object(f.a)(t+n,r),lowerLeft:Object(f.a)(t,r+i),lowerRight:Object(f.a)(t+n,r+i)}}}]),e}(),m=function(e,t){return{code:0,page:0,sdf:!0,rect:new h.a(0,0,11,8),textureBinding:t,metrics:{advance:0,height:4,width:e,left:0,top:0}}},g=function(){function e(t,r,a){Object(i.a)(this,e),this._rotation=0,this._decorate(t,r,a),this.glyphs=t,this.bounds=this._createBounds(t),this.isMultiline=r.length>1,this._hasRotation=0!==a.angle,this._T=this._createGlyphTransform(this.bounds,a);var s,o=Object(n.a)(t);try{for(o.s();!(s=o.n()).done;){s.value.setTransform(this._T)}}catch(u){o.e(u)}finally{o.f()}}return Object(a.a)(e,[{key:"setRotation",value:function(e){if(0!==e||0!==this._rotation){this._rotation=e;var t=this._T,r=Object(o.b)(Object(u.a)(),e);Object(o.e)(t,r,t);var i,a=Object(n.a)(this.glyphs);try{for(a.s();!(i=a.n()).done;){i.value.setTransform(this._T)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"_decorate",value:function(e,t,r){if(r.decoration&&"none"!==r.decoration&&e.length){var i,a=r.scale,s="underline"===r.decoration?30:20,o=e[0].textureBinding,u=Object(n.a)(t);try{for(u.s();!(i=u.n()).done;){var c=i.value,l=c.startX*a,f=c.startY*a,h=(c.width+c.glyphWidthEnd)*a;e.push(new v(l,f+s*a,m(h,o),1))}}catch(d){u.e(d)}finally{u.f()}}}},{key:"boundsT",get:function(){var e=this.bounds,t=Object(s.r)(Object(c.a)(),e.x,e.y);if(Object(s.s)(t,t,this._T),this._hasRotation){var r=Math.max(e.width,e.height);return new b(t[0],t[1],r,r)}return new b(t[0],t[1],e.width,e.height)}},{key:"_createBounds",value:function(e){var t,r=1/0,i=1/0,a=0,s=0,o=Object(n.a)(e);try{for(o.s();!(t=o.n()).done;){var u=t.value;r=Math.min(r,u.xTopLeft),i=Math.min(i,u.yTopLeft),a=Math.max(a,u.xTopLeft+u.width),s=Math.max(s,u.yBottomRight)}}catch(f){o.e(f)}finally{o.f()}var c=a-r,l=s-i;return new b(r+c/2,i+l/2,c,l)}},{key:"_createGlyphTransform",value:function(e,t){var r=p*t.angle,n=Object(u.a)(),i=Object(c.a)();return Object(o.h)(n,n,Object(s.r)(i,t.xOffset,-t.yOffset)),t.isCIM?Object(o.f)(n,n,r):(Object(o.h)(n,n,Object(s.r)(i,e.x,e.y)),Object(o.f)(n,n,r),Object(o.h)(n,n,Object(s.r)(i,-e.x,-e.y))),n}}]),e}(),y=function e(t,r,n,a,s,o){Object(i.a)(this,e),this.glyphWidthEnd=0,this.startX=0,this.startY=0,this.start=Math.max(0,Math.min(r,n)),this.end=Math.max(0,Math.max(r,n)),this.end<t.length&&(this.glyphWidthEnd=t[this.end].metrics.width),this.width=a,this.yMin=s,this.yMax=o},O=function(e){return 10===e},j=function(e){return 32===e};function x(e,t,r){for(var n=r.scale,i=new Array,a=function(e,t,r){for(var n=new Array,i=1/r.scale,a=r.maxLineWidth*i,s=t?e.length-1:0,o=t?-1:e.length,u=t?-1:1,c=s,l=0,f=0,h=c,d=h,b=0,p=1/0,v=0;c!==o;){var m=e[c],g=m.code,x=m.metrics,w=Math.abs(x.top);if(O(g)||j(g)||(p=Math.min(p,w),v=Math.max(v,w+x.height)),O(g))c!==s&&(n.push(new y(e,h,c-u,l,p,v)),p=1/0,v=0),l=0,h=c+u,d=c+u,f=0;else if(j(g))d=c+u,f=0,b=x.advance,l+=x.advance;else if(l>a){if(d!==h){var T=d-2*u;l-=b,n.push(new y(e,h,T,l-f,p,v)),p=1/0,v=0,h=d,l=f}else n.push(new y(e,h,c-u,l,p,v)),p=1/0,v=0,h=c,d=c,l=0;l+=x.advance,f+=x.advance}else l+=x.advance,f+=x.advance;c+=u}var S=new y(e,h,c-u,l,p,v);return S.start>=0&&S.end<e.length&&n.push(S),n}(e,t,r),s=function(e,t){for(var r=0,n=0;n<e.length;n++){var i=e[n].width;r=Math.max(i,r)}var a="underline"===t.decoration?4:0,s=e[0].yMin;return{x:0,y:s,height:e[e.length-1].yMax+t.lineHeight*(e.length-1)+a-s,width:r}}(a,r),o=r.vAlign,u=r.hAlign,c=o===l.a.Baseline?1:0,f=c?0:o-1,h=(1-c)*-s.y+f*(s.height/2)+-26*(c?1:0),d=0;d<a.length;d++){var b=a[d],p=b.start,m=b.end,x=-1*(u+1)*(b.width/2)-3,w=d*r.lineHeight+h-3;a[d].startX=x,a[d].startY=w;for(var T=p;T<=m;T++){var S=e[T];if(!O(S.code)){var _=new v(x+S.metrics.left,w-S.metrics.top,S,n);x+=S.metrics.advance,i.push(_)}}}return new g(i,a,r)}},977:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return n}));var n={Base64:0,Hex:1,String:2,Raw:3};function i(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function a(e){for(var t=[],r=0,n=8*e.length;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function s(e){for(var t=[],r=0,n=32*e.length;r<n;r+=8)t.push(String.fromCharCode(e[r>>5]>>>r%32&255));return t.join("")}function o(e){for(var t="0123456789abcdef",r=[],n=0,i=4*e.length;n<i;n++)r.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return r.join("")}function u(e){for(var t=[],r=0,n=4*e.length;r<n;r+=3)for(var i=(e[r>>2]>>r%4*8&255)<<16|(e[r+1>>2]>>(r+1)%4*8&255)<<8|e[r+2>>2]>>(r+2)%4*8&255,a=0;a<4;a++)8*r+6*a>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-a)&63));return t.join("")}function c(e,t,r,n,a,s){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(n,s)),a),r)}function l(e,t,r,n,i,a,s){return c(t&r|~t&n,e,t,i,a,s)}function f(e,t,r,n,i,a,s){return c(t&n|r&~n,e,t,i,a,s)}function h(e,t,r,n,i,a,s){return c(t^r^n,e,t,i,a,s)}function d(e,t,r,n,i,a,s){return c(r^(t|~n),e,t,i,a,s)}function b(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,a=-1732584194,s=271733878,o=0;o<e.length;o+=16){var u=r,c=n,b=a,p=s;r=l(r,n,a,s,e[o+0],7,-680876936),s=l(s,r,n,a,e[o+1],12,-389564586),a=l(a,s,r,n,e[o+2],17,606105819),n=l(n,a,s,r,e[o+3],22,-1044525330),r=l(r,n,a,s,e[o+4],7,-176418897),s=l(s,r,n,a,e[o+5],12,1200080426),a=l(a,s,r,n,e[o+6],17,-1473231341),n=l(n,a,s,r,e[o+7],22,-45705983),r=l(r,n,a,s,e[o+8],7,1770035416),s=l(s,r,n,a,e[o+9],12,-1958414417),a=l(a,s,r,n,e[o+10],17,-42063),n=l(n,a,s,r,e[o+11],22,-1990404162),r=l(r,n,a,s,e[o+12],7,1804603682),s=l(s,r,n,a,e[o+13],12,-40341101),a=l(a,s,r,n,e[o+14],17,-1502002290),r=f(r,n=l(n,a,s,r,e[o+15],22,1236535329),a,s,e[o+1],5,-165796510),s=f(s,r,n,a,e[o+6],9,-1069501632),a=f(a,s,r,n,e[o+11],14,643717713),n=f(n,a,s,r,e[o+0],20,-373897302),r=f(r,n,a,s,e[o+5],5,-701558691),s=f(s,r,n,a,e[o+10],9,38016083),a=f(a,s,r,n,e[o+15],14,-660478335),n=f(n,a,s,r,e[o+4],20,-405537848),r=f(r,n,a,s,e[o+9],5,568446438),s=f(s,r,n,a,e[o+14],9,-1019803690),a=f(a,s,r,n,e[o+3],14,-187363961),n=f(n,a,s,r,e[o+8],20,1163531501),r=f(r,n,a,s,e[o+13],5,-1444681467),s=f(s,r,n,a,e[o+2],9,-51403784),a=f(a,s,r,n,e[o+7],14,1735328473),r=h(r,n=f(n,a,s,r,e[o+12],20,-1926607734),a,s,e[o+5],4,-378558),s=h(s,r,n,a,e[o+8],11,-2022574463),a=h(a,s,r,n,e[o+11],16,1839030562),n=h(n,a,s,r,e[o+14],23,-35309556),r=h(r,n,a,s,e[o+1],4,-1530992060),s=h(s,r,n,a,e[o+4],11,1272893353),a=h(a,s,r,n,e[o+7],16,-155497632),n=h(n,a,s,r,e[o+10],23,-1094730640),r=h(r,n,a,s,e[o+13],4,681279174),s=h(s,r,n,a,e[o+0],11,-358537222),a=h(a,s,r,n,e[o+3],16,-722521979),n=h(n,a,s,r,e[o+6],23,76029189),r=h(r,n,a,s,e[o+9],4,-640364487),s=h(s,r,n,a,e[o+12],11,-421815835),a=h(a,s,r,n,e[o+15],16,530742520),r=d(r,n=h(n,a,s,r,e[o+2],23,-995338651),a,s,e[o+0],6,-198630844),s=d(s,r,n,a,e[o+7],10,1126891415),a=d(a,s,r,n,e[o+14],15,-1416354905),n=d(n,a,s,r,e[o+5],21,-57434055),r=d(r,n,a,s,e[o+12],6,1700485571),s=d(s,r,n,a,e[o+3],10,-1894986606),a=d(a,s,r,n,e[o+10],15,-1051523),n=d(n,a,s,r,e[o+1],21,-2054922799),r=d(r,n,a,s,e[o+8],6,1873313359),s=d(s,r,n,a,e[o+15],10,-30611744),a=d(a,s,r,n,e[o+6],15,-1560198380),n=d(n,a,s,r,e[o+13],21,1309151649),r=d(r,n,a,s,e[o+4],6,-145523070),s=d(s,r,n,a,e[o+11],10,-1120210379),a=d(a,s,r,n,e[o+2],15,718787259),n=d(n,a,s,r,e[o+9],21,-343485551),r=i(r,u),n=i(n,c),a=i(a,b),s=i(s,p)}return[r,n,a,s]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Hex,r=t||n.Base64,i=b(a(e),8*e.length);switch(r){case n.Raw:return i;case n.Hex:return o(i);case n.String:return s(i);case n.Base64:return u(i)}}}}]);
//# sourceMappingURL=4.3d3d86ec.chunk.js.map