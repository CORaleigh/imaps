/*! For license information please see 77.fb011c61.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[77,26,34,163],{106:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return y})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return g})),r.d(t,"l",(function(){return v})),r.d(t,"m",(function(){return s}));r(90);var i=r(162),n=r(92);function o(e,t,r,i,n){const o=e.watch(t,((t,n,o,s)=>{r&&!r(t)||null==i||i.call(e,t,n,o,s)}),n);if(Array.isArray(t))for(const s of t){const n=e.get(s);r&&r(n)&&(null==i||i.call(e,n,n,t,e))}else{const n=e.get(t);r&&r(n)&&(null==i||i.call(e,n,n,t,e))}return o}function s(e,t,r,i,s){const a="function"==typeof i?i:null,l="object"==typeof i?i:null;"boolean"==typeof i&&(s=i);let c,u=!1;function d(){c&&(c.remove(),c=null)}const p=Object(n.f)();Object(n.p)(l,(()=>{d(),p.reject(Object(n.e)())}));const h={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:d};return Object.freeze(h),c=o(e,t,r,((t,r,i,n)=>{u=!0,d(),a&&a.call(e,t,r,i,n),p.resolve({value:t,oldValue:r,propertyName:i,target:n})}),s),u&&d(),h}function a(e){return!!e}function l(e){return!e}function c(e){return!0===e}function u(e){return!1===e}const d=/\?(\.|$)/g;function p(e,t,r,i){const n=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=h(e,t,r,i);for(const s of n){const t=s.trim().replace(d,"$1"),i=e.get(t);r.call(e,i,i,t,e)}return o}function h(e,t,r,i){return e.watch(t,r,i)}function f(e,t,r,i){return o(e,t,a,r,i)}function b(e,t,r,i){return s(e,t,a,r,i)}function m(e,t,r,i){return o(e,t,l,r,i)}function y(e,t,r,i){return s(e,t,l,r,i)}function g(e,t,r,i){return o(e,t,c,r,i)}function v(e,t,r,i){return s(e,t,c,r,i)}function O(e,t,r,i){return o(e,t,u,r,i)}function j(e,t,r,i){return s(e,t,u,r,i)}function w(e,t,r,i){let n=!1;const o=e.watch(t,((t,i,o,s)=>{n||r.call(e,t,i,o,s)}),i);return{remove(){o.remove()},pause(){n=!0},resume(){n=!1}}}function _(e,t,r,n,o,s,a){const l={};function c(t){const i=l[t];i&&(s&&s(i.target,t,e,r),i.handle.remove(),delete l[t])}const u=p(e,t,((t,s,a)=>{c(a),Object(i.b)(t)&&(l[a]={handle:Object(i.c)(t,r,n),target:t},o&&o(t,a,e,r))}),a);return{remove(){u.remove();for(const e in l)c(e)}}}},1102:function(e,t,r){},112:function(e,t,r){"use strict";r.d(t,"a",(function(){return Oe})),r.d(t,"b",(function(){return Se})),r.d(t,"c",(function(){return we})),r.d(t,"d",(function(){return Ae})),r.d(t,"e",(function(){return ke})),r.d(t,"f",(function(){return je})),r.d(t,"g",(function(){return Te})),r.d(t,"h",(function(){return Ie})),r.d(t,"i",(function(){return _e}));r(79);var i=r(80),n=r(312);var o,s,a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,d=c.call(Object),p=l.toString,h=(o=Object.getPrototypeOf,s=Object,function(e){return o(s(e))});var f=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=p.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e))return!1;var t=h(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d};function b(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},r.exports),r.exports}function m(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var y=/javascript\s*\:/gim;var g={whiteList:m(),getDefaultWhiteList:m,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return y.test(t)?"":t}},v=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},O=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var j=function(e,t){";"!==(e=O(e))[e.length-1]&&(e+=";");var r=e.length,i=!1,n=0,o=0,s="";function a(){if(!i){var r=v(e.slice(n,o)),a=r.indexOf(":");if(-1!==a){var l=v(r.slice(0,a)),c=v(r.slice(a+1));if(l){var u=t(n,s.length,l,c,r);u&&(s+=u+"; ")}}}n=o+1}for(;o<r;o++){var l=e[o];if("/"===l&&"*"===e[o+1]){var c=e.indexOf("*/",o+2);if(-1===c)break;n=(o=c+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||a():"\n"===l&&a()}return v(s)};function w(e){return void 0===e||null===e}function _(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||g.whiteList,e.onAttr=e.onAttr||g.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||g.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||g.safeAttrValue,this.options=e}_.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,n=t.onIgnoreAttr,o=t.safeAttrValue;return j(e,(function(e,t,s,a,l){var c=r[s],u=!1;if(!0===c?u=c:"function"===typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=o(s,a)){var d,p={position:t,sourcePosition:e,source:l,isWhite:u};return u?w(d=i(s,a,p))?s+":"+a:d:w(d=n(s,a,p))?void 0:d}}))};var S=_,x=b((function(e,t){for(var r in(t=e.exports=function(e,t){return new S(t).process(e)}).FilterCSS=S,g)t[r]=g[r]})),E=function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},I=function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},T=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},A=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},k=x.FilterCSS,C=x.getDefaultWhiteList;function F(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var L=new k;function P(e){return e.replace(N,"&lt;").replace(D,"&gt;")}var N=/</g,D=/>/g,M=/"/g,V=/&quot;/g,R=/&#([a-zA-Z0-9]*);?/gim,U=/&colon;?/gim,z=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,q=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,$=/u\s*r\s*l\s*\(.*/gi;function H(e){return e.replace(M,"&quot;")}function G(e){return e.replace(V,'"')}function W(e){return e.replace(R,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Y(e){return e.replace(U,":").replace(z," ")}function J(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return T(t)}function X(e){return e=J(e=Y(e=W(e=G(e))))}function K(e){return e=P(e=H(e))}var Q=/<!--[\s\S]*?-->/g;var Z={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:F,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:function(e,t,r,i){if(r=X(r),"href"===t||"src"===t){if("#"===(r=T(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(r))return""}else if("style"===t){if(q.lastIndex=0,q.test(r))return"";if($.lastIndex=0,$.test(r)&&(B.lastIndex=0,B.test(r)))return"";!1!==i&&(r=(i=i||L).process(r))}return r=K(r)},escapeHtml:P,escapeQuote:H,unescapeQuote:G,escapeHtmlEntities:W,escapeDangerHtml5Entities:Y,clearNonPrintableCharacter:J,friendlyAttrValue:X,escapeAttrValue:K,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(o,s,a){if(function(t){return!!r||-1!==E(e,t)}(o)){if(a.isClosing){var l="[/removed]",c=a.position+l.length;return i.push([!1!==n?n:a.position,c]),n=!1,l}return n||(n=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",r=0;return I(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},stripCommentTag:function(e){return e.replace(Q,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:L,getDefaultCSSWhiteList:C};function ee(e){var t=A(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=T(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function te(e){return"</"===e.slice(0,2)}var re=/[^a-zA-Z0-9_:\.\-]/gim;function ie(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ne(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function oe(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var se={parseTag:function(e,t,r){var i="",n=0,o=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===o){if("<"===d){o=a;continue}}else if(!1===s){if("<"===d){i+=r(e.slice(n,a)),o=a,n=a;continue}if(">"===d){i+=r(e.slice(n,o)),c=ee(u=e.slice(o,a+1)),i+=t(o,i.length,c,u,te(u)),n=a+1,o=!1;continue}if('"'===d||"'"===d)for(var p=1,h=e.charAt(a-p);" "===h||"="===h;){if("="===h){s=d;continue e}h=e.charAt(a-++p)}}else if(d===s){s=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i},parseAttr:function(e,t){var r=0,i=[],n=!1,o=e.length;function s(e,r){if(!((e=(e=T(e)).replace(re,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var a=0;a<o;a++){var l,c=e.charAt(a);if(!1!==n||"="!==c)if(!1===n||a!==r||'"'!==c&&"'"!==c||"="!==e.charAt(a-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(l=ie(e,a))){s(T(e.slice(r,a))),n=!1,r=a+1;continue}a=l-1;continue}if(-1===(l=ne(e,a-1))){s(n,oe(T(e.slice(r,a)))),n=!1,r=a+1;continue}}else;else{if(-1===(l=e.indexOf(c,a+1)))break;s(n,T(e.slice(r+1,l))),n=!1,r=(a=l)+1}else n=e.slice(r,a),r=a+1}return r<e.length&&(!1===n?s(e.slice(r)):s(n,oe(T(e.slice(r))))),T(i.join(" "))}},ae=x.FilterCSS,le=se.parseTag,ce=se.parseAttr;function ue(e){return void 0===e||null===e}function de(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Z.onIgnoreTagStripAll),e.whiteList=e.whiteList||Z.whiteList,e.onTag=e.onTag||Z.onTag,e.onTagAttr=e.onTagAttr||Z.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Z.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Z.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Z.safeAttrValue,e.escapeHtml=e.escapeHtml||Z.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ae(e.css))}de.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,n=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Z.stripBlankChar(e)),t.allowCommentTag||(e=Z.stripCommentTag(e));var u=!1;if(t.stripIgnoreTagBody){u=Z.StripTagBody(t.stripIgnoreTagBody,n);n=u.onIgnoreTag}var d=le(e,(function(e,t,u,d,p){var h,f={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(u)};if(!ue(h=i(u,d,f)))return h;if(f.isWhite){if(f.isClosing)return"</"+u+">";var b=function(e){var t=A(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=T(e.slice(t+1,-1)))[e.length-1];return r&&(e=T(e.slice(0,-1))),{html:e,closing:r}}(d),m=r[u],y=ce(b.html,(function(e,t){var r,i=-1!==E(m,e);return ue(r=o(u,e,t,i))?i?(t=a(u,e,t,c))?e+'="'+t+'"':e:ue(r=s(u,e,t,i))?void 0:r:r}));d="<"+u;return y&&(d+=" "+y),b.closing&&(d+=" /"),d+=">"}return ue(h=n(u,d,f))?l(d):h}),l);return u&&(d=u.remove(d)),d};var pe,he,fe=de,be=b((function(e,t){function r(e,t){return new fe(t).process(e)}for(var i in(t=e.exports=r).filterXSS=r,t.FilterXSS=fe,Z)t[i]=Z[i];for(var i in se)t[i]=se[i];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),me=function(){function e(e,t){var r,i=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,n){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?i.sanitizeUrl(r):be.safeAttrValue(e,t,r,n)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new be.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?be.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,r,i){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,i):be.safeAttrValue(e,t,r,i)},e.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var i=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var o=r.validate(n,t);return o.isValid?e.concat([n]):(i=!0,e.concat([o.sanitized]))}),[]);else{if(!f(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}n=Object.keys(e).reduce((function(n,o){var s=e[o],a=r.validate(s,t);return a.isValid?n[o]=s:(i=!0,n[o]=a.sanitized),n}),{})}return i?n:e}catch(o){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ye=function(e){pe||function(e){if("WebkitTransition"in e.style)pe="webkitTransitionEnd",he="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");pe="transitionend",he="animationend"}}(e)},ge=function(e,t){return void 0===t&&(t=e+"-active"),function(r){ye(r);var i=!1,n=function(o){i||(i=!0,r.removeEventListener(pe,n),r.removeEventListener(he,n),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(pe,n),r.addEventListener(he,n),requestAnimationFrame((function(){r.classList.add(t)}))}},ve=function(e,t){return void 0===t&&(t=e+"-active"),function(r,i){ye(r);var n=!1,o=function(e){n||(n=!0,r.removeEventListener(pe,o),r.removeEventListener(he,o),i())};r.classList.add(e),r.addEventListener(pe,o),r.addEventListener(he,o),requestAnimationFrame((function(){r.classList.add(t)}))}};function Oe(e){const t=n.a.acquire();for(let i=0;i<arguments.length;i++){const e=arguments[i],r=typeof e;if("string"===r)t.push(e);else if(Array.isArray(e))t.push.apply(t,e);else if("object"===r)for(const i in e)e[i]&&t.push(i)}const r=t.join(" ");return n.a.release(t),r}function je(){return"rtl"===document.dir}function we(e){this[e.getAttribute("data-node-ref")]=null}function _e(e){this[e.getAttribute("data-node-ref")]=e}function Se(e,t){return("enter"===e?ge:ve)(t)}i.a.getLogger("esri.widgets.support.widgetUtils");const xe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),Ee=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ie=new me({whiteList:xe,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(Ee.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Te(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=r.top+r.height,o=i.top+i.height,s=r.top,a=i.top;(n>o||s<a)&&e.scrollIntoView({block:"end"})}function Ae(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function ke(){return Ae().startsWith("dark")}},113:function(e,t,r){"use strict";var i=r(81),n=r(88),o=r(84),s=r(83),a=r(95),l=r(105);let c=class extends a.a{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!l.a.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||l.a.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||l.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(n.d)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};Object(i.a)([Object(o.b)({readOnly:!0})],c.prototype,"size",null),c=Object(i.a)([Object(s.a)("esri.core.Handles")],c);var u=c;t.a=u},115:function(e,t,r){"use strict";r.d(t,"a",(function(){return q})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return E})),r.d(t,"d",(function(){return U})),r.d(t,"e",(function(){return V})),r.d(t,"f",(function(){return M})),r.d(t,"g",(function(){return N})),r.d(t,"h",(function(){return R})),r.d(t,"i",(function(){return D})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return x})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return L})),r.d(t,"n",(function(){return $})),r.d(t,"o",(function(){return _})),r.d(t,"p",(function(){return O})),r.d(t,"q",(function(){return j})),r.d(t,"r",(function(){return F})),r.d(t,"s",(function(){return A})),r.d(t,"t",(function(){return k})),r.d(t,"u",(function(){return C})),r.d(t,"v",(function(){return I})),r.d(t,"w",(function(){return T})),r.d(t,"x",(function(){return P}));r(79);var i=r(93),n=r(254),o=r(110),s=r(97),a=r(136),l=r(170);const c=39.37,u=a.a.radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,p=n.a,h=/UNIT\[([^\]]+)\]/i,f=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),b=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=function(){const e={};for(const t in g)for(const r in g[t].units)e[r]=t;return e}();const O=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],j=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function w(e){return"imperial"===e||"metric"===e}function _(e){const t=v[e];if(t)return t;throw new Error("unknown measure")}function S(e){return function(e){return g[e].baseUnit}(_(e))}function x(e,t=null){return t=t||_(e),g[t].baseUnit===e}function E(e,t,r){if(t===r)return e;const i=_(t);if(i!==_(r))throw new Error("incompatible units");const n=x(t,i)?e:function(e,t,r){return e*g[r].units[t].inBaseUnits}(e,t,i);return x(r,i)?n:function(e,t,r){return e/g[r].units[t].inBaseUnits}(n,r,i)}function I(e,t){return E(e,t,"meters")<3e3?"meters":"kilometers"}function T(e,t){return E(e,t,"meters")<1e5?"meters":"kilometers"}function A(e,t){return E(e,t,"feet")<1e3?"feet":"miles"}function k(e,t){return E(e,t,"feet")<1e5?"feet":"miles"}function C(e,t){return E(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function F(e,t){return E(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function L(e,t,r){return E(e,t,"meters")/(r*Math.PI/180)}function P(e){return b.fromJSON(e.toLowerCase())||null}function N(e){if(e&&"object"==typeof e&&!Object(o.e)(e))return 1;const t=M(e);return t>1e5?1:t}function D(e){return M(e)>=(e instanceof s.a?Object(l.e)(e).metersPerDegree:1e5)?"meters":R(e)}function M(e,t=a.a.metersPerDegree){return V(e,!0)||t}function V(e,t=!1){let r,i,n=null;if(null!=e&&("object"==typeof e?(r=e.wkid,i=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(i=e)),r){if(Object(o.k)(r))return a.b.metersPerDegree;if(Object(o.l)(r))return a.c.metersPerDegree;n=p.values[p[r]],!n&&t&&f.has(r)&&(n=u)}else if(i)if(-1!==i.search(/^PROJCS/i)){const e=d.exec(i);e&&e[1]&&(n=parseFloat(e[1].split(",")[1]))}else if(-1!==i.search(/^GEOCCS/i)){const e=h.exec(i);e&&e[1]&&(n=parseFloat(e[1].split(",")[1]))}return n}function R(e){let t,r,i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)i=p.units[p[t]];else if(r&&-1!==r.search(/^PROJCS/i)){let e=d.exec(r);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),i=e&&e[1])}return i?P(i):null}function U(e){if(!e)return null;switch(R(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}const z={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},B={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},q=Object(i.b)()(z),$=Object(i.b)()(B);Object(i.b)()({...z,...B})},116:function(e,t,r){"use strict";r.d(t,"a",(function(){return B})),r.d(t,"b",(function(){return q})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return _})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return x})),r.d(t,"i",(function(){return T})),r.d(t,"j",(function(){return Z})),r.d(t,"k",(function(){return f})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return j})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return I})),r.d(t,"q",(function(){return g})),r.d(t,"r",(function(){return A})),r.d(t,"s",(function(){return G})),r.d(t,"t",(function(){return v})),r.d(t,"u",(function(){return z})),r.d(t,"v",(function(){return R})),r.d(t,"w",(function(){return U})),r.d(t,"x",(function(){return $})),r.d(t,"y",(function(){return y})),r.d(t,"z",(function(){return H})),r.d(t,"A",(function(){return Q}));var i=r(121),n=r(88),o=r(91),s=r(146),a=r(149);const l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],c=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(d(l,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)d(c,e,t)}function d(e,t,r){if(e)for(const n of e){const e=Object(i.b)(n,t),o=e&&"function"!=typeof e&&g(r,e);o&&Object(i.c)(n,o.name,t)}}function p(e,t){if(null!=e&&null!=t)if("startField"in e){const r=g(t,e.startField),i=g(t,e.endField);e.startField=r&&r.name||null,e.endField=i&&i.name||null}else{const r=g(t,e.startTimeField),i=g(t,e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=i&&i.name||null}}const h=new Set;function f(e,t){return e&&t?(h.clear(),b(h,e,t),Array.from(h).sort()):[]}function b(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(const{name:i}of t)e.add(i);else for(const i of r)m(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)e.add(t)}}function m(e,t,r){if(t&&t.length){const i=g(t,r);i&&e.add(i.name)}else"string"==typeof r&&e.add(r)}function y(e,t){return Object(n.j)(t)||Object(n.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function g(e,t){if("string"!=typeof t)return null;if(null!=e){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}function v(e,t){if(!e||!t||"string"!=typeof t)return!1;t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return!0;return!1}async function O(e,t,r){if(!r)return;const{arcadeUtils:i}=await Object(a.e)(),n=i.extractFieldNames(r);for(const o of n)m(e,t,o)}function j({displayField:e,fields:t}){return e||(t&&t.length?w(t,"name-or-title")||w(t,"unique-identifier")||w(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function w(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function _(e,t){if(!t)return;const{fields:r}=t,n=Object(i.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,r):void 0}async function S(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&await Promise.all(r.fields.map((r=>async function(e,t,r){r.outStatistic.onStatisticValueExpression?O(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}(e,t.fields,r))))}async function x(e,t,i){if(t&&(t.timeInfo&&Object(n.k)(i)&&i.timeExtent&&b(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&b(e,t.fields,[t.floorInfo.floorField]),Object(n.k)(i)&&Object(n.k)(i.where)&&i.where&&"1=1"!==i.where)){const n=(await Promise.all([r.e(11),r.e(273)]).then(r.bind(null,269))).WhereClause.create(i.where,t.fieldsIndex);if(!n.isStandardized)throw new o.a("fieldUtils:collectFilterFields","Where clause is not standardized");b(e,t.fields,n.fieldNames)}}function E(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?f(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function I(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?f(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}async function T(e,t){const{labelingInfo:r,fields:i}=t;r&&r.length&&await Promise.all(r.map((t=>async function(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if("arcade"===i.type)await O(e,t,i.expression);else{const r=i.expression.match(/{[^}]*}/g);r&&r.forEach((r=>{m(e,t,r.slice(1,-1))}))}const o=/['"]+/g;if(n){const r=n.split(" ");3===r.length&&m(e,t,r[0].replace(o,"")),7===r.length&&(m(e,t,r[0].replace(o,"")),m(e,t,r[4].replace(o,"")))}}(e,i,t))))}function A(e){const t=e.defaultValue;return void 0!==t&&M(e,t)?t:e.nullable?null:void 0}function k(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function C(e){return null===e||k(e)}const F="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function L(e){return null===e||F(e)}function P(e){return null!=e&&"string"==typeof e}function N(e){return null===e||P(e)}function D(){return!0}function M(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?L:F;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?C:k;break;case"string":case"esriFieldTypeString":r=e.nullable?N:P;break;default:r=D}return 1===arguments.length?r:r(t)}const V=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function R(e){return null!=e&&V.has(e.type)}function U(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function z(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var B,q;function $(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function H(e,t){return e.nullable&&null===t?null:R(e)&&!function(e,t){const r="string"==typeof e?W(e):e;return!!r&&(r.isInteger?F(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?B.OUT_OF_RANGE:M(e,t)?e.domain?Object(s.e)(e.domain,t):null:q.INVALID_TYPE}function G(e){return Object(s.c)(e.domain)||(R(e)?W(e.type):void 0)}function W(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Y;case"esriFieldTypeInteger":case"integer":return J;case"esriFieldTypeSingle":case"single":return X;case"esriFieldTypeDouble":case"double":return K}}(B||(B={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(q||(q={}));const Y={min:-32768,max:32767,isInteger:!0},J={min:-2147483648,max:2147483647,isInteger:!0},X={min:-34e37,max:12e37,isInteger:!1},K={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Q(e,t,r){switch(e){case s.a.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case s.a.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case q.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case B.OUT_OF_RANGE:{const{min:e,max:i}=W(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${i}`}}}function Z(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(n.k)(r))for(const t of e)r.add(t);return!0}const i=t.attributes;let o=!1;for(const s of e)if(!(s in i)){if(o=!0,!Object(n.k)(r))break;r.add(s)}return o}(e,t,null)}},118:function(e,t,r){"use strict";var i=r(81),n=(r(79),r(80),r(87),r(84)),o=r(93),s=r(100),a=r(83),l=(r(82),r(85),r(86),r(89));const c=new o.a({inherited:"inherited",codedValue:"coded-value",range:"range"});let u=class extends l.a{constructor(e){super(e),this.name=null,this.type=null}};Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(i.a)([Object(s.a)(c)],u.prototype,"type",void 0),u=Object(i.a)([Object(a.a)("esri.layers.support.Domain")],u);var d=u;t.a=d},120:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=r(88),a=(r(80),r(87),r(84)),l=r(83),c=(r(82),r(85),r(86),r(89)),u=r(98),d=r(99),p=r(166),h=r(135),f=r(186);let b=i=class extends c.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(f.a)(),configurable:!0})}normalizeCtorArgs(e,t,r,i){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:i}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(s.k)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(s.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(s.k)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new i(this.cloneProperties())}cloneProperties(){return{attributes:Object(o.a)(this.attributes),geometry:Object(o.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(o.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(n.attributeName=i),this.layer.graphicChanged(n)}};Object(n.a)([Object(a.b)({value:null})],b.prototype,"attributes",null),Object(n.a)([Object(a.b)({value:null,types:d.a,json:{read:u.a}})],b.prototype,"geometry",null),Object(n.a)([Object(a.b)({type:Boolean})],b.prototype,"isAggregate",void 0),Object(n.a)([Object(a.b)()],b.prototype,"layer",void 0),Object(n.a)([Object(a.b)({type:p.a})],b.prototype,"popupTemplate",void 0),Object(n.a)([Object(a.b)()],b.prototype,"sourceLayer",void 0),Object(n.a)([Object(a.b)({value:null,types:h.e})],b.prototype,"symbol",null),Object(n.a)([Object(a.b)({type:Boolean,value:!0})],b.prototype,"visible",null),b=i=Object(n.a)([Object(l.a)("esri.Graphic")],b),(b||(b={})).generateUID=f.a;var m=b;t.a=m},121:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var i=r(90);function n(e,t,r=!1){return l(e,t,r)}function o(e,t){if(null!=t)return t[e]||a(e.split("."),!1,t)}function s(e,t,r){const i=e.split("."),n=i.pop(),o=a(i,!0,r);o&&n&&(o[n]=t)}function a(e,t,r){let i=r;for(const n of e){if(null==i)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function l(e,t,r){return t?Object.keys(t).reduce((function(e,n){let o=e[n],s=t[n];return o===s?e:void 0===o?(e[n]=Object(i.a)(s),e):(Array.isArray(s)||Array.isArray(e)?(o=o?Array.isArray(o)?e[n]=o.concat():e[n]=[o]:e[n]=[],s&&(Array.isArray(s)||(s=[s]),r?s.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})):e[n]=s.concat())):s&&"object"==typeof s?e[n]=l(o,s,r):e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=s),e)}),e||{}):e}},1227:function(e,t,r){"use strict";r.r(t),r.d(t,"Layers",(function(){return At}));var i=r(0),n=r(81),o=r(79),s=r(80),a=r(84),l=r(142),c=r(114),u=r(285),d=r(83),p=(r(82),r(85),r(86),r(162)),h=r(105),f=r(113),b=r(106),m=(r(112),r(258)),y=r(160),g=r(298),v=r(126),O=r(151);const j="hide",w="hide-children";function _(e){if(e)return null!=e.listMode?e.listMode:void 0}function S(e){if(e)return e.listMode===w||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function x(e,t){e&&e.sort(((e,r)=>{const i=t.indexOf(e.uid),n=t.indexOf(r.uid);return i>n?-1:i<n?1:0}))}function E(e){const t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function I(e,t){var r;const i=null==(r=e.layer)?void 0:r.uid;return i&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===i}))}var T,A=r(95),k=r(263),C=r(622),F=r(563),L=r(674),P=r(164),N=r(610);r(87);let D=T=class extends C.a{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new T({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};Object(n.a)([Object(a.b)()],D.prototype,"displayValueEnabled",void 0),Object(n.a)([Object(a.b)()],D.prototype,"max",void 0),Object(n.a)([Object(a.b)()],D.prototype,"min",void 0),Object(n.a)([Object(a.b)()],D.prototype,"step",void 0),Object(n.a)([Object(a.b)()],D.prototype,"value",void 0),D=T=Object(n.a)([Object(d.a)("esri.support.Action.ActionSlider")],D);var M=D,V=r(386);const R="esri-layer-list-panel",U="esri-layer-list-panel__content",z="esri-layer-list-panel__content--legend",B="esri-layer-list-panel__content--string",q="esri-layer-list-panel__content--html-element",$="esri-layer-list-panel__content--widget";let H=class extends(Object(k.a)(O.a)){constructor(e,t){super(e,t),this._legend=null,this._handles=new f.a,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([Object(b.a)(this,"content",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return Object(v.a)("div",{class:R},this._renderContents())}_renderContent(e){const{_legend:t,listItem:r}=this;return e?"legend"===e?r&&r.view&&r.layer&&t?Object(v.a)("div",{class:this.classes(U,z),key:t},t.render()):null:"string"==typeof e?Object(v.a)("div",{class:this.classes(U,B),key:e,innerHTML:e}):Object(V.b)(e)?Object(v.a)("div",{class:this.classes(U,$),key:e},e.render()):e instanceof HTMLElement?Object(v.a)("div",{class:this.classes(U,q),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:r}=e;return t&&r?{view:r,layerInfos:[{layer:t,title:""}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([r.e(27),r.e(108)]).then(r.bind(null,1087)).then((({default:e})=>{const{_handles:t,listItem:r}=this,i=new e(this._getLegendOptions(r));this._legend=i,this.notifyChange("className"),this.notifyChange("title");const n=Object(b.a)(this,["listItem.view","listItem.layer"],(()=>this._updateLegend(i)));t.add(n,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:r,view:i}=t;e.view=i,e.layerInfos=[{layer:r,title:null}],this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:Object(V.b)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const r=this._getWidget(e);return r&&(t=r),!!r})),t}return this._getWidget(e)}};Object(n.a)([Object(a.b)()],H.prototype,"className",null),Object(n.a)([Object(a.b)()],H.prototype,"content",void 0),Object(n.a)([Object(a.b)()],H.prototype,"image",void 0),Object(n.a)([Object(a.b)()],H.prototype,"listItem",void 0),Object(n.a)([Object(a.b)()],H.prototype,"title",null),Object(n.a)([Object(a.b)()],H.prototype,"open",void 0),Object(n.a)([Object(a.b)()],H.prototype,"visible",void 0),H=Object(n.a)([Object(d.a)("esri.widgets.LayerList.ListItemPanel")],H);var G,W=H;const Y=h.a.ofType({key:"type",defaultKeyValue:"button",base:C.a,typeMap:{button:F.a,toggle:L.a,slider:M}}),J=h.a.ofType(Y),X="layer",K="child-list-mode";let Q=G=class extends(Object(k.a)(Object(P.b)(A.a))){constructor(e){super(e),this.actionsSections=new J,this.actionsOpen=!1,this.children=new(h.a.ofType(G)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([Object(b.a)(this,"layer",(e=>this._watchLayerProperties(e))),Object(b.a)(this,"view",(e=>this._updateChildren(e))),Object(b.a)(this,"panel",(e=>this._setListItemOnPanel(e))),Object(b.a)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new W(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!function(e,t){if(!e||isNaN(t))return!1;const r=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),i=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),n=!isNaN(r)&&r>0&&t>r,o=!isNaN(i)&&i>0&&t<i;return n||o}(this.layer,this.get("view.scale"))}get visibilityMode(){return function(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const r=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof r?r?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}clone(){return new G({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(K),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(Object(b.d)(t,"listMode",(()=>this._addChildren(e))),K)}));const t=[];e.filter((e=>"hide"!==_(e))).forEach((e=>{if(_(e)!==j){const r=new G({layer:e,parent:this,view:this.view});t.unshift(r)}})),this.children.addMany(t)}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),X)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(X),this.handles.remove(K),!e)return;if(this.handles.add(Object(b.d)(e,"listMode",(()=>this._watchLayerProperties(e))),X),"hide-children"===_(e))return void this.children.removeAll();const t=S(e);t&&this.handles.add(Object(b.a)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),X)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const r=await t.whenLayerView(e);if(r.layer!==this.layer)return;this._set("layerView",r)}catch{}}_isLayerUpdating(e){return!(e instanceof N.a)&&e&&"loading"===e.loadStatus}};Object(n.a)([Object(a.b)({type:J})],Q.prototype,"actionsSections",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"actionsOpen",void 0),Object(n.a)([Object(a.b)({type:h.a})],Q.prototype,"children",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"childrenSortable",void 0),Object(n.a)([Object(l.a)("layer.loadError?")],Q.prototype,"error",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"layer",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],Q.prototype,"layerView",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"open",void 0),Object(n.a)([Object(a.b)({type:W})],Q.prototype,"panel",void 0),Object(n.a)([Object(c.a)("panel")],Q.prototype,"castPanel",null),Object(n.a)([Object(a.b)()],Q.prototype,"parent",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"sortable",void 0),Object(n.a)([Object(a.b)()],Q.prototype,"title",null),Object(n.a)([Object(a.b)({readOnly:!0})],Q.prototype,"updating",null),Object(n.a)([Object(a.b)({value:null})],Q.prototype,"view",void 0),Object(n.a)([Object(l.a)("layer.visible")],Q.prototype,"visible",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],Q.prototype,"visibleAtCurrentScale",null),Object(n.a)([Object(a.b)({readOnly:!0})],Q.prototype,"visibilityMode",null),Q=G=Object(n.a)([Object(d.a)("esri.widgets.LayerList.ListItem")],Q);var Z=Q,ee=r(951),te=r(128);const re="view",ie="view-layers",ne="map-layers",oe="layer-views",se="layer-list-mode",ae=h.a.ofType(Z);let le=class extends te.a.EventedAccessor{constructor(e){super(e),this._handles=new f.a,this.listItemCreatedFunction=null,this.operationalItems=new ae,this.view=null}initialize(){this._handles.add(Object(b.a)(this,["view","view.ready"],(()=>this._viewHandles())),re)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,r,i){var n,o;const s=null==e?void 0:e.layer;if(!s)return;const a=null==(n=this.view)||null==(o=n.map)?void 0:o.layers,l=t?E(t):a,c=r?E(r):a;if(!l||!c)return;const{operationalItems:u}=this,d=(null==t?void 0:t.children)||u,p=(null==r?void 0:r.children)||u,h=c.length-i;e.parent=r||null,d.includes(e)&&d.remove(e),l.includes(s)&&l.remove(s),p.includes(e)||p.add(e,h),c.includes(s)||c.add(s,h)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(oe),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),oe)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(ne),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),ne)}_watchItemProperties(e){this._handles.add([e.children.on("change",(()=>{this._modifyListItemChildren(e.children)}))],`children-change-${e.uid}`)}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if("function"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){const{view:t}=this,r=new Z({layer:e,view:t});return this._watchItemProperties(r),r}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==_(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(se),e&&e.forEach((e=>{t.add(Object(b.d)(e,"listMode",(()=>this._compileList())),se)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){const{_handles:t,operationalItems:r}=this,i=[];r.forEach((r=>{r&&e&&e.find((e=>r.layer===e))?this._modifyListItem(r):(t.remove(`children-change-${r.uid}`),i.push(r))})),r.removeMany(i)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,r)=>{const i=e.indexOf(t.layer),n=e.indexOf(r.layer);return i>n?-1:i<n?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([ne,oe,ie]),this._compileList(),t&&t.ready&&e.add([Object(b.a)(this,"view.map.allLayers",(e=>this._createMapLayerHandles(e))),Object(b.a)(this,"view.allLayerViews",(e=>this._createLayerViewHandles(e))),Object(b.a)(this,"listItemCreatedFunction",(()=>this._compileList()))],ie)}};Object(n.a)([Object(a.b)()],le.prototype,"listItemCreatedFunction",void 0),Object(n.a)([Object(a.b)({type:ae})],le.prototype,"operationalItems",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],le.prototype,"state",null),Object(n.a)([Object(a.b)()],le.prototype,"view",void 0),le=Object(n.a)([Object(d.a)("esri.widgets.LayerList.LayerListViewModel")],le);var ce=le;function ue(e,t,r){e.splice(r,0,e.splice(t,1)[0])}const de=h.a.ofType(Z),pe="data-sort-filter",he="data-layer-uid",fe="esri-layer-list esri-widget esri-widget--panel",be="esri-layer-list--new-ui",me="esri-layer-list__no-items",ye="esri-layer-list__list",ge="esri-layer-list__list--root",ve="esri-layer-list__list--exclusive",Oe="esri-layer-list__list--inherited",je="esri-layer-list__list--independent",we="esri-layer-list__item",_e="esri-layer-list__item--error",Se="esri-layer-list__item--invisible",xe="esri-layer-list__item--invisible-at-scale",Ee="esri-layer-list__item--updating",Ie="esri-layer-list__item--has-children",Te="esri-layer-list__item--selectable",Ae="esri-layer-list__item-container",ke="esri-layer-list__item-actions-menu",Ce="esri-layer-list__item-actions-menu-item",Fe="esri-layer-list__item-actions-menu-item--active",Le="esri-layer-list__item-actions",Pe="esri-layer-list__item-actions-list",Ne="esri-layer-list__item-action",De="esri-layer-list__item-action-icon",Me="esri-layer-list__item-action-image",Ve="esri-layer-list__item-action-title",Re="esri-layer-list__action-toggle",Ue="esri-layer-list__action-toggle--on",ze="esri-layer-list__item-label",Be="esri-layer-list__item-error-message",qe="esri-layer-list__item-title",$e="esri-layer-list__item-toggle",He="esri-layer-list__item-toggle-icon",Ge="esri-layer-list__item-toggle-icon",We="esri-layer-list__item-radio-icon",Ye="esri-layer-list__child-toggle",Je="esri-layer-list__child-toggle--open",Xe="esri-layer-list__child-toggle-icon--opened",Ke="esri-layer-list__child-toggle-icon--closed",Qe="esri-layer-list__child-toggle-icon--closed-rtl",Ze="esri-layer-list--chosen",et="esri-disabled",tt="esri-disabled-element",rt="esri-hidden",it="esri-rotating",nt="esri-icon-handle-horizontal",ot="esri-icon-visible",st="esri-icon-non-visible",at="esri-icon-radio-checked",lt="esri-icon-radio-unchecked",ct="esri-icon-notice-triangle",ut="esri-icon-down-arrow",dt="esri-icon-right-triangle-arrow",pt="esri-icon-left-triangle-arrow",ht="esri-icon-loading-indicator",ft="esri-icon-default-action",bt="esri-icon-layers",mt="actions",yt="action-section",gt="items",vt={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function Ot(e){const{actionsOpen:t,children:r}=e;t&&(e.actionsOpen=!1),r.forEach((e=>Ot(e)))}const jt="root",wt=s.a.getLogger("esri.widgets.LayerList"),_t={statusIndicators:!0};let St=class extends O.a{constructor(e,t){super(e,t),this._handles=new f.a,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=Object(o.a)("esri-layerlist-new-ui"),this.visibleItems=null,this.iconClass=bt,this.label=void 0,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new de,this.view=null,this.viewModel=new ce,this.visibleElements={..._t},this._onSortableSort=({to:e,from:t,item:r,newIndex:i})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:r,newIndex:i}))},this._sortableCanPut=(e,t,r)=>{var i,n;const o=e.el.dataset.group,s=t.el.dataset.group,a=e.el["data-item"],l=r["data-item"],c=null==l||null==(i=l.layer)?void 0:i.type,u=null==a||null==(n=a.layer)?void 0:n.type;return o&&s&&c&&!("group"===u&&"group"===c)},this._sortableCanPull=(e,t,r)=>{var i;const n=e.el.dataset.group,o=t.el.dataset.group,s=r["data-item"],a=null==s||null==(i=s.layer)?void 0:i.type;return n&&o&&!!a},this._onSortableEnd=({oldIndex:e,from:t,to:r,item:i})=>{t!==r&&t.insertBefore(i,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(Object(b.b)(this,"operationalItems","change",(()=>this._itemsChanged(e))),Object(b.a)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){Object(u.c)(wt,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements={...this.visibleElements,statusIndicators:e}}castVisibleElements(e){return{..._t,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:r}=this,i=null==(e=this.viewModel)?void 0:e.state,n={[be]:r,[rt]:"loading"===i,[et]:"disabled"===i};return Object(v.a)("div",{class:this.classes(fe,n)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return Object(v.a)("div",{class:me},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:r}=this;return Object(v.a)("ul",{"aria-label":r.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":jt,bind:this,class:this.classes(ye,ge,je)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messages:r}=this,i={[Fe]:e.actionsOpen},n=e.actionsOpen?r.closeActions:r.openActions;return Object(v.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(Ce,i),tabindex:"0",role:"button","aria-controls":t,"aria-label":n,title:n},Object(v.a)("span",{"aria-hidden":"true",class:nt}))}renderActionsMenu(e,t,r,i){const{panel:n}=e,o=n&&n.visible?this.renderPanelButton(n):null,s=1===r&&this._getSingleActionButton(t),a=s?this.renderAction({item:e,action:s,singleAction:!0}):null,l=!s&&r?this.renderActionsMenuIcon(e,i):null;return l||o||s?Object(v.a)("div",{key:"actions-menu",class:ke},o,a,l):null}renderChildList(e,t){var r;const{selectionEnabled:i}=this,{visibilityMode:n,children:o}=e,s=!!e.error,a=!!o.length&&!s,l=!a&&i&&"group"===(null==(r=e.layer)?void 0:r.type),{exclusive:c,inherited:u}=vt,d={[ve]:n===c,[Oe]:n===u,[je]:n!==u&&n!==c};return a||l?Object(v.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(ye,d),"aria-expanded":e.open?"true":"false",role:i?"listbox":n===c?"radiogroup":"group",hidden:!e.open&&!l||null},null==o?void 0:o.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:r}=this,{children:i}=e,n=!!e.error,o=!!i.length&&!n,s={[Je]:e.open},a=e.open?r.collapse:r.expand;return o?Object(v.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(Ye,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(v.a)("span",{"aria-hidden":"true",class:this.classes(Ke,dt)}),Object(v.a)("span",{"aria-hidden":"true",class:this.classes(Xe,ut)}),Object(v.a)("span",{"aria-hidden":"true",class:this.classes(Qe,pt)})):null}renderError(e){return e.error?Object(v.a)("div",{key:"esri-layer-list__error",class:Be,role:"alert"},Object(v.a)("span",null,this.messages.layerError)):null}renderItemContent(e,t,r){const{id:i}=this,n=`${i}_${e.uid}`,o=`${n}_actions`,s=`${n}__list`,{panel:a}=e,l=this._filterActions(e.actionsSections),c=this._countActions(l);return[Object(v.a)("div",{key:"list-item-container",class:Ae},this.renderChildrenToggle(e,s),this.renderLabel(e,t,r),this.renderActionsMenu(e,l,c,o)),this.renderError(e),c?this.renderActionsSections(e,l,o):null,a&&a.open?a.render():null,this.renderChildList(e,s)]}renderItem(e,t){const{_newUI:r,id:i,selectionEnabled:n,selectedItems:o,visibleElements:s}=this,{children:a}=e,l=`${i}_${e.uid}__title`,c=!!e.error,u=!!a.length&&!c,d={[Ie]:u,[_e]:!!c,[Ee]:e.updating&&!t&&s.statusIndicators,[Se]:r&&!e.visible,[xe]:!e.visibleAtCurrentScale,[Te]:n};if(n){var p;const r={[he]:null==(p=e.layer)?void 0:p.uid,[pe]:(!e.sortable).toString()};return Object(v.a)("li",Object.assign({key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(we,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:jt,tabIndex:0,"aria-selected":I(e,o)?"true":"false",role:"option"},r),this.renderItemContent(e,t,l))}return Object(v.a)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(we,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}renderItemTitle(e,t){const{messages:r}=this,i=e.title||r.untitledLayer,n=e.visibleAtCurrentScale?i:`${i} (${r.layerInvisibleAtScale})`;return Object(v.a)("span",{key:"layer-title-container",id:t,title:n,"aria-label":n,class:qe},i)}renderItemToggleIcon(e,t){const{_newUI:r}=this,{exclusive:i}=vt,n=t&&t.visibilityMode,o={[He]:r,[Ge]:r&&n!==i,[We]:r&&n===i,[at]:n===i&&e.visible,[lt]:n===i&&!e.visible,[ot]:n!==i&&e.visible,[st]:n!==i&&!e.visible};return Object(v.a)("span",{key:"item-toggle-icon",class:this.classes(o),"aria-hidden":"true"})}renderItemToggle(e,t,r){const{selectionEnabled:i}=this,{exclusive:n}=vt,o=t&&t.visibilityMode,s=o===n?"radio":"switch";return Object(v.a)("span",i?{key:"item-toggle-selection-enabled",class:$e,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":o,tabIndex:0,"aria-checked":e.visible?"true":"false",role:s,"aria-labelledby":r}:{key:"item-toggle",class:$e},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?Object(v.a)("span",{key:"notice-triangle","aria-hidden":"true",class:ct}):null}renderLabel(e,t,r){const{selectionEnabled:i,_newUI:n}=this,{inherited:o,exclusive:s}=vt,a=null==t?void 0:t.visibilityMode,l=a===s?"radio":"switch",c=[this.renderItemToggle(e,t,r),this.renderItemTitle(e,r)];n&&c.reverse();const u=Object(v.a)("div",i?{key:`item-label-no-selection-${e.uid}`,class:ze}:{key:`item-label-with-selection-${e.uid}`,class:ze,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:l,"aria-labelledby":r},c);return a===o||e.error?Object(v.a)("div",{key:`item-label-container-${e.uid}`,class:ze},this.renderItemError(e),this.renderItemTitle(e,r)):u}renderPanelButton(e){const{className:t,open:r,title:i,image:n}=e,o=n||t?t:ft,s=this._getIconImageStyles(e),a={[Fe]:r},l={[Me]:!!s["background-image"]};return o&&(l[o]=!!o),Object(v.a)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(Ce,a),role:"button",tabindex:"0",title:i,"aria-label":i},Object(v.a)("span",{class:this.classes(l),styles:s}))}renderActionsSections(e,t,r){const i=t.toArray().map(((t,r)=>Object(v.a)("ul",{key:`${e}-action-section-${r}`,class:Pe},this.renderActionSection(e,t))));return Object(v.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:r,class:Le,hidden:!e.actionsOpen||null},i)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:r}=e,i=this._getIconImageStyles(e),n="button"!==e.type||e.image||r?r:ft,o={[Me]:!t&&!!i["background-image"],[ht]:t,[it]:t};return n&&!t&&(o[n]=!0),Object(v.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(De,o),styles:i})}renderActionTitle(e,t){return t?null:Object(v.a)("span",{key:"action-title",class:Ve},e)}renderAction(e){const{item:t,action:r,singleAction:i}=e,{active:n,disabled:o,title:s}=r,a={[Ce]:i&&"button"===r.type,[Ne]:n||!i&&"toggle"!==r.type,[Re]:!n&&"toggle"===r.type,[Ue]:!n&&"toggle"===r.type&&r.value,[tt]:o},l=[this.renderActionIcon(r),this.renderActionTitle(s,i)];return i?Object(v.a)("div",{bind:this,"data-item":t,"data-action":r,role:"button",key:`single-action-${r.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",title:s,"aria-label":s},l):Object(v.a)("li",{bind:this,"data-item":t,"data-action":r,key:`action-${r.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",role:"button",title:s,"aria-label":s},l)}_sortNodeRemoved(e){const{_sortableMap:t}=this,r=e.dataset.group,i=t.get(r);i&&i.destroy(),t.delete(r)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:r,newIndex:i}){const n=r["data-item"],o=e["data-item"],s=t["data-item"];this.viewModel.moveListItem(n,s,o,i)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],r=e.toArray();var i,n;t?function(e,t){const r=null==e?void 0:e.layer;if(!r)return;const i=S(r);i&&x(r.get(i),t)}(t,r):x(null==(i=this.view)||null==(n=i.map)?void 0:n.layers,r)}_toggleSorting(e,t){const{_sortableMap:r,selectionEnabled:i}=this,n=r.get(t),o=e["data-item"],s=(t===jt||o.childrenSortable&&function(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const r=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof r||r}(o))&&i;if(n)n.option("disabled",!s);else if(s){const i=ee.a.create(e,{dataIdAttr:he,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${pe}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!s,chosenClass:Ze});r.set(t,i)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:r}=this;e&&r&&(null==(t=e["data-item"].layer)?void 0:t.uid)===r&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const r=yt+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const r=mt+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(b.a)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],r):this._handles.add([Object(b.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],r):this._handles.add([Object(b.a)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],r)}_renderOnItemChanges(e){const t=e.uid,r=gt+t;this._handles.add([Object(b.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],r),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=Object(p.a)(e);if(-1===["ArrowDown","ArrowUp"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const r=e.currentTarget,i=r["data-item"],{_sortableMap:n,selectedItems:o}=this,s=r.dataset.group,a=n.get(s);if(!a)return;const l=I(i,o),c=a.toArray(),u=e.target,d=c.indexOf(u.dataset.layerUid);if(-1!==d){if("ArrowDown"===t){const e=d+1;if(e>=c.length)return;var h,f;l?(ue(c,d,e),a.sort(c),this._sortLayers(a),this._focusSortUid=null==(h=i.layer)?void 0:h.uid):(this._focusSortUid=null==(f=i.layer)?void 0:f.uid,this.scheduleRender())}if("ArrowUp"===t){const e=d-1;if(e<=-1)return;var b,m;l?(ue(c,d,e),a.sort(c),this._sortLayers(a),this._focusSortUid=null==(b=i.layer)?void 0:b.uid):(this._focusSortUid=null==(m=i.layer)?void 0:m.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:r}=t,i=!r;i&&this.operationalItems.forEach((e=>Ot(e))),t.actionsOpen=i,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,r=t["data-action"],i=t["data-item"];"toggle"===r.type&&(r.value=!r.value),this.triggerAction(r,i),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,r=t.getAttribute("data-parent-visibility"),i=t["data-item"];r===vt.exclusive&&i.visible||(i.visible=!i.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:r}=this,i=t&&(e.metaKey||e.ctrlKey),n=e.currentTarget["data-item"],o=I(n,r),{length:s}=r;if(!i)return!s||o&&1===s?void(o?null==r.remove||r.remove(o):r.add(n)):(r.removeAll(),void r.add(n));o?null==r.remove||r.remove(o):r.add(n)}};Object(n.a)([Object(a.b)()],St.prototype,"visibleItems",void 0),Object(n.a)([Object(a.b)()],St.prototype,"iconClass",void 0),Object(n.a)([Object(a.b)()],St.prototype,"errorsVisible",void 0),Object(n.a)([Object(a.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],St.prototype,"label",void 0),Object(n.a)([Object(l.a)("viewModel.listItemCreatedFunction")],St.prototype,"listItemCreatedFunction",void 0),Object(n.a)([Object(a.b)(),Object(y.a)("esri/widgets/LayerList/t9n/LayerList")],St.prototype,"messages",void 0),Object(n.a)([Object(a.b)(),Object(y.a)("esri/t9n/common")],St.prototype,"messagesCommon",void 0),Object(n.a)([Object(a.b)()],St.prototype,"multipleSelectionEnabled",void 0),Object(n.a)([Object(l.a)("viewModel.operationalItems")],St.prototype,"operationalItems",void 0),Object(n.a)([Object(a.b)()],St.prototype,"selectionEnabled",void 0),Object(n.a)([Object(a.b)()],St.prototype,"selectedItems",void 0),Object(n.a)([Object(a.b)()],St.prototype,"statusIndicatorsVisible",null),Object(n.a)([Object(l.a)("viewModel.view")],St.prototype,"view",void 0),Object(n.a)([Object(g.a)("trigger-action"),Object(a.b)({type:ce})],St.prototype,"viewModel",void 0),Object(n.a)([Object(a.b)()],St.prototype,"visibleElements",void 0),Object(n.a)([Object(c.a)("visibleElements")],St.prototype,"castVisibleElements",null),Object(n.a)([Object(l.a)("viewModel.triggerAction")],St.prototype,"triggerAction",null),Object(n.a)([Object(m.a)()],St.prototype,"_toggleActionsOpen",null),Object(n.a)([Object(m.a)()],St.prototype,"_triggerPanel",null),Object(n.a)([Object(m.a)()],St.prototype,"_triggerAction",null),Object(n.a)([Object(m.a)()],St.prototype,"_toggleVisibility",null),Object(n.a)([Object(m.a)()],St.prototype,"_toggleChildrenClick",null),Object(n.a)([Object(m.a)()],St.prototype,"_toggleSelection",null),St=Object(n.a)([Object(d.a)("esri.widgets.LayerList")],St);var xt=St;const Et=e=>{const t=e.item;if("group"!=t.layer.type&&void 0!=t.layer.type){const e=document.createElement("calcite-slider");e.setAttribute("min","0"),e.setAttribute("max","100"),e.setAttribute("step","1"),e.setAttribute("snap",""),e.setAttribute("min-label","0%"),e.setAttribute("max-label","100%"),e.setAttribute("label-handles",""),e.setAttribute("value",Math.round(100*(null===t||void 0===t?void 0:t.layer.opacity)).toString()),e.setAttribute("data",t.layer.id),e.addEventListener("calciteSliderUpdate",(e=>{var r;t.layer.opacity=Math.round(parseInt(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.getAttribute("value")))/100}),{passive:!0}),t.panel={content:[e,"legend"],open:t.layer.visible},t.layer.watch("visible",(e=>{t.panel.open=e,e&&(t.layer.parent&&"group"===t.layer.parent.type&&(t.layer.parent.visible=!0),t.layer.parent.parent&&"group"===t.layer.parent.parent.type&&(t.layer.parent.parent.visible=!0))}))}},It=(e,t)=>{e||(e=""),t.operationalItems.forEach((t=>{if("group"===t.layer.type){let f=!1;var r,i,n,o;if(t.layer.layers.forEach((t=>{t.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",f=!0):t.listMode="hide","group"===t.type&&t.layers.forEach((r=>{r.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",r.listMode="show",f=!0):r.listMode="hide"}))})),e.length)if(f){var s,a,l,c;t.open=!0,null===(s=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===s||null===(a=s.parentElement)||void 0===a||null===(l=a.parentElement)||void 0===l||null===(c=l.parentElement)||void 0===c||c.removeAttribute("hidden")}else{var u,d,p,h;t.open=!1,null===(u=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===u||null===(d=u.parentElement)||void 0===d||null===(p=d.parentElement)||void 0===p||null===(h=p.parentElement)||void 0===h||h.setAttribute("hidden","")}else t.open=!1,null===(r=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===r||null===(i=r.parentElement)||void 0===i||null===(n=i.parentElement)||void 0===n||null===(o=n.parentElement)||void 0===o||o.removeAttribute("hidden")}}))};r(1102);var Tt=r(1);const At=e=>{const t=Object(i.useRef)(null),r=Object(i.useRef)(null),n=Object(i.useRef)();return Object(i.useEffect)((()=>{console.log(e.active)}),[e.active]),Object(i.useEffect)((()=>{var i,o;const s=new xt({container:t.current,view:e.view,listItemCreatedFunction:Et,visibleElements:{statusIndicators:!0}});return n.current=s,null===(i=r.current)||void 0===i||i.addEventListener("calciteInputInput",(e=>{It(e.target.value,s)})),null===(o=r.current)||void 0===o||o.addEventListener("focusout",(e=>{It(e.target.value,s)})),()=>{var e;null===(e=r.current)||void 0===e||e.removeEventListener("calciteInputInput",(e=>{It(e.target.value,s)})),s&&s.destroy()}}),[e.view]),Object(Tt.jsxs)("div",{className:"panel",children:[Object(Tt.jsxs)("div",{className:"row sticky",children:[Object(Tt.jsx)("calcite-input",{ref:r,clearable:!0,placeholder:"Filter by layer name",scale:"m",id:"layerSearch"}),Object(Tt.jsx)("calcite-action",{icon:"viewHide",scale:"m",onClick:()=>{(e=>{null===e||void 0===e||e.operationalItems.forEach((e=>{e.visible="Property"===e.title}))})(n.current)}})]}),Object(Tt.jsx)("div",{ref:t})]})};t.default=At},126:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},n=function(e,t){for(var r=0,o=e.length;r<o;r++){var s=e[r];Array.isArray(s)?n(s,t):null!=s&&!1!==s&&(s.hasOwnProperty("vnodeSelector")||(s=i(s)),t.push(s))}},o=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(1===r.length&&"string"==typeof r[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var o=[];return n(r,o),{vnodeSelector:e,properties:t||void 0,children:o,text:void 0,domNode:null}}},129:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=r(88),a=(r(80),r(87)),l=r(84),c=r(114),u=r(93),d=r(83),p=r(94),h=(r(82),r(85),r(86),r(89)),f=r(97),b=r(111),m=r(98),y=r(99),g=r(147),v=r(167),O=r(247),j=r(243);const w=new u.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),_=new u.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let S=i=class extends h.a{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.units=null,this.where=null}static from(e){return Object(a.d)(i,e)}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const t in e){const i=e[t];Array.isArray(i)?r[t]=i.map((e=>e instanceof Date?e.getTime():e)):i instanceof Date?r[t]=i.getTime():r[t]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new i(Object(o.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(s.k)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}};S.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"aggregateIds",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{writer:(e,t)=>{null!=e&&(t.cacheHint=e)}}}})],S.prototype,"cacheHint",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"datumTransformation",void 0),Object(n.a)([Object(c.a)("datumTransformation")],S.prototype,"castDatumTransformation",null),Object(n.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],S.prototype,"distance",void 0),Object(n.a)([Object(l.b)({type:v.a,json:{write:!0}})],S.prototype,"dynamicDataSource",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),Object(n.a)([Object(l.b)({types:y.a,json:{read:m.a,write:!0}})],S.prototype,"geometry",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecision",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"groupByFieldsForStatistics",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"having",void 0),Object(n.a)([Object(l.b)({type:Date})],S.prototype,"historicMoment",void 0),Object(n.a)([Object(p.a)("historicMoment")],S.prototype,"writeHistoricMoment",null),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],S.prototype,"maxAllowableOffset",void 0),Object(n.a)([Object(l.b)({type:Number,cast:e=>e<1?1:e>i.MAX_MAX_RECORD_COUNT_FACTOR?i.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],S.prototype,"maxRecordCountFactor",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"multipatchOption",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],S.prototype,"num",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"objectIds",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"orderByFields",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"outFields",void 0),Object(n.a)([Object(l.b)({type:f.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],S.prototype,"outSpatialReference",void 0),Object(n.a)([Object(l.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(s.k)(this.outStatistics)&&this.outStatistics.length>0}}}}})],S.prototype,"outStatistics",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"parameterValues",void 0),Object(n.a)([Object(p.a)("parameterValues")],S.prototype,"writeParameterValues",null),Object(n.a)([Object(l.b)({type:b.a,json:{write:!0}})],S.prototype,"pixelSize",void 0),Object(n.a)([Object(l.b)({type:O.a,json:{write:!0}})],S.prototype,"quantizationParameters",void 0),Object(n.a)([Object(l.b)({type:[Object],json:{write:!0}})],S.prototype,"rangeValues",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],S.prototype,"relationParameter",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"resultType",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnCentroid",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnDistinctValues",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:!e})}}})],S.prototype,"returnExceededLimitFeatures",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:!0}})],S.prototype,"returnGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnQueryGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnM",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnZ",void 0),Object(n.a)([Object(l.b)({type:f.a,json:{write:!0}})],S.prototype,"sourceSpatialReference",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"spatialRel",reader:w.read},write:{target:"spatialRel",writer:w.write}}})],S.prototype,"spatialRelationship",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultOffset"}}})],S.prototype,"start",void 0),Object(n.a)([Object(p.a)("start"),Object(p.a)("num")],S.prototype,"writeStart",null),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"sqlFormat",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"text",void 0),Object(n.a)([Object(l.b)({type:g.a,json:{write:!0}})],S.prototype,"timeExtent",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:_.read,write:{writer:_.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],S.prototype,"units",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||this.start>0}}}}})],S.prototype,"where",void 0),Object(n.a)([Object(p.a)("where")],S.prototype,"writeWhere",null),S=i=Object(n.a)([Object(d.a)("esri.tasks.support.Query")],S);var x=S;t.a=x},131:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(100),l=r(83),c=(r(82),r(85),r(86),r(89));let u=i=class extends c.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new i({name:this.name,code:this.code})}};Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(n.a)([Object(s.b)({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0),u=i=Object(n.a)([Object(l.a)("esri.layers.support.CodedValue")],u);var d,p=u,h=r(118);let f=d=class extends h.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(o.a)(this.codedValues),name:this.name})}};Object(n.a)([Object(s.b)({type:[p],json:{write:!0}})],f.prototype,"codedValues",void 0),Object(n.a)([Object(a.a)({codedValue:"coded-value"})],f.prototype,"type",void 0),f=d=Object(n.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],f);var b=f;t.a=b},133:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(80),r(87),r(84),r(100)),s=r(83),a=(r(82),r(85),r(86),r(118));let l=i=class extends a.a{constructor(e){super(e),this.type="inherited"}clone(){return new i}};Object(n.a)([Object(o.a)({inherited:"inherited"})],l.prototype,"type",void 0),l=i=Object(n.a)([Object(s.a)("esri.layers.support.InheritedDomain")],l);var c=l;t.a=c},134:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(80),r(87),r(84)),s=r(100),a=r(83),l=(r(82),r(85),r(86),r(118));let c=i=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new i({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(n.a)([Object(o.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(n.a)([Object(o.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(n.a)([Object(s.a)({range:"range"})],c.prototype,"type",void 0),c=i=Object(n.a)([Object(a.a)("esri.layers.support.RangeDomain")],c);var u=c;t.a=u},137:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return c}));r(79);var i=r(93);function n(e){return e}const o={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},s=Object(i.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function a(e,t,r){const i=new Date(e.getTime());if(t&&r){const e=o[r],{getter:n,setter:s,multiplier:a}=e;i[s](i[n]()+t*a)}return i}const l={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},140:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c}));var i=r(121);const n=/\{([^\}]+)\}/g;function o(e){return null==e?"":e}function s(e,t){return e.replace(n,"object"==typeof t?(e,r)=>o(Object(i.b)(r,t)):(e,r)=>o(t(r)))}function a(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function l(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},146:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c}));r(79);var i,n,o=r(118),s=r(131),a=r(133),l=r(134);function c(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>n)return i.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return i.INVALID_CODED_VALUE}return null}(n=i||(i={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",n.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const u={key:"type",base:o.a,typeMap:{range:l.a,"coded-value":s.a,inherited:a.a}};function d(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function p(e){if(!e||!e.type)return null;switch(e.type){case"range":return l.a.fromJSON(e);case"codedValue":return s.a.fromJSON(e);case"inherited":return a.a.fromJSON(e)}return null}},147:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(80),r(87),r(84)),s=r(96),a=r(83),l=r(94),c=(r(82),r(85),r(86),r(89)),u=r(137);let d=i=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return p}static get empty(){return h}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(i.allTime)}get isEmpty(){return this.equals(i.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new i({end:this.end,start:this.start})}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=this.start?Object(u.e)(this.start,e):null,r=this.end?Object(u.c)(Object(u.e)(this.end,e),1,e):null;return new i({start:t,end:r})}intersection(e){var t,r,n,o,s,a,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const u=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,d=null!=(n=null==(o=this.end)?void 0:o.getTime())?n:1/0,p=null!=(s=null==(a=e.start)?void 0:a.getTime())?s:-1/0,h=null!=(l=null==(c=e.end)?void 0:c.getTime())?l:1/0;let f,b;if(p>=u&&p<=d?f=p:u>=p&&u<=h&&(f=u),d>=p&&d<=h?b=d:h>=u&&h<=d&&(b=h),!isNaN(f)&&!isNaN(b)){const e=new i;return e.start=f===-1/0?null:new Date(f),e.end=b===1/0?null:new Date(b),e}return i.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new i,{start:n,end:o}=this;return n&&(r.start=Object(u.c)(n,e,t)),o&&(r.end=Object(u.c)(o,e,t)),r}equals(e){if(!e)return!1;const t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,i=e.start?e.start.getTime():e.start,n=e.end?e.end.getTime():e.end;return t===i&&r===n}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return p.clone();const t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new i({start:t,end:r})}};Object(n.a)([Object(o.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(n.a)([Object(s.a)("end")],d.prototype,"readEnd",null),Object(n.a)([Object(l.a)("end")],d.prototype,"writeEnd",null),Object(n.a)([Object(o.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(n.a)([Object(o.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(n.a)([Object(o.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(n.a)([Object(s.a)("start")],d.prototype,"readStart",null),Object(n.a)([Object(l.a)("start")],d.prototype,"writeStart",null),d=i=Object(n.a)([Object(a.a)("esri.TimeExtent")],d);const p=new d,h=new d({start:void 0,end:void 0});var f=d;t.a=f},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return s}));var i=r(88),n=r(97);r(99);let o;async function s(){return o||(o=(async()=>{const e=await Promise.all([r.e(31),r.e(134)]).then(r.bind(null,380));return await e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),o}const a=(e,t,r)=>u.create(e,t,r,null,["$feature"]),l=(e,t,r)=>u.create(e,t,r,null,["$feature","$view"]),c=(e,t,r,i)=>u.create(e,t,r,i,["$feature","$view"]);class u{constructor(e,t,r,i,n,o,s,a){this.script=e,this.evaluate=n,this.fields=s,this._syntaxTree=i,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=o,this._spatialReference=a,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,r,o,a,l){const{arcade:c,Feature:d,Dictionary:p}=await s(),h=n.a.fromJSON(t),f=c.parseScript(e,l),b=a.reduce(((e,t)=>({...e,[t]:null})),{});let m=null;Object(i.k)(o)&&(m=new p(o),m.immutable=!0,b.$config=null);const y=c.scriptUsesGeometryEngine(f)&&c.enableGeometrySupport(),g=c.scriptUsesFeatureSet(f)&&c.enableFeatureSetSupport(),v=c.scriptIsAsync(f)&&c.enableAsyncSupport(),O={vars:b,spatialReference:h,useAsync:!!v},j=new p;j.immutable=!1,j.setField("scale",0);const w=c.compileScript(f,O);return await Promise.all([y,g,v]),new u(e,c,p,f,(e=>("$view"in e&&e.$view&&(j.setField("scale",e.$view.scale),e.$view=j),m&&(e.$config=m),w({vars:e,spatialReference:h}))),new d,r,h)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},151:function(e,t,r){"use strict";var i=r(81),n=(r(79),r(80)),o=r(84),s=r(114),a=r(285),l=r(83),c=(r(82),r(85)),u=(r(86),r(326)),d=r(92),p=r(432),h=r(128),f=r(145),b=r(203),m=(r(168),r(224)),y=r(113),g=r(106),v=r(382),O=r(112),j=(r(299),r(364));const w=n.a.getLogger("esri.widgets.Widget");let _=0;const S="esri-icon-checkbox-unchecked",x=Object(j.a)();let E=!1,I=class extends(Object(m.b)(h.a.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new y.a,this._projector=x,this.domNode=null,this.iconClass=S,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this._loadLocale=Object(d.i)((async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const e=await Object(d.j)(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{this[t]=await Object(b.a)(e)})));for(const t of e)t.error&&w.error("widget-intl:locale-error",this.declaredClass,t.error)}await this.loadLocale()}));const r=Object(O.d)()||"light";["light","dark"].includes(r)||Object(a.a)(w,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const i="esri-widget-uid-"+Object(c.a)(),n=this.render.bind(this);let o=!1;this._trackingTarget=new p.a((()=>this.scheduleRender()));const s=()=>{if(!o||this.destroyed)return null;const e=n();return e.properties?e.properties.key||(e.properties.key=i):e.properties={key:i},e};this.render=()=>{if(E)return s();let e;this._trackingTarget.clear(),E=!0;try{e=Object(u.b)(this._trackingTarget,s)}finally{E=!1}return e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{o=!0,this._postInitialize()})))}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return this._loadLocale().catch(d.v)}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null)}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Object(v.a)(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+_++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||this._projector.scheduleRender()}classes(...e){return O.a.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){this._projector.renderNow()}_postInitialize(){var e;this.destroyed||(this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(g.a)(this,"viewModel",((e,t)=>{t&&this._internalHandles.remove("delegated-events"),e&&this._internalHandles.add(this._delegatedEventNames.map((t=>e.on(t,(e=>{this.emit(t,e)})))),"delegated-events")}))),this.postInitialize(),this._internalHandles.add(Object(f.c)((async()=>{await this._loadLocale().catch(d.v),this.scheduleRender()}))),this._internalHandles.add(Object(g.j)(this,"container",(async e=>{this.destroyed||this._attach(e)}))))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Object(i.a)([Object(o.b)({value:null})],I.prototype,"container",null),Object(i.a)([Object(s.a)("container")],I.prototype,"castContainer",null),Object(i.a)([Object(o.b)({aliasOf:"container"})],I.prototype,"domNode",void 0),Object(i.a)([Object(o.b)()],I.prototype,"iconClass",void 0),Object(i.a)([Object(o.b)()],I.prototype,"id",null),Object(i.a)([Object(o.b)()],I.prototype,"label",void 0),Object(i.a)([Object(o.b)()],I.prototype,"renderable",null),Object(i.a)([Object(o.b)()],I.prototype,"viewModel",void 0),Object(i.a)([Object(o.b)()],I.prototype,"visible",void 0),I=Object(i.a)([Object(l.a)("esri.widgets.Widget")],I);var T=I;t.a=T},152:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(80),r(87)),s=r(84),a=r(93),l=r(100),c=r(96),u=r(83),d=(r(82),r(85),r(86),r(89)),p=r(146),h=r(234);const f=new a.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let b=i=class extends d.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch(i){}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch(i){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new i({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],b.prototype,"alias",void 0),Object(n.a)([Object(s.b)({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0),Object(n.a)([Object(s.b)()],b.prototype,"description",void 0),Object(n.a)([Object(c.a)("description")],b.prototype,"readDescription",null),Object(n.a)([Object(s.b)({types:p.d,json:{read:{reader:p.b},write:!0}})],b.prototype,"domain",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0),Object(n.a)([Object(s.b)({type:o.a,json:{write:!0}})],b.prototype,"length",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0),Object(n.a)([Object(l.a)(h.a)],b.prototype,"type",void 0),Object(n.a)([Object(s.b)()],b.prototype,"valueType",void 0),Object(n.a)([Object(c.a)("valueType",["description"])],b.prototype,"readValueType",null),b=i=Object(n.a)([Object(u.a)("esri.layers.support.Field")],b);var m=b;t.a=m},155:function(e,t,r){"use strict";(function(e){const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=r}).call(this,r(169))},156:function(e,t,r){"use strict";var i=r(155),n=(r(79),r(121));const o={apiKey:void 0,applicationUrl:i.a.location&&i.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(i.a.esriConfig&&(Object(n.a)(o,i.a.esriConfig,!0),delete o.has),!o.assetsPath){const e="4.19.0";o.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}o.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(o,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),o.request.corsEnabledServers=[],o.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=o},160:function(e,t,r){"use strict";function i(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}r.d(t,"a",(function(){return i}))},162:function(e,t,r){"use strict";function i(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function n(e,t,r){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const i=t.slice();for(const t of i)e.addEventListener(t,r);return{remove(){for(const t of i)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function o(e,t,r){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const o=n(e,t,(t=>{o.remove(),r.call(e,t)}));return{remove(){o.remove()}}}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o}));const s={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function a({key:e}){return s[e]||e}},164:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var i=r(81),n=r(84),o=r(83),s=r(95),a=r(113),l=r(294);const c=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new a.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}};return Object(i.a)([Object(n.b)({readOnly:!0})],t.prototype,"handles",null),Object(i.a)([Object(n.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(i.a)([Object(o.a)("esri.core.HandleOwner")],t),t};let u=class extends(c(s.a)){};u=Object(i.a)([Object(o.a)("esri.core.HandleOwner")],u)},167:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var i,n=r(81),o=(r(79),r(80),r(87)),s=r(84),a=r(114),l=r(93),c=r(100),u=r(96),d=r(185),p=r(83),h=(r(82),r(85),r(86),r(89)),f=r(152),b=r(259),m=r(97),y=r(180);r(99);let g=i=class extends h.a{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:r,oidFields:n,spatialReference:o,geometryType:s}=this,a={workspaceId:t,query:r,oidFields:n,spatialReference:null!=(e=null==o?void 0:o.clone())?e:void 0,geometryType:s};return new i(a)}};var v;Object(n.a)([Object(c.a)({queryTable:"query-table"})],g.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"query",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"oidFields",void 0),Object(n.a)([Object(s.b)({type:m.a,json:{write:!0}})],g.prototype,"spatialReference",void 0),Object(n.a)([Object(c.a)(y.a)],g.prototype,"geometryType",void 0),g=i=Object(n.a)([Object(p.a)("esri.layers.support.source.QueryTableDataSource")],g);let O=v=class extends h.a{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new v({workspaceId:e,dataSourceName:t})}};var j;Object(n.a)([Object(c.a)({raster:"raster"})],O.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],O.prototype,"dataSourceName",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],O.prototype,"workspaceId",void 0),O=v=Object(n.a)([Object(p.a)("esri.layers.support.source.RasterDataSource")],O);let w=j=class extends h.a{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new j({workspaceId:e,gdbVersion:t,dataSourceName:r})}};var _,S;Object(n.a)([Object(c.a)({table:"table"})],w.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"gdbVersion",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),w=j=Object(n.a)([Object(p.a)("esri.layers.support.source.TableDataSource")],w);const x=Object(l.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let E=_=class extends h.a{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return T()(e,t,r)}castLeftTableSource(e){return Object(o.k)(k(),e)}readRightTableSource(e,t,r){return T()(e,t,r)}castRightTableSource(e){return Object(o.k)(k(),e)}clone(){var e,t;const{leftTableKey:r,rightTableKey:i,leftTableSource:n,rightTableSource:o,joinType:s}=this,a={leftTableKey:r,rightTableKey:i,leftTableSource:null!=(e=null==n?void 0:n.clone())?e:void 0,rightTableSource:null!=(t=null==o?void 0:o.clone())?t:void 0,joinType:s};return new _(a)}};Object(n.a)([Object(c.a)({joinTable:"join-table"})],E.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],E.prototype,"leftTableKey",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],E.prototype,"rightTableKey",void 0),Object(n.a)([Object(s.b)({json:{write:!0}})],E.prototype,"leftTableSource",void 0),Object(n.a)([Object(u.a)("leftTableSource")],E.prototype,"readLeftTableSource",null),Object(n.a)([Object(a.a)("leftTableSource")],E.prototype,"castLeftTableSource",null),Object(n.a)([Object(s.b)({json:{write:!0}})],E.prototype,"rightTableSource",void 0),Object(n.a)([Object(u.a)("rightTableSource")],E.prototype,"readRightTableSource",null),Object(n.a)([Object(a.a)("rightTableSource")],E.prototype,"castRightTableSource",null),Object(n.a)([Object(c.a)(x)],E.prototype,"joinType",void 0),E=_=Object(n.a)([Object(p.a)("esri.layers.support.source.JoinTableDataSource")],E);let I=null;function T(){return I||(I=Object(d.b)({types:k()})),I}let A=null;function k(){return A||(A={key:"type",base:null,typeMap:{"data-layer":F,"map-layer":b.a}}),A}const C={key:"type",base:null,typeMap:{"join-table":E,"query-table":g,raster:O,table:w}};let F=S=class extends h.a{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new S({fields:e,dataSource:t})}};Object(n.a)([Object(c.a)({dataLayer:"data-layer"})],F.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:[f.a],json:{write:!0}})],F.prototype,"fields",void 0),Object(n.a)([Object(s.b)({types:C,json:{write:!0}})],F.prototype,"dataSource",void 0),F=S=Object(n.a)([Object(p.a)("esri.layers.support.source.DataLayerSource")],F),F.from=Object(o.m)(F)},169:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"===typeof window&&(r=window)}e.exports=r},170:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var i=r(110),n=r(97),o=r(136);function s(e){return new n.a({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=s(o.a),l=s(o.b),c=s(o.c),u=new n.a({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${o.a.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function d(e){return e&&(Object(i.g)(e)||e===l)?l:e&&(Object(i.h)(e)||e===c)?c:a}function p(e){return e&&(Object(i.g)(e)||e===l)?o.b:e&&(Object(i.h)(e)||e===c)?o.c:o.a}function h(e){return Object(i.k)(e)?o.b:Object(i.l)(e)?o.c:o.a}},177:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));r(79);function i(e){}function n(e){return()=>e}},183:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return O}));var i=r(81),n=r(123),o=r(83),s=r(141),a=r(95),l=r(225),c=r(88),u=r(250),d=r(90);class p{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s.a),this._values=new Map}clone(e){const t=new p,r=this._originStores[0];r&&r.forEach(((e,r)=>{t.set(r,Object(d.a)(e),0)}));for(let i=2;i<s.a;i++){const r=this._originStores[i];r&&r.forEach(((r,n)=>{e&&e.has(n)||t.set(n,Object(d.a)(r),i)}))}return t}get(e,t){const r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||Object(c.d)(this._propertyOriginMap.get(e))<=r){const i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}delete(e,t=6){const r=this._originStores[t];if(!r)return;const i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let r=t-1;r>=0;r--){const t=this._originStores[r];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,r);break}}}return i}has(e,t){const r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i}originOf(e){return this._propertyOriginMap.get(e)||0}forEach(e){this._values.forEach(e)}}var h=p;const f=e=>{let t=class extends e{constructor(...e){super(...e);const t=Object(c.d)(Object(n.a)(this)),r=t.metadatas,i=t.store,o=new h;t.store=o,i.keys().forEach((e=>{o.set(e,i.get(e),0)})),Object.keys(r).forEach((e=>{t.internalGet(e)&&o.set(e,t.internalGet(e),0)}))}read(e,t){Object(u.a)(this,e,t)}getAtOrigin(e,t){const r=b(this),i=Object(s.d)(t);if("string"==typeof e)return r.get(e,i);const n={};return e.forEach((e=>{n[e]=r.get(e,i)})),n}originOf(e){return Object(s.b)(this.originIdOf(e))}originIdOf(e){return b(this).originOf(e)}revert(e,t){const r=b(this),i=Object(s.d)(t),o=Object(n.a)(this);let a;a="string"==typeof e?"*"===e?r.keys(i):[e]:e,a.forEach((e=>{o.propertyInvalidated(e),r.revert(e,i),o.propertyCommitted(e)}))}};return t=Object(i.a)([Object(o.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function b(e){return Object(n.a)(e).store}let m=class extends(f(a.a)){};m=Object(i.a)([Object(o.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],m);const y=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return g(this).delete(e,Object(s.d)(t))}write(e={},t){return Object(l.b)(this,e=e||{},t),e}setAtOrigin(e,t,r){Object(n.a)(this).setAtOrigin(e,t,Object(s.d)(r))}removeOrigin(e){const t=g(this),r=Object(s.d)(e),i=t.keys(r);for(const n of i)t.originOf(n)===r&&t.set(n,t.get(n,r),6)}updateOrigin(e,t){const r=g(this),i=Object(s.d)(t),n=this.get(e);for(let o=i+1;o<s.a;++o)r.delete(e,o);r.set(e,n,i)}toJSON(e){return this.write({},e)}};return t=Object(i.a)([Object(o.a)("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function g(e){return Object(n.a)(e).store}const v=e=>{let t=class extends(y(f(e))){constructor(...e){super(...e)}};return t=Object(i.a)([Object(o.a)("esri.core.MultiOriginJSONSupport")],t),t};let O=class extends(v(a.a)){};O=Object(i.a)([Object(o.a)("esri.core.MultiOriginJSONSupport")],O)},186:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));let i=0;function n(){return++i}},190:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(136),n=r(115);const o={inches:Object(n.c)(1,"meters","inches"),feet:Object(n.c)(1,"meters","feet"),"us-feet":Object(n.c)(1,"meters","us-feet"),yards:Object(n.c)(1,"meters","yards"),miles:Object(n.c)(1,"meters","miles"),"nautical-miles":Object(n.c)(1,"meters","nautical-miles"),millimeters:Object(n.c)(1,"meters","millimeters"),centimeters:Object(n.c)(1,"meters","centimeters"),decimeters:Object(n.c)(1,"meters","decimeters"),meters:Object(n.c)(1,"meters","meters"),kilometers:Object(n.c)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.m)(1,"meters",i.a.radius)}},191:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(100),l=r(83),c=(r(82),r(85),r(86),r(125)),u=r(200),d=r(409);let p=i=class extends(Object(u.a)(c.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((r=>r.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new i({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(o.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"description",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"label",void 0),Object(n.a)([Object(s.b)(d.b)],p.prototype,"symbol",void 0),Object(n.a)([Object(a.a)({simple:"simple"})],p.prototype,"type",void 0),p=i=Object(n.a)([Object(l.a)("esri.renderers.SimpleRenderer")],p);var h=p;t.a=h},192:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(93),l=r(96),c=r(83),u=r(94),d=(r(82),r(85),r(86),r(89)),p=r(135),h=r(338),f=r(227);let b=i=class extends d.a{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?Object(f.a)(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=Object(f.a)(this.value)),t[r]=e}clone(){return new i({expression:this.expression,title:this.title,value:this.value})}};Object(n.a)([Object(s.b)({type:String,json:{write:{allowNull:!0}}})],b.prototype,"expression",void 0),Object(n.a)([Object(l.a)("expression",["expression","value"])],b.prototype,"readExpression",null),Object(n.a)([Object(u.a)("expression")],b.prototype,"writeExpression",null),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0),Object(n.a)([Object(s.b)({json:{read:!1,write:!1}})],b.prototype,"value",void 0),b=i=Object(n.a)([Object(c.a)("esri.layers.support.LabelExpressionInfo")],b);var m,y=b,g=r(231);const v=new a.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function O(e){return!e||"service"!==e.origin&&!j(e.layer)}function j(e){return"map-image"===(null==e?void 0:e.type)}function w(e){var t,r;return!!j(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}let _=m=class extends d.a{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=g.a,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;const i=e.split(" ");if(3===i.length)return r(t[i[0]],i[1],i[2]);if(7===i.length){const e=r(t[i[0]],i[1],i[2]),n=i[3],o=r(t[i[4]],i[5],i[6]);switch(n){case"AND":return e&&o;case"OR":return e||o}}return!1}catch(i){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(f.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=Object(f.e)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(null==e&&null!=this.labelExpression&&O(i))e=new y({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Object(f.b)(this)}getLabelExpressionArcade(){return Object(f.c)(this)}getLabelExpressionSingleField(){return Object(f.d)(this)}hash(){return JSON.stringify(this)}clone(){return new m({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(o.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(o.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],_.prototype,"name",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],_.prototype,"deconflictionStrategy",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&w(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],_.prototype,"labelExpression",void 0),Object(n.a)([Object(l.a)("labelExpression")],_.prototype,"readLabelExpression",null),Object(n.a)([Object(u.a)("labelExpression")],_.prototype,"writeLabelExpression",null),Object(n.a)([Object(s.b)({type:y,json:{write:{overridePolicy:(e,t,r)=>function(e){return O(e)||w(e.layer)}(r)?{allowNull:!0}:{enabled:!1}}}})],_.prototype,"labelExpressionInfo",void 0),Object(n.a)([Object(u.a)("labelExpressionInfo")],_.prototype,"writeLabelExpressionInfo",null),Object(n.a)([Object(s.b)({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],_.prototype,"labelPlacement",void 0),Object(n.a)([Object(s.b)({type:Number})],_.prototype,"maxScale",void 0),Object(n.a)([Object(u.a)("maxScale")],_.prototype,"writeMaxScale",null),Object(n.a)([Object(s.b)({type:Number})],_.prototype,"minScale",void 0),Object(n.a)([Object(u.a)("minScale")],_.prototype,"writeMinScale",null),Object(n.a)([Object(s.b)({types:p.g,json:{origins:{"web-scene":{types:p.h,write:h.b,default:null}},write:h.b,default:null}})],_.prototype,"symbol",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],_.prototype,"useCodedValues",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],_.prototype,"where",void 0),_=m=Object(n.a)([Object(c.a)("esri.layers.support.LabelClass")],_);var S=_;t.a=S},194:function(e,t,r){"use strict";r.r(t);var i,n=r(81),o=(r(79),r(90)),s=r(88),a=r(140),l=r(80),c=(r(87),r(84)),u=r(83),d=r(94),p=r(91),h=(r(82),r(85),r(86),r(92)),f=r(149),b=r(116),m=r(107),y=r(353),g=r(104),v=r(125),O=r(200),j=r(232);const w=l.a.getLogger("esri.renderers.DictionaryRenderer"),_={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let S=i=class extends(Object(O.a)(v.a)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new j.a(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){null!=i&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new i({config:Object(o.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(o.a)(this.fieldMap),url:Object(o.a)(this.url),visualVariables:Object(o.a)(this.visualVariables)})}async getSymbolAsync(e,t){let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{r=await this._dictionaryPromise}catch(b){if(Object(h.m)(b))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const s of this._symbolFields){const t=this.fieldMap[s];if(t&&null!==e.attributes[t]&&void 0!==e.attributes[t]){const r=""+e.attributes[t];i[s]=r}else i[s]=""}const n=r(i,t);if(!n||"string"!=typeof n)return null;const o=Object(a.b)(n).toString(),l=this._symbolCache.get(o);if(l)return l.catch((()=>{this._symbolCache.pop(o)})),l;const c=n.split(";"),u=[],d=[];for(const s of c)if(s&&0!==s.length)if(-1===s.indexOf("po:"))if(-1!==s.indexOf("|"))for(const e of s.split("|"))this._itemNames.has(e)&&u.push(e);else this._itemNames.has(s)&&u.push(s);else{const e=s.substr(3).split("|");if(3===e.length){const t=e[0],r=e[1];let i=e[2];if("DashTemplate"===r)i=i.split(" ").map((e=>Number(e)));else if("Color"===r){const e=new m.a(i).toRgba();i=[e[0],e[1],e[2],255*e[3]]}else i=Number(i);d.push({primitiveName:t,propertyName:r,value:i})}}const p=!Object(s.k)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,f=this._cimPartsToCIMSymbol(u,d,p,t);return this._symbolCache.put(o,f,1),f}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Object(b.c)(e,t,this.scaleExpression);const r=t.map((e=>e.name));for(const i in this.fieldMap)r.indexOf(this.fieldMap[i])<0||e.add(this.fieldMap[i])}get arcadeRequired(){return!0}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void w.error("no valid URL!");const t=Object(s.k)(e)?e.abortOptions:null,r=Object(g.default)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...t}),[{data:i}]=await Promise.all([r,Object(f.e)()]);if(!i)throw this._dictionaryPromise=null,new p.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,o=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=o.symbol;const a={};if(this.config){const e=this.config;for(const t in e)a[t]=e[t]}if(o.configuration)for(const s of o.configuration)a.hasOwnProperty(s.name)||(a[s.name]=s.value);const l=[];if(Object(s.k)(e)&&e.fields&&this.fieldMap)for(const s of this._symbolFields){const t=this.fieldMap[s],r=e.fields.filter((e=>e.name===t));r.length>0&&l.push({...r[0],name:s})}return this._dictionaryPromise=Object(f.b)(n,Object(s.k)(e)?e.spatialReference:null,l,a).then((e=>{const t={scale:0};return(r,i)=>{const n=e.repurposeFeature({geometry:null,attributes:r});return t.scale=Object(s.k)(i)?i.scale:void 0,e.evaluate({$feature:n,$view:t})}})).catch((e=>(w.error("Creating dictinoary expression failed:",e),null))),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(e,t){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const r=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),i=Object(g.default)(r,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,i);try{return(await i).data}catch(n){return this._ongoingRequests.delete(e),Promise.reject(n)}}_combineSymbolParts(e,t,r){if(!e||0===e.length)return null;const i={...e[0]};if(e.length>1){i.symbolLayers=[];for(const t of e){const e=t;i.symbolLayers.unshift(...e.symbolLayers)}}return r&&(i.callout=_),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}async _cimPartsToCIMSymbol(e,t,r,i){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=this._getSymbolPart(e[s],i);const o=await Promise.all(n);return new y.a({data:this._combineSymbolParts(o,t,r)})}};Object(n.a)([Object(c.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],S.prototype,"config",void 0),Object(n.a)([Object(c.b)({type:Object,json:{write:!0}})],S.prototype,"fieldMap",void 0),Object(n.a)([Object(c.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],S.prototype,"scaleExpression",void 0),Object(n.a)([Object(d.a)("scaleExpression")],S.prototype,"writeData",null),Object(n.a)([Object(c.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],S.prototype,"scaleExpressionTitle",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],S.prototype,"url",void 0),Object(n.a)([Object(d.a)("visualVariables")],S.prototype,"writeVisualVariables",null),S=i=Object(n.a)([Object(u.a)("esri.renderers.DictionaryRenderer")],S);var x=S;t.default=x},195:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(100),l=r(83),c=(r(82),r(85),r(86),r(116)),u=r(107),d=r(125),p=r(275);let h=i=class extends d.a{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new p.a({ratio:0,color:new u.a("rgba(255, 140, 0, 0)")}),new p.a({ratio:.75,color:new u.a("rgba(255, 140, 0, 1)")}),new p.a({ratio:.9,color:new u.a("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const r=this.field;r&&"string"==typeof r&&Object(c.f)(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new i({blurRadius:this.blurRadius,colorStops:Object(o.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],h.prototype,"blurRadius",void 0),Object(n.a)([Object(s.b)({type:[p.a],json:{write:!0}})],h.prototype,"colorStops",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],h.prototype,"field",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:null==r})}}})],h.prototype,"fieldOffset",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],h.prototype,"maxPixelIntensity",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],h.prototype,"minPixelIntensity",void 0),Object(n.a)([Object(a.a)({heatmap:"heatmap"})],h.prototype,"type",void 0),h=i=Object(n.a)([Object(l.a)("esri.renderers.HeatmapRenderer")],h);var f=h;t.a=f},196:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=r(80),a=r(87),l=r(84),c=r(142),u=r(100),d=r(83),p=(r(82),r(85),r(86),r(116)),h=r(107),f=r(217),b=r(208),m=r(125),y=r(200),g=r(114),v=r(89);const O=s.a.getLogger("esri.renderers.support.AttributeColorInfo");let j=i=class extends v.a{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(O.error(".field: field must be a string value"),null):Object(a.l)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new i({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};Object(n.a)([Object(l.b)({type:h.a,json:{type:[Number],write:!0}})],j.prototype,"color",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"field",void 0),Object(n.a)([Object(g.a)("field")],j.prototype,"castField",null),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"valueExpression",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"valueExpressionTitle",void 0),j=i=Object(n.a)([Object(d.a)("esri.renderers.support.AttributeColorInfo")],j);var w,_=j;let S=w=class extends v.a{constructor(){super(...arguments),this.unit=null}clone(){return new w({unit:this.unit})}};Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"unit",void 0),S=w=Object(n.a)([Object(d.a)("esri.renderers.support.DotDensityLegendOptions")],S);var x,E=S;let I=x=class extends(Object(y.a)(m.a)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new h.a([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new f.a,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new b.a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new x({attributes:Object(o.a)(this.attributes),backgroundColor:Object(o.a)(this.backgroundColor),dotBlendingEnabled:Object(o.a)(this.dotBlendingEnabled),dotShape:Object(o.a)(this.dotShape),dotSize:Object(o.a)(this.dotSize),dotValue:Object(o.a)(this.dotValue),legendOptions:Object(o.a)(this.legendOptions),outline:Object(o.a)(this.outline),referenceScale:Object(o.a)(this.referenceScale),visualVariables:Object(o.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await Object(p.c)(e,t,r.valueExpression),r.field&&e.add(r.field)}};Object(n.a)([Object(l.b)({type:[_],json:{write:!0}})],I.prototype,"attributes",void 0),Object(n.a)([Object(l.b)({type:h.a,json:{write:!0}})],I.prototype,"backgroundColor",void 0),Object(n.a)([Object(l.b)({type:Boolean}),Object(c.a)("dotBlendingEnabled")],I.prototype,"blendDots",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:!0}})],I.prototype,"dotBlendingEnabled",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!1}})],I.prototype,"dotShape",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!1}})],I.prototype,"dotSize",void 0),Object(n.a)([Object(l.b)({type:E,json:{write:!0}})],I.prototype,"legendOptions",void 0),Object(n.a)([Object(l.b)({type:f.a,json:{default:null,write:!0}})],I.prototype,"outline",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],I.prototype,"dotValue",void 0),Object(n.a)([Object(l.b)({type:Number}),Object(c.a)("dotValue")],I.prototype,"referenceDotValue",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],I.prototype,"referenceScale",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],I.prototype,"seed",void 0),Object(n.a)([Object(u.a)({dotDensity:"dot-density"})],I.prototype,"type",void 0),I=x=Object(n.a)([Object(d.a)("esri.renderers.DotDensityRenderer")],I);var T=I;t.a=T},204:function(e,t,r){"use strict";function i(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function n(e){return e.toLowerCase().trim()}t.a=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const o=n(e);this._fieldsMap.set(e,r),this._fieldsMap.set(o,r),t.push(o),i(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(n(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},210:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var i=r(173);class n{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,r,i=0){this._storage.put(this._namespace+e,t,r,i)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.a,this._users=new i.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,i){const n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemoved(e,n.entry)),r>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return void console.warn("Refusing to cache entry with invalid size "+r);const o=1+Math.max(i,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:o,lives:o}),this._size+=r,this._checkSizeLimit()}updateSize(e,t,r){const i=this._db.get(e);if(i&&i.entry===t){if(this._size-=i.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);i.size=r,this._size+=r,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,i)=>{const n=e.lifetime;r[n]=(r[n]||0)+e.size,this._users.forAll((r=>{const n=r.namespace;if(i.startsWith(n)){const r=t[n]||0;t[n]=r+e.size}}))}));const i={};this._users.forAll((e=>{const r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const n=t[r]||0;t[r]=n,i[r]=Math.round(100*e.hitRate)+"%"}else i[r]="0%"}));const n=Object.keys(t);n.forEach((e=>t[e]=t[e]/this._size*100)),n.sort(((e,r)=>t[r]-t[e])),n.forEach((r=>e[r]=Math.round(t[r])+"% / "+i[r]));for(let o=r.length-1;o>=0;--o){const t=r[o];t&&(e["Priority "+(o+-3-1)]=Math.round(t/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},211:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var i=r(125),n=r(226),o=r(228),s=r(194),a=r(196),l=r(195),c=r(191);const u={key:"type",base:i.a,typeMap:{heatmap:l.a,simple:c.a,"unique-value":o.a,"class-breaks":n.a,"dot-density":a.a,dictionary:s.default},errorContext:"renderer"},d={key:"type",base:i.a,typeMap:{simple:c.a,"unique-value":o.a,"class-breaks":n.a},errorContext:"renderer"}},227:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return d}));var i=r(140);const n="__begin__",o="__end__",s=new RegExp(n,"ig"),a=new RegExp(o,"ig"),l=new RegExp("^"+n,"i"),c=new RegExp(o+"$","i"),u='"';function d(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function p(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function h(e){const t=p(e);if(!t)return null;switch(t.type){case"conventional":return b(t.expression);case"arcade":return t.expression}return null}function f(e){const t=p(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e.match(m);return t&&t[1].trim()||null}(t.expression);case"arcade":return O(t.expression)}return null}function b(e){let t;return e?(t=Object(i.c)(e,(e=>n+'$feature["'+e+'"]'+o)),t=l.test(t)?t.replace(l,""):u+t,t=c.test(t)?t.replace(c,""):t+u,t=t.replace(s,'" + ').replace(a,' + "')):t='""',t}const m=/^\s*\{([^}]+)\}\s*$/i;const y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,v=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function O(e){if(!e)return null;let t=y.exec(e)||g.exec(e);return t?t[1]||t[3]:(t=v.exec(e),t?t[2]:null)}},230:function(e,t,r){"use strict";function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function o(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function s(e,t){const r=t||o(e),i=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return n}))},231:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return h}));r(79);var i=r(88),n=r(217),o=r(208),s=r(288),a=r(342),l=r(279);const c=s.a.fromJSON(l.a),u=n.a.fromJSON(l.c),d=o.a.fromJSON(l.b),p=a.a.fromJSON(l.d);function h(e){if(Object(i.j)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return d}return null}const f=s.a.fromJSON(l.e),b=n.a.fromJSON(l.g),m=o.a.fromJSON(l.f)},232:function(e,t,r){"use strict";var i=r(210);t.a=class{constructor(e,t){this._storage=new i.b,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,r){this._storage.put(e,t,r,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},234:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const i=new(r(93).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},241:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return l}));r(79);var i=r(121),n=r(172),o=r(185),s=r(91),a=r(211);function l(e,t,r,n){const o=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new s.a("renderer:unsupported",`Renderer of type '${e.declaredClass}' are not supported in scenes.`,{renderer:e,context:t})),null):null}(e,n);o&&Object(i.c)(r,o,t)}function c(e,t){return d(e,null,t)}const u=Object(o.b)({types:a.a});function d(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new n.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):u(e,t,r):null}},243:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(93),l=r(83),c=r(94),u=(r(82),r(85),r(86),r(89));const d=new a.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});let p=i=class extends u.a{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(o.a)(e))}clone(){return new i({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(o.a)(this.statisticParameters)})}};Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],p.prototype,"maxPointCount",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],p.prototype,"maxRecordCount",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],p.prototype,"maxVertexCount",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"onStatisticField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],p.prototype,"outStatisticFieldName",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],p.prototype,"statisticType",void 0),Object(n.a)([Object(s.b)({type:Object})],p.prototype,"statisticParameters",void 0),Object(n.a)([Object(c.a)("statisticParameters")],p.prototype,"writeStatisticParameters",null),p=i=Object(n.a)([Object(l.a)("esri.tasks.support.StatisticDefinition")],p);var h=p;t.a=h},247:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=(r(80),r(87),r(84)),a=r(93),l=r(83),c=(r(82),r(85),r(86),r(89)),u=r(101);r(99);const d=new a.a({upperLeft:"upper-left",lowerLeft:"lower-left"});let p=i=class extends c.a{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new i(Object(o.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};Object(n.a)([Object(s.b)({type:u.a,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],p.prototype,"extent",void 0),Object(n.a)([Object(s.b)({type:["view","edit"],json:{write:!0}})],p.prototype,"mode",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:d.read,write:d.write}})],p.prototype,"originPosition",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],p.prototype,"tolerance",void 0),p=i=Object(n.a)([Object(l.a)("esri.tasks.support.QuantizationParameters")],p);var h=p;t.a=h},248:function(e,t,r){"use strict";var i=r(81),n=(r(79),r(90)),o=(r(80),r(87),r(84)),s=r(93),a=r(83),l=r(94),c=(r(82),r(85),r(86),r(89));const u=new s.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let d=class extends c.a{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=Object(n.c)(Object(n.a)(e),!0)}writeThumbnail(e,t){t.thumbnail=Object(n.c)(Object(n.a)(e))}};Object(i.a)([Object(o.b)({json:{write:!0}})],d.prototype,"name",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],d.prototype,"description",void 0),Object(i.a)([Object(o.b)({json:{read:u.read,write:u.write}})],d.prototype,"drawingTool",void 0),Object(i.a)([Object(l.a)("drawingTool")],d.prototype,"writeDrawingTool",null),Object(i.a)([Object(o.b)({json:{write:!0}})],d.prototype,"prototype",void 0),Object(i.a)([Object(l.a)("prototype")],d.prototype,"writePrototype",null),Object(i.a)([Object(o.b)({json:{write:!0}})],d.prototype,"thumbnail",void 0),Object(i.a)([Object(l.a)("thumbnail")],d.prototype,"writeThumbnail",null),d=Object(i.a)([Object(a.a)("esri.layers.support.FeatureTemplate")],d);var p=d;t.a=p},258:function(e,t,r){"use strict";function i(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:n(e[t])}}}function n(e){return function(t,...r){!function(e){const{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...r):"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),t.target.click())}}r.d(t,"a",(function(){return i}))},259:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i,n=r(81),o=(r(79),r(80),r(87)),s=r(84),a=r(100),l=r(83),c=(r(82),r(85),r(86),r(89));let u=i=class extends c.a{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new i({mapLayerId:e,gdbVersion:t})}};Object(n.a)([Object(a.a)({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:o.a,json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=i=Object(n.a)([Object(l.a)("esri.layers.support.source.MapLayerSource")],u)},271:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r(116),n=(r(358),r(388)),o=(r(389),r(352)),s=r(293),a=r(390),l=(r(391),r(335),r(166));const c=["oid","global-id"],u=["oid","global-id","guid"];function d({displayField:e,editFieldsInfo:t,fields:r,objectIdField:o,title:s},c){if(!r)return null;const u=y({editFieldsInfo:t,fields:r,objectIdField:o},c);if(!u.length)return null;const d=function(e){const t=Object(i.n)(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}({titleBase:s,fields:r,displayField:e}),p=[new a.a,new n.a];return new l.a({title:d,content:p,fieldInfos:u})}const p=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],h=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:i})=>i?i.has(e.name):!b(e.name,t)&&(!r||e.name!==r)&&!(c.indexOf(e.type)>-1)&&!p.some((t=>t.test(e.name)));function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:v(e)?-1:v(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:i,editDateField:n,editorField:o}=t;return-1!==[r&&r.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase(),o&&o.toLowerCase()].indexOf(e.toLowerCase())}function m(e,t){return e.editable&&-1===u.indexOf(e.type)&&!b(e.name,t)}function y({editFieldsInfo:e,fields:t,objectIdField:r},i){return function(e,t){const r=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===r&&(e=e.slice()),e.sort(f),e}(t,(null==i?void 0:i.ignoreFieldTypes)||O).map((t=>new s.a({fieldName:t.name,isEditable:m(t,e),label:t.alias,format:g(t),visible:h(t,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:null==i?void 0:i.visibleFieldNames})})))}function g(e){switch(e.type){case"small-integer":case"integer":case"single":return new o.a({digitSeparator:!0,places:0});case"double":return new o.a({digitSeparator:!0,places:2});case"date":return new o.a({dateFormat:"long-month-day-year"});default:return null}}function v(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const O=["geometry","blob","raster","guid","xml"]},274:function(e,t,r){"use strict";r.r(t),r.d(t,"getAllSizes",(function(){return S})),r.d(t,"getColor",(function(){return f})),r.d(t,"getOpacity",(function(){return b})),r.d(t,"getRotationAngle",(function(){return m})),r.d(t,"getSize",(function(){return y})),r.d(t,"getSizeForValue",(function(){return O})),r.d(t,"getSizeFromNumberOrVariable",(function(){return g})),r.d(t,"getSizeRangeAtScale",(function(){return j})),r.d(t,"getVisualVariableValues",(function(){return w})),r.d(t,"viewScaleRE",(function(){return h}));var i=r(177),n=r(88),o=r(80),s=r(107),a=r(120),l=r(190),c=r(230);const u=o.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new a.a,p=Math.PI,h=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.ColorVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const o="number"==typeof t,a=o?null:t,l=a&&a.attributes;let c=o?t:null;const d=i.field,{ipData:p,hasExpression:h}=i.cache;let f=i.cache.compiledFunc;if(!d&&!h){const e=i.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(h){if(!Object(n.k)(r)||!Object(n.k)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,o=t.getViewInfo(e),s=t.createExecContext(a,o);if(!f){const e=t.createSyntaxTree(i.valueExpression);f=t.createFunction(e),i.cache.compiledFunc=f}c=t.executeFunction(f,s)}else l&&(c=l[d]);const b=i.normalizationField,m=l?parseFloat(l[b]):void 0;if(null!=c&&(!b||o||!isNaN(m)&&0!==m)){isNaN(m)||o||(c/=m);const e=_(c,p);if(e){const t=e[0],o=e[1],a=t===o?i.stops[t].color:s.a.blendColors(i.stops[t].color,i.stops[o].color,e[2],Object(n.k)(r)?r.color:void 0);return new s.a(a)}}}function b(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.OpacityVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const o="number"==typeof t,s=o?null:t,a=s&&s.attributes;let l=o?t:null;const c=i.field,{ipData:d,hasExpression:p}=i.cache;let h=i.cache.compiledFunc;if(!c&&!p){const e=i.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,o=t.getViewInfo(e),a=t.createExecContext(s,o);if(!h){const e=t.createSyntaxTree(i.valueExpression);h=t.createFunction(e),i.cache.compiledFunc=h}l=t.executeFunction(h,a)}else a&&(l=a[c]);const f=i.normalizationField,b=a?parseFloat(a[f]):void 0;if(null!=l&&(!f||o||!isNaN(b)&&0!==b)){isNaN(b)||o||(l/=b);const e=_(l,d);if(e){const t=e[0],r=e[1];if(t===r)return i.stops[t].opacity;{const n=i.stops[t].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function m(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.RotationVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const o=i.axis||"heading",s="heading"===o&&"arithmetic"===i.rotationType?90:0,a="heading"===o&&"arithmetic"===i.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,d=i.field,{hasExpression:p}=i.cache;let h=i.cache.compiledFunc,f=0;if(!d&&!p)return f;if(p){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,o=t.getViewInfo(e),s=t.createExecContext(l,o);if(!h){const e=t.createSyntaxTree(i.valueExpression);h=t.createFunction(e),i.cache.compiledFunc=h}f=t.executeFunction(h,s)}else c&&(f=c[d]||0);return f="number"!=typeof f||isNaN(f)?null:s+a*f,f}function y(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.SizeVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const o=O(function(e,t,r){const i="number"==typeof t,o=i?null:t,s=o&&o.attributes;let a=i?t:null;const{isScaleDriven:l}=e.cache;let d=e.cache.compiledFunc;if(l){const t=Object(n.k)(r)?r.scale:void 0,i=Object(n.k)(r)?r.view:void 0;a=null==t||"3d"===i?function(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):t}else if(!i)switch(e.inputValueType){case"expression":{if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,s=i.getViewInfo(t),l=i.createExecContext(o,s);if(!d){const t=i.createSyntaxTree(e.valueExpression);d=i.createFunction(t),e.cache.compiledFunc=d}a=i.executeFunction(d,l);break}case"field":s&&(a=s[e.field]);break;case"unknown":a=null}if(!Object(c.d)(a))return null;if(i||!e.normalizationField)return a;const p=s?parseFloat(s[e.normalizationField]):null;return Object(c.d)(p)&&0!==p?a/p:null}(i,t,r),i,t,r,i.cache.ipData);return null==o||isNaN(o)?0:o}function g(e,t,r){return null==e?null:Object(c.c)(e)?y(e,t,r):Object(c.d)(e)?e:null}function v(e,t,r){return Object(c.d)(r)&&e>r?r:Object(c.d)(t)&&e<t?t:e}function O(e,t,r,i,o){switch(t.transformationType){case"additive":return function(e,t,r,i){return e+(g(t.minSize,r,i)||t.minDataValue)}(e,t,r,i);case"constant":return function(e,t,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),g(n,t,r)}(t,r,i);case"clamped-linear":return function(e,t,r,i){const o=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=g(t.minSize,r,i),a=g(t.maxSize,r,i),l=Object(n.k)(i)?i.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return a;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?p*(s/2)**2:s*s,r=t+o*((e?p*(a/2)**2:a*a)-t);return e?2*Math.sqrt(r/p):Math.sqrt(r)}return s+o*(a-s)}(e,t,r,i);case"proportional":return function(e,t,r,i){const o=Object(n.k)(i)?i.shape:void 0,s=e/t.minDataValue,a=g(t.minSize,r,i),l=g(t.maxSize,r,i);let c=null;return c="circle"===o?2*Math.sqrt(s*(a/2)**2):"square"===o||"diamond"===o||"image"===o?Math.sqrt(s*a**2):s*a,v(c,a,l)}(e,t,r,i);case"stops":return function(e,t,r,i,n){const[o,s,a]=_(e,n);if(o===s)return g(t.stops[o].size,r,i);{const e=g(t.stops[o].size,r,i);return e+(g(t.stops[s].size,r,i)-e)*a}}(e,t,r,i,o);case"real-world-size":return function(e,t,r,i){const o=(Object(n.k)(i)&&i.resolution?i.resolution:1)*l.a[t.valueUnit],s=g(t.minSize,r,i),a=g(t.maxSize,r,i),{valueRepresentation:c}=t;let u=null;return u="area"===c?2*Math.sqrt(e/p)/o:"radius"===c||"distance"===c?2*e/o:e/o,v(u,s,a)}(e,t,r,i);case"identity":return e;case"unknown":return null}}function j(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||t))return null;const n={scale:t,view:r};let o=g(e.minSize,d,n),s=g(e.maxSize,d,n);if(null!=o||null!=s){if(o>s){const e=s;s=o,o=e}return{minSize:o,maxSize:s}}}function w(e,t,r){if(!e.visualVariables)return;const i=[],n=[],o=[],s=[],a=[];for(const l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":o.push(l);break;case"rotation":a.push(l);break;case"size":s.push(l)}return n.forEach((e=>{const n=f(e,t,r);i.push({variable:e,value:n})})),o.forEach((e=>{const n=b(e,t,r);i.push({variable:e,value:n})})),a.forEach((e=>{const n=m(e,t,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=y(e,t,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function _(e,t){if(!t)return;let r=0,i=t.length-1;return t.some(((t,n)=>e<t?(i=n,!0):(r=n,!1))),[r,i,(e-t[r])/(t[i]-t[r])]}function S(e,t,r){const n=["proportional","proportional","proportional"];for(const o of e){const e=o.useSymbolValue?"symbol-value":y(o,t,r);switch(o.axis){case"width":n[0]=e;break;case"depth":n[1]=e;break;case"height":n[2]=e;break;case"width-and-depth":n[0]=e,n[1]=e;break;case"all":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:Object(i.a)(o.axis)}}return n}},275:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(80),r(87),r(84)),s=r(83),a=(r(82),r(85),r(86),r(89)),l=r(107);let c=i=class extends a.a{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new i({color:this.color,ratio:this.ratio})}};Object(n.a)([Object(o.b)({type:l.a,json:{write:!0}})],c.prototype,"color",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0),c=i=Object(n.a)([Object(s.a)("esri.renderers.support.HeatmapColorStop")],c);var u=c;t.a=u},279:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c}));const i=[252,146,31,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},292:function(e,t,r){"use strict";function i(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function n(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const i=Math.max(0,r-t),n=new(0,e.constructor)(i);for(let o=0;o<i;o++)n[o]=e[t+o];return n}function o(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function s(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function a(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function l(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function c(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function u(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function d(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function p(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function f(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function b(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}function m(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return n})),r.d(t,"n",(function(){return b}))},294:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var i=r(81),n=r(88),o=r(237),s=r(84),a=r(83),l=r(238),c=r(341),u=r(95),d=r(113),p=r(106);let h=class extends u.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new d.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,i=0){const n=0!=(1&i),o=++this.handleId;n||this.installSyncUpdatingWatch(e,t,o);const s=0!=(2&i)?Object(p.a)(e,t,r,n):e.watch(t,r,n);return this.handles.add(s,o),{remove:()=>{this.handles.remove(o)}}}addOnCollectionPropertyChange(e,t,r,i=0){const n=0!=(2&i),o=++this.handleId;return this.handles.add([Object(p.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(p.b)(e,t,"change",r,n?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:()=>{this.handles.remove(o)}}}addOnCollectionChange(e,t,r=0){const i=0!=(2&r),n=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],n),i&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(n)}}}addPromise(e){if(Object(n.j)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(f)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const i=this.createSyncUpdatingCallback(),n=Object(c.a)((()=>Object(o.c)(e,t)),i);return this.handles.add(n,r),n}createSyncUpdatingCallback(){return()=>{this.handles.remove(f),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(l.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(f))})),f)}}};Object(i.a)([Object(s.b)({readOnly:!0})],h.prototype,"updating",void 0),h=Object(i.a)([Object(a.a)("esri.views.support.WatchUpdatingTracking")],h);const f=-42},295:function(e,t,r){"use strict";var i=r(81),n=(r(79),r(90)),o=(r(80),r(87),r(84)),s=r(96),a=r(83),l=r(94),c=(r(82),r(85),r(86),r(89)),u=r(131),d=r(133),p=r(134),h=(r(146),r(248));let f=class extends c.a{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(i.type){case"range":t[r]=p.a.fromJSON(i);break;case"codedValue":t[r]=u.a.fromJSON(i);break;case"inherited":t[r]=d.a.fromJSON(i)}}return t}writeDomains(e,t){const r={};for(const i in e)e.hasOwnProperty(i)&&(r[i]=e[i]&&e[i].toJSON());Object(n.c)(r),t.domains=r}readTemplates(e){return e&&e.map((e=>new h.a(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};Object(i.a)([Object(o.b)({json:{write:!0}})],f.prototype,"id",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],f.prototype,"name",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],f.prototype,"domains",void 0),Object(i.a)([Object(s.a)("domains")],f.prototype,"readDomains",null),Object(i.a)([Object(l.a)("domains")],f.prototype,"writeDomains",null),Object(i.a)([Object(o.b)({json:{write:!0}})],f.prototype,"templates",void 0),Object(i.a)([Object(s.a)("templates")],f.prototype,"readTemplates",null),Object(i.a)([Object(l.a)("templates")],f.prototype,"writeTemplates",null),f=Object(i.a)([Object(a.a)("esri.layers.support.FeatureType")],f);var b=f;t.a=b},298:function(e,t,r){"use strict";function i(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,i=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);r.push(...i)}}r.d(t,"a",(function(){return i}))},299:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return w}));var i=r(112);const n="http://www.w3.org/",o=`${n}2000/svg`,s=`${n}1999/xlink`;let a,l=[],c=(e,t)=>{let r={};return Object.keys(e).forEach((t=>{r[t]=e[t]})),t&&Object.keys(t).forEach((e=>{r[e]=t[e]})),r},u=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),d=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},p=(e,t,r)=>{if(""!==t.vnodeSelector)for(let i=r;i<e.length;i++)if(u(e[i],t))return i;return-1},h=(e,t,r,i)=>{let n=e[t];if(""===n.vnodeSelector)return;let o=n.properties;if(!(o?void 0===o.key?o.bind:o.key:void 0))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s];if(u(t,n))throw new Error(`${r.vnodeSelector} had a ${n.vnodeSelector} child ${"added"===i?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},f=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},b=[],m=!1,y=e=>{(e.children||[]).forEach(y),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},g=()=>{m=!1,b.forEach(y),b.length=0},v=e=>{b.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},O=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";let i=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void r(t,i,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},j=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],u=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)S(e,u,!0);else if("classes"===l){let t=Object.keys(u),r=t.length;for(let i=0;i<r;i++){let r=t[i];u[r]&&e.classList.add(r)}}else if("styles"===l){let t=Object.keys(u),i=t.length;for(let n=0;n<i;n++){let i=t[n],o=u[i];o&&(d(o),r.styleApplyer(e,i,o))}}else if("key"!==l&&null!=u){let a=typeof u;"function"===a?(0===l.lastIndexOf("on",0)&&(n&&(u=n(l,u,e,t)),"oninput"===l&&function(){let e=u;u=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=u):r.namespace===o?"href"===l?e.setAttributeNS(s,l,u):e.setAttribute(l,u):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=i.h.sanitize(u):e.setAttribute(l,u):e[l]=u}}},w=(e,t,r)=>{((e,t,r)=>{if(t)for(let i of t)_(i,e,void 0,r)})(e,t.children,r),t.text&&(e.textContent=t.text),j(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},_=(e,t,r,i)=>{let n,s=0,a=e.vnodeSelector,l=t.ownerDocument;if(""===a)n=e.domNode=l.createTextNode(e.text),void 0!==r?t.insertBefore(n,r):t.appendChild(n);else{for(let u=0;u<=a.length;++u){let d=a.charAt(u);if(u===a.length||"."===d||"#"===d){let d=a.charAt(s-1),p=a.slice(s,u);"."===d?n.classList.add(p):"#"===d?n.id=p:("svg"===p&&(i=c(i,{namespace:o})),void 0!==i.namespace?n=e.domNode=l.createElementNS(i.namespace,p):(n=e.domNode=e.domNode||l.createElement(p),"input"===p&&e.properties&&void 0!==e.properties.type&&n.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),s=u+1}}w(n,e,i)}},S=(e,t,r)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,r)}))},x=(e,t,r,n)=>{if(!r)return;let a=!1,l=Object.keys(r),c=l.length;for(let u=0;u<c;u++){let c=l[u],p=r[c],h=t[c];if("class"===c)h!==p&&(S(e,h,!1),S(e,p,!0));else if("classes"===c){let t=e.classList,r=Object.keys(p),i=r.length;for(let e=0;e<i;e++){let i=r[e],n=!!p[i];n!==!!h[i]&&(a=!0,n?t.add(i):t.remove(i))}}else if("styles"===c){let t=Object.keys(p),r=t.length;for(let i=0;i<r;i++){let r=t[i],o=p[r];o!==h[r]&&(a=!0,o?(d(o),n.styleApplyer(e,r,o)):n.styleApplyer(e,r,""))}}else if(p||"string"!=typeof h||(p=""),"value"===c){let t=e[c];t!==p&&(e["oninput-value"]?t===e["oninput-value"]:p!==h)&&(e[c]=p,e["oninput-value"]=void 0),p!==h&&(a=!0)}else if(p!==h){let t=typeof p;"function"===t&&n.eventHandlerInterceptor||(n.namespace===o?"href"===c?e.setAttributeNS(s,c,p):e.setAttribute(c,p):"string"===t?"innerHTML"===c?e[c]=i.h.sanitize(p):"role"===c&&""===p?e.removeAttribute(c):e.setAttribute(c,p):e[c]!==p&&(e[c]=p),a=!0)}}return a},E=(e,t,r,i,n)=>{if(r===i)return!1;i=i||l;let o,s=(r=r||l).length,c=i.length,d=0,b=0,m=!1;for(;b<c;){let l=d<s?r[d]:void 0,c=i[b];if(void 0!==l&&u(l,c))m=a(l,c,n)||m,d++;else{let l=p(r,c,d+1);if(l>=0){for(o=d;o<l;o++)O(r[o]),h(r,o,e,"removed");m=a(r[l],c,n)||m,d=l+1}else _(c,t,d<s?r[d].domNode:void 0,n),f(c),h(i,b,e,"added")}b++}if(s>d)for(o=d;o<s;o++)O(r[o]),h(r,o,e,"removed");return m};a=(e,t,r)=>{let i=e.domNode,n=!1;if(e===t)return!1;let s=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(e,i),t.domNode=e,n=!0,n}t.domNode=i}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=c(r,{namespace:o})),e.text!==t.text&&(s=!0,void 0===t.text?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,s=E(t,i,e.children,t.children,r)||s,s=x(i,e.properties,t.properties,r)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};let I=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,a(i,r,t)},domNode:e.domNode})},314:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return f}));var i=r(88),n=r(123),o=r(95),s=r(105);const a=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof o.a}function c(e){return e instanceof s.a?Object.keys(e.items):l(e)?Object(n.a)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof s.a?e.items[t]:e[t]}function d(e){return e?e.declaredClass:null}function p(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const n=c(e),o=c(t);if(0===n.length&&0===o.length)return;if(!n.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const s=o.filter((e=>-1===n.indexOf(e))),h=n.filter((e=>-1===o.indexOf(e))),f=n.filter((r=>o.indexOf(r)>-1&&u(e,r)!==u(t,r))).concat(s,h).sort(),b=d(e);if(b&&a.indexOf(b)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let m;const y=l(e)&&l(t);for(const a of f){const n=u(e,a),o=u(t,a);let s;(y||"function"!=typeof n&&"function"!=typeof o)&&n!==o&&(null==n&&null==o||(s=r&&r[a]&&"function"==typeof r[a]?r[a](n,o):"object"==typeof n&&"object"==typeof o&&d(n)===d(o)?p(n,o):{type:"complete",oldValue:n,newValue:o},Object(i.k)(s)&&(Object(i.k)(m)?m.diff[a]=s:m={type:"partial",diff:{[a]:s}})))}return m}function h(e,t){if(Object(i.j)(e))return!1;const r=t.split(".");let n=e;for(const i of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const e=n.diff[i];if(!e)return!1;n=e}}return!0}function f(e,t){for(const r of t)if(h(e,r))return!0;return!1}function b(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&d(e)!==d(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}},364:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var i=r(299);const n={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{"-"===t.charAt(0)?e.style.setProperty(t,r):e.style[t]=r}};let o,s=e=>Object(i.c)(n,e),a=(e,t,r)=>(r=s(r),Object(i.a)(t,e,void 0,r),Object(i.b)(t,r)),l=(e,t,r)=>(r=s(r),Object(i.a)(t,e.parentNode,e,r),Object(i.b)(t,r)),c=(e,t,r)=>(r=s(r),t.domNode=e,Object(i.d)(e,t,r),Object(i.b)(t,r)),u=(e,t,r)=>(r=s(r),Object(i.a)(t,e.parentNode,e,r),e.parentNode.removeChild(e),Object(i.b)(t,r)),d=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};o=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let p=(e,t)=>{let r=e;return t.forEach((e=>{r=r&&r.children?o(r.children,(t=>t.domNode===e)):void 0})),r},h=(e,t,r)=>{let i=function(i){r("domEvent",i);let n=t(),o=d(i.currentTarget,n.domNode);o.reverse();let s,a=p(n.getLastRender(),o);return e.scheduleRender(),a&&(s=a.properties[`on${i.type}`].apply(a.properties.bind||this,arguments)),r("domEventProcessed",i),s};return(e,t,r,n)=>i},f=e=>{let t,r,i=s(e),n=i.performanceLogger,o=!0,d=!1,p=[],f=[],b=(e,r,o)=>{let s;i.eventHandlerInterceptor=h(t,(()=>s),n),s=e(r,o(),i),p.push(s),f.push(o)},m=()=>{if(r=void 0,o){o=!1,n("renderStart",void 0);for(let e=0;e<p.length;e++){let t=f[e]();n("rendered",void 0),p[e].update(t),n("patched",void 0)}n("renderDone",void 0),o=!0}};return t={renderNow:m,scheduleRender:()=>{r||d||(r=requestAnimationFrame(m))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),d=!0},resume:()=>{d=!1,o=!0,t.scheduleRender()},append:(e,t)=>{b(a,e,t)},insertBefore:(e,t)=>{b(l,e,t)},merge:(e,t)=>{b(c,e,t)},replace:(e,t)=>{b(u,e,t)},detach:e=>{for(let t=0;t<f.length;t++)if(f[t]===e)return f.splice(t,1),p.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},382:function(e,t,r){"use strict";function i(e){return"string"==typeof e?document.getElementById(e):e}function n(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function o(e,t){const r=t.parentNode;r&&r.insertBefore(e,t)}function s(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}function a(e){e.parentNode&&e.parentNode.removeChild(e)}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s}));(()=>{if("function"==typeof Element.prototype.closest)return(e,t)=>e.closest(t);const e=Element.prototype.matches||Element.prototype.msMatchesSelector})()},386:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));r(112),r(258),r(160),r(79),r(80),r(285);r(298),r(126);function i(e){return e&&"function"==typeof e.render}function n(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},406:function(e,t,r){"use strict";var i=r(121);class n{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof n&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";const n=Object(i.b)(r,t),o=null==n?"":n;if(void 0===o)throw new Error(`could not find key "${r}" in template`);return o.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=n},452:function(e,t,r){"use strict";var i=r(155);var n,o=(n=i.a,{setTimeout:(e,t)=>{const r=n.setTimeout(e,t);return{remove:()=>n.clearTimeout(r)}}});t.a=o},610:function(e,t,r){"use strict";var i,n=r(81),o=(r(79),r(90)),s=r(80),a=r(87),l=r(123),c=r(84),u=r(114),d=r(96),p=r(83),h=r(94),f=r(91),b=r(82),m=(r(85),r(141)),y=(r(86),r(101)),g=(r(99),r(105)),v=r(116),O=r(263),j=r(166),w=r(104),_=r(182),S=r(135),x=r(183),E=(r(125),r(226),r(228),r(194),r(196),r(195),r(191),r(211)),I=(r(241),r(152)),T=r(204),A=r(192),k=r(295),C=r(259),F=r(167),L=r(271),P=r(129),N=r(164);function D(e){return e&&"esriSMS"===e.type}function M(e,t,r){var i;return{ignoreOrigin:!0,enabled:!!r&&"map-image"===(null==(i=r.layer)?void 0:i.type)&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(m.d)(r.origin))}}function V(e,t,r){var i;return{enabled:!!r&&"tile"===(null==(i=r.layer)?void 0:i.type)&&this._isOverridden(t)}}function R(e,t,r){return{ignoreOrigin:!0,enabled:r&&r.writeSublayerStructure||!1}}function U(e,t,r){return{ignoreOrigin:!0,enabled:!!r&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(m.d)(r.origin))}}const z=s.a.getLogger("esri.layers.support.Sublayer");let B=0;const q=new Set;q.add("layer"),q.add("parent"),q.add("loaded"),q.add("loadStatus"),q.add("loadError"),q.add("loadWarnings");let $=i=class extends(Object(N.b)(Object(x.a)(Object(O.a)(_.a)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null}async load(e){return this.addResolvingPromise((async()=>{var t;if(!this.layer&&!this.url)throw new f.a("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});let r=null;if(!this.layer||this.originIdOf("url")>2||"data-layer"===(null==(t=this.source)?void 0:t.type))r=(await Object(w.default)(this.url,{responseType:"json",query:{f:"json"},...e})).data;else{var i;let t=this.id;"map-layer"===(null==(i=this.source)?void 0:i.type)&&(t=this.source.mapLayerId),r=await this.layer.fetchSublayerInfo(t,e)}r&&(this.sourceJSON=r,this.read({layerDefinition:r},{origin:"service"}))})()),this}readCapabilities(e,t){const r=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((e=>e.trim())):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==r.indexOf("query")}}}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get fieldsIndex(){return new T.a(this.fields||[])}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields)for(const r of t.fields)if("esriFieldTypeGlobalID"===r.type)return r.name}get id(){const e=this._get("id");return null==e?B++:e}set id(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,t,r,i){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((t=>t.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields)for(const r of t.fields)if("esriFieldTypeOID"===r.type)return r.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,t){const r=t.layerDefinition;return 1-.01*(null!=r.transparency?r.transparency:r.drawingInfo.transparency)}writeOpacity(e,t,r,i){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=Object(a.e)(this.parent.id):t.parentLayerId=-1}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){if(e)for(const t of e.getSymbols())if(Object(S.c)(t)){z.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new C.a({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return Object(a.m)(g.a.ofType(i),e)}writeSublayers(e,t,r){this.get("sublayers.length")&&(t[r]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,t){const r=(t=t.layerDefinition||t).typeIdField;if(r){const e=Object(v.q)(t.fields,r);if(e)return e.name}return null}get url(){var e,t;const r=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,i=this.source;if(!r)return null;if(this._lastParsedUrl=r,"map-layer"===(null==i?void 0:i.type))return`${r.path}/${i.mapLayerId}`;const n={layer:JSON.stringify({source:this.source})};return`${r.path}/dynamicLayer?${Object(b.D)(n)}`}set url(e){e?this._override("url",e):this._clearOverride("url")}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,t,r,i){t[r]=this.getAtOrigin("defaultVisibility","service")||e}clone(){const{store:e}=Object(l.a)(this),t=new i;return Object(l.a)(t).store=e.clone(q),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}createPopupTemplate(e){return Object(L.a)(this,e)}createQuery(){return new P.a({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){var e,t;if(this.hasOwnProperty("sublayers"))return null;const i=null==(e=this.layer)?void 0:e.parsedUrl,n=new(0,(await Promise.all([r.e(3),r.e(12),r.e(33),r.e(166)]).then(r.bind(null,268))).default)({url:i.path});return i&&this.source&&("map-layer"===this.source.type?n.layerId=this.source.mapLayerId:n.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(n.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(n.definitionExpression=this.definitionExpression),this.originIdOf("labelingInfo")>2&&(n.labelingInfo=Object(o.a)(this.labelingInfo)),this.originIdOf("labelsVisible")>0&&(n.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>0&&(n.legendEnabled=this.legendEnabled),this.originIdOf("visible")>0&&(n.visible=this.visible),this.originIdOf("minScale")>0&&(n.minScale=this.minScale),this.originIdOf("maxScale")>0&&(n.maxScale=this.maxScale),this.originIdOf("opacity")>0&&(n.opacity=this.opacity),this.originIdOf("popupTemplate")>0&&(n.popupTemplate=Object(o.a)(this.popupTemplate)),this.originIdOf("renderer")>2&&(n.renderer=Object(o.a)(this.renderer)),"data-layer"===(null==(t=this.source)?void 0:t.type)&&(n.dynamicDataSource=this.source.clone()),this.originIdOf("title")>0&&(n.title=this.title),"map-image"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(n.customParameters=this.layer.customParameters),"tile"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(n.customParameters=this.layer.customParameters),n}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;let n=null;return r.some((e=>{const{id:t}=e;return null!=t&&(t.toString()===i.toString()&&(n=e),!!n)})),n}getFieldDomain(e,t){const r=t&&t.feature,i=this.getFeatureType(r);if(i){const t=i.domains&&i.domains[e];if(t&&"inherited"!==t.type)return t}return this._getLayerDomain(e)}queryFeatures(e=this.createQuery(),t){return this.load().then((()=>{if(!this.get("capabilities.operations.supportsQuery"))throw new f.a("Sublayer.queryFeatures","this layer doesn't support queries.");return Promise.all([r.e(114).then(r.bind(null,187)),r.e(282).then(r.bind(null,143))])})).then((([{executeQuery:r},{default:i}])=>r(this.url,P.a.from(e),this.layer?this.layer.spatialReference:null,{...t,query:{...this.layer.customParameters}}).then((e=>i.fromJSON(e.data))))).then((e=>(e&&e.features&&e.features.forEach((e=>{e.sourceLayer=this})),e)))}toExportImageJSON(){var e;const t={id:this.id,source:(null==(e=this.source)?void 0:e.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression&&(t.definitionExpression=this.definitionExpression);const r=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,t)=>(e[t]=this.originIdOf(t),e)),{});if(Object.keys(r).some((e=>r[e]>2))){const e=t.drawingInfo={};r.renderer>2&&(e.renderer=this.renderer?this.renderer.toJSON():null),r.labelsVisible>2&&(e.showLabels=this.labelsVisible),this.labelsVisible&&r.labelingInfo>2&&(e.labelingInfo=this.labelingInfo?this.labelingInfo.map((e=>e.write({},{origin:"service",layer:this.layer}))):null,e.showLabels=!0),r.opacity>2&&(e.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(e.renderer)}return t}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,t){if(e){const r="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[];for(const e of r)D(e.symbol)&&t(e.symbol);"symbol"in e&&D(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&D(e.defaultSymbol)&&t(e.defaultSymbol)}}_setAndNotifyLayer(e,t){const r=this.layer,i=this._get(e);let n,o;switch(e){case"definitionExpression":n="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":n="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":n="supportsDynamicLayers",o="supportsModification"}const s=Object(l.a)(this).getDefaultOrigin();if("service"!==s){if(n&&!1===this.get(`layer.capabilities.exportMap.${n}`))return void this._logLockedError(e,`capability not available 'layer.capabilities.exportMap.${n}'`);if(o&&!1===this.get(`capabilities.exportMap.${o}`))return void this._logLockedError(e,`capability not available 'capabilities.exportMap.${o}'`)}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==s&&i!==t&&r&&r.emit&&r.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{const t=this.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(z.error(new f.a("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,t){z.error(new f.a("sublayer:locked",`Property '${e}' can't be changed on Sublayer from the layer '${this.layer.id}'`,{reason:t,sublayer:this,layer:this.layer}))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}};$.test={isMapImageLayerOverridePolicy:e=>e===R||e===M,isTileImageLayerOverridePolicy:e=>e===V},Object(n.a)([Object(c.b)({readOnly:!0})],$.prototype,"capabilities",void 0),Object(n.a)([Object(d.a)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],$.prototype,"readCapabilities",null),Object(n.a)([Object(c.b)({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:M}}})],$.prototype,"definitionExpression",null),Object(n.a)([Object(c.b)({type:[I.a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],$.prototype,"fields",void 0),Object(n.a)([Object(c.b)({readOnly:!0})],$.prototype,"fieldsIndex",null),Object(n.a)([Object(c.b)({type:y.a,json:{read:{source:"layerDefinition.extent"}}})],$.prototype,"fullExtent",void 0),Object(n.a)([Object(c.b)({type:String})],$.prototype,"globalIdField",void 0),Object(n.a)([Object(d.a)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],$.prototype,"readGlobalIdFieldFromService",null),Object(n.a)([Object(c.b)({type:a.a,json:{write:{ignoreOrigin:!0}}})],$.prototype,"id",null),Object(n.a)([Object(c.b)({value:null,type:[A.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:R}}})],$.prototype,"labelingInfo",null),Object(n.a)([Object(h.a)("labelingInfo")],$.prototype,"writeLabelingInfo",null),Object(n.a)([Object(c.b)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:R}}})],$.prototype,"labelsVisible",null),Object(n.a)([Object(c.b)({value:null})],$.prototype,"layer",null),Object(n.a)([Object(c.b)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:U}}})],$.prototype,"legendEnabled",void 0),Object(n.a)([Object(c.b)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],$.prototype,"listMode",null),Object(n.a)([Object(c.b)({type:Number,value:0,json:{write:{overridePolicy:R}}})],$.prototype,"minScale",null),Object(n.a)([Object(d.a)("minScale",["minScale","layerDefinition.minScale"])],$.prototype,"readMinScale",null),Object(n.a)([Object(c.b)({type:Number,value:0,json:{write:{overridePolicy:R}}})],$.prototype,"maxScale",null),Object(n.a)([Object(d.a)("maxScale",["maxScale","layerDefinition.maxScale"])],$.prototype,"readMaxScale",null),Object(n.a)([Object(c.b)({type:String})],$.prototype,"objectIdField",void 0),Object(n.a)([Object(d.a)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],$.prototype,"readObjectIdFieldFromService",null),Object(n.a)([Object(c.b)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:R}}})],$.prototype,"opacity",null),Object(n.a)([Object(d.a)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],$.prototype,"readOpacity",null),Object(n.a)([Object(h.a)("opacity")],$.prototype,"writeOpacity",null),Object(n.a)([Object(c.b)({json:{type:a.a,write:{target:"parentLayerId",allowNull:!0,overridePolicy:R}}})],$.prototype,"parent",void 0),Object(n.a)([Object(h.a)("parent")],$.prototype,"writeParent",null),Object(n.a)([Object(c.b)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,t)=>!t.disablePopup},write:{target:"disablePopup",overridePolicy:U,writer(e,t,r){t[r]=!e}}}})],$.prototype,"popupEnabled",void 0),Object(n.a)([Object(c.b)({type:j.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:U}}})],$.prototype,"popupTemplate",void 0),Object(n.a)([Object(c.b)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),Object(n.a)([Object(c.b)({types:E.a,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:R},origins:{"web-scene":{types:E.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:R}}}}})],$.prototype,"renderer",null),Object(n.a)([Object(c.b)({types:{key:"type",base:null,typeMap:{"data-layer":F.a,"map-layer":C.a}},cast(e){if(e){if("mapLayerId"in e)return Object(a.d)(C.a,e);if("dataSource"in e)return Object(a.d)(F.a,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:R}}})],$.prototype,"source",null),Object(n.a)([Object(c.b)()],$.prototype,"sourceJSON",void 0),Object(n.a)([Object(c.b)({value:null,json:{type:[a.a],write:{target:"subLayerIds",allowNull:!0,overridePolicy:R}}})],$.prototype,"sublayers",null),Object(n.a)([Object(u.a)("sublayers")],$.prototype,"castSublayers",null),Object(n.a)([Object(h.a)("sublayers")],$.prototype,"writeSublayers",null),Object(n.a)([Object(c.b)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:U}}})],$.prototype,"title",void 0),Object(n.a)([Object(c.b)({type:String})],$.prototype,"typeIdField",void 0),Object(n.a)([Object(d.a)("typeIdField",["layerDefinition.typeIdField"])],$.prototype,"readTypeIdField",null),Object(n.a)([Object(c.b)({type:[k.a],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],$.prototype,"types",void 0),Object(n.a)([Object(c.b)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:V}}})],$.prototype,"url",null),Object(n.a)([Object(c.b)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:R}}})],$.prototype,"visible",null),Object(n.a)([Object(h.a)("visible")],$.prototype,"writeVisible",null),$=i=Object(n.a)([Object(p.a)("esri.layers.support.Sublayer")],$);var H=$;t.a=H},79:function(e,t,r){"use strict";var i,n,o=r(155);let s;var a,l;function c(e){return"function"==typeof s[e]?s[e]=s[e](o.a):s[e]}s=null!=(i=o.a.dojoConfig)&&i.has||null!=(n=o.a.esriConfig)&&n.has?{...null==(a=o.a.dojoConfig)?void 0:a.has,...null==(l=o.a.esriConfig)?void 0:l.has}:{},c.add=(e,t,r,i)=>((i||void 0===s[e])&&(s[e]=t),r&&c(e)),c.cache=s,c.add("esri-deprecation-warnings",!0),(()=>{c.add("host-webworker",void 0!==o.a.WorkerGlobalScope&&self instanceof o.a.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",e),c.add("host-node","object"==typeof o.a.process&&o.a.process.versions&&o.a.process.versions.node&&o.a.process.versions.v8),c.add("dom",e),c("host-browser")){const e=navigator,t=e.userAgent,r=e.appVersion,i=parseFloat(r);if(c.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),c.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),c.add("edge",parseFloat(t.split("Edge/")[1])||void 0),c.add("opr",parseFloat(t.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(t.split("Android ")[1])||void 0),c.add("safari",!(r.indexOf("Safari")>=0)||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(r.split("Version/")[1])),c.add("mac",r.indexOf("Macintosh")>=0),c.add("quirks","BackCompat"===document.compatMode),!c("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),r=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",i=parseFloat(r.replace(/_/,".").replace(/_/g,""));c.add(e,i),c.add("ios",i)}c.add("trident",parseFloat(r.split("Trident/")[1])||void 0),c.add("svg","undefined"!=typeof SVGAngle),c("webkit")||(t.indexOf("Opera")>=0&&c.add("opera",i>=9.8&&parseFloat(t.split("Version/")[1])||i),!(t.indexOf("Gecko")>=0)||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",i),c("mozilla")&&c.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(o.a.navigator){const e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&c.add("esri-mobile",t),r&&c.add("esri-iPhone",r),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in o.a),c.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in o.a,t=!1===o.a.crossOriginIsolated;return e&&!t})),c.add("esri-atomics","Atomics"in o.a),c.add("esri-workers","Worker"in o.a),c.add("esri-text-decoder","TextDecoder"in o.a),c.add("esri-text-encoder","TextEncoder"in o.a),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("mapview-transitions-duration",200),c.add("mapserver-pbf-enabled",!1),c("host-webworker")||c("host-browser")&&(c.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),c.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{c.add("esri-image-decode",!0,!0,!0)})).catch((()=>{c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(()=>{const e=o.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),c.add("vectortilelayer-max-buffers",(()=>c("ff")?160:Number.POSITIVE_INFINITY)))})(),t.a=c},80:function(e,t,r){"use strict";r(79);var i=r(156),n=r(88),o=r(140);const s={info:0,warn:1,error:2,none:3};class a{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,a._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=a.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=a._loggers;return a._loggers=e,t},set throttlingDisabled(e){a._throttlingDisabled=e}}}static getLogger(e){let t=a._loggers[e];return t||(t=new a({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!a._throttlingDisabled){const i=this._argsToKey(r),n=this._loggedMessages[e].get(i);if("once"===t&&null!=n||"oncePerTick"===t&&n&&n>=a._tickCounter)return;this._loggedMessages[e].set(i,a._tickCounter),a._scheduleTickCounterIncrement()}for(const t of i.a.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){let r=this;for(;Object(n.k)(r);){const t=r[e];if(Object(n.k)(t))return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=i.a.log.level?i.a.log.level:"warn";return s[this._parentWithMember("level",t)]<=s[e]}_argsToKey(...e){return Object(o.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then((()=>{a._tickCounter++,a._tickCounterScheduled=!1})))}}a._loggers={},a._tickCounter=0,a._tickCounterScheduled=!1,a._throttlingDisabled=!1,t.a=a},88:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return v})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return n})),r.d(t,"k",(function(){return i})),r.d(t,"l",(function(){return o})),r.d(t,"m",(function(){return b})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return f})),r.d(t,"p",(function(){return p})),r.d(t,"q",(function(){return a})),r.d(t,"r",(function(){return c})),r.d(t,"s",(function(){return l}));function i(e){return null!=e}function n(e){return null==e}function o(e){return void 0===e}function s(e,t){return i(e)?t(e):null}function a(e){return e}function l(e,t){if(n(e))throw new Error(t);return e}function c(e,t){return i(e)?e:"function"==typeof t?t():t}function u(e){return i(e)&&e.destroy(),null}function d(e){return i(e)&&e.dispose(),null}function p(e){return i(e)&&e.remove(),null}function h(e){return i(e)&&e.abort(),null}function f(e){return null}function b(e,t){const r=new Array;for(const i of e)r.push(y(i,null,t));return r}function m(e,t){for(const r of e)y(r,null,t)}function y(e,t,r){return i(e)?r(e):t}function g(e,t){return i(e)?t(e):null}function v(e){return e.filter((e=>i(e)))}function O(e,...t){let r=e,i=0;for(;i<t.length&&r;)r=r[t[i++]];return r}function j(e){return e}},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n}));r(79);var i=r(292);function n(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&n(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(i.h)(e)||Object(i.k)(e)||Object(i.l)(e)||Object(i.f)(e)||Object(i.i)(e)||Object(i.g)(e)||Object(i.j)(e)||Object(i.d)(e)||Object(i.e)(e))return Object(i.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach(((e,r)=>{t.set(r,o(e))})),t}if(e instanceof Set){const t=new Set;return e.forEach((e=>{t.add(o(e))})),t}let t;const r=e;if("function"==typeof r.clone)t=r.clone();else if("function"==typeof r.map&&"function"==typeof r.forEach)t=r.map(o);else if("function"==typeof r.notifyChange&&"function"==typeof r.watch)t=r.clone();else{t={};for(const r of Object.getOwnPropertyNames(e))t[r]=o(e[r])}return t}function s(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},91:function(e,t,r){"use strict";var i=r(90),n=r(80),o=r(406);class s extends o.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof s))return new s(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(i.a)(t)}catch(s){return"[object]"}})))}}catch(e){throw n.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error",t.a=s},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return k})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return A})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return O})),r.d(t,"m",(function(){return v})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return I})),r.d(t,"p",(function(){return m})),r.d(t,"q",(function(){return y})),r.d(t,"r",(function(){return S})),r.d(t,"s",(function(){return x})),r.d(t,"t",(function(){return f})),r.d(t,"u",(function(){return d})),r.d(t,"v",(function(){return b})),r.d(t,"w",(function(){return T})),r.d(t,"x",(function(){return g}));var i=r(88),n=(r(80),r(91)),o=r(452),s=r(162);function a(e){return Promise.all(e)}function l(e){return new Promise(((t,r)=>{try{e(t,r)}catch(i){Promise.resolve().then((()=>r(i)))}}))}function c(e="Aborted"){return new n.a("AbortError",e)}function u(){return new AbortController}function d(e){if(h(e))throw c()}function p(e){return Object(i.k)(e)?"aborted"in e?e:e.signal:e}function h(e){const t=p(e);return Object(i.k)(t)&&t.aborted}function f(e){if(v(e))throw e}function b(e){if(!v(e))throw e}function m(e,t){const r=p(e);if(!Object(i.j)(r)){if(!r.aborted)return Object(s.d)(r,"abort",(()=>t()));t()}}function y(e,t){const r=p(e);if(!Object(i.j)(r))return d(r),Object(s.d)(r,"abort",(()=>t(c())))}function g(e,t){const r=p(t);return Object(i.j)(r)?e:new Promise(((r,n)=>{let o=m(t,(()=>n(c())));const s=()=>o=Object(i.p)(o);e.then(s,s),e.then(r,n)}))}function v(e){return e&&"AbortError"===e.name}function O(e){return e.catch((e=>{if(!v(e))throw e}))}function j(){let e=null;const t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function w(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return w(t.map((t=>e[t]))).then((e=>{const r={};return t.forEach(((t,i)=>r[t]=e[i])),r}))}const t=e;return l((e=>{const r=[];let i=t.length;0===i&&e(r),t.forEach((t=>{const n={promise:t||Promise.resolve(t)};r.push(n),n.promise.then((e=>{n.value=e})).catch((e=>{n.error=e})).then((()=>{--i,0===i&&e(r)}))}))}))}function _(e){return w(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function S(e){return Promise.reject(e)}function x(e){return Promise.resolve(e)}function E(e,t,r){const i=u();return m(r,(()=>i.abort())),new Promise(((r,n)=>{let o=setTimeout((()=>{o=0,r(t)}),e);m(i,(()=>{o&&(clearTimeout(o),n(c()))}))}))}function I(e){return e&&"function"==typeof e.then}function T(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function A(e,t=-1){let r,n,o,s,a=null;const l=(...d)=>{if(r){n=d,s&&s.reject(c()),s=j();const e=Object(i.d)(s.promise);if(a){const e=a;a=null,e.abort()}return e}if(o=s||j(),s=null,t>0){const i=u();r=T(e(...d,i.signal));const n=r;E(t).then((()=>{r===n&&(s?i.abort():a=i)}))}else r=1,r=T(e(...d));const p=()=>{const e=n;n=o=r=a=null,null!=e&&l(...e)},h=r,f=o;return h.then(p,p),h.then(f.resolve,f.reject),Object(i.d)(f.promise)};return l}function k(){let e,t;const r=new Promise(((r,i)=>{e=r,t=i})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>o.a.setTimeout((()=>i.reject(t)),e),i.promise=r,i}function C(e){let t=u();const r=e(t.signal);let i={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const n=()=>{i&&(i.finished=!0,i=null),t=null};return r.then(n,n),i}},951:function(e,t,r){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}function a(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),p=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),b={capture:!1,passive:!1};function m(e,t,r){e.addEventListener(t,r,!c&&b)}function y(e,t,r){e.removeEventListener(t,r,!c&&b)}function g(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(r){return!1}return!1}}function v(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,r,i){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&g(e,t):g(e,t))||i&&e===r)return e;if(e===r)break}while(e=v(e))}return null}var j,w=/\s+/g;function _(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(i+(r?" "+t:"")).replace(w," ")}}function S(e,t,r){var i=e&&e.style;if(i){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=r+("string"===typeof r?"":"px")}}function x(e,t){var r="";if("string"===typeof e)r=e;else do{var i=S(e,"transform");i&&"none"!==i&&(r=i+" "+r)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(r)}function E(e,t,r){if(e){var i=e.getElementsByTagName(t),n=0,o=i.length;if(r)for(;n<o;n++)r(i[n],n);return i}return[]}function I(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,r,i,n){if(e.getBoundingClientRect||e===window){var o,s,a,l,u,d,p;if(e!==window&&e.parentNode&&e!==I()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,u=o.right,d=o.height,p=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(n=n||e.parentNode,!c))do{if(n&&n.getBoundingClientRect&&("none"!==S(n,"transform")||r&&"static"!==S(n,"position"))){var h=n.getBoundingClientRect();s-=h.top+parseInt(S(n,"border-top-width")),a-=h.left+parseInt(S(n,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(n=n.parentNode);if(i&&e!==window){var f=x(n||e),b=f&&f.a,m=f&&f.d;f&&(l=(s/=m)+(d/=m),u=(a/=b)+(p/=b))}return{top:s,left:a,bottom:l,right:u,width:p,height:d}}}function A(e,t,r){for(var i=P(e,!0),n=T(e)[t];i;){var o=T(i)[r];if(!("top"===r||"left"===r?n>=o:n<=o))return i;if(i===I())break;i=P(i,!1)}return!1}function k(e,t,r){for(var i=0,n=0,o=e.children;n<o.length;){if("none"!==o[n].style.display&&o[n]!==Me.ghost&&o[n]!==Me.dragged&&O(o[n],r.draggable,e,!1)){if(i===t)return o[n];i++}n++}return null}function C(e,t){for(var r=e.lastElementChild;r&&(r===Me.ghost||"none"===S(r,"display")||t&&!g(r,t));)r=r.previousElementSibling;return r||null}function F(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Me.clone||t&&!g(e,t)||r++;return r}function L(e){var t=0,r=0,i=I();if(e)do{var n=x(e),o=n.a,s=n.d;t+=e.scrollLeft*o,r+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,r]}function P(e,t){if(!e||!e.getBoundingClientRect)return I();var r=e,i=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var n=S(r);if(r.clientWidth<r.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!r.getBoundingClientRect||r===document.body)return I();if(i||t)return r;i=!0}}}while(r=r.parentNode);return I()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function D(e,t){return function(){if(!j){var r=arguments,i=this;1===r.length?e.call(i,r[0]):e.apply(i,r),j=setTimeout((function(){j=void 0}),t)}}}function M(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function V(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var R="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==S(e,"display")&&e!==Me.ghost){t.push({target:e,rect:T(e)});var r=s({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=x(e,!0);i&&(r.top-=i.f,r.left-=i.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[r][i])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof r&&r());var n=!1,o=0;t.forEach((function(e){var t=0,r=e.target,s=r.fromRect,a=T(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=x(r,!0);d&&(a.top-=d.f,a.left-=d.e),r.toRect=a,r.thisAnimationDuration&&N(l,a)&&!N(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,r,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}(u,l,c,i.options)),N(a,s)||(r.prevFromRect=s,r.prevToRect=a,t||(t=i.options.animation),i.animate(r,u,a,t)),t&&(n=!0,o=Math.max(o,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),n?e=setTimeout((function(){"function"===typeof r&&r()}),o):"function"===typeof r&&r(),t=[]},animate:function(e,t,r,i){if(i){S(e,"transition",""),S(e,"transform","");var n=x(this.el),o=n&&n.a,s=n&&n.d,a=(t.left-r.left)/(o||1),l=(t.top-r.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,S(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),S(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var z=[],B={initializeByDefault:!0},q={mount:function(e){for(var t in B)B.hasOwnProperty(t)&&!(t in e)&&(e[t]=B[t]);z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),z.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var n=e+"Global";z.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][n]&&t[i.pluginName][n](s({sortable:t},r)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](s({sortable:t},r)))}))},initializePlugins:function(e,t,r,i){for(var n in z.forEach((function(i){var n=i.pluginName;if(e.options[n]||i.initializeByDefault){var s=new i(e,t,e.options);s.sortable=e,s.options=e.options,e[n]=s,o(r,s.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var s=this.modifyOption(e,n,e.options[n]);"undefined"!==typeof s&&(e.options[n]=s)}},getEventProperties:function(e,t){var r={};return z.forEach((function(i){"function"===typeof i.eventProperties&&o(r,i.eventProperties.call(t[i.pluginName],e))})),r},modifyOption:function(e,t,r){var i;return z.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"===typeof n.optionListeners[t]&&(i=n.optionListeners[t].call(e[n.pluginName],r))})),i}};function $(e){var t=e.sortable,r=e.rootEl,i=e.name,n=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,b=e.originalEvent,m=e.putSortable,y=e.extraEventProperties;if(t=t||r&&r[R]){var g,v=t.options,O="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||c||u?(g=document.createEvent("Event")).initEvent(i,!0,!0):g=new CustomEvent(i,{bubbles:!0,cancelable:!0}),g.to=a||r,g.from=l||r,g.item=n||r,g.clone=o,g.oldIndex=d,g.newIndex=p,g.oldDraggableIndex=h,g.newDraggableIndex=f,g.originalEvent=b,g.pullMode=m?m.lastPutMode:void 0;var j=s({},y,q.getEventProperties(i,t));for(var w in j)g[w]=j[w];r&&r.dispatchEvent(g),v[O]&&v[O].call(t,g)}}var H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.evt,n=a(r,["evt"]);q.pluginEvent.bind(Me)(e,t,s({dragEl:W,parentEl:Y,ghostEl:J,rootEl:X,nextEl:K,lastDownEl:Q,cloneEl:Z,cloneHidden:ee,dragStarted:he,putSortable:se,activeSortable:Me.active,originalEvent:i,oldIndex:te,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ne,hideGhostForTarget:Le,unhideGhostForTarget:Pe,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){G({sortable:t,name:e,originalEvent:i})}},n))};function G(e){$(s({putSortable:se,cloneEl:Z,targetEl:W,rootEl:X,oldIndex:te,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ne},e))}var W,Y,J,X,K,Q,Z,ee,te,re,ie,ne,oe,se,ae,le,ce,ue,de,pe,he,fe,be,me,ye,ge=!1,ve=!1,Oe=[],je=!1,we=!1,_e=[],Se=!1,xe=[],Ee="undefined"!==typeof document,Ie=h,Te=u||c?"cssFloat":"float",Ae=Ee&&!f&&!h&&"draggable"in document.createElement("div"),ke=function(){if(Ee){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ce=function(e,t){var r=S(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),n=k(e,0,t),o=k(e,1,t),s=n&&S(n),a=o&&S(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(n).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(o).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return n&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===r[Te]||o&&"none"===r[Te]&&l+c>i)?"vertical":"horizontal"},Fe=function(e){function t(e,r){return function(i,n,o,s){var a=i.options.group.name&&n.options.group.name&&i.options.group.name===n.options.group.name;if(null==e&&(r||a))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"===typeof e)return t(e(i,n,o,s),r)(i,n,o,s);var l=(r?i:n).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},n=e.group;n&&"object"==i(n)||(n={name:n}),r.name=n.name,r.checkPull=t(n.pull,!0),r.checkPut=t(n.put),r.revertClone=n.revertClone,e.group=r},Le=function(){!ke&&J&&S(J,"display","none")},Pe=function(){!ke&&J&&S(J,"display","")};Ee&&document.addEventListener("click",(function(e){if(ve)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ve=!1,!1}),!0);var Ne=function(e){if(W){var t=function(e,t){var r;return Oe.some((function(i){if(!C(i)){var n=T(i),o=i[R].options.emptyInsertThreshold,s=e>=n.left-o&&e<=n.right+o,a=t>=n.top-o&&t<=n.bottom+o;return o&&s&&a?r=i:void 0}})),r}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[R]._onDragOver(r)}}},De=function(e){W&&W.parentNode[R]._isOutsideThisEl(e.target)};function Me(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[R]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ce(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Me.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var i in q.initializePlugins(this,e,r),r)!(i in t)&&(t[i]=r[i]);for(var n in Fe(t),this)"_"===n.charAt(0)&&"function"===typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,U())}function Ve(e,t,r,i,n,o,s,a){var l,d,p=e[R],h=p.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=i,l.related=n||t,l.relatedRect=o||T(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(d=h.call(p,l,s)),d}function Re(e){e.draggable=!1}function Ue(){Se=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function Be(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Me.prototype={constructor:Me,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,n=i.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=i.filter;if(function(e){xe.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var i=t[r];i.checked&&xe.push(i)}}(r),!W&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!p||!a||"SELECT"!==a.tagName.toUpperCase())&&(!(a=O(a,i.draggable,r,!1))||!a.animated)&&Q!==a){if(te=F(a),ie=F(a,i.draggable),"function"===typeof c){if(c.call(this,e,a,this))return G({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:r,fromEl:r}),H("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=O(l,i.trim(),r,!1))return G({sortable:t,rootEl:i,name:"filter",targetEl:a,fromEl:r,toEl:r}),H("filter",t,{evt:e}),!0}))))return void(n&&e.cancelable&&e.preventDefault());i.handle&&!O(l,i.handle,r,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,r){var i,n=this,o=n.el,s=n.options,a=o.ownerDocument;if(r&&!W&&r.parentNode===o){var l=T(r);if(X=o,Y=(W=r).parentNode,K=W.nextSibling,Q=r,oe=s.group,Me.dragged=W,ae={target:W,clientX:(t||e).clientX,clientY:(t||e).clientY},de=ae.clientX-l.left,pe=ae.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,W.style["will-change"]="all",i=function(){H("delayEnded",n,{evt:e}),Me.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!d&&n.nativeDraggable&&(W.draggable=!0),n._triggerDragStart(e,t),G({sortable:n,name:"choose",originalEvent:e}),_(W,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){E(W,e.trim(),Re)})),m(a,"dragover",Ne),m(a,"mousemove",Ne),m(a,"touchmove",Ne),m(a,"mouseup",n._onDrop),m(a,"touchend",n._onDrop),m(a,"touchcancel",n._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),H("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))i();else{if(Me.eventCanceled)return void this._onDrop();m(a,"mouseup",n._disableDelayedDrag),m(a,"touchend",n._disableDelayedDrag),m(a,"touchcancel",n._disableDelayedDrag),m(a,"mousemove",n._delayedDragTouchMoveHandler),m(a,"touchmove",n._delayedDragTouchMoveHandler),s.supportPointer&&m(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Re(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(W,"dragend",this),m(X,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,t){if(ge=!1,X&&W){H("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",De);var r=this.options;!e&&_(W,r.dragClass,!1),_(W,r.ghostClass,!0),Me.active=this,e&&this._appendGhost(),G({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Le();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(W.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]){if(t[R]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Pe()}},_onTouchMove:function(e){if(ae){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,n=e.touches?e.touches[0]:e,o=J&&x(J,!0),s=J&&o&&o.a,a=J&&o&&o.d,l=Ie&&ye&&L(ye),c=(n.clientX-ae.clientX+i.x)/(s||1)+(l?l[0]-_e[0]:0)/(s||1),u=(n.clientY-ae.clientY+i.y)/(a||1)+(l?l[1]-_e[1]:0)/(a||1);if(!Me.active&&!ge){if(r&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(J){o?(o.e+=c-(ce||0),o.f+=u-(ue||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");S(J,"webkitTransform",d),S(J,"mozTransform",d),S(J,"msTransform",d),S(J,"transform",d),ce=c,ue=u,le=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!J){var e=this.options.fallbackOnBody?document.body:X,t=T(W,!0,Ie,!0,e),r=this.options;if(Ie){for(ye=e;"static"===S(ye,"position")&&"none"===S(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=I()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=I(),_e=L(ye)}_(J=W.cloneNode(!0),r.ghostClass,!1),_(J,r.fallbackClass,!0),_(J,r.dragClass,!0),S(J,"transition",""),S(J,"transform",""),S(J,"box-sizing","border-box"),S(J,"margin",0),S(J,"top",t.top),S(J,"left",t.left),S(J,"width",t.width),S(J,"height",t.height),S(J,"opacity","0.8"),S(J,"position",Ie?"absolute":"fixed"),S(J,"zIndex","100000"),S(J,"pointerEvents","none"),Me.ghost=J,e.appendChild(J),S(J,"transform-origin",de/parseInt(J.style.width)*100+"% "+pe/parseInt(J.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,n=r.options;H("dragStart",this,{evt:e}),Me.eventCanceled?this._onDrop():(H("setupClone",this),Me.eventCanceled||((Z=V(W)).draggable=!1,Z.style["will-change"]="",this._hideClone(),_(Z,this.options.chosenClass,!1),Me.clone=Z),r.cloneId=Be((function(){H("clone",r),Me.eventCanceled||(r.options.removeCloneOnHide||X.insertBefore(Z,W),r._hideClone(),G({sortable:r,name:"clone"}))})),!t&&_(W,n.dragClass,!0),t?(ve=!0,r._loopId=setInterval(r._emulateDragOver,50)):(y(document,"mouseup",r._onDrop),y(document,"touchend",r._onDrop),y(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",n.setData&&n.setData.call(r,i,W)),m(document,"drop",r),S(W,"transform","translateZ(0)")),ge=!0,r._dragStartId=Be(r._dragStarted.bind(r,t,e)),m(document,"selectstart",r),he=!0,p&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,i,n,o=this.el,a=e.target,l=this.options,c=l.group,u=Me.active,d=oe===c,p=l.sort,h=se||u,f=this,b=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=O(a,l.draggable,o,!0),D("dragOver"),Me.eventCanceled)return b;if(W.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return U(!1);if(ve=!1,u&&!l.disabled&&(d?p||(i=!X.contains(W)):se===this||(this.lastPutMode=oe.checkPull(this,u,W,e))&&c.checkPut(this,u,W,e))){if(n="vertical"===this._getDirection(e,a),t=T(W),D("dragOverValid"),Me.eventCanceled)return b;if(i)return Y=X,V(),this._hideClone(),D("revert"),Me.eventCanceled||(K?X.insertBefore(W,K):X.appendChild(W)),U(!0);var m=C(o,l.draggable);if(!m||function(e,t,r){var i=T(C(r.el,r.options.draggable)),n=10;return t?e.clientX>i.right+n||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+n}(e,n,this)&&!m.animated){if(m===W)return U(!1);if(m&&o===e.target&&(a=m),a&&(r=T(a)),!1!==Ve(X,o,W,t,a,r,e,!!a))return V(),o.appendChild(W),Y=o,z(),U(!0)}else if(a.parentNode===o){r=T(a);var y,g,v,j=W.parentNode!==o,w=!function(e,t,r){var i=r?e.left:e.top,n=r?e.right:e.bottom,o=r?e.width:e.height,s=r?t.left:t.top,a=r?t.right:t.bottom,l=r?t.width:t.height;return i===s||n===a||i+o/2===s+l/2}(W.animated&&W.toRect||t,a.animated&&a.toRect||r,n),x=n?"top":"left",E=A(a,"top","top")||A(W,"top","top"),I=E?E.scrollTop:void 0;if(fe!==a&&(g=r[x],je=!1,we=!w&&l.invertSwap||j),0!==(y=function(e,t,r,i,n,o,s,a){var l=i?e.clientY:e.clientX,c=i?r.height:r.width,u=i?r.top:r.left,d=i?r.bottom:r.right,p=!1;if(!s)if(a&&me<c*n){if(!je&&(1===be?l>u+c*o/2:l<d-c*o/2)&&(je=!0),je)p=!0;else if(1===be?l<u+me:l>d-me)return-be}else if(l>u+c*(1-n)/2&&l<d-c*(1-n)/2)return function(e){return F(W)<F(e)?1:-1}(t);if((p=p||s)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,a,r,n,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,fe===a))){var k=F(W);do{k-=y,v=Y.children[k]}while(v&&("none"===S(v,"display")||v===J))}if(0===y||v===a)return U(!1);fe=a,be=y;var L=a.nextElementSibling,P=!1,N=Ve(X,o,W,t,a,r,e,P=1===y);if(!1!==N)return 1!==N&&-1!==N||(P=1===N),Se=!0,setTimeout(Ue,30),V(),P&&!L?o.appendChild(W):a.parentNode.insertBefore(W,P?L:a),E&&M(E,0,I-E.scrollTop),Y=W.parentNode,void 0===g||we||(me=Math.abs(g-T(a)[x])),z(),U(!0)}if(o.contains(W))return U(!1)}return!1}function D(l,c){H(l,f,s({evt:e,isOwner:d,axis:n?"vertical":"horizontal",revert:i,dragRect:t,targetRect:r,canSort:p,fromSortable:h,target:a,completed:U,onMove:function(r,i){return Ve(X,o,W,t,r,T(r),e,i)},changed:z},c))}function V(){D("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function U(t){return D("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(_(W,se?se.options.ghostClass:u.options.ghostClass,!1),_(W,l.ghostClass,!0)),se!==f&&f!==Me.active?se=f:f===Me.active&&se&&(se=null),h===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){D("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===W&&!W.animated||a===o&&!a.animated)&&(fe=null),l.dragoverBubble||e.rootEl||a===document||(W.parentNode[R]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function z(){re=F(W),ne=F(W,l.draggable),G({sortable:f,name:"change",toEl:o,newIndex:re,newDraggableIndex:ne,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Ne),y(document,"mousemove",Ne),y(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;re=F(W),ne=F(W,r.draggable),H("drop",this,{evt:e}),Y=W&&W.parentNode,re=F(W),ne=F(W,r.draggable),Me.eventCanceled||(ge=!1,we=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&S(document.body,"user-select",""),S(W,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(X===Y||se&&"clone"!==se.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),W&&(this.nativeDraggable&&y(W,"dragend",this),Re(W),W.style["will-change"]="",he&&!ge&&_(W,se?se.options.ghostClass:this.options.ghostClass,!1),_(W,this.options.chosenClass,!1),G({sortable:this,name:"unchoose",toEl:Y,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==Y?(re>=0&&(G({rootEl:Y,name:"add",toEl:Y,fromEl:X,originalEvent:e}),G({sortable:this,name:"remove",toEl:Y,originalEvent:e}),G({rootEl:Y,name:"sort",toEl:Y,fromEl:X,originalEvent:e}),G({sortable:this,name:"sort",toEl:Y,originalEvent:e})),se&&se.save()):re!==te&&re>=0&&(G({sortable:this,name:"update",toEl:Y,originalEvent:e}),G({sortable:this,name:"sort",toEl:Y,originalEvent:e})),Me.active&&(null!=re&&-1!==re||(re=te,ne=ie),G({sortable:this,name:"end",toEl:Y,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){H("nulling",this),X=W=Y=J=K=Z=Q=ee=ae=le=he=re=ne=te=ie=fe=be=se=oe=Me.dragged=Me.ghost=Me.clone=Me.active=null,xe.forEach((function(e){e.checked=!0})),xe.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":W&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,i=0,n=r.length,o=this.options;i<n;i++)O(e=r[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ze(e));return t},sort:function(e,t){var r={},i=this.el;this.toArray().forEach((function(e,t){var n=i.children[t];O(n,this.options.draggable,i,!1)&&(r[e]=n)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(i.removeChild(r[e]),i.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var i=q.modifyOption(this,e,t);r[e]="undefined"!==typeof i?i:t,"group"===e&&Fe(r)},destroy:function(){H("destroy",this);var e=this.el;e[R]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(H("hideClone",this),Me.eventCanceled)return;S(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(H("showClone",this),Me.eventCanceled)return;W.parentNode!=X||this.options.group.revertClone?K?X.insertBefore(Z,K):X.appendChild(Z):X.insertBefore(Z,W),this.options.group.revertClone&&this.animate(W,Z),S(Z,"display",""),ee=!1}}else this._hideClone()}},Ee&&m(document,"touchmove",(function(e){(Me.active||ge)&&e.cancelable&&e.preventDefault()})),Me.utils={on:m,off:y,css:S,find:E,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:D,closest:O,toggleClass:_,clone:V,index:F,nextTick:Be,cancelNextTick:qe,detectDirection:Ce,getChild:k},Me.get=function(e){return e[R]},Me.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Me.utils=s({},Me.utils,e.utils)),q.mount(e)}))},Me.create=function(e,t){return new Me(e,t)},Me.version="1.13.0";var $e,He,Ge,We,Ye,Je,Xe=[],Ke=!1;function Qe(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function Ze(){clearInterval(Je)}var et=D((function(e,t,r,i){if(t.scroll){var n,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=I(),u=!1;He!==r&&(He=r,Qe(),$e=t.scroll,n=t.scrollFn,!0===$e&&($e=P(r,!0)));var d=0,p=$e;do{var h=p,f=T(h),b=f.top,m=f.bottom,y=f.left,g=f.right,v=f.width,O=f.height,j=void 0,w=void 0,_=h.scrollWidth,x=h.scrollHeight,E=S(h),A=h.scrollLeft,k=h.scrollTop;h===c?(j=v<_&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),w=O<x&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(j=v<_&&("auto"===E.overflowX||"scroll"===E.overflowX),w=O<x&&("auto"===E.overflowY||"scroll"===E.overflowY));var C=j&&(Math.abs(g-o)<=a&&A+v<_)-(Math.abs(y-o)<=a&&!!A),F=w&&(Math.abs(m-s)<=a&&k+O<x)-(Math.abs(b-s)<=a&&!!k);if(!Xe[d])for(var L=0;L<=d;L++)Xe[L]||(Xe[L]={});Xe[d].vx==C&&Xe[d].vy==F&&Xe[d].el===h||(Xe[d].el=h,Xe[d].vx=C,Xe[d].vy=F,clearInterval(Xe[d].pid),0==C&&0==F||(u=!0,Xe[d].pid=setInterval(function(){i&&0===this.layer&&Me.active._onTouchMove(Ye);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,r=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"===typeof n&&"continue"!==n.call(Me.dragged.parentNode[R],r,t,e,Ye,Xe[this.layer].el)||M(Xe[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=P(p,!1)));Ke=u}}),30),tt=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,n=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=r||n;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function rt(){}function it(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=k(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:tt},o(rt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:tt},o(it,{pluginName:"removeOnSpill"});Me.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Qe(),clearTimeout(j),j=void 0},nulling:function(){Ye=He=$e=Ke=Je=Ge=We=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,i=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,n);if(Ye=e,t||u||c||p){et(e,this.options,o,t);var s=P(o,!0);!Ke||Je&&i===Ge&&n===We||(Je&&Ze(),Je=setInterval((function(){var o=P(document.elementFromPoint(i,n),!0);o!==s&&(s=o,Qe()),et(e,r.options,o,t)}),10),Ge=i,We=n)}else{if(!this.options.bubbleScroll||P(o,!0)===I())return void Qe();et(e,this.options,P(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),Me.mount(it,rt),t.a=Me}}]);
//# sourceMappingURL=77.fb011c61.chunk.js.map