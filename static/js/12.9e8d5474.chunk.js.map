{"version":3,"sources":["../node_modules/@arcgis/core/portal/support/resourceUtils.js"],"names":["c","t","a","r","load","s","o","itemUrl","start","n","num","sortOrder","u","sortField","i","query","signal","e","portal","_request","p","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","hasPath","portalItem","userItemUrl","path","l","h","m","d","FormData","append","access","method","body","deleteAll","lastIndexOf","slice","length","Blob","url","responseType","data","f","w"],"mappings":"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","file":"static/js/12.9e8d5474.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function c(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:l=\"created\"}=r,i={query:{start:n,num:c,sortOrder:u,sortField:l},signal:e(a,\"signal\")},p=await t.portal._request(s,i);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function u(r,s,n,c){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(c);const u=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[l,i]=p(r.path),m=await h(n),d=new FormData;return l&&\".\"!==l&&d.append(\"resourcesPrefix\",l),d.append(\"fileName\",i),d.append(\"file\",m,i),d.append(\"f\",\"json\"),t(c)&&c.access&&d.append(\"access\",c.access),await r.portalItem.portal._request(u,{method:\"post\",body:d,signal:e(c,\"signal\")}),r}async function l(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function i(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,r]=d(e),[a,o]=p(t);return[a,o,r]}function d(e){const t=s(e);return r(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,i as removeAllResources,l as removeResource,m as splitPrefixFileNameAndExtension};\n"],"sourceRoot":""}