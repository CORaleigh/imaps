(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[163,273,274],{1127:function(t,e,n){"use strict";n.r(e),n.d(e,"ElevationSamplerWorker",(function(){return o}));var r=n(7),i=n(80),a=n(89),h=n(966);class o{createIndex(t,e){var n=this;return Object(r.a)((function*(){var r=new Array;if(!t.vertexAttributes||!t.vertexAttributes.position)return new h.a;var i=n.createMeshData(t),o=Object(a.k)(e)?yield e.invoke("createIndexThread",i,{transferList:r}):n.createIndexThread(i).result;return n.createPooledRBush().fromJSON(o)}))()}createIndexThread(t){var e=new Float64Array(t.position),n=this.createPooledRBush();return t.components?this.createIndexComponentsThread(n,e,t.components.map((t=>new Uint32Array(t)))):this.createIndexAllThread(n,e)}createIndexAllThread(t,e){for(var n=new Array(e.length/9),r=0,i=0;i<e.length;i+=9)n[r++]=s(e,i+0,i+3,i+6);return t.load(n),{result:t.toJSON()}}createIndexComponentsThread(t,e,n){var r=0;for(var i of n)r+=i.length/3;var a=new Array(r),h=0;for(var o of n)for(var l=0;l<o.length;l+=3)a[h++]=s(e,3*o[l+0],3*o[l+1],3*o[l+2]);return t.load(a),{result:t.toJSON()}}createMeshData(t){var e=t.vertexAttributes.position.buffer;return!t.components||t.components.some((t=>!t.faces))?{position:e}:{position:e,components:t.components.map((t=>t.faces))}}createPooledRBush(){return new h.a(9,Object(i.a)("csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}}function s(t,e,n,r){return{minX:Math.min(t[e+0],t[n+0],t[r+0]),maxX:Math.max(t[e+0],t[n+0],t[r+0]),minY:Math.min(t[e+1],t[n+1],t[r+1]),maxY:Math.max(t[e+1],t[n+1],t[r+1]),p0:[t[e+0],t[e+1],t[e+2]],p1:[t[n+0],t[n+1],t[n+2]],p2:[t[r+0],t[r+1],t[r+2]]}}e.default=o},133:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return a(null==e&&n.path)}},n.exports),n.exports}function a(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).call(this,n(172))},497:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(133),i=Object(r.b)((function(t){var e;void 0!==(e=function(){function t(n,r,i,a,h){for(;a>i;){if(a-i>600){var o=a-i+1,s=r-i+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-s*c/o+u)),Math.min(a,Math.floor(r+(o-s)*c/o+u)),h)}var m=n[r],d=i,f=a;for(e(n,i,r),h(n[a],m)>0&&e(n,i,a);d<f;){for(e(n,d,f),d++,f--;h(n[d],m)<0;)d++;for(;h(n[f],m)>0;)f--}0===h(n[i],m)?e(n,i,f):e(n,++f,a),f<=r&&(i=f+1),r<=f&&(a=f-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,a,h){t(e,r,i||0,a||e.length-1,h||n)}}())&&(t.exports=e)}))},966:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(89),i=n(209),a=n(176),h=n(497);class o{constructor(t=9,e){this.compareMinX=u,this.compareMinY=m,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),X.prune(),Y.prune(),B.prune(),_.prune()}all(t){this._all(this.data,t)}search(t,e){var n=this.data,r=this.toBBox;if(M(t,n))for(X.clear();n;){for(var i=0,a=n.children.length;i<a;i++){var h=n.children[i],o=n.leaf?r(h):h;M(t,o)&&(n.leaf?e(h):v(t,o)?this._all(h,e):X.push(h))}n=X.pop()}}collides(t){var e=this.data,n=this.toBBox;if(!M(t,e))return!1;for(X.clear();e;){for(var r=0,i=e.children.length;r<i;r++){var a=e.children[r],h=e.leaf?n(a):a;if(M(t,h)){if(e.leaf||v(t,h))return!0;X.push(a)}}e=X.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(t){if(!t)return this;var e,n=this.data,a=null,h=0,o=!1,s=this.toBBox(t);for(B.clear(),_.clear();n||B.length>0;){var l;if(n||(n=Object(r.d)(B.pop()),a=B.data[B.length-1],h=null!=(l=_.pop())?l:0,o=!0),n.leaf&&-1!==(e=Object(i.e)(n.children,t,n.children.length,n.indexHint)))return n.children.splice(e,1),B.push(n),this._condense(B),this;o||n.leaf||!v(n,s)?a?(h++,n=a.children[h],o=!1):n=null:(B.push(n),_.push(h),h=0,a=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){var n=t;for(Y.clear();n;){var r;if(!0===n.leaf)for(var i of n.children)e(i);else Y.pushArray(n.children);n=null!=(r=Y.pop())?r:null}}_build(t,e,n,r){var i=n-e+1,a=this._maxEntries;if(i<=a){var h=new b(t.slice(e,n+1));return s(h,this.toBBox),h}r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1)));var o=new y([]);o.height=r;var l=Math.ceil(i/a),c=l*Math.ceil(Math.sqrt(a));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var m=Math.min(u+c-1,n);g(t,u,m,l,this.compareMinY);for(var d=u;d<=m;d+=l){var f=Math.min(d+l-1,m);o.children.push(this._build(t,d,f,r-1))}}return s(o,this.toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){for(var i=void 0,a=1/0,h=1/0,o=0,s=e.children.length;o<s;o++){var l=e.children[o],c=d(l),u=p(t,l)-c;u<h?(h=u,a=c<a?c:a,i=l):u===h&&c<a&&(a=c,i=l)}e=i||e.children[0]}return e}_insert(t,e,n){var r=this.toBBox,i=n?t:r(t);B.clear();var a=this._chooseSubtree(i,this.data,e,B);for(a.children.push(t),c(a,i);e>=0&&B.data[e].children.length>this._maxEntries;)this._split(B,e),e--;this._adjustParentBBoxes(i,B,e)}_split(t,e){var n=t.data[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r);if(a){var h=n.children.splice(a,n.children.length-a),o=n.leaf?new b(h):new y(h);o.height=n.height,s(n,this.toBBox),s(o,this.toBBox),e?t.data[e-1].children.push(o):this._splitRoot(n,o)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}_splitRoot(t,e){this.data=new y([t,e]),this.data.height=t.height+1,s(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){var r,i,a;r=i=1/0;for(var h=e;h<=n-e;h++){var o=l(t,0,h,this.toBBox),s=l(t,h,n,this.toBBox),c=x(o,s),u=d(o)+d(s);c<r?(r=c,a=h,i=u<i?u:i):c===r&&u<i&&(i=u,a=h)}return a}_chooseSplitAxis(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:m;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,a=l(t,0,e,i),h=l(t,n-e,n,i),o=f(a)+f(h),s=e;s<n-e;s++){var u=t.children[s];c(a,t.leaf?i(u):u),o+=f(a)}for(var m=n-e-1;m>=e;m--){var d=t.children[m];c(h,t.leaf?i(d):d),o+=f(h)}return o}_adjustParentBBoxes(t,e,n){for(var r=n;r>=0;r--)c(e.data[r],t)}_condense(t){for(var e=t.length-1;e>=0;e--){var n=t.data[e];if(0===n.children.length)if(e>0){var r=t.data[e-1],a=r.children;a.splice(Object(i.e)(a,n,a.length,r.indexHint),1)}else this.clear();else s(n,this.toBBox)}}_initFormat(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function s(t,e){l(t,0,t.children.length,e,t)}function l(t,e,n,r,i){i||(i=new b([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,h=e;h<n;h++)a=t.children[h],c(i,t.leaf?r(a):a);return i}function c(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function u(t,e){return t.minX-e.minX}function m(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function x(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function M(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t,e,n,i,a){for(var o=[e,n];o.length;){var s=Object(r.d)(o.pop()),l=Object(r.d)(o.pop());if(!(s-l<=i)){var c=l+Math.ceil((s-l)/i/2)*i;Object(h.a)(t,c,l,s,a),o.push(l,c,c,s)}}}var X=new a.a,Y=new a.a,B=new a.a,_=new a.a({deallocator:void 0});class w extends class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new i.a}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends w{constructor(t){super(),this.children=t,this.leaf=!1}}}}]);
//# sourceMappingURL=163.940f2503.chunk.js.map