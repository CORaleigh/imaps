{"version":3,"sources":["../node_modules/@arcgis/core/rest/support/ClosestFacilitySolveResult.js","../node_modules/@arcgis/core/rest/closestFacility.js","../node_modules/@arcgis/core/tasks/ClosestFacilityTask.js","../node_modules/@arcgis/core/tasks/Task.js"],"names":["f","r","l","fromJSON","features","map","geometry","j","o","constructor","super","this","directions","facilities","incidents","messages","pointBarriers","polylineBarriers","polygonBarriers","routes","readFacilities","readIncidents","readPointBarriers","e","barriers","readPolylineBarriers","readPolygonBarriers","readRoutes","s","a","spatialReference","i","t","d","type","n","prototype","u","m","y","c","p","g","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","returnRoutes","travelMode","url","solve","async","B","path","b","push","slice","apiKey","hasZ","forEach","get","A","query","toQueryParams","data","requestOptions","normalizeCtorArgs","parsedUrl","_parseUrl","_encode","Array","isArray","length","toJSON","JSON","stringify","readOnly","String"],"mappings":"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","file":"static/js/249.7198c04c.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/SpatialReference.js\";import n from\"./DirectionsFeatureSet.js\";import l from\"./FeatureSet.js\";import m from\"./NAMessage.js\";import u from\"../../geometry/Point.js\";import y from\"../../geometry/Polyline.js\";import c from\"../../geometry/Polygon.js\";function d(r){return r.features.map((o=>{const s=a.fromJSON(r.spatialReference),i=e.fromJSON(o);return t(i.geometry)&&(i.geometry.spatialReference=s),i}))}function f(r){return l.fromJSON(r).features.map((r=>r.geometry))}let j=class extends o{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return f(r)}readIncidents(r){return f(r)}readPointBarriers(r,e){return f(e.barriers)}readPolylineBarriers(r){return f(r)}readPolygonBarriers(r){return f(r)}readRoutes(r){return d(r)}};r([s({type:[n]})],j.prototype,\"directions\",void 0),r([s({type:[u]})],j.prototype,\"facilities\",void 0),r([i(\"facilities\")],j.prototype,\"readFacilities\",null),r([s({type:[u]})],j.prototype,\"incidents\",void 0),r([i(\"incidents\")],j.prototype,\"readIncidents\",null),r([s({type:[m]})],j.prototype,\"messages\",void 0),r([s({type:[u]})],j.prototype,\"pointBarriers\",void 0),r([i(\"pointBarriers\",[\"barriers\"])],j.prototype,\"readPointBarriers\",null),r([s({type:[y]})],j.prototype,\"polylineBarriers\",void 0),r([i(\"polylineBarriers\")],j.prototype,\"readPolylineBarriers\",null),r([s({type:[c]})],j.prototype,\"polygonBarriers\",void 0),r([i(\"polygonBarriers\")],j.prototype,\"readPolygonBarriers\",null),r([s({type:[e]})],j.prototype,\"routes\",void 0),r([i(\"routes\")],j.prototype,\"readRoutes\",null),j=r([p(\"esri.rest.support.ClosestFacilitySolveResult\")],j);const g=j;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{createQueryParamsHelper as r}from\"../core/queryUtils.js\";import{normalizeCentralMeridian as t}from\"../geometry/support/normalizeUtils.js\";import{collectGeometries as i,isInputGeometryZAware as s,fetchServiceDescription as a,dropZValuesOffInputGeometry as o}from\"./networkService.js\";import{parseUrl as n}from\"./utils.js\";import u from\"./support/ClosestFacilitySolveResult.js\";const l=r({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});async function c(r,c,m){const f=[],p=[],y={},B={},d=n(r),{path:b}=d;c.incidents&&c.incidents.features&&i(c.incidents.features,p,\"incidents.features\",y),c.facilities&&c.facilities.features&&i(c.facilities.features,p,\"facilities.features\",y),c.pointBarriers&&c.pointBarriers.features&&i(c.pointBarriers.features,p,\"pointBarriers.features\",y),c.polylineBarriers&&c.polylineBarriers.features&&i(c.polylineBarriers.features,p,\"polylineBarriers.features\",y),c.polygonBarriers&&c.polygonBarriers.features&&i(c.polygonBarriers.features,p,\"polygonBarriers.features\",y);const g=await t(p);for(const e in y){const r=y[e];f.push(e),B[e]=g.slice(r[0],r[1])}if(s(B,f)){let e=null;try{e=await a(b,c.apiKey,m)}catch{}e&&!e.hasZ&&o(B,f)}for(const e in B)B[e].forEach(((r,t)=>{c.get(e)[t].geometry=r}));const A={...m,query:{...d.query,...l.toQueryParams(c),f:\"json\"}},{data:j}=await e(`${b}/solveClosestFacility`,A);return u.fromJSON(j)}export{c as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{solve as t}from\"../rest/closestFacility.js\";import e from\"./Task.js\";let c=class extends e{constructor(s){super(s),this.url=null}solve(s,r){return t(this.url,s,r)}};s([r()],c.prototype,\"url\",void 0),c=s([o(\"esri.tasks.ClosestFacilityTask\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import s from\"../core/Accessor.js\";import{urlToObject as t}from\"../core/urlUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";let i=class extends s{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,s){return\"string\"!=typeof r?r:{url:r,...s}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?t(r):null}_encode(r,s,t){const o={};for(const e in r){if(\"declaredClass\"===e)continue;const i=r[e];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){o[e]=[];for(let r=0;r<i.length;r++)o[e][r]=this._encode(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(t&&t[e]);o[e]=s?r:JSON.stringify(r)}else o[e]=s?i:JSON.stringify(i);else o[e]=i}return o}};r([o({readOnly:!0})],i.prototype,\"parsedUrl\",null),r([o()],i.prototype,\"requestOptions\",void 0),r([o({type:String})],i.prototype,\"url\",void 0),i=r([e(\"esri.tasks.Task\")],i);const l=i;export{l as default};\n"],"sourceRoot":""}