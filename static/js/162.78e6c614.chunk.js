(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[162,275],{1169:function(e,t,l){},1326:function(e,t,l){"use strict";l.r(t),l.d(t,"Layers",(function(){return s}));var r=l(1),n=l(1181);const i=e=>{const t=e.item;if("group"!=t.layer.type&&void 0!=t.layer.type){const e=document.createElement("calcite-slider");e.setAttribute("min","0"),e.setAttribute("max","100"),e.setAttribute("step","1"),e.setAttribute("snap",""),e.setAttribute("min-label","0%"),e.setAttribute("max-label","100%"),e.setAttribute("label-handles",""),e.setAttribute("value",Math.round(100*(null===t||void 0===t?void 0:t.layer.opacity)).toString()),e.setAttribute("data",t.layer.id),e.addEventListener("calciteSliderUpdate",(e=>{var l;t.layer.opacity=Math.round(parseInt(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.getAttribute("value")))/100}),{passive:!0}),t.panel={content:[e,"legend"],open:t.layer.visible},t.layer.watch("visible",(e=>{t.panel.open=e,e&&("group"===t.layer.parent.type&&(t.layer.parent.visible=!0),"group"===t.layer.parent.parent.type&&(t.layer.parent.parent.visible=!0))}))}},a=(e,t)=>{t.operationalItems.forEach((t=>{if("group"===t.layer.type){let y=!1;var l,r,n,i;if(t.layer.layers.forEach((t=>{t.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",y=!0):t.listMode="hide","group"===t.type&&t.layers.forEach((l=>{l.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",l.listMode="show",y=!0):l.listMode="hide"}))})),e.length)if(y){var a,o,s,u;t.open=!0,null===(a=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===a||null===(o=a.parentElement)||void 0===o||null===(s=o.parentElement)||void 0===s||null===(u=s.parentElement)||void 0===u||u.removeAttribute("hidden")}else{var c,d,v,p;t.open=!1,null===(c=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===c||null===(d=c.parentElement)||void 0===d||null===(v=d.parentElement)||void 0===v||null===(p=v.parentElement)||void 0===p||p.setAttribute("hidden","")}else t.open=!1,null===(l=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===l||null===(r=l.parentElement)||void 0===r||null===(n=r.parentElement)||void 0===n||null===(i=n.parentElement)||void 0===i||i.removeAttribute("hidden")}}))};l(1169);var o=l(0);const s=e=>{const t=Object(r.useRef)(null),l=Object(r.useRef)(null),s=Object(r.useRef)();return Object(r.useEffect)((()=>{console.log(e.active)}),[e.active]),Object(r.useEffect)((()=>{var r;const o=new n.a({container:t.current,view:e.view,listItemCreatedFunction:i,visibleElements:{statusIndicators:!0}});return s.current=o,null===(r=l.current)||void 0===r||r.addEventListener("calciteInputInput",(e=>{a(e.target.value,o)})),()=>{var e;null===(e=l.current)||void 0===e||e.removeEventListener("calciteInputInput",(e=>{a(e.target.value,o)})),o&&o.destroy()}}),[e.view]),Object(o.jsxs)("div",{className:"panel",children:[Object(o.jsxs)("div",{className:"row sticky",children:[Object(o.jsx)("calcite-input",{ref:l,clearable:!0,placeholder:"Filter by layer name",scale:"m",id:"layerSearch"}),Object(o.jsx)("calcite-action",{icon:"viewHide",scale:"m",onClick:()=>{(e=>{null===e||void 0===e||e.operationalItems.forEach((e=>{e.visible="Property"===e.title}))})(s.current)}})]}),Object(o.jsx)("div",{ref:t})]})};t.default=s},524:function(e,t){function l(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}l.keys=function(){return[]},l.resolve=l,e.exports=l,l.id=524}}]);
//# sourceMappingURL=162.78e6c614.chunk.js.map