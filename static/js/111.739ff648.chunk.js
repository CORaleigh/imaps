(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[111,55,231,245],{1009:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return E}));n(98);var r=n(100),i=n(88);function o(e,t){for(const n of e)if(null!=n&&t(n))return n}var s=n(85),a=n(89),u=n(96),c=n(178),l=n(106),f=n(172),d=n(675);function h(e){var t;return null!=(t=function(e){var t,n,r,i;const o=p.exec(e);if(!o)return null;const s=o.groups,a=+s.year,u=+s.month-1,c=+s.day,l=+(null!=(t=s.hours)?t:"0"),f=+(null!=(n=s.minutes)?n:"0"),d=+(null!=(r=s.seconds)?r:"0");if(l>23)return null;if(f>59)return null;if(d>59)return null;const h=null!=(i=s.ms)?i:"0",m=h?+h.padEnd(3,"0").substring(0,3):0;let y;if(s.isUTC)y=Date.UTC(a,u,c,l,f,d,m);else if(s.offsetSign){const e=+s.offsetHours,t=+s.offsetMinutes;y=6e4*("+"===s.offsetSign?-1:1)*(60*e+t)+Date.UTC(a,u,c,l,f,d,m)}else y=new Date(a,u,c,l,f,d,m).getTime();return Number.isNaN(y)?null:y}(e))?t:function(e){const t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}const p=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;var m=n(907),y=n(154),g=n(93),b=n(99);const O="xlink:href",j="2.0.0",w="__esri_wfs_id__",x="wfs-layer:getWFSLayerTypeInfo-error",v="wfs-layer:empty-service",M="wfs-layer:feature-type-not-found",F="wfs-layer:unknown-geometry-type",_="wfs-layer:unknown-field-type",S="wfs-layer:unsupported-spatial-reference",T="wfs-layer:unsupported-wfs-version";async function I(e,t){const n=function(e){const t=U(e);(function(e){const t=e.firstElementChild.getAttribute("version");if(t&&t!==j)throw new i.a(T,`Unsupported WFS version ${t}. Supported version: ${j}`)})(t),V(t);const n=t.firstElementChild,r=new Map;return{operations:N(n),get featureTypes(){return Array.from(P(n,r))},readFeatureTypes:()=>P(n,r)}}((await Object(r.default)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:j,...null==t?void 0:t.customParameters},signal:null==t?void 0:t.signal})).data);return function(e,t){Object(u.v)(e)&&(Object(u.q)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=Object(u.J)(t.operations.DescribeFeatureType.url)),Object(u.q)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=Object(u.J)(t.operations.GetFeature.url)))}(e,n),n}const k=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function N(e){let t=!1;const n={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if(Object(m.b)(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(O)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(O)}}}};case"GetFeature":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(O)}}},Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:e=>{const t=e.textContent;k.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:e=>{t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:e=>{n.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new i.a("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(Object(s.j)(n.GetFeature.outputFormat))throw new i.a("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return n}function P(e,t){return Object(m.a)(e,{FeatureTypeList:{FeatureType:e=>{if(t.has(e))return t.get(e);const n={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},r=new Set([4326]),i=e=>{var t,n;const i=parseInt(null==(t=e.textContent.match(/(?<wkid>\d+$)/i))||null==(n=t.groups)?void 0:n.wkid,10);Number.isNaN(i)||r.add(i)};return Object(m.b)(e,{Name:e=>{const{name:t,prefix:r}=D(e.textContent);n.typeName=`${r}:${t}`,n.name=t,n.namespacePrefix=r,n.namespaceUri=e.lookupNamespaceURI(r)},Abstract:e=>{n.description=e.textContent},Title:e=>{n.title=e.textContent},WGS84BoundingBox:e=>{n.extent=function(e){let t,n,r,i;for(const o of e.children)switch(o.localName){case"LowerCorner":[t,n]=o.textContent.split(" ").map((e=>Number.parseFloat(e)));break;case"UpperCorner":[r,i]=o.textContent.split(" ").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:n,xmax:r,ymax:i,spatialReference:l.b}}(e)},DefaultSRS:i,DefaultCRS:i,OtherSRS:i,OtherCRS:i}),n.title||(n.title=n.name),n.supportedSpatialReferences.push(...r),t.set(e,n),n}}})}function R(e,t,n){return o(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function q(e,t,n,r={}){var o;const{featureType:u,extent:f}=await async function(e,t,n,r={}){const{spatialReference:o=g.a.WGS84}=r,a=e.readFeatureTypes(),u=t?R(a,t,n):a.next().value;if(Object(s.j)(u))throw t?new i.a(M,`The type '${t}' could not be found in the service`):new i.a(v,"The service is empty");let f=new b.a({...u.extent,spatialReference:o});if(!Object(l.d)(o,l.b))try{await Object(c.f)(l.b,o,void 0,r),f=Object(c.k)(f,l.b)}catch{throw new i.a(S,"Projection not supported")}return{extent:f,spatialReference:o,featureType:u}}(e,t,n,r),{fields:d,geometryType:h,swapXY:p,objectIdField:m,geometryField:y}=await async function(e,t,n={}){const[r,o]=await Object(a.j)([C(e.operations.DescribeFeatureType.url,t,n),G(e,t,n)]);if(r.error||o.error)throw new i.a(x,`An error occurred while getting info about the feature type '${t}'`,{error:r.error||o.error});const{fields:u,errors:c}=r.value,l=r.value.geometryType||o.value.geometryType,f=o.value.swapXY;if(Object(s.j)(l))throw new i.a(F,`The geometry type could not be determined for type '${t}`,{typeName:t,geometryType:l,fields:u,errors:c});return{...E(u),geometryType:l,swapXY:f}}(e,u.typeName,r);return{url:e.operations.GetCapabilities.url,name:u.name,namespaceUri:u.namespaceUri,fields:d,geometryField:y,geometryType:h,objectIdField:m,spatialReference:null!=(o=r.spatialReference)?o:g.a.WGS84,extent:f,swapXY:p,wfsCapabilities:e,customParameters:r.customParameters}}function E(e){var t;const n=e.find((e=>"geometry"===e.type));let r=e.find((e=>"oid"===e.type));return e=e.filter((e=>"geometry"!==e.type)),r||(r=new y.a({name:w,type:"oid",alias:w}),e.unshift(r)),{geometryField:null!=(t=null==n?void 0:n.name)?t:null,objectIdField:r.name,fields:e}}async function G(e,t,n={}){var i;let o,s=!1;const[a,u]=await Promise.all([A(e.operations.GetFeature.url,t,e.operations.GetFeature.outputFormat,{...n,count:1}),Object(r.default)(e.operations.GetFeature.url,{responseType:"text",query:L(t,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),c="FeatureCollection"===a.type&&(null==(i=a.features[0])?void 0:i.geometry);if(c){let e;switch(o=f.a.fromJSON(Object(d.b)(c.type)),c.type){case"Point":e=c.coordinates;break;case"LineString":case"MultiPoint":e=c.coordinates[0];break;case"MultiLineString":case"Polygon":e=c.coordinates[0][0];break;case"MultiPolygon":e=c.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(u.data);if(t){const n=e[0].toFixed(3),r=e[1].toFixed(3),i=parseFloat(t[1]).toFixed(3);n===parseFloat(t[2]).toFixed(3)&&r===i&&(s=!0)}}return{geometryType:o,swapXY:s}}async function C(e,t,n){return function(e,t){const{name:n}=D(e),r=U(t);V(r);const a=o(Object(m.a)(r.firstElementChild,{element:e=>({name:e.getAttribute("name"),typeName:D(e.getAttribute("type")).name})}),(({name:e})=>e===n));if(Object(s.k)(a)){const e=o(Object(m.a)(r.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute("name")===a.typeName));if(Object(s.k)(e))return function(e){var t,n;const r=[],o=[];let s;const a=Object(m.a)(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const u of a){const a=u.getAttribute("name");if(!a)continue;let c,l;if(u.hasAttribute("type")?c=D(u.getAttribute("type")).name:Object(m.b)(u,{simpleType:{restriction:e=>(c=D(e.getAttribute("base")).name,{maxLength:e=>{l=+e.getAttribute("value")}})}}),!c)continue;const f="true"===u.getAttribute("nillable");let d=!1;switch(c.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":o.push(new y.a({name:a,alias:a,type:"integer",nullable:f}));break;case"float":case"double":case"decimal":o.push(new y.a({name:a,alias:a,type:"double",nullable:f}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":o.push(new y.a({name:a,alias:a,type:"string",nullable:f,length:null!=(t=l)?t:255}));break;case"datetime":case"date":o.push(new y.a({name:a,alias:a,type:"date",nullable:f,length:null!=(n=l)?n:36}));break;case"pointpropertytype":s="point",d=!0;break;case"multipointpropertytype":s="multipoint",d=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":s="polyline",d=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":s="polygon",d=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":d=!0,r.push(new i.a(F,`geometry type '${c}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new i.a(_,`Unknown field type '${c}'`,{type:(new XMLSerializer).serializeToString(e)}))}d&&o.push(new y.a({name:a,alias:a,type:"geometry",nullable:f}))}for(const i of o)if("integer"===i.type&&!i.nullable&&z.has(i.name.toLowerCase())){i.type="oid";break}return{geometryType:s,fields:o,errors:r}}(e)}throw new i.a(M,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(r)})}(t,(await Object(r.default)(e,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:j,TYPENAME:t,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}const z=new Set(["objectid","fid"]);async function A(e,t,n,o){let{data:s}=await Object(r.default)(e,{responseType:"text",query:L(t,n,o),signal:null==o?void 0:o.signal});s=s.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{var a;if(null!=o&&null!=(a=o.dateFields)&&a.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,n)=>e.has(t)?h(n):n))}return JSON.parse(s)}catch(u){throw new i.a("wfs-layer:malformed-json","Error while parsing the\xa0response",{response:s,error:u})}}function L(e,t,n){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:j,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null==n?void 0:n.startIndex,COUNT:null==n?void 0:n.count,...null==n?void 0:n.customParameters}}function U(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function D(e){const[t,n]=e.split(":");return{prefix:n?t:"",name:null!=n?n:t}}function V(e){let t,n;if(Object(m.b)(e.firstElementChild,{Exception:e=>(t=e.getAttribute("exceptionCode"),{ExceptionText:e=>{n=e.textContent}})}),t)throw new i.a(`wfs-layer:${t}`,n)}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return F})),n.d(t,"k",(function(){return ee})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return z})),n.d(t,"x",(function(){return J})),n.d(t,"y",(function(){return g})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return B}));var r=n(88),i=n(85),o=n(116),s=n(164),a=n(153);const u=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],c=["field","normalizationField"];function l(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(f(u,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)f(c,e,t)}function f(e,t,n){if(e)for(const r of e){const e=Object(o.b)(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&Object(o.c)(r,i.name,t)}}function d(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=r&&r.name||null}}const h=new Set;function p(e,t){return e&&t?(h.clear(),m(h,e,t),Array.from(h).sort()):[]}function m(e,t,n){var r;if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of n)y(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function y(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function g(e,t){return Object(i.j)(t)||Object(i.j)(e)?[]:t.includes("*")?e.fields.map((e=>e.name)):t}async function b(e,t,n){var r;if(!n)return;const{arcadeUtils:i}=await Object(a.e)(),o=i.extractFieldNames(n,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const s of o)y(e,t,s)}async function O(e,t,i){if(i&&"1=1"!==i){const o=(await Promise.all([n.e(11),n.e(245)]).then(n.bind(null,346))).WhereClause.create(i,t);if(!o.isStandardized)throw new r.a("fieldUtils:collectFilterFields","Where clause is not standardized");m(e,t,o.fieldNames)}}function j({displayField:e,fields:t}){return e||(t&&t.length?w(t,"name-or-title")||w(t,"unique-identifier")||w(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function w(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}async function x(e,t){if(!t)return;const n=Object(o.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}async function v(e,t,n){var r;if(!t||!n||"cluster"!==n.type)return;const i=[];null!=(r=n.popupTemplate)&&r.expressionInfos&&i.push(...n.popupTemplate.expressionInfos.map((n=>b(e,t.fieldsIndex,n.expression)))),n.fields&&i.push(...n.fields.map((n=>async function(e,t,n){n.outStatistic.onStatisticValueExpression?b(e,t,n.outStatistic.onStatisticValueExpression):e.add(n.outStatistic.onStatisticField)}(e,t.fieldsIndex,n)))),await Promise.all(i)}async function M(e,t,n){t&&(t.timeInfo&&Object(i.k)(n)&&n.timeExtent&&m(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&m(e,t.fieldsIndex,[t.floorInfo.floorField]),Object(i.k)(n)&&Object(i.k)(n.where)&&await O(e,t.fieldsIndex,n.where))}async function F(e,t,n){t&&n&&await Promise.all(n.map((n=>async function(e,t,n){t&&n&&(n.valueExpression?await b(e,t.fieldsIndex,n.valueExpression):n.field&&y(e,t.fieldsIndex,n.field))}(e,t,n))))}function _(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?p(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function S(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?p(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function T(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n&&n.length&&await Promise.all(n.map((t=>async function(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if("arcade"===r.type)await b(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{y(e,t,n.slice(1,-1))}))}await O(e,t,i)}(e,r,t))))}function I(e){const t=e.defaultValue;return void 0!==t&&C(e,t)?t:e.nullable?null:void 0}function k(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function N(e){return null===e||k(e)}const P="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function R(e){return null===e||P(e)}function q(e){return null!=e&&"string"==typeof e}function E(e){return null===e||q(e)}function G(){return!0}function C(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?R:P;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?N:k;break;case"string":case"esriFieldTypeString":n=e.nullable?E:q;break;default:n=G}return 1===arguments.length?n:n(t)}const z=["integer","small-integer","single","double"],A=new Set([...z,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function L(e){return null!=e&&A.has(e.type)}function U(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function D(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var V,$;function J(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function Z(e,t){return e.nullable&&null===t?null:L(e)&&!function(e,t){const n="string"==typeof e?X(e):e;return!!n&&(n.isInteger?P(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?V.OUT_OF_RANGE:C(e,t)?e.domain?Object(s.e)(e.domain,t):null:$.INVALID_TYPE}function W(e){return Object(s.c)(e.domain)||(L(e)?X(e.type):void 0)}function X(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return K;case"esriFieldTypeInteger":case"integer":return Y;case"esriFieldTypeSingle":case"single":return H;case"esriFieldTypeDouble":case"double":return Q}}(V||(V={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}($||($={}));const K={min:-32768,max:32767,isInteger:!0},Y={min:-2147483648,max:2147483647,isInteger:!0},H={min:-34e37,max:12e37,isInteger:!1},Q={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function B(e,t,n){switch(e){case s.a.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case s.a.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case $.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case V.OUT_OF_RANGE:{const{min:e,max:r}=X(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function ee(e,t){return!function(e,t,n){if(!t||!t.attributes||!e){if(Object(i.k)(n))for(const t of e)n.add(t);return!0}const r=t.attributes;let o=!1;for(const s of e)if(!(s in r)){if(o=!0,!Object(i.k)(n))break;n.add(s)}return o}(e,t,null)}},1158:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(88),i=n(80),o=n(85),s=n(89),a=n(106),u=n(165),c=n(847),l=n(394),f=n(770),d=n(675),h=n(906),p=n(1009),m=n(230);class y{constructor(){this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=async e=>{const{objectIdField:t}=this._queryEngine,n=await Object(p.d)(this._getFeatureUrl,this._featureType.typeName,this._getFeatureOutputFormat,{customParameters:this._customParameters,dateFields:this._queryEngine.fieldsIndex.dateFields.map((e=>e.name)),signal:e});await Object(d.d)(n),Object(s.v)(e);const r=Object(d.a)(n,{geometryType:this._queryEngine.geometryType,hasZ:!1,objectIdField:t});if(!Object(a.d)(this._queryEngine.spatialReference,a.b))for(const s of r)Object(o.k)(s.geometry)&&(s.geometry=Object(u.d)(Object(l.b)(Object(u.k)(s.geometry,this._queryEngine.geometryType,!1,!1),a.b,this._queryEngine.spatialReference)));let i=1;for(const o of r){const e={};Object(h.d)(this._fieldsIndex,e,o.attributes,null,!0),o.attributes=e,null==o.attributes[t]&&(o.objectId=o.attributes[t]=i++)}return r}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}async load(e,t){const{getFeatureUrl:n,getFeatureOutputFormat:r,spatialReference:i,fields:a,geometryType:u,featureType:l,objectIdField:d,customParameters:h}=e;this._featureType=l,this._customParameters=h,this._getFeatureUrl=n,this._getFeatureOutputFormat=r,this._fieldsIndex=new m.a(a),await this._checkProjection(i),Object(s.v)(t),this._queryEngine=new f.a({fields:a,geometryType:u,hasM:!1,hasZ:!1,objectIdField:d,spatialReference:i,timeInfo:null,featureStore:new c.a({geometryType:u,hasM:!1,hasZ:!1})});const p=await this._snapshotFeatures(Object(o.s)(t.signal));return this._queryEngine.featureStore.addMany(p),{extent:this._queryEngine.fullExtent}}async applyEdits(){throw new r.a("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}setCustomParameters(e){this._customParameters=e}async refresh(){var e;return null==(e=this._snapshotTask)||e.abort(),this._snapshotTask=Object(s.h)(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),Object(s.m)(e)||i.a.getLogger("esri.layers.WFSLayer").error(new r.a("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _checkProjection(e){try{await Object(l.a)(a.b,e)}catch{throw new r.a("unsupported-projection","Projection not supported",{spatialReference:e})}}}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"s",(function(){return y})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return F})),n.d(t,"v",(function(){return l})),n.d(t,"w",(function(){return m}));n(79),n(108);var r=n(85),i=n(99);function o(e=I){return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function u(e,t,n,r,i=o()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function c(e,t=o()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new i.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function f(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function d(e,t,n){if(Object(r.j)(t))a(n,e);else if("length"in t)S(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}}function h(e,t,n=e){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3];for(let u=0;u<r;u++){const e=t[u];i=Math.min(i,e[0]),o=Math.min(o,e[1]),s=Math.max(s,e[0]),a=Math.max(a,e[1])}return n[0]=i,n[1]=o,n[2]=s,n[3]=a,n}function p(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function m(e){return Object(r.j)(e)||e[0]>=e[2]?0:e[2]-e[0]}function y(e){return e[1]>=e[3]?0:e[3]-e[1]}function g(e){return m(e)*y(e)}function b(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function O(e,t){return w(e,t[0],t[1])}function j(e,t){return w(e,t.x,t.y)}function w(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function x(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function v(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function M(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function F(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function _(e){return e?a(e,T):o(T)}function S(e){return null!=e&&4===e.length}const T=[1/0,1/0,-1/0,-1/0],I=[0,0,0,0]},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return F})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return s})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return M}));var r=n(101),i=n(171);function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,n,r,i,o,s,a,u,c,l,f,d,h,p,m,y){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=m,e[15]=y,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e,t){if(e===t){const n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],y=t[14],g=t[15],b=n*a-r*s,O=n*u-i*s,j=n*c-o*s,w=r*u-i*a,x=r*c-o*a,v=i*c-o*u,M=l*m-f*p,F=l*y-d*p,_=l*g-h*p,S=f*y-d*m,T=f*g-h*m,I=d*g-h*y;let k=b*I-O*T+j*S+w*_-x*F+v*M;return k?(k=1/k,e[0]=(a*I-u*T+c*S)*k,e[1]=(i*T-r*I-o*S)*k,e[2]=(m*v-y*x+g*w)*k,e[3]=(d*x-f*v-h*w)*k,e[4]=(u*_-s*I-c*F)*k,e[5]=(n*I-i*_+o*F)*k,e[6]=(y*j-p*v-g*O)*k,e[7]=(l*v-d*j+h*O)*k,e[8]=(s*T-a*_+c*M)*k,e[9]=(r*_-n*T-o*M)*k,e[10]=(p*x-m*j+g*b)*k,e[11]=(f*j-l*x-h*b)*k,e[12]=(a*F-s*S-u*M)*k,e[13]=(n*S-r*F+i*M)*k,e[14]=(m*O-p*w-y*b)*k,e[15]=(l*w-f*O+d*b)*k,e):null}function l(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],m=t[12],y=t[13],g=t[14],b=t[15];let O=n[0],j=n[1],w=n[2],x=n[3];return e[0]=O*r+j*a+w*f+x*m,e[1]=O*i+j*u+w*d+x*y,e[2]=O*o+j*c+w*h+x*g,e[3]=O*s+j*l+w*p+x*b,O=n[4],j=n[5],w=n[6],x=n[7],e[4]=O*r+j*a+w*f+x*m,e[5]=O*i+j*u+w*d+x*y,e[6]=O*o+j*c+w*h+x*g,e[7]=O*s+j*l+w*p+x*b,O=n[8],j=n[9],w=n[10],x=n[11],e[8]=O*r+j*a+w*f+x*m,e[9]=O*i+j*u+w*d+x*y,e[10]=O*o+j*c+w*h+x*g,e[11]=O*s+j*l+w*p+x*b,O=n[12],j=n[13],w=n[14],x=n[15],e[12]=O*r+j*a+w*f+x*m,e[13]=O*i+j*u+w*d+x*y,e[14]=O*o+j*c+w*h+x*g,e[15]=O*s+j*l+w*p+x*b,e}function f(e,t,n){const r=n[0],i=n[1],o=n[2];let s,a,u,c,l,f,d,h,p,m,y,g;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15]):(s=t[0],a=t[1],u=t[2],c=t[3],l=t[4],f=t[5],d=t[6],h=t[7],p=t[8],m=t[9],y=t[10],g=t[11],e[0]=s,e[1]=a,e[2]=u,e[3]=c,e[4]=l,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=m,e[10]=y,e[11]=g,e[12]=s*r+l*i+p*o+t[12],e[13]=a*r+f*i+m*o+t[13],e[14]=u*r+d*i+y*o+t[14],e[15]=c*r+h*i+g*o+t[15]),e}function d(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function h(e,t,n,r){let o,s,a,u,c,l,f,d,h,p,m,y,g,b,O,j,w,x,v,M,F,_,S,T,I=r[0],k=r[1],N=r[2],P=Math.sqrt(I*I+k*k+N*N);return P<i.a?null:(P=1/P,I*=P,k*=P,N*=P,o=Math.sin(n),s=Math.cos(n),a=1-s,u=t[0],c=t[1],l=t[2],f=t[3],d=t[4],h=t[5],p=t[6],m=t[7],y=t[8],g=t[9],b=t[10],O=t[11],j=I*I*a+s,w=k*I*a+N*o,x=N*I*a-k*o,v=I*k*a-N*o,M=k*k*a+s,F=N*k*a+I*o,_=I*N*a+k*o,S=k*N*a-I*o,T=N*N*a+s,e[0]=u*j+d*w+y*x,e[1]=c*j+h*w+g*x,e[2]=l*j+p*w+b*x,e[3]=f*j+m*w+O*x,e[4]=u*v+d*M+y*F,e[5]=c*v+h*M+g*F,e[6]=l*v+p*M+b*F,e[7]=f*v+m*M+O*F,e[8]=u*_+d*S+y*T,e[9]=c*_+h*S+g*T,e[10]=l*_+p*S+b*T,e[11]=f*_+m*S+O*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function p(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=s*i+l*r,e[6]=a*i+f*r,e[7]=u*i+d*r,e[8]=c*i-o*r,e[9]=l*i-s*r,e[10]=f*i-a*r,e[11]=d*i-u*r,e}function m(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=s*i-l*r,e[2]=a*i-f*r,e[3]=u*i-d*r,e[8]=o*r+c*i,e[9]=s*r+l*i,e[10]=a*r+f*i,e[11]=u*r+d*i,e}function y(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=s*i+l*r,e[2]=a*i+f*r,e[3]=u*i+d*r,e[4]=c*i-o*r,e[5]=l*i-s*r,e[6]=f*i-a*r,e[7]=d*i-u*r,e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function b(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,u=i+i,c=o+o,l=r*a,f=r*u,d=r*c,h=i*u,p=i*c,m=o*c,y=s*a,g=s*u,b=s*c;return e[0]=1-(h+m),e[1]=f+b,e[2]=d-g,e[3]=0,e[4]=f-b,e[5]=1-(l+m),e[6]=p+y,e[7]=0,e[8]=d+g,e[9]=p-y,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}const x=Object(r.e)();function v(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function M(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,u=i+i,c=n*s,l=r*s,f=r*a,d=i*s,h=i*a,p=i*u,m=o*s,y=o*a,g=o*u;return e[0]=1-f-p,e[1]=l+g,e[2]=d-y,e[3]=0,e[4]=l-g,e[5]=1-c-p,e[6]=h+m,e[7]=0,e[8]=d+y,e[9]=h-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function F(e,t,n,r,i,o,s){const a=1/(n-t),u=1/(i-r),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*u,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function _(e,t,n,r,i,o,s){const a=1/(t-n),u=1/(r-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*u,e[14]=(s+o)*c,e[15]=1,e}function S(e,t,n,r){let o,s,u,c,l,f,d,h,p,m;const y=t[0],g=t[1],b=t[2],O=r[0],j=r[1],w=r[2],x=n[0],v=n[1],M=n[2];return Math.abs(y-x)<i.a&&Math.abs(g-v)<i.a&&Math.abs(b-M)<i.a?a(e):(d=y-x,h=g-v,p=b-M,m=1/Math.sqrt(d*d+h*h+p*p),d*=m,h*=m,p*=m,o=j*p-w*h,s=w*d-O*p,u=O*h-j*d,m=Math.sqrt(o*o+s*s+u*u),m?(m=1/m,o*=m,s*=m,u*=m):(o=0,s=0,u=0),c=h*u-p*s,l=p*o-d*u,f=d*s-h*o,m=Math.sqrt(c*c+l*l+f*f),m?(m=1/m,c*=m,l*=m,f*=m):(c=0,l=0,f=0),e[0]=o,e[1]=c,e[2]=d,e[3]=0,e[4]=s,e[5]=l,e[6]=h,e[7]=0,e[8]=u,e[9]=f,e[10]=p,e[11]=0,e[12]=-(o*y+s*g+u*b),e[13]=-(c*y+l*g+f*b),e[14]=-(d*y+h*g+p*b),e[15]=1,e)}function T(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function k(e,t){const n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],m=e[12],y=e[13],g=e[14],b=e[15],O=t[0],j=t[1],w=t[2],x=t[3],v=t[4],M=t[5],F=t[6],_=t[7],S=t[8],T=t[9],I=t[10],k=t[11],N=t[12],P=t[13],R=t[14],q=t[15];return Math.abs(n-O)<=i.a*Math.max(1,Math.abs(n),Math.abs(O))&&Math.abs(r-j)<=i.a*Math.max(1,Math.abs(r),Math.abs(j))&&Math.abs(o-w)<=i.a*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-x)<=i.a*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(a-v)<=i.a*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-M)<=i.a*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-F)<=i.a*Math.max(1,Math.abs(c),Math.abs(F))&&Math.abs(l-_)<=i.a*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(f-S)<=i.a*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(d-T)<=i.a*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(h-I)<=i.a*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(p-k)<=i.a*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-N)<=i.a*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(y-P)<=i.a*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(g-R)<=i.a*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(b-q)<=i.a*Math.max(1,Math.abs(b),Math.abs(q))}function N(e){const t=i.a,n=e[0],r=e[1],o=e[2],s=e[4],a=e[5],u=e[6],c=e[8],l=e[9],f=e[10];return Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(r*r+a*a+l*l))<=t&&Math.abs(1-(o*o+u*u+f*f))<=t}const P=l,R=T;Object.freeze({__proto__:null,copy:o,set:s,identity:a,transpose:u,invert:c,adjoint:function(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],y=t[14],g=t[15];return e[0]=a*(d*g-h*y)-f*(u*g-c*y)+m*(u*h-c*d),e[1]=-(r*(d*g-h*y)-f*(i*g-o*y)+m*(i*h-o*d)),e[2]=r*(u*g-c*y)-a*(i*g-o*y)+m*(i*c-o*u),e[3]=-(r*(u*h-c*d)-a*(i*h-o*d)+f*(i*c-o*u)),e[4]=-(s*(d*g-h*y)-l*(u*g-c*y)+p*(u*h-c*d)),e[5]=n*(d*g-h*y)-l*(i*g-o*y)+p*(i*h-o*d),e[6]=-(n*(u*g-c*y)-s*(i*g-o*y)+p*(i*c-o*u)),e[7]=n*(u*h-c*d)-s*(i*h-o*d)+l*(i*c-o*u),e[8]=s*(f*g-h*m)-l*(a*g-c*m)+p*(a*h-c*f),e[9]=-(n*(f*g-h*m)-l*(r*g-o*m)+p*(r*h-o*f)),e[10]=n*(a*g-c*m)-s*(r*g-o*m)+p*(r*c-o*a),e[11]=-(n*(a*h-c*f)-s*(r*h-o*f)+l*(r*c-o*a)),e[12]=-(s*(f*y-d*m)-l*(a*y-u*m)+p*(a*d-u*f)),e[13]=n*(f*y-d*m)-l*(r*y-i*m)+p*(r*d-i*f),e[14]=-(n*(a*y-u*m)-s*(r*y-i*m)+p*(r*u-i*a)),e[15]=n*(a*d-u*f)-s*(r*d-i*f)+l*(r*u-i*a),e},determinant:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],y=e[15];return(t*s-n*o)*(f*y-d*m)-(t*a-r*o)*(l*y-d*p)+(t*u-i*o)*(l*m-f*p)+(n*a-r*s)*(c*y-d*h)-(n*u-i*s)*(c*m-f*h)+(r*u-i*a)*(c*p-l*h)},multiply:l,translate:f,scale:d,rotate:h,rotateX:p,rotateY:m,rotateZ:y,fromTranslation:g,fromScaling:b,fromRotation:function(e,t,n){let r,o,s,a=n[0],u=n[1],c=n[2],l=Math.sqrt(a*a+u*u+c*c);return l<i.a?null:(l=1/l,a*=l,u*=l,c*=l,r=Math.sin(t),o=Math.cos(t),s=1-o,e[0]=a*a*s+o,e[1]=u*a*s+c*r,e[2]=c*a*s-u*r,e[3]=0,e[4]=a*u*s-c*r,e[5]=u*u*s+o,e[6]=c*u*s+a*r,e[7]=0,e[8]=a*c*s+u*r,e[9]=u*c*s-a*r,e[10]=c*c*s+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:O,fromYRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:j,fromRotationTranslation:w,fromQuat2:function(e,t){const n=x,r=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=r*r+i*i+o*o+s*s;return f>0?(n[0]=2*(a*s+l*r+u*o-c*i)/f,n[1]=2*(u*s+l*i+c*r-a*o)/f,n[2]=2*(c*s+l*o+a*i-u*r)/f):(n[0]=2*(a*s+l*r+u*o-c*i),n[1]=2*(u*s+l*i+c*r-a*o),n[2]=2*(c*s+l*o+a*i-u*r)),w(e,t,n),e},getTranslation:v,getScaling:function(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(u*u+c*c+l*l),e},getRotation:function(e,t){const n=t[0]+t[5]+t[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3],u=i+i,c=o+o,l=s+s,f=i*u,d=i*c,h=i*l,p=o*c,m=o*l,y=s*l,g=a*u,b=a*c,O=a*l,j=r[0],w=r[1],x=r[2];return e[0]=(1-(p+y))*j,e[1]=(d+O)*j,e[2]=(h-b)*j,e[3]=0,e[4]=(d-O)*w,e[5]=(1-(f+y))*w,e[6]=(m+g)*w,e[7]=0,e[8]=(h+b)*x,e[9]=(m-g)*x,e[10]=(1-(f+p))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,n,r,i){const o=t[0],s=t[1],a=t[2],u=t[3],c=o+o,l=s+s,f=a+a,d=o*c,h=o*l,p=o*f,m=s*l,y=s*f,g=a*f,b=u*c,O=u*l,j=u*f,w=r[0],x=r[1],v=r[2],M=i[0],F=i[1],_=i[2],S=(1-(m+g))*w,T=(h+j)*w,I=(p-O)*w,k=(h-j)*x,N=(1-(d+g))*x,P=(y+b)*x,R=(p+O)*v,q=(y-b)*v,E=(1-(d+m))*v;return e[0]=S,e[1]=T,e[2]=I,e[3]=0,e[4]=k,e[5]=N,e[6]=P,e[7]=0,e[8]=R,e[9]=q,e[10]=E,e[11]=0,e[12]=n[0]+M-(S*M+k*F+R*_),e[13]=n[1]+F-(T*M+N*F+q*_),e[14]=n[2]+_-(I*M+P*F+E*_),e[15]=1,e},fromQuat:M,frustum:F,perspective:function(e,t,n,r,i){const o=1/Math.tan(t/2);let s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),u=2/(s+a),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*u*.5,e[9]=(i-o)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},ortho:_,lookAt:S,targetTo:function(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=r[0],u=r[1],c=r[2];let l=i-n[0],f=o-n[1],d=s-n[2],h=l*l+f*f+d*d;h>0&&(h=1/Math.sqrt(h),l*=h,f*=h,d*=h);let p=u*d-c*f,m=c*l-a*d,y=a*f-u*l;return h=p*p+m*m+y*y,h>0&&(h=1/Math.sqrt(h),p*=h,m*=h,y*=h),e[0]=p,e[1]=m,e[2]=y,e[3]=0,e[4]=f*y-d*m,e[5]=d*p-l*y,e[6]=l*m-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},subtract:T,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},exactEquals:I,equals:k,isOrthoNormal:N,mul:P,sub:R})},154:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n(81),o=n(90),s=n(86),a=n(83),u=(n(79),n(84)),c=(n(80),n(97)),l=n(94),f=n(82),d=n(164),h=n(250);const p=new o.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=r=class extends s.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let n;try{n=JSON.parse(t)}catch(r){}return n?n.value:null}readValueType(e,{description:t}){let n;try{n=JSON.parse(t)}catch(r){}return n?p.fromJSON(n.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),Object(i.a)([Object(a.b)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),Object(i.a)([Object(a.b)()],m.prototype,"description",void 0),Object(i.a)([Object(l.a)("description")],m.prototype,"readDescription",null),Object(i.a)([Object(a.b)({types:d.d,json:{read:{reader:d.b},write:!0}})],m.prototype,"domain",void 0),Object(i.a)([Object(a.b)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),Object(i.a)([Object(a.b)({type:u.a,json:{write:!0}})],m.prototype,"length",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],m.prototype,"name",void 0),Object(i.a)([Object(a.b)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),Object(i.a)([Object(c.a)(h.a)],m.prototype,"type",void 0),Object(i.a)([Object(a.b)()],m.prototype,"valueType",void 0),Object(i.a)([Object(l.a)("valueType",["description"])],m.prototype,"readValueType",null),m=r=Object(i.a)([Object(f.a)("esri.layers.support.Field")],m);var y=m},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));var r=n(85),i=n(89);function o(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r]))))}function s(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r])))).then((e=>e.map((e=>e.value))))}function a(e){return Object(r.j)(e)?Object(i.t)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function u(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(i.u)(e),{ok:!1,error:e})))}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return K})),n.d(t,"e",(function(){return W})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return X})),n.d(t,"j",(function(){return Q})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return G})),n.d(t,"p",(function(){return fe})),n.d(t,"q",(function(){return re})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return le})),n.d(t,"t",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"v",(function(){return b})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return ue})),n.d(t,"y",(function(){return ee})),n.d(t,"z",(function(){return ae}));var r=n(88),i=n(80),o=n(85),s=n(95),a=n(237),u=n(279),c=n(167);function l(e,t){return e?t?4:3:t?3:2}const f=i.a.getLogger("esri.tasks.support.optimizedFeatureSet"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},h=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o},p=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2]},m=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+3]},y=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2],e[n+3]=t[r+3]};function g(e,t,n,r){if(e){if(n)return t&&r?y:p;if(t&&r)return m}else if(t&&r)return p;return h}function b({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function O({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function j({scale:e,translate:t},n){return n*e[0]+t[0]}function w({scale:e,translate:t},n){return t[1]-n*e[1]}function x(e,t,n){return e?t?n?I(e):F(e):n?S(e):v(e):null}function v(e){const t=e.coords;return{x:t[0],y:t[1]}}function M(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function F(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function _(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function S(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function T(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function I(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function N(e,t){return e&&t?k:e?_:t?T:M}function P(e,t,n,r,i){const o=N(n,r);for(const s of t){const{geometry:t,attributes:n}=s;let r;t&&(r=o(new c.a,t)),e.push(new a.b(r,n,null,n[i]))}return e}function R(e,t,n){if(Object(o.j)(e))return null;const r=l(t,n),i=[];for(let o=0;o<e.coords.length;o+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[o+n]);i.push(t)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function q(e,t,n,r,i){const o=l(n,r);for(const s of t){const t=s.geometry,n=s.attributes;let r;t&&(r=E(new c.a,t,o)),e.push(new a.b(r,n,null,n[i]))}return e}function E(e,t,n=l(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let i=0;for(const o of t.points)for(let e=0;e<n;e++)r[i++]=o[e];return e}function G(e,t,n){if(!e)return null;const r=l(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const u of o){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{paths:s,hasZ:t,hasM:n}:{paths:s,hasZ:t}:n?{paths:s,hasM:n}:{paths:s}}function C(e,t,n,r,i){const o=l(n,r);for(const s of t){const t=s.geometry,n=s.attributes;let r;t&&(r=z(new c.a,t,o)),e.push(new a.b(r,n,null,n[i]))}return e}function z(e,t,n=l(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e;let o=0;for(const s of t.paths){for(const e of s)for(let t=0;t<n;t++)i[o++]=e[t];r.push(s.length)}return e}function A(e,t,n){if(!e)return null;const r=l(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const u of o){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{rings:s,hasZ:t,hasM:n}:{rings:s,hasZ:t}:n?{rings:s,hasM:n}:{rings:s}}function L(e,t,n,r,i){for(const s of t){const t=s.geometry,u=s.centroid,l=s.attributes;let f;t&&(f=U(new c.a,t,n,r)),Object(o.k)(u)?e.push(new a.b(f,l,M(new c.a,u),l[i])):e.push(new a.b(f,l,null,l[i]))}return e}function U(e,t,n=t.hasZ,r=t.hasM){return D(e,t.rings,n,r),e}function D(e,t,n,r){const i=l(n,r),{lengths:o,coords:s}=e;let a=0;o.length=s.length=0;for(const u of t){for(const e of u)for(let t=0;t<i;t++)s[a++]=e[t];o.push(u.length)}return e}const V=[],$=[];function J(e,t,n,r,i){V[0]=e;const[o]=Z($,V,t,n,r,i);return V.length=$.length=0,o}function Z(e,t,n,i,o,s){if(e.length=0,!n){for(const n of t){const t=n.attributes[s];e.push(new a.b(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return P(e,t,i,o,s);case"esriGeometryMultipoint":return q(e,t,i,o,s);case"esriGeometryPolyline":return C(e,t,i,o,s);case"esriGeometryPolygon":return L(e,t,i,o,s);default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`)),e.length=0}return e}function W(e,t,n,i,o,s){const a=e.length;switch(n){case"esriGeometryPoint":P(e,t,i,o,s);break;case"esriGeometryMultipoint":q(e,t,i,o,s);break;case"esriGeometryPolyline":C(e,t,i,o,s);break;case"esriGeometryPolygon":L(e,t,i,o,s);break;default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<t.length;r++)e[r+a].geometryType=n,e[r+a].insertAfter=t[r].insertAfter,e[r+a].groupId=t[r].groupId;return e}function X(e,t,n,r){$[0]=e,H(V,$,t,n,r);const i=V[0];return V.length=$.length=0,i}function K(e,t,n){if(Object(o.j)(e))return null;const i=new c.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),Object(s.f)(e)?N(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(i,e):Object(s.g)(e)?U(i,e,t,n):Object(s.h)(e)?z(i,e,l(t,n)):Object(s.e)(e)?E(i,e,l(t,n)):void f.error("convertFromGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${e}'`))}function Y(e,t,n,i){const s=e&&("coords"in e?e:e.geometry);if(Object(o.j)(s))return null;switch(t){case"esriGeometryPoint":{let e=v;return n&&i?e=I:n?e=F:i&&(e=S),e(s)}case"esriGeometryMultipoint":return R(s,n,i);case"esriGeometryPolyline":return G(s,n,i);case"esriGeometryPolygon":return A(s,n,i);default:return void f.error("convertToGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${t}'`))}}function H(e,t,n,i,s){if(e.length=0,Object(o.j)(n))return function(e,t){for(const n of t)e.push({attributes:n.attributes});return e}(e,t);switch(n){case"esriGeometryPoint":return function(e,t,n,r){let i=v;n&&r?i=I:n?i=F:r&&(i=S);for(const s of t){const{geometry:t,attributes:n}=s,r=Object(o.k)(t)?i(t):null;e.push({attributes:n,geometry:r})}return e}(e,t,i,s);case"esriGeometryMultipoint":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:o}=i;let s;t&&(s=R(t,n,r)),e.push({attributes:o,geometry:s})}return e}(e,t,i,s);case"esriGeometryPolyline":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s}=i;let a;Object(o.k)(t)&&(a=G(t,n,r)),e.push({attributes:s,geometry:a})}return e}(e,t,i,s);case"esriGeometryPolygon":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s,centroid:a}=i;let u;if(Object(o.k)(t)&&(u=A(t,n,r)),a){const t=v(a);e.push({attributes:s,centroid:t,geometry:u})}else e.push({attributes:s,geometry:u})}return e}(e,t,i,s);default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}return e}function Q(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:i,hasM:o,hasZ:s,features:a,geometryType:u,exceededTransferLimit:c,uniqueIdField:l,queryGeometry:f,queryGeometryType:d}=e,h={features:H([],a,u,s,o),fields:i,geometryType:u,objectIdFieldName:t,spatialReference:n,uniqueIdField:l,queryGeometry:Y(f,d,!1,!1)};return r&&(h.transform=r),c&&(h.exceededTransferLimit=c),o&&(h.hasM=o),s&&(h.hasZ=s),h}function B(e,t){const n=new u.a,{hasM:i,hasZ:o,features:s,objectIdFieldName:a,spatialReference:c,geometryType:l,exceededTransferLimit:d,transform:h,fields:p}=e;return p&&(n.fields=p),n.geometryType=l,n.objectIdFieldName=a||t,n.spatialReference=c,n.objectIdFieldName?(s&&Z(n.features,s,l,o,i,n.objectIdFieldName),d&&(n.exceededTransferLimit=d),i&&(n.hasM=i),o&&(n.hasZ=o),h&&(n.transform=h),n):(f.error(new r.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function ee(e){const{transform:t,features:n,hasM:r,hasZ:i}=e;if(!t)return e;for(const s of n)Object(o.k)(s.geometry)&&ae(s.geometry,s.geometry,r,i,t),s.centroid&&ae(s.centroid,s.centroid,r,i,t);return e.transform=null,e}function te(e,t){const{geometryType:n,features:r,hasM:i,hasZ:o}=t;if(!e)return t;for(let s=0;s<r.length;s++){const t=r[s],a=t.weakClone();a.geometry=new c.a,ne(a.geometry,t.geometry,i,o,n,e),t.centroid&&(a.centroid=new c.a,ne(a.centroid,t.centroid,i,o,"esriGeometryPoint",e)),r[s]=a}return t.transform=e,t}function ne(e,t,n,r,i,s,a=n,u=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),Object(o.j)(t)||!t.coords.length)return null;const c=d[i],{coords:f,lengths:h}=t,p=l(n,r),m=l(n&&a,r&&u),y=g(n,r,a,u);if(!h.length)return y(e.coords,f,0,0,b(s,f[0]),O(s,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let j,w,x,v,M=0,F=0,_=F;for(const o of h){if(o<c)continue;let t=0;F=_,x=j=b(s,f[M]),v=w=O(s,f[M+1]),y(e.coords,f,F,M,x,v),t++,M+=p,F+=m;for(let n=1;n<o;n++,M+=p)x=b(s,f[M]),v=O(s,f[M+1]),x===j&&v===w||(y(e.coords,f,F,M,x-j,v-w),F+=m,t++,j=x,w=v);t>=c&&(e.lengths.push(t),_=F)}return e.coords.length=_,e.coords.length?e:null}function re(e,t,n,r,i,o,s=n,a=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=d[i],{coords:c,lengths:f}=t,h=l(n,r),p=l(n&&s,r&&a),m=g(n,r,s,a);if(!f.length)return m(e.coords,c,0,0,c[0],c[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;let y=0;const b=o*o;for(const l of f){if(l<u){y+=l*h;continue}const t=e.coords.length/p,n=y,r=y+(l-1)*h;m(e.coords,c,e.coords.length,n,c[n],c[n+1]),oe(e.coords,c,h,b,m,n,r),m(e.coords,c,e.coords.length,r,c[r],c[r+1]);const i=e.coords.length/p-t;i>=u?e.lengths.push(i):e.coords.length=t*p,y+=l*h}return e.coords.length?e:null}function ie(e,t,n,r){const i=e[t],o=e[t+1],s=e[n],a=e[n+1],u=e[r],c=e[r+1];let l=s,f=a,d=u-l,h=c-f;if(0!==d||0!==h){const e=((i-l)*d+(o-f)*h)/(d*d+h*h);e>1?(l=u,f=c):e>0&&(l+=d*e,f+=h*e)}return d=i-l,h=o-f,d*d+h*h}function oe(e,t,n,r,i,o,s){let a,u=r,c=0;for(let l=o+n;l<s;l+=n)a=ie(t,l,o,s),a>u&&(c=l,u=a);u>r&&(c-o>n&&oe(e,t,n,r,i,o,c),i(e,t,e.length,c,t[c],t[c+1]),s-c>n&&oe(e,t,n,r,i,c,s))}function se(e,t,n,r){if(Object(o.j)(t)||!t.coords||!t.coords.length)return null;const i=l(n,r);let s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1];s=Math.min(s,n),u=Math.max(u,n),a=Math.min(a,r),c=Math.max(c,r)}}return e[0]=s,e[1]=a,e[2]=u,e[3]=c,e}function ae(e,t,n,r,i){const{coords:o,lengths:s}=t,a=n?r?y:p:r?p:h,u=l(n,r);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return a(e.coords,o,0,0,j(i,o[0]),w(i,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[c,f]=i.scale;let d=0;for(let l=0;l<s.length;l++){const t=s[l];e.lengths[l]=t;let n=j(i,o[d]),r=w(i,o[d+1]);a(e.coords,o,d,d,n,r),d+=u;for(let i=1;i<t;i++,d+=u)n+=o[d]*c,r-=o[d+1]*f,a(e.coords,o,d,d,n,r)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function ue(e,t,n,r,i,o){const s=l(n,r),a=g(n,r,i,o),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let c=0;c<u.length;c+=s)a(e.coords,u,e.coords.length,c,u[c],u[c+1]);return e}function ce(e,t,n,r){let i=0,o=e[r*t],s=e[r*(t+1)];for(let a=1;a<n;a++){const n=o+e[r*(t+a)],u=s+e[r*(t+a)+1],c=(n-o)*(u+s);o=n,s=u,i+=c}return.5*i}function le(e,t){const{coords:n,lengths:r}=e;let i=0,o=0;for(let s=0;s<r.length;s++)o+=ce(n,i,r[s],t),i+=s;return Math.abs(o)}function fe(e,t){if(Object(o.j)(e))return null;const n=e.clone(),r=e.coords,i=e.lengths;let s=0;for(let o=0;o<i.length;o++){const e=i[o];let a=r[t*s],u=r[t*s+1];for(let i=1;i<e;i++){const e=a+r[t*(s+i)],o=u+r[t*(s+i)+1];n.coords[t*(s+i)]=e,n.coords[t*(s+i)+1]=o,a=e,u=o}s+=e}return n}},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e=[],t=[],n=!1){this.lengths=null!=e?e:[],this.coords=null!=t?t:[],this.hasIndeterminateRingOrder=n}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}clone(e){return e?(e.set(this.coords),new r(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},196:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n(81),i=n(133),o=n(88),s=n(86),a=n(87),u=n(142),c=n(85),l=n(96),f=n(83),d=n(84),h=(n(79),n(80)),p=n(94),m=n(82),y=n(99),g=n(166),b=n(92),O=n(107);const j=h.a.getLogger("esri.portal.PortalItemResource");let w=class extends b.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){Object(c.k)(e)&&Object(l.s)(e)?j.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const n=this.url;if(Object(c.j)(n))throw new o.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(n,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(c.i)(t,"signal")})}async update(e,t){return(await n.e(21).then(n.bind(null,843))).addOrUpdateResource(this,"update",e,t)}hasPath(){return Object(c.k)(this.path)}normalizePath(e,t){return Object(c.j)(e)?e:(e=e.replace(/^\/+/,""),Object(c.k)(t)&&Object(l.s)(e)&&(e=Object(l.C)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(r.a)([Object(f.b)()],w.prototype,"portalItem",void 0),Object(r.a)([Object(f.b)({type:String,value:null})],w.prototype,"path",null),Object(r.a)([Object(O.a)("path")],w.prototype,"_castPath",null),Object(r.a)([Object(f.b)({type:String,readOnly:!0})],w.prototype,"url",null),Object(r.a)([Object(f.b)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=Object(r.a)([Object(m.a)("esri.portal.PortalItemResource")],w);var x=w;let v=class extends b.a{constructor(e){super(e),this.created=null,this.rating=null}};Object(r.a)([Object(f.b)()],v.prototype,"created",void 0),Object(r.a)([Object(f.b)()],v.prototype,"rating",void 0),v=Object(r.a)([Object(m.a)("esri.portal.PortalRating")],v);var M,F=v;let _=M=class extends(Object(s.b)(u.a)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Object(d.d)(M,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?n=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?n=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?n="Locator":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?n=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"OGCFeatureServer"===e&&(n="OGC Feature Layer"),n}readExtent(e){return e&&e.length?new y.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let n,r=!1,o=!1,s=!1,a=!1,u=!1,c=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.indexOf("Table")>-1,s=t.indexOf("Route Layer")>-1,a=t.indexOf("Markup")>-1,u=-1!==t.indexOf("Spatiotemporal"),c=-1!==t.indexOf("UtilityNetwork"),n=u&&o?"spatiotemporaltable":o?"table":s?"routelayer":a?"markup":u?"spatiotemporal":r?"featureshosted":c?"utilitynetwork":"features"):n="map service"===e||"wms"===e||"wmts"===e?r||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):n="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"maps",n?Object(i.a)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=g.a.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(c.k)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof F&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new F({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(a.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(a.a)(this.categories),created:Object(a.a)(this.created),culture:this.culture,description:this.description,extent:Object(a.a)(this.extent),groupCategories:Object(a.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(a.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(a.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(a.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(a.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new M({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new F(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},M)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,n={method:"post"};n.query=this.createPostQuery();for(const e in n.query)null===n.query[e]&&(n.query[e]="");return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,n).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,n=e.filename,r={method:"post"};if("string"==typeof t)Object(l.u)(t)?r.query={data:t}:r.query={url:Object(l.A)(t)},Object(c.k)(n)&&(r.query.filename=n);else{const e=new FormData;Object(c.k)(n)?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await n.e(21).then(n.bind(null,843))).fetchResources(this,e,t)}async addResource(e,t,r){const i=await n.e(21).then(n.bind(null,843));return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await n.e(21).then(n.bind(null,843));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new o.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await n.e(21).then(n.bind(null,843))).removeAllResources(this,e)}resourceFromPath(e){return new x({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(a.c)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new M({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};Object(r.a)([Object(f.b)({type:["private","shared","org","public"]})],_.prototype,"access",void 0),Object(r.a)([Object(f.b)()],_.prototype,"accessInformation",void 0),Object(r.a)([Object(f.b)({type:String})],_.prototype,"apiKey",void 0),Object(r.a)([Object(f.b)({json:{read:{source:"appProxies"}}})],_.prototype,"applicationProxies",void 0),Object(r.a)([Object(f.b)()],_.prototype,"avgRating",void 0),Object(r.a)([Object(f.b)()],_.prototype,"categories",void 0),Object(r.a)([Object(f.b)({type:Date})],_.prototype,"created",void 0),Object(r.a)([Object(f.b)()],_.prototype,"culture",void 0),Object(r.a)([Object(f.b)()],_.prototype,"description",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"displayName",null),Object(r.a)([Object(f.b)({type:y.a})],_.prototype,"extent",void 0),Object(r.a)([Object(p.a)("extent")],_.prototype,"readExtent",null),Object(r.a)([Object(f.b)()],_.prototype,"groupCategories",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"iconUrl",null),Object(r.a)([Object(f.b)()],_.prototype,"id",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"isLayer",null),Object(r.a)([Object(f.b)()],_.prototype,"itemControl",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"itemUrl",null),Object(r.a)([Object(f.b)()],_.prototype,"licenseInfo",void 0),Object(r.a)([Object(f.b)({type:Date})],_.prototype,"modified",void 0),Object(r.a)([Object(f.b)()],_.prototype,"name",void 0),Object(r.a)([Object(f.b)()],_.prototype,"numComments",void 0),Object(r.a)([Object(f.b)()],_.prototype,"numRatings",void 0),Object(r.a)([Object(f.b)()],_.prototype,"numViews",void 0),Object(r.a)([Object(f.b)()],_.prototype,"owner",void 0),Object(r.a)([Object(f.b)()],_.prototype,"ownerFolder",void 0),Object(r.a)([Object(f.b)({type:g.a})],_.prototype,"portal",void 0),Object(r.a)([Object(f.b)()],_.prototype,"screenshots",void 0),Object(r.a)([Object(f.b)()],_.prototype,"size",void 0),Object(r.a)([Object(f.b)()],_.prototype,"snippet",void 0),Object(r.a)([Object(f.b)()],_.prototype,"sourceJSON",void 0),Object(r.a)([Object(f.b)()],_.prototype,"tags",void 0),Object(r.a)([Object(f.b)()],_.prototype,"thumbnail",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"thumbnailUrl",null),Object(r.a)([Object(f.b)()],_.prototype,"title",void 0),Object(r.a)([Object(f.b)()],_.prototype,"type",void 0),Object(r.a)([Object(f.b)()],_.prototype,"typeKeywords",void 0),Object(r.a)([Object(f.b)()],_.prototype,"url",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],_.prototype,"userItemUrl",null),_=M=Object(r.a)([Object(m.a)("esri.portal.PortalItem")],_);var S=_},207:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,n(236))},224:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O}));var r=n(129),i=n(88),o=n(80),s=n(85),a=n(124),u=n(132),c=n(231),l=n(106),f=n(158),d=(n(98),n(100)),h=n(96),p=n(95);async function m(e,t,n){const r="string"==typeof e?Object(h.K)(e):e,i=t[0].spatialReference,o=Object(p.c)(t[0]),s={...n,query:{...r.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((a=t,{geometryType:Object(p.c)(a[0]),geometries:a.map((e=>e.toJSON()))}))}};var a;return function(e,t,n){const r=Object(p.b)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=n,t}))}((await Object(d.default)(r.path+"/simplify",s)).data,o,i)}const y=o.a.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function O(e,t){if(!(e instanceof u.a||e instanceof a.a)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new i.a(e)}const n=Object(c.b)(e),r=[];for(const i of n){const e=[];r.push(e),e.push([i[0][0],i[0][1]]);for(let n=0;n<i.length-1;n++){const r=i[n][0],o=i[n][1],s=i[n+1][0],a=i[n+1][1],u=Math.sqrt((s-r)*(s-r)+(a-o)*(a-o)),c=(a-o)/u,l=(s-r)/u,f=u/t;if(f>1){for(let a=1;a<=f-1;a++){const n=a*t,i=l*n+r,s=c*n+o;e.push([i,s])}const n=(u+Math.floor(f-1)*t)/2,i=l*n+r,s=c*n+o;e.push([i,s])}e.push([s,a])}}return function(e){return"polygon"===e.type}(e)?new a.a({rings:r,spatialReference:e.spatialReference}):new u.a({paths:r,spatialReference:e.spatialReference})}function j(e,t,n){if(t){const t=O(e,1e6);e=Object(f.e)(t,!0)}return n&&(e=Object(c.e)(e,n)),e}function w(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=Object(c.d)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=Object(c.d)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=Object(c.d)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=Object(c.d)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function x(e,t,n){if(!Array.isArray(e))return x([e],t);const i=t?t.url:r.a.geometryServiceUrl;let o,y,O,v,M,F,_,S,T=0;const I=[],k=[];for(const r of e)if(Object(s.j)(r))k.push(r);else if(o||(o=r.spatialReference,y=Object(l.e)(o),O=o.isWebMercator,F=O?102100:4326,v=c.a[F].maxX,M=c.a[F].minX,_=c.a[F].plus180Line,S=c.a[F].minus180Line),y)if("mesh"===r.type)k.push(r);else if("point"===r.type)k.push(w(r.clone(),v,M));else if("multipoint"===r.type){const e=r.clone();e.points=e.points.map((e=>w(e,v,M))),k.push(e)}else if("extent"===r.type){const e=r.clone()._normalize(!1,!1,y);k.push(e.rings?new a.a(e):e)}else if(r.extent){const e=r.extent,t=Object(c.d)(e.xmin,M)*(2*v);let n=0===t?r.clone():Object(c.e)(r.clone(),t);e.offset(t,0),e.intersects(_)&&e.xmax!==v?(T=e.xmax>T?e.xmax:T,n=j(n,O),I.push(n),k.push("cut")):e.intersects(S)&&e.xmin!==M?(T=e.xmax*(2*v)>T?e.xmax*(2*v):T,n=j(n,O,360),I.push(n),k.push("cut")):k.push(n)}else k.push(r.clone());else k.push(r);let N=Object(c.d)(T,v),P=-90;const R=N,q=new u.a;for(;N>0;){const e=360*N-180;q.addPath([[e,P],[e,-1*P]]),P*=-1,N--}if(I.length>0&&R>0){const t=function(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],o=t.geometries[r],s=Object(c.b)(o);for(let e=0;e<s.length;e++){const t=s[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*Object(c.d)(n,180);for(let i=0;i<t.length;i++){const t=o.getPoint(e,i);o.setPoint(e,i,t.clone().offset(r,0))}return!0}}))}if(i===n){if(g(e))for(const t of Object(c.b)(o))e[i]=e[i].addRing(t);else if(b(e))for(const t of Object(c.b)(o))e[i]=e[i].addPath(t)}else n=i,e[i]=o}return e}(I,await async function(e,t,n,r){const i="string"==typeof e?Object(h.K)(e):e,o=t[0].spatialReference,s={...r,query:{...i.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:Object(p.c)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await Object(d.default)(i.path+"/cut",s),{cutIndexes:u,geometries:c=[]}=a.data;return{cutIndexes:u,geometries:c.map((e=>{const t=Object(p.a)(e);return t.spatialReference=o,t}))}}(i,I,q,n)),r=[],o=[];for(let n=0;n<k.length;n++){const i=k[n];if("cut"!==i)o.push(i);else{const i=t.shift(),a=e[n];Object(s.k)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&i.rings.length>=a.rings.length?(r.push(i),o.push("simplify")):o.push(O?Object(f.b)(i):i)}}if(!r.length)return o;const a=await m(i,r,n),u=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?u.push(t):u.push(O?Object(f.b)(a.shift()):a.shift())}return u}const E=[];for(let r=0;r<k.length;r++){const e=k[r];if("cut"!==e)E.push(e);else{const e=I.shift();E.push(!0===O?Object(f.b)(e):e)}}return Promise.resolve(E)}function v(e,t){const n=Object(l.e)(t);if(n){const[t,r]=n.valid,i=r-t;if(e<t)for(;e<t;)e+=i;if(e>r)for(;e>r;)e-=i}return e}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(186);class i{constructor(e,t,n){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,n,r=0){this._storage.put(this._namespace+e,t,n,r)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.a,this._users=new r.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,n,r){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),n>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(e,t,n){const r=this._db.get(e);if(r&&r.entry===t){if(this._size-=r.size,n>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);r.size=n,this._size+=n,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forAll((n=>{const i=n.namespace;if(r.startsWith(i)){const n=t[i]||0;t[i]=n+e.size}}))}));const r={};this._users.forAll((e=>{const n=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,n)=>t[n]-t[e])),i.forEach((n=>e[n]=Math.round(t[n])+"% / "+r[n]));for(let o=n.length-1;o>=0;--o){const t=n[o];t&&(e["Priority "+(o+-3-1)]=Math.round(t/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemoved(n,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((n=>{e.startsWith(n[0])&&n[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},230:function(e,t,n){"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}n.d(t,"a",(function(){return i}));class i{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const n of e){const e=n&&n.name;if(e){const i=o(e);this._fieldsMap.set(e,n),this._fieldsMap.set(i,n),t.push(i),r(n)&&(this.dateFields.push(n),this._dateFieldsSet.add(n))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function o(e){return e.toLowerCase().trim()}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return u}));var r=n(132),i=n(93),o=n(95);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:i.a.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.a.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function u(e,t){const n=c(e);for(const r of n)for(const e of r)e[0]+=t;return e}function c(e){return Object(o.g)(e)?e.rings:e.paths}function l(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[s[t].minX,s[t].maxX]}},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(85);class i{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new i(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function o(e){return!(Object(r.j)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class s extends i{}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=new(n(90).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return P})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return b})),n.d(t,"A",(function(){return I}));var r=n(85),i=(n(99),n(125));function o(e=E){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function s(e,t,n,r,i,s,a=o()){return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=s,a}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t,n=0,r=t.length/3){let i=e[0],o=e[1],s=e[2],a=e[3],u=e[4],c=e[5];for(let l=0;l<r;l++)i=Math.min(i,t[n+3*l]),o=Math.min(o,t[n+3*l+1]),s=Math.min(s,t[n+3*l+2]),a=Math.max(a,t[n+3*l]),u=Math.max(u,t[n+3*l+1]),c=Math.max(c,t[n+3*l+2]);e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=u,e[5]=c}function f(e,t,n){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3],u=e[4],c=e[5];if(n)for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),o=Math.min(o,e[1]),s=Math.min(s,e[2]),a=Math.max(a,e[0]),u=Math.max(u,e[1]),c=Math.max(c,e[2])}else for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),o=Math.min(o,e[1]),a=Math.max(a,e[0]),u=Math.max(u,e[1])}e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=u,e[5]=c}function d(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function h(e){return e[0]>=e[3]?0:e[3]-e[0]}function p(e){return e[1]>=e[4]?0:e[4]-e[1]}function m(e){return e[2]>=e[5]?0:e[5]-e[2]}function y(e){const t=h(e),n=m(e),r=p(e);return Math.sqrt(t*t+n*n+r*r)}function g(e,t=[0,0,0]){return t[0]=e[0]+h(e)/2,t[1]=e[1]+p(e)/2,t[2]=e[2]+m(e)/2,t}function b(e,t=[0,0,0]){return t[0]=h(e),t[1]=p(e),t[2]=m(e),t}function O(e){return Math.max(h(e),m(e),p(e))}function j(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function w(e,t){return!!Object(r.j)(t)||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function x(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function v(e,t,n=e){const r=e[0]+h(e)/2,i=e[1]+p(e)/2,o=e[2]+m(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=o+(e[2]-o)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=o+(e[5]-o)*t,n}function M(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function F(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function _(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function S(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function T(e){return e?S(e,q):o(q)}function I(e,t){return t||(t=Object(i.l)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function k(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function N(e){return 6===e.length}function P(e){return 0===h(e)&&0===p(e)&&0===m(e)}function R(e,t,n){if(Object(r.j)(e)||Object(r.j)(t))return e===t;if(!N(e)||!N(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const q=[1/0,1/0,1/0,-1/0,-1/0,-1/0],E=[0,0,0,0,0,0];o()},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i}));var r=n(139);const i=Math.PI/180,o=/SPHEROID\[([^\]]+)]/i,s=r.a.radius,a=r.a.eccentricitySquared,u={a1:s*a,a2:s*a*s*a,a3:s*a*a/2,a4:s*a*s*a*2.5,a5:s*a+s*a*a/2,a6:1-a},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(228);class i{constructor(e,t){this._storage=new r.b,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},675:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return j}));var r=n(88),i=n(237),o=n(167);const s={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function a(e){return s[e]}function*u(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*c(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function l(e){for(const t of e)if(t.length>2)return!0;return!1}function f(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function h(e,t,n){switch(t.type){case"LineString":return function(e,t,n){return y(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)y(e,r,n);return e}(e,t,n);case"MultiPoint":return function(e,t,n){return y(e,t.coordinates,n),e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){p(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return b(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;p(e,r[0],n);for(let i=1;i<r.length;i++)m(e,r[i],n);return e}(e,t,n)}}function p(e,t,n){const r=d(t);!function(e){return!f(e)}(r)?y(e,r,n):g(e,r,n)}function m(e,t,n){const r=d(t);!function(e){return f(e)}(r)?y(e,r,n):g(e,r,n)}function y(e,t,n){for(const r of t)b(e,r,n);e.lengths.push(t.length)}function g(e,t,n){for(let r=t.length-1;r>=0;r--)b(e,t[r],n);e.lengths.push(t.length)}function b(e,t,n){const[r,i,o]=t;e.coords.push(r,i),n.hasZ&&e.coords.push(o||0)}function O(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function j(e){if(!e)throw new r.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!i.test(n))throw new r.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function w(e,t={}){const n=[],r=new Set,i=new Set;let o,s=!1,f=Number.NEGATIVE_INFINITY,d=null,h=!1,{geometryType:p=null}=t,m=!1;for(const g of u(e)){const{geometry:e,properties:t,id:u}=g;if((!e||(p||(p=a(e.type)),a(e.type)===p))&&(s||(s=l(c(e))),h||(h=null!=u,h&&(o=typeof u,"number"===o&&(d=Object.keys(t).filter((e=>t[e]===u))))),h&&"number"===o&&null!=u&&(f=Math.max(f,u),d.length>1?d=d.filter((e=>t[e]===u)):1===d.length&&(d=t[d[0]]===u?d:[])),!m&&t)){let e=!0;for(const o in t){if(r.has(o))continue;const s=t[o];if(null==s){e=!1,i.add(o);continue}const a=O(s);"unknown"!==a?(i.delete(o),r.add(o),n.push({name:o,alias:o,type:a})):i.add(o)}m=e}}const y=d&&1===d.length&&d[0]||null;if(y)for(const a of n)a.name===y&&(a.type="esriFieldTypeOID");return{fields:n,geometryType:p,hasZ:s,maxObjectId:Math.max(0,f),objectIdFieldName:y,objectIdFieldType:o,unknownFields:Array.from(i)}}function x(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const u of e){var s;const{geometry:e,properties:c,id:l}=u;if(e&&a(e.type)!==n)continue;const f=c||{};let d=null!=(s=f[r])?s:null;r&&null!=l&&!f[r]&&(f[r]=d=l);const p=new i.b(e?h(new o.a,e,t):null,f,null,d);yield p}}(u(e),t))}},906:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p}));var r=n(106),i=n(115);class o{constructor(){this.code=null,this.description=null}}class s{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function a(e){return new s(e)}class u{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new u(e)}const l=new Set;function f(e,t,n,r,o=!1,s){l.clear();for(const u in n){const r=e.get(u);if(!r)continue;const c=n[u],f=d(r,c);if(f!==c&&s&&s.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:r,originalValue:c,sanitizedValue:f}}),l.add(r.name),r&&(o||r.editable)){const e=Object(i.z)(r,f);if(e)return a(Object(i.A)(e,r,f));t[r.name]=f}}if(r)for(const i of r)if(!l.has(i.name))return a(`missing required field "${i.name}"`);return null}function d(e,t){let n=t;return"string"==typeof t&&Object(i.u)(e)?n=parseFloat(t):null!=t&&Object(i.v)(e)&&"string"!=typeof t&&(n=String(t)),Object(i.x)(n)}let h;function p(e,t){if(!e||!Object(r.l)(t))return e;if("rings"in e||"paths"in e){if(!h)throw new TypeError("geometry engine not loaded");return h.simplify(t,e)}return e}async function m(e,t){!Object(r.l)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return h||(h=await Promise.all([n.e(9),n.e(33)]).then(n.bind(null,817)),h)}()}},907:function(e,t,n){"use strict";function r(e,t){for(const n of e.children)if(n.localName in t){const e=t[n.localName];if("function"==typeof e){const t=e(n);t&&r(n,t)}else r(n,e)}}function*i(e,t){for(const n of e.children)if(n.localName in t){const e=t[n.localName];"function"==typeof e?yield e(n):yield*i(n,e)}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))}}]);
//# sourceMappingURL=111.739ff648.chunk.js.map