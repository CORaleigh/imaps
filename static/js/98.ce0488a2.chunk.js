(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[98,59,195,260],{1011:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var i,n=r(79),o=r(119),a=r(627),s=r(298),l=r(88),c=r(147),u=r(86),d=r(89),p=r(87),h=r(85),b=r(81),m=r(104),f=r(93),y=r(80),O=r(92),g=r(83),j=r(96),v=r(925);const w="esri.webmap.Bookmark",_=p.a.getLogger(w);let k=i=class extends(Object(c.a)(u.a)){constructor(e){super(e),this.name=null,this.thumbnail=new v.a,this.timeExtent=null}set extent(e){Object(s.d)(_,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new a.a({targetGeometry:e.clone()})),this._set("extent",e)}castThumbnail(e){return"string"==typeof e?new v.a({url:e}):Object(g.m)(v.a,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;Object(h.l)(t)&&("extent"===t.type?this._set("extent",t.clone()):"point"===t.type&&Object(h.k)(r)&&_.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e)),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:r,viewpoint:i}=t;return a.a.fromJSON(i||{targetGeometry:r})}writeViewpoint(e,t,r,i){if(!e)return;const{targetGeometry:n}=e;if(Object(h.l)(n)&&"extent"!==n.type){const e="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";null!=i&&i.messages?i.messages.push(new l.a("property:unsupported",e)):_.error(e)}else t[r]=e.toJSON()}clone(){return new i(Object(d.a)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};Object(n.a)([Object(b.b)({type:j.a,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],k.prototype,"extent",null),Object(n.a)([Object(b.b)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],k.prototype,"name",void 0),Object(n.a)([Object(b.b)({type:v.a,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],k.prototype,"thumbnail",void 0),Object(n.a)([Object(m.a)("thumbnail")],k.prototype,"castThumbnail",null),Object(n.a)([Object(b.b)({type:o.a,json:{write:!0}})],k.prototype,"timeExtent",void 0),Object(n.a)([Object(b.b)({type:a.a,nonNullable:!0,json:{write:!0}})],k.prototype,"viewpoint",null),Object(n.a)([Object(f.a)("viewpoint",["extent","viewpoint"])],k.prototype,"readViewpoint",null),Object(n.a)([Object(O.a)("viewpoint")],k.prototype,"writeViewpoint",null),k=i=Object(n.a)([Object(y.a)(w)],k);const S=k},103:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r(462),n=r(113),o=r(85),a=r(83);function s(e){return Object(n.e)(Object(a.e)(e),0,255)}function l(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class c{constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}static blendColors(e,t,r,i=new c){return i.r=Math.round(e.r+(t.r-e.r)*r),i.g=Math.round(e.g+(t.g-e.g)*r),i.b=Math.round(e.b+(t.b-e.b)*r),i.a=e.a+(t.a-e.a)*r,i._sanitize()}static fromRgb(e,t){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const e=r[2].split(/\s*,\s*/),n=r[1];if("rgb"===n&&3===e.length||"rgba"===n&&4===e.length){const r=e[0];if("%"===r.charAt(r.length-1)){const r=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(r[3]=parseFloat(e[3])),c.fromArray(r,t)}return c.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===n&&3===e.length||"hsla"===n&&4===e.length)return c.fromArray(Object(i.d)(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e,t=new c){if(4!==e.length&&7!==e.length||"#"!==e[0])return null;const r=4===e.length?4:8,i=(1<<r)-1;let n=Number("0x"+e.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((e=>{const o=n&i;n>>=r,t[e]=4===r?17*o:o})),t.a=1,t)}static fromArray(e,t=new c){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=Object(i.e)(e)?Object(i.a)(e):null;return r&&c.fromArray(r,t)||c.fromRgb(e,t)||c.fromHex(e,t)}static fromJSON(e){return e&&new c([e[0],e[1],e[2],e[3]/255])}static toUnitRGB(e){return Object(o.l)(e)?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return Object(o.l)(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){if("string"==typeof e)c.fromString(e,this);else if(Array.isArray(e))c.fromArray(e,this);else{var t,r,i,n;this._set(null!=(t=e.r)?t:0,null!=(r=e.g)?r:0,null!=(i=e.b)?i:0,null!=(n=e.a)?n:1),e instanceof c||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return`#${e.length<2?"0"+e:e}${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}`}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const t=s(this.r),r=s(this.g),i=s(this.b);return 0===e||1!==this.a?[t,r,i,s(255*this.a)]:[t,r,i]}clone(){return new c(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(l(this.r,0,255)),this.g=Math.round(l(this.g,0,255)),this.b=Math.round(l(this.b,0,255)),this.a=l(this.a,0,1),this}_set(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i}}c.prototype.declaredClass="esri.Color"},106:function(e,t,r){"use strict";function i(){return[0,0,0]}function n(e){return[e[0],e[1],e[2]]}function o(e,t,r){return[e,t,r]}function a(e){const t=[0,0,0],r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function s(e,t){return new Float64Array(e,t,3)}function l(){return[0,0,0]}function c(){return o(1,1,1)}function u(){return o(1,0,0)}function d(){return o(0,1,0)}function p(){return o(0,0,1)}r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"h",(function(){return o}));const h=[0,0,0],b=c(),m=u(),f=d(),y=p();Object.freeze({__proto__:null,create:i,clone:n,fromValues:o,fromArray:a,createView:s,zeros:l,ones:c,unitX:u,unitY:d,unitZ:p,ZEROS:h,ONES:b,UNIT_X:m,UNIT_Y:f,UNIT_Z:y})},109:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var i=r(79),n=r(87),o=r(85),a=r(81),s=(r(84),r(82),r(104)),l=r(93),c=r(80),u=r(92),d=r(83),p=r(136),h=r(95);var b,m=r(110),f=r(163);const y=[0,0];function O(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}const g=n.a.getLogger("esri.geometry.Point");let j=b=class extends p.a{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,i,n){let o;if(Array.isArray(e))o=e,n=t,e=o[0],t=o[1],r=o[2],i=o[3];else if(e&&"object"==typeof e){if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,r=o.z,i=o.m,(n=o.spatialReference)&&"esri.geometry.SpatialReference"!==n.declaredClass&&(n=new h.a(n)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)g.warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)g.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&n&&n.isWebMercator){const r=Object(f.c)(o.longitude,o.latitude,y);e=r[0],t=r[1]}}else O(r)?(n=r,r=null):O(i)&&(n=i,i=null);const a={x:e,y:t};return null==a.x&&null!=a.y?g.warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&g.warn(".x=","X coordinate was defined without a Y coordinate"),null!=n&&(a.spatialReference=n),null!=r&&(a.z=r),null!=i&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Object(f.g)(t,r,y)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",Object(f.c)(r,e,y)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Object(f.g)(e,t,y)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",Object(f.c)(e,t,y)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new b;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return b.copy(e,this),this}equals(e){if(Object(o.k)(e))return!1;const{x:t,y:r,z:i,m:n,spatialReference:a}=this,{z:s,m:l}=e;let{x:c,y:u,spatialReference:d}=e;if(!a.equals(d))if(a.isWebMercator&&d.isWGS84)[c,u]=Object(f.c)(c,u),d=a;else{if(!a.isWGS84||!d.isWebMercator)return!1;[c,u]=Object(f.g)(c,u),d=a}return t===c&&r===u&&i===s&&n===l&&a.wkid===d.wkid}offset(e,t,r){return function(e,t,r,i){var n;return e.x=e.x+t,e.y=e.y+r,null!=i&&(e.z=(null!=(n=e.z)?n:0)+i),e}(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=Object(m.e)(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let o;return t>i?(o=Math.ceil(Math.abs(t-i)/n),t-=o*n):t<r&&(o=Math.ceil(Math.abs(t-r)/n),t+=o*n),this._set("x",t),this}distance(e){return function(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};Object(i.a)([Object(a.b)({readOnly:!0})],j.prototype,"cache",null),Object(i.a)([Object(a.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasM",null),Object(i.a)([Object(a.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasZ",null),Object(i.a)([Object(a.b)({type:Number})],j.prototype,"latitude",null),Object(i.a)([Object(a.b)({type:Number})],j.prototype,"longitude",null),Object(i.a)([Object(a.b)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(s.a)((e=>isNaN(e)?e:Object(d.i)(e)))],j.prototype,"x",void 0),Object(i.a)([Object(u.a)("x")],j.prototype,"writeX",null),Object(i.a)([Object(l.a)("x")],j.prototype,"readX",null),Object(i.a)([Object(a.b)({type:Number,json:{write:!0}})],j.prototype,"y",void 0),Object(i.a)([Object(a.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],j.prototype,"z",void 0),Object(i.a)([Object(a.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],j.prototype,"m",void 0),j=b=Object(i.a)([Object(c.a)("esri.geometry.Point")],j),j.prototype.toJSON.isDefaultToJSON=!0;const v=j},110:function(e,t,r){"use strict";r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return M})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return b})),r.d(t,"i",(function(){return v})),r.d(t,"j",(function(){return _})),r.d(t,"k",(function(){return g})),r.d(t,"l",(function(){return S})),r.d(t,"m",(function(){return f})),r.d(t,"n",(function(){return j})),r.d(t,"o",(function(){return w})),r.d(t,"p",(function(){return O})),r.d(t,"q",(function(){return k}));var i=r(85),n=r(145),o=r(287);const a={102113:!0,102100:!0,3857:!0,3785:!0},s={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},l='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',c=[-20037508.342788905,20037508.342788905],u=[-20037508.342787,20037508.342787],d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:u,dx:1e-5},102100:{wkTemplate:l,valid:c,origin:u,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:u,dx:1e-5},3857:{wkTemplate:l,valid:c,origin:u,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function p(e,t){return!Object(i.k)(e)&&!Object(i.k)(t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||O(e)&&O(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function h(e){return S(e)&&e.wkid?d[e.wkid]:null}function b(e){return!!S(e)&&(e.wkid?null==o.a[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function m(e){return!(v(e)||_(e))}function f(e){return S(e)&&4326===e.wkid}function y(e){return S(e)&&4490===e.wkid}function O(e){return S(e)&&null!=e.wkid&&!0===a[e.wkid]}function g(e){return S(e)&&32662===e.wkid}function j(e){return 104971===e||104905===e}function v(e){return S(e)&&null!=e.wkid&&j(e.wkid)}function w(e){return 104903===e}function _(e){return S(e)&&null!=e.wkid&&w(e.wkid)}function k(e){return S(e)&&null!=e.wkid&&!0===s[e.wkid]}function S(e){return Object(i.l)(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}const x={wkid:4326,wkt:Object(n.c)(d[4326].wkTemplate,{Central_Meridian:"0.0"})},M={wkid:102100,latestWkid:3857},I={wkid:32662}},1125:function(e,t,r){"use strict";r.d(t,"a",(function(){return Nt}));var i=r(79),n=r(152),o=r(987),a=r(627),s=r(84),l=r(107),c=r(88),u=r(174),d=r(513),p=r(87),h=r(85),b=r(301),m=r(266),f=r(91),y=r(100),O=r(112),g=r(81),j=(r(82),r(83)),v=r(93),w=r(80),_=r(92),k=r(789),S=r(279),x=r(95),M=r(163),I=r(228),T=r(102),A=r(96);const N=p.a.getLogger("esri.networks.Network");let L=class extends(Object(b.a)(u.a)){constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null}initialize(){this.when().catch((e=>{var t,r;Object(f.l)(e)||N.error("#load()",`Failed to load layer (title: '${null!=(t=this.title)?t:"no title"}', id: '${null!=(r=this.id)?r:"no id"}')`,{error:e})}))}get datasetName(){var e;return null==(e=this.dataElement)?void 0:e.name}get owner(){var e;return null==(e=this.dataElement)?void 0:e.userIdentity}get schemaGeneration(){var e;return null==(e=this.dataElement)?void 0:e.schemaGeneration}get parsedUrl(){const e=this.layerUrl;return e?Object(y.K)(e):null}get featureServiceUrl(){const e=this.parsedUrl&&Object(I.f)(this.parsedUrl.path);return Object(h.l)(e)?e.url.path:null}get networkServiceUrl(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}get layerId(){const e=this.parsedUrl&&Object(I.f)(this.parsedUrl.path);return Object(h.l)(e)?e.sublayer:null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(this.dataElement){const t=this.dataElement.domainNetworks;for(const r of t){for(const t of r.edgeSources?r.edgeSources:[])if(t.sourceId===e)return t.layerId;for(const t of r.junctionSources?r.junctionSources:[])if(t.sourceId===e)return t.layerId}return null}return null}async _fetchLayerMetaData(e,t){const r=await Object(T.default)(e,{responseType:"json",query:{f:"json"},...t});this.sourceJSON=r.data,this.read(r.data,{origin:"service"})}async _fetchDataElement(e,t,r){if(this.dataElement)return;const i=await Object(T.default)(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...r}).then((e=>{var t;return null==(t=e.data.layerDataElements)?void 0:t[0]}));i&&this.read(i,{origin:"service"})}};Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],L.prototype,"id",void 0),Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],L.prototype,"title",void 0),Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],L.prototype,"layerUrl",void 0),Object(i.a)([Object(g.b)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],L.prototype,"dataElement",void 0),Object(i.a)([Object(g.b)({type:A.a,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],L.prototype,"fullExtent",void 0),Object(i.a)([Object(g.b)({type:x.a,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],L.prototype,"spatialReference",void 0),Object(i.a)([Object(g.b)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],L.prototype,"type",void 0),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"datasetName",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"owner",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"schemaGeneration",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"parsedUrl",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"featureServiceUrl",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"networkServiceUrl",null),Object(i.a)([Object(g.b)({readOnly:!0})],L.prototype,"layerId",null),Object(i.a)([Object(g.b)()],L.prototype,"sourceJSON",void 0),L=Object(i.a)([Object(w.a)("esri.networks.Network")],L);const C=L;var R=r(86);let E=class extends R.a{constructor(e){super(e),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],E.prototype,"conditionBarriers",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],E.prototype,"outputConditions",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],E.prototype,"functions",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],E.prototype,"functionBarriers",void 0),Object(i.a)([Object(g.b)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],E.prototype,"traversabilityScope",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],E.prototype,"shortestPathNetworkAttributeName",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],E.prototype,"includeBarriers",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],E.prototype,"validateConsistency",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],E.prototype,"ignoreBarriersAtStartingPoints",void 0),E=Object(i.a)([Object(w.a)("esri.networks.support.TraceConfiguration")],E);const P=E;var U=r(90);const G=new U.a({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork","subnetwork controllers":"subnetwork-controllers",loops:"loops",isolation:"isolation"});let B=class extends P{constructor(e){super(e),this.filterBarriers=[],this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.tierName=null,this.validateLocatability=null}};Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],B.prototype,"filterBarriers",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],B.prototype,"domainNetworkName",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],B.prototype,"filterBitsetNetworkAttributeName",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],B.prototype,"filterFunctionBarriers",void 0),Object(i.a)([Object(g.b)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],B.prototype,"filterScope",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"includeContainers",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"includeContent",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"includeIsolated",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"includeStructures",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"includeUpToFirstSpatialContainer",void 0),Object(i.a)([Object(g.b)({type:Object,json:{write:!0}})],B.prototype,"nearestNeighbor",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],B.prototype,"outputFilterCategories",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],B.prototype,"outputFilters",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{write:!0}})],B.prototype,"propagators",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],B.prototype,"subnetworkName",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],B.prototype,"targetTierName",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],B.prototype,"tierName",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],B.prototype,"validateLocatability",void 0),B=Object(i.a)([Object(w.a)("esri.networks.support.UNTraceConfiguration")],B);const F=B;let D=class extends b.b{constructor(e){super(e),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(e,t){return void 0!==e.tierName?F.fromJSON(e):P.fromJSON(e)}};Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],D.prototype,"globalId",void 0),Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],D.prototype,"title",void 0),Object(i.a)([Object(g.b)({type:P,json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"traceConfiguration",void 0),Object(i.a)([Object(v.a)("service","traceConfiguration")],D.prototype,"readTraceConfiguration",null),Object(i.a)([Object(g.b)({type:Date,json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"creationDate",void 0),Object(i.a)([Object(g.b)({type:String,json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"creator",void 0),Object(i.a)([Object(g.b)({type:String,json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"description",void 0),Object(i.a)([Object(g.b)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],D.prototype,"minStartingPoints",void 0),Object(i.a)([Object(g.b)({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"resultTypes",void 0),Object(i.a)([Object(g.b)({type:[String],json:{origins:{service:{read:!0}},read:!1}})],D.prototype,"tags",void 0),Object(i.a)([Object(g.b)({type:G.apiValues,json:{type:G.jsonValues,origins:{service:{read:G.read}},read:!1}})],D.prototype,"traceType",void 0),D=Object(i.a)([Object(w.a)("esri.networks.support.NamedTraceConfiguration")],D);const q=D;let W=class extends R.a{constructor(e){super(e),this.id=null,this.name=null}};Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],W.prototype,"id",void 0),Object(i.a)([Object(g.b)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],W.prototype,"name",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],W.prototype,"isUpstreamTerminal",void 0),W=Object(i.a)([Object(w.a)("esri.networks.support.Terminal")],W);const z=W,J=new U.a({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let V=class extends R.a{constructor(e){super(e),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],V.prototype,"defaultConfiguration",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],V.prototype,"id",void 0),Object(i.a)([Object(g.b)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],V.prototype,"name",void 0),Object(i.a)([Object(g.b)({type:[z],json:{write:!0}})],V.prototype,"terminals",void 0),Object(i.a)([Object(g.b)({type:J.apiValues,json:{type:J.jsonValues,read:J.read,write:J.write}})],V.prototype,"traversabilityModel",void 0),V=Object(i.a)([Object(w.a)("esri.networks.support.TerminalConfiguration")],V);const $=V;let H=class extends C{constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){var e;return null==(e=this.dataElement)?void 0:e.serviceTerritoryFeatureLayerId}get rulesTableId(){var e;return null==(e=this.sourceJSON)?void 0:e.systemLayers.rulesTableId}get rulesTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null}get terminalConfigurations(){var e;return(null==(e=this.dataElement)?void 0:e.terminalConfigurations.map((e=>$.fromJSON(e))))||[]}get domainNetworkNames(){var e;return(null==(e=this.dataElement)?void 0:e.domainNetworks.map((e=>e.domainNetworkName)))||[]}async load(e){return this.addResolvingPromise(super.load(e)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(e)),this}getTerminalConfiguration(e){let t=null,r=null;const i=e.layer;let n=null;if("feature"!==(null==i?void 0:i.type))return null;if(n=i.layerId,null===n)return null;const o=e.attributes;if(null==o)return null;for(const d of Object.keys(o))"ASSETGROUP"===d.toUpperCase()&&(t=e.getAttribute(d)),"ASSETTYPE"===d.toUpperCase()&&(r=e.getAttribute(d));if(!this.dataElement)return null;let a=null;const s=this.dataElement.domainNetworks;for(const d of s){var l;const e=null==(l=d.junctionSources)?void 0:l.find((e=>e.layerId===n));if(e){var c;const i=null==(c=e.assetGroups)?void 0:c.find((e=>e.assetGroupCode===t));if(i){var u;const e=null==(u=i.assetTypes)?void 0:u.find((e=>e.assetTypeCode===r));if(e){a=e.terminalConfigurationId;break}}}}if(null!=a){const e=this.dataElement.terminalConfigurations,t=null==e?void 0:e.find((e=>e.terminalConfigurationId===a));return t?$.fromJSON(t):null}return null}getTierNames(e){var t;const r=null==(t=this.dataElement)?void 0:t.domainNetworks.find((t=>t.domainNetworkName===e));return(null==r?void 0:r.tiers.map((e=>e.name)))||[]}async _loadNamedTraceConfigurationsFromNetwork(e){var t;if(0===(null==(t=this.sharedNamedTraceConfigurations)?void 0:t.length))return;const r=this.sharedNamedTraceConfigurations.map((e=>e.globalId)),i=await this._fetchTraceConfigData(this.networkServiceUrl,r,e);for(const n of this.sharedNamedTraceConfigurations){const e=null==i?void 0:i.find((e=>e.globalId===n.globalId));e&&n.read(e,{origin:"service"})}}_fetchTraceConfigData(e,t,r){return Object(T.default)(`${e}/traceConfigurations/query`,{responseType:"json",query:{globalIds:JSON.stringify(t),f:"json"},...r}).then((e=>e.data.traceConfigurations))}};Object(i.a)([Object(g.b)({type:[q],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],H.prototype,"sharedNamedTraceConfigurations",void 0),Object(i.a)([Object(g.b)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],H.prototype,"type",void 0),Object(i.a)([Object(g.b)({readOnly:!0})],H.prototype,"serviceTerritoryFeatureLayerId",null),Object(i.a)([Object(g.b)({readOnly:!0})],H.prototype,"rulesTableId",null),Object(i.a)([Object(g.b)({readOnly:!0})],H.prototype,"rulesTableUrl",null),Object(i.a)([Object(g.b)({readOnly:!0})],H.prototype,"terminalConfigurations",null),Object(i.a)([Object(g.b)({readOnly:!0})],H.prototype,"domainNetworkNames",null),H=Object(i.a)([Object(w.a)("esri.networks.UtilityNetwork")],H);const Z=H;var Q=r(170),K=r(476),X=r(721),Y=r(663),ee=r(589),te=r(750);let re=class extends R.a{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],re.prototype,"facilityIdField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],re.prototype,"layerId",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],re.prototype,"nameField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],re.prototype,"siteIdField",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],re.prototype,"sublayerId",void 0),re=Object(i.a)([Object(w.a)("esri.layers.support.FacilityLayerInfo")],re);const ie=re;let ne=class extends R.a{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"facilityIdField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"layerId",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"levelIdField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"levelNumberField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"longNameField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"shortNameField",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],ne.prototype,"sublayerId",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ne.prototype,"verticalOrderField",void 0),ne=Object(i.a)([Object(w.a)("esri.layers.support.LevelLayerInfo")],ne);const oe=ne;let ae=class extends R.a{constructor(e){super(e),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ae.prototype,"layerId",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ae.prototype,"nameField",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],ae.prototype,"siteIdField",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],ae.prototype,"sublayerId",void 0),ae=Object(i.a)([Object(w.a)("esri.layers.support.SiteLayerInfo")],ae);const se=ae;let le=class extends R.a{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};Object(i.a)([Object(g.b)({type:oe,json:{write:!0}})],le.prototype,"levelLayer",void 0),Object(i.a)([Object(g.b)({type:ie,json:{write:!0}})],le.prototype,"facilityLayer",void 0),Object(i.a)([Object(g.b)({type:se,json:{write:!0}})],le.prototype,"siteLayer",void 0),le=Object(i.a)([Object(w.a)("esri.support.MapFloorInfo")],le);const ce=le;var ue,de=r(89);let pe=ue=class extends R.a{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new ue(Object(de.a)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};Object(i.a)([Object(g.b)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],pe.prototype,"activeRange",void 0),Object(i.a)([Object(g.b)({type:[Number],json:{write:!0}})],pe.prototype,"currentRangeExtent",void 0),Object(i.a)([Object(g.b)({type:[Number],json:{write:!0}})],pe.prototype,"fullRangeExtent",void 0),pe=ue=Object(i.a)([Object(w.a)("esri.webdoc.RangeInfo")],pe);const he=pe;var be;let me=be=class extends R.a{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new be(Object(de.a)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};Object(i.a)([Object(g.b)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],me.prototype,"enabled",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],me.prototype,"longNames",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],me.prototype,"minimized",void 0),Object(i.a)([Object(g.b)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],me.prototype,"pinnedLevels",void 0),Object(i.a)([Object(g.b)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],me.prototype,"site",void 0),Object(i.a)([Object(g.b)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],me.prototype,"facility",void 0),Object(i.a)([Object(g.b)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],me.prototype,"level",void 0),me=be=Object(i.a)([Object(w.a)("esri.webdoc.widgets.FloorFilter")],me);const fe=me;var ye;const Oe=new U.a({slider:"slider",picker:"picker"});let ge=ye=class extends R.a{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new ye({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};Object(i.a)([Object(g.b)({type:Oe.apiValues,nonNullable:!0,json:{type:Oe.jsonValues,default:null,read:{reader:Oe.read},write:{isRequired:!0,writer:Oe.write}}})],ge.prototype,"interactionMode",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],ge.prototype,"numStops",void 0),Object(i.a)([Object(g.b)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],ge.prototype,"stopInterval",void 0),ge=ye=Object(i.a)([Object(w.a)("esri.webdoc.widgets.Range")],ge);const je=ge;var ve,we=r(119),_e=r(226),ke=r(125);let Se=ve=class extends R.a{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,r=null!=e[1]?new Date(e[1]):null;return new we.a({start:t,end:r})}writeCurrentTimeExtent(e,t,r){e&&Object(ke.c)(r,[Object(h.l)(e.start)?e.start.getTime():null,Object(h.l)(e.end)?e.end.getTime():null],t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const i=null!=r.endTime?new Date(r.endTime):null,n=null!=r.startTime?new Date(r.startTime):null;return new we.a({start:n,end:i})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},i=e.end,n=e.start;i&&(r.endTime=Object(h.l)(i)?i.getTime():null),n&&(r.startTime=Object(h.l)(n)?n.getTime():null)}readStopInterval(e,t,r){return e?_e.a.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,r,i){if(!e)return;const n=e.toJSON(i);Object(ke.c)(r,{interval:n.value,units:n.unit},t)}readStops(e){return e&&e.length?e.map((e=>new Date(e))):null}writeStops(e,t,r){e&&e.length&&Object(ke.c)(r,e.map((e=>e.getTime())),t)}clone(){return new ve(Object(de.a)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};Object(i.a)([Object(g.b)({type:we.a,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Se.prototype,"currentTimeExtent",void 0),Object(i.a)([Object(v.a)("currentTimeExtent")],Se.prototype,"readCurrentTimeExtent",null),Object(i.a)([Object(_.a)("currentTimeExtent")],Se.prototype,"writeCurrentTimeExtent",null),Object(i.a)([Object(g.b)({type:we.a,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Se.prototype,"fullTimeExtent",void 0),Object(i.a)([Object(v.a)("fullTimeExtent")],Se.prototype,"readFullTimeExtent",null),Object(i.a)([Object(_.a)("fullTimeExtent")],Se.prototype,"writeFullTimeExtent",null),Object(i.a)([Object(g.b)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Se.prototype,"loop",void 0),Object(i.a)([Object(g.b)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var e;const t=!!this.stopInterval,r=!(null==(e=this.stops)||!e.length),i=!(t||r);return{enabled:i,isRequired:i}}}}})],Se.prototype,"numStops",void 0),Object(i.a)([Object(g.b)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Se.prototype,"numThumbs",void 0),Object(i.a)([Object(g.b)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Se.prototype,"stopDelay",void 0),Object(i.a)([Object(g.b)({type:_e.a,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var e;const t=null!=this.numStops,r=!(null==(e=this.stops)||!e.length);return{enabled:!r,isRequired:!(t||r)}}}}})],Se.prototype,"stopInterval",void 0),Object(i.a)([Object(v.a)("stopInterval")],Se.prototype,"readStopInterval",null),Object(i.a)([Object(_.a)("stopInterval")],Se.prototype,"writeStopInterval",null),Object(i.a)([Object(g.b)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Se.prototype,"stops",void 0),Object(i.a)([Object(v.a)("stops")],Se.prototype,"readStops",null),Object(i.a)([Object(_.a)("stops")],Se.prototype,"writeStops",null),Se=ve=Object(i.a)([Object(w.a)("esri.webdoc.widgets.TimeSlider")],Se);const xe=Se;var Me;let Ie=Me=class extends R.a{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new Me(Object(de.a)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};Object(i.a)([Object(g.b)({type:je,json:{write:!0}})],Ie.prototype,"range",void 0),Object(i.a)([Object(g.b)({type:xe,json:{write:!0}})],Ie.prototype,"timeSlider",void 0),Object(i.a)([Object(g.b)({type:fe,json:{write:!0}})],Ie.prototype,"floorFilter",void 0),Ie=Me=Object(i.a)([Object(w.a)("esri.webdoc.Widgets")],Ie);const Te=Ie,Ae={width:600,height:400},Ne=1.5;var Le=r(638);function Ce(e){return{enabled:!(null==e||!e.length)}}var Re,Ee=r(94),Pe=r(267);let Ue=Re=class extends R.a{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new Re({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],Ue.prototype,"exactMatch",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],Ue.prototype,"name",void 0),Object(i.a)([Object(Ee.a)(Pe.a)],Ue.prototype,"type",void 0),Ue=Re=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.SearchLayerField")],Ue);const Ge=Ue;var Be;let Fe=Be=class extends R.a{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new Be(Object(de.a)({field:this.field,id:this.id,subLayer:this.subLayer}))}};Object(i.a)([Object(g.b)({type:Ge,json:{write:{isRequired:!0}}})],Fe.prototype,"field",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:{isRequired:!0}}})],Fe.prototype,"id",void 0),Object(i.a)([Object(g.b)({type:j.a,json:{write:!0}})],Fe.prototype,"subLayer",void 0),Fe=Be=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.SearchLayer")],Fe);const De=Fe;var qe;let We=qe=class extends R.a{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new qe({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(i.a)([Object(g.b)({type:Boolean,json:{write:!0}})],We.prototype,"exactMatch",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],We.prototype,"name",void 0),Object(i.a)([Object(Ee.a)(Pe.a)],We.prototype,"type",void 0),We=qe=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.SearchTableField")],We);const ze=We;var Je;let Ve=Je=class extends R.a{constructor(e){super(e),this.field=null,this.id=null}clone(){return new Je(Object(de.a)({field:this.field,id:this.id}))}};Object(i.a)([Object(g.b)({type:ze,json:{write:{isRequired:!0}}})],Ve.prototype,"field",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:{isRequired:!0}}})],Ve.prototype,"id",void 0),Ve=Je=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.SearchTable")],Ve);const $e=Ve;var He;const Ze=l.a.ofType(De),Qe=l.a.ofType($e);let Ke=He=class extends R.a{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new Ze,this.tables=new Qe}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,r){t[r]=!e}clone(){return new He(Object(de.a)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};Object(i.a)([Object(g.b)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Ke.prototype,"addressSearchEnabled",void 0),Object(i.a)([Object(v.a)("addressSearchEnabled")],Ke.prototype,"readAddressSearchEnabled",null),Object(i.a)([Object(_.a)("addressSearchEnabled")],Ke.prototype,"writeAddressSearchEnabled",null),Object(i.a)([Object(g.b)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Ke.prototype,"enabled",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:!0}})],Ke.prototype,"hintText",void 0),Object(i.a)([Object(g.b)({type:Ze,json:{write:{overridePolicy:Ce},origins:{"web-scene":{write:{isRequired:!0}}}}})],Ke.prototype,"layers",void 0),Object(i.a)([Object(g.b)({type:Qe,json:{read:!0,write:{overridePolicy:Ce}}})],Ke.prototype,"tables",void 0),Ke=He=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.Search")],Ke);const Xe=Ke;var Ye;let et=Ye=class extends R.a{constructor(e){super(e),this.search=null}clone(){return new Ye(Object(de.a)({search:this.search}))}};Object(i.a)([Object(g.b)({type:Xe,json:{write:!0}})],et.prototype,"search",void 0),et=Ye=Object(i.a)([Object(w.a)("esri.webdoc.applicationProperties.Viewing")],et);const tt=et;var rt;let it=rt=class extends R.a{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new rt(Object(de.a)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};Object(i.a)([Object(g.b)({json:{write:!0}})],it.prototype,"editing",void 0),Object(i.a)([Object(g.b)({json:{write:!0}})],it.prototype,"offline",void 0),Object(i.a)([Object(g.b)({type:tt,json:{write:!0}})],it.prototype,"viewing",void 0),it=rt=Object(i.a)([Object(w.a)("esri.webmap.ApplicationProperties")],it);const nt=it;var ot,at=r(1011),st=r(99),lt=r(872);let ct=ot=class extends st.a{constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new ot(Object(de.a)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};Object(i.a)([Object(g.b)({type:lt.a})],ct.prototype,"background",void 0),Object(i.a)([Object(g.b)({type:he})],ct.prototype,"rangeInfo",void 0),Object(i.a)([Object(g.b)({type:x.a})],ct.prototype,"spatialReference",void 0),Object(i.a)([Object(g.b)({type:a.a})],ct.prototype,"viewpoint",void 0),ct=ot=Object(i.a)([Object(w.a)("esri.webmap.InitialViewProperties")],ct);const ut=ct;var dt=r(639);class pt extends dt.a{constructor(e,t){super(e,t,"webmap")}}const ht=new pt(2,23),bt="Web Map",mt=l.a.ofType(at.a),ft=l.a.ofType(Z),yt=p.a.getLogger("esri.WebMap"),Ot=new Map;Ot.set("image/jpeg","jpeg"),Ot.set("image/jpg","jpg"),Ot.set("image/png","png"),Ot.set("image/gif","gif");const gt="ArcGIS API for JavaScript",jt="CollectorDisabled",vt="Collector",wt="Data Editing",_t="OfflineDisabled",kt="Offline",St="Workforce Project",xt="Workforce Worker",Mt="Workforce Dispatcher",It="DeveloperBasemap",Tt=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((e=>e.toLowerCase()));let At=class extends(Object(b.a)(u.a.LoadableMixin(Object(m.b)(o.a)))){constructor(e){super(e),this.applicationProperties=null,this.bookmarks=new mt,this.floorInfo=null,this.initialViewProperties=new ut,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const e=this.portalItem;this.portalItem=null,null==e||e.destroy()}initialize(){if(this.when().catch((e=>{yt.error("#load()","Failed to load web map",e)})),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(e){return void this.addResolvingPromise(Promise.reject(e))}this.read(t)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=gt}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=n.d}readInitialViewProperties(e,t){var r;const i=new ut;t.background&&(i.background=lt.a.fromJSON(t.background));const n=null==(r=t.initialState)?void 0:r.viewpoint;return n&&(n.rotation&&pt.parse(t.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===t.authoringApp&&(n.rotation*=-1),i.viewpoint=a.a.fromJSON(n)),t.mapRangeInfo&&(i.rangeInfo=he.fromJSON(t.mapRangeInfo)),t.spatialReference&&(i.spatialReference=x.a.fromJSON(t.spatialReference)),i}writeInitialViewProperties(e,t,r,i){if(!e)return;const n=e.background;n&&n.color&&(t.background=n.write({},i)),e.viewpoint&&(t.initialState={viewpoint:e.viewpoint.write({},i)}),e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(i)),e.spatialReference&&(t.spatialReference=e.spatialReference.write({},i))}writeLayers(e,t,r,i){t[r]=this._writeLayers(e,i,"operational-layers")}readSourceVersion(e,t){const[r,i]=t.version.split(".");return new pt(parseInt(r,10),parseInt(i,10))}writeSourceVersion(e,t,r){t[r]=`${ht.major}.${ht.minor}`}writeTables(e,t,r,i){const n=this._writeLayers(e,i,"tables");n.length&&(t[r]=n)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}load(e){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return Object(d.a)(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables)}))}read(e,t){t={...t,origin:"web-map"};const r=this._getAuthoringPropsState();Object(S.b)(this,e,(t=>super.read(e,t)),t),this._restoreAuthoringPropsFromState(r)}write(e,t){if("loaded"!==this.loadStatus){const e=new c.a("webmap:not-loaded","Web map must be loaded before it can be serialized");throw yt.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){e=e||{},this._validateItem(),await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),this._validateMap();const t=this.portalItem,r={origin:"web-map",messages:[],writtenProperties:[],url:t.itemUrl&&Object(y.K)(t.itemUrl),portal:t.portal||Q.a.getDefault()},i=this.write({},r);return this._validateJSONForWriting(r,e),await this._updateItemProperties(t),await this._updateItem(t,i,r),await this._updateItemThumbnail(),t}async saveAs(e,t){t=t||{};const r=this._getPortalItem(e);await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),this._validateMap();const i={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:r.portal},n=this.write({},i);this._validateJSONForWriting(i,t),await this._updateItemPropertiesForSaveAs(r);const o=this._getThumbnailState();return await this._createItem(r,n,i,t),this._restoreThumbnailFromState(o),await this._updateItemThumbnail(),r}async updateFrom(e,t){const r=this._updateFromInternal(e,t);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){var t,r,i,n;const o=this.resourceInfo;return this._collectAllLayersJSON(Object(s.d)([null==o||null==(t=o.baseMap)?void 0:t.baseMapLayers,null==o?void 0:o.operationalLayers,null==(r=this.basemap)||null==(i=r.resourceInfo)||null==(n=i.data)?void 0:n.baseMapLayers])).find((t=>t.id===e.id))}_collectAllLayersJSON(e){return e.reduce(((e,t)=>(e.push(t),"GroupLayer"===t.layerType&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e)),[])}_writeLayers(e,t,r){return t={...t,layerContainerType:r},e.map((e=>Object(h.t)(Object(Le.a)(e,"tables"===r?null:this.getLayerJSONFromResourceInfo(e),t)))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(e){return e.load().catch((e=>{throw new c.a("webmap:load-portal-item","Failed to load portal item",{error:e})})).then((()=>{if("Web Map"!==e.type)throw new c.a("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:e.type})})).then((()=>e.fetchData())).then((t=>(this.resourceInfo=t,this._readAndLoadFromJSON(t,{origin:"web-map",portal:e.portal||Q.a.getDefault()})))).then((()=>this._computeInitialViewpoint()))}_readAndLoadFromJSON(e,t){const r=this._validateJSON(e);return this.read(r,t),this._loadFromJSON(r,t)}_validateJSON(e){const t=pt.parse(e.version||"","webmap");return ht.validate(t),e.version=`${t.major}.${t.minor}`,e}_loadFromJSON(e,t){const i={context:{...t,layerContainerType:"operational-layers"}};return this.portalItem&&(i.context.portal=this.portalItem.portal||Q.a.getDefault()),r.e(48).then(r.bind(null,992)).then((({populateOperationalLayers:t})=>{const r=[],n=e.operationalLayers;n&&n.length&&r.push(t(this.layers,n,i));const o={...i,context:{...i.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},a=e.tables;return a&&a.length&&r.push(t(this.tables,a,o)),Object(f.i)(r).then((()=>{}))}))}async _computeInitialViewpoint(){var e,t;let r=this.initialViewProperties;if(null==(e=r)||null==(t=e.viewpoint)?void 0:t.targetGeometry)return;const i=await this._getExtentFromItem();i&&(r=r?r.clone():new ut,r.viewpoint=new a.a,r.viewpoint.targetGeometry=i,this.initialViewProperties=r)}async _getExtentFromItem(){var e,t;const i=null==(e=this.initialViewProperties)?void 0:e.spatialReference,n=null==(t=this.portalItem)?void 0:t.extent;return i&&n?i.isWGS84?n.clone():i.isWebMercator?Object(M.b)(n):(await r.e(38).then(r.bind(null,1162))).getGeometryServiceURL(this.portalItem).then((e=>{const t=new ee.a;return t.geometries=[n],t.outSpatialReference=i,Object(Y.a)(e,t)})).then((e=>e[0])).catch((e=>(yt.error("Error projecting item's extent:",e),null))):null}_removeDanglingLayerRefs(){const e=this.applicationProperties,t=e&&e.viewing&&e.viewing.search,r=e=>!!this.allLayers.find((t=>t.id===e));t&&t.layers&&(t.layers=t.layers.filter((e=>r(e.id)))),t&&t.tables&&(t.tables=t.tables.filter((e=>!!this.tables.find((t=>t.id===e.id)))));const i=e&&e.editing&&e.editing.locationTracking;i&&i.info&&!r(i.info.layerId)&&(e.editing=null);const n=this.presentation&&this.presentation.slides;n&&n.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>r(e.id))))}))}_validateMap(){if(!this.basemap||!this.basemap.baseLayers.length)throw new c.a("webmap:save","Map does not have a valid basemap with a base layer.")}_validateItem(){if(!this.portalItem)throw yt.error("save: requires the portalItem property to be set"),new c.a("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(e){if(e.type!==bt)throw new c.a("webmap:portal-item-wrong-type",`Portal item needs to have type "${bt}"`)}_loadLayerContainers(){const e=[];return this.basemap&&e.push(this.basemap.load()),this.ground&&e.push(this.ground.load()),Object(f.i)(e).then((()=>{}))}async _beforeSave(){const e=[];for(const t of this.allLayers)if("beforeSave"in t&&"function"==typeof t.beforeSave){const r=t.beforeSave();r&&e.push(r)}await Object(f.i)(e)}_loadAllLayers(){const e=this._getAllLayersAndTables().map((e=>e.load()));return Object(f.i)(e).then((()=>{}))}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(e,t){let r=e.messages.filter((e=>"error"===e.type)).map((e=>new c.a(e.name,e.message,e.details)));if(t.ignoreUnsupported&&(r=r.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name))),r.length>0)throw new c.a("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}async _updateItemProperties(e){e.extent=await this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry),await this._updateTypeKeywords(e)}async _updateItemPropertiesForSaveAs(e){Object(X.c)(e,jt),Object(X.c)(e,_t),Object(X.c)(e,St),Object(X.c)(e,xt),Object(X.c)(e,Mt),Object(X.c)(e,"Offline Map Areas"),Object(X.c)(e,"FieldMapsDisabled"),await this._updateItemProperties(e)}async _getWGS84Extent(e){const t=e.clone().normalize();let r;if(t.length>1)for(const i of t)r?i.width>r.width&&(r=i):r=i;else r=t[0];return this._projectToWGS84(r)}async _projectToWGS84(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Object(M.e)(e);const i=await r.e(38).then(r.bind(null,1162)),n=await i.getGeometryServiceURL(this.portalItem),o=new ee.a;return o.geometries=[e],o.outSpatialReference=x.a.WGS84,(await Object(Y.a)(n,o))[0]}async _updateTypeKeywords(e){Object(X.a)(e,gt),await this._loadAllLayers(),this._evalCollectorKeyword(e),this._evalDataEditingKeyword(e),this._evalOfflineKeyword(e),this._evalDeveloperBasemapKeyword(e),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}_evalCollectorKeyword(e){Object(X.b)(e,jt)||Object(X.b)(e,St)||Object(X.b)(e,xt)||Object(X.b)(e,Mt)||!this._hasEditableFeatureLayer()?Object(X.c)(e,vt):Object(X.a)(e,vt)}_evalDataEditingKeyword(e){this._hasEditableFeatureLayer()?Object(X.a)(e,wt):Object(X.c)(e,wt)}_evalOfflineKeyword(e){!Object(X.b)(e,_t)&&this._isOfflineCapableMap()?Object(X.a)(e,kt):Object(X.c)(e,kt)}_evalDeveloperBasemapKeyword(e){Object(te.f)(this.basemap)?Object(X.a)(e,It):Object(X.c)(e,It)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some((e=>e.loaded&&this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled))}_isFeatureServiceLayer(e){return!("feature"!==e.type||!e.source||"feature-layer"!==e.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter((e=>"group"!==e.type)).every((e=>e.loaded&&this._isOfflineCapableLayer(e)))}_isOfflineCapableLayer(e){return this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsSync||("tile"===e.type||"vector-tile"===e.type)&&(e.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(e)||Object(te.g)(e))&&e.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(e){return"tile"===e.type&&Object(I.d)(e.url)&&Tt.some((t=>e.url.toLowerCase().indexOf("/"+t+"/")>-1))}async _updateItem(e,t,r){await e.update({data:t}),this._syncUpInstanceWithItem(e,t,r)}async _createItem(e,t,r,i){const n=this.portalItem,o=!!(n&&n.id&&n.portal.user),a=e.portal;if(await a._signIn(),!await this._canCopyItem(n,o,a))throw new c.a("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");await a.user.addItem({item:e,folder:i.folder,data:t}),this.portalItem=e,this._syncUpInstanceWithItem(e,t,r)}async _canCopyItem(e,t,r){return!(Object(h.l)(e)&&e.id&&e.typeKeywords&&e.typeKeywords.indexOf("useOnly")>-1)||e.portal.portalHostname===r.portalHostname&&(t||await e.reload(),"admin"===e.itemControl||"update"===e.itemControl)}_syncUpInstanceWithItem(e,t,r){b.b.prototype.read.call(this,{version:t.version,authoringApp:t.authoringApp,authoringAppVersion:t.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:e.itemUrl&&Object(y.K)(e.itemUrl)}),Object(k.a)(r),this.resourceInfo=t}async _updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}_getPortalItem(e){let t=K.default.from(e);return t.id&&(t=t.clone(),t.id=null),t.type||(t.type=bt),t.portal||(t.portal=Q.a.getDefault()),this._validateItemType(t),t}async _updateFromInternal(e,t){if(t=t||{},await Object(O.l)(e,"ready"),this._updateInitialViewProperties(e,t),e.map===this)for(const r of e.allLayerViews)for(const e of["visible","featureEffect"])e in r&&e in r.layer&&r._isOverridden(e)&&(r.layer[e]=r[e]);await this._updateThumbnailUrl(e,t)}_updateInitialViewProperties(e,t){var r;if(t.backgroundExcluded||(this.initialViewProperties.background=null==(r=e.background)?void 0:r.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),t.viewpointExcluded||(this.initialViewProperties.viewpoint=new a.a({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(const i of e.persistableViewModels)i.updateWebDocument(this)}_getViewExtent(e){const t=e.center.clone().normalize(),r=e.extent.clone(),i=r.width/2;return r.xmin=t.x-i,r.xmax=t.x+i,r}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;const r=function(e,t){t=t||Ae;let{width:r,height:i}=t;const n=r/i;return n<Ne?i=r/Ne:n>Ne&&(r=i*Ne),r>e.width&&(i*=e.width/r,r=e.width),i>e.height&&(r*=e.height/i,i=e.height),{width:Math.round(r),height:Math.round(i)}}(e,t.thumbnailSize),i=await e.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(i.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if(Object(y.u)(e)){const t=Object(y.i)(e),r=t&&t.mediaType,i=r&&Ot.get(r.toLowerCase())||null,n=`thumbnail${Date.now()}`;return i?`${n}.${i}`:n}return null}_getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:Object(y.d)(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}_restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(e){const t=e;if(!t)throw new c.a("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:t})}};At.VERSION=ht,Object(i.a)([Object(g.b)({type:nt,json:{write:!0}})],At.prototype,"applicationProperties",void 0),Object(i.a)([Object(g.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],At.prototype,"authoringApp",null),Object(i.a)([Object(_.a)("authoringApp")],At.prototype,"writeAuthoringApp",null),Object(i.a)([Object(g.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],At.prototype,"authoringAppVersion",null),Object(i.a)([Object(_.a)("authoringAppVersion")],At.prototype,"writeAuthoringAppVersion",null),Object(i.a)([Object(g.b)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],At.prototype,"basemap",void 0),Object(i.a)([Object(g.b)({type:mt,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],At.prototype,"bookmarks",void 0),Object(i.a)([Object(g.b)({type:ce,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],At.prototype,"floorInfo",void 0),Object(i.a)([Object(g.b)({type:ut,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:lt.a},"initialState.viewpoint":{type:a.a},mapRangeInfo:{type:he},spatialReference:{type:x.a}}}}})],At.prototype,"initialViewProperties",void 0),Object(i.a)([Object(v.a)("initialViewProperties")],At.prototype,"readInitialViewProperties",null),Object(i.a)([Object(_.a)("initialViewProperties")],At.prototype,"writeInitialViewProperties",null),Object(i.a)([Object(g.b)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],At.prototype,"layers",void 0),Object(i.a)([Object(_.a)("layers")],At.prototype,"writeLayers",null),Object(i.a)([Object(g.b)({type:K.default})],At.prototype,"portalItem",void 0),Object(i.a)([Object(g.b)({json:{write:!0}})],At.prototype,"presentation",void 0),Object(i.a)([Object(g.b)()],At.prototype,"resourceInfo",void 0),Object(i.a)([Object(g.b)({readOnly:!0,type:pt,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],At.prototype,"sourceVersion",void 0),Object(i.a)([Object(v.a)("sourceVersion")],At.prototype,"readSourceVersion",null),Object(i.a)([Object(_.a)("sourceVersion")],At.prototype,"writeSourceVersion",null),Object(i.a)([Object(g.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],At.prototype,"tables",void 0),Object(i.a)([Object(_.a)("tables")],At.prototype,"writeTables",null),Object(i.a)([Object(g.b)()],At.prototype,"thumbnailUrl",null),Object(i.a)([Object(g.b)({type:Te,json:{write:!0}})],At.prototype,"widgets",void 0),Object(i.a)([Object(g.b)({type:ft,json:{read:!0,write:!0}})],At.prototype,"utilityNetworks",void 0),At=Object(i.a)([Object(w.a)("esri.WebMap")],At);const Nt=At},113:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return u})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"l",(function(){return o})),r.d(t,"m",(function(){return l})),r.d(t,"n",(function(){return d})),r.d(t,"o",(function(){return p}));var i=r(116);r(236);const n=new Float32Array(1);function o(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function a(e,t,r){return Math.min(Math.max(e,t),r)}function s(e){return 0==(e&e-1)}function l(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function c(e,t,r){return e+(t-e)*r}function u(e){return e*Math.PI/180}function d(e){return 180*e/Math.PI}function p(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function h(e){return Math.acos(a(e,-1,1))}function b(e){return Math.asin(a(e,-1,1))}function m(e,t,r=1e-6){if(isNaN(e)||isNaN(t))return!1;if(e===t)return!0;const i=Math.abs(e-t),n=Math.abs(e),o=Math.abs(t);if(0===e||0===t||n<1e-12&&o<1e-12){if(i>.01*r)return!1}else if(i/(n+o)>r)return!1;return!0}function f(e,t,r=1e-6){return!isNaN(e)&&!isNaN(t)&&(e>t?e-t:t-e)<=r}function y(e){return O(Math.max(-j,Math.min(e,j)))}function O(e){return n[0]=e,n[0]}function g(e,t){const r=Object(i.p)(e),n=b(e[2]/r),o=Math.atan2(e[1]/r,e[0]/r);return Object(i.w)(t,r,n,o),t}const j=O(34028234663852886e22)},116:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return S})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return v})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return a})),r.d(t,"l",(function(){return m})),r.d(t,"m",(function(){return b})),r.d(t,"n",(function(){return E})),r.d(t,"o",(function(){return T})),r.d(t,"p",(function(){return o})),r.d(t,"q",(function(){return w})),r.d(t,"r",(function(){return O})),r.d(t,"s",(function(){return y})),r.d(t,"t",(function(){return f})),r.d(t,"u",(function(){return k})),r.d(t,"v",(function(){return N})),r.d(t,"w",(function(){return s})),r.d(t,"x",(function(){return _})),r.d(t,"y",(function(){return U})),r.d(t,"z",(function(){return L})),r.d(t,"A",(function(){return G})),r.d(t,"B",(function(){return P})),r.d(t,"C",(function(){return x})),r.d(t,"D",(function(){return A}));var i=r(106),n=r(173);function o(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function h(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function b(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function m(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function f(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function O(e,t){const r=t[0],i=t[1],n=t[2];let o=r*r+i*i+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function j(e,t,r){const i=t[0],n=t[1],o=t[2],a=r[0],s=r[1],l=r[2];return e[0]=n*l-o*s,e[1]=o*a-i*l,e[2]=i*s-n*a,e}function v(e,t,r,i){const n=t[0],o=t[1],a=t[2];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=a+i*(r[2]-a),e}function w(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12],e[1]=r[1]*i+r[5]*n+r[9]*o+r[13],e[2]=r[2]*i+r[6]*n+r[10]*o+r[14],e}function _(e,t,r){const i=t[0],n=t[1],o=t[2];return e[0]=i*r[0]+n*r[3]+o*r[6],e[1]=i*r[1]+n*r[4]+o*r[7],e[2]=i*r[2]+n*r[5]+o*r[8],e}function k(e,t,r){const i=r[0],n=r[1],o=r[2],a=r[3],s=t[0],l=t[1],c=t[2];let u=n*c-o*l,d=o*s-i*c,p=i*l-n*s,h=n*p-o*d,b=o*u-i*p,m=i*d-n*u;const f=2*a;return u*=f,d*=f,p*=f,h*=2,b*=2,m*=2,e[0]=s+u+h,e[1]=l+d+b,e[2]=c+p+m,e}function S(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),o[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),o[2]=n[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function x(e,t){a(M,e),a(I,t),O(M,M),O(I,I);const r=g(M,I);return r>1?0:r<-1?Math.PI:Math.acos(r)}const M=Object(i.f)(),I=Object(i.f)();function T(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function A(e,t){if(e===t)return!0;const r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],l=t[2];return Math.abs(r-a)<=n.a*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n.a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=n.a*Math.max(1,Math.abs(o),Math.abs(l))}function N(e,t,r){const i=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];let a=i*i+n*n+o*o;return a>0?(a=1/Math.sqrt(a),e[0]=i*a,e[1]=n*a,e[2]=o*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const L=c,C=u,R=d,E=b,P=m,U=o,G=f;Object.freeze({__proto__:null,length:o,copy:a,set:s,add:l,subtract:c,multiply:u,divide:d,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:p,scaleAndAdd:h,distance:b,squaredDistance:m,squaredLength:f,negate:y,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:O,dot:g,cross:j,lerp:v,hermite:function(e,t,r,i,n,o){const a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return e[0]=t[0]*s+r[0]*l+i[0]*c+n[0]*u,e[1]=t[1]*s+r[1]*l+i[1]*c+n[1]*u,e[2]=t[2]*s+r[2]*l+i[2]*c+n[2]*u,e},bezier:function(e,t,r,i,n,o){const a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,d=3*l*a,p=l*o;return e[0]=t[0]*c+r[0]*u+i[0]*d+n[0]*p,e[1]=t[1]*c+r[1]*u+i[1]*d+n[1]*p,e[2]=t[2]*c+r[2]*u+i[2]*d+n[2]*p,e},random:function(e,t){t=t||1;const r=2*Object(n.b)()*Math.PI,i=2*Object(n.b)()-1,o=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=i*t,e},transformMat4:w,transformMat3:_,transformQuat:k,rotateX:function(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0],o[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),o[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},rotateY:function(e,t,r,i){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),o[1]=n[1],o[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},rotateZ:S,angle:x,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:T,equals:A,direction:N,sub:L,mul:C,div:R,dist:E,sqrDist:P,len:U,sqrLen:G})},126:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var i,n=r(79),o=r(84),a=r(89),s=r(85),l=r(81),c=(r(83),r(80)),u=r(92),d=r(96),p=r(136),h=r(109),b=r(95),m=r(402),f=r(317),y=r(245),O=r(386),g=r(280),j=r(163),v=r(336);function w(e){return!Array.isArray(e[0])}let _=i=class extends p.a{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,o=!1;for(const i of t)i.hasZ&&(n=!0),i.hasM&&(o=!0);const a={rings:t.map((function(e){const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const r=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(o&&e.hasM){const r=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t})),spatialReference:r};return n&&(a.hasZ=!0),o&&(a.hasM=!0),new i(a)}normalizeCtorArgs(e,t){let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||b.a.WGS84,n.length&&n[0]&&null!=n[0][0]&&"number"==typeof n[0][0]&&(n=[n]),o=n[0]&&n[0][0],o&&(void 0===r&&void 0===i?(r=o.length>2,i=o.length>3):void 0===r?r=i?o.length>3:o.length>2:void 0===i&&(i=r?o.length>3:o.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Object(m.a)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new h.a;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Object(O.b)(this);if(!t)return null;const r=new d.a(t);return r.spatialReference=e,r}get isSelfIntersecting(){return Object(g.d)(this.rings)}writeRings(e,t){t.rings=Object(a.a)(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(w(e)){const i=[];for(let t=0,r=e.length;t<r;t++)i[t]=e[t].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new i;return e.spatialReference=this.spatialReference,e.rings=Object(a.a)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(Object(s.k)(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(Object(s.l)(t)!==Object(s.l)(r))return!1;if(Object(s.l)(t)&&Object(s.l)(r)&&!t.equals(r))return!1;if(this.rings.length!==e.rings.length)return!1;const i=([e,t,r,i],[n,o,a,s])=>e===n&&t===o&&(null==r&&null==a||r===a)&&(null==i&&null==s||i===s);for(let n=0;n<this.rings.length;n++){const t=this.rings[n],r=e.rings[n];if(!Object(o.c)(t,r,i))return!1}return!0}contains(e){if(!e)return!1;const t=Object(j.d)(e,this.spatialReference);return Object(f.g)(this,Object(s.l)(t)?t:e)}isClockwise(e){let t;return t=w(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e,Object(y.g)(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new h.a(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new h.a(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new h.a(r[0],r[1],r[2],r[3],this.spatialReference):new h.a(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Object(v.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new h.a(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map((e=>new h.a(e,r)));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(Object(v.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const i=this.rings[e];if(r&&(t<0||t>i.length))return!1;if(!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};Object(n.a)([Object(l.b)({readOnly:!0})],_.prototype,"cache",null),Object(n.a)([Object(l.b)({readOnly:!0})],_.prototype,"centroid",null),Object(n.a)([Object(l.b)({readOnly:!0})],_.prototype,"extent",null),Object(n.a)([Object(l.b)({readOnly:!0})],_.prototype,"isSelfIntersecting",null),Object(n.a)([Object(l.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],_.prototype,"rings",void 0),Object(n.a)([Object(u.a)("rings")],_.prototype,"writeRings",null),_=i=Object(n.a)([Object(c.a)("esri.geometry.Polygon")],_),_.prototype.toJSON.isDefaultToJSON=!0;const k=_},127:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));r(85);var i=r(100);r(376),r(337);function n(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function o(e){return"string"==typeof e?Object(i.K)(e):e}function a(e,t,r){const i={};for(const n in e){if("declaredClass"===n)continue;const o=e[n];if(null!=o&&"function"!=typeof o)if(Array.isArray(o)){i[n]=[];for(let e=0;e<o.length;e++)i[n][e]=a(o[e])}else if("object"==typeof o)if(o.toJSON){const e=o.toJSON(r&&r[n]);i[n]=t?e:JSON.stringify(e)}else i[n]=t?o:JSON.stringify(o);else i[n]=o}return i}},133:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var i,n=r(79),o=r(89),a=r(81),s=(r(83),r(80)),l=r(92),c=r(96),u=r(136),d=r(109),p=r(95),h=r(386),b=r(336);let m=i=class extends u.a{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,i,n=null,o=null;return e&&!Array.isArray(e)?(n=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||p.a.WGS84,n.length&&n[0]&&null!=n[0][0]&&"number"==typeof n[0][0]&&(n=[n]),o=n[0]&&n[0][0],o&&(void 0===r&&void 0===i?(r=o.length>2,i=!1):void 0===r?r=!i&&o.length>3:void 0===i&&(i=!r&&o.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Object(h.c)(this);if(!t)return null;const r=new c.a(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=Object(o.a)(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const i=[];for(let t=0,r=e.length;t<r;t++)i[t]=e[t].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new i;return e.spatialReference=this.spatialReference,e.paths=Object(o.a)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new d.a(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new d.a(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new d.a(r[0],r[1],r[2],r[3],this.spatialReference):new d.a(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Object(b.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map((e=>new d.a(e,r)));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new d.a(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Object(b.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const i=this.paths[e];if(r&&(t<0||t>i.length))return!1;if(!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};Object(n.a)([Object(a.b)({readOnly:!0})],m.prototype,"cache",null),Object(n.a)([Object(a.b)({readOnly:!0})],m.prototype,"extent",null),Object(n.a)([Object(a.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],m.prototype,"paths",void 0),Object(n.a)([Object(l.a)("paths")],m.prototype,"writePaths",null),m=i=Object(n.a)([Object(s.a)("esri.geometry.Polyline")],m),m.prototype.toJSON.isDefaultToJSON=!0;const f=m},136:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i=r(79),n=r(86),o=r(81),a=(r(84),r(82),r(83),r(93)),s=r(80),l=r(95);let c=class extends n.a{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.a.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.a)return e;if(null!=e){const r=new l.a;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};Object(i.a)([Object(o.b)()],c.prototype,"type",void 0),Object(i.a)([Object(o.b)({readOnly:!0})],c.prototype,"cache",null),Object(i.a)([Object(o.b)({readOnly:!0})],c.prototype,"extent",null),Object(i.a)([Object(o.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),Object(i.a)([Object(o.b)({type:l.a,json:{write:!0}})],c.prototype,"spatialReference",void 0),Object(i.a)([Object(a.a)("spatialReference")],c.prototype,"readSpatialReference",null),c=Object(i.a)([Object(s.a)("esri.geometry.Geometry")],c);const u=c},1384:function(e,t,r){"use strict";r.r(t),r.d(t,"Bookmarks",(function(){return Ke}));var i=r(1),n=r(79),o=r(202),a=r(122),s=r(85),l=r(112),c=r(138),u=(r(84),r(82),r(104)),d=r(81),p=r(80),h=r(178),b=r(925),m=r(156),f=r(99);r(83);let y=class extends f.a{constructor(e){super(e)}get editedBookmark(){const{bookmark:e}=this;return e?this._get("editedBookmark")||e.clone():null}get state(){return this._get("state")}set state(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}};Object(n.a)([Object(d.b)()],y.prototype,"bookmark",void 0),Object(n.a)([Object(d.b)({readOnly:!0})],y.prototype,"editedBookmark",null),Object(n.a)([Object(d.b)()],y.prototype,"state",null),Object(n.a)([Object(d.b)()],y.prototype,"validationState",void 0),Object(n.a)([Object(d.b)()],y.prototype,"loading",void 0),y=Object(n.a)([Object(p.a)("esri.widgets.Bookmarks.UserState")],y);const O=y;var g=r(627),j=r(107),v=r(88),w=r(131),_=r(87),k=r(1011),S=r(566);const x="esri.widgets.Bookmarks.BookmarksViewModel",M=_.a.getLogger(x),I=j.a.ofType(k.a),T={width:128,height:128,format:"png"},A={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},N={time:!0};let L=class extends(Object(S.a)(w.a.EventedAccessor)){constructor(e){super(e),this.abilities={...N},this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}castAbilities(e){return{...N,...e}}set bookmarks(e){void 0!==e?this._override("bookmarks",e):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new I}set defaultCreateOptions(e){this._set("defaultCreateOptions",{...A,...e})}get defaultCreateOptions(){return A}set defaultEditOptions(e){this._set("defaultEditOptions",{...A,...e})}get defaultEditOptions(){return A}get state(){const e=this.get("view");return e&&!e.ready?"loading":"ready"}get view(){return this._get("view")}set view(e){e&&"2d"!==e.type&&M.error(new v.a("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e)}async createBookmark(e){const{view:t,defaultCreateOptions:r,abilities:i}=this;if(!t){const e=new v.a("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return M.error(e),Promise.reject(e)}const{takeScreenshot:n,screenshotSettings:o,captureViewpoint:a,captureRotation:l,captureScale:c,captureTimeExtent:u}={...r,...e},d=n?await this._createThumbnail(o):void 0,p=i.time&&u&&Object(s.l)(t.timeExtent)?t.timeExtent.clone():void 0;return new k.a({...d&&{thumbnail:d},...u&&{timeExtent:p},...a&&{viewpoint:this._createViewpoint({view:t,captureScale:c,captureRotation:l})}})}async editBookmark(e,t){const{view:r,defaultEditOptions:i}=this;if(!r){const e=new v.a("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return M.error(e),Promise.reject(e)}const{takeScreenshot:n,screenshotSettings:o,captureViewpoint:a,captureRotation:l,captureScale:c,captureTimeExtent:u}={...i,...t},d=n?await this._createThumbnail(o):void 0;return d&&(e.thumbnail=d),a&&(e.viewpoint=this._createViewpoint({view:r,captureScale:c,captureRotation:l})),u&&Object(s.l)(r.timeExtent)&&(e.timeExtent=r.timeExtent.clone()),this.emit("bookmark-edit",{bookmark:e}),e}goTo(e){const{abilities:t,view:r}=this;if(!r){const e=new v.a("go-to:invalid-view","Cannot go to a bookmark without a view");return M.error(e),Promise.reject(e)}const i=null==e?void 0:e.viewpoint;if(!i){const t=new v.a("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});return M.error(t),Promise.reject(t)}this._set("activeBookmark",e);const n={target:i},o=this.callGoTo(n),a=null==e?void 0:e.timeExtent;return t.time&&a&&(r.timeExtent=a),this.emit("bookmark-select",{bookmark:e}),o.catch((()=>{})).then((()=>this._set("activeBookmark",null))),o}async _createThumbnail(e){const t=await this.view.takeScreenshot({...T,...e});return new b.a({url:t.dataUrl})}_createViewpoint({view:e,captureRotation:t,captureScale:r}){var i,n;const o=null==(i=e.viewpoint)?void 0:i.clone();return new g.a({targetGeometry:null==(n=e.extent)?void 0:n.clone(),rotation:t&&(null==o?void 0:o.rotation)||0,scale:r&&(null==o?void 0:o.scale)||0})}};Object(n.a)([Object(d.b)()],L.prototype,"abilities",void 0),Object(n.a)([Object(u.a)("abilities")],L.prototype,"castAbilities",null),Object(n.a)([Object(d.b)({readOnly:!0})],L.prototype,"activeBookmark",void 0),Object(n.a)([Object(d.b)({type:I})],L.prototype,"bookmarks",null),Object(n.a)([Object(d.b)()],L.prototype,"defaultCreateOptions",null),Object(n.a)([Object(d.b)()],L.prototype,"defaultEditOptions",null),Object(n.a)([Object(d.b)({readOnly:!0})],L.prototype,"state",null),Object(n.a)([Object(d.b)({value:null})],L.prototype,"view",null),L=Object(n.a)([Object(p.a)(x)],L);const C=L;var R=r(864),E=r(759),P=r(383),U=r(108),G=r(185),B=r(353),F=r(128),D=r(1161);const q="data-bookmark-uid",W="esri-bookmarks esri-widget--panel",z="esri-bookmarks__loader-container",J="esri-bookmarks__loader",V="esri-bookmarks__list",$="esri-bookmarks__list--sortable",H="esri-bookmarks__bookmark",Z="esri-bookmarks__bookmark-button",Q="esri-bookmarks__bookmark-image-container",K="esri-bookmarks__bookmark-edit-button-container",X="esri-bookmarks__bookmark-edit-button",Y="esri-bookmarks_bookmark-drag-handle",ee="esri-bookmarks_bookmark-drag-handle-icon",te="esri-bookmarks__bookmark-icon",re="esri-bookmarks__image",ie="esri-bookmarks__bookmark-label",ne="esri-bookmarks__bookmark-name",oe="esri-bookmarks__bookmark-time-extent",ae="esri-bookmarks__bookmark--active",se="esri-widget__content--empty",le="esri-bookmarks__no-bookmarks-heading",ce="esri-widget__no-bookmark-icon",ue="esri-bookmarks__no-bookmarks-description",de="esri-bookmarks__adding-bookmark",pe="esri-bookmarks__add-bookmark",he="esri-bookmarks__add-bookmark-button",be="esri-bookmarks__add-bookmark-icon",me="esri-bookmarks__authoring-card",fe="esri-bookmarks__authoring-container",ye="esri-bookmarks__authoring-form",Oe="esri-bookmarks__authoring-label",ge="esri-bookmarks__authoring-actions",je="esri-bookmarks__authoring-input--invalid",ve="esri-bookmarks__authoring-delete-button",we="esri-bookmarks__authoring-cancel-button",_e="esri-bookmarks__time-extent-container",ke="esri-bookmarks__time-extent",Se="esri-bookmarks__time-extent-group",xe="esri-bookmarks__time-extent-date",Me="esri-bookmarks__time-extent-time",Ie="esri-widget",Te="esri-widget--disabled",Ae="esri-button",Ne="esri-button--tertiary",Le="esri-input",Ce="esri-icon-handle-vertical",Re="esri-icon-plus",Ee="esri-icon-edit",Pe="esri-icon-handle-horizontal",Ue="esri-icon-refresh",Ge="esri-icon-link",Be="esri-icon-erase",Fe="esri-icon-bookmark",De="esri-widget__heading",qe="esri-icon-loading-indicator",We="esri-rotating",ze={addBookmark:!0,thumbnail:!0,time:!0},Je=/^https:\/\/.*/i;let Ve=class extends m.a{constructor(e,t){super(e,t),this._handles=new a.a,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._editIncludeTimeExtent=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.headingLevel=2,this.goToOverride=null,this.iconClass=Fe,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new C,this.visibleElements={...ze}}initialize(){this.own([Object(l.a)(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),Object(l.a)(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}loadDependencies(){return Promise.all([r.e(55).then(r.bind(null,1404)),r.e(53).then(r.bind(null,1405))])}get _editMenuItems(){var e,t;const{messages:r,_userState:i}=this,n=null==i||null==(e=i.editedBookmark)||null==(t=e.thumbnail)?void 0:t.url;return[new E.a({label:null==r?void 0:r.menu.refreshThumbnail,iconClass:Ue,clickFunction:()=>this._refreshThumbnail()}),new E.a({label:Je.test(n)?null==r?void 0:r.menu.editImageUrl:null==r?void 0:r.menu.useImageUrl,iconClass:Ge,clickFunction:()=>this._startUseImageUrl()}),n?new E.a({label:null==r?void 0:r.menu.removeThumbnail,iconClass:Be,clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:e,messages:t}=this,r=this._get("_editMenu");r&&r.destroy();const i=new R.a({iconClass:Pe,label:null==t?void 0:t.menu.label});return i.items=e,i}castVisibleElements(e){return{...ze,...e}}endAddBookmark(){this._userState=null}goTo(e){return this.viewModel.goTo(e)}render(){const{state:e}=this.viewModel,t="loading"===e?this.renderLoading():this.renderBookmarks();return Object(F.a)("div",{class:this.classes(W,Ie,{[Te]:this.disabled})},t)}startAddBookmark(){this._userState=new O({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return Object(F.a)("div",{class:z,key:"loader"},Object(F.a)("div",{class:J}))}renderNoBookmarksContainer(){const{messages:e}=this;return Object(F.a)("div",{class:se,key:"no-bookmarks"},Object(F.a)("span",{"aria-hidden":"true",class:this.classes(ce,Fe)}),Object(F.a)(P.a,{level:this.headingLevel,class:this.classes(De,le)},null==e?void 0:e.noBookmarksHeading),Object(F.a)("p",{class:ue},null==e?void 0:e.noBookmarksDescription))}renderAddBookmarkLoading(){var e;return Object(F.a)("div",{key:"adding-bookmark",class:de},Object(F.a)("span",{"aria-hidden":"true",class:this.classes(qe,We)}),null==(e=this.messages)?void 0:e.addingBookmark)}renderBookmarkItems(e){if(!e)return null;const{_userState:t,editingEnabled:r}=this;return e.map((e=>r&&e&&t&&("edit"===t.state||"edit-thumbnail"===t.state)&&t.bookmark===e?"edit-thumbnail"===t.state?this.renderEditingBookmarkUrl(t.editedBookmark):this.renderEditingBookmark(t.editedBookmark):this.renderBookmark(e))).toArray()}renderBookmarksContainer(e){var t;const{_userState:r,editingEnabled:i}=this,n="add"===(null==r?void 0:r.state),o=i&&!n?this.renderAddBookmarkButton():null,a=i?n&&r.loading?this.renderAddBookmarkLoading():"add"===(null==r?void 0:r.state)?this.renderAddingBookmark():null:null;return[Object(F.a)("ul",{key:"bookmark-list","aria-label":null==(t=this.messages)?void 0:t.widgetLabel,class:this.classes(V,{[$]:this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(e)),o,a]}renderAddBookmarkButton(){var e;return this.visibleElements.addBookmark?Object(F.a)("div",{key:"add-bookmark-item",class:pe},Object(F.a)("button",{class:this.classes(Ae,Ne,he),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},Object(F.a)("span",{"aria-hidden":"true",class:this.classes(be,Re)}),null==(e=this.messages)?void 0:e.addBookmark)):null}renderBookmarks(){const{bookmarks:e}=this.viewModel,t=e&&e.filter(Boolean),r=t&&t.length,i=r||this.editingEnabled?this.renderBookmarksContainer(t):null;return[r?null:this.renderNoBookmarksContainer(),i]}renderEditContainer(e){const{messagesCommon:t}=this;return Object(F.a)("div",{class:K,key:"edit-container"},Object(F.a)("button",{title:null==t?void 0:t.edit,"aria-label":null==t?void 0:t.edit,"data-bookmark":e,onclick:this._showEditBookmarkForm,bind:this,class:X,type:"button"},Object(F.a)("span",{"aria-hidden":"true",class:Ee})))}renderDragHandle(e){const{messagesCommon:t}=this,r={[q]:e.uid};return Object(F.a)("div",{role:"button",tabIndex:0,key:"drag-handle",bind:this,class:Y,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===e.uid?"true":"false","aria-label":null==t?void 0:t.dragHandleLabel,title:null==t?void 0:t.dragHandleTitle,...r},Object(F.a)("span",{"aria-hidden":"true",class:this.classes(ee,Ce)}))}renderBookmarkImageIcon(){return Object(F.a)("span",{"aria-hidden":"true",class:this.classes(te,Fe)})}renderBookmarkImage(e){const{visibleElements:t}=this,{thumbnail:r}=e,i=r&&r.url||"";return t.thumbnail&&i?Object(F.a)("img",{src:i,alt:"",class:re}):null}renderBookmarkTimeSwitch(e){const{messages:t}=this,{timeExtent:r}=e,{view:i}=this.viewModel;return i.timeExtent||r?Object(F.a)("calcite-label",{layout:"inline-space-between","disable-spacing":"true"},t.includeTimeExtent,Object(F.a)("calcite-switch",{scale:"s",checked:!!r,onCalciteSwitchChange:e=>this._editIncludeTimeExtent=!!e.detail.switched})):null}renderBookmarkTimeExtent(e){const{visibleElements:t}=this,{timeExtent:r}=e;return r?Object(F.a)("span",{class:ke},[Object(s.l)(r.start)&&Object(F.a)("span",{key:"start-date-group",class:Se},Object(F.a)("span",{key:"start-date",class:xe},this._formatDate(r.start)),t.time&&Object(F.a)("span",{key:"start-time",class:Me},this._formatTime(r.start))),Object(s.l)(r.end)&&(Object(s.k)(r.start)||r.start.getTime()!==r.end.getTime())&&Object(F.a)("span",{key:"end-date-group",class:Se},Object(F.a)("span",{key:"end-date",class:xe},this._formatDate(r.end)),t.time&&Object(F.a)("span",{key:"end-time",class:Me},this._formatTime(r.end)))]):null}renderBookmarkButton(e){const{messagesCommon:t}=this,{name:r,timeExtent:i}=e,{abilities:n}=this.viewModel,o=r||(null==t?void 0:t.untitled),a=Object(F.a)("div",{class:Q},this.renderBookmarkImage(e)||this.renderBookmarkImageIcon()),s=n.time&&i?Object(F.a)("span",{key:"time-extent",class:oe},this.renderBookmarkTimeExtent(e)):null;return Object(F.a)("button",{key:"bookmark-button",class:Z,bind:this,"data-bookmark":e,onclick:this._goToBookmark,type:"button"},a,Object(F.a)("div",{class:ie},Object(F.a)("span",{key:"bookmark-title",class:ne},o),s))}renderBookmark(e){const{activeBookmark:t}=this.viewModel,r={[ae]:t===e},i=this.editingEnabled?this.renderEditContainer(e):null,n={[q]:e.uid},o=this.editingEnabled?this.renderDragHandle(e):null;return Object(F.a)("li",{key:e,class:this.classes(H,r),...n},o,this.renderBookmarkButton(e),i)}renderEditingBookmarkName(e){const{messages:t,_userState:r}=this,i="name-required"===r.validationState;return Object(F.a)("label",{class:Oe},null==t?void 0:t.title,i?Object(F.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(F.a)("input",{required:!0,bind:this,class:this.classes(Le,i?je:null),type:"text",value:e.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":e,"data-node-ref":"_editInputNode",placeholder:null==t?void 0:t.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:e}=this;return Object(F.a)("div",{class:ge},Object(F.a)("input",{type:"button",value:null==e?void 0:e.back,class:this.classes(Ae,Ne),onclick:this._closeUrlEditBookmarkForm,bind:this}),Object(F.a)("input",{class:Ae,type:"submit",value:null==e?void 0:e.add}))}renderEditingBookmarkActions(){const{messagesCommon:e}=this,{bookmark:t}=this._userState;return Object(F.a)("div",{class:ge},Object(F.a)("input",{type:"button",value:null==e?void 0:e.delete,class:this.classes(Ae,Ne,ve),"data-bookmark":t,onclick:this._deleteBookmark,bind:this}),Object(F.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(Ae,Ne),onclick:this._closeEditBookmarkForm,bind:this}),Object(F.a)("input",{class:Ae,type:"submit",value:null==e?void 0:e.save}))}renderEditingBookmarkUrlInput(e){var t;const{messages:r,_userState:i}=this,n=null==(t=e.thumbnail)?void 0:t.url,o=Je.test(n)?n:null,a="absolute-url-required"===i.validationState;return Object(F.a)("label",{class:Oe},a?Object(F.a)("strong",null,null==r?void 0:r.invalidImageUrl):null,Object(F.a)("input",{required:!0,bind:this,class:this.classes(Le,a?je:null),type:"text",value:o,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":e,"data-node-ref":"_urlEditInputNode",title:null==r?void 0:r.imageUrlTooltip,placeholder:r&&`https://<${r.imageUrlPlaceholder}>`}))}renderEditingBookmarkUrl(e){const t={[q]:e.uid};return Object(F.a)("li",{key:"edit-bookmark-url-form",class:me,...t},Object(F.a)("form",{class:ye,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(e),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(e){const t={[q]:e.uid},{abilities:r}=this.viewModel,i=r.time?Object(F.a)("div",{key:"edit-bookmark-time-container",class:_e},this.renderBookmarkTimeSwitch(e),this._editIncludeTimeExtent&&this.renderBookmarkTimeExtent(e)):null;return Object(F.a)("li",{key:"edit-bookmark-form",class:me,...t},Object(F.a)("form",{class:ye,onsubmit:this._editBookmarkSubmit,bind:this},Object(F.a)("div",{class:fe},Object(F.a)("div",{class:Q},this.renderBookmarkImage(e),this._editMenu.render()),this.renderEditingBookmarkName(e)),i,this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:e,messages:t}=this,r="name-required"===e.validationState;return Object(F.a)("label",{class:Oe},null==t?void 0:t.title,r?Object(F.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(F.a)("input",{required:!0,bind:this,class:this.classes(Le,r?je:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==t?void 0:t.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:e}=this;return Object(F.a)("div",{class:this.classes(ge)},Object(F.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(Ae,Ne,we),onclick:this._endAddBookmark.bind(this),bind:this}),Object(F.a)("input",{class:Ae,type:"submit",value:null==e?void 0:e.add}))}renderAddingBookmark(){return Object(F.a)("div",{key:"add-bookmark-form",class:me},Object(F.a)("form",{class:ye,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_formatDate(e){return e?Object(h.b)(e,Object(h.a)("short-date")):null}_formatTime(e){return e?Object(h.b)(e,Object(h.a)("long-time")):null}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(e){const{_sortableSavedItems:t}=this,r=Object(o.a)(e);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(r))return;const{_sortable:i,_selectedSortUid:n}=this,a=i.toArray(),s=e.target.getAttribute(q),l=a.indexOf(s);if(Object(U.g)(r)){const e=n&&n===s;return this._selectedSortUid=e?null:s,this._sortableSavedItems=e?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===r)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===r&&t)return e.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(t,i,s),void this.scheduleRender();if(-1===l||!n)return;const c="ArrowUp"===r?l-1:l+1;c>=a.length||c<=-1||(function(e,t,r){e.splice(r,0,e.splice(t,1)[0])}(a,l,c),this._updateSortItems(a,i,s))}_updateSortItems(e,t,r){t.sort(e),this._sortBookmarks(t),this._focusSortUid=r,this._selectedSortUid=r}_focusDragHandle(e){const{_focusSortUid:t}=this;e&&t&&e.getAttribute(q)===t&&(e.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:e,_sortableNode:t,editingEnabled:r}=this;if(t)if(e)e.option("disabled",!r);else{const e=D.a.create(t,{dataIdAttr:q,handle:`.${Y}`,group:"bookmarks",disabled:!r,onSort:()=>this._sortBookmarks(e)});this._sortable=e}}_sortNodeCreated(e){this._sortableNode=e,this._toggleSorting()}_sortBookmarks(e){const{bookmarks:t}=this.viewModel;if(!t)return;const r=e.toArray();t.sort(((e,t)=>{const i=r.indexOf(e.uid),n=r.indexOf(t.uid);return i>n?1:i<n?-1:0}))}_destroySortable(){const{_sortable:e}=this;e&&e.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const e="bookmarks-init",{_handles:t}=this;t.remove(e),t.add(Object(l.b)(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),e)}_bookmarksChanged(){const e="bookmarks-change",{bookmarks:t}=this.viewModel,{_handles:r}=this;r.remove(e);const i=t.map((e=>Object(l.d)(e,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));r.add(i,e),this.scheduleRender()}_showEditBookmarkForm(e){const t=e.currentTarget["data-bookmark"];this._editIncludeTimeExtent=!!t.timeExtent,this._focusEditInputBox=!0,this._userState=new O({bookmark:t,state:"edit"}),this.viewModel.goTo(t),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(e){e.preventDefault();const{_addInputNode:t,_userState:r}=this,i=t&&t.value.trim();i?(r.loading=!0,this.viewModel.createBookmark().then((e=>{e.name=i,this.viewModel.bookmarks.add(e),this._endAddBookmark()}))):r.validationState="name-required"}async _editBookmarkAndClose(e,t){const{viewModel:r}=this;await r.editBookmark(e,{...r.defaultEditOptions,...t}),this._closeEditBookmarkForm()}_editBookmarkSubmit(e){e.preventDefault();const{_editInputNode:t,_userState:r,_editIncludeTimeExtent:i}=this,n=t&&t.value.trim();n?(r.bookmark.name=n,r.bookmark.thumbnail=r.editedBookmark.thumbnail,i||(r.bookmark.timeExtent=null),this._editBookmarkAndClose(r.bookmark,{takeScreenshot:!1,captureTimeExtent:i})):r.validationState="name-required"}_storeAddBookmarkButton(e){this._addBookmarkButtonNode=e,this._focusAddBookmark()}_storeEditInput(e){this._editInputNode=e,this._focusEditInput()}_storeAddInput(e){this._addInputNode=e,this._focusAddInput()}_storeUrlEditInput(e){this._urlEditInputNode=e,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(e){const t=e.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(t)}_goToBookmark(e){const t=e.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(t)}async _refreshThumbnail(){const{_userState:e,_editMenu:t,viewModel:r}=this;e.validationState=void 0,await r.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}),t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:e,_editMenu:t}=this;e.editedBookmark.thumbnail=null,e.validationState=void 0,t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(e){e.preventDefault();const{_urlEditInputNode:t,_userState:r}=this,i=t.value;Je.test(i)?(i&&(r.editedBookmark.thumbnail=new b.a({url:i})),this._closeUrlEditBookmarkForm()):r.validationState="absolute-url-required"}};Object(n.a)([Object(d.b)()],Ve.prototype,"_editIncludeTimeExtent",void 0),Object(n.a)([Object(d.b)({type:O})],Ve.prototype,"_userState",void 0),Object(n.a)([Object(d.b)({readOnly:!0})],Ve.prototype,"_editMenuItems",null),Object(n.a)([Object(d.b)({readOnly:!0})],Ve.prototype,"_editMenu",null),Object(n.a)([Object(c.a)("viewModel.defaultCreateOptions")],Ve.prototype,"defaultCreateOptions",void 0),Object(n.a)([Object(c.a)("viewModel.defaultEditOptions")],Ve.prototype,"defaultEditOptions",void 0),Object(n.a)([Object(c.a)("viewModel.bookmarks")],Ve.prototype,"bookmarks",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"disabled",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"editingEnabled",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"headingLevel",void 0),Object(n.a)([Object(c.a)("viewModel.goToOverride")],Ve.prototype,"goToOverride",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"iconClass",void 0),Object(n.a)([Object(d.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ve.prototype,"label",void 0),Object(n.a)([Object(d.b)(),Object(G.a)("esri/widgets/Bookmarks/t9n/Bookmarks")],Ve.prototype,"messages",void 0),Object(n.a)([Object(d.b)(),Object(G.a)("esri/t9n/common")],Ve.prototype,"messagesCommon",void 0),Object(n.a)([Object(d.b)(),Object(G.a)("esri/core/t9n/Units")],Ve.prototype,"messagesUnits",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"uiStrings",void 0),Object(n.a)([Object(c.a)("viewModel.view")],Ve.prototype,"view",void 0),Object(n.a)([Object(d.b)({type:C}),Object(B.a)(["select-bookmark","bookmark-edit","bookmark-select"])],Ve.prototype,"viewModel",void 0),Object(n.a)([Object(d.b)()],Ve.prototype,"visibleElements",void 0),Object(n.a)([Object(u.a)("visibleElements")],Ve.prototype,"castVisibleElements",null),Object(n.a)([Object(d.b)()],Ve.prototype,"endAddBookmark",null),Object(n.a)([Object(d.b)()],Ve.prototype,"startAddBookmark",null),Ve=Object(n.a)([Object(p.a)("esri.widgets.Bookmarks")],Ve);const $e=Ve;var He=r(1125),Ze=r(91),Qe=r(0);const Ke=e=>{const t=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const r=new $e({container:t.current,view:e.view,editingEnabled:!0});return Ze.c((e=>{if(window.localStorage.getItem("imaps")){const t=He.a.fromJSON(JSON.parse(window.localStorage.getItem("imaps")));t.load().then((()=>{e(t.bookmarks)}))}})).then((e=>{r.bookmarks.removeAll(),r.bookmarks.addMany(e)})),()=>{r&&r.destroy()}}),[e.id]),Object(Qe.jsx)("div",{ref:t})};t.default=Ke},140:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));class i{constructor(e,t,r,i){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=r;const n=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*n,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const n=new i(6378137,1/298.257223563,3e5,.006694379990137799),o=new i(3396190,1/169.8944472236118,23e4),a=new i(1737400,0,0)},163:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return j})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return d}));var i=r(89),n=r(85),o=r(95),a=r(140),s=r(110);function l(e){return 57.29577951308232*e}function c(e){return.017453292519943*e}function u(e){return e/a.a.radius}function d(e){return Math.PI/2-2*Math.atan(Math.exp(-e/a.a.radius))}function p(e){return null!=e.wkid||null!=e.wkt}const h=[0,0];function b(e,t,r,i,n){const o=e,a=n;if(a.spatialReference=r,"x"in o&&"x"in a)[a.x,a.y]=t(o.x,o.y,h,i);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=t(o.xmin,o.ymin,h,i),[a.xmax,a.ymax]=t(o.xmax,o.ymax,h,i);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){const e="paths"in o?o.paths:o.rings,r=[];let n;for(let o=0;o<e.length;o++){const a=e[o];n=[],r.push(n);for(let e=0;e<a.length;e++)n.push(t(a[e][0],a[e][1],[0,0],i)),a[e].length>2&&n[e].push(a[e][2]),a[e].length>3&&n[e].push(a[e][3])}"paths"in a?a.paths=r:a.rings=r}else if("points"in o&&"points"in a){const e=o.points,r=[];for(let n=0;n<e.length;n++)r[n]=t(e[n][0],e[n][1],[0,0],i),e[n].length>2&&r[n].push(e[n][2]),e[n].length>3&&r[n].push(e[n][3]);a.points=r}return n}function m(e,t){const r=e&&(p(e)?e:e.spatialReference),i=t&&(p(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!i)&&(!!Object(s.d)(i,r)||Object(s.p)(i)&&Object(s.m)(r)||Object(s.p)(r)&&Object(s.m)(i))}function f(e,t){if(Object(n.k)(e))return null;const r=e.spatialReference,a=t&&(p(t)?t:t.spatialReference);return m(r,a)?Object(s.d)(r,a)?Object(i.a)(e):Object(s.p)(a)?b(e,y,o.a.WebMercator,!1,Object(i.a)(e)):Object(s.m)(a)?b(e,O,o.a.WGS84,!1,Object(i.a)(e)):null:null}function y(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=c(t);return r[0]=c(e)*a.a.radius,r[1]=a.a.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function O(e,t,r=[0,0],i=!1){const n=l(e/a.a.radius);return r[0]=i?n:n-360*Math.floor((n+180)/360),r[1]=l(Math.PI/2-2*Math.atan(Math.exp(-t/a.a.radius))),r}function g(e,t=!1,r=Object(i.a)(e)){return b(e,y,o.a.WebMercator,t,r)}function j(e,t=!1,r=Object(i.a)(e)){return b(e,O,o.a.WGS84,t,r)}},169:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a}));var i=r(90);function n(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e}const o=Object(i.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),a=Object(i.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},170:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var i=r(79),n=r(150),o=r(152),a=r(102),s=r(298),l=r(88),c=r(86),u=r(174),d=r(87),p=r(85),h=r(91),b=r(81),m=(r(84),r(82),r(83)),f=r(93),y=r(80),O=r(96),g=r(120),j=r(275),v=r(99);let w=class extends v.a{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};Object(i.a)([Object(b.b)()],w.prototype,"nextQueryParams",void 0),Object(i.a)([Object(b.b)()],w.prototype,"queryParams",void 0),Object(i.a)([Object(b.b)()],w.prototype,"results",void 0),Object(i.a)([Object(b.b)()],w.prototype,"total",void 0),w=Object(i.a)([Object(y.a)("esri.portal.PortalQueryResult")],w);const _=w;var k,S=r(495),x=r(428);let M;const I={PortalGroup:()=>Promise.resolve().then(r.bind(null,501)),PortalItem:()=>r.e(59).then(r.bind(null,476)),PortalUser:()=>Promise.resolve().then(r.bind(null,495))};let T=k=class extends(Object(c.b)(u.a)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=n.a.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===n.a.request.trustedServers.indexOf(t)&&n.a.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return Object(s.d)(d.a.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=S.default.fromJSON(e),t.portal=this),t}load(e){const t=Promise.all([r.e(195),r.e(226)]).then(r.bind(null,718)).then((({default:t})=>{Object(h.u)(e),M=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(o.b){const e=o.b;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==k.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){Object(s.b)(d.a.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(3),r.e(4),r.e(23),r.e(166)]).then(r.bind(null,1389))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(1),r.e(31),r.e(44)]).then(r.bind(null,997))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){Object(s.b)(d.a.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(0,(await r.e(121).then(r.bind(null,1367))).default)({url:e})}async createPrintTask(){Object(s.b)(d.a.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(3),r.e(4),r.e(23),r.e(151)]).then(r.bind(null,1209))).default)(e)}async createRouteTask(){Object(s.b)(d.a.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(3),r.e(4),r.e(23),r.e(167)]).then(r.bind(null,1406))).default)(e)}async createServiceAreaTask(){Object(s.b)(d.a.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(3),r.e(4),r.e(23),r.e(168)]).then(r.bind(null,1390))).default)(e)}fetchBasemaps(e,t){const r=new j.a;return r.query=e||(n.a.apiKey&&Object(x.a)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const i=e.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new M({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):Object(h.m)(e)?Promise.reject(Object(h.d)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new j.a;if(r.num=100,r.sortField="title",t&&t.length){const i=[];for(const e of t)i.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return Object(h.m)(e)?Promise.reject(Object(h.d)()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||Object(g.b)();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}static getDefault(){return k._default&&!k._default.destroyed||(k._default=new k),k._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new l.a("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new k({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new l.a("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new l.a("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Object(g.b)().toLowerCase()},...r};return"auto"===n.authMode&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this._request(i,n)}_queryPortal(e,t,r,i){const n=Object(m.m)(j.a,t),o=t=>this._request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then((e=>{const r=n.clone();return r.start=e.nextStart,new _({nextQueryParams:r,queryParams:n,total:e.total,results:k._resultsToTypedArray(t,{portal:this},e,i)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>(Object(h.t)(t),e)))));return r&&I[r]?I[r]().then((({default:e})=>(Object(h.u)(i),o(e)))):o()}_signIn(){if(this.authMode===k.AUTH_MODE_ANONYMOUS)return Promise.reject(new l.a("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return o.b?o.b.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=k._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_readBasemap(e){if(e){const t=M.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r={f:"json",...t.query},{authMode:i=(this.authMode===k.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:n=null,cacheBust:o=!1,method:s="auto",responseType:l="json",signal:c}=t,u={authMode:i,body:n,cacheBust:o,method:s,query:r,responseType:l,timeout:0,signal:c};return Object(a.default)(this._normalizeSSL(e),u).then((e=>e.data))}static _resultsToTypedArray(e,t,r,i){let n;if(r){const o=Object(p.l)(i)?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map((r=>{const i=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof i.load&&i.load(o),i})))}else n=[];return n}};T.AUTH_MODE_ANONYMOUS="anonymous",T.AUTH_MODE_AUTO="auto",T.AUTH_MODE_IMMEDIATE="immediate",Object(i.a)([Object(b.b)()],T.prototype,"access",void 0),Object(i.a)([Object(b.b)()],T.prototype,"allSSL",void 0),Object(i.a)([Object(b.b)()],T.prototype,"authMode",void 0),Object(i.a)([Object(b.b)()],T.prototype,"authorizedCrossOriginDomains",void 0),Object(i.a)([Object(f.a)("authorizedCrossOriginDomains")],T.prototype,"readAuthorizedCrossOriginDomains",null),Object(i.a)([Object(b.b)()],T.prototype,"basemapGalleryGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"bingKey",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canListApps",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canListData",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canListPreProvisionedItems",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canProvisionDirectPurchase",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canSearchPublic",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canShareBingPublic",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canSharePublic",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canSignInArcGIS",void 0),Object(i.a)([Object(b.b)()],T.prototype,"canSignInIDP",void 0),Object(i.a)([Object(b.b)()],T.prototype,"colorSetsGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"commentsEnabled",void 0),Object(i.a)([Object(b.b)({type:Date})],T.prototype,"created",void 0),Object(i.a)([Object(b.b)()],T.prototype,"credential",void 0),Object(i.a)([Object(b.b)()],T.prototype,"culture",void 0),Object(i.a)([Object(b.b)()],T.prototype,"currentVersion",void 0),Object(i.a)([Object(b.b)()],T.prototype,"customBaseUrl",void 0),Object(i.a)([Object(b.b)()],T.prototype,"defaultBasemap",void 0),Object(i.a)([Object(f.a)("defaultBasemap")],T.prototype,"readDefaultBasemap",null),Object(i.a)([Object(b.b)()],T.prototype,"defaultDevBasemap",void 0),Object(i.a)([Object(f.a)("defaultDevBasemap")],T.prototype,"readDefaultDevBasemap",null),Object(i.a)([Object(b.b)({type:O.a})],T.prototype,"defaultExtent",void 0),Object(i.a)([Object(b.b)()],T.prototype,"defaultVectorBasemap",void 0),Object(i.a)([Object(f.a)("defaultVectorBasemap")],T.prototype,"readDefaultVectorBasemap",null),Object(i.a)([Object(b.b)()],T.prototype,"description",void 0),Object(i.a)([Object(b.b)()],T.prototype,"devBasemapGalleryGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"eueiEnabled",void 0),Object(i.a)([Object(b.b)({readOnly:!0})],T.prototype,"extraQuery",null),Object(i.a)([Object(b.b)()],T.prototype,"featuredGroups",void 0),Object(i.a)([Object(b.b)()],T.prototype,"featuredItemsGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"galleryTemplatesGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"livingAtlasGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"hasCategorySchema",void 0),Object(i.a)([Object(b.b)()],T.prototype,"helpBase",void 0),Object(i.a)([Object(b.b)()],T.prototype,"helperServices",void 0),Object(i.a)([Object(b.b)()],T.prototype,"helpMap",void 0),Object(i.a)([Object(b.b)()],T.prototype,"homePageFeaturedContent",void 0),Object(i.a)([Object(b.b)()],T.prototype,"homePageFeaturedContentCount",void 0),Object(i.a)([Object(b.b)()],T.prototype,"httpPort",void 0),Object(i.a)([Object(b.b)()],T.prototype,"httpsPort",void 0),Object(i.a)([Object(b.b)()],T.prototype,"id",void 0),Object(i.a)([Object(b.b)()],T.prototype,"ipCntryCode",void 0),Object(i.a)([Object(b.b)({readOnly:!0})],T.prototype,"isOrganization",null),Object(i.a)([Object(b.b)()],T.prototype,"isPortal",void 0),Object(i.a)([Object(b.b)()],T.prototype,"isReadOnly",void 0),Object(i.a)([Object(b.b)()],T.prototype,"layerTemplatesGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"maxTokenExpirationMinutes",void 0),Object(i.a)([Object(b.b)({type:Date})],T.prototype,"modified",void 0),Object(i.a)([Object(b.b)()],T.prototype,"name",void 0),Object(i.a)([Object(b.b)()],T.prototype,"portalHostname",void 0),Object(i.a)([Object(b.b)()],T.prototype,"portalMode",void 0),Object(i.a)([Object(b.b)()],T.prototype,"portalProperties",void 0),Object(i.a)([Object(b.b)()],T.prototype,"region",void 0),Object(i.a)([Object(b.b)({readOnly:!0})],T.prototype,"restUrl",null),Object(i.a)([Object(b.b)()],T.prototype,"rotatorPanels",void 0),Object(i.a)([Object(b.b)()],T.prototype,"showHomePageDescription",void 0),Object(i.a)([Object(b.b)()],T.prototype,"sourceJSON",void 0),Object(i.a)([Object(b.b)()],T.prototype,"staticImagesUrl",void 0),Object(i.a)([Object(b.b)({readOnly:!0,json:{read:!1}})],T.prototype,"stylesGroupQuery",null),Object(i.a)([Object(b.b)({json:{name:"2DStylesGroupQuery"}})],T.prototype,"stylesGroupQuery2d",void 0),Object(i.a)([Object(b.b)({json:{name:"stylesGroupQuery"}})],T.prototype,"stylesGroupQuery3d",void 0),Object(i.a)([Object(b.b)()],T.prototype,"supportsHostedServices",void 0),Object(i.a)([Object(b.b)()],T.prototype,"symbolSetsGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"templatesGroupQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"thumbnail",void 0),Object(i.a)([Object(b.b)({readOnly:!0})],T.prototype,"thumbnailUrl",null),Object(i.a)([Object(b.b)()],T.prototype,"units",void 0),Object(i.a)([Object(b.b)()],T.prototype,"url",void 0),Object(i.a)([Object(b.b)()],T.prototype,"urlKey",void 0),Object(i.a)([Object(f.a)("urlKey")],T.prototype,"readUrlKey",null),Object(i.a)([Object(b.b)()],T.prototype,"user",void 0),Object(i.a)([Object(f.a)("user")],T.prototype,"readUser",null),Object(i.a)([Object(b.b)()],T.prototype,"useStandardizedQuery",void 0),Object(i.a)([Object(b.b)()],T.prototype,"useVectorBasemaps",void 0),Object(i.a)([Object(b.b)()],T.prototype,"vectorBasemapGalleryGroupQuery",void 0),T=k=Object(i.a)([Object(y.a)("esri.portal.Portal")],T);const A=T},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return s}));const i=1e-6,n=Math.random,o=Math.PI/180,a=180/Math.PI;function s(e){return e*o}function l(e){return e*a}Object.freeze({__proto__:null,EPSILON:i,RANDOM:n,toRadian:s,toDegree:l,equals:function(e,t){return Math.abs(e-t)<=i*Math.max(1,Math.abs(e),Math.abs(t))}})},174:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(79),n=r(88),o=r(266),a=r(91),s=r(160),l=r(81),c=r(80);const u="loaded",d=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const i=new Promise(((e,t)=>{const i=Object(a.q)(r,t);this.destroyed&&t(new n.a("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{i&&i.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal}),Object(a.p)(e.signal,(()=>{this._promiseProps.abort()}))}return e(),i}}))),this.when((()=>{this._set("loadStatus",u),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return this.loadStatus===u}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new n.a("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return Object(i.a)([Object(l.b)({readOnly:!0})],t.prototype,"loaded",null),Object(i.a)([Object(l.b)({readOnly:!0})],t.prototype,"loadError",void 0),Object(i.a)([Object(l.b)()],t.prototype,"loadStatus",void 0),Object(i.a)([Object(l.b)({type:[s.a],readOnly:!0})],t.prototype,"loadWarnings",null),t=Object(i.a)([Object(c.a)("esri.core.Loadable")],t),t};let p=class extends(d(o.a)){};var h;p=Object(i.a)([Object(c.a)("esri.core.Loadable")],p),(h=p||(p={})).LoadableMixin=d,h.isLoadable=function(e){return!(!e||!e.load)};const b=p},182:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r(90);const n=Object(i.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},189:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var i,n=r(79),o=r(89),a=r(81),s=(r(83),r(80)),l=r(92),c=r(96),u=r(136),d=r(109),p=r(336);function h(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}let b=i=class extends u.a{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points&&r.points[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new c.a,r=this.hasZ,i=this.hasM,n=r?3:2,o=e[0],a=h(Math.min),s=h(Math.max);let l,u,d,p,[b,m]=o,[f,y]=o;for(let c=0,h=e.length;c<h;c++){const t=e[c],[o,h]=t;if(b=a(b,o),m=a(m,h),f=s(f,o),y=s(y,h),r&&t.length>2){const e=t[2];l=a(l,e),d=s(d,e)}if(i&&t.length>n){const e=t[n];u=a(u,e),p=s(p,e)}}return t.xmin=b,t.ymin=m,t.xmax=f,t.ymax=y,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=null,t.zmax=null),i?(t.mmin=u,t.mmax=p):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=Object(o.a)(this.points)}addPoint(e){return Object(p.a)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:Object(o.a)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new i(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new d.a(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new d.a(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Object(p.a)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};Object(n.a)([Object(a.b)({readOnly:!0})],b.prototype,"cache",null),Object(n.a)([Object(a.b)()],b.prototype,"extent",null),Object(n.a)([Object(a.b)({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0),Object(n.a)([Object(l.a)("points")],b.prototype,"writePoints",null),b=i=Object(n.a)([Object(s.a)("esri.geometry.Multipoint")],b),b.prototype.toJSON.isDefaultToJSON=!0;const m=b},195:function(e,t,r){"use strict";function i(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function n(e){return void 0!==e.points}function o(e){return void 0!==e.x&&void 0!==e.y}function a(e){return void 0!==e.paths}function s(e){return void 0!==e.rings}function l(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return h}));const c=l(Math.min),u=l(Math.max);function d(e,t){return a(t)?h(e,t.paths,!1,!1):s(t)?h(e,t.rings,!1,!1):n(t)?m(e,t.points,!1,!1,!1,!1):i(t)?b(e,t):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function p(e,t){return a(t)?h(e,t.paths,!0,!1):s(t)?h(e,t.rings,!0,!1):n(t)?m(e,t.points,!0,!1,!0,!1):i(t)?b(e,t,!0,!1,!0,!1):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function h(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let o,a,s,l,[d,p]=t[0][0],[h,b]=t[0][0];for(let m=0;m<t.length;m++){const e=t[m];for(let t=0;t<e.length;t++){const m=e[t],[f,y]=m;if(d=c(d,f),p=c(p,y),h=u(h,f),b=u(b,y),r&&m.length>2){const e=m[2];o=c(o,e),a=u(a,e)}if(i&&m.length>n){const e=m[n];s=c(o,e),l=u(a,e)}}}return r?i?(e[0]=d,e[1]=p,e[2]=o,e[3]=s,e[4]=h,e[5]=b,e[6]=a,e[7]=l,e.length=8,e):(e[0]=d,e[1]=p,e[2]=o,e[3]=h,e[4]=b,e[5]=a,e.length=6,e):i?(e[0]=d,e[1]=p,e[2]=s,e[3]=h,e[4]=b,e[5]=l,e.length=6,e):(e[0]=d,e[1]=p,e[2]=h,e[3]=b,e.length=4,e)}function b(e,t,r,i,n,o){const a=t.xmin,s=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,d=t.zmax,p=t.mmin,h=t.mmax;return n?(u=u||0,d=d||0,o?(p=p||0,h=h||0,e[0]=a,e[1]=l,e[2]=u,e[3]=p,e[4]=s,e[5]=c,e[6]=d,e[7]=h,e):(e[0]=a,e[1]=l,e[2]=u,e[3]=s,e[4]=c,e[5]=d,e)):o?(p=p||0,h=h||0,e[0]=a,e[1]=l,e[2]=p,e[3]=s,e[4]=c,e[5]=h,e):(e[0]=a,e[1]=l,e[2]=s,e[3]=c,e)}function m(e,t,r,i,n,o){const a=r?3:2,s=i&&o,l=r&&n;if(!t.length||!t[0].length)return null;let d,p,h,b,[m,f]=t[0],[y,O]=t[0];for(let g=0;g<t.length;g++){const e=t[g],[r,i]=e;if(m=c(m,r),f=c(f,i),y=u(y,r),O=u(O,i),l&&e.length>2){const t=e[2];d=c(d,t),p=u(p,t)}if(s&&e.length>a){const t=e[a];h=c(d,t),b=u(p,t)}}return n?(d=d||0,p=p||0,o?(h=h||0,b=b||0,e[0]=m,e[1]=f,e[2]=d,e[3]=h,e[4]=y,e[5]=O,e[6]=p,e[7]=b,e):(e[0]=m,e[1]=f,e[2]=d,e[3]=y,e[4]=O,e[5]=p,e)):o?(h=h||0,b=b||0,e[0]=m,e[1]=f,e[2]=h,e[3]=y,e[4]=O,e[5]=b,e):(e[0]=m,e[1]=f,e[2]=y,e[3]=O,e)}},210:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));r(82);function i(e){}function n(e){return()=>e}},226:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i,n=r(79),o=r(86),a=r(153),s=r(81),l=(r(84),r(82),r(83),r(80)),c=r(182);let u=i=class extends o.a{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return Object(a.a)(this.value,this.unit,"milliseconds")}clone(){return new i({value:this.value,unit:this.unit})}};Object(n.a)([Object(s.b)({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,"value",void 0),Object(n.a)([Object(s.b)({type:c.a.apiValues,json:{type:c.a.jsonValues,read:c.a.read,write:c.a.write},nonNullable:!0})],u.prototype,"unit",void 0),u=i=Object(n.a)([Object(l.a)("esri.TimeInterval")],u);const d=u},236:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return j})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return o})),r.d(t,"m",(function(){return O}));var i=r(173);function n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function s(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function c(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function d(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+o*o)}function p(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return r*r+i*i+n*n+o*o}function h(e){const t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function b(e){const t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function m(e,t){const r=t[0],i=t[1],n=t[2],o=t[3];let a=r*r+i*i+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=i*a,e[2]=n*a,e[3]=o*a),e}function f(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function y(e,t,r,i){const n=t[0],o=t[1],a=t[2],s=t[3];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=a+i*(r[2]-a),e[3]=s+i*(r[3]-s),e}function O(e,t,r){const i=t[0],n=t[1],o=t[2],a=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*o+r[12]*a,e[1]=r[1]*i+r[5]*n+r[9]*o+r[13]*a,e[2]=r[2]*i+r[6]*n+r[10]*o+r[14]*a,e[3]=r[3]*i+r[7]*n+r[11]*o+r[15]*a,e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){const r=e[0],n=e[1],o=e[2],a=e[3],s=t[0],l=t[1],c=t[2],u=t[3];return Math.abs(r-s)<=i.a*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-l)<=i.a*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=i.a*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-u)<=i.a*Math.max(1,Math.abs(a),Math.abs(u))}const v=s,w=l,_=c,k=d,S=p,x=h,M=b;Object.freeze({__proto__:null,copy:n,set:o,add:a,subtract:s,multiply:l,divide:c,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:u,scaleAndAdd:function(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e},distance:d,squaredDistance:p,length:h,squaredLength:b,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:m,dot:f,lerp:y,random:function(e,t){let r,n,o,a,s,l;t=t||1;do{r=2*Object(i.b)()-1,n=2*Object(i.b)()-1,s=r*r+n*n}while(s>=1);do{o=2*Object(i.b)()-1,a=2*Object(i.b)()-1,l=o*o+a*a}while(l>=1);const c=Math.sqrt((1-s)/l);return e[0]=t*r,e[1]=t*n,e[2]=t*o*c,e[3]=t*a*c,e},transformMat4:O,transformQuat:function(e,t,r){const i=t[0],n=t[1],o=t[2],a=r[0],s=r[1],l=r[2],c=r[3],u=c*i+s*o-l*n,d=c*n+l*i-a*o,p=c*o+a*n-s*i,h=-a*i-s*n-l*o;return e[0]=u*c+h*-a+d*-l-p*-s,e[1]=d*c+h*-s+p*-a-u*-l,e[2]=p*c+h*-l+u*-s-d*-a,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:g,equals:j,sub:v,mul:w,div:_,dist:k,sqrDist:S,len:x,sqrLen:M})},245:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return b}));var i=r(110);function n(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,r=e.hasM;if("point"===e.type)return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let r=!1,i=!1;return t.forEach((e=>{e.hasZ&&(r=!0),e.hasM&&(i=!0)})),t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){const r=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(i&&e.hasM){const r=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t}))}return null}function o(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function a(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function s(e,t,r,i){const[n,o]=t,[a,s]=r[i],[l,c]=r[i+1],u=l-a,d=c-s,p=u*u+d*d,h=(n-a)*u+(o-s)*d,b=Math.min(1,Math.max(0,h/p));return e[0]=a+u*b,e[1]=s+d*b,e}function l(e,t){return a(e,t,.5)}function c(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=o(e[i],e[i+1]);return r}function u(e,t){if(t<=0)return e[0];const r=e.length;let i=0;for(let n=0;n<r-1;++n){const r=o(e[n],e[n+1]);if(t-i<r){const o=(t-i)/r;return a(e[n],e[n+1],o)}i+=r}return e[r-1]}function d(e,t,r){const i=e.length;let n=0,o=0,a=0;for(let s=0;s<i;s++){const l=e[s],c=e[(s+1)%i];let u=2;n+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&r&&(o+=l[0]*c[2]-c[0]*l[2],u=3),l.length>u&&c.length>u&&t&&(a+=l[0]*c[u]-c[0]*l[u])}return n<=0&&o<=0&&a<=0}function p(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!d(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function h(e){return"polygon"!==e.type&&"polyline"!==e.type||b("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function b(e,t){const r=Object(i.e)(t);if(!r)return;const n=r.valid[0],o=r.valid[1],a=o-n;for(const i of e){let e=1/0,t=-1/0;i.forEach((r=>{let i=r[0];for(;i<n;)i+=a;for(;i>o;)i-=a;e=Math.min(e,i),t=Math.max(t,i),r[0]=i}));const r=t-e;a-r<r&&i.forEach((e=>{e[0]<0&&(e[0]+=a)}))}}},253:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var i=r(83);function n(e){const t=Object(i.e)(100*(1-e));return Math.max(0,Math.min(t,100))}function o(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},267:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const i=new(r(90).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},275:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var i,n=r(79),o=r(99),a=r(90),s=r(89),l=r(85),c=r(81),u=(r(83),r(80)),d=r(96),p=r(95),h=r(163);const b=new a.a({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let m=i=class extends o.a{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new i({categories:this.categories?Object(s.a)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,i;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=Object(h.d)(this.extent,p.a.WGS84);Object(l.l)(e)&&(i=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const o={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((e=>b.toJSON(e.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};Object(n.a)([Object(c.b)()],m.prototype,"categories",void 0),Object(n.a)([Object(c.b)()],m.prototype,"disableExtraQuery",void 0),Object(n.a)([Object(c.b)({type:d.a})],m.prototype,"extent",void 0),Object(n.a)([Object(c.b)()],m.prototype,"filter",void 0),Object(n.a)([Object(c.b)()],m.prototype,"num",void 0),Object(n.a)([Object(c.b)()],m.prototype,"query",void 0),Object(n.a)([Object(c.b)()],m.prototype,"sortField",void 0),Object(n.a)([Object(c.b)()],m.prototype,"sortOrder",null),Object(n.a)([Object(c.b)()],m.prototype,"start",void 0),m=i=Object(n.a)([Object(u.a)("esri.portal.PortalQueryParams")],m);const f=m},279:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var i=r(223),n=r(164),o=r(369);function a(e,t,r){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(t)&&Object(i.a)(n,r))return!0}else for(const o of n){if(o===t)return!0;if(o.indexOf(".")>-1&&0===o.indexOf(t)&&Object(i.a)(o,r))return!0}return!1}function s(e,t,r,i,n){let s=Object(o.b)(t[r],n);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(s)&&(e[r]=!0);for(const l of Object.getOwnPropertyNames(t))s=Object(o.b)(t[l],n),a(s,r,i)&&(e[l]=!0)}function l(e,t,r,i){const n=r.metadatas,a=Object(o.a)(n[t],"any",i),s=a&&a.default;if(void 0===s)return;const l="function"==typeof s?s.call(e,t,i):s;void 0!==l&&r.set(t,l)}const c={origin:"service"};function u(e,t,r=c){if(!t||"object"!=typeof t)return;const a=Object(n.a)(e),u=a.metadatas,d={};for(const i of Object.getOwnPropertyNames(t))s(d,u,i,t,r);a.setDefaultOrigin(r.origin);for(const n of Object.getOwnPropertyNames(d)){const s=Object(o.b)(u[n],r).read,l=s&&s.source;let c;c=l&&"string"==typeof l?Object(i.c)(t,l):t[n],s&&s.reader&&(c=s.reader.call(e,c,t,r)),void 0!==c&&a.set(n,c)}if(!r||!r.ignoreDefaults)for(const i of Object.getOwnPropertyNames(u))d[i]||l(e,i,a,r);a.setDefaultOrigin("user")}function d(e,t,r,i=c){var n;const o={...i,messages:[]};r(o),null==(n=o.messages)||n.forEach((t=>{"warning"!==t.type||e.loaded?i&&i.messages&&i.messages.push(t):e.loadWarnings.push(t)}))}},280:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return O}));var i=r(317);function n(e,t){return Object(i.e)(e,t)}function o(e,t){const r=e.hasZ&&t.hasZ;let i,n,o;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1;return!0}function a(e,t){const{points:r,hasZ:n}=t,o=n?i.b:i.a;for(const i of r)if(o(e,i))return!0;return!1}const s=[0,0],l=[0,0],c=[0,0],u=[0,0],d=[s,l,c,u],p=[[c,s],[s,l],[l,u],[u,c]];function h(e,t){s[0]=e.xmin,s[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;for(const r of d)if(Object(i.f)(t,r))return!0;for(const r of t.rings){if(!r.length)continue;let t=r[0];if(Object(i.a)(e,t))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(Object(i.a)(e,o)||y(t,o,p))return!0;t=o}}return!1}function b(e,t){s[0]=e.xmin,s[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let t=n[0];if(Object(i.a)(e,t))return!0;for(let r=1;r<n.length;r++){const o=n[r];if(Object(i.a)(e,o)||y(t,o,p))return!0;t=o}}return!1}const m=[0,0];function f(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const i=r[n],o=r[n+1];for(let r=t+1;r<e.length;r++)for(let t=0;t<e[r].length-1;t++){const n=e[r][t],a=e[r][t+1];if(O(i,o,n,a,m)&&!(m[0]===i[0]&&m[1]===i[1]||m[0]===n[0]&&m[1]===n[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===a[0]&&m[1]===a[1]))return!0}}const i=r.length;if(!(i<=4))for(let e=0;e<i-3;e++){let t=i-1;0===e&&(t=i-2);const n=r[e],o=r[e+1];for(let i=e+2;i<t;i++){const e=r[i],t=r[i+1];if(O(n,o,e,t,m)&&!(m[0]===n[0]&&m[1]===n[1]||m[0]===e[0]&&m[1]===e[1]||m[0]===o[0]&&m[1]===o[1]||m[0]===t[0]&&m[1]===t[1]))return!0}}}return!1}function y(e,t,r){for(let i=0;i<r.length;i++)if(O(e,t,r[i][0],r[i][1]))return!0;return!1}function O(e,t,r,i,n){const[o,a]=e,[s,l]=t,[c,u]=r,[d,p]=i,h=d-c,b=o-c,m=s-o,f=p-u,y=a-u,O=l-a,g=f*m-h*O;if(0===g)return!1;const j=(h*y-f*b)/g,v=(m*y-O*b)/g;return j>=0&&j<=1&&v>=0&&v<=1&&(n&&(n[0]=o+j*(s-o),n[1]=a+j*(l-a)),!0)}function g(e){switch(e){case"esriGeometryEnvelope":case"extent":return o;case"esriGeometryMultipoint":case"multipoint":return a;case"esriGeometryPoint":case"point":return n;case"esriGeometryPolygon":case"polygon":return h;case"esriGeometryPolyline":case"polyline":return b}}},281:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));var i=r(84),n=r(88),o=r(87),a=r(326),s=r(164),l=r(369);const c=o.a.getLogger("esri.core.accessorSupport.write");function u(e,t,r,i,n){var o,a;const s={};return null==(o=t.write)||null==(a=o.writer)||a.call(e,i,s,r,n),s}function d(e,t,r,o,s,l){if(!o||!o.write)return!1;const u=e.get(r);if(!s&&o.write.overridePolicy){const t=o.write.overridePolicy.call(e,u,r,l);void 0!==t&&(s=t)}if(s||(s=o.write),!s||!1===s.enabled)return!1;if((null===u&&!s.allowNull&&!s.writerEnsuresNonNull||void 0===u)&&s.isRequired){const t=new n.a("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return t&&l&&l.messages?l.messages.push(t):t&&!l&&c.error(t.name,t.message),!1}return void 0!==u&&(!(null===u&&!s.allowNull&&!s.writerEnsuresNonNull)&&(!function(e,t,r,n,o){const a=n.default;if(void 0===a)return!1;if(null!=n.defaultEquals)return n.defaultEquals(o);if("function"==typeof a){if(Array.isArray(o)){const n=a.call(e,t,r);return Object(i.c)(n,o)}return!1}return a===o}(e,r,l,o,u)&&(void 0!==o.default||!(!s.ignoreOrigin&&l&&l.origin&&t.store.originOf(r)<Object(a.d)(l.origin)))))}function p(e,t,r,i){const n=Object(s.a)(e),o=n.metadatas,a=Object(l.c)(o[t],i);return!!a&&d(e,n,t,a,r,i)}function h(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return Object(s.c)(t,e.toJSON());const i=Object(s.a)(e),n=i.metadatas;for(const p in n){const h=Object(l.c)(n[p],r);if(!d(e,i,p,h,void 0,r))continue;const b=e.get(p),m=u(e,h,h.write&&"string"==typeof h.write.target?h.write.target:p,b,r);var o,c;Object.keys(m).length>0&&(t=Object(s.c)(t,m),null!=r&&null!=(o=r.resources)&&null!=(c=o.pendingOperations)&&c.length&&Promise.all(r.resources.pendingOperations).then((()=>Object(s.c)(t,m))),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:p,oldOrigin:Object(a.c)(i.store.originOf(p)),newOrigin:r.origin}))}return t}},282:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return l}));var i=r(85),n=r(91);function o(e,t,r){return Object(n.i)(e.map(((e,i)=>t.apply(r,[e,i]))))}function a(e,t,r){return Object(n.i)(e.map(((e,i)=>t.apply(r,[e,i])))).then((e=>e.map((e=>e.value))))}function s(e){return Object(i.k)(e)?Object(n.s)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function l(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(n.t)(e),{ok:!1,error:e})))}},287:function(e,t,r){"use strict";let i;r.d(t,"a",(function(){return n}));const n={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(i=2e3;i<=2045;i++)n[i]=0;for(i=2056;i<=2065;i++)n[i]=0;for(i=2067;i<=2135;i++)n[i]=0;for(i=2137;i<=2154;i++)n[i]=0;for(i=2161;i<=2170;i++)n[i]=0;for(i=2172;i<=2193;i++)n[i]=0;for(i=2195;i<=2198;i++)n[i]=0;for(i=2200;i<=2203;i++)n[i]=0;for(i=2205;i<=2217;i++)n[i]=0;for(i=2222;i<=2224;i++)n[i]=1;for(i=2225;i<=2250;i++)n[i]=2;for(i=2251;i<=2253;i++)n[i]=1;for(i=2257;i<=2264;i++)n[i]=2;for(i=2274;i<=2279;i++)n[i]=2;for(i=2280;i<=2282;i++)n[i]=1;for(i=2283;i<=2289;i++)n[i]=2;for(i=2290;i<=2292;i++)n[i]=0;for(i=2308;i<=2313;i++)n[i]=0;for(i=2315;i<=2491;i++)n[i]=0;for(i=2494;i<=2866;i++)n[i]=0;for(i=2867;i<=2869;i++)n[i]=1;for(i=2870;i<=2888;i++)n[i]=2;for(i=2891;i<=2895;i++)n[i]=2;for(i=2896;i<=2898;i++)n[i]=1;for(i=2902;i<=2908;i++)n[i]=2;for(i=2915;i<=2920;i++)n[i]=2;for(i=2921;i<=2923;i++)n[i]=1;for(i=2924;i<=2930;i++)n[i]=2;for(i=2931;i<=2962;i++)n[i]=0;for(i=2964;i<=2968;i++)n[i]=2;for(i=2969;i<=2973;i++)n[i]=0;for(i=2975;i<=2991;i++)n[i]=0;for(i=2995;i<=3051;i++)n[i]=0;for(i=3054;i<=3079;i++)n[i]=0;for(i=3081;i<=3088;i++)n[i]=0;for(i=3092;i<=3101;i++)n[i]=0;for(i=3106;i<=3138;i++)n[i]=0;for(i=3146;i<=3151;i++)n[i]=0;for(i=3153;i<=3166;i++)n[i]=0;for(i=3168;i<=3172;i++)n[i]=0;for(i=3174;i<=3203;i++)n[i]=0;for(i=3294;i<=3358;i++)n[i]=0;for(i=3367;i<=3403;i++)n[i]=0;for(i=3408;i<=3416;i++)n[i]=0;for(i=3417;i<=3438;i++)n[i]=2;for(i=3441;i<=3446;i++)n[i]=2;for(i=3447;i<=3450;i++)n[i]=0;for(i=3451;i<=3459;i++)n[i]=2;for(i=3460;i<=3478;i++)n[i]=0;for(i=3554;i<=3559;i++)n[i]=0;for(i=3560;i<=3570;i++)n[i]=2;for(i=3571;i<=3581;i++)n[i]=0;for(i=3594;i<=3597;i++)n[i]=0;for(i=3601;i<=3604;i++)n[i]=0;for(i=3637;i<=3639;i++)n[i]=0;for(i=3665;i<=3667;i++)n[i]=0;for(i=3693;i<=3695;i++)n[i]=0;for(i=3701;i<=3727;i++)n[i]=0;for(i=3728;i<=3739;i++)n[i]=2;for(i=3740;i<=3751;i++)n[i]=0;for(i=3753;i<=3760;i++)n[i]=2;for(i=3761;i<=3773;i++)n[i]=0;for(i=3775;i<=3777;i++)n[i]=0;for(i=3779;i<=3781;i++)n[i]=0;for(i=3783;i<=3785;i++)n[i]=0;for(i=3788;i<=3791;i++)n[i]=0;for(i=3797;i<=3802;i++)n[i]=0;for(i=3814;i<=3816;i++)n[i]=0;for(i=3825;i<=3829;i++)n[i]=0;for(i=3832;i<=3841;i++)n[i]=0;for(i=3844;i<=3852;i++)n[i]=0;for(i=3873;i<=3885;i++)n[i]=0;for(i=3890;i<=3893;i++)n[i]=0;for(i=3907;i<=3912;i++)n[i]=0;for(i=3942;i<=3950;i++)n[i]=0;for(i=3968;i<=3970;i++)n[i]=0;for(i=3973;i<=3976;i++)n[i]=0;for(i=3986;i<=3989;i++)n[i]=0;for(i=3994;i<=3997;i++)n[i]=0;for(i=4048;i<=4051;i++)n[i]=0;for(i=4056;i<=4063;i++)n[i]=0;for(i=4093;i<=4096;i++)n[i]=0;for(i=4390;i<=4398;i++)n[i]=0;for(i=4399;i<=4413;i++)n[i]=2;for(i=4418;i<=4433;i++)n[i]=2;for(i=4455;i<=4457;i++)n[i]=2;for(i=4484;i<=4489;i++)n[i]=0;for(i=4491;i<=4554;i++)n[i]=0;for(i=4568;i<=4589;i++)n[i]=0;for(i=4652;i<=4656;i++)n[i]=0;for(i=4766;i<=4800;i++)n[i]=0;for(i=5014;i<=5016;i++)n[i]=0;for(i=5069;i<=5072;i++)n[i]=0;for(i=5105;i<=5130;i++)n[i]=0;for(i=5173;i<=5188;i++)n[i]=0;for(i=5253;i<=5259;i++)n[i]=0;for(i=5269;i<=5275;i++)n[i]=0;for(i=5292;i<=5311;i++)n[i]=0;for(i=5329;i<=5331;i++)n[i]=0;for(i=5343;i<=5349;i++)n[i]=0;for(i=5355;i<=5357;i++)n[i]=0;for(i=5387;i<=5389;i++)n[i]=0;for(i=5459;i<=5463;i++)n[i]=0;for(i=5479;i<=5482;i++)n[i]=0;for(i=5518;i<=5520;i++)n[i]=0;for(i=5530;i<=5539;i++)n[i]=0;for(i=5550;i<=5552;i++)n[i]=0;for(i=5562;i<=5583;i++)n[i]=0;for(i=5623;i<=5625;i++)n[i]=2;for(i=5631;i<=5639;i++)n[i]=0;for(i=5649;i<=5653;i++)n[i]=0;for(i=5663;i<=5680;i++)n[i]=0;for(i=5682;i<=5685;i++)n[i]=0;for(i=5875;i<=5877;i++)n[i]=0;for(i=5896;i<=5899;i++)n[i]=0;for(i=5921;i<=5940;i++)n[i]=0;for(i=6050;i<=6125;i++)n[i]=0;for(i=6244;i<=6275;i++)n[i]=0;for(i=6328;i<=6348;i++)n[i]=0;for(i=6350;i<=6356;i++)n[i]=0;for(i=6366;i<=6372;i++)n[i]=0;for(i=6381;i<=6387;i++)n[i]=0;for(i=6393;i<=6404;i++)n[i]=0;for(i=6480;i<=6483;i++)n[i]=0;for(i=6511;i<=6514;i++)n[i]=0;for(i=6579;i<=6581;i++)n[i]=0;for(i=6619;i<=6624;i++)n[i]=0;for(i=6625;i<=6627;i++)n[i]=2;for(i=6628;i<=6632;i++)n[i]=0;for(i=6634;i<=6637;i++)n[i]=0;for(i=6669;i<=6692;i++)n[i]=0;for(i=6707;i<=6709;i++)n[i]=0;for(i=6720;i<=6723;i++)n[i]=0;for(i=6732;i<=6738;i++)n[i]=0;for(i=6931;i<=6933;i++)n[i]=0;for(i=6956;i<=6959;i++)n[i]=0;for(i=7005;i<=7007;i++)n[i]=0;for(i=7057;i<=7070;i++)n[i]=2;for(i=7074;i<=7082;i++)n[i]=0;for(i=7109;i<=7118;i++)n[i]=0;for(i=7119;i<=7127;i++)n[i]=1;for(i=7374;i<=7376;i++)n[i]=0;for(i=7528;i<=7586;i++)n[i]=0;for(i=7587;i<=7645;i++)n[i]=2;for(i=7692;i<=7696;i++)n[i]=0;for(i=7755;i<=7787;i++)n[i]=0;for(i=7791;i<=7795;i++)n[i]=0;for(i=7799;i<=7801;i++)n[i]=0;for(i=7803;i<=7805;i++)n[i]=0;for(i=7825;i<=7831;i++)n[i]=0;for(i=7845;i<=7859;i++)n[i]=0;for(i=8013;i<=8032;i++)n[i]=0;for(i=8065;i<=8068;i++)n[i]=1;for(i=8518;i<=8529;i++)n[i]=2;for(i=8533;i<=8536;i++)n[i]=2;for(i=8538;i<=8540;i++)n[i]=2;for(i=8677;i<=8679;i++)n[i]=0;for(i=8836;i<=8840;i++)n[i]=0;for(i=8857;i<=8859;i++)n[i]=0;for(i=8908;i<=8910;i++)n[i]=0;for(i=9154;i<=9159;i++)n[i]=0;for(i=9205;i<=9218;i++)n[i]=0;for(i=9271;i<=9273;i++)n[i]=0;for(i=9295;i<=9297;i++)n[i]=0;for(i=9356;i<=9360;i++)n[i]=0;for(i=9404;i<=9407;i++)n[i]=0;for(i=9476;i<=9482;i++)n[i]=0;for(i=9487;i<=9494;i++)n[i]=0;for(i=9697;i<=9699;i++)n[i]=0;for(i=20002;i<=20032;i++)n[i]=0;for(i=20062;i<=20092;i++)n[i]=0;for(i=20135;i<=20138;i++)n[i]=0;for(i=20248;i<=20258;i++)n[i]=0;for(i=20348;i<=20358;i++)n[i]=0;for(i=20436;i<=20440;i++)n[i]=0;for(i=20822;i<=20824;i++)n[i]=0;for(i=20904;i<=20932;i++)n[i]=0;for(i=20934;i<=20936;i++)n[i]=0;for(i=21004;i<=21032;i++)n[i]=0;for(i=21035;i<=21037;i++)n[i]=0;for(i=21095;i<=21097;i++)n[i]=0;for(i=21148;i<=21150;i++)n[i]=0;for(i=21207;i<=21264;i++)n[i]=0;for(i=21307;i<=21364;i++)n[i]=0;for(i=21413;i<=21423;i++)n[i]=0;for(i=21453;i<=21463;i++)n[i]=0;for(i=21473;i<=21483;i++)n[i]=0;for(i=21780;i<=21782;i++)n[i]=0;for(i=21891;i<=21894;i++)n[i]=0;for(i=21896;i<=21899;i++)n[i]=0;for(i=22171;i<=22177;i++)n[i]=0;for(i=22181;i<=22187;i++)n[i]=0;for(i=22191;i<=22197;i++)n[i]=0;for(i=22234;i<=22236;i++)n[i]=0;for(i=22521;i<=22525;i++)n[i]=0;for(i=22991;i<=22994;i++)n[i]=0;for(i=23028;i<=23038;i++)n[i]=0;for(i=23830;i<=23853;i++)n[i]=0;for(i=23866;i<=23872;i++)n[i]=0;for(i=23877;i<=23884;i++)n[i]=0;for(i=23886;i<=23894;i++)n[i]=0;for(i=23946;i<=23948;i++)n[i]=0;for(i=24311;i<=24313;i++)n[i]=0;for(i=24342;i<=24347;i++)n[i]=0;for(i=24370;i<=24374;i++)n[i]=10;for(i=24375;i<=24381;i++)n[i]=0;for(i=24718;i<=24721;i++)n[i]=0;for(i=24817;i<=24821;i++)n[i]=0;for(i=24877;i<=24882;i++)n[i]=0;for(i=24891;i<=24893;i++)n[i]=0;for(i=25391;i<=25395;i++)n[i]=0;for(i=25828;i<=25838;i++)n[i]=0;for(i=26191;i<=26195;i++)n[i]=0;for(i=26391;i<=26393;i++)n[i]=0;for(i=26701;i<=26722;i++)n[i]=0;for(i=26729;i<=26799;i++)n[i]=2;for(i=26801;i<=26803;i++)n[i]=2;for(i=26811;i<=26813;i++)n[i]=2;for(i=26847;i<=26870;i++)n[i]=2;for(i=26891;i<=26899;i++)n[i]=0;for(i=26901;i<=26923;i++)n[i]=0;for(i=26929;i<=26946;i++)n[i]=0;for(i=26948;i<=26998;i++)n[i]=0;for(i=27037;i<=27040;i++)n[i]=0;for(i=27205;i<=27232;i++)n[i]=0;for(i=27258;i<=27260;i++)n[i]=0;for(i=27391;i<=27398;i++)n[i]=0;for(i=27561;i<=27564;i++)n[i]=0;for(i=27571;i<=27574;i++)n[i]=0;for(i=27581;i<=27584;i++)n[i]=0;for(i=27591;i<=27594;i++)n[i]=0;for(i=28191;i<=28193;i++)n[i]=0;for(i=28348;i<=28358;i++)n[i]=0;for(i=28402;i<=28432;i++)n[i]=0;for(i=28462;i<=28492;i++)n[i]=0;for(i=29118;i<=29122;i++)n[i]=0;for(i=29168;i<=29172;i++)n[i]=0;for(i=29177;i<=29185;i++)n[i]=0;for(i=29187;i<=29195;i++)n[i]=0;for(i=29900;i<=29903;i++)n[i]=0;for(i=30161;i<=30179;i++)n[i]=0;for(i=30491;i<=30494;i++)n[i]=0;for(i=30729;i<=30732;i++)n[i]=0;for(i=31251;i<=31259;i++)n[i]=0;for(i=31265;i<=31268;i++)n[i]=0;for(i=31275;i<=31279;i++)n[i]=0;for(i=31281;i<=31297;i++)n[i]=0;for(i=31461;i<=31469;i++)n[i]=0;for(i=31491;i<=31495;i++)n[i]=0;for(i=31917;i<=31922;i++)n[i]=0;for(i=31965;i<=32e3;i++)n[i]=0;for(i=32001;i<=32003;i++)n[i]=2;for(i=32005;i<=32031;i++)n[i]=2;for(i=32033;i<=32060;i++)n[i]=2;for(i=32064;i<=32067;i++)n[i]=2;for(i=32074;i<=32077;i++)n[i]=2;for(i=32081;i<=32086;i++)n[i]=0;for(i=32107;i<=32130;i++)n[i]=0;for(i=32133;i<=32158;i++)n[i]=0;for(i=32164;i<=32167;i++)n[i]=2;for(i=32180;i<=32199;i++)n[i]=0;for(i=32201;i<=32260;i++)n[i]=0;for(i=32301;i<=32360;i++)n[i]=0;for(i=32601;i<=32662;i++)n[i]=0;for(i=32664;i<=32667;i++)n[i]=2;for(i=32701;i<=32761;i++)n[i]=0;for(i=53001;i<=53004;i++)n[i]=0;for(i=53008;i<=53019;i++)n[i]=0;for(i=53021;i<=53032;i++)n[i]=0;for(i=53034;i<=53037;i++)n[i]=0;for(i=53042;i<=53046;i++)n[i]=0;for(i=53074;i<=53080;i++)n[i]=0;for(i=54001;i<=54004;i++)n[i]=0;for(i=54008;i<=54019;i++)n[i]=0;for(i=54021;i<=54032;i++)n[i]=0;for(i=54034;i<=54037;i++)n[i]=0;for(i=54042;i<=54046;i++)n[i]=0;for(i=54048;i<=54053;i++)n[i]=0;for(i=54074;i<=54080;i++)n[i]=0;for(i=54098;i<=54101;i++)n[i]=0;for(i=102001;i<=102040;i++)n[i]=0;for(i=102042;i<=102063;i++)n[i]=0;for(i=102065;i<=102067;i++)n[i]=0;for(i=102070;i<=102117;i++)n[i]=0;for(i=102122;i<=102216;i++)n[i]=0;for(i=102221;i<=102377;i++)n[i]=0;for(i=102382;i<=102388;i++)n[i]=0;for(i=102389;i<=102398;i++)n[i]=2;for(i=102399;i<=102444;i++)n[i]=0;for(i=102445;i<=102447;i++)n[i]=2;for(i=102448;i<=102458;i++)n[i]=0;for(i=102459;i<=102468;i++)n[i]=2;for(i=102469;i<=102499;i++)n[i]=0;for(i=102500;i<=102519;i++)n[i]=1;for(i=102520;i<=102524;i++)n[i]=0;for(i=102525;i<=102529;i++)n[i]=2;for(i=102530;i<=102588;i++)n[i]=0;for(i=102590;i<=102598;i++)n[i]=0;for(i=102601;i<=102603;i++)n[i]=0;for(i=102605;i<=102628;i++)n[i]=0;for(i=102629;i<=102646;i++)n[i]=2;for(i=102648;i<=102700;i++)n[i]=2;for(i=102701;i<=102703;i++)n[i]=0;for(i=102707;i<=102730;i++)n[i]=2;for(i=102733;i<=102758;i++)n[i]=2;for(i=102767;i<=102900;i++)n[i]=0;for(i=102901;i<=102933;i++)n[i]=2;for(i=102934;i<=102950;i++)n[i]=13;for(i=102951;i<=102960;i++)n[i]=0;for(i=102965;i<=102969;i++)n[i]=0;for(i=102971;i<=102973;i++)n[i]=0;for(i=102975;i<=102989;i++)n[i]=0;for(i=102990;i<=102992;i++)n[i]=1;for(i=102997;i<=103002;i++)n[i]=0;for(i=103003;i<=103008;i++)n[i]=2;for(i=103009;i<=103011;i++)n[i]=0;for(i=103012;i<=103014;i++)n[i]=2;for(i=103019;i<=103021;i++)n[i]=0;for(i=103022;i<=103024;i++)n[i]=2;for(i=103029;i<=103031;i++)n[i]=0;for(i=103032;i<=103034;i++)n[i]=2;for(i=103065;i<=103068;i++)n[i]=0;for(i=103074;i<=103076;i++)n[i]=0;for(i=103077;i<=103079;i++)n[i]=1;for(i=103080;i<=103082;i++)n[i]=0;for(i=103083;i<=103085;i++)n[i]=2;for(i=103090;i<=103093;i++)n[i]=0;for(i=103097;i<=103099;i++)n[i]=0;for(i=103100;i<=103102;i++)n[i]=2;for(i=103107;i<=103109;i++)n[i]=0;for(i=103110;i<=103112;i++)n[i]=2;for(i=103113;i<=103116;i++)n[i]=0;for(i=103117;i<=103120;i++)n[i]=2;for(i=103153;i<=103157;i++)n[i]=0;for(i=103158;i<=103162;i++)n[i]=2;for(i=103163;i<=103165;i++)n[i]=0;for(i=103166;i<=103168;i++)n[i]=1;for(i=103169;i<=103171;i++)n[i]=2;for(i=103186;i<=103188;i++)n[i]=0;for(i=103189;i<=103191;i++)n[i]=2;for(i=103192;i<=103195;i++)n[i]=0;for(i=103196;i<=103199;i++)n[i]=2;for(i=103200;i<=103224;i++)n[i]=0;for(i=103225;i<=103227;i++)n[i]=1;for(i=103232;i<=103237;i++)n[i]=0;for(i=103238;i<=103243;i++)n[i]=2;for(i=103244;i<=103246;i++)n[i]=0;for(i=103247;i<=103249;i++)n[i]=2;for(i=103254;i<=103256;i++)n[i]=0;for(i=103257;i<=103259;i++)n[i]=2;for(i=103264;i<=103266;i++)n[i]=0;for(i=103267;i<=103269;i++)n[i]=2;for(i=103300;i<=103375;i++)n[i]=0;for(i=103381;i<=103383;i++)n[i]=0;for(i=103384;i<=103386;i++)n[i]=1;for(i=103387;i<=103389;i++)n[i]=0;for(i=103390;i<=103392;i++)n[i]=2;for(i=103397;i<=103399;i++)n[i]=0;for(i=103400;i<=103471;i++)n[i]=2;for(i=103476;i<=103478;i++)n[i]=0;for(i=103479;i<=103481;i++)n[i]=2;for(i=103486;i<=103488;i++)n[i]=0;for(i=103489;i<=103491;i++)n[i]=2;for(i=103492;i<=103495;i++)n[i]=0;for(i=103496;i<=103499;i++)n[i]=2;for(i=103528;i<=103543;i++)n[i]=0;for(i=103544;i<=103548;i++)n[i]=2;for(i=103549;i<=103551;i++)n[i]=0;for(i=103552;i<=103554;i++)n[i]=1;for(i=103555;i<=103557;i++)n[i]=2;for(i=103558;i<=103560;i++)n[i]=0;for(i=103571;i<=103573;i++)n[i]=0;for(i=103574;i<=103576;i++)n[i]=2;for(i=103577;i<=103580;i++)n[i]=0;for(i=103581;i<=103583;i++)n[i]=2;for(i=103595;i<=103694;i++)n[i]=0;for(i=103696;i<=103699;i++)n[i]=0;for(i=103700;i<=103793;i++)n[i]=2;for(i=103794;i<=103872;i++)n[i]=0;for(i=103900;i<=103971;i++)n[i]=2},301:function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return g}));var i=r(79),n=r(99),o=r(85),a=r(89),s=r(326);class l{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s.a),this._values=new Map}clone(e){const t=new l,r=this._originStores[0];r&&r.forEach(((e,r)=>{t.set(r,Object(a.a)(e),0)}));for(let i=2;i<s.a;i++){const r=this._originStores[i];r&&r.forEach(((r,n)=>{e&&e.has(n)||t.set(n,Object(a.a)(r),i)}))}return t}get(e,t){const r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||Object(o.d)(this._propertyOriginMap.get(e))<=r){const i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}delete(e,t=6){const r=this._originStores[t];if(!r)return;const i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let r=t-1;r>=0;r--){const t=this._originStores[r];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,r);break}}}return i}has(e,t){const r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i}originOf(e){return this._propertyOriginMap.get(e)||0}forEach(e){this._values.forEach(e)}}var c=r(279),u=r(164),d=r(80);const p=e=>{let t=class extends e{constructor(...e){super(...e);const t=Object(o.d)(Object(u.a)(this)),r=t.metadatas,i=t.store,n=new l;t.store=n,i.keys().forEach((e=>{n.set(e,i.get(e),0)})),Object.keys(r).forEach((e=>{t.internalGet(e)&&n.set(e,t.internalGet(e),0)}))}read(e,t){Object(c.a)(this,e,t)}getAtOrigin(e,t){const r=h(this),i=Object(s.d)(t);if("string"==typeof e)return r.get(e,i);const n={};return e.forEach((e=>{n[e]=r.get(e,i)})),n}originOf(e){return Object(s.b)(this.originIdOf(e))}originIdOf(e){return h(this).originOf(e)}revert(e,t){const r=h(this),i=Object(s.d)(t),n=Object(u.a)(this);let o;o="string"==typeof e?"*"===e?r.keys(i):[e]:e,o.forEach((e=>{n.invalidate(e),r.revert(e,i),n.commit(e)}))}};return t=Object(i.a)([Object(d.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function h(e){return Object(u.a)(e).store}let b=class extends(p(n.a)){};b=Object(i.a)([Object(d.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],b);var m=r(281);const f=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return y(this).delete(e,Object(s.d)(t))}write(e={},t){return Object(m.b)(this,e=e||{},t),e}setAtOrigin(e,t,r){Object(u.a)(this).setAtOrigin(e,t,Object(s.d)(r))}removeOrigin(e){const t=y(this),r=Object(s.d)(e),i=t.keys(r);for(const n of i)t.originOf(n)===r&&t.set(n,t.get(n,r),6)}updateOrigin(e,t){const r=y(this),i=Object(s.d)(t),n=this.get(e);for(let o=i+1;o<s.a;++o)r.delete(e,o);r.set(e,n,i)}toJSON(e){return this.write({},e)}};return t=Object(i.a)([Object(d.a)("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function y(e){return Object(u.a)(e).store}const O=e=>{let t=class extends(f(p(e))){constructor(...e){super(...e)}};return t=Object(i.a)([Object(d.a)("esri.core.MultiOriginJSONSupport")],t),t};let g=class extends(O(n.a)){};g=Object(i.a)([Object(d.a)("esri.core.MultiOriginJSONSupport")],g)},316:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(107);function n(e,t,r=i.a){return t||(t=new r),t===e||(t.removeAll(),(n=e)&&(Array.isArray(n)||"items"in n&&Array.isArray(n.items))?t.addMany(e):e&&t.add(e)),t;var n}function o(e){return e}},317:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return d}));var i=r(85);const n=[0,0];function o(e,t){return!!Object(i.l)(t)&&u(e,t.x,t.y,t.z)}function a(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!l(e,r))return!1;return!0}function s(e,t){const{xmin:r,ymin:i,zmin:n,xmax:o,ymax:a,zmax:s}=t;return e.hasZ&&t.hasZ?u(e,r,i,n)&&u(e,r,a,n)&&u(e,o,a,n)&&u(e,o,i,n)&&u(e,r,i,s)&&u(e,r,a,s)&&u(e,o,a,s)&&u(e,o,i,s):u(e,r,i)&&u(e,r,a)&&u(e,o,a)&&u(e,o,i)}function l(e,t){return u(e,t[0],t[1])}function c(e,t){return u(e,t[0],t[1],t[2])}function u(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==i||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function d(e,t){return n[1]=t.y,n[0]=t.x,p(e,n)}function p(e,t){return function(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return h(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=h(r,e[i],t);return r}(e.rings,t)}function h(e,t,r){const[i,n]=r;let o=e,a=0;for(let s=0,l=t.length;s<l;s++){a++,a===l&&(a=0);const[e,r]=t[s],[c,u]=t[a];(r<n&&u>=n||u<n&&r>=n)&&e+(n-r)/(u-r)*(c-e)<i&&(o=!o)}return o}},336:function(e,t,r){"use strict";function i(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?4!==t.length||i||n?3===t.length&&r&&!i?(n=!0,i=!1):3===t.length&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}r.d(t,"a",(function(){return i}))},337:function(e,t,r){"use strict";function i(e){var t;const r=e.layer;return"floorInfo"in r&&null!=(t=r.floorInfo)&&t.floorField&&"floors"in e.view?a(e.view.floors,r.floorInfo.floorField):null}function n(e,t){var r;return"floorInfo"in t&&null!=(r=t.floorInfo)&&r.floorField?a(e,t.floorInfo.floorField):null}function o(e,t){const{definitionExpression:r}=t;return e?r?`(${r}) AND (${e})`:e:r}function a(e,t){if(null==e||!e.length)return null;const r=e.filter((e=>""!==e)).map((e=>`'${e}'`));return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n}))},376:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));var i=r(114);function n(e,t){const r=t||e.extent,n=e.width,o=Object(i.e)(r&&r.spatialReference);return r&&n?r.width/n*o*i.i*96:0}function o(e,t){return e/(Object(i.e)(t)*i.i*96)}function a(e,t){const r=e.extent,i=e.width,n=o(t,r.spatialReference);return r.clone().expand(n*i/r.width)}},383:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(113),n=r(108),o=(r(82),r(87),r(128));const a="esri-widget__heading";function s(e,t){const r=`h${Object(i.e)(Math.ceil(e.level),1,6)}`;return delete e.level,Object(o.a)(r,{...e,class:Object(n.a)(a,e.class)},t)}},386:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p}));var i=r(195);const n=[];function o(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function a(e,t,r,i,n,o){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:o}}function s(e,t,r,i,n,o){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:o}}function l(e,t,r,i,n,o,a,s){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:o,zmax:a,mmax:s}}function c(e,t=!1,r=!1){return t?r?l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):a(e[0],e[1],e[2],e[3],e[4],e[5]):r?s(e[0],e[1],e[2],e[3],e[4],e[5]):o(e[0],e[1],e[2],e[3])}function u(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:r,z:i,m:n}=e,c=null!=n;return null!=i?c?l(t,r,i,n,t,r,i,n):a(t,r,i,t,r,i):c?s(t,r,n,t,r,n):o(t,r,t,r)}(e):function(e){return void 0!==e.rings}(e)?d(e):function(e){return void 0!==e.paths}(e)?p(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:r,points:o}=e;return c(Object(i.c)(n,o,t,r),t,r)}(e):null:null}function d(e){const{hasZ:t,hasM:r,rings:o}=e,a=Object(i.d)(n,o,t,r);return a?c(a,t,r):null}function p(e){const{hasZ:t,hasM:r,paths:o}=e,a=Object(i.d)(n,o,t,r);return a?c(a,t,r):null}},402:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var i=r(245);function n(e){return e?o(e.rings,e.hasZ):null}function o(e,t){if(!e||!e.length)return null;const r=[],n=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let i=0,s=e.length;i<s;i++){const r=a(e[i],t,o);r&&n.push(r)}if(n.sort(((e,r)=>{let i=e[2]-r[2];return 0===i&&t&&(i=e[4]-r[4]),i})),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<o[0]||r[0]>o[1]||r[1]<o[2]||r[1]>o[3]||t&&(r[2]<o[4]||r[2]>o[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?function(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let o=0,a=0,s=0,l=0;for(let c=0,u=e.length;c<u-1;c++){const u=e[c],d=e[c+1];if(u&&d){r[0]=u[0],r[1]=u[1],n[0]=d[0],n[1]=d[1],t&&u.length>2&&d.length>2&&(r[2]=u[2],n[2]=d[2]);const e=Object(i.c)(r,n);if(e){o+=e;const r=Object(i.d)(u,d);a+=e*r[0],s+=e*r[1],t&&r.length>2&&(l+=e*r[2])}}}return o>0?t?[a/o,s/o,l/o]:[a/o,s/o]:e.length?e[0]:null}(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function a(e,t,r){let i=0,n=0,o=0,a=0,s=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const d=e[p],h=e[(p+1)%e.length],[b,m,f]=d,y=b-l,O=m-c,g=t?f-u:void 0,[j,v,w]=h,_=j-l,k=v-c,S=t?w-u:void 0,x=y*k-_*O;if(a+=x,i+=(y+_)*x,n+=(O+k)*x,t&&d.length>2&&h.length>2){const e=y*S-_*g;o+=(g+S)*e,s+=e}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),m<r[2]&&(r[2]=m),m>r[3]&&(r[3]=m),t&&(f<r[4]&&(r[4]=f),f>r[5]&&(r[5]=f))}if(a>0&&(a*=-1),s>0&&(s*=-1),!a)return null;a*=.5,s*=.5;const d=[i/(6*a)+l,n/(6*a)+c,a];return t&&(r[4]===r[5]||0===s?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=o/(6*s)+u,d[4]=s)),d}},462:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return n}));const i={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function n(e){return i[e]||i[e.toLowerCase()]}function o(e){var t;return null!=(t=i[e])?t:i[e.toLowerCase()]}function a(e){return[...o(e)]}function s(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function l(e,t,r,i=1){const n=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,a=2*r-o;return[Math.round(255*s(a,o,n+1/3)),Math.round(255*s(a,o,n)),Math.round(255*s(a,o,n-1/3)),i]}function c(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,o=t?9===e.length:5===e.length;let a=Number("0x"+e.substr(1));if(isNaN(a))return null;const s=[0,0,0,1];let l;return o&&(l=a&i,a>>=r,s[3]=n*l/255),l=a&i,a>>=r,s[2]=n*l,l=a&i,a>>=r,s[1]=n*l,l=a&i,a>>=r,s[0]=n*l,s}},476:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return M}));var i=r(79),n=r(158),o=r(88),a=r(86),s=r(89),l=r(174),c=r(85),u=r(100),d=r(81),p=r(83),h=r(93),b=r(80),m=r(96),f=r(170),y=r(99),O=r(87),g=(r(84),r(82),r(104));const j=O.a.getLogger("esri.portal.PortalItemResource");let v=class extends y.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){Object(c.l)(e)&&Object(u.s)(e)?j.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(Object(c.k)(r))throw new o.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(c.j)(t,"signal")})}async update(e,t){return(await r.e(22).then(r.bind(null,884))).addOrUpdateResource(this,"update",e,t)}hasPath(){return Object(c.l)(this.path)}normalizePath(e,t){return Object(c.k)(e)?e:(e=e.replace(/^\/+/,""),Object(c.l)(t)&&Object(u.s)(e)&&(e=Object(u.C)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(i.a)([Object(d.b)()],v.prototype,"portalItem",void 0),Object(i.a)([Object(d.b)({type:String,value:null})],v.prototype,"path",null),Object(i.a)([Object(g.a)("path")],v.prototype,"_castPath",null),Object(i.a)([Object(d.b)({type:String,readOnly:!0})],v.prototype,"url",null),Object(i.a)([Object(d.b)({type:String,readOnly:!0})],v.prototype,"itemRelativeUrl",null),v=Object(i.a)([Object(b.a)("esri.portal.PortalItemResource")],v);const w=v;let _=class extends y.a{constructor(e){super(e),this.created=null,this.rating=null}};Object(i.a)([Object(d.b)()],_.prototype,"created",void 0),Object(i.a)([Object(d.b)()],_.prototype,"rating",void 0),_=Object(i.a)([Object(b.a)("esri.portal.PortalRating")],_);const k=_;var S;let x=S=class extends(Object(a.b)(l.a)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Object(p.d)(S,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.indexOf("configurableApp")>-1&&(r="Instant App"),r}readExtent(e){return e&&e.length?new m.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let r,i=!1,o=!1,a=!1,s=!1,l=!1,c=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(i=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.indexOf("Table")>-1,a=t.indexOf("Route Layer")>-1,s=t.indexOf("Markup")>-1,l=-1!==t.indexOf("Spatiotemporal"),c=-1!==t.indexOf("UtilityNetwork"),r=l&&o?"spatiotemporaltable":o?"table":a?"routelayer":s?"markup":l?"spatiotemporal":i?"featureshosted":c?"utilitynetwork":"features"):r="map service"===e||"wms"===e||"wmts"===e?i||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"maps",r?Object(n.a)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=f.a.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(c.l)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof k&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new k({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(s.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(s.a)(this.categories),created:Object(s.a)(this.created),culture:this.culture,description:this.description,extent:Object(s.a)(this.extent),groupCategories:Object(s.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(s.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(s.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(s.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(s.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new S({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new k(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},S)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if("string"==typeof t)Object(u.u)(t)?i.query={data:t}:i.query={url:Object(u.A)(t)},Object(c.l)(r)&&(i.query.filename=r);else{const e=new FormData;Object(c.l)(r)?e.append("file",t,r):e.append("file",t),i.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,i).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await r.e(22).then(r.bind(null,884))).fetchResources(this,e,t)}async addResource(e,t,i){const n=await r.e(22).then(r.bind(null,884));return e.portalItem=this,n.addOrUpdateResource(e,"add",t,i)}async removeResource(e,t){const i=await r.e(22).then(r.bind(null,884));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new o.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i.removeResource(this,e,t)}async removeAllResources(e){return(await r.e(22).then(r.bind(null,884))).removeAllResources(this,e)}resourceFromPath(e){return new w({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(s.c)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};Object(i.a)([Object(d.b)({type:["private","shared","org","public"]})],x.prototype,"access",void 0),Object(i.a)([Object(d.b)()],x.prototype,"accessInformation",void 0),Object(i.a)([Object(d.b)({type:String})],x.prototype,"apiKey",void 0),Object(i.a)([Object(d.b)({json:{read:{source:"appProxies"}}})],x.prototype,"applicationProxies",void 0),Object(i.a)([Object(d.b)()],x.prototype,"avgRating",void 0),Object(i.a)([Object(d.b)()],x.prototype,"categories",void 0),Object(i.a)([Object(d.b)({type:Date})],x.prototype,"created",void 0),Object(i.a)([Object(d.b)()],x.prototype,"culture",void 0),Object(i.a)([Object(d.b)()],x.prototype,"description",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"displayName",null),Object(i.a)([Object(d.b)({type:m.a})],x.prototype,"extent",void 0),Object(i.a)([Object(h.a)("extent")],x.prototype,"readExtent",null),Object(i.a)([Object(d.b)()],x.prototype,"groupCategories",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"iconUrl",null),Object(i.a)([Object(d.b)()],x.prototype,"id",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"isLayer",null),Object(i.a)([Object(d.b)()],x.prototype,"itemControl",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"itemUrl",null),Object(i.a)([Object(d.b)()],x.prototype,"licenseInfo",void 0),Object(i.a)([Object(d.b)({type:Date})],x.prototype,"modified",void 0),Object(i.a)([Object(d.b)()],x.prototype,"name",void 0),Object(i.a)([Object(d.b)()],x.prototype,"numComments",void 0),Object(i.a)([Object(d.b)()],x.prototype,"numRatings",void 0),Object(i.a)([Object(d.b)()],x.prototype,"numViews",void 0),Object(i.a)([Object(d.b)()],x.prototype,"owner",void 0),Object(i.a)([Object(d.b)()],x.prototype,"ownerFolder",void 0),Object(i.a)([Object(d.b)({type:f.a})],x.prototype,"portal",void 0),Object(i.a)([Object(d.b)()],x.prototype,"screenshots",void 0),Object(i.a)([Object(d.b)()],x.prototype,"size",void 0),Object(i.a)([Object(d.b)()],x.prototype,"snippet",void 0),Object(i.a)([Object(d.b)()],x.prototype,"sourceJSON",void 0),Object(i.a)([Object(d.b)()],x.prototype,"tags",void 0),Object(i.a)([Object(d.b)()],x.prototype,"thumbnail",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"thumbnailUrl",null),Object(i.a)([Object(d.b)()],x.prototype,"title",void 0),Object(i.a)([Object(d.b)()],x.prototype,"type",void 0),Object(i.a)([Object(d.b)()],x.prototype,"typeKeywords",void 0),Object(i.a)([Object(d.b)()],x.prototype,"url",void 0),Object(i.a)([Object(d.b)({readOnly:!0})],x.prototype,"userItemUrl",null),x=S=Object(i.a)([Object(b.a)("esri.portal.PortalItem")],x);const M=x},495:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var i=r(79),n=r(88),o=r(86),a=r(81),s=(r(84),r(82),r(83),r(80));let l=class extends o.a{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new n.a("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};Object(i.a)([Object(a.b)({type:Date})],l.prototype,"created",void 0),Object(i.a)([Object(a.b)()],l.prototype,"id",void 0),Object(i.a)([Object(a.b)()],l.prototype,"portal",void 0),Object(i.a)([Object(a.b)()],l.prototype,"title",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],l.prototype,"url",null),Object(i.a)([Object(a.b)()],l.prototype,"username",void 0),l=Object(i.a)([Object(s.a)("esri.portal.PortalFolder")],l);const c=l;var u,d=r(501);let p=u=class extends o.a{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,i=e&&e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),null!=r&&("string"==typeof r?n.query.text=r:"object"==typeof r&&(n.query.text=JSON.stringify(r))));let o=this.userContentUrl;return i&&(o+="/"+("string"==typeof i?i:i.id)),this.portal._request(o+"/addItem",n).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const i={method:"post",query:{items:r.join(",")}};return this.portal._request(t,i).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=c.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=d.default.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,i=this.userContentUrl;return e.folder&&(i+="/"+e.folder.id),r.e(59).then(r.bind(null,476)).then((({default:r})=>{t=r;const n={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(i,{query:n})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new d.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new n.a("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new n.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new u;return t.sourceJSON=e,t.read(e),t}};Object(i.a)([Object(a.b)()],p.prototype,"access",void 0),Object(i.a)([Object(a.b)({type:Date})],p.prototype,"created",void 0),Object(i.a)([Object(a.b)()],p.prototype,"culture",void 0),Object(i.a)([Object(a.b)()],p.prototype,"description",void 0),Object(i.a)([Object(a.b)()],p.prototype,"email",void 0),Object(i.a)([Object(a.b)()],p.prototype,"favGroupId",void 0),Object(i.a)([Object(a.b)()],p.prototype,"fullName",void 0),Object(i.a)([Object(a.b)({type:Date})],p.prototype,"modified",void 0),Object(i.a)([Object(a.b)()],p.prototype,"orgId",void 0),Object(i.a)([Object(a.b)()],p.prototype,"portal",void 0),Object(i.a)([Object(a.b)()],p.prototype,"preferredView",void 0),Object(i.a)([Object(a.b)()],p.prototype,"privileges",void 0),Object(i.a)([Object(a.b)()],p.prototype,"region",void 0),Object(i.a)([Object(a.b)()],p.prototype,"role",void 0),Object(i.a)([Object(a.b)()],p.prototype,"roleId",void 0),Object(i.a)([Object(a.b)()],p.prototype,"sourceJSON",void 0),Object(i.a)([Object(a.b)()],p.prototype,"thumbnail",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],p.prototype,"thumbnailUrl",null),Object(i.a)([Object(a.b)()],p.prototype,"units",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],p.prototype,"userContentUrl",null),Object(i.a)([Object(a.b)({readOnly:!0})],p.prototype,"url",null),Object(i.a)([Object(a.b)()],p.prototype,"username",void 0),Object(i.a)([Object(a.b)()],p.prototype,"userType",void 0),p=u=Object(i.a)([Object(s.a)("esri.portal.PortalUser")],p);const h=p},501:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return d}));var i=r(79),n=r(88),o=r(86),a=r(81),s=(r(84),r(82),r(83)),l=r(80),c=r(275);let u=class extends o.a{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new n.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=Object(s.m)(c.a,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new c.a,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new c.a,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new c.a;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new n.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const i=r.results[0],n=new c.a;return n.num=1,n.query=`typekeywords:"${e}"`,i.queryItems(n,t)}throw new n.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};Object(i.a)([Object(a.b)()],u.prototype,"access",void 0),Object(i.a)([Object(a.b)({type:Date})],u.prototype,"created",void 0),Object(i.a)([Object(a.b)()],u.prototype,"description",void 0),Object(i.a)([Object(a.b)()],u.prototype,"id",void 0),Object(i.a)([Object(a.b)()],u.prototype,"isInvitationOnly",void 0),Object(i.a)([Object(a.b)({type:Date})],u.prototype,"modified",void 0),Object(i.a)([Object(a.b)()],u.prototype,"owner",void 0),Object(i.a)([Object(a.b)()],u.prototype,"portal",void 0),Object(i.a)([Object(a.b)()],u.prototype,"snippet",void 0),Object(i.a)([Object(a.b)()],u.prototype,"sortField",void 0),Object(i.a)([Object(a.b)()],u.prototype,"sortOrder",void 0),Object(i.a)([Object(a.b)()],u.prototype,"tags",void 0),Object(i.a)([Object(a.b)()],u.prototype,"thumbnail",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],u.prototype,"thumbnailUrl",null),Object(i.a)([Object(a.b)()],u.prototype,"title",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],u.prototype,"url",null),u=Object(i.a)([Object(l.a)("esri.portal.PortalGroup")],u);const d=u},513:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var i=r(282),n=r(107),o=r(174),a=r(85);async function s(e,t){return await e.load(),l(e,t)}async function l(e,t){const r=[],s=(...e)=>{for(const t of e)Object(a.k)(t)||(Array.isArray(t)?s(...t):n.a.isCollection(t)?t.forEach((e=>s(e))):o.a.isLoadable(t)&&r.push(t))};t(s);let l=null;if(await Object(i.b)(r,(async e=>{!1!==(await Object(i.c)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())).ok||l||(l=e)})),l)throw l.loadError;return e}},566:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(79),n=r(81),o=(r(84),r(82),r(83),r(80));const a=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return Object(i.a)([Object(n.b)()],t.prototype,"goToOverride",void 0),Object(i.a)([Object(n.b)()],t.prototype,"view",void 0),t=Object(i.a)([Object(o.a)("esri.widgets.support.GoTo")],t),t}},574:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return s}));var i=r(113),n=r(116),o=r(106);function a(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],r=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],i=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}function s(e,t){const r=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),i=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),o=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return Object(n.w)(e,r,i,o),e}class l{constructor(e,t){this.min=e,this.max=t,this.range=t-e}ndiff(e,t=0){return Math.ceil((e-t)/this.range)*this.range+t}_normalize(e,t,r,i=0,n=!1){return(r-=i)<e?r+=this.ndiff(e-r):r>t&&(r-=this.ndiff(r-t)),n&&r===t&&(r=e),r+i}normalize(e,t=0,r=!1){return this._normalize(this.min,this.max,e,t,r)}clamp(e,t=0){return Object(i.e)(e-t,this.min,this.max)+t}monotonic(e,t,r){return e<t?t:t+this.ndiff(e-t,r)}minimalMonotonic(e,t,r){return this._normalize(e,e+this.range,t,r)}center(e,t,r){return t=this.monotonic(e,t,r),this.normalize((e+t)/2,r)}diff(e,t,r){return this.monotonic(e,t,r)-e}shortestSignedDiff(e,t){e=this.normalize(e);const r=(t=this.normalize(t))-e,i=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(r)<Math.abs(i)?r:i}contains(e,t,r){return t=this.minimalMonotonic(e,t),(r=this.minimalMonotonic(e,r))>e&&r<t}}function c(e,t,r,i){Object(n.j)(u,t,e),Object(n.j)(d,r,e),Object(n.g)(i,u,d),Object(n.r)(i,i),i[3]=-Object(n.h)(e,i)}const u=Object(o.f)(),d=Object(o.f)();function p(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}p(new l(0,2*Math.PI));const h=p(new l(-Math.PI,Math.PI)),b=p(new l(0,360));Object(o.f)(),Object(o.f)(),Object(o.f)()},587:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=587},588:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r(79),n=r(107),o=r(130),a=r(85),s=(r(217),r(171)),l=r(81),c=(r(84),r(82),r(83),r(80));let u=class extends(Object(o.b)(n.a)){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(Object(s.a)((()=>this.refresh())))}destroy(){this.getCollections=null}refresh(){const e=Object(a.l)(this.getCollections)?this.getCollections():null;if(Object(a.k)(e))return void this.removeAll();let t=0;for(const r of e)Object(a.l)(r)&&(t=this._processCollection(t,r));this.splice(t,this.length)}_createNewInstance(e){return new n.a(e)}_processCollection(e,t){if(!t)return e;const r=this.itemFilterFunction?this.itemFilterFunction:e=>!!e;for(const i of t)if(i){if(r(i)){const t=this.indexOf(i,e);t>=0?t!==e&&this.reorder(i,e):this.add(i,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(i);if(Array.isArray(t))for(const r of t)e=this._processCollection(e,r);else e=this._processCollection(e,t)}}return e}};Object(i.a)([Object(l.b)()],u.prototype,"getCollections",void 0),Object(i.a)([Object(l.b)()],u.prototype,"getChildrenFunction",void 0),Object(i.a)([Object(l.b)()],u.prototype,"itemFilterFunction",void 0),u=Object(i.a)([Object(c.a)("esri.core.CollectionFlattener")],u);const d=u},589:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r(79),n=r(86),o=r(81),a=(r(84),r(82),r(83),r(80)),s=r(97);let l=class extends n.a{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(s.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(i.a)([Object(o.b)()],l.prototype,"geometries",void 0),Object(i.a)([Object(o.b)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),Object(i.a)([Object(o.b)()],l.prototype,"transformation",void 0),Object(i.a)([Object(o.b)()],l.prototype,"transformForward",void 0),l=Object(i.a)([Object(a.a)("esri.rest.support.ProjectParameters")],l);const c=l},608:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(97);function n(e){return{geometryType:Object(i.c)(e[0]),geometries:e.map((e=>e.toJSON()))}}function o(e,t,r){const n=Object(i.b)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=r,t}))}},627:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var i,n=r(79),o=r(86),a=r(113),s=r(81),l=(r(84),r(82),r(104)),c=r(93),u=r(80),d=r(92),p=r(83),h=r(109),b=r(574);let m=i=class extends o.a{constructor(...e){super(...e),this.position=new h.a([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,i){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const n={position:e};return null!=t&&(n.heading=t),null!=r&&(n.tilt=r),null!=i&&(n.fov=i),n}return e}writePosition(e,t,r,i){const n=e.clone();n.x=Object(p.i)(e.x||0),n.y=Object(p.i)(e.y||0),n.z=e.hasZ?Object(p.i)(e.z||0):e.z,t[r]=n.write({},i)}readPosition(e,t){const r=new h.a;return r.read(e,t),r.x=Object(p.i)(r.x||0),r.y=Object(p.i)(r.y||0),r.z=r.hasZ?Object(p.i)(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}clone(){return new i({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};Object(n.a)([Object(s.b)({type:h.a,json:{write:{isRequired:!0}}})],m.prototype,"position",void 0),Object(n.a)([Object(d.a)("position")],m.prototype,"writePosition",null),Object(n.a)([Object(c.a)("position")],m.prototype,"readPosition",null),Object(n.a)([Object(s.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(l.a)((e=>b.a.normalize(Object(p.i)(e))))],m.prototype,"heading",void 0),Object(n.a)([Object(s.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(l.a)((e=>Object(a.e)(Object(p.i)(e),-180,180)))],m.prototype,"tilt",void 0),Object(n.a)([Object(s.b)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],m.prototype,"fov",void 0),m=i=Object(n.a)([Object(u.a)("esri.Camera")],m);const f=m;var y,O=r(98),g=r(85),j=r(97);let v=y=class extends o.a{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new y({rotation:this.rotation,scale:this.scale,targetGeometry:Object(g.l)(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(g.l)(this.camera)?this.camera.clone():null})}};function w(){return{enabled:!this.camera}}Object(n.a)([Object(s.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],v.prototype,"rotation",void 0),Object(n.a)([Object(l.a)("rotation")],v.prototype,"castRotation",null),Object(n.a)([Object(s.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],v.prototype,"scale",void 0),Object(n.a)([Object(s.b)({types:O.a,json:{read:j.a,write:!0,origins:{"web-scene":{read:j.a,write:{overridePolicy:w}}}}})],v.prototype,"targetGeometry",void 0),Object(n.a)([Object(s.b)({type:f,json:{write:!0}})],v.prototype,"camera",void 0),v=y=Object(n.a)([Object(u.a)("esri.Viewpoint")],v);const _=v},638:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(88),n=r(89),o=r(85),a=r(125),s=r(510);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function d(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return!Object(o.l)(r)||r.has(e.type)&&!u(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=Object(s.b)(e.maxScale)),"minScale"in e&&(t.minScale=Object(s.b)(e.minScale))}function h(e,t){if(function(e,t){if(u(e)){const r=Object(a.b)("featureCollection.layers",t),i=r&&r[0]&&r[0].layerDefinition;i&&p(e,i)}else"stream"===e.type?p(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&p(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=Object(s.b)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(u(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function b(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new i.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(d(e,r)){const t={};return e.write(t,r)?t:null}return Object(o.l)(t)&&h(e,t=Object(n.a)(t)),t}},639:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r(88);class n{constructor(e,t,r=""){this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}since(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new i.a(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new n(this.major,this.minor,this._context)}static parse(e,t=""){const[r,o]=e.split("."),a=/^\s*\d+\s*$/;if(!r||!r.match||!r.match(a))throw new i.a((t&&t+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!o||!o.match||!o.match(a))throw new i.a((t&&t+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const s=parseInt(r,10),l=parseInt(o,10);return new n(s,l,t)}}},663:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i=r(102),n=r(83),o=r(97),a=r(127),s=r(608),l=r(589);const c=Object(n.m)(l.a);async function u(e,t,r){t=c(t);const n=Object(a.c)(e),l={...n.query,f:"json",...t.toJSON()},u=t.outSpatialReference,d=Object(o.c)(t.geometries[0]),p=Object(a.a)(l,r);return Object(i.default)(n.path+"/project",p).then((({data:{geometries:e}})=>Object(s.a)(e,d,u)))}},718:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return M}));var i,n=r(79),o=r(107),a=r(316),s=r(298),l=r(86),c=r(89),u=r(174),d=r(513),p=r(87),h=r(85),b=r(91),m=r(100),f=r(81),y=(r(83),r(80)),O=r(92),g=r(95),j=r(170),v=r(476),w=r(719),_=r(638);let k=0;const S=p.a.getLogger("esri.Basemap");let x=i=class extends(Object(l.b)(u.a)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+k++,this.baseLayers=new o.a,this.referenceLayers=new o.a;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&S.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))}initialize(){this.when().catch((e=>{S.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const t=this.baseLayers.removeAll();for(const i of t)i.destroy();const r=this.referenceLayers.removeAll();for(const i of r)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Object(a.b)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=Object(_.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(h.l)(t)&&i.push(t)})),this.referenceLayers.forEach((e=>{const t=Object(_.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(h.l)(t)&&(t.isReference=!0,i.push(t))})),t.baseMapLayers=i):t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",Object(a.b)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(d.a)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new i({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=Object(c.a)(e);return t.url&&Object(m.w)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&Object(m.w)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Object(b.u)(e);const i=[];if(t){const r=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;i.push(Object(w.b)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r&&i.push(this._loadFromItem(r,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,i){const n=this.resourceInfo&&this.resourceInfo.context,o=this.portalItem&&this.portalItem.portal||n&&n.portal||null,a=n&&"web-scene"===n.origin?"web-scene":"web-map",{populateOperationalLayers:s}=await r.e(153).then(r.bind(null,992)),l=[];if(Object(b.u)(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{origin:a,url:t,portal:o,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},i=s(this.baseLayers,e.baseMapLayers.filter((e=>!e.isReference)),r);l.push(i);const n=s(this.referenceLayers,e.baseMapLayers.filter((e=>e.isReference)),r);l.push(n)}await Object(b.i)(l)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),n=Object(m.K)(e.itemUrl);return this._set("resourceInfo",{data:i.baseMap,context:{origin:"web-map",portal:e.portal||j.a.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||j.a.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}static fromId(e){const t=w.a[e];if(t){if(t.deprecated){let t=null;"dark-gray"===e?t="dark-gray-vector":"gray"===e?t="gray-vector":"streets"===e?t="streets-vector":"topo"===e&&(t="topo-vector"),Object(s.a)(S,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:t,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return i.fromJSON(t)}return null}};Object(n.a)([Object(f.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:o.a}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],x.prototype,"baseLayers",null),Object(n.a)([Object(f.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],x.prototype,"id",void 0),Object(n.a)([Object(f.b)({type:v.default})],x.prototype,"portalItem",void 0),Object(n.a)([Object(f.b)()],x.prototype,"referenceLayers",null),Object(n.a)([Object(f.b)({readOnly:!0})],x.prototype,"resourceInfo",void 0),Object(n.a)([Object(f.b)({type:g.a})],x.prototype,"spatialReference",void 0),Object(n.a)([Object(f.b)()],x.prototype,"thumbnailUrl",void 0),Object(n.a)([Object(f.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],x.prototype,"title",void 0),Object(n.a)([Object(O.a)("title")],x.prototype,"writeTitle",null),x=i=Object(n.a)([Object(y.a)("esri.Basemap")],x);const M=x},719:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var i=r(158),n=r(139);async function o(e){if(!e)return;const t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,r=await Object(n.a)("esri/t9n/basemaps");return r[e]||r[t]}const a={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Object(i.a)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},721:function(e,t,r){"use strict";function i(e,t){if(!n(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function n(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function o(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o}))},750:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return y}));var i=r(718),n=r(150),o=r(107),a=r(87),s=r(100),l=r(83),c=r(719);const u=a.a.getLogger("esri.support.basemapUtils");function d(){return{}}function p(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function h(e,t){var r;let o;if("string"==typeof e){if(!(e in c.a)){const t=Object.entries(c.a).filter((([e,t])=>n.a.apiKey&&!t.classic||!n.a.apiKey&&t.classic&&!t.deprecated)).map((([e])=>`"${e}"`)).join(", ");return u.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(o=t[e]),o||(o=i.default.fromId(e),t&&(t[e]=o))}else o=Object(l.m)(i.default,e);return null!=(r=o)&&r.destroyed&&(u.warn("The provided basemap is already destroyed",{basemap:o}),o=null),o}function b(e){let t=null;const r=j(e),i=!r.baseLayers.length;for(const n in c.a){const e=S(r,_(c.a[n]),{mustMatchReferences:i});if("equal"===e){t=n;break}"base-layers-equal"===e&&(t=n)}return t}function m(e,t){return e===t||"equal"===S(j(e),j(t),{mustMatchReferences:!0})}function f(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(y))}function y(e){if(g(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(g(null==r?void 0:r.sourceUrl))return!0}return!1}const O=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function g(e){if(!e)return!1;const t=new s.a(Object(s.A)(e));return O.test(t.authority)}function j(e){return e?!e.loaded&&e.resourceInfo?_(e.resourceInfo.data):{baseLayers:v(e.baseLayers),referenceLayers:v(e.referenceLayers)}:null}function v(e){return(o.a.isCollection(e)?e.toArray():e).map(w)}function w(e){return{type:e.type,url:I("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function _(e){return e?{baseLayers:k(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:k(e.baseMapLayers.filter((e=>e.isReference)))}:null}function k(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:I(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function S(e,t,r){return null!=e!=(null!=t)?"not-equal":e?x(e.baseLayers,t.baseLayers)?x(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function x(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!M(e[r],t[r]))return!1;return!0}function M(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function I(e){return e?Object(s.D)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},751:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(79),n=r(107),o=r(316),a=r(87),s=r(91),l=r(81),c=(r(84),r(82),r(83),r(80)),u=r(191);function d(e){return e&&"group"===e.type}function p(e,t,r){let i,n;if(e)for(let o=0,a=e.length;o<a;o++){if(i=e.getItemAt(o),i[t]===r)return i;if(d(i)&&(n=p(i.layers,t,r),n))return n}}const h=a.a.getLogger("esri.support.LayersMixin"),b=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new n.a;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||h.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},r=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item))),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>r(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",Object(o.b)(e,this._get("layers")))}add(e,t){const r=this.layers;if(t=r.getNextIndex(t),e instanceof u.a){const i=e;i.parent===this?this.reorder(i,t):r.add(i,t)}else Object(s.o)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):h.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const r=this.layers;t=r.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(r.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return p(this.layers,"id",e)}findLayerByUid(e){return p(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return Object(i.a)([Object(l.b)()],t.prototype,"layers",null),t=Object(i.a)([Object(c.a)("esri.support.LayersMixin")],t),t}},752:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var i=r(79),n=r(107),o=r(316),a=r(87),s=r(81),l=(r(84),r(82),r(83),r(80));const c="esri.support.TablesMixin",u=a.a.getLogger(c);function d(e){return e&&"group"===e.type}function p(e,t,r){if(e)for(let i=0,n=e.length;i<n;i++){const n=e.getItemAt(i);if(n[t]===r)return n;if(d(n)){const e=p(n.tables,t,r);if(e)return e}}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new n.a,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&u.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",Object(o.b)(e,this._get("tables")))}findTableById(e){return p(this.tables,"id",e)}findTableByUid(e){return p(this.tables,"uid",e)}};return Object(i.a)([Object(s.b)()],t.prototype,"tables",null),t=Object(i.a)([Object(l.a)(c)],t),t}},759:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i,n=r(79),o=r(99),a=r(81),s=(r(84),r(82),r(104)),l=r(80);let c=i=class extends o.a{constructor(e){super(e),this.autoCloseMenu=!1,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.selected=!1,this.selectionEnabled=!1,this.clickFunction=null}castItems(e){return e?e.map((e=>e instanceof i?e:new i(e))):null}};Object(n.a)([Object(a.b)()],c.prototype,"autoCloseMenu",void 0),Object(n.a)([Object(a.b)()],c.prototype,"iconClass",void 0),Object(n.a)([Object(a.b)()],c.prototype,"items",void 0),Object(n.a)([Object(s.a)("items")],c.prototype,"castItems",null),Object(n.a)([Object(a.b)()],c.prototype,"label",void 0),Object(n.a)([Object(a.b)()],c.prototype,"open",void 0),Object(n.a)([Object(a.b)()],c.prototype,"selected",void 0),Object(n.a)([Object(a.b)()],c.prototype,"selectionEnabled",void 0),Object(n.a)([Object(a.b)()],c.prototype,"clickFunction",void 0),c=i=Object(n.a)([Object(l.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuItem")],c);const u=c},86:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));var i=r(79),n=r(99),o=r(279),a=r(281),s=r(80);const l=e=>{let t=class extends e{constructor(...e){super(...e)}read(e,t){Object(o.a)(this,e,t)}write(e={},t){return Object(a.b)(this,e,t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return c.call(this,e,t)}};return t=Object(i.a)([Object(s.a)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function c(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let u=class extends(l(n.a)){};u=Object(i.a)([Object(s.a)("esri.core.JSONSupport")],u)},862:function(e,t,r){"use strict";r.d(t,"a",(function(){return Ie}));var i=r(79);function n(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect();return{width:r.width/1,height:r.height/1,top:r.top/1,right:r.right/1,bottom:r.bottom/1,left:r.left/1,x:r.left/1,y:r.top/1}}function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function a(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s(e){return e instanceof o(e).Element||e instanceof Element}function l(e){return e instanceof o(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!==typeof ShadowRoot&&(e instanceof o(e).ShadowRoot||e instanceof ShadowRoot)}function u(e){return e?(e.nodeName||"").toLowerCase():null}function d(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return n(d(e)).left+a(e).scrollLeft}function h(e){return o(e).getComputedStyle(e)}function b(e){var t=h(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function m(e,t,r){void 0===r&&(r=!1);var i=l(t),s=l(t)&&function(e){var t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return 1!==r||1!==i}(t),c=d(t),h=n(e,s),m={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!r)&&(("body"!==u(t)||b(c))&&(m=function(e){return e!==o(e)&&l(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:a(e);var t}(t)),l(t)?((f=n(t,!0)).x+=t.clientLeft,f.y+=t.clientTop):c&&(f.x=p(c))),{x:h.left+m.scrollLeft-f.x,y:h.top+m.scrollTop-f.y,width:h.width,height:h.height}}function f(e){var t=n(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function y(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||d(e)}function O(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:l(e)&&b(e)?e:O(y(e))}function g(e,t){var r;void 0===t&&(t=[]);var i=O(e),n=i===(null==(r=e.ownerDocument)?void 0:r.body),a=o(i),s=n?[a].concat(a.visualViewport||[],b(i)?i:[]):i,l=t.concat(s);return n?l:l.concat(g(y(s)))}function j(e){return["table","td","th"].indexOf(u(e))>=0}function v(e){return l(e)&&"fixed"!==h(e).position?e.offsetParent:null}function w(e){for(var t=o(e),r=v(e);r&&j(r)&&"static"===h(r).position;)r=v(r);return r&&("html"===u(r)||"body"===u(r)&&"static"===h(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&l(e)&&"fixed"===h(e).position)return null;for(var r=y(e);l(r)&&["html","body"].indexOf(u(r))<0;){var i=h(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(e)||t}var _="top",k="bottom",S="right",x="left",M="auto",I=[_,k,S,x],T="start",A="end",N="viewport",L="popper",C=I.reduce((function(e,t){return e.concat([t+"-"+T,t+"-"+A])}),[]),R=[].concat(I,[M]).reduce((function(e,t){return e.concat([t,t+"-"+T,t+"-"+A])}),[]),E=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P(e){var t=new Map,r=new Set,i=[];function n(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var i=t.get(e);i&&n(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||n(e)})),i}function U(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function F(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,i=void 0===r?[]:r,n=t.defaultOptions,o=void 0===n?G:n;return function(e,t,r){void 0===r&&(r=o);var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},G,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],l=!1,c={state:n,setOptions:function(r){var l="function"===typeof r?r(n.options):r;u(),n.options=Object.assign({},o,n.options,l),n.scrollParents={reference:s(e)?g(e):e.contextElement?g(e.contextElement):[],popper:g(t)};var d=function(e){var t=P(e);return E.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,n.options.modifiers)));return n.orderedModifiers=d.filter((function(e){return e.enabled})),n.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,i=void 0===r?{}:r,o=e.effect;if("function"===typeof o){var s=o({state:n,name:t,instance:c,options:i}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!l){var e=n.elements,t=e.reference,r=e.popper;if(B(t,r)){n.rects={reference:m(t,w(r),"fixed"===n.options.strategy),popper:f(r)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach((function(e){return n.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<n.orderedModifiers.length;i++)if(!0!==n.reset){var o=n.orderedModifiers[i],a=o.fn,s=o.options,u=void 0===s?{}:s,d=o.name;"function"===typeof a&&(n=a({state:n,options:u,name:d,instance:c})||n)}else n.reset=!1,i=-1}}},update:U((function(){return new Promise((function(e){c.forceUpdate(),e(n)}))})),destroy:function(){u(),l=!0}};if(!B(e,t))return c;function u(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(r).then((function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)})),c}}var D={passive:!0};var q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,a=void 0===n||n,s=i.resize,l=void 0===s||s,c=o(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,D)})),l&&c.addEventListener("resize",r.update,D),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,D)})),l&&c.removeEventListener("resize",r.update,D)}},data:{}};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function J(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function V(e){var t,r=e.reference,i=e.element,n=e.placement,o=n?W(n):null,a=n?z(n):null,s=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2;switch(o){case _:t={x:s,y:r.y-i.height};break;case k:t={x:s,y:r.y+r.height};break;case S:t={x:r.x+r.width,y:l};break;case x:t={x:r.x-i.width,y:l};break;default:t={x:r.x,y:r.y}}var c=o?J(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case T:t[c]=t[c]-(r[u]/2-i[u]/2);break;case A:t[c]=t[c]+(r[u]/2-i[u]/2)}}return t}var $={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=V({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},H=Math.max,Z=Math.min,Q=Math.round,K={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,r=e.popper,i=e.popperRect,n=e.placement,a=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,b=!0===p?function(e){var t=e.x,r=e.y,i=window.devicePixelRatio||1;return{x:Q(Q(t*i)/i)||0,y:Q(Q(r*i)/i)||0}}(s):"function"===typeof p?p(s):s,m=b.x,f=void 0===m?0:m,y=b.y,O=void 0===y?0:y,g=s.hasOwnProperty("x"),j=s.hasOwnProperty("y"),v=x,M=_,I=window;if(u){var T=w(r),N="clientHeight",L="clientWidth";T===o(r)&&"static"!==h(T=d(r)).position&&"absolute"===l&&(N="scrollHeight",L="scrollWidth"),T=T,n!==_&&(n!==x&&n!==S||a!==A)||(M=k,O-=T[N]-i.height,O*=c?1:-1),n!==x&&(n!==_&&n!==k||a!==A)||(v=S,f-=T[L]-i.width,f*=c?1:-1)}var C,R=Object.assign({position:l},u&&K);return c?Object.assign({},R,((C={})[M]=j?"0":"",C[v]=g?"0":"",C.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+O+"px)":"translate3d("+f+"px, "+O+"px, 0)",C)):Object.assign({},R,((t={})[M]=j?O+"px":"",t[v]=g?f+"px":"",t.transform="",t))}var Y={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},n=t.elements[e];l(n)&&u(n)&&(Object.assign(n.style,r),Object.keys(i).forEach((function(e){var t=i[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],n=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});l(i)&&u(i)&&(Object.assign(i.style,o),Object.keys(n).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};var ee={left:"right",right:"left",bottom:"top",top:"bottom"};function te(e){return e.replace(/left|right|bottom|top/g,(function(e){return ee[e]}))}var re={start:"end",end:"start"};function ie(e){return e.replace(/start|end/g,(function(e){return re[e]}))}function ne(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&c(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function oe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ae(e,t){return t===N?oe(function(e){var t=o(e),r=d(e),i=t.visualViewport,n=r.clientWidth,a=r.clientHeight,s=0,l=0;return i&&(n=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,l=i.offsetTop)),{width:n,height:a,x:s+p(e),y:l}}(e)):l(t)?function(e){var t=n(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):oe(function(e){var t,r=d(e),i=a(e),n=null==(t=e.ownerDocument)?void 0:t.body,o=H(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=H(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-i.scrollLeft+p(e),c=-i.scrollTop;return"rtl"===h(n||r).direction&&(l+=H(r.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}(d(e)))}function se(e,t,r){var i="clippingParents"===t?function(e){var t=g(y(e)),r=["absolute","fixed"].indexOf(h(e).position)>=0&&l(e)?w(e):e;return s(r)?t.filter((function(e){return s(e)&&ne(e,r)&&"body"!==u(e)})):[]}(e):[].concat(t),n=[].concat(i,[r]),o=n[0],a=n.reduce((function(t,r){var i=ae(e,r);return t.top=H(i.top,t.top),t.right=Z(i.right,t.right),t.bottom=Z(i.bottom,t.bottom),t.left=H(i.left,t.left),t}),ae(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function le(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ce(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function ue(e,t){void 0===t&&(t={});var r=t,i=r.placement,o=void 0===i?e.placement:i,a=r.boundary,l=void 0===a?"clippingParents":a,c=r.rootBoundary,u=void 0===c?N:c,p=r.elementContext,h=void 0===p?L:p,b=r.altBoundary,m=void 0!==b&&b,f=r.padding,y=void 0===f?0:f,O=le("number"!==typeof y?y:ce(y,I)),g=h===L?"reference":L,j=e.rects.popper,v=e.elements[m?g:h],w=se(s(v)?v:v.contextElement||d(e.elements.popper),l,u),x=n(e.elements.reference),M=V({reference:x,element:j,strategy:"absolute",placement:o}),T=oe(Object.assign({},j,M)),A=h===L?T:x,C={top:w.top-A.top+O.top,bottom:A.bottom-w.bottom+O.bottom,left:w.left-A.left+O.left,right:A.right-w.right+O.right},R=e.modifiersData.offset;if(h===L&&R){var E=R[o];Object.keys(C).forEach((function(e){var t=[S,k].indexOf(e)>=0?1:-1,r=[_,k].indexOf(e)>=0?"y":"x";C[e]+=E[r]*t}))}return C}function de(e,t,r){return H(e,Z(t,r))}function pe(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function he(e){return[_,S,k,x].some((function(t){return e[t]>=0}))}var be=F({defaultModifiers:[q,$,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=void 0===i||i,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,l=void 0===s||s,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Y,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,i=e.name,n=r.offset,o=void 0===n?[0,0]:n,a=R.reduce((function(e,r){return e[r]=function(e,t,r){var i=W(e),n=[x,_].indexOf(i)>=0?-1:1,o="function"===typeof r?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*n,[x,S].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,o=void 0===n||n,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,b=void 0===h||h,m=r.allowedAutoPlacements,f=t.options.placement,y=W(f),O=l||(y===f||!b?[te(f)]:function(e){if(W(e)===M)return[];var t=te(e);return[ie(e),t,ie(t)]}(f)),g=[f].concat(O).reduce((function(e,r){return e.concat(W(r)===M?function(e,t){void 0===t&&(t={});var r=t,i=r.placement,n=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?R:l,u=z(i),d=u?s?C:C.filter((function(e){return z(e)===u})):I,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,r){return t[r]=ue(e,{placement:r,boundary:n,rootBoundary:o,padding:a})[W(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:b,allowedAutoPlacements:m}):r)}),[]),j=t.rects.reference,v=t.rects.popper,w=new Map,A=!0,N=g[0],L=0;L<g.length;L++){var E=g[L],P=W(E),U=z(E)===T,G=[_,k].indexOf(P)>=0,B=G?"width":"height",F=ue(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),D=G?U?S:x:U?k:_;j[B]>v[B]&&(D=te(D));var q=te(D),J=[];if(o&&J.push(F[P]<=0),s&&J.push(F[D]<=0,F[q]<=0),J.every((function(e){return e}))){N=E,A=!1;break}w.set(E,J)}if(A)for(var V=function(e){var t=g.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},$=b?3:1;$>0;$--){if("break"===V($))break}t.placement!==N&&(t.modifiersData[i]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,o=void 0===n||n,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,h=void 0===p||p,b=r.tetherOffset,m=void 0===b?0:b,y=ue(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),O=W(t.placement),g=z(t.placement),j=!g,v=J(O),M="x"===v?"y":"x",I=t.modifiersData.popperOffsets,A=t.rects.reference,N=t.rects.popper,L="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C={x:0,y:0};if(I){if(o||s){var R="y"===v?_:x,E="y"===v?k:S,P="y"===v?"height":"width",U=I[v],G=I[v]+y[R],B=I[v]-y[E],F=h?-N[P]/2:0,D=g===T?A[P]:N[P],q=g===T?-N[P]:-A[P],V=t.elements.arrow,$=h&&V?f(V):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=Q[R],X=Q[E],Y=de(0,A[P],$[P]),ee=j?A[P]/2-F-Y-K-L:D-Y-K-L,te=j?-A[P]/2+F+Y+X+L:q+Y+X+L,re=t.elements.arrow&&w(t.elements.arrow),ie=re?"y"===v?re.clientTop||0:re.clientLeft||0:0,ne=t.modifiersData.offset?t.modifiersData.offset[t.placement][v]:0,oe=I[v]+ee-ne-ie,ae=I[v]+te-ne;if(o){var se=de(h?Z(G,oe):G,U,h?H(B,ae):B);I[v]=se,C[v]=se-U}if(s){var le="x"===v?_:x,ce="x"===v?k:S,pe=I[M],he=pe+y[le],be=pe-y[ce],me=de(h?Z(he,oe):he,pe,h?H(be,ae):be);I[M]=me,C[M]=me-pe}}t.modifiersData[i]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,i=e.name,n=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=W(r.placement),l=J(s),c=[x,S].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return le("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ce(e,I))}(n.padding,r),d=f(o),p="y"===l?_:x,h="y"===l?k:S,b=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],y=w(o),O=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,g=b/2-m/2,j=u[p],v=O-d[c]-u[h],M=O/2-d[c]/2+g,T=de(j,M,v),A=l;r.modifiersData[i]=((t={})[A]=T,t.centerOffset=T-M,t)}},effect:function(e){var t=e.state,r=e.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&ne(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,o=t.modifiersData.preventOverflow,a=ue(t,{elementContext:"reference"}),s=ue(t,{altBoundary:!0}),l=pe(a,i),c=pe(s,n,o),u=he(l),d=he(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),me=r(539),fe=r(85),ye=r(112),Oe=r(81),ge=(r(84),r(82),r(83),r(80)),je=r(156),ve=r(108),we=(r(87),r(128));const _e=["bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","top","top-start","top-end"],ke="esri-popover",Se="esri-popover--open",xe={position:"fixed","z-index":"1000"};let Me=class extends je.a{constructor(e,t){super(e,t),this._popper=null,this._contentNode=null,this._renderAttached=!1,this._rootNode=null,this.anchorElement=null,this.offset=[0,0],this.open=!1,this.renderContentFunction=null,this._afterRootCreate=e=>{this._rootNode=e},this._afterContentCreate=e=>{this._contentNode=e},this._updatePosition=()=>{Object(fe.l)(this._popper)&&this._popper.update()}}initialize(){this.when((()=>{this._projector.append(document.body,this.render),this._renderAttached=!0})),this.own(Object(ye.a)(this,["open","anchorElement"],(()=>this._buildPopper())),Object(ye.a)(this,["placement","offset"],(()=>this._setPopperOptions())))}destroy(){this.owner=null,this.anchorElement=null,this.renderContentFunction=null,this._renderAttached&&(this._projector.detach(this.render),this._renderAttached=!1),Object(fe.l)(this._rootNode)&&(Object(me.d)(this._rootNode),this._rootNode=null),this._contentNode=null,Object(fe.l)(this._popper)&&(this._popper.destroy(),this._popper=null)}set container(e){}set owner(e){this._set("owner",e)}get placement(){return"top"}set placement(e){-1!==_e.indexOf(e)?this._override("placement",e):this._clearOverride("placement")}render(){var e;const{open:t,owner:r,renderContentFunction:i}=this;return Object(we.a)("div",{afterCreate:this._afterRootCreate,class:this.classes(ke,t?Se:null),styles:xe},Object(we.a)("div",{dir:Object(ve.e)(null==(e=this.owner)?void 0:e.container),afterCreate:this._afterContentCreate,afterUpdate:this._updatePosition},t&&(null==i?void 0:i.call(r))))}_buildPopper(){Object(fe.l)(this._popper)&&(this._popper.destroy(),this._popper=null);const e=this._contentNode;if(Object(fe.k)(e))return;if(!this.open||!this.renderContentFunction)return;const t=this._getAnchor();t&&(this._popper=be(t,e),this._setPopperOptions())}_setPopperOptions(){const{placement:e,offset:t,_popper:r}=this;Object(fe.k)(r)||(r.setOptions({placement:e,modifiers:[{name:"offset",options:{offset:t}}]}),r.forceUpdate())}_getAnchor(){const{anchorElement:e}=this;return Object(me.a)("function"==typeof e?e():e)}};Object(i.a)([Object(Oe.b)()],Me.prototype,"anchorElement",void 0),Object(i.a)([Object(Oe.b)()],Me.prototype,"container",null),Object(i.a)([Object(Oe.b)()],Me.prototype,"offset",void 0),Object(i.a)([Object(Oe.b)()],Me.prototype,"open",void 0),Object(i.a)([Object(Oe.b)()],Me.prototype,"owner",null),Object(i.a)([Object(Oe.b)()],Me.prototype,"placement",null),Object(i.a)([Object(Oe.b)()],Me.prototype,"renderContentFunction",void 0),Me=Object(i.a)([Object(ge.a)("esri.widgets.support.Popover")],Me);const Ie=Me},864:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var i=r(79),n=r(202),o=r(130),a=r(85),s=r(112),l=r(138),c=(r(84),r(82),r(83),r(81)),u=r(80),d=r(156),p=r(99),h=r(104),b=r(759);let m=class extends p.a{constructor(e){super(e),this.items=null,this.open=!1}castItems(e){return e?e.map((e=>e instanceof b.a?e:new b.a(e))):null}};Object(i.a)([Object(c.b)()],m.prototype,"items",void 0),Object(i.a)([Object(h.a)("items")],m.prototype,"castItems",null),Object(i.a)([Object(c.b)()],m.prototype,"open",void 0),m=Object(i.a)([Object(u.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuViewModel")],m);const f=m;var y=r(862),O=r(108),g=(r(87),r(128));const j="esri-button-menu",v="esri-button-menu__content",w="esri-button-menu__item-wrapper",_="esri-button-menu__icon",k="esri-button-menu__item",S="esri-button-menu__item-label",x="esri-button-menu__item-label-content",M="esri-button-menu__item--selectable",I="esri-button-menu__item--selected",T="esri-button-menu__checkbox",A="esri-button-menu__embedded-content-wrapper",N="esri-button-menu__button",L="esri-button-menu__button--selected",C="esri-icon-menu",R="esri-widget";let E=class extends(Object(o.b)(d.a)){constructor(e,t){super(e,t),this._menuContentNode=null,this._popover=null,this._rootNode=null,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.viewModel=new f,this._handleOutsideClick=this._handleOutsideClick.bind(this)}postInitialize(){this._popover=new y.a({owner:this,open:!!this.open,placement:Object(O.i)(this.container)?"bottom-start":"bottom-end",renderContentFunction:this.renderMenuContent,anchorElement:this._rootNode}),this.handles.add([Object(s.d)(this,"open",(e=>this._popover.set("open",e)))]),document.addEventListener("click",this._handleOutsideClick)}destroy(){var e;null==(e=this._popover)||e.destroy(),this._popover=null,document.removeEventListener("click",this._handleOutsideClick)}_handleOutsideClick(e){var t,r;if(!this.open||!this._rootNode||!this._menuContentNode)return;const i=e.target;null!=(t=this._menuContentNode)&&t.contains(i)||null!=(r=this._rootNode)&&r.contains(i)||(this.open=!1)}render(){return Object(g.a)("div",{afterCreate:this._afterRootNodeCreate,bind:this,"data-node-ref":"_rootNode",class:this.classes(j,R),key:"menu"},this.renderMenuButton())}renderMenuButton(){const{iconClass:e,id:t,label:r,open:i}=this,n=this.classes([N,e||C,i?L:null]);return Object(g.a)("button",{"aria-pressed":i.toString(),"aria-controls":`${t}-menu`,"aria-expanded":i.toString(),"aria-haspopup":"true","aria-label":r,bind:this,class:n,id:`${t}-button`,title:r,selected:i,onclick:this._toggleOpen,tabindex:"0",type:"button"})}renderMenuContent(){var e;const{id:t,open:r}=this;return Object(g.a)("div",{afterCreate:this._afterMenuContentNodeCreate,bind:this,class:v,"data-node-ref":"_menuContentNode",key:"esri-button-menu-content",hidden:!r},Object(g.a)("ul",{"aria-labelledby":`${t}-button`,bind:this,class:w,id:`${t}-menu`,role:"menu"},(null==(e=this.items)?void 0:e.length)&&this.renderItems()))}renderItems(){var e;return null==(e=this.items)?void 0:e.map(((e,t)=>this.renderItem(e,t)))}renderItem(e,t,r){var i;const n=Object(a.l)(r)?`${this.id}-menu-item-${t}-${r}`:`${this.id}-menu-item-${t}`,o=`${n}-label`,s=this.classes(k,e.selectionEnabled?M:null,e.selectionEnabled&&e.selected?I:null);return Object(g.a)("li",{afterCreate:this._afterMenuItemCreate,bind:this,class:s,"data-item-index":t,"data-item-subIndex":r,for:n,key:n,onkeydown:t=>this._handleMenuItemKeydown(t,e),onclick:t=>this._handleMenuItemInteraction(t,e),role:"menuitem",tabindex:"0"},Object(g.a)("input",{disabled:!0,checked:e.selected,class:T,id:n,name:n,tabindex:"-1",type:"checkbox"}),Object(g.a)("label",{bind:this,class:this.classes(N,S),for:n,id:o},Object(g.a)("span",{class:this.classes(_,e.iconClass),"aria-hidden":"true"}),Object(g.a)("span",{class:x},e.label)),Object(g.a)("ul",{"aria-labelledby":o,class:A,id:`${this.id}-submenu`,role:"menu"},null==e||null==(i=e.items)?void 0:i.map(((e,r)=>this.renderItem(e,t,r)))))}_afterRootNodeCreate(e){var t;this._rootNode=e,null==(t=this._popover)||t.set("anchorElement",(()=>e))}_handleMenuItemInteraction(e,t){t.selected=!t.selected,t.open=!(!t.selected||!t.items),t.autoCloseMenu&&this.set("open",!1),t.clickFunction&&t.clickFunction({event:e,item:t}),e.stopPropagation()}_handleMenuItemKeydown(e,t){const r=Object(n.a)(e);Object(O.g)(r)&&this._handleMenuItemInteraction(e,t),"Escape"===r&&(this.open=!1,e.preventDefault(),e.stopPropagation())}_afterMenuContentNodeCreate(e){this._menuContentNode=e,e.focus()}_toggleOpen(){this.open=!this.open}_afterMenuItemCreate(e){0===e["data-item-index"]&&e.focus()}};Object(i.a)([Object(c.b)()],E.prototype,"iconClass",void 0),Object(i.a)([Object(l.a)("viewModel.items")],E.prototype,"items",void 0),Object(i.a)([Object(c.b)()],E.prototype,"label",void 0),Object(i.a)([Object(l.a)("viewModel.open")],E.prototype,"open",void 0),Object(i.a)([Object(c.b)()],E.prototype,"viewModel",void 0),E=Object(i.a)([Object(u.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenu")],E);const P=E},872:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i,n=r(79),o=r(103),a=r(86),s=r(89),l=r(81),c=(r(83),r(80));let u=i=class extends a.a{constructor(e){super(e),this.color=new o.a([0,0,0,1])}clone(){return new i(Object(s.a)({color:this.color}))}};Object(n.a)([Object(l.b)({type:o.a,json:{write:!0}})],u.prototype,"color",void 0),u=i=Object(n.a)([Object(c.a)("esri.webmap.background.ColorBackground")],u);const d=u},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r(81);function n(e,t,r){let n,o;return void 0===t?(o=e,n=[void 0]):"string"!=typeof t?(o=e,n=[void 0],r=t):(o=t,n=Array.isArray(e)?e:[e]),(e,t)=>{const a=e.constructor.prototype;for(const s of n){const n=Object(i.c)(e,s,o);n.write&&"object"==typeof n.write||(n.write={}),r&&(n.write.target=r),n.write.writer=a[t]}}}},925:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i,n=r(79),o=r(86),a=r(81),s=(r(84),r(82),r(83),r(80));let l=i=class extends o.a{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new i({url:this.url})}};Object(n.a)([Object(a.b)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"url",void 0),l=i=Object(n.a)([Object(s.a)("esri.webdoc.support.Thumbnail")],l);const c=l},93:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r(81);function n(e,t,r){let n,o;return void 0===t||Array.isArray(t)?(o=e,r=t,n=[void 0]):(o=t,n=Array.isArray(e)?e:[e]),(e,t)=>{const a=e.constructor.prototype;n.forEach((n=>{const s=Object(i.c)(e,n,o);s.read&&"object"==typeof s.read||(s.read={}),s.read.reader=a[t],r&&(s.read.source=(s.read.source||[]).concat(r))}))}}},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(90),n=r(81);function o(e,t={}){var r;const o=e instanceof i.a?e:new i.a(e,t),a={type:null==(r=null==t?void 0:t.ignoreUnknown)||r?o.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:o.jsonValues,read:(null==t||!t.readOnly)&&{reader:o.read},write:{writer:o.write}}};return void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(a.json.name=t.name),Object(n.b)(a)}},95:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var i,n=r(79),o=r(86),a=r(89),s=r(83),l=r(81),c=r(80),u=r(92),d=r(110);let p=i=class extends o.a{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return i.WebMercator;if(4326===e.wkid)return i.WGS84}const t=new i;return t.read(e),t}normalizeCtorArgs(e){return e&&"object"==typeof e?e:{["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return Object(d.m)(this)}get isWebMercator(){return Object(d.p)(this)}get isGeographic(){return Object(d.h)(this)}get isWrappable(){return Object(d.q)(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===i.WGS84)return i.WGS84;if(this===i.WebMercator)return i.WebMercator;const e=new i;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Object(a.a)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return null==t||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return Object(d.d)(this,e)}toJSON(e){return this.write(void 0,e)}};p.GCS_NAD_1927=null,p.WGS84=null,p.WebMercator=null,p.PlateCarree=null,Object(n.a)([Object(l.b)({readOnly:!0})],p.prototype,"isWGS84",null),Object(n.a)([Object(l.b)({readOnly:!0})],p.prototype,"isWebMercator",null),Object(n.a)([Object(l.b)({readOnly:!0})],p.prototype,"isGeographic",null),Object(n.a)([Object(l.b)({readOnly:!0})],p.prototype,"isWrappable",null),Object(n.a)([Object(l.b)({type:s.a,json:{write:!0}})],p.prototype,"latestWkid",void 0),Object(n.a)([Object(l.b)({type:s.a,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],p.prototype,"wkid",void 0),Object(n.a)([Object(l.b)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],p.prototype,"wkt",void 0),Object(n.a)([Object(u.a)("wkt"),Object(u.a)("web-scene","wkt")],p.prototype,"writeWkt",null),Object(n.a)([Object(l.b)({type:s.a,json:{write:!0}})],p.prototype,"vcsWkid",void 0),Object(n.a)([Object(l.b)({type:s.a,json:{write:!0}})],p.prototype,"latestVcsWkid",void 0),Object(n.a)([Object(l.b)()],p.prototype,"imageCoordinateSystem",void 0),p=i=Object(n.a)([Object(c.a)("esri.geometry.SpatialReference")],p),p.prototype.toJSON.isDefaultToJSON=!0,p.GCS_NAD_1927=new p({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),p.WGS84=new p(d.b),p.WebMercator=new p(d.c),p.PlateCarree=new p(d.a),Object.freeze&&(Object.freeze(p.GCS_NAD_1927),Object.freeze(p.WGS84),Object.freeze(p.WebMercator));const h=p},96:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var i,n=r(79),o=r(85),a=r(145),s=r(81),l=(r(84),r(82),r(83),r(80)),c=r(136),u=r(109),d=r(95),p=r(317),h=r(280),b=r(110),m=r(163);function f(e,t,r){return null==t?r:null==r?t:e(t,r)}let y=i=class extends c.a{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?d.a.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:null==n?d.a.WGS84:n}}static fromBounds(e,t){return new i({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new i({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new u.a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new i;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(m.a)(t,r)&&(e=t.isWebMercator?Object(m.b)(e):Object(m.e)(e,!0)),"point"===e.type?Object(p.e)(this,e):"extent"===e.type&&Object(p.c)(this,e)}equals(e){if(this===e)return!0;if(Object(o.k)(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(m.a)(t,r)&&(e=t.isWebMercator?Object(m.b)(e):Object(m.e)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(Object(o.k)(e))return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Object(m.a)(t,r)&&(e=t.isWebMercator?Object(m.b)(e):Object(m.e)(e,!0)),Object(h.c)(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=f(Math.min,this.zmin,e.zmin),this.zmax=f(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=f(Math.min,this.mmin,e.mmin),this.mmax=f(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:Object(o.k)(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=f(Math.max,this.zmin,e.zmin),this.zmax=f(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=f(Math.max,this.mmin,e.mmin),this.mmax=f(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Object(b.e)(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?Object(m.e)(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=this._normalizeX(i.x,e).x),this.spatialReference=new d.a(Object(a.c)(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,o=this.xmax;return n>=r&&n<=i&&o>=r&&o<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;if(!(r=r||Object(b.e)(i)))return this;const n=this._getParts(r).map((e=>e.extent));if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return n;let o=!0,a=!0;return n.forEach((e=>{e.hasZ||(o=!1),e.hasM||(a=!1)})),{rings:n.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o){const r=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}if(a){const r=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}return t})),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:n,spatialReference:o}=this,a=this.width,s=this.xmin,l=this.xmax;let c;e=e||Object(b.e)(o);const[u,d]=e.valid;c=this._normalizeX(this.xmin,e);const p=c.x,h=c.frameId;c=this._normalizeX(this.xmax,e);const m=c.x,f=c.frameId,y=p===m&&a>0;if(a>2*d){const e=new i(s<l?p:m,r,d,n,o),a=new i(u,r,s<l?m:p,n,o),c=new i(0,r,d,n,o),b=new i(u,r,0,n,o),y=[],O=[];e.contains(c)&&y.push(h),e.contains(b)&&O.push(h),a.contains(c)&&y.push(f),a.contains(b)&&O.push(f);for(let t=h+1;t<f;t++)y.push(t),O.push(t);t.push({extent:e,frameIds:[h]},{extent:a,frameIds:[f]},{extent:c,frameIds:y},{extent:b,frameIds:O})}else p>m||y?t.push({extent:new i(p,r,d,n,o),frameIds:[h]},{extent:new i(u,r,m,n,o),frameIds:[f]}):t.push({extent:new i(p,r,m,n,o),frameIds:[h]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const e={};r&&(e.zmin=this.zmin,e.zmax=this.zmax),n&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let r=0;r<t.length;r++)t[r].extent.set(e)}return t}_normalizeX(e,t){const[r,i]=t.valid,n=2*i;let o,a=0;return e>i?(o=Math.ceil(Math.abs(e-i)/n),e-=o*n,a=o):e<r&&(o=Math.ceil(Math.abs(e-r)/n),e+=o*n,a=-o),{x:e,frameId:a}}};Object(n.a)([Object(s.b)({readOnly:!0})],y.prototype,"cache",null),Object(n.a)([Object(s.b)({readOnly:!0})],y.prototype,"center",null),Object(n.a)([Object(s.b)({readOnly:!0})],y.prototype,"extent",null),Object(n.a)([Object(s.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),Object(n.a)([Object(s.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),Object(n.a)([Object(s.b)({readOnly:!0})],y.prototype,"height",null),Object(n.a)([Object(s.b)({readOnly:!0})],y.prototype,"width",null),Object(n.a)([Object(s.b)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),Object(n.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),Object(n.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),Object(n.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),Object(n.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=i=Object(n.a)([Object(l.a)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0;const O=y},97:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return h}));var i=r(85),n=r(96),o=r(136),a=r(189),s=r(109),l=r(126),c=r(133);function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function d(e){return void 0!==e.points}function p(e){return void 0!==e.x&&void 0!==e.y}function h(e){return void 0!==e.paths}function b(e){return void 0!==e.rings}function m(e){return Object(i.k)(e)?null:e instanceof o.a?e:p(e)?s.a.fromJSON(e):h(e)?c.a.fromJSON(e):b(e)?l.a.fromJSON(e):d(e)?a.a.fromJSON(e):u(e)?n.a.fromJSON(e):null}function f(e){return e?p(e)?"esriGeometryPoint":h(e)?"esriGeometryPolyline":b(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":d(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:s.a,esriGeometryPolyline:c.a,esriGeometryPolygon:l.a,esriGeometryEnvelope:n.a,esriGeometryMultipoint:a.a};function O(e){return e&&y[e]||null}},98:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i=r(83),n=r(96),o=r(136),a=r(189),s=r(109),l=r(126),c=r(133);r(95),r(169),r(97);const u={base:o.a,key:"type",typeMap:{extent:n.a,multipoint:a.a,point:s.a,polyline:c.a,polygon:l.a}};Object(i.k)(u)},987:function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var i,n=r(79),o=r(718),a=r(103),s=r(107),l=r(316),c=r(210),u=r(88),d=r(86),p=r(89),h=r(174),b=r(513),m=r(87),f=r(91),y=r(81),O=r(83),g=r(80),j=r(92),v=(r(84),r(82),r(176),r(94));let w=i=class extends d.a{constructor(e){super(e),this.type="none"}clone(){return new i({type:this.type})}};Object(n.a)([Object(v.a)({none:"none",stayAbove:"stay-above"})],w.prototype,"type",void 0),w=i=Object(n.a)([Object(g.a)("esri.ground.NavigationConstraint")],w);var _,k=r(253);const S=m.a.getLogger("esri.Ground");let x=_=class extends(Object(d.b)(h.a)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new s.a;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&S.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))}initialize(){this.when().catch((e=>{S.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Object(l.b)(e,this._get("layers")))}writeLayers(e,t,r,i){const n=[];e?(i={...i,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};Object(c.b)(e)().write(t,i)&&n.push(t)}else i&&i.messages&&i.messages.push(new u.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=n):t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(b.a)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:i}=await Promise.all([r.e(6),r.e(28),r.e(58)]).then(r.bind(null,1391));Object(f.u)(t);const n=new i,o=this.layers.filter(M).toArray();return n.queryAll(o,e,t)}async createElevationSampler(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:i}=await Promise.all([r.e(6),r.e(28),r.e(58)]).then(r.bind(null,1391));Object(f.u)(t);const n=new i,o=this.layers.filter(M).toArray();return n.createSamplerAll(o,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:Object(p.a)(this.surfaceColor),navigationConstraint:Object(p.a)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new _({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,i){const n=t&&t.origin||"web-scene",o=t&&t.portal||null,a=t&&t.url||null;return r.e(48).then(r.bind(null,992)).then((({populateOperationalLayers:t})=>{Object(f.u)(i);const r=[];if(e.layers&&Array.isArray(e.layers)){const i={context:{origin:n,url:a,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};r.push(t(this.layers,e.layers,i))}return Object(f.i)(r)})).then((()=>{}))}};function M(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}Object(n.a)([Object(y.b)({json:{read:!1}})],x.prototype,"layers",null),Object(n.a)([Object(j.a)("layers")],x.prototype,"writeLayers",null),Object(n.a)([Object(y.b)({readOnly:!0})],x.prototype,"resourceInfo",void 0),Object(n.a)([Object(y.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:O.a,read:{reader:k.b,source:"transparency"},write:{writer:(e,t)=>{t.transparency=Object(k.a)(e)},target:"transparency"}}})],x.prototype,"opacity",void 0),Object(n.a)([Object(y.b)({type:a.a,json:{type:[O.a],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],x.prototype,"surfaceColor",void 0),Object(n.a)([Object(y.b)({type:w,json:{write:!0}})],x.prototype,"navigationConstraint",void 0),x=_=Object(n.a)([Object(g.a)("esri.Ground")],x);const I=x;var T=r(99),A=r(588),N=r(131),L=r(85),C=r(104);function R(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&null!=e&&null!=(t=e.capabilities)&&t.operations&&"supportsEditing"in e.capabilities.operations&&!0===e.capabilities.operations.supportsEditing)&&!("editingEnabled"in e&&!e.editingEnabled)}var E=r(750);const P=m.a.getLogger("esri.support.groundUtils"),U={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var G=r(751),B=r(752);let F=class extends(Object(B.a)(Object(G.a)(N.a.EventedMixin(T.a)))){constructor(e){super(e),this.allLayers=new A.a({getCollections:()=>{var e,t,r;return[null==(e=this.basemap)?void 0:e.baseLayers,null==(t=this.ground)?void 0:t.layers,this.layers,null==(r=this.basemap)?void 0:r.referenceLayers]},getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=new A.a({getCollections:()=>[this.tables,this.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return t&&"tables"in t&&t.tables.includes(e)}}),this.basemap=null,this.editableLayers=new A.a({getCollections:()=>[this.allLayers],itemFilterFunction:R}),this.ground=new I,this._basemapCache=Object(E.b)()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),Object(E.c)(this._basemapCache),this._basemapCache=null}castBasemap(e){return Object(E.d)(e,this._basemapCache)}castGround(e){const t=function(e){let t=null;"string"==typeof e?e in U?t=new I({resourceInfo:{data:{layers:[U[e]]}}}):P.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=Object(O.m)(I,e);return t}(e);return Object(L.k)(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};Object(n.a)([Object(y.b)({readOnly:!0,dependsOn:[]})],F.prototype,"allLayers",void 0),Object(n.a)([Object(y.b)({readOnly:!0})],F.prototype,"allTables",void 0),Object(n.a)([Object(y.b)({type:o.default})],F.prototype,"basemap",void 0),Object(n.a)([Object(C.a)("basemap")],F.prototype,"castBasemap",null),Object(n.a)([Object(y.b)({readOnly:!0})],F.prototype,"editableLayers",void 0),Object(n.a)([Object(y.b)({type:I,nonNullable:!0})],F.prototype,"ground",void 0),Object(n.a)([Object(C.a)("ground")],F.prototype,"castGround",null),F=Object(n.a)([Object(g.a)("esri.Map")],F);const D=F}}]);
//# sourceMappingURL=98.ce0488a2.chunk.js.map