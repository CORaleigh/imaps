(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[212],{115:function(e,n,t){"use strict";t.d(n,"a",(function(){return q})),t.d(n,"b",(function(){return G})),t.d(n,"c",(function(){return F})),t.d(n,"d",(function(){return h})),t.d(n,"e",(function(){return T})),t.d(n,"f",(function(){return b})),t.d(n,"g",(function(){return y})),t.d(n,"h",(function(){return N})),t.d(n,"i",(function(){return E})),t.d(n,"j",(function(){return O})),t.d(n,"k",(function(){return ee})),t.d(n,"l",(function(){return p})),t.d(n,"m",(function(){return c})),t.d(n,"n",(function(){return d})),t.d(n,"o",(function(){return v})),t.d(n,"p",(function(){return w})),t.d(n,"q",(function(){return V})),t.d(n,"r",(function(){return S})),t.d(n,"s",(function(){return W})),t.d(n,"t",(function(){return R})),t.d(n,"u",(function(){return U})),t.d(n,"v",(function(){return C})),t.d(n,"w",(function(){return M})),t.d(n,"x",(function(){return J})),t.d(n,"y",(function(){return g})),t.d(n,"z",(function(){return Y})),t.d(n,"A",(function(){return Z}));var i=t(88),r=t(85),l=t(116),a=t(164),o=t(153);const u=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],s=["field","normalizationField"];function c(e,n){if(null!=e&&null!=n)for(const t of Array.isArray(e)?e:[e])if(f(u,t,n),"visualVariables"in t&&t.visualVariables)for(const e of t.visualVariables)f(s,e,n)}function f(e,n,t){if(e)for(const i of e){const e=Object(l.b)(i,n),r=e&&"function"!=typeof e&&t.get(e);r&&Object(l.c)(i,r.name,n)}}function d(e,n){if(null!=e&&null!=n&&n.fields.length)if("startField"in e){const t=n.get(e.startField),i=n.get(e.endField);e.startField=t&&t.name||null,e.endField=i&&i.name||null}else{const t=n.get(e.startTimeField),i=n.get(e.endTimeField);e.startTimeField=t&&t.name||null,e.endTimeField=i&&i.name||null}}const m=new Set;function p(e,n){return e&&n?(m.clear(),y(m,e,n),Array.from(m).sort()):[]}function y(e,n,t){var i;if(t)if(null!=n&&null!=(i=n.fields)&&i.length)if(t.includes("*"))for(const{name:r}of n.fields)e.add(r);else for(const r of t)b(e,n,r);else{if(t.includes("*"))return e.clear(),void e.add("*");for(const n of t)e.add(n)}}function b(e,n,t){if("string"==typeof t)if(n){const i=n.get(t);i&&e.add(i.name)}else e.add(t)}function g(e,n){return Object(r.j)(n)||Object(r.j)(e)?[]:n.includes("*")?e.fields.map((e=>e.name)):n}async function F(e,n,t){var i;if(!t)return;const{arcadeUtils:r}=await Object(o.e)(),l=r.extractFieldNames(t,null==n||null==(i=n.fields)?void 0:i.map((e=>e.name)));for(const a of l)b(e,n,a)}async function I(e,n,r){if(r&&"1=1"!==r){const l=(await Promise.all([t.e(11),t.e(247)]).then(t.bind(null,346))).WhereClause.create(r,n);if(!l.isStandardized)throw new i.a("fieldUtils:collectFilterFields","Where clause is not standardized");y(e,n,l.fieldNames)}}function v({displayField:e,fields:n}){return e||(n&&n.length?x(n,"name-or-title")||x(n,"unique-identifier")||x(n,"type-or-category")||function(e){for(const n of e){if(!n||!n.name)continue;const e=n.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return n.name}return null}(n):null)}function x(e,n){for(const t of e)if(t&&t.valueType&&t.valueType===n)return t.name;return null}async function h(e,n){if(!n)return;const t=Object(l.b)("elevationInfo.featureExpressionInfo",n);return t?t.collectRequiredFields(e,n.fieldsIndex):void 0}async function T(e,n,t){var i;if(!n||!t||"cluster"!==t.type)return;const r=[];null!=(i=t.popupTemplate)&&i.expressionInfos&&r.push(...t.popupTemplate.expressionInfos.map((t=>F(e,n.fieldsIndex,t.expression)))),t.fields&&r.push(...t.fields.map((t=>async function(e,n,t){t.outStatistic.onStatisticValueExpression?F(e,n,t.outStatistic.onStatisticValueExpression):e.add(t.outStatistic.onStatisticField)}(e,n.fieldsIndex,t)))),await Promise.all(r)}async function N(e,n,t){n&&(n.timeInfo&&Object(r.k)(t)&&t.timeExtent&&y(e,n.fieldsIndex,[n.timeInfo.startField,n.timeInfo.endField]),n.floorInfo&&y(e,n.fieldsIndex,[n.floorInfo.floorField]),Object(r.k)(t)&&Object(r.k)(t.where)&&await I(e,n.fieldsIndex,t.where))}async function O(e,n,t){n&&t&&await Promise.all(t.map((t=>async function(e,n,t){n&&t&&(t.valueExpression?await F(e,n.fieldsIndex,t.valueExpression):t.field&&b(e,n.fieldsIndex,t.field))}(e,n,t))))}function w(e){if(!e)return[];const n="editFieldsInfo"in e&&e.editFieldsInfo;return n?p(e.fieldsIndex,[n&&n.creatorField,n&&n.creationDateField,n&&n.editorField,n&&n.editDateField]):[]}function V(e){if(!e)return[];const n=e.geometryFieldsInfo;return n?p(e.fieldsIndex,[n.shapeAreaField,n.shapeLengthField]):[]}async function E(e,n){const{labelingInfo:t,fieldsIndex:i}=n;t&&t.length&&await Promise.all(t.map((n=>async function(e,n,t){if(!t)return;const i=t.getLabelExpression(),r=t.where;if("arcade"===i.type)await F(e,n,i.expression);else{const t=i.expression.match(/{[^}]*}/g);t&&t.forEach((t=>{b(e,n,t.slice(1,-1))}))}await I(e,n,r)}(e,i,n))))}function S(e){const n=e.defaultValue;return void 0!==n&&L(e,n)?n:e.nullable?null:void 0}function j(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function z(e){return null===e||j(e)}const A="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function _(e){return null===e||A(e)}function k(e){return null!=e&&"string"==typeof e}function D(e){return null===e||k(e)}function $(){return!0}function L(e,n){let t;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":t=e.nullable?_:A;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":t=e.nullable?z:j;break;case"string":case"esriFieldTypeString":t=e.nullable?D:k;break;default:t=$}return 1===arguments.length?t:t(n)}const M=["integer","small-integer","single","double"],P=new Set([...M,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function U(e){return null!=e&&P.has(e.type)}function C(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function R(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var q,G;function J(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function Y(e,n){return e.nullable&&null===n?null:U(e)&&!function(e,n){const t="string"==typeof e?X(e):e;return!!t&&(t.isInteger?A(n)&&n>=t.min&&n<=t.max:n>=t.min&&n<=t.max)}(e.type,Number(n))?q.OUT_OF_RANGE:L(e,n)?e.domain?Object(a.e)(e.domain,n):null:G.INVALID_TYPE}function W(e){return Object(a.c)(e.domain)||(U(e)?X(e.type):void 0)}function X(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Q;case"esriFieldTypeInteger":case"integer":return B;case"esriFieldTypeSingle":case"single":return H;case"esriFieldTypeDouble":case"double":return K}}(q||(q={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(G||(G={}));const Q={min:-32768,max:32767,isInteger:!0},B={min:-2147483648,max:2147483647,isInteger:!0},H={min:-34e37,max:12e37,isInteger:!1},K={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Z(e,n,t){switch(e){case a.a.INVALID_CODED_VALUE:return`Value ${t} is not in the coded domain - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case a.a.VALUE_OUT_OF_RANGE:return`Value ${t} is out of the range of valid values - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case G.INVALID_TYPE:return`Value ${t} is not a valid value for the field type - field: ${n.name}, type: ${n.type}, nullable: ${n.nullable}`;case q.OUT_OF_RANGE:{const{min:e,max:i}=X(n.type);return`Value ${t} is out of range for the number type - field: ${n.name}, type: ${n.type}, value range is ${e} to ${i}`}}}function ee(e,n){return!function(e,n,t){if(!n||!n.attributes||!e){if(Object(r.k)(t))for(const n of e)t.add(n);return!0}const i=n.attributes;let l=!1;for(const a of e)if(!(a in i)){if(l=!0,!Object(r.k)(t))break;t.add(a)}return l}(e,n,null)}},1153:function(e,n,t){"use strict";t.r(n),t.d(n,"getDataValues",(function(){return s})),t.d(n,"summaryStatistics",(function(){return u}));var i=t(108),r=t(93),l=t(805),a=t(153);let o=null;async function u(e){const{attribute:n,featuresJSON:t}=e,{normalizationType:i,normalizationField:r,minValue:a,maxValue:o,fieldType:u}=n,c=await s({field:n.field,valueExpression:n.valueExpression,normalizationType:i,normalizationField:r,normalizationTotal:n.normalizationTotal,viewInfoParams:n.viewInfoParams},t),f=Object(l.d)({normalizationType:i,normalizationField:r,minValue:a,maxValue:o}),d="string"===u?Object(l.b)({values:c,supportsNullCount:f}):Object(l.a)({values:c,minValue:a,maxValue:o,useSampleStdDev:!i,supportsNullCount:f});return Object(l.e)(d,"date"===u)}async function s(e,n){if(!n)return[];const t=e.field,u=e.valueExpression,s=e.normalizationType,c=e.normalizationField,f=e.normalizationTotal,d=[],m=e.viewInfoParams;let p=null,y=null;if(u){if(!o){const{arcadeUtils:e}=await Object(a.e)();o=e}p=o.createFunction(u),y=m&&o.getViewInfo({viewingMode:m.viewingMode,scale:m.scale,spatialReference:new r.a(m.spatialReference)})}return n.forEach((e=>{const n=e.attributes;let r;if(u){const n=o.createExecContext(e,y);r=o.executeFunction(p,n)}else n&&(r=n[t]);if(s&&Object(i.k)(r)){const e=n&&parseFloat(n[c]);r=Object(l.c)(r,s,e,f)}d.push(r)})),d}},805:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"d",(function(){return i})),t.d(n,"e",(function(){return a}));t(88),t(85),t(115);function i(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,i=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!i}function r(e){const n=e.returnDistinct?[...new Set(e.values)]:e.values,t=n.filter((e=>null!=e)).length,i={count:t};return e.supportsNullCount&&(i.nullcount=n.length-t),i}function l(e){const{values:n,useSampleStdDev:t,supportsNullCount:i}=e;let r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,a=null,o=null,u=null,s=null,c=0;const f=null==e.minValue?-1/0:e.minValue,d=null==e.maxValue?1/0:e.maxValue;for(const p of n)Number.isFinite(p)?p>=f&&p<=d&&(a+=p,r=Math.min(r,p),l=Math.max(l,p),c++):"string"==typeof p&&c++;if(c&&null!=a){o=a/c;let e=0;for(const t of n)Number.isFinite(t)&&t>=f&&t<=d&&(e+=(t-o)**2);s=t?c>1?e/(c-1):0:c>0?e/c:0,u=Math.sqrt(s)}else r=null,l=null;const m={avg:o,count:c,max:l,min:r,stddev:u,sum:a,variance:s};return i&&(m.nullcount=n.length-c),m}function a(e,n){return n?(["avg","stddev","variance"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))})),e):e}function o(e,n,t,i){let r=null;switch(n){case"log":0!==e&&(r=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&0!==i&&(r=e/i*100);break;case"field":Number.isFinite(t)&&0!==t&&(r=e/t);break;case"natural-log":e>0&&(r=Math.log(e));break;case"square-root":e>0&&(r=e**.5)}return r}}}]);
//# sourceMappingURL=212.5091a812.chunk.js.map