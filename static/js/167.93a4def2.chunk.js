(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[167,275],{1172:function(e,t,r){},1328:function(e,t,r){"use strict";r.r(t),r.d(t,"Layers",(function(){return s}));var l=r(1),n=r(1184);const i=e=>{const t=e.item;if("group"!=t.layer.type&&void 0!=t.layer.type){const e=document.createElement("calcite-slider");e.setAttribute("min","0"),e.setAttribute("max","100"),e.setAttribute("step","1"),e.setAttribute("snap",""),e.setAttribute("min-label","0%"),e.setAttribute("max-label","100%"),e.setAttribute("label-handles",""),e.setAttribute("value",Math.round(100*(null===t||void 0===t?void 0:t.layer.opacity)).toString()),e.setAttribute("data",t.layer.id),e.addEventListener("calciteSliderUpdate",(e=>{var r;t.layer.opacity=Math.round(parseInt(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.getAttribute("value")))/100}),{passive:!0}),t.panel={content:[e,"legend"],open:t.layer.visible},t.layer.watch("visible",(e=>{t.panel.open=e,e&&(t.layer.parent&&"group"===t.layer.parent.type&&(t.layer.parent.visible=!0),t.layer.parent.parent&&"group"===t.layer.parent.parent.type&&(t.layer.parent.parent.visible=!0))}))}},a=(e,t)=>{e||(e=""),t.operationalItems.forEach((t=>{if("group"===t.layer.type){let y=!1;var r,l,n,i;if(t.layer.layers.forEach((t=>{t.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",y=!0):t.listMode="hide","group"===t.type&&t.layers.forEach((r=>{r.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",r.listMode="show",y=!0):r.listMode="hide"}))})),e.length)if(y){var a,o,s,u;t.open=!0,null===(a=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===a||null===(o=a.parentElement)||void 0===o||null===(s=o.parentElement)||void 0===s||null===(u=s.parentElement)||void 0===u||u.removeAttribute("hidden")}else{var c,d,p,v;t.open=!1,null===(c=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===c||null===(d=c.parentElement)||void 0===d||null===(p=d.parentElement)||void 0===p||null===(v=p.parentElement)||void 0===v||v.setAttribute("hidden","")}else t.open=!1,null===(r=document.querySelector(`#layerListDiv_${t.uid}__title`))||void 0===r||null===(l=r.parentElement)||void 0===l||null===(n=l.parentElement)||void 0===n||null===(i=n.parentElement)||void 0===i||i.removeAttribute("hidden")}}))};r(1172);var o=r(0);const s=e=>{const t=Object(l.useRef)(null),r=Object(l.useRef)(null),s=Object(l.useRef)();return Object(l.useEffect)((()=>{console.log(e.active)}),[e.active]),Object(l.useEffect)((()=>{var l;const o=new n.a({container:t.current,view:e.view,listItemCreatedFunction:i,visibleElements:{statusIndicators:!0}});return s.current=o,null===(l=r.current)||void 0===l||l.addEventListener("calciteInputInput",(e=>{a(e.target.value,o)})),()=>{var e;null===(e=r.current)||void 0===e||e.removeEventListener("calciteInputInput",(e=>{a(e.target.value,o)})),o&&o.destroy()}}),[e.view]),Object(o.jsxs)("div",{className:"panel",children:[Object(o.jsxs)("div",{className:"row sticky",children:[Object(o.jsx)("calcite-input",{ref:r,clearable:!0,placeholder:"Filter by layer name",scale:"m",id:"layerSearch"}),Object(o.jsx)("calcite-action",{icon:"viewHide",scale:"m",onClick:()=>{(e=>{null===e||void 0===e||e.operationalItems.forEach((e=>{e.visible="Property"===e.title}))})(s.current)}})]}),Object(o.jsx)("div",{ref:t})]})};t.default=s},523:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=523}}]);
//# sourceMappingURL=167.93a4def2.chunk.js.map