"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[9951],{71277:(e,t,n)=>{function o(e){return e=e||globalThis.location.hostname,m.some((t=>null!=e?.match(t)))}function r(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(a)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(l)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,{XO:()=>o,pJ:()=>r});const s=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,a=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,m=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,l,/^jsapps.esri.com$/,a,i]},192:(e,t,n)=>{n.d(t,{cW:()=>c,im:()=>b,vX:()=>u});var o=n(51508),r=n(10064),s=n(92026),l=n(67140),a=n(23707),i=n(80045);const m=["building-scene","integrated-mesh","point-cloud","scene"];function c(e,t,n,o){const r=f(e,{},{context:o,isLabelSymbol:!1});(0,s.pC)(r)&&(t[n]=r)}function u(e,t,n,o){const r=f(e,{},{context:o,isLabelSymbol:!0});(0,s.pC)(r)&&(t[n]=r)}function y(e){return e instanceof l.Z||e instanceof i.Z}function f(e,t,n){if((0,s.Wi)(e))return null;const{context:o,isLabelSymbol:l}=n,i=o?.origin,c=o?.messages;if("web-scene"===i&&!y(e)){const n=(0,a.q)(e,{retainCIM:!0,hasLabelingContext:l});return(0,s.pC)(n.symbol)?n.symbol.write(t,o):(c?.push(new r.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:o,error:n.error})),null)}return("web-map"===i||"portal-item"===i&&!m.includes(o?.layer?.type))&&y(e)?(c?.push(new r.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:o})),null):e.write(t,o)}function b(e,t){return(0,o.S9)(e,null,t)}},86423:(e,t,n)=>{n.d(t,{wm:()=>w,n2:()=>f,KV:()=>b,EJ:()=>d,v9:()=>p});var o=n(76200),r=n(10064),s=n(92026),l=n(66978),a=n(35995),i=n(70032),m=n(65694),c=n(93169);const u={};function y(e,t,n){const o=(0,s.pC)(t.portal)?t.portal:i.Z.getDefault();let l;const a=`${o.url} - ${o.user&&o.user.username} - ${e}`;return u[a]||(u[a]=function(e,t,n){return t.load(n).then((()=>{const o=new m.Z({disableExtraQuery:!0,query:`owner:${h} AND type:${g} AND typekeywords:"${e}"`});return t.queryItems(o,n)})).then((t=>{let{results:o}=t,s=null;const l=e.toLowerCase();if(o&&Array.isArray(o))for(const e of o)if(e.typeKeywords.some((e=>e.toLowerCase()===l))&&e.type===g&&e.owner===h){s=e;break}if(!s)throw new r.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(n)}))}(e,o,n).then((e=>(l=e,e.fetchData()))).then((t=>({data:t,baseUrl:l.itemUrl,styleName:e})))),u[a]}function f(e,t,n){return e.styleUrl?async function(e,n){try{return{data:(await d(e,n)).data,baseUrl:(0,a.Yd)(e),styleUrl:e}}catch(t){return(0,l.r9)(t),null}}(e.styleUrl,n):e.styleName?y(e.styleName,t,n):Promise.reject(new r.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function p(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,c.Z)("enable-feature:force-wosr"))for(const n of e.formatInfos)if("gltf"===n.type)return n.href;return e.webRef}function d(e,t){const n={responseType:"json",query:{f:"json"},...t};return(0,o.default)((0,a.Fv)(e),n)}const h="esri_en",g="Style",w="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},23707:(e,t,n)=>{n.d(t,{q:()=>d});var o=n(51508),r=n(10064),s=n(80045),l=n(62554),a=n(16851),i=n(31655),m=n(16072),c=n(91946),u=n(61459),y=n(1030),f=n(58009),b=n(24931);const p={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;if(!e)return{symbol:null};const{retainId:n=p.retainId,ignoreDrivers:d=p.ignoreDrivers,hasLabelingContext:h=p.hasLabelingContext,retainCIM:g=p.retainCIM}=t;let w;if((0,o.dU)(e)||e instanceof s.Z)w=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return{error:new r.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};w=g?e.clone():l.Z.fromCIMSymbol(e)}else if(e instanceof a.Z)w=i.Z.fromSimpleLineSymbol(e);else if(e instanceof m.Z)w=l.Z.fromSimpleMarkerSymbol(e);else if(e instanceof c.Z)w=l.Z.fromPictureMarkerSymbol(e);else if(e instanceof u.Z)w=y.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof f.Z))return{error:new r.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};w=h?b.Z.fromTextSymbol(e):l.Z.fromTextSymbol(e)}if(n&&"cim"!==w.type&&(w.id=e.id),d&&(0,o.dU)(w))for(let o=0;o<w.symbolLayers.length;++o)w.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:w}}},19951:(e,t,n)=>{n.r(t),n.d(t,{fetchSymbolFromStyle:()=>p,resolveWebStyleSymbol:()=>b});var o=n(51508),r=n(71277),s=n(10064),l=n(92026),a=n(35995),i=n(70032),m=n(53283),c=n(192),u=n(1472),y=n(86423),f=n(81854);function b(e,t,n,o){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){const o=y.wm.replace(/\{SymbolName\}/gi,e.name),r=(0,l.pC)(t.portal)?t.portal:i.Z.getDefault();return(0,y.EJ)(o,n).then((e=>{const t=(0,y.KV)(e.data);return(0,c.im)(t,{portal:r,url:(0,a.mN)((0,a.Yd)(o)),origin:"portal-item"})}))}(e,t,o):(0,y.n2)(e,t,o).then((r=>p(r,e.name,t,n,o))):Promise.reject(new s.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function p(e,t,n,b,p){const d=e.data,h=n&&(0,l.pC)(n.portal)?n.portal:i.Z.getDefault(),g={portal:h,url:(0,a.mN)(e.baseUrl),origin:"portal-item"},w=d.items.find((e=>e.name===t));if(!w){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new s.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let S=(0,m.f)((0,y.v9)(w,b),g),Z=w.thumbnail&&w.thumbnail.href;const C=w.thumbnail&&w.thumbnail.imageData;(0,r.XO)()&&(S=(0,r.pJ)(S),Z=(0,r.pJ)(Z));const v={portal:h,url:(0,a.mN)((0,a.Yd)(S)),origin:"portal-item"};return(0,y.EJ)(S,p).then((r=>{const s="cimRef"===b?(0,y.KV)(r.data):r.data,l=(0,c.im)(s,v);if(l&&(0,o.dU)(l)){if(Z){const e=(0,m.f)(Z,g);l.thumbnail=new f.p({url:e})}else C&&(l.thumbnail=new f.p({url:`data:image/png;base64,${C}`}));e.styleUrl?l.styleOrigin=new u.Z({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(l.styleOrigin=new u.Z({portal:n.portal,styleName:e.styleName,name:t}))}return l}))}}}]);
//# sourceMappingURL=9951.4af04fa7.chunk.js.map