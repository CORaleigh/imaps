(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[149],{122:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var a,r=i(79),s=i(97),n=i(179),o=i(111),l=i(86),c=i(89),u=i(85),b=i(251),p=i(81),d=(i(83),i(80)),f=i(98);let h=a=class extends l.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(b.a)(),configurable:!0})}normalizeCtorArgs(e,t,i,a){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:a}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&Object(u.l)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(u.l)(this.geometry)?this.geometry.toJSON():null,symbol:Object(u.l)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new a(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:Object(c.a)(this.attributes),geometry:Object(c.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(c.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,i,a){if(!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:i};"attributes"===e&&(r.attributeName=a),this.layer.graphicChanged(r)}};Object(r.a)([Object(p.b)({value:null})],h.prototype,"attributes",null),Object(r.a)([Object(p.b)({value:null,types:s.a,json:{read:f.a}})],h.prototype,"geometry",null),Object(r.a)([Object(p.b)({type:Boolean})],h.prototype,"isAggregate",void 0),Object(r.a)([Object(p.b)()],h.prototype,"layer",void 0),Object(r.a)([Object(p.b)({type:n.a})],h.prototype,"popupTemplate",void 0),Object(r.a)([Object(p.b)()],h.prototype,"sourceLayer",void 0),Object(r.a)([Object(p.b)({value:null,types:o.e})],h.prototype,"symbol",null),Object(r.a)([Object(p.b)({type:Boolean,value:!0})],h.prototype,"visible",null),h=a=Object(r.a)([Object(d.a)("esri.Graphic")],h),(h||(h={})).generateUID=b.a;const m=h},187:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a,r=i(79),s=i(99),n=i(178),o=i(81),l=(i(84),i(82),i(83),i(80));let c=a=class extends(Object(n.a)(s.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new a({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(r.a)([Object(o.b)()],c.prototype,"active",void 0),Object(r.a)([Object(o.b)()],c.prototype,"className",void 0),Object(r.a)([Object(o.b)()],c.prototype,"disabled",void 0),Object(r.a)([Object(o.b)()],c.prototype,"id",void 0),Object(r.a)([Object(o.b)()],c.prototype,"indicator",void 0),Object(r.a)([Object(o.b)()],c.prototype,"title",void 0),Object(r.a)([Object(o.b)()],c.prototype,"type",void 0),Object(r.a)([Object(o.b)()],c.prototype,"visible",void 0),c=a=Object(r.a)([Object(l.a)("esri.support.actions.ActionBase")],c);const u=c},206:function(e,t,i){"use strict";function a(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function r(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function n(e,t){const i=t||s(e),a=e.valueUnit||"unknown";return"unknown"===i?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===a?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r}))},211:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));i(82);function a(e){}function r(e){return()=>e}},227:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=i(114),r=i(138);const s={inches:Object(a.b)(1,"meters","inches"),feet:Object(a.b)(1,"meters","feet"),"us-feet":Object(a.b)(1,"meters","us-feet"),yards:Object(a.b)(1,"meters","yards"),miles:Object(a.b)(1,"meters","miles"),"nautical-miles":Object(a.b)(1,"meters","nautical-miles"),millimeters:Object(a.b)(1,"meters","millimeters"),centimeters:Object(a.b)(1,"meters","centimeters"),decimeters:Object(a.b)(1,"meters","decimeters"),meters:Object(a.b)(1,"meters","meters"),kilometers:Object(a.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(a.k)(1,"meters",r.a.radius)}},243:function(e,t,i){"use strict";i.r(t),i.d(t,"getAllSizes",(function(){return w})),i.d(t,"getColor",(function(){return f})),i.d(t,"getOpacity",(function(){return h})),i.d(t,"getRotationAngle",(function(){return m})),i.d(t,"getSize",(function(){return v})),i.d(t,"getSizeForValue",(function(){return j})),i.d(t,"getSizeFromNumberOrVariable",(function(){return y})),i.d(t,"getSizeRangeAtScale",(function(){return g})),i.d(t,"getVisualVariableValues",(function(){return V})),i.d(t,"viewScaleRE",(function(){return d}));var a=i(103),r=i(122),s=i(211),n=i(87),o=i(85),l=i(227),c=i(206);const u=n.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),b=new r.a,p=Math.PI,d=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof t,n=s?null:t,l=n&&n.attributes;let c=s?t:null;const b=r.field,{ipData:p,hasExpression:d}=r.cache;let f=r.cache.compiledFunc;if(!b&&!d){const e=r.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(d){if(!Object(o.l)(i)||!Object(o.l)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),s=t.createExecContext(n,a);if(!f){const e=t.createSyntaxTree(r.valueExpression);f=t.createFunction(e),r.cache.compiledFunc=f}c=t.executeFunction(f,s)}else l&&(c=l[b]);const h=r.normalizationField,m=l?parseFloat(l[h]):void 0;if(null!=c&&(!h||s||!isNaN(m)&&0!==m)){isNaN(m)||s||(c/=m);const e=x(c,p);if(e){const t=e[0],s=e[1],n=t===s?r.stops[t].color:a.a.blendColors(r.stops[t].color,r.stops[s].color,e[2],Object(o.l)(i)?i.color:void 0);return new a.a(n)}}}function h(e,t,i){const a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!a)return;if("esri.renderers.visualVariables.OpacityVariable"!==a.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r="number"==typeof t,s=r?null:t,n=s&&s.attributes;let l=r?t:null;const c=a.field,{ipData:b,hasExpression:p}=a.cache;let d=a.cache.compiledFunc;if(!c&&!p){const e=a.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if(Object(o.k)(i)||Object(o.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,r=t.getViewInfo(e),n=t.createExecContext(s,r);if(!d){const e=t.createSyntaxTree(a.valueExpression);d=t.createFunction(e),a.cache.compiledFunc=d}l=t.executeFunction(d,n)}else n&&(l=n[c]);const f=a.normalizationField,h=n?parseFloat(n[f]):void 0;if(null!=l&&(!f||r||!isNaN(h)&&0!==h)){isNaN(h)||r||(l/=h);const e=x(l,b);if(e){const t=e[0],i=e[1];if(t===i)return a.stops[t].opacity;{const r=a.stops[t].opacity;return r+(a.stops[i].opacity-r)*e[2]}}}}function m(e,t,i){const a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!a)return;if("esri.renderers.visualVariables.RotationVariable"!==a.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=a.axis||"heading",s="heading"===r&&"arithmetic"===a.rotationType?90:0,n="heading"===r&&"arithmetic"===a.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,b=a.field,{hasExpression:p}=a.cache;let d=a.cache.compiledFunc,f=0;if(!b&&!p)return f;if(p){if(Object(o.k)(i)||Object(o.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,r=t.getViewInfo(e),s=t.createExecContext(l,r);if(!d){const e=t.createSyntaxTree(a.valueExpression);d=t.createFunction(e),a.cache.compiledFunc=d}f=t.executeFunction(d,s)}else c&&(f=c[b]||0);return f="number"!=typeof f||isNaN(f)?null:s+n*f,f}function v(e,t,i){const a="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!a)return;if("esri.renderers.visualVariables.SizeVariable"!==a.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=j(function(e,t,i){const a="number"==typeof t,r=a?null:t,s=r&&r.attributes;let n=a?t:null;const{isScaleDriven:l}=e.cache;let b=e.cache.compiledFunc;if(l){const t=Object(o.l)(i)?i.scale:void 0,a=Object(o.l)(i)?i.view:void 0;n=null==t||"3d"===a?function(e){let t=null,i=null;const a=e.stops;return a?(t=a[0].value,i=a[a.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):t}else if(!a)switch(e.inputValueType){case"expression":{if(Object(o.k)(i)||Object(o.k)(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,s=a.getViewInfo(t),l=a.createExecContext(r,s);if(!b){const t=a.createSyntaxTree(e.valueExpression);b=a.createFunction(t),e.cache.compiledFunc=b}n=a.executeFunction(b,l);break}case"field":s&&(n=s[e.field]);break;case"unknown":n=null}if(!Object(c.d)(n))return null;if(a||!e.normalizationField)return n;const p=s?parseFloat(s[e.normalizationField]):null;return Object(c.d)(p)&&0!==p?n/p:null}(a,t,i),a,t,i,a.cache.ipData);return null==r||isNaN(r)?0:r}function y(e,t,i){return null==e?null:Object(c.c)(e)?v(e,t,i):Object(c.d)(e)?e:null}function O(e,t,i){return Object(c.d)(i)&&e>i?i:Object(c.d)(t)&&e<t?t:e}function j(e,t,i,a,r){switch(t.transformationType){case"additive":return function(e,t,i,a){return e+(y(t.minSize,i,a)||t.minDataValue)}(e,t,i,a);case"constant":return function(e,t,i){const a=e.stops;let r=a&&a.length&&a[0].size;return null==r&&(r=e.minSize),y(r,t,i)}(t,i,a);case"clamped-linear":return function(e,t,i,a){const r=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=y(t.minSize,i,a),n=y(t.maxSize,i,a),l=Object(o.l)(a)?a.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return n;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?p*(s/2)**2:s*s,i=t+r*((e?p*(n/2)**2:n*n)-t);return e?2*Math.sqrt(i/p):Math.sqrt(i)}return s+r*(n-s)}(e,t,i,a);case"proportional":return function(e,t,i,a){const r=Object(o.l)(a)?a.shape:void 0,s=e/t.minDataValue,n=y(t.minSize,i,a),l=y(t.maxSize,i,a);let c=null;return c="circle"===r?2*Math.sqrt(s*(n/2)**2):"square"===r||"diamond"===r||"image"===r?Math.sqrt(s*n**2):s*n,O(c,n,l)}(e,t,i,a);case"stops":return function(e,t,i,a,r){const[s,n,o]=x(e,r);if(s===n)return y(t.stops[s].size,i,a);{const e=y(t.stops[s].size,i,a);return e+(y(t.stops[n].size,i,a)-e)*o}}(e,t,i,a,r);case"real-world-size":return function(e,t,i,a){const r=(Object(o.l)(a)&&a.resolution?a.resolution:1)*l.a[t.valueUnit],s=y(t.minSize,i,a),n=y(t.maxSize,i,a),{valueRepresentation:c}=t;let u=null;return u="area"===c?2*Math.sqrt(e/p)/r:"radius"===c||"distance"===c?2*e/r:e/r,O(u,s,n)}(e,t,i,a);case"identity":return e;case"unknown":return null}}function g(e,t,i){const{isScaleDriven:a}=e.cache;if(!(a&&"3d"===i||t))return null;const r={scale:t,view:i};let s=y(e.minSize,b,r),n=y(e.maxSize,b,r);if(null!=s||null!=n){if(s>n){const e=n;n=s,s=e}return{minSize:s,maxSize:n}}}function V(e,t,i){if(!e.visualVariables)return;const a=[],r=[],s=[],n=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":r.push(l);break;case"opacity":s.push(l);break;case"rotation":o.push(l);break;case"size":n.push(l)}return r.forEach((e=>{const r=f(e,t,i);a.push({variable:e,value:r})})),s.forEach((e=>{const r=h(e,t,i);a.push({variable:e,value:r})})),o.forEach((e=>{const r=m(e,t,i);a.push({variable:e,value:r})})),n.forEach((e=>{const r=v(e,t,i);a.push({variable:e,value:r})})),a.filter((e=>null!=e.value))}function x(e,t){if(!t)return;let i=0,a=t.length-1;return t.some(((t,r)=>e<t?(a=r,!0):(i=r,!1))),[i,a,(e-t[i])/(t[a]-t[i])]}function w(e,t,i){const a=["proportional","proportional","proportional"];for(const r of e){const e=r.useSymbolValue?"symbol-value":v(r,t,i);switch(r.axis){case"width":a[0]=e;break;case"depth":a[1]=e;break;case"height":a[2]=e;break;case"width-and-depth":a[0]=e,a[1]=e;break;case"all":case void 0:case null:a[0]=e,a[1]=e,a[2]=e;break;default:Object(s.a)(r.axis)}}return a}},340:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a,r=i(79),s=i(81),n=(i(84),i(82),i(83),i(80)),o=i(187);let l=a=class extends o.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new a({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(r.a)([Object(s.b)()],l.prototype,"image",void 0),l=a=Object(r.a)([Object(n.a)("esri.support.Action.ActionButton")],l);const c=l},371:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a,r=i(79),s=i(81),n=(i(84),i(82),i(83),i(80)),o=i(187);let l=a=class extends o.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new a({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(r.a)([Object(s.b)()],l.prototype,"image",void 0),Object(r.a)([Object(s.b)()],l.prototype,"value",void 0),l=a=Object(r.a)([Object(n.a)("esri.support.Action.ActionToggle")],l);const c=l}}]);
//# sourceMappingURL=149.75fa3e62.chunk.js.map