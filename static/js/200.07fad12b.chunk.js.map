{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/fieldUtils.js","../node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js","../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js"],"names":["u","f","c","e","n","i","Array","isArray","d","visualVariables","l","t","o","get","r","name","m","fields","length","startField","endField","startTimeField","endTimeField","y","Set","p","clear","g","from","sort","includes","add","F","I","map","async","T","arcadeUtils","s","extractFieldNames","x","WhereClause","create","isStandardized","fieldNames","h","displayField","w","toLowerCase","indexOf","S","valueType","A","collectRequiredFields","fieldsIndex","E","type","Promise","all","outStatistic","onStatisticValueExpression","onStatisticField","N","V","timeInfo","timeExtent","floorInfo","floorField","where","D","editFieldsInfo","creatorField","creationDateField","editorField","editDateField","$","geometryFieldsInfo","shapeAreaField","shapeLengthField","L","labelingInfo","getLabelExpression","expression","match","forEach","slice","U","j","defaultValue","M","nullable","z","isNaN","isFinite","k","P","Number","isInteger","Math","floor","R","C","G","q","arguments","W","Y","J","has","X","B","K","Q","Z","ee","te","min","max","ne","OUT_OF_RANGE","domain","INVALID_TYPE","ie","le","oe","ae","se","MAX_VALUE","ue","a","INVALID_CODED_VALUE","JSON","stringify","VALUE_OUT_OF_RANGE","fe","attributes","ce","attribute","featuresJSON","normalizationType","normalizationField","minValue","maxValue","fieldType","field","valueExpression","normalizationTotal","viewInfoParams","v","values","supportsNullCount","useSampleStdDev","createFunction","getViewInfo","viewingMode","scale","spatialReference","createExecContext","executeFunction","parseFloat","push","sqlExpression","supportsSQLExpression","filter","count","nullcount","POSITIVE_INFINITY","NEGATIVE_INFINITY","sqrt","avg","stddev","sum","variance","ceil","log","LOG10E"],"mappings":"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","file":"static/js/200.07fad12b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isNone as n,isSome as i}from\"../../core/maybe.js\";import{getDeepValue as t,setDeepValue as r}from\"../../core/object.js\";import{validateDomainValue as l,getDomainRange as o,DomainValidationError as a}from\"./domains.js\";import{loadArcade as s}from\"../../support/arcadeOnDemand.js\";const u=[\"field\",\"field2\",\"field3\",\"normalizationField\",\"rotationInfo.field\",\"proportionalSymbolInfo.field\",\"proportionalSymbolInfo.normalizationField\",\"colorInfo.field\",\"colorInfo.normalizationField\"],f=[\"field\",\"normalizationField\"];function c(e,n){if(null!=e&&null!=n)for(const i of Array.isArray(e)?e:[e])if(d(u,i,n),\"visualVariables\"in i&&i.visualVariables)for(const e of i.visualVariables)d(f,e,n)}function d(e,n,i){if(e)for(const l of e){const e=t(l,n),o=e&&\"function\"!=typeof e&&i.get(e);o&&r(l,o.name,n)}}function m(e,n){if(null!=e&&null!=n&&n.fields.length)if(\"startField\"in e){const i=n.get(e.startField),t=n.get(e.endField);e.startField=i&&i.name||null,e.endField=t&&t.name||null}else{const i=n.get(e.startTimeField),t=n.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=t&&t.name||null}}const y=new Set;function p(e,n){return e&&n?(y.clear(),g(y,e,n),Array.from(y).sort()):[]}function g(e,n,i){var t;if(i)if(null!=n&&null!=(t=n.fields)&&t.length)if(i.includes(\"*\"))for(const{name:r}of n.fields)e.add(r);else for(const r of i)F(e,n,r);else{if(i.includes(\"*\"))return e.clear(),void e.add(\"*\");for(const n of i)e.add(n)}}function F(e,n,i){if(\"string\"==typeof i)if(n){const t=n.get(i);t&&e.add(t.name)}else e.add(i)}function I(e,i){return n(i)||n(e)?[]:i.includes(\"*\")?e.fields.map((e=>e.name)):i}function b(e,n,i=1){if(!n||!e)return[];if(n.includes(\"*\"))return[\"*\"];const t=p(e,n);return t.length/e.fields.length>=i?[\"*\"]:t}async function T(e,n,i){if(!i)return;const{arcadeUtils:t}=await s(),r=t.extractFieldNames(i);for(const l of r)F(e,n,l)}async function x(n,i,t){if(t&&\"1=1\"!==t){const r=(await import(\"../../core/sql/WhereClause.js\")).WhereClause.create(t,i);if(!r.isStandardized)throw new e(\"fieldUtils:collectFilterFields\",\"Where clause is not standardized\");g(n,i,r.fieldNames)}}function h({displayField:e,fields:n}){return e||(n&&n.length?w(n,\"name-or-title\")||w(n,\"unique-identifier\")||w(n,\"type-or-category\")||S(n):null)}function S(e){for(const n of e){if(!n||!n.name)continue;const e=n.name.toLowerCase();if(e.indexOf(\"name\")>-1||e.indexOf(\"title\")>-1)return n.name}return null}function w(e,n){for(const i of e)if(i&&i.valueType&&i.valueType===n)return i.name;return null}async function v(e){if(!e)return[];const n=new Set;return await A(n,e),Array.from(n).sort()}async function A(e,n){if(!n)return;const i=t(\"elevationInfo.featureExpressionInfo\",n);return i?i.collectRequiredFields(e,n.fieldsIndex):void 0}async function N(e,n,i){i.outStatistic.onStatisticValueExpression?T(e,n,i.outStatistic.onStatisticValueExpression):e.add(i.outStatistic.onStatisticField)}async function E(e,n,i){n&&i&&\"cluster\"===i.type&&i.fields&&await Promise.all(i.fields.map((i=>N(e,n.fieldsIndex,i))))}async function V(e,n,t){n&&(n.timeInfo&&i(t)&&t.timeExtent&&g(e,n.fieldsIndex,[n.timeInfo.startField,n.timeInfo.endField]),n.floorInfo&&g(e,n.fieldsIndex,[n.floorInfo.floorField]),i(t)&&i(t.where)&&await x(e,n.fieldsIndex,t.where))}async function _(e){if(!e)return[];const n=\"timeInfo\"in e&&e.timeInfo;return n?p(e.fieldsIndex,[e.trackIdField,n.startField,n.endField]):[]}function D(e){if(!e)return[];const n=\"editFieldsInfo\"in e&&e.editFieldsInfo;return n?p(e.fieldsIndex,[n&&n.creatorField,n&&n.creationDateField,n&&n.editorField,n&&n.editDateField]):[]}function $(e){if(!e)return[];const n=e.geometryFieldsInfo;return n?p(e.fieldsIndex,[n.shapeAreaField,n.shapeLengthField]):[]}async function O(e){if(!e)return[];const n=new Set;return await L(n,e),Array.from(n).sort()}async function L(e,n){const{labelingInfo:i,fieldsIndex:t}=n;i&&i.length&&await Promise.all(i.map((n=>U(e,t,n))))}async function U(e,n,i){if(!i)return;const t=i.getLabelExpression(),r=i.where;if(\"arcade\"===t.type)await T(e,n,t.expression);else{const i=t.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{F(e,n,i.slice(1,-1))}))}await x(e,n,r)}function j(e){const n=e.defaultValue;return void 0!==n&&M(e,n)?n:e.nullable?null:void 0}function z(e){return\"number\"==typeof e&&!isNaN(e)&&isFinite(e)}function k(e){return null===e||z(e)}const P=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;function R(e){return null===e||P(e)}function C(e){return null!=e&&\"string\"==typeof e}function G(e){return null===e||C(e)}function q(){return!0}function M(e,n){let i;switch(e.type){case\"date\":case\"integer\":case\"long\":case\"small-integer\":case\"esriFieldTypeDate\":case\"esriFieldTypeInteger\":case\"esriFieldTypeLong\":case\"esriFieldTypeSmallInteger\":i=e.nullable?R:P;break;case\"double\":case\"single\":case\"esriFieldTypeSingle\":case\"esriFieldTypeDouble\":i=e.nullable?k:z;break;case\"string\":case\"esriFieldTypeString\":i=e.nullable?G:C;break;default:i=q}return 1===arguments.length?i:i(n)}const W=[\"integer\",\"small-integer\",\"single\",\"double\"],Y=new Set([...W,\"esriFieldTypeInteger\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\"]);function J(e){return null!=e&&Y.has(e.type)}function X(e){return null!=e&&(\"string\"===e.type||\"esriFieldTypeString\"===e.type)}function B(e){return null!=e&&(\"date\"===e.type||\"esriFieldTypeDate\"===e.type)}function H(e,n){return null===ee(e,n)}var K,Q;function Z(e){return null==e||\"number\"==typeof e&&isNaN(e)?null:e}function ee(e,n){return e.nullable&&null===n?null:J(e)&&!ne(e.type,Number(n))?K.OUT_OF_RANGE:M(e,n)?e.domain?l(e.domain,n):null:Q.INVALID_TYPE}function ne(e,n){const i=\"string\"==typeof e?te(e):e;return!!i&&(i.isInteger?P(n)&&n>=i.min&&n<=i.max:n>=i.min&&n<=i.max)}function ie(e){const n=o(e.domain);return n||(J(e)?te(e.type):void 0)}function te(e){switch(e){case\"esriFieldTypeSmallInteger\":case\"small-integer\":return le;case\"esriFieldTypeInteger\":case\"integer\":return oe;case\"esriFieldTypeSingle\":case\"single\":return ae;case\"esriFieldTypeDouble\":case\"double\":return se}}function re(e){if(!z(e))return null;if(P(e)){if(e>=le.min&&e<=le.max)return\"esriFieldTypeSmallInteger\";if(e>=oe.min&&e<=oe.max)return\"esriFieldTypeInteger\"}return e>=ae.min&&e<=ae.max?\"esriFieldTypeSingle\":\"esriFieldTypeDouble\"}!function(e){e.OUT_OF_RANGE=\"numeric-range-validation-error::out-of-range\"}(K||(K={})),function(e){e.INVALID_TYPE=\"type-validation-error::invalid-type\"}(Q||(Q={}));const le={min:-32768,max:32767,isInteger:!0},oe={min:-2147483648,max:2147483647,isInteger:!0},ae={min:-34e37,max:12e37,isInteger:!1},se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ue(e,n,i){switch(e){case a.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case a.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case Q.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${n.name}, type: ${n.type}, nullable: ${n.nullable}`;case K.OUT_OF_RANGE:{const{min:e,max:t}=te(n.type);return`Value ${i} is out of range for the number type - field: ${n.name}, type: ${n.type}, value range is ${e} to ${t}`}}}function fe(e,n){return!ce(e,n,null)}function ce(e,n,t){if(!n||!n.attributes||!e){if(i(t))for(const n of e)t.add(n);return!0}const r=n.attributes;let l=!1;for(const o of e)if(!(o in r)){if(l=!0,!i(t))break;t.add(o)}return l}async function de(e,n){const i=new Set;for(const t of n)await T(i,e.fieldsIndex,t);return Array.from(i).sort()}export{K as NumericRangeValidationError,Q as TypeValidationError,T as collectArcadeFieldNames,A as collectElevationFields,E as collectFeatureReductionFields,F as collectField,g as collectFields,V as collectFilterFields,L as collectLabelingFields,se as doubleRange,fe as featureHasFields,p as fixFields,c as fixRendererFields,m as fixTimeInfoFields,h as getDisplayFieldName,v as getElevationFields,de as getExpressionFields,D as getFeatureEditFields,$ as getFeatureGeometryFields,j as getFieldDefaultValue,ie as getFieldRange,O as getLabelingFields,re as getNumericTypeForValue,_ as getTimeFields,oe as integerRange,B as isDateField,ne as isNumberInRange,J as isNumericField,X as isStringField,H as isValidFieldValue,M as isValueMatchingFieldType,W as numericTypes,b as packFields,ce as populateMissingFields,u as rendererFields,Z as sanitizeNullFieldValue,ae as singleRange,le as smallIntegerRange,I as unpackFieldNames,ee as validateFieldValue,ue as validationErrorToString,f as visualVariableFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isFinite as e}from\"../../../core/mathUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import{isNullCountSupported as i,calculateStringStatistics as t,calculateStatistics as n,processStatsResult as o,getNormalizedValue as l}from\"./utils.js\";import{loadArcade as r}from\"../../../support/arcadeOnDemand.js\";let s=null;async function u(e){const{attribute:a,featuresJSON:l}=e,{normalizationType:r,normalizationField:s,minValue:u,maxValue:c,fieldType:p}=a,f=await m({field:a.field,valueExpression:a.valueExpression,normalizationType:r,normalizationField:s,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams},l),d=i({normalizationType:r,normalizationField:s,minValue:u,maxValue:c}),v=\"string\"===p?t({values:f,supportsNullCount:d}):n({values:f,minValue:u,maxValue:c,useSampleStdDev:!r,supportsNullCount:d});return o(v,\"date\"===p)}async function m(i,t){if(!t)return[];const n=i.field,o=i.valueExpression,u=i.normalizationType,m=i.normalizationField,c=i.normalizationTotal,p=[],f=i.viewInfoParams;let d=null,v=null;if(o){if(!s){const{arcadeUtils:e}=await r();s=e}d=s.createFunction(o),v=f&&s.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new a(f.spatialReference)})}return t.forEach((a=>{const i=a.attributes;let t;if(o){const e=s.createExecContext(a,v);t=s.executeFunction(d,e)}else i&&(t=i[n]);if(u&&e(t)){const e=i&&parseFloat(i[m]);t=l(t,u,e,c)}p.push(t)})),p}export{m as getDataValues,u as summaryStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isNumericField as t,numericTypes as l}from\"../../../layers/support/fieldUtils.js\";function o(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,l=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!l}function i(e){const{values:n,supportsNullCount:t}=e,l=n.filter((e=>null!=e)).length,o={count:l};return t&&(o.nullcount=n.length-l),o}function r(e){const{values:n,useSampleStdDev:t,supportsNullCount:l}=e;let o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=null,u=null,s=null,a=null,c=0;const f=null==e.minValue?-1/0:e.minValue,d=null==e.maxValue?1/0:e.maxValue;for(const p of n)Number.isFinite(p)?p>=f&&p<=d&&(r+=p,o=Math.min(o,p),i=Math.max(i,p),c++):\"string\"==typeof p&&c++;if(c&&null!=r){u=r/c;let e=0;for(const t of n)Number.isFinite(t)&&t>=f&&t<=d&&(e+=(t-u)**2);a=t?c>1?e/(c-1):0:c>0?e/c:0,s=Math.sqrt(a)}else o=null,i=null;const m={avg:u,count:c,max:i,min:o,stddev:s,sum:r,variance:a};return l&&(m.nullcount=n.length-c),m}function u(e,n){return n?([\"avg\",\"stddev\",\"variance\"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))})),e):e}function s(e,n,t,l){let o=null;switch(n){case\"log\":0!==e&&(o=Math.log(e)*Math.LOG10E);break;case\"percent-of-total\":Number.isFinite(l)&&0!==l&&(o=e/l*100);break;case\"field\":Number.isFinite(t)&&0!==t&&(o=e/t);break;case\"natural-log\":e>0&&(o=Math.log(e));break;case\"square-root\":e>0&&(o=e**.5)}return o}function a(e){const n=e.field,t=e.normalizationType,l=e.normalizationField;let o;return\"log\"===t?o=\"(NOT \"+n+\" = 0)\":\"field\"===t?o=\"(NOT \"+l+\" = 0)\":\"natural-log\"!==t&&\"square-root\"!==t||(o=`(${n} > 0)`),o}function c(n,t){return new e(n,t)}function f(e,n,t){const l=null!=n?e+\" >= \"+n:\"\",o=null!=t?e+\" <= \"+t:\"\";let i=\"\";return i=l&&o?p(l,o):l||o,i?\"(\"+i+\")\":\"\"}function d(e,n,t,l){let o=null;return n?n.name!==e.objectIdField&&-1!==l.indexOf(n.type)||(o=c(t,\"'field' should be one of these types: \"+l.join(\",\"))):o=c(t,\"'field' is not defined in the layer schema\"),o}function m(e,n,o){let i;return n?n.name!==e.objectIdField&&t(n)||(i=c(o,\"'field' should be one of these numeric types: \"+l.join(\",\"))):i=c(o,\"'field' is not defined in the layer schema\"),i}function p(e,t){let l=n(e)?e:\"\";return n(t)&&t&&(l=l?\"(\"+l+\") AND (\"+t+\")\":t),l}function h(e,n,t){const l=g({layer:e,fields:n});if(l.length)return c(t,\"Unknown fields: \"+l.join(\", \")+\". You can only use fields defined in the layer schema\");const o=b({layer:e,fields:n});return o.length?c(t,\"Unsupported fields: \"+o.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function g(e){const n=e.layer;return e.fields.filter((e=>!n.getField(e)))}function b(e){const n=e.layer;return e.fields.filter((e=>{const t=n.getFieldUsageInfo(e);return!t||!t.supportsStatistics}))}export{r as calculateStatistics,i as calculateStringStatistics,c as createError,s as getNormalizedValue,f as getRangeExpr,a as getSQLFilterForNormalization,o as isNullCountSupported,p as mergeWhereClauses,u as processStatsResult,h as verifyBasicFieldValidity,d as verifyFieldType,m as verifyNumericField};\n"],"sourceRoot":""}