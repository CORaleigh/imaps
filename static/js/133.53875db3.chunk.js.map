{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/aaBoundingRect.js","../node_modules/@arcgis/core/geometry/support/quantizationUtils.js","../node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js","../node_modules/@arcgis/core/symbols/cim/SDFHelper.js","../node_modules/@arcgis/core/symbols/cim/TextRasterizer.js","../node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js","../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js","../node_modules/@arcgis/core/symbols/cim/Rasterizer.js"],"names":["i","n","K","e","u","t","r","a","xmin","ymin","xmax","ymax","o","spatialReference","c","C","Math","min","max","length","type","x","y","m","f","M","l","g","b","p","j","F","q","A","B","J","originPosition","scale","tolerance","translate","extent","s","round","push","z","Array","T","G","points","I","L","O","rings","S","N","paths","d","zmin","zmax","mmin","mmax","U","E","k","v","P","getLogger","h","markerPlacement","angleToLine","error","symbol","primitiveOverrides","valueExpressionInfo","expression","fields","then","primitiveName","propertyName","value","Promise","all","symbolLayers","getSize","angleAlignment","enable","findApplicableOverrides","X","w","color","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","height","angle","offsetX","offsetY","scaleX","effects","tintColor","url","colorSubstitutions","rotation","filter","indexOf","separation","lineSymbol","W","width","capStyle","joinStyle","miterLimit","isOutline","cap","join","referenceWidth","zOrder","name","isDashed","stepY","gridAngle","size","scaleSymbolsProportionally","alignment","anchorPoint","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","markerGraphics","frame","Y","H","geometry","underline","strikethrough","toLowerCase","style","weight","fontStyleName","font","family","fontFamilyName","decoration","getFillColor","getStrokeColor","getStrokeWidth","haloSymbol","haloSize","R","Number","$","fontName","horizontalAlignment","verticalAlignment","text","textString","textCase","outlineSize","geom","asFill","billboardMode3D","depth3D","respectFrame","clippingPath","getTextureAnchor","parseInt","substr","NaN","toRgba","call","$view","geometryType","fn","buildOverrideKey","parse","applyOverrides","Map","transform","hasZ","hasM","has","set","get","referencesGeometry","repurposeFeature","evaluate","$feature","warn","floor","sqrt","Uint8Array","constructor","rasterizeText","this","_textRasterizationCanvas","document","createElement","getContext","setFontProperties","parameters","textLines","split","lineHeight","computeLineHeight","computeTextWidth","renderedLineHeight","pixelRatio","renderedHaloSize","halo","renderedWidth","renderedHeight","fillStyle","slice","haloStyle","textAlign","renderHalo","globalCompositeOperation","fillText","getImageData","data","premultiplyColors","image","Uint32Array","buffer","sdf","simplePattern","anchorX","anchorY","_haloRasterizationCanvas","clearRect","strokeStyle","lineJoin","renderHaloEmulated","renderHaloNative","globalAlpha","drawImage","lineWidth","strokeText","textBaseline","measureText","cos","PI","sin","Legend","Preview","targetSize","scaleFactor","fill","legend","canvasPaths","preview","stroke","analyzedCIM","hash","_spatialReference","_avoidSDF","_resourceCache","_rasterizer","_textRasterizer","_pictureMarkerCache","rasterizeCIMSymbolAsync","centroid","analyzeCIMSymbol","Object","keys","map","alias","attributes","rasterizeCIMSymbol","fetchPictureMarkerResource","responseType","signal","_getRasterizedResource","rotateClockWise","rasterizedResource","getSymbolImage","createImageData","Uint8ClampedArray","rasterizedImage","_imageDataToCanvas","save","rotate","restore","imageData","anchorPosition","_imageDataCanvas","putImageData","_imageTo32Array","_getPictureResource","_rasterizePictureResource","_embedCIMLayerInVectorMarker","rasterizeJSONResource","_rasterizeTextResource","preserveOutlineWidth","window","devicePixelRatio","abs","createPattern","setTransform","m11","m12","m21","m22","m41","m42","beginPath","moveTo","lineTo","closePath","apply","maxSize","node","opacity","cimOptions","feature","fieldMap","clone","D","ceil","Image","src","toDataURL","appendChild","dispose","_rasterizationCanvas","rasterizeSimpleFill","rasterizeSimpleLine","fromSimpleMarker","fromCIMHatchFill","fromCIMInsidePolygon","rasterize","rasterizeImageResource","ImageData","setAttribute","oldColor","newColor"],"mappings":"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","file":"static/js/133.53875db3.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as n}from\"../../core/maybe.js\";import t from\"../Extent.js\";function r(n){return n}function i(n=K){return r([n[0],n[1],n[2],n[3]])}function e(n){return r([n[0],n[1],n[2],n[3]])}function u(n,t,r,e,u=i()){return u[0]=n,u[1]=t,u[2]=r,u[3]=e,u}function a(n,t=i()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.xmax,t[3]=n.ymax,t}function o(n,r){return new t({xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3],spatialReference:r})}function f(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function c(n,t,r=n){if(\"length\"in t)C(t)?(r[0]=Math.min(n[0],t[0]),r[1]=Math.min(n[1],t[1]),r[2]=Math.max(n[2],t[2]),r[3]=Math.max(n[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(n[0],t[0]),r[1]=Math.min(n[1],t[1]),r[2]=Math.max(n[2],t[0]),r[3]=Math.max(n[3],t[1]));else switch(t.type){case\"extent\":r[0]=Math.min(n[0],t.xmin),r[1]=Math.min(n[1],t.ymin),r[2]=Math.max(n[2],t.xmax),r[3]=Math.max(n[3],t.ymax);break;case\"point\":r[0]=Math.min(n[0],t.x),r[1]=Math.min(n[1],t.y),r[2]=Math.max(n[2],t.x),r[3]=Math.max(n[3],t.y)}return r}function m(n,t,r=n){const i=t.length;let e=n[0],u=n[1],a=n[2],o=n[3];for(let f=0;f<i;f++){const n=t[f];e=Math.min(e,n[0]),u=Math.min(u,n[1]),a=Math.max(a,n[0]),o=Math.max(o,n[1])}return r[0]=e,r[1]=u,r[2]=a,r[3]=o,r}function h(n){for(let t=0;t<4;t++)if(!isFinite(n[t]))return!1;return!0}function x(n){return n[0]>=n[2]?0:n[2]-n[0]}function M(n){return n[1]>=n[3]?0:n[3]-n[1]}function s(n){const t=x(n),r=M(n);return Math.sqrt(t*t+r*r)}function l(n){return x(n)*M(n)}function y(n,t=[0,0]){return t[0]=(n[0]+n[2])/2,t[1]=(n[1]+n[3])/2,t}function g(n,t){return b(n,t[0],t[1])}function p(n,t){return b(n,t.x,t.y)}function b(n,t,r){return t>=n[0]&&r>=n[1]&&t<=n[2]&&r<=n[3]}function j(n,t,r){return t[0]>=n[0]-r&&t[1]>=n[1]-r&&t[0]<=n[2]+r&&t[1]<=n[3]+r}function F(n,t){return Math.max(t[0],n[0])<=Math.min(t[2],n[2])&&Math.max(t[1],n[1])<=Math.min(t[3],n[3])}function q(n,t){return t[0]>=n[0]&&t[2]<=n[2]&&t[1]>=n[1]&&t[3]<=n[3]}function w(n,t,r=n){const i=t[0],e=t[1],u=t[2],a=t[3];return r[0]=H(n[0],i,u),r[1]=H(n[1],e,a),r[2]=H(n[2],i,u),r[3]=H(n[3],e,a),r}function k(n,t){const r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,e=Math.max(Math.abs(t[0]-r)-x(n)/2,0),u=Math.max(Math.abs(t[1]-i)-M(n)/2,0);return Math.sqrt(e*e+u*u)}function E(n,t){t[0]=n[2]-n[0],t[1]=n[3]-n[1]}function R(n,t,r,i=n){return i[0]=n[0]+t,i[1]=n[1]+r,i[2]=n[2]+t,i[3]=n[3]+r,i}function d(n,t,r=n){return r[0]=n[0]-t,r[1]=n[1]-t,r[2]=n[2]+t,r[3]=n[3]+t,r}function v(n,t,r=n){return r[0]=t[0],r[1]=t[1],r!==n&&(r[2]=n[2],r[3]=n[3]),r}function z(n,t,r=n){return r[2]=t[0],r[3]=t[1],r!==n&&(r[0]=n[0],r[1]=n[1]),n}function A(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function B(n){return n?A(n,J):i(J)}function C(n){return 4===n.length}function D(n){return!(0!==x(n)&&isFinite(n[0])||0!==M(n)&&isFinite(n[1]))}function G(t,r,i){if(n(t)||n(r))return t===r;if(!C(t)||!C(r))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],r[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function H(n,t,r){return n<t?t:n>r?r:n}const I=r([-1/0,-1/0,1/0,1/0]),J=r([1/0,1/0,-1/0,-1/0]),K=r([0,0,0,0]),L=r([0,0,1,1]);export{J as NEGATIVE_INFINITY,I as POSITIVE_INFINITY,L as UNIT,K as ZERO,h as allFinite,l as area,y as center,e as clone,q as contains,g as containsPoint,p as containsPointObject,j as containsPointWithMargin,b as containsXY,i as create,s as diameter,k as distance,B as empty,G as equals,c as expand,f as expandPointInPlace,m as expandWithNestedArray,a as fromExtent,u as fromValues,M as height,w as intersection,F as intersects,C as is,D as isPoint,R as offset,d as pad,A as set,z as setMax,v as setMin,E as size,o as toExtent,x as width};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isPoint as n,isPolyline as t,isPolygon as r,isMultipoint as e,isExtent as u}from\"./jsonUtils.js\";function i(n){return n&&\"upperLeft\"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?n(o)?L(i,{},o,!1,!1):t(o)?S(i,{},o,!1,!1):r(o)?O(i,{},o,!1,!1):e(o)?G(i,{},o,!1,!1):u(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}export{c as equals,F as getQuantizedBoundsCoordsArray,V as getQuantizedBoundsCoordsArrayArray,_ as getQuantizedBoundsPaths,Y as getQuantizedBoundsPoints,A as getQuantizedBoundsRings,h as quantizeBounds,w as quantizeExtent,d as quantizeGeometry,G as quantizeMultipoint,N as quantizePaths,L as quantizePoint,I as quantizePoints,O as quantizePolygon,S as quantizePolyline,g as quantizeRings,s as quantizeX,f as quantizeY,m as toQuantizationTransform,M as unquantizeBounds,z as unquantizeCoordsArray,T as unquantizeCoordsArrayArray,j as unquantizeExtent,U as unquantizeMultipoint,P as unquantizePaths,k as unquantizePoint,E as unquantizePoints,q as unquantizePolygon,v as unquantizePolyline,b as unquantizeRings,p as unquantizeX,y as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../core/string.js\";import t from\"../../core/Logger.js\";import{createRendererExpression as i,ArcadeExpression as o}from\"../../support/arcadeOnDemand.js\";import r from\"../../Color.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{fromCIMColor as a,_adjustTextCase as l}from\"./utils.js\";import s from\"../../views/2d/arcade/callExpressionWithFeature.js\";import{CIMSymbolHelper as c,OverrideHelper as f}from\"./CIMSymbolHelper.js\";import{getExtent as m,getSDFMetrics as p}from\"./SDFHelper.js\";const u=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function y(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;case\"Round\":default:return 1}}function h(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;case\"Round\":default:return 1}}function g(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function d(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function S(e){let t=\"normal\",i=\"normal\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}function v(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function b(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function N(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,o,r){const n=o||[];if(!e)return n;let a,l;const s={};if(\"CIMSymbolReference\"!==e.type)return u.error(\"Expect cim type to be 'CIMSymbolReference'\"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const o of l){const r=o.valueExpressionInfo;if(r&&t){const n=r.expression,a=i(n,t.spatialReference,t.fields).then((e=>{e&&b(s,o.primitiveName,o.propertyName,e)}));e.push(a)}else null!=o.value&&b(s,o.primitiveName,o.propertyName,o.value)}await Promise.all(e)}switch(a.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":O(a,l,s,t,n,r)}return n}function O(e,t,i,o,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=c.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(l=1);let m=a.length;for(;m--;){const c=a[m];if(!c||!1===c.enable)continue;const p=[];switch(f.findApplicableOverrides(c,t,p),c.type){case\"CIMSolidFill\":C(c,i,p,o,r);break;case\"CIMPictureFill\":P(c,i,p,o,r);break;case\"CIMHatchFill\":L(c,i,p,o,r);break;case\"CIMGradientFill\":M(c,i,p,o,r);break;case\"CIMSolidStroke\":X(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMPictureStroke\":I(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMGradientStroke\":x(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMCharacterMarker\":if(w(c,i,p,o,r))break;break;case\"CIMPictureMarker\":if(w(c,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=N(c)),z(c,i,p,o,r,l,s);break;case\"CIMVectorMarker\":if(w(c,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=N(c)),J(c,i,p,o,r,l,s,n);break;default:u.error(\"Cannot analyze CIM layer\",c.type)}}}function C(t,i,o,r,n){const l=t.primitiveName,s=a(t.color),c=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,colorLocked:t.colorLocked,color:F(l,i,\"Color\",r,s,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t.effects})}function P(t,i,o,r,n){const l=t.primitiveName,s=t.tintColor?a(t.tintColor):{r:255,g:255,b:255,a:1},c=e(JSON.stringify(t)).toString(),f=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:()=>f,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:F(l,i,\"TintColor\",r,s,j),height:F(l,i,\"Height\",r,t.height),scaleX:F(l,i,\"ScaleX\",r,t.scaleX),angle:F(l,i,\"Rotation\",r,t.rotation),offsetX:F(l,i,\"OffsetX\",r,t.offsetX),offsetY:F(l,i,\"OffsetY\",r,t.offsetY)})}function L(t,i,o,r,n){const a=[\"Rotation\",\"OffsetX\",\"OffsetY\"],l=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===a.indexOf(e.propertyName))),s=t.primitiveName,c=e(JSON.stringify(t)).toString(),f=e(`${t.separation}${JSON.stringify(t.lineSymbol)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:W(f,i,l,r),cim:t,materialOverrides:l,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(s,i,\"Separation\",r,t.separation),scaleX:1,angle:F(s,i,\"Rotation\",r,t.rotation),offsetX:F(s,i,\"OffsetX\",r,t.offsetX),offsetY:F(s,i,\"OffsetY\",r,t.offsetY)})}function M(t,i,o,r,n){const a=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:a,materialHash:0===o.length?a:W(a,i,o,r),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(t,i,o,r,n,l,s){const c=e(JSON.stringify(t)).toString(),f=t.primitiveName,m=a(t.color),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit;n.push({type:\"line\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,\"Color\",r,m,j),width:F(f,i,\"Width\",r,p),cap:F(f,i,\"CapStyle\",r,u),join:F(f,i,\"JoinStyle\",r,g),miterLimit:F(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function I(t,i,o,r,n,l,s){const c=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString(),f=t.primitiveName,m=a(t.tintColor),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit,S=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:S,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,\"TintColor\",r,m,j),width:F(f,i,\"Width\",r,p),cap:F(f,i,\"CapStyle\",r,u),join:F(f,i,\"JoinStyle\",r,g),miterLimit:F(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function x(t,i,o,r,n,a,l){const s=t.primitiveName,c=void 0!==t.width?t.width:4,f=y(t.capStyle),m=h(t.joinStyle),p=t.miterLimit,u=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:u,materialHash:0===o.length?u:W(u,i,o,r),cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:F(s,i,\"Width\",r,c),cap:F(s,i,\"CapStyle\",r,f),join:F(s,i,\"JoinStyle\",r,m),miterLimit:F(s,i,\"MiterLimit\",r,p),referenceWidth:l,zOrder:A(t.name),isDashed:!1})}function w(t,i,o,r,n){const a=t.markerPlacement;if(!a||\"CIMMarkerPlacementInsidePolygon\"!==a.type)return!1;const l=a,s=[\"Rotation\",\"OffsetX\",\"OffsetY\"],c=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===s.indexOf(e.propertyName))),f=e(JSON.stringify(t)).toString();return n.push({type:\"fill\",templateHash:f,materialHash:0===o.length?f:W(f,i,c,r),cim:t,materialOverrides:c,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,i,\"StepY\",r,l.stepY),scaleX:1,angle:F(l.primitiveName,i,\"GridAngle\",r,l.gridAngle),offsetX:F(l.primitiveName,i,\"OffsetX\",r,l.offsetX),offsetY:F(l.primitiveName,i,\"OffsetY\",r,l.offsetY)}),!0}function z(t,i,o,r,n,l,s){const c=t.primitiveName,f=t.size,m=t.scaleX,p=t.rotation,u=t.offsetX,y=t.offsetY,h=a(t.tintColor),g=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();let d=!1,S=\"\";for(const e of o)e.primitiveName===c&&(void 0!==e.value?S+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(d=!0));n.push({type:\"marker\",templateHash:e(JSON.stringify(t)+S).toString(),materialHash:d?()=>g:g,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:!1,alignment:l,size:F(c,i,\"Size\",r,f),scaleX:F(c,i,\"ScaleX\",r,m),rotation:F(c,i,\"Rotation\",r,p),offsetX:F(c,i,\"OffsetX\",r,u),offsetY:F(c,i,\"OffsetY\",r,y),color:F(c,i,\"TintColor\",r,h,j),anchorPoint:t.anchorPoint,isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:t.rotateClockwise,referenceSize:s,sizeRatio:1,markerPlacement:t.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":Y(e,f,i,t,o,r,n,a,c,l);break;case\"CIMTextSymbol\":H(e,f,t,i,o,r,n,a,c)}}}function H(t,i,o,r,n,s,m,p,u){const y=[];f.findApplicableOverrides(i,r,y);const h=i.geometry;if(!(\"x\"in h)||!(\"y\"in h))return;const b=i.symbol,N=v(b),k=S(b.fontStyleName);b.font={family:b.fontFamilyName,decoration:N,...k};const O=t.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=t.size/u,M=t.primitiveName,X=(b.height||0)*L,I=b.angle||0,x=((b.offsetX||0)+C)*L,w=((b.offsetY||0)+P)*L,z=a(c.getFillColor(b));let J=a(c.getStrokeColor(b)),H=c.getStrokeWidth(b);H||(J=a(c.getFillColor(b.haloSymbol)),H=b.haloSize*L);let Y=\"\";for(const e of r)e.primitiveName===M&&void 0!==e.value&&(Y+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const R=JSON.stringify(t.effects)+Number(t.colorLocked)+JSON.stringify(t.anchorPoint)+t.anchorPointUnits+JSON.stringify(t.markerPlacement),$=e(JSON.stringify(i)+R+Y).toString();s.push({type:\"text\",templateHash:$,materialHash:()=>e(JSON.stringify(b.font)).toString(),cim:b,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,alignment:m,anchorPoint:{x:t.anchorPoint?t.anchorPoint.x:0,y:t.anchorPoint?t.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,fontName:b.fontFamilyName,decoration:\"none\",weight:\"normal\",style:\"normal\",size:F(M,o,\"Size\",n,X),angle:F(M,o,\"Rotation\",n,I),offsetX:F(M,o,\"OffsetX\",n,x),offsetY:F(M,o,\"OffsetY\",n,w),horizontalAlignment:g(b.horizontalAlignment),verticalAlignment:d(b.verticalAlignment),text:F(i.primitiveName,o,\"TextString\",n,i.textString,l,b.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:t.markerPlacement})}function Y(t,i,o,r,n,l,s,f,u,y){const h=i.symbol,g=i.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void R(t,i,r,o,n,l,s,f,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const h=m(g);if(!h)continue;const[d,S,v]=p(h,t.frame,t.size,t.anchorPoint,\"Relative\"!==t.anchorPointUnits),b=\"CIMSolidFill\"===y.type,N={type:\"sdf\",geom:g,asFill:b},k=t.primitiveName,O=t.size,C=t.rotation||0,P=t.offsetX,L=t.offsetY,M=y.primitiveName,X=a(b?c.getFillColor(y):c.getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:a(c.getStrokeColor(y)),x=c.getStrokeWidth(y);if(!b&&!x)break;let w=!1,z=\"\";for(const e of o)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...t,markerGraphics:null}),H=e(JSON.stringify(N)).toString(),Y={type:\"marker\",templateHash:e(JSON.stringify(i)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(t.primitiveName,r,\"Size\",n,O),rotation:F(t.primitiveName,r,\"Rotation\",n,C),offsetX:F(t.primitiveName,r,\"OffsetX\",n,P),offsetY:F(t.primitiveName,r,\"OffsetY\",n,L),scaleX:1,frameHeight:u,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:d,color:F(M,r,\"Color\",n,X,j),outlineColor:F(M,r,\"Color\",n,I,j),outlineWidth:F(M,r,\"Width\",n,x),markerPlacement:t.markerPlacement};l.push(Y);break}default:R(t,i,r,o,n,l,s,f,u)}}}function R(t,i,o,r,a,l,s,f,m){const p=$(t,i);let u=[];const y=[\"Rotation\",\"OffsetX\",\"OffsetY\"];u=r.filter((e=>e.primitiveName!==t.primitiveName||-1===y.indexOf(e.propertyName)));let h=\"\";for(const e of r)void 0!==e.value&&(h+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const[g,d,S]=c.getTextureAnchor(p),v=t.primitiveName,b=t.rotation||0,N=t.offsetX||0,k=t.offsetY||0,O=e(JSON.stringify(p)+h).toString(),C={type:\"marker\",templateHash:O,materialHash:0===u.length?O:W(O,o,u,a),cim:p,materialOverrides:u,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:t.size,rotation:F(v,o,\"Rotation\",a,b),offsetX:F(v,o,\"OffsetX\",a,N),offsetY:F(v,o,\"OffsetY\",a,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:S/n(t.size),markerPlacement:t.markerPlacement};l.push(C)}function $(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(e){if(!e||0===e.length)return null;const t=new r(e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function F(e,t,i,r,n,a,l){const c=t[e];if(c){const e=c[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof o)return(t,i,o)=>{let c=s(e,t,{$view:o},r.geometryType,i);return null!==c&&a&&(c=a.call(null,c,l)),null!==c?c:n}}return n}function W(t,i,r,n){for(const e of r){if(e.valueExpressionInfo){const t=i[e.primitiveName]&&i[e.primitiveName][e.propertyName];t instanceof o&&(e.fn=(e,i,o)=>s(t,e,{$view:o},n.geometryType,i))}}return(i,o,n)=>{for(const e of r)e.fn&&(e.value=e.fn(i,o,n));return e(t+f.buildOverrideKey(r)).toString()}}function T(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return f.applyOverrides(i,t),i}export{T as analyzeCIMResource,k as analyzeCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(r,t,o,n,a){const s=r.referencesGeometry()&&a?u(t,n,a):t,i=r.repurposeFeature(s);try{return r.evaluate({...o,$feature:i})}catch(c){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,i,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,i,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,i,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,i,e,o,n);default:return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new r(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isExtent as t}from\"../../geometry/support/jsonUtils.js\";import n from\"./Rect.js\";import{packFloatRGBA as o}from\"./packingUtils.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||\"CIMPolygonSymbol\"!==l.type&&\"CIMLineSymbol\"!==l.type?null:{geom:r,asFill:\"CIMPolygonSymbol\"===l.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new n(o,l,r-o,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):t(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function m(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=128,u=1,y=Math.floor(.5*(.5*c-u)),h=(c-2*(y+u))/Math.max(m,a),x=Math.round(m*h)+2*y,M=Math.round(a*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function a(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),m=Math.round(o.width*f)+2*s,a=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const t of e){let[r,l]=t;r-=o.x,l-=o.y,r*=f,l*=f,r+=s-.5,l+=s-.5,n.push([r,l])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=c(h,m,a,s);return t.asFill&&u(h,m,a,s,x),[y(x,s),m,a]}function c(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,c;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],c=i[1]):(a=i[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function u(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}function y(t,n){const r=2*n,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const n=.5-t[i]/r;o(n,e,4*i)}return e}export{a as buildSDF,f as getExtent,r as getSDFInfo,m as getSDFMetrics,l as getSDFSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../core/screenUtils.js\";function e(t){return`rgb(${t.slice(0,3).toString()})`}function i(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}class r{constructor(){}rasterizeText(t,r){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement(\"canvas\"));const o=this._textRasterizationCanvas,n=o.getContext(\"2d\");this.setFontProperties(n,r),this.parameters=r,this.textLines=t.split(/\\r?\\n/),this.lineHeight=this.computeLineHeight();const a=this.computeTextWidth(n,r),h=this.lineHeight*this.textLines.length;o.width=a,o.height=h,this.renderedLineHeight=Math.round(this.lineHeight*r.pixelRatio),this.renderedHaloSize=r.halo.size*r.pixelRatio,this.renderedWidth=a*r.pixelRatio,this.renderedHeight=h*r.pixelRatio,this.fillStyle=i(r.color),this.haloStyle=e(r.halo.color);const l=this.renderedLineHeight,d=this.renderedHaloSize;this.setFontProperties(n,r);const c=s(n.textAlign,this.renderedWidth)+d,g=d;let f=0,p=0;d>0&&this.renderHalo(n,c,g,f,p,r),p+=g,f+=c;for(const e of this.textLines)n.globalCompositeOperation=\"destination-out\",n.fillStyle=\"rgb(0, 0, 0)\",n.fillText(e,f,p),n.globalCompositeOperation=\"source-over\",n.fillStyle=this.fillStyle,n.fillText(e,f,p),p+=l;const u=n.getImageData(0,0,this.renderedWidth,this.renderedHeight),x=new Uint8Array(u.data);if(r.premultiplyColors){let t;for(let e=0;e<x.length;e+=4)t=x[e+3]/255,x[e]=x[e]*t,x[e+1]=x[e+1]*t,x[e+2]=x[e+2]*t}return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(x.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(t,e,i,r,s,o){const n=this.renderedWidth,a=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement(\"canvas\")),this._haloRasterizationCanvas.width=n,this._haloRasterizationCanvas.height=a;const h=this._haloRasterizationCanvas,l=h.getContext(\"2d\");l.clearRect(0,0,n,a),this.setFontProperties(l,o),l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;const d=this.renderedHaloSize<3;l.lineJoin=d?\"miter\":\"round\",d?this.renderHaloEmulated(l,e,i):this.renderHaloNative(l,e,i),t.globalAlpha=this.parameters.halo.color[3],t.drawImage(h,0,0,n,a,r,s,n,a),t.globalAlpha=1}renderHaloEmulated(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const n of this.textLines){for(const[r,a]of o)t.fillText(n,e+s*r,i+s*a);i+=r}}renderHaloNative(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const o of this.textLines){const n=2*s,a=5,h=.1;for(let r=0;r<a;r++){const s=1-(a-1)*h+r*h;t.lineWidth=s*n,t.strokeText(o,e,i)}i+=r}}setFontProperties(e,i){const r=i.font,s=`${r.style} ${r.weight} ${t(i.size*i.pixelRatio)}px ${r.family}, sans-serif`;let o;switch(e.font=s,e.textBaseline=\"top\",i.horizontalAlignment){case\"left\":o=\"left\";break;case\"right\":o=\"right\";break;case\"center\":o=\"center\";break;default:o=\"left\"}e.textAlign=o}computeTextWidth(t,e){let i=0;for(const s of this.textLines)i=Math.max(i,t.measureText(s).width);const r=e.font;return(\"italic\"===r.style||\"oblique\"===r.style||\"string\"==typeof r.weight&&(\"bold\"===r.weight||\"bolder\"===r.weight)||\"number\"==typeof r.weight&&r.weight>600)&&(i+=.3*t.measureText(\"A\").width),i+=2*this.parameters.halo.size,Math.round(i)}computeLineHeight(){const t=1.275*this.parameters.size;return Math.round(t+2*this.parameters.halo.size)}}function s(t,e){return\"center\"===t?.5*e:\"right\"===t?e:0}const o=[];{const t=16;for(let e=0;e<360;e+=360/t)o.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}export default r;export{r as TextRasterizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../core/string.js\";import{throwIfAborted as t}from\"../../core/promiseUtils.js\";import{getJsonType as r,isPolygon as a,isPolyline as i}from\"../../geometry/support/jsonUtils.js\";import{pt2px as s}from\"../../core/screenUtils.js\";import o from\"../support/Symbol3DAnchorPosition2D.js\";import n from\"../../request.js\";import{createLabelOverrideFunction as c,evaluateValueOrFunction as l,colorToArray as m}from\"./utils.js\";import{scaleCIMMarker as h}from\"../support/cimSymbolUtils.js\";import{analyzeCIMSymbol as f,analyzeCIMResource as g}from\"./cimAnalyzer.js\";import y from\"./Rasterizer.js\";import{TextRasterizer as u}from\"./TextRasterizer.js\";var p;!function(e){e.Legend=\"legend\",e.Preview=\"preview\"}(p||(p={}));const d=(e,t,r)=>{if(e&&e.targetSize){let a;if(r){const t=Math.max(r.frame.xmax-r.frame.xmin,r.frame.ymax-r.frame.ymin);a=e.targetSize/s(t)}else a=e.targetSize/t.referenceSize;return a}return e&&e.scaleFactor?e.scaleFactor:1},M={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class C{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._rasterizer=new y,this._textRasterizer=new u,this._pictureMarkerCache=new Map}async rasterizeCIMSymbolAsync(e,t,a,i,s,o,n,c){i=i||(t?null!=t.centroid?\"esriGeometryPolygon\":r(t.geometry):null)||z(e);const l=await this.analyzeCIMSymbol(e,t?I(t.attributes):null,a,i,c);return this.rasterizeCIMSymbol(l,t,i,s,o,n)}async analyzeCIMSymbol(e,r,a,i,s){const o=[],n=r?{geometryType:i,spatialReference:this._spatialReference,fields:r}:null;let l;await f(e.data,n,o,this._avoidSDF),t(s);for(const t of o)\"CIMPictureMarker\"!==t.cim.type&&\"CIMPictureFill\"!==t.cim.type&&\"CIMPictureStroke\"!==t.cim.type||(l||(l=[]),l.push(this.fetchPictureMarkerResource(t,s))),a&&\"text\"===t.type&&\"string\"==typeof t.text&&t.text.indexOf(\"[\")>-1&&(t.text=c(a,t.text,t.cim.textCase));return l&&await Promise.all(l),o}async fetchPictureMarkerResource(e,t){const r=e.materialHash;if(!this._pictureMarkerCache.get(r)){const a=(await n(e.cim.url,{responseType:\"image\",signal:t&&t.signal})).data;this._pictureMarkerCache.set(r,a)}}rasterizeCIMSymbol(e,t,r,a,i,s){const o=[];for(const n of e){a&&\"function\"==typeof a.scaleFactor&&(a.scaleFactor=a.scaleFactor(t,i,s));const e=this._getRasterizedResource(n,t,r,a,i,s);if(!e)continue;let c=0,m=e.anchorX||0,h=e.anchorY||0,f=!1,g=0,y=0;if(\"esriGeometryPoint\"===r){const e=d(a,n,null);if(g=l(n.offsetX,t,i,s)*e||0,y=l(n.offsetY,t,i,s)*e||0,\"marker\"===n.type)c=l(n.rotation,t,i,s)||0,f=!!n.rotateClockwise&&n.rotateClockwise;else if(\"text\"===n.type){if(c=l(n.angle,t,i,s)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case\"left\":m=-.5;break;case\"right\":m=.5;break;default:m=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case\"top\":h=.5;break;case\"bottom\":h=-.5;break;case\"baseline\":h=-.25;break;default:h=0}}}null!=e&&o.push({angle:c,rotateClockWise:f,anchorX:m,anchorY:h,offsetX:g,offsetY:y,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement(\"canvas\"),r=t.getContext(\"2d\");let a=0,i=0,n=0,c=0;const l=[];for(let o=0;o<e.length;o++){const t=e[o],m=t.rasterizedResource;if(!m)continue;const h=m.size,f=t.offsetX,g=t.offsetY,y=t.anchorX,u=t.anchorY,p=t.rotateClockWise||!1;let d=t.angle,M=s(f)-h[0]*(.5+y),C=s(g)-h[1]*(.5+u),I=M+h[0],z=C+h[1];if(d){p&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=M*t-C*e,a=M*e+C*t,i=M*t-z*e,s=M*e+z*t,o=I*t-z*e,n=I*e+z*t,c=I*t-C*e,l=I*e+C*t;M=Math.min(r,i,o,c),C=Math.min(a,s,n,l),I=Math.max(r,i,o,c),z=Math.max(a,s,n,l)}a=M<a?M:a,i=C<i?C:i,n=I>n?I:n,c=z>c?z:c;const P=r.createImageData(m.size[0],m.size[1]);P.data.set(new Uint8ClampedArray(m.image.buffer));const x={offsetX:f,offsetY:g,rotateClockwise:p,angle:d,rasterizedImage:P,anchorX:y,anchorY:u};l.push(x)}t.width=n-a,t.height=c-i;const m=-a,h=c;for(let o=0;o<l.length;o++){const e=l[o],t=this._imageDataToCanvas(e.rasterizedImage),a=e.rasterizedImage.width,i=e.rasterizedImage.height,n=m-a*(.5+e.anchorX),c=h-i*(.5-e.anchorY);if(e.angle){const a=(360-e.angle)*Math.PI/180;r.save(),r.translate(s(e.offsetX),-s(e.offsetY)),r.translate(m,h),r.rotate(a),r.translate(-m,-h),r.drawImage(t,n,c),r.restore()}else r.drawImage(t,n+s(e.offsetX),c-s(e.offsetY))}const f=new o({x:m/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?r.getImageData(0,0,t.width,t.height):r.createImageData(1,1),anchorPosition:f}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const t=this._imageDataCanvas,r=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(e,t,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement(\"canvas\"));const a=this._imageDataCanvas,i=a.getContext(\"2d\");return a.width=t,a.height=r,i.drawImage(e,0,0,t,r),new Uint32Array(i.getImageData(0,0,t,r).data.buffer)}_getRasterizedResource(t,r,a,i,s,o){let n,c,m,f;if(\"esriGeometryPolyline\"===a||\"esriGeometryPolygon\"===a){const h=i&&i.style?i.style:p.Legend,f=\"esriGeometryPolyline\"===a?M.stroke[h]:M.fill[h];if(\"line\"===t.type){if(\"CIMSolidStroke\"!==t.cim.type){if(\"CIMPictureStroke\"===t.cim.type){const e=l(t.width,r,s,o),{image:a,width:i,height:n}=this._getPictureResource(t,e);return this._rasterizePictureResource(t,a,i,n,f,e)}return null}({analyzedCIM:n,hash:m}=P(t,r,s,o)),c=this._embedCIMLayerInVectorMarker(n,f)}else if(\"marker\"===t.type){if(\"CIMPictureMarker\"===t.cim.type)return null;if(\"CIMVectorMarker\"!==t.cim.type)return null;t.cim.offsetX=l(t.offsetX,r,s,o),t.cim.offsetY=l(t.offsetY,r,s,o),t.cim.rotation=l(t.rotation,r,s,o),t.cim.markerPlacement=t.markerPlacement,({analyzedCIM:n}=P(t,r,s,o)),m=e(JSON.stringify(n)).toString(),c=this._embedCIMLayerInVectorMarker(n,f)}else{if(\"text\"===t.type)return null;if(\"fill\"===t.type){if(\"CIMHatchFill\"===t.cim.type||\"CIMVectorMarker\"===t.cim.type||\"CIMPictureMarker\"===t.cim.type||\"CIMPictureFill\"===t.cim.type){const e=t.cim.size||t.cim.height;let a,i,c;if(\"CIMPictureMarker\"===t.cim.type||\"CIMPictureFill\"===t.cim.type)({image:a,width:i,height:c}=this._getPictureResource(t,e));else{({analyzedCIM:n,hash:m}=P(t,r,s,o));const e=this._rasterizer.rasterizeJSONResource(n,1,this._avoidSDF);a=e.image,i=e.size[0],c=e.size[1]}return this._rasterizePictureResource(t,a,i,c,f,null)}if(\"CIMSolidFill\"!==t.cim.type)return null;({analyzedCIM:n,hash:m}=P(t,r,s,o)),c=this._embedCIMLayerInVectorMarker(n,f)}}}else{if(\"text\"===t.type)return f=this._rasterizeTextResource(t,r,i,s,o),f;({analyzedCIM:n,hash:m}=P(t,r,s,o));const e=d(i,t,null);if(\"CIMPictureMarker\"===t.cim.type){const a=l(t.size,r,s,o)*e,{image:i,width:n,height:c}=this._getPictureResource(t,a);return f={image:i,size:[n,c],sdf:!1,simplePattern:!1,anchorX:t.anchorPoint?t.anchorPoint.x:0,anchorY:t.anchorPoint?t.anchorPoint.y:0},f}h(n,e,{preserveOutlineWidth:!1}),c=n}m+=a,i&&(m+=JSON.stringify(i));const g=this._resourceCache;return g.has(m)?g.get(m):(f=this._rasterizer.rasterizeJSONResource(c,window.devicePixelRatio||1,this._avoidSDF),g.set(m,f),f)}_rasterizeTextResource(e,t,r,a,i){const s=d(r,e,null),o=l(e.text,t,a,i);if(!o||0===o.length)return null;const n=l(e.fontName,t,a,i),c=l(e.style,t,a,i),h=l(e.weight,t,a,i),f=l(e.decoration,t,a,i),g=l(e.size,t,a,i)*s,y=l(e.horizontalAlignment,t,a,i),u=l(e.verticalAlignment,t,a,i),p=m(l(e.color,t,a,i)),M=m(l(e.outlineColor,t,a,i)),C={color:p,size:g,horizontalAlignment:y,verticalAlignment:u,font:{family:n,style:c,weight:h,decoration:f},halo:{size:l(e.outlineSize,t,a,i)||0,color:M,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,C)}_rasterizePictureResource(e,t,r,o,n,c){const l=document.createElement(\"canvas\"),m=l.getContext(\"2d\");l.height=s(Math.max(Math.abs(n.frame.ymax-n.frame.ymin),c)),l.width=s(Math.abs(n.frame.xmax-n.frame.xmin));const h=m.createImageData(r,o);h.data.set(new Uint8ClampedArray(t.buffer));const f=this._imageDataToCanvas(h),g=m.createPattern(f,\"repeat\"),y=Math.cos((-e.cim.rotation||0)*Math.PI/180),u=Math.sin((-e.cim.rotation||0)*Math.PI/180);g.setTransform({m11:y,m12:u,m21:-u,m22:y,m41:s(e.cim.offsetX)||0,m42:s(e.cim.offsetY)||0});const p=n.canvasPaths;let d,M,C;a(p)?(d=p.rings,m.fillStyle=g,M=m.fill,C=[\"evenodd\"]):i(p)&&(d=p.paths,m.strokeStyle=g,m.lineWidth=c,M=m.stroke,d[0][0][1]=l.height/2,d[0][1][1]=l.height/2),m.beginPath();for(const a of d){const e=a?a.length:0;if(e>1){let t=a[0];m.moveTo(s(t[0]),s(t[1]));for(let r=1;r<e;++r)t=a[r],m.lineTo(s(t[0]),s(t[1]));m.closePath()}}M.apply(m,C);const I=m.getImageData(0,0,l.width,l.height),z=new Uint8Array(I.data);return{size:[l.width,l.height],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const a=r.height/r.width,i=t?a>1?s(t):s(t)/a:r.width,o=t?a>1?s(t)*a:s(t):r.height;return{image:this._imageTo32Array(r,i,o),width:i,height:o}}_embedCIMLayerInVectorMarker(e,t){const r=a(t.geometry)?\"CIMPolygonSymbol\":\"CIMLineSymbol\";return{type:\"CIMVectorMarker\",frame:t.frame,markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}}function I(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}function z(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}function P(e,t,r,a){let i,s;if(\"function\"==typeof e.materialHash){i=(0,e.materialHash)(t,r,a),s=g(e.cim,e.materialOverrides)}else i=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:i}}export{C as CIMSymbolRasterizer,p as GeometryStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{px2pt as t}from\"../../core/screenUtils.js\";import{getCIMSymbolSize as e,scaleCIMSymbolTo as a}from\"./cimSymbolUtils.js\";import{CIMSymbolRasterizer as l}from\"../cim/CIMSymbolRasterizer.js\";const i=new l(null,!0),o=120;async function n(l,n={}){const{size:s,maxSize:c,node:m,opacity:r}=n,y=n.cimOptions||n,{feature:d,fieldMap:h,geometryType:p,style:u}=y,g=e(l),f=Math.min(null!=s?s:g,null!=c?c:t(o));f!==g&&(l=l.clone(),a(l,f,{preserveOutlineWidth:!0}));let M=3;l&&l.data&&l.data.symbol&&\"CIMPointSymbol\"!==l.data.symbol.type&&(M=1);const b=await i.rasterizeCIMSymbolAsync(l,d,h,p,{scaleFactor:M,style:u}),w=document.createElement(\"canvas\");w.width=b.imageData.width,w.height=b.imageData.height;w.getContext(\"2d\").putImageData(b.imageData,0,0);let C=w.width/M,D=w.height/M;if(null!=s&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale))){const t=C/D;C=t<=1?Math.ceil(f*t):f,D=t<=1?f:Math.ceil(f/t)}const I=new Image(C,D);return I.src=w.toDataURL(),null!=r&&(I.style.opacity=`${r}`),m&&m.appendChild(I),I}export{n as previewCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{resampleHermite as e}from\"./utils.js\";import r from\"./Rect.js\";import{SymbolHelper as t,CIMSymbolHelper as a}from\"./CIMSymbolHelper.js\";import{getSDFInfo as n,buildSDF as i}from\"./SDFHelper.js\";const s=512;class o{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(e,s,o){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),\"simple-fill\"===e.type||\"esriSFS\"===e.type){const[r,a,n]=t.rasterizeSimpleFill(this._rasterizationCanvas,e.style,s);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if(\"simple-line\"===e.type||\"esriSLS\"===e.type){const[r,a,n]=t.rasterizeSimpleLine(e.style,e.cap);return{size:[a,n],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let m,l,f;if(\"simple-marker\"===e.type||\"esriSMS\"===e.type||\"line-marker\"===e.type?(m=a.fromSimpleMarker(e),f=n(m)):\"CIMHatchFill\"===e.type?(m=a.fromCIMHatchFill(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):e.markerPlacement&&\"CIMMarkerPlacementInsidePolygon\"===e.markerPlacement.type?(m=a.fromCIMInsidePolygon(e),l=new r(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):(m=e,f=n(m)),f&&!o){const[e,r,t]=i(f);return e?{size:[r,t],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,h,p,y,u]=a.rasterize(this._rasterizationCanvas,m,l,!o);return c?{size:[h,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:u}:null}rasterizeImageResource(r,t,a,n){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement(\"canvas\")),this._rasterizationCanvas.width=r,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext(\"2d\");a instanceof ImageData?i.putImageData(a,0,0):(a.setAttribute(\"width\",`${r}px`),a.setAttribute(\"height\",`${t}px`),i.drawImage(a,0,0,r,t));const o=i.getImageData(0,0,r,t),m=new Uint8Array(o.data);if(n)for(const e of n)if(e&&e.oldColor&&4===e.oldColor.length&&e.newColor&&4===e.newColor.length){const[r,t,a,n]=e.oldColor,[i,s,o,l]=e.newColor;if(r===i&&t===s&&a===o&&n===l)continue;for(let e=0;e<m.length;e+=4)r===m[e]&&t===m[e+1]&&a===m[e+2]&&n===m[e+3]&&(m[e]=i,m[e+1]=s,m[e+2]=o,m[e+3]=l)}let l;for(let e=0;e<m.length;e+=4)l=m[e+3]/255,m[e]=m[e]*l,m[e+1]=m[e+1]*l,m[e+2]=m[e+2]*l;let f=m,c=r,h=t;const p=s;if(c>=p||h>=p){const a=c/h;a>1?(c=p,h=Math.round(p/a)):(h=p,c=Math.round(p*a)),f=new Uint8Array(4*c*h);const n=new Uint8ClampedArray(f.buffer);e(m,r,t,n,c,h,!1)}return{size:[r,t],image:new Uint32Array(f.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}export default o;\n"],"sourceRoot":""}