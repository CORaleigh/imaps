{"version":3,"sources":["../node_modules/@arcgis/core/rest/support/FeatureSet.js"],"names":["h","o","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","d","s","constructor","e","super","this","displayFieldName","exceededTransferLimit","features","fields","geometryType","hasM","hasZ","queryGeometry","spatialReference","readFeatures","t","m","fromJSON","i","length","p","r","l","geometry","n","push","writeGeometryType","write","type","readQueryGeometry","u","writeSpatialReference","toJSON","Array","isArray","quantize","scale","translate","a","_getQuantizationFunction","Math","round","y","splice","transform","unquantize","_getHydrationFunction","_quantizePoints","x","c","rings","paths","points","xmin","ymin","xmax","ymax","String","json","prototype","Boolean","overridePolicy","enabled","f","read","reader","types","isDefaultToJSON","g"],"mappings":"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","file":"static/js/283.68dc04f4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import r from\"../../Graphic.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{isSome as n,unwrap as i}from\"../../core/maybe.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import m from\"../../geometry/SpatialReference.js\";import{fromJSON as u,isPolygon as c}from\"../../geometry/support/jsonUtils.js\";import f from\"../../layers/support/Field.js\";const h=new o({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends s{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const o=m.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const t=e[i],p=r.fromJSON(t),l=t.geometry&&t.geometry.spatialReference;n(p.geometry)&&!l&&(p.geometry.spatialReference=o),s.push(p)}return s}writeGeometryType(e,t,r,o){if(e)return void h.write(e,t,r,o);const{features:s}=this;if(s)for(const i of s)if(i&&n(i.geometry))return void h.write(i.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=u(e);return!r&&t.spatialReference&&(o.spatialReference=m.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&n(o.geometry)&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,n=e=>Math.round((e-o)/t),p=e=>Math.round((s-e)/r),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,p);for(let y=0,m=l.length;y<m;y++)a(i(l[y].geometry))||(l.splice(y,1),y--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[i,p]}=r,l=e=>e*i+o,a=e=>s-e*p,y=this._getHydrationFunction(e,l,a);for(const{geometry:m}of t)n(m)&&y(m);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const n=[];for(let i=0,p=e.length;i<p;i++){const p=e[i];if(i>0){const e=t(p[0]),i=r(p[1]);e===o&&i===s||(n.push([e-o,i-s]),o=e,s=i)}else o=t(p[0]),s=r(p[1]),n.push([o,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=c(e)?e.rings:e.paths,s=[];for(let n=0,i=o.length;n<i;n++){const e=o[n],i=this._quantizePoints(e,t,r);i&&s.push(i)}return s.length>0?(c(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=c(e)?e.rings:e.paths;let s,n;for(let i=0,p=o.length;i<p;i++){const e=o[i];for(let o=0,i=e.length;o<i;o++){const i=e[o];o>0?(s+=i[0],n+=i[1]):(s=i[0],n=i[1]),i[0]=t(s),i[1]=r(n)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,n;for(let i=0,p=o.length;i<p;i++){const e=o[i];i>0?(s+=e[0],n+=e[1]):(s=e[0],n=e[1]),e[0]=t(s),e[1]=r(n)}}:void 0}};e([p({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([p({type:[r],json:{write:!0}})],d.prototype,\"features\",void 0),e([l(\"features\")],d.prototype,\"readFeatures\",null),e([p({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([p({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([y(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([p({types:t,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([l(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([p({type:m,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([y(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([p({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([a(\"esri.rest.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n"],"sourceRoot":""}