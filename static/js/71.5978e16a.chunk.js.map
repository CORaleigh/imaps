{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/geometry/support/rotate.js","../node_modules/@arcgis/core/views/draw/support/Box.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["t","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","_activeGraphic","_dragEvent","_handles","o","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","get","set","_findTargetGraphic","d","indexOf","emit","g","_","m","G","w","action","geometry","stopPropagation","origin","l","u","f","key","state","Number","MAX_VALUE","intersectionDistance","length","map","v","EventedAccessor","prototype","readOnly","b","slice","push","spatialReference","Math","PI","cos","sin","center","rings","xmin","ymin","ymax","xmax","extent","paths","reverse","z","points","R","mover","M","I","C","angle","E","j","O","xScale","yScale","L","B","transformGraphics","Y","centerIndicator","style","size","color","fill","default","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","line","N","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","layer","preserveAspectRatio","rotateGraphic","showCenterGraphic","_getBounds","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","_setup","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","_set","concat","includes","_emitMoveStopEvent","_emitScaleStopEvent","_emitRotateStopEvent","_setupGraphics","_setupMover","_resetGraphicStateVars","cursor","removeMany","remove","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","_getBoxBounds","abs","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","_getGraphicInfo","symbols","_hideGraphicsBeforeUpdate","symbol","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","_showGraphicsAfterUpdate","rotation","resolution","transform","_updateX","_updateY","_updateBackgroundGraphic","S","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","_getCoordinates","_updateXY","some","value","A","xoffset","yoffset","stops","filter","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","toMap","intersects","getLogger","interactive","selectable","grabbable","dragging","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","watch","focusedSymbol","_focused","originalPoint","clone","mapPoint","radiusPx","toScreen","include","renderSpatialReference","camera","eye","constructOnly","nonNullable"],"mappings":"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","file":"static/js/71.5978e16a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport n from\"../Point.js\";import e from\"../Multipoint.js\";import t from\"../Polygon.js\";import r from\"../Polyline.js\";import\"../../geometry.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new t({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new r({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const n=[];for(const e of s.rings){const t=i(e),r=o(e,m,x,a);i(r)!==t&&r.reverse(),n.push(r)}return new t({spatialReference:c,rings:n})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const e=new n({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(e.z=s.z),null!=s.m&&(e.m=s.m),e}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new e({points:o(s.points,m,x,a),spatialReference:c})):null}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as a}from\"../../../geometry/support/coordsUtils.js\";import{getRingsOrPathsBounds as o}from\"../../../geometry/support/boundsUtils.js\";import h from\"../../../geometry/Polygon.js\";import c from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import n from\"../../../core/Evented.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import p from\"../../../symbols/SimpleFillSymbol.js\";import d from\"../../../symbols/SimpleMarkerSymbol.js\";import m from\"../../../Graphic.js\";import u from\"../../../core/Handles.js\";import{whenOnce as _,pausable as g}from\"../../../core/watchUtils.js\";import{create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{settings as G}from\"./settings.js\";import{cloneMove as y,scale as f,getScaleRatio as b,getRotationAngle as S}from\"./drawUtils.js\";import{addUniqueLayer as w}from\"./layerUtils.js\";import k from\"../../../geometry/support/rotate.js\";import x from\"./GraphicMover.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class C{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class j{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class O{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const B=G.transformGraphics,Y={centerIndicator:new d({style:\"cross\",size:B.center.size,color:B.center.color}),fill:{default:new p({color:B.fill.color,outline:{color:B.fill.outlineColor,join:\"round\",width:1}}),active:new p({color:B.fill.stagedColor,outline:{color:B.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new d({style:\"square\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"square\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotator:{default:new d({style:\"circle\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"circle\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotatorLine:new l({color:B.line.color,width:1})};let N=class extends n.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new u,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=v();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,h,c;if(\"point\"===s.type)i=h=s.x,r=c=s.y;else if(\"multipoint\"===s.type){const e=a(s);[i,r,h,c]=o(t,[e])}else if(\"extent\"===s.type)[i,r,h,c]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=a(s);[i,r,h,c]=o(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(h,e[2]),e[3]=Math.max(c,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([_(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;w(e,t)})),g(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),g(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),g(this,\"graphics\",(()=>this.refresh())),g(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles&&(this._handles.removeAll(),this._handles=null)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:a=Y.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=f(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new r(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=k(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const i of this.handleGraphics)i.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[].concat(this.handleGraphics);this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new x({enableMoveAllGraphics:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(v()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:l}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:l,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(v(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,backgroundGraphic:h,handleGraphics:c,rotateGraphic:n,symbols:l}=this;this._updateGraphics(),this._showGraphicsAfterUpdate(),h.symbol=l.fill.default,e===n?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):c.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e),this._resetGraphicStateVars()}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:a}=this,{centerX:o,centerY:h,startX:c,startY:n}=e,{resolution:l,transform:p}=a.state,d=i.indexOf(t);1!==d&&5!==d||this._updateX(t,o),3!==d&&7!==d||this._updateY(t,h);const{x:m,y:u}=t.geometry,_=p[0]*m+p[2]*u+p[4],g=p[1]*m+p[3]*u+p[5],v=e.graphicInfos.map((t=>t.geometry));if(s){const t=p[0]*o+p[2]*h+p[4],e=p[1]*o+p[3]*h+p[5],i=p[0]*c+p[2]*n+p[4],s=p[1]*c+p[3]*n+p[5];this._xScale=this._yScale=b(t,e,i,s,_,g);for(const r of v){const t=v.indexOf(r);this.graphics[t].geometry=f(r,this._xScale,this._yScale,[o,h])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=m-c,p=n-u;if(1===d||5===d?s=0:3!==d&&7!==d||(p=0),0===s&&0===p)return;const _=t+(c>o?s:-1*s),g=i+(n<h?p:-1*p),G=o+s/2,b=h+p/2;this._xScale=_/t||1,this._yScale=g/i||1,1===d||5===d?this._xScale=1:3!==d&&7!==d||(this._yScale=1);const S=(G-o)/l,w=(b-h)/l,k=f(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=y(k,S,w,a,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-o)/l,I=-1*(R-h)/l;for(const e of v){const t=v.indexOf(e),i=f(e,this._xScale,this._yScale,[o,h]);this.graphics[t].geometry=y(i,M,I,a,!0)}this.centerGraphic.geometry=new r(x,R,a.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:a,box:o,rotate:h}=this._startInfo,{x:c,y:n}=t.geometry,l=new r(e,i,this.view.spatialReference);this._angleOfRotation=S(e,i,s,a,c,n);const p=this._startInfo.graphicInfos.map((t=>t.geometry));for(const r of p){const t=p.indexOf(r),e=k(r,this._angleOfRotation,l);this.graphics[t].geometry=e}this.backgroundGraphic.geometry=k(o,this._angleOfRotation,l),this.rotateGraphic.geometry=k(h,this._angleOfRotation,l)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=y(s,e,i,this.view);for(const r of this.graphics)r!==t&&(r.geometry=y(r.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=y(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const s of this.graphics)s.geometry=y(s.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:e}=this;this._set(\"centerGraphic\",new m(null,e.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new m(null,e.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new m(null,e.rotatorLine,t),this._set(\"rotateGraphic\",new m(null,e.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let i=0;i<8;i++)this.handleGraphics.push(new m(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_showGraphicsAfterUpdate(){this.enableRotation&&(this._rotateLineGraphic.visible=!0,this.rotateGraphic.visible=!0),this.showCenterGraphic&&(this.centerGraphic.visible=!0),this.enableScaling&&this.handleGraphics.forEach((t=>t.visible=!0))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new h({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(v()),a=(i+t)/2,o=(s+e)/2;this.centerGraphic.geometry=new r(a,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new r(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new c({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new r(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new r(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new r(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&e(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(v());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new R(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new C(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new j(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new O(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([i()],N.prototype,\"_rotateLineGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"type\",void 0),t([i()],N.prototype,\"callbacks\",void 0),t([i({readOnly:!0})],N.prototype,\"centerGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"backgroundGraphic\",void 0),t([i()],N.prototype,\"enableMovement\",void 0),t([i()],N.prototype,\"enableRotation\",void 0),t([i()],N.prototype,\"enableScaling\",void 0),t([i()],N.prototype,\"graphics\",void 0),t([i({readOnly:!0})],N.prototype,\"handleGraphics\",void 0),t([i()],N.prototype,\"layer\",void 0),t([i()],N.prototype,\"preserveAspectRatio\",void 0),t([i({readOnly:!0})],N.prototype,\"rotateGraphic\",void 0),t([i()],N.prototype,\"showCenterGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"state\",null),t([i({value:Y})],N.prototype,\"symbols\",null),t([i()],N.prototype,\"view\",void 0),N=t([s(\"esri.views.draw.support.Box\")],N);var A=N;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}