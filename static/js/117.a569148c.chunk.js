(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[117],{1061:function(e,t,i){"use strict";var r,o=i(91),a=i(82),n=(i(80),i(92)),s=(i(81),i(88)),l=i(85),d=i(102),p=i(84),c=(i(83),i(86),i(87),i(705)),u=i(639),b=i(90),y=i(109),j=r=class extends b.a{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:Object(n.a)(this.color)})}};Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"description",void 0),Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(a.a)([Object(l.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],j.prototype,"minValue",void 0),Object(a.a)([Object(l.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],j.prototype,"maxValue",void 0),Object(a.a)([Object(l.b)({type:y.a,json:{type:[s.a],write:!0}})],j.prototype,"color",void 0);var O,f=j=r=Object(a.a)([Object(p.a)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],j),h=O=class extends c.a{constructor(e){super(e),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new O(Object(o.a)(Object(o.a)({},this.cloneProperties()),{},{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:Object(n.a)(this.colorClassBreakInfos),legendOptions:Object(n.a)(this.legendOptions)}))}};Object(a.a)([Object(d.a)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],h.prototype,"type",void 0),Object(a.a)([Object(l.b)({json:{write:!0},type:String})],h.prototype,"field",void 0),Object(a.a)([Object(l.b)({type:u.a,json:{write:!0}})],h.prototype,"legendOptions",void 0),Object(a.a)([Object(l.b)({type:c.a.fieldTransformTypeKebabDict.apiValues,json:{type:c.a.fieldTransformTypeKebabDict.jsonValues,read:c.a.fieldTransformTypeKebabDict.read,write:c.a.fieldTransformTypeKebabDict.write}})],h.prototype,"fieldTransformType",void 0),Object(a.a)([Object(l.b)({type:[f],json:{write:!0}})],h.prototype,"colorClassBreakInfos",void 0);var v=h=O=Object(a.a)([Object(p.a)("esri.renderers.PointCloudClassBreaksRenderer")],h);t.a=v},1062:function(e,t,i){"use strict";var r,o=i(91),a=i(82),n=(i(80),i(92)),s=(i(81),i(88)),l=i(85),d=i(102),p=i(84),c=(i(83),i(86),i(87),i(705)),u=i(639),b=i(90),y=i(109),j=r=class extends b.a{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new r({description:this.description,label:this.label,values:Object(n.a)(this.values),color:Object(n.a)(this.color)})}};Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"description",void 0),Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(a.a)([Object(l.b)({type:[String],json:{write:!0}})],j.prototype,"values",void 0),Object(a.a)([Object(l.b)({type:y.a,json:{type:[s.a],write:!0}})],j.prototype,"color",void 0);var O,f=j=r=Object(a.a)([Object(p.a)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],j),h=O=class extends c.a{constructor(e){super(e),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new O(Object(o.a)(Object(o.a)({},this.cloneProperties()),{},{field:Object(n.a)(this.field),fieldTransformType:Object(n.a)(this.fieldTransformType),colorUniqueValueInfos:Object(n.a)(this.colorUniqueValueInfos),legendOptions:Object(n.a)(this.legendOptions)}))}};Object(a.a)([Object(d.a)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],h.prototype,"type",void 0),Object(a.a)([Object(l.b)({json:{write:!0},type:String})],h.prototype,"field",void 0),Object(a.a)([Object(l.b)({type:c.a.fieldTransformTypeKebabDict.apiValues,json:{type:c.a.fieldTransformTypeKebabDict.jsonValues,read:c.a.fieldTransformTypeKebabDict.read,write:c.a.fieldTransformTypeKebabDict.write}})],h.prototype,"fieldTransformType",void 0),Object(a.a)([Object(l.b)({type:[f],json:{write:!0}})],h.prototype,"colorUniqueValueInfos",void 0),Object(a.a)([Object(l.b)({type:u.a,json:{write:!0}})],h.prototype,"legendOptions",void 0);var v=h=O=Object(a.a)([Object(p.a)("esri.renderers.PointCloudUniqueValueRenderer")],h);t.a=v},155:function(e,t,i){"use strict";var r,o=i(82),a=(i(80),i(81),i(88)),n=i(85),s=i(95),l=i(102),d=i(98),p=i(84),c=(i(83),i(86),i(87),i(90)),u=i(149),b=i(237),y=new s.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),j=r=class extends c.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){var i;try{i=JSON.parse(t)}catch(r){}return i?i.value:null}readValueType(e,{description:t}){var i;try{i=JSON.parse(t)}catch(r){}return i?y.fromJSON(i.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(o.a)([Object(n.b)({type:String,json:{write:!0}})],j.prototype,"alias",void 0),Object(o.a)([Object(n.b)({type:[String,Number],json:{write:{allowNull:!0}}})],j.prototype,"defaultValue",void 0),Object(o.a)([Object(n.b)()],j.prototype,"description",void 0),Object(o.a)([Object(d.a)("description")],j.prototype,"readDescription",null),Object(o.a)([Object(n.b)({types:u.d,json:{read:{reader:u.b},write:!0}})],j.prototype,"domain",void 0),Object(o.a)([Object(n.b)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),Object(o.a)([Object(n.b)({type:a.a,json:{write:!0}})],j.prototype,"length",void 0),Object(o.a)([Object(n.b)({type:String,json:{write:!0}})],j.prototype,"name",void 0),Object(o.a)([Object(n.b)({type:Boolean,json:{write:!0}})],j.prototype,"nullable",void 0),Object(o.a)([Object(l.a)(b.a)],j.prototype,"type",void 0),Object(o.a)([Object(n.b)()],j.prototype,"valueType",void 0),Object(o.a)([Object(d.a)("valueType",["description"])],j.prototype,"readValueType",null);var O=j=r=Object(o.a)([Object(p.a)("esri.layers.support.Field")],j);t.a=O},207:function(e,t,i){"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function o(e){return e.toLowerCase().trim()}t.a=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],e){var t=[];for(var i of e){var a=i&&i.name;if(a){var n=o(a);this._fieldsMap.set(a,i),this._fieldsMap.set(n,i),t.push(n),r(i)&&(this.dateFields.push(i),this._dateFieldsSet.add(i))}}t.sort(),this.uid=t.join(",")}}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){var t=this.get(e);if(t)return t.name}}},237:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r=new(i(95).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},274:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i(118),o=(i(361),i(391)),a=(i(392),i(355)),n=i(296),s=i(393),l=(i(394),i(338),i(169)),d=["oid","global-id"],p=["oid","global-id","guid"];function c({displayField:e,editFieldsInfo:t,fields:i,objectIdField:a,title:n},d){if(!i)return null;var p=f({editFieldsInfo:t,fields:i,objectIdField:a},d);if(!p.length)return null;var c=function(e){var t=Object(r.n)(e),{titleBase:i}=e;return t?"".concat(i,": {").concat(t.trim(),"}"):i}({titleBase:n,fields:i,displayField:e}),u=[new s.a,new o.a];return new l.a({title:c,content:u,fieldInfos:p})}var u=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],b=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:r})=>r?r.has(e.name):!j(e.name,t)&&(!i||e.name!==i)&&!(d.indexOf(e.type)>-1)&&!u.some((t=>t.test(e.name)));function y(e,t){return"oid"===e.type?-1:"oid"===t.type?1:v(e)?-1:v(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function j(e,t){if(!e||!t)return!1;var{creationDateField:i,creatorField:r,editDateField:o,editorField:a}=t;return-1!==[i&&i.toLowerCase(),r&&r.toLowerCase(),o&&o.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function O(e,t){return e.editable&&-1===p.indexOf(e.type)&&!j(e.name,t)}function f({editFieldsInfo:e,fields:t,objectIdField:i},r){return function(e,t){var i=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===i&&(e=e.slice()),e.sort(y),e}(t,(null==r?void 0:r.ignoreFieldTypes)||m).map((t=>new n.a({fieldName:t.name,isEditable:O(t,e),label:t.alias,format:h(t),visible:b(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:null==r?void 0:r.visibleFieldNames})})))}function h(e){switch(e.type){case"small-integer":case"integer":case"single":return new a.a({digitSeparator:!0,places:0});case"double":return new a.a({digitSeparator:!0,places:2});case"date":return new a.a({dateFormat:"long-month-day-year"});default:return null}}function v(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var m=["geometry","blob","raster","guid","xml"]},335:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(81),o=i(118),a=i(155),n=r.a.getLogger("esri.layers.support.fieldProperties");function s(){return{fields:{type:[a.a],value:null},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(var t of e)Object(o.t)(this.fields,t)||n.error("field-attributes-layer:invalid-field","Invalid field ".concat(t," found in outFields"),{layer:this,outFields:e});return Object(o.k)(this.fields,e)}}}}},639:function(e,t,i){"use strict";var r,o=i(82),a=(i(80),i(81),i(88),i(85)),n=i(84),s=(i(83),i(86),i(87),i(90)),l=r=class extends s.a{constructor(){super(...arguments),this.title=null}clone(){return new r({title:this.title})}};Object(o.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"title",void 0);var d=l=r=Object(o.a)([Object(n.a)("esri.renderers.support.LegendOptions")],l);t.a=d},705:function(e,t,i){"use strict";var r,o=i(82),a=(i(80),i(92)),n=(i(81),i(88),i(85)),s=i(95),l=i(84),d=(i(83),i(86),i(87),i(90)),p=r=class extends d.a{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new r({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};Object(o.a)([Object(n.b)({type:String,json:{write:!0}})],p.prototype,"field",void 0),Object(o.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,"minValue",void 0),Object(o.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,"maxValue",void 0);var c=p=r=Object(o.a)([Object(l.a)("esri.renderers.support.pointCloud.ColorModulation")],p),u=new s.a({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"}),b=class extends d.a{};Object(o.a)([Object(n.b)({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],b.prototype,"type",void 0);var y,j=b=Object(o.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],b),O=i(102),f=y=class extends j{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new y({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};Object(o.a)([Object(O.a)({pointCloudFixedSizeAlgorithm:"fixed-size"})],f.prototype,"type",void 0),Object(o.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"size",void 0),Object(o.a)([Object(n.b)({type:Boolean,json:{write:!0}})],f.prototype,"useRealWorldSymbolSizes",void 0);var h,v=f=y=Object(o.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],f),m=h=class extends j{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new h({scaleFactor:this.scaleFactor})}};Object(o.a)([Object(O.a)({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0),Object(o.a)([Object(n.b)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0),m=h=Object(o.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m);var g={key:"type",base:j,typeMap:{"fixed-size":v,splat:m}},w=Object(s.b)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"}),T=class extends d.a{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:Object(a.a)(this.pointSizeAlgorithm),colorModulation:Object(a.a)(this.colorModulation),pointsPerInch:Object(a.a)(this.pointsPerInch)}}};Object(o.a)([Object(n.b)({type:w.apiValues,readOnly:!0,nonNullable:!0,json:{type:w.jsonValues,read:!1,write:w.write}})],T.prototype,"type",void 0),Object(o.a)([Object(n.b)({types:g,json:{write:!0}})],T.prototype,"pointSizeAlgorithm",void 0),Object(o.a)([Object(n.b)({type:c,json:{write:!0}})],T.prototype,"colorModulation",void 0),Object(o.a)([Object(n.b)({json:{write:!0},nonNullable:!0,type:Number})],T.prototype,"pointsPerInch",void 0),T=Object(o.a)([Object(l.a)("esri.renderers.PointCloudRenderer")],T),(T||(T={})).fieldTransformTypeKebabDict=new s.a({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});var F=T;t.a=F},813:function(e,t,i){"use strict";var r,o=i(82),a=(i(80),i(81),i(88)),n=i(85),s=i(84),l=i(96),d=(i(83),i(86),i(87),i(90)),p=i(109),c=r=class extends d.a{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=null==e?0:e}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};Object(o.a)([Object(n.b)({type:p.a,json:{type:[a.a],write:!0}})],c.prototype,"color",void 0),Object(o.a)([Object(n.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(o.a)([Object(n.b)({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"value",void 0),Object(o.a)([Object(l.a)("value")],c.prototype,"writeValue",null);var u=c=r=Object(o.a)([Object(s.a)("esri.renderers.visualVariables.support.ColorStop")],c);t.a=u},861:function(e,t,i){"use strict";i.r(t);var r=i(7),o=i(91),a=i(82),n=(i(80),i(92)),s=i(124),l=i(89),d=i(81),p=i(88),c=i(85),u=i(98),b=i(84),y=i(96),j=i(93),O=i(83),f=(i(86),i(87),i(94)),h=i(637),v=i(169),m=i(106),g=i(218),w=i(186),T=i(181),F=i(283),S=i(155),C=i(207),I=i(377),x=i(273),V=i(204),P=i(335),R=i(274),N=i(803),B=i(90),q=class extends B.a{constructor(e){super(e),this.field=null,this.type=null}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}};Object(a.a)([Object(c.b)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],q.prototype,"field",void 0),Object(a.a)([Object(c.b)({readOnly:!0,nonNullable:!0,json:{read:!1}})],q.prototype,"type",void 0);var D,_=q=Object(a.a)([Object(b.a)("esri.layers.pointCloudFilters.PointCloudFilter")],q),L=i(102),k=D=class extends _{constructor(e){super(e),this.requiredClearBits=null,this.requiredSetBits=null,this.type="bitfield"}clone(){return new D({field:this.field,requiredClearBits:Object(n.a)(this.requiredClearBits),requiredSetBits:Object(n.a)(this.requiredSetBits)})}};Object(a.a)([Object(c.b)({type:[p.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredSetBits}}}}})],k.prototype,"requiredClearBits",void 0),Object(a.a)([Object(c.b)({type:[p.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredClearBits}}}}})],k.prototype,"requiredSetBits",void 0),Object(a.a)([Object(L.a)({pointCloudBitfieldFilter:"bitfield"})],k.prototype,"type",void 0);var z,M=k=D=Object(a.a)([Object(b.a)("esri.layers.pointCloudFilters.PointCloudBitfieldFilter")],k),A=z=class extends _{constructor(e){super(e),this.includedReturns=[],this.type="return"}clone(){return new z({field:this.field,includedReturns:Object(n.a)(this.includedReturns)})}};Object(a.a)([Object(c.b)({type:[["firstOfMany","last","lastOfMany","single"]],json:{write:{enabled:!0,isRequired:!0}}})],A.prototype,"includedReturns",void 0),Object(a.a)([Object(L.a)({pointCloudReturnFilter:"return"})],A.prototype,"type",void 0);var K,E=A=z=Object(a.a)([Object(b.a)("esri.layers.pointCloudFilters.PointCloudReturnFilter")],A),$=K=class extends _{constructor(e){super(e),this.mode="exclude",this.type="value",this.values=[]}clone(){return new K({field:this.field,mode:this.mode,values:Object(n.a)(this.values)})}};Object(a.a)([Object(c.b)({type:["exclude","include"],json:{write:{enabled:!0,isRequired:!0}}})],$.prototype,"mode",void 0),Object(a.a)([Object(L.a)({pointCloudValueFilter:"value"})],$.prototype,"type",void 0),Object(a.a)([Object(c.b)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],$.prototype,"values",void 0),$=K=Object(a.a)([Object(b.a)("esri.layers.pointCloudFilters.PointCloudValueFilter")],$);var U,G={key:"type",base:_,typeMap:{value:$,bitfield:M,return:E}},J=i(705),W=i(1061),X=U=class extends J.a{constructor(e){super(e),this.type="point-cloud-rgb",this.field=null}clone(){return new U(Object(o.a)(Object(o.a)({},this.cloneProperties()),{},{field:Object(n.a)(this.field)}))}};Object(a.a)([Object(L.a)({pointCloudRGBRenderer:"point-cloud-rgb"})],X.prototype,"type",void 0),Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],X.prototype,"field",void 0);var H=X=U=Object(a.a)([Object(b.a)("esri.renderers.PointCloudRGBRenderer")],X),Q=i(970),Y=i(1062),Z={key:"type",base:J.a,typeMap:{"point-cloud-class-breaks":W.a,"point-cloud-rgb":H,"point-cloud-stretch":Q.a,"point-cloud-unique-value":Y.a},errorContext:"renderer"},ee=d.a.getLogger("esri.layers.PointCloudLayer"),te=Object(P.a)(),ie=class extends(Object(N.a)(Object(I.a)(Object(F.a)(Object(x.a)(Object(V.a)(Object(w.a)(g.a))))))){constructor(...e){super(...e),this.operationalLayerType="PointCloudLayer",this.popupEnabled=!0,this.popupTemplate=null,this.opacity=1,this.filters=[],this.fields=null,this.outFields=null,this.path=null,this.legendEnabled=!0,this.renderer=null,this.type="point-cloud"}normalizeCtorArgs(e,t){return"string"==typeof e?Object(o.a)({url:e},t):e}get defaultPopupTemplate(){return this.attributeStorageInfo?this.createPopupTemplate():null}get fieldsIndex(){return new C.a(this.fields)}getFieldDomain(e){var t=this.fieldsIndex.get(e);return t&&t.domain?t.domain:null}readServiceFields(e,t,i){return Array.isArray(e)?e.map((e=>{var t=new S.a;return"FieldTypeInteger"===e.type&&((e=Object(n.a)(e)).type="esriFieldTypeInteger"),t.read(e,i),t})):Array.isArray(t.attributeStorageInfo)?t.attributeStorageInfo.map((e=>new S.a({name:e.name,type:"ELEVATION"===e.name?"double":"integer"}))):null}set elevationInfo(e){this._set("elevationInfo",e),this._validateElevationInfo()}writeRenderer(e,t,i,r){Object(s.c)("layerDefinition.drawingInfo.renderer",e.write(null,r),t)}load(e){var t=Object(l.k)(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(f.t).then((()=>this._fetchService(t)));return this.addResolvingPromise(i),Promise.resolve(this)}createPopupTemplate(e){var t=Object(R.a)(this,e);return this.formatPopupTemplateReturnsField(t),this.formatPopupTemplateRGBField(t),t}formatPopupTemplateReturnsField(e){var t=this.fieldsIndex.get("RETURNS");if(t){var i=e.fieldInfos.find((e=>e.fieldName===t.name));if(i){var r=new h.a({name:"pcl-returns-decoded",title:t.alias||t.name,expression:"\n        var returnValue = $feature.".concat(t.name,';\n        return (returnValue % 16) + " / " + Floor(returnValue / 16);\n      ')});e.expressionInfos=[...e.expressionInfos||[],r],i.fieldName="expression/pcl-returns-decoded"}}}formatPopupTemplateRGBField(e){var t=this.fieldsIndex.get("RGB");if(t){var i=e.fieldInfos.find((e=>e.fieldName===t.name));if(i){var r=new h.a({name:"pcl-rgb-decoded",title:t.alias||t.name,expression:"\n        var rgb = $feature.".concat(t.name,';\n        var red = Floor(rgb / 65536, 0);\n        var green = Floor((rgb - (red * 65536)) / 256,0);\n        var blue = rgb - (red * 65536) - (green * 256);\n\n        return "rgb(" + red + "," + green + "," + blue + ")";\n      ')});e.expressionInfos=[...e.expressionInfos||[],r],i.fieldName="expression/pcl-rgb-decoded"}}}queryCachedStatistics(e,t){var i=this;return Object(r.a)((function*(){if(yield i.load(t),!i.attributeStorageInfo)throw new j.a("scenelayer:no-cached-statistics","Cached statistics are not available for this layer");var r=i.fieldsIndex.get(e);if(!r)throw new j.a("pointcloudlayer:field-unexisting","Field '".concat(e,"' does not exist on the layer"));for(var o of i.attributeStorageInfo)if(o.name===r.name){var a=Object(O.y)(i.parsedUrl.path,"./statistics/".concat(o.key));return Object(m.default)(a,{query:{f:"json"},responseType:"json",signal:t?t.signal:null}).then((e=>e.data))}throw new j.a("pointcloudlayer:no-cached-statistics","Cached statistics for this attribute are not available")}))()}saveAs(e,t){var i=this;return Object(r.a)((function*(){return i._debouncedSaveOperations(1,Object(o.a)(Object(o.a)({},t),{},{getTypeKeywords:()=>i._getTypeKeywords(),portalItemLayerType:"point-cloud"}),e)}))()}save(){var e=this;return Object(r.a)((function*(){var t={getTypeKeywords:()=>e._getTypeKeywords(),portalItemLayerType:"point-cloud"};return e._debouncedSaveOperations(0,t)}))()}validateLayer(e){if(e.layerType&&"PointCloud"!==e.layerType)throw new j.a("pointcloudlayer:layer-type-not-supported","PointCloudLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new j.a("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x-2.x"});if(this.version.major>2)throw new j.a("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x-2.x"})}hasCachedStatistics(e){return null!=this.attributeStorageInfo&&this.attributeStorageInfo.some((t=>t.name===e))}_getTypeKeywords(){return["PointCloud"]}_validateElevationInfo(){var e=this.elevationInfo;e&&("absolute-height"!==e.mode&&ee.warn(".elevationInfo=","Point cloud layers only support absolute-height elevation mode"),e.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression&&ee.warn(".elevationInfo=","Point cloud layers do not support featureExpressionInfo"))}};Object(a.a)([Object(c.b)({type:["PointCloudLayer"]})],ie.prototype,"operationalLayerType",void 0),Object(a.a)([Object(c.b)(T.j)],ie.prototype,"popupEnabled",void 0),Object(a.a)([Object(c.b)({type:v.a,json:{name:"popupInfo",write:!0}})],ie.prototype,"popupTemplate",void 0),Object(a.a)([Object(c.b)({readOnly:!0,json:{read:!1}})],ie.prototype,"defaultPopupTemplate",null),Object(a.a)([Object(c.b)({readOnly:!0,json:{write:!1,read:!1,origins:{"web-document":{write:!1,read:!1}}}})],ie.prototype,"opacity",void 0),Object(a.a)([Object(c.b)({type:["show","hide"]})],ie.prototype,"listMode",void 0),Object(a.a)([Object(c.b)({types:[G],json:{origins:{service:{read:{source:"filters"}}},name:"layerDefinition.filters",write:!0}})],ie.prototype,"filters",void 0),Object(a.a)([Object(c.b)({type:[S.a]})],ie.prototype,"fields",void 0),Object(a.a)([Object(c.b)({readOnly:!0})],ie.prototype,"fieldsIndex",null),Object(a.a)([Object(u.a)("service","fields",["fields","attributeStorageInfo"])],ie.prototype,"readServiceFields",null),Object(a.a)([Object(c.b)(te.outFields)],ie.prototype,"outFields",void 0),Object(a.a)([Object(c.b)({readOnly:!0})],ie.prototype,"attributeStorageInfo",void 0),Object(a.a)([Object(c.b)(T.b)],ie.prototype,"elevationInfo",null),Object(a.a)([Object(c.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],ie.prototype,"path",void 0),Object(a.a)([Object(c.b)(T.e)],ie.prototype,"legendEnabled",void 0),Object(a.a)([Object(c.b)({types:Z,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:{target:{"layerDefinition.drawingInfo.renderer":{types:Z},"layerDefinition.drawingInfo.transparency":{type:Number}}}}})],ie.prototype,"renderer",void 0),Object(a.a)([Object(y.a)("renderer")],ie.prototype,"writeRenderer",null),Object(a.a)([Object(c.b)({json:{read:!1},readOnly:!0})],ie.prototype,"type",void 0);var re=ie=Object(a.a)([Object(b.a)("esri.layers.PointCloudLayer")],ie);t.default=re},970:function(e,t,i){"use strict";var r,o=i(91),a=i(82),n=(i(80),i(92)),s=(i(81),i(88),i(85)),l=i(102),d=i(84),p=(i(83),i(86),i(87),i(705)),c=i(639),u=i(813),b=r=class extends p.a{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new r(Object(o.a)(Object(o.a)({},this.cloneProperties()),{},{field:Object(n.a)(this.field),fieldTransformType:Object(n.a)(this.fieldTransformType),stops:Object(n.a)(this.stops),legendOptions:Object(n.a)(this.legendOptions)}))}};Object(a.a)([Object(l.a)({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0),Object(a.a)([Object(s.b)({json:{write:!0},type:String})],b.prototype,"field",void 0),Object(a.a)([Object(s.b)({type:c.a,json:{write:!0}})],b.prototype,"legendOptions",void 0),Object(a.a)([Object(s.b)({type:p.a.fieldTransformTypeKebabDict.apiValues,json:{type:p.a.fieldTransformTypeKebabDict.jsonValues,read:p.a.fieldTransformTypeKebabDict.read,write:p.a.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0),Object(a.a)([Object(s.b)({type:[u.a],json:{write:!0}})],b.prototype,"stops",void 0);var y=b=r=Object(a.a)([Object(d.a)("esri.renderers.PointCloudStretchRenderer")],b);t.a=y}}]);
//# sourceMappingURL=117.a569148c.chunk.js.map