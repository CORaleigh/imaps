{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"names":["c","Map","a","constructor","t","e","this","_timer","_cachedBlocks","_size","_duration","_interval","Math","min","decreaseRefCount","s","r","has","get","refCount","delete","controller","abort","getBlock","ts","Date","now","set","block","putBlock","i","trim","updateTimer","deleteBlock","updateMaxSize","empty","clear","clearTimer","getCurrentSize","size","setInterval","Array","from","length","clearInterval","n","extent","rasterInfo","cache","push","u","some","h","o","m","l","x","isResolved","isRejected","then","catch","d","g","f","y","xmin","xmax","ymin","ymax","clone","normalize","spatialReference","p","transform","k","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","storageInfo","R","origin","C","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","super","bitmap","coordScale","once","ready","destroy","stage","stencilRef","setTransform","transforms","dvs","_createTransforms","tileMat3","onAttach","onDetach","arguments","isCustomTilingScheme","createTile","_getTileBounds","_tileInfoView","tileInfo","destroyTile","prepareRenderPasses","registerRenderPass","name","brushes","raster","target","children","map","drawPhase","MAP","doRender","visible","getTileBounds","world","resolution","lodAt","level","_emptyTilePixelBlock","container","layer","tileSize","useWebGLForProcessing","fetchTile","row","col","createEmptyTilePixelBlock","join","width","height","pixels","Uint8Array","mask","pixelType","prototype","type","canUseWebGLForProcessing","symbolizer","canRenderInWebGL","interpolation","_canUseMajorityInterpolationOnDataSource","bandIds","_getLayerInterpolation","source","symbolizerParams","globalSymbolizerParams","suspended","coords","pixelBlock","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","invalidateTexture","local","global","install","tileInfoView","addChild","uninstall","removeAllChildren","remove","bandCount","attributeTable","colormap","renderer","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","dispose","scalar","JSON","stringify","invalidateVAO","requestRender","updateVectorFieldVAO","style","_createVectorFieldVAO","context","vertexData","indexData","createVertex","Float32Array","createIndex","Uint32Array","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","tileData","pixelRatio","offset","toScreenNoRotation","symbolTileSize","round","D","rangeX","rangeY","displayViewMat3","symbolTypes","renderPass","_handle","dataType","convertVectorFieldData","updateTileSource","key","_getTileSymbolOffset","_sampleVectorFieldData","Promise","resolve","updateTileSymbolizerParameters","_updateSymbolType","watch","_rasterFieldPrefix","view","fullExtent","datumTransformation","dynamicRangeAdjustment","reject","popupEnabled","popupTemplate","value","magdirValue","identify","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","features","filter","Value","VALUE","String","hasOwnProperty","sourceLayer","updateFullExtent","_set","fieldInfos","_getFieldInfo","format","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","Number","isNaN","readOnly","L","getLogger","V","q","U","z","T","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","subview","_redrawOrRefetch","doRefresh","_redrawImage","initialize","addResolvingPromise","_get","useProgressiveUpdate","_getCacheSize","cachePolicy","acquireTile","releaseTile","cacheSize","requestUpdate","hitTest","toMap","update","pause","state","resume","scale","getClosestInfoForScale","toJSON","F","fromJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","notifyChange","attach","increaseRasterJobHandlerUsage","supportsTextureFloat","_initializeTileInfo","_computeFetchConcurrency","S","concurrency","process","_updatesubview","handles","error","blendMode","effect","_updateBlockCacheRegistry","detach","decreaseRasterJobHandlerUsage","moveStart","viewChange","moveEnd","signal","createFetchPopupFeaturesQueryGeometry","updateRenderer","reset","tiles","_enqueueTileFetch","isUpdating","id","removeChild","allowPartialFill","registryId","requestRawData","srcResolution","_isVectorField","scales","srcResolutions","create","blockBoundary","maxCol","minCol","maxRow","minRow","moving","getTileCoords","getTileResolution","_updateGlobalSymbolizerParams","async","fetchPixels","generateWebGLParameters","isGCS","isGeographic","factor","outMin","outMax","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","_","G","EventedMixin","parent","when","title","declaredClass","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","Boolean","triangleCountReportedInDebug","triangleCount","texture","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","on","whenLayerView","destroyed","isVisibleAtScale","minScale","maxScale","processUpdate","isFulfilled","isRendering","renderChildren","sortChildren","setStencilReference","createRenderParams","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","updateTransforms","xoffset","abs","yoffset","stops","maxSize","minSize","event","pointerType","visualVariables","symbol","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","intersects","PI","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","sqrt","atan2","cos","sin","createEmptyBand","validPixelCount","maskIsAlpha","updateStatistics","A","N","J","pennants","barbs","shaft","MAX_VALUE","inputUnit","random","outputUnit","breakValues","isWGS84","isWebMercator","center","apply","wkid","W","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","pyramidScalingFactor","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","cols","rows","NaN","offsets","coefficients","spacing","pixelSize","pyramidResolutions","log","LN2","projectedPixelSize","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"mappings":"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","file":"static/js/42.7bae5227.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../layers/support/PixelBlock.js\";let l=class extends r{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this.container=null,this.layer=null,this.tileSize=null,this.useWebGLForProcessing=!0}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}createEmptyTilePixelBlock(e=null){const r=null==e||e.join(\",\")===this.tileSize.join(\",\");if(r&&o(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this.tileSize;const[t,i]=e,l=new s({width:t,height:i,pixels:[new Uint8Array(t*i)],mask:new Uint8Array(t*i),pixelType:\"u8\"});return r&&(this._emptyTilePixelBlock=l),l}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([i(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],l);export{l as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as s}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as i}from\"./BaseImageryTileSubView2D.js\";let a=class extends i{constructor(){super(...arguments),this.container=null,this.layer=null,this.tileSize=null,this.type=\"raster\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:o}=this.layer,s=this._getLayerInterpolation(),i=this.canUseWebGLForProcessing(),{source:a,symbolizerParams:n,globalSymbolizerParams:l,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,a&&r(a)&&r(a.pixelBlock)){const e={extent:a.extent,pixelBlock:a.pixelBlock};if(d.rawPixelData=e,i)d.source=a.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==l?void 0:l.type)?l:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=i?n:null,i?d.transformGrid||(d.transformGrid=a.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=i?n:null,d.transformGrid=null}d.bandIds=o,d.width=this.tileSize[0],d.height=this.tileSize[1],d.interpolation=s,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:o,global:s}=t,{bandIds:i}=this.layer,a=this._getLayerInterpolation(),n=this.canUseWebGLForProcessing(),{bitmap:l}=e,{rawPixelData:c}=l;!n&&r(c)?(l.source=await this.layer.applyRenderer(c,\"stretch\"===(null==s?void 0:s.type)?s:null),l.isRendereredSource=!0):(l.isRendereredSource&&r(c)&&(l.source=c.pixelBlock),l.isRendereredSource=!1),l.symbolizerParameters=n?s||o:null,l.bandIds=i,l.interpolation=a,l.suspended=!1}install(e,r){this.container=new s(r.tileInfoView),this.container.isCustomTilingScheme=r.isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove()}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:r,colormap:t,pixelType:o}=this.layer.rasterInfo;return 1===e&&(null!=r||null!=t||\"u8\"===o||\"s8\"===o)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],a.prototype,\"container\",void 0),e([t()],a.prototype,\"layer\",void 0),e([t()],a.prototype,\"tileSize\",void 0),e([t()],a.prototype,\"type\",void 0),e([t()],a.prototype,\"useWebGLForProcessing\",void 0),a=e([o(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],a);var n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/renderState.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.tileSize=null,this.type=\"rasterVF\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this.tileSize[0],s.height=this.tileSize[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this.tileSize[0]-s.offset[0])/o),Math.round((this.tileSize[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e,t){this.container=new o(t.tileInfoView),this.container.isCustomTilingScheme=t.isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove()}_getTileSymbolOffset(e,t){const i=e.col*this.tileSize[0]%t,r=e.row*this.tileSize[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"tileSize\",void 0),e([i()],a.prototype,\"type\",void 0),e([i()],a.prototype,\"useWebGLForProcessing\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);var c=a;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as s,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:a}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a}));const{popupEnabled:s}=a,n=l(a,o);if(!s||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:s,popupTemplate:n});const u=[],{value:p,magdirValue:m}=await a.identify(e);let f=\"\";if(p&&p.length){var c,h;f=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=p[0]?p.map((e=>a.getStandardTimeValue(e))).join(\", \"):p.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=a.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=a.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const s=new t(this.fullExtent.clone(),null,e);s.layer=a,s.sourceLayer=s.layer,u.push(s)}return u}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const i=s(this.layer.fullExtent,this.view.spatialReference,!1),o=n(this.layer.fullExtent,this.view.spatialReference,i);return null==o&&(t=new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",o),this.datumTransformation||(this.datumTransformation=s(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([o()],p.prototype,\"layer\",void 0),e([o()],p.prototype,\"view\",void 0),e([o()],p.prototype,\"fullExtent\",void 0),e([o()],p.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],p.prototype,\"hasTilingEffects\",null),p=e([a(\"esri.views.layers.ImageryTileLayerView\")],p),p};export{u as ImageryTileLayerView,u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as a,createAbortController as l,eachAlways as h}from\"../../../core/promiseUtils.js\";import{createScreenPoint as n}from\"../../../core/screenUtils.js\";import{watch as c,init as u}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../layers/support/TileInfo.js\";import{update as y,unregister as g,register as f,getRasterId as _}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as b}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView2DMixin as v}from\"./LayerView2D.js\";import I from\"./imagery/ImageryTileView2D.js\";import C from\"./imagery/VectorFieldTileView2D.js\";import P from\"../tiling/TileInfoView.js\";import S from\"../tiling/TileQueue.js\";import R from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as U}from\"../../layers/ImageryTileLayerView.js\";import T from\"../../layers/LayerView.js\";import{RefreshableLayerView as z}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as j}from\"../../support/drapedUtils.js\";import k from\"../../webgl/capabilities.js\";import F from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const L=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),V=[0,0];let q=class extends(U(z(v(T)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.subview=null,this._redrawOrRefetch=o(((e,t)=>e?this.doRefresh():this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this.subview&&(this.subview.useWebGLForProcessing=e),this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){var t;this._tileStrategy.destroy(),null==(t=this.subview)||t.container.removeAllChildren();const i=this._getCacheSize(e);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(n(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var o;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:F.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(o=this._previousLOD)?void 0:o.level)!==r.level&&(this._previousLOD=r,null==this._symbolizerParams||this.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),k().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new P(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new S({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updatesubview(),this.handles.add([c(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),o=\"renderer\"===i&&\"vector-field\"===t.type!=(\"vector-field\"===t.type);o&&this._updatesubview();const l=s||r||o;this._redrawOrRefetch(l).catch((e=>{a(e)||L.error(e)}))})),u(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),u(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0)],\"attach\"),this._updateBlockCacheRegistry()}detach(){var e;this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),null==(e=this.subview)||e.uninstall(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=l(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return j(e,t,this.view)}async doRefresh(){if(this.suspended)return;await this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await h(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this.subview.container.createTile(e);return this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){var t;this._fetchQueue.abort(e.key.id),null==(t=this.subview)||t.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,o=this.subview.canUseWebGLForProcessing(),a={allowPartialFill:!0,tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:o,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:o?\"nearest\":this.layer.interpolation};return this.subview.fetchTile(e,a)}_updatesubview(){const e=this._isVectorField()?\"rasterVF\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:t}=this,i=new(\"rasterVF\"===e?C:I)({layer:t,tileSize:this.tileInfo.size,useWebGLForProcessing:this.useWebGLForProcessing});i.install(this.container,{tileInfoView:this._tileInfoView,isCustomTilingScheme:this._isCustomTilingScheme}),i.container.blendMode=t.blendMode,i.container.effect=t.effect,this.subview=i}_isVectorField(){return\"vector-field\"===this.layer.renderer.type}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new x({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),o=m.create({spatialReference:e,size:512,scales:i});(0===o.origin.x||o.origin.x>t.x)&&(o.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",o),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){a(i)&&L.error(i)}this._globalUpdateRequested=!1}!this.subview.canUseWebGLForProcessing()&&!this._isVectorField()||this.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const o=this._tileInfoView.getTileCoords(V,e.key),l=this._tileInfoView.getTileResolution(e.key);await this.subview.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:o,resolution:l}),e.once(\"attach\",(()=>this.requestUpdate())),this.subview.container.addChild(e)}catch(i){a(i)||L.error(i)}this.requestUpdate()}}async _redrawImage(e){if(0===this.subview.container.children.length)return;await this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.subview.container.children.map((async e=>this.subview.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await h(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:b(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this.subview.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,o=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,a=_(t,o);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=f(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];y(a,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}};e([d()],q.prototype,\"subview\",void 0),e([d()],q.prototype,\"useWebGLForProcessing\",null),e([d()],q.prototype,\"useProgressiveUpdate\",null),q=e([p(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var G=q;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),d=e([p(\"esri.views.layers.LayerView\")],d);var u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};e([r({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),e([r({readOnly:!0})],c.prototype,\"version\",null),c=y=e([o(\"esri.views.layers.support.Geometry\")],c);var a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as a}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([o(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(()=>{this.doRefresh().catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{a as RefreshableLayerView,a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isSome as e}from\"../../../core/maybe.js\";import n from\"../PixelBlock.js\";import{isValidPixelBlock as r}from\"./pixelUtils.js\";const o=new Map;o.set(\"meter-per-second\",1),o.set(\"kilometer-per-hour\",.277778),o.set(\"knots\",.514444),o.set(\"feet-per-second\",.3048),o.set(\"mile-per-hour\",.44704);const a=180/Math.PI,s=5,i=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function h(t,e){return o.get(t)/o.get(e)||1}function l(t){return(450-t)%360}function c(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*a;return s=(360+s)%360,\"geographic\"===e&&(s=l(s)),[o,s]}function u(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=l(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(t,e,o=\"geographic\",a=1){if(!r(t))return t;const{pixels:s,width:i,height:h}=t,l=i*h,f=s[0],p=s[1],m=n.createEmptyBand(t.pixelType,l),M=n.createEmptyBand(t.pixelType,l);let x=0;for(let n=0;n<h;n++)for(let t=0;t<i;t++)\"vector-uv\"===e?([m[x],M[x]]=c([f[x],p[x]],o),m[x]*=a):([m[x],M[x]]=u([f[x],p[x]],o),m[x]*=a,M[x]*=a),x++;const d=new n({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[m,M]});return d.updateStatistics(),d}function p(t,e,n=1){if(1===n||!r(t))return t;const o=t.clone(),{pixels:a,width:s,height:i}=o,h=a[0],l=a[1];let c=0;for(let r=0;r<i;r++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[c]*=n,l[c]*=n):h[c]*=n,c++;return o.updateStatistics(),o}function m(t,n,r,o,a){if(!e(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:n,height:r,resolution:t.width/n};const s=a.xmin,i=a.ymax;o=Math.max(o||0,30);const h=Math.ceil(n*(1/o)),l=Math.ceil(r*(1/o)),c=((t.xmax-t.xmin)/h+(t.ymax-t.ymin)/l)/2;return t.xmin=s+Math.floor((t.xmin-s)/c)*c,t.xmax=s+Math.ceil((t.xmax-s)/c)*c,t.ymin=i+Math.floor((t.ymin-i)/c)*c,t.ymax=i+Math.ceil((t.ymax-i)/c)*c,{extent:t,width:Math.round(t.width/c),height:Math.round(t.height/c),resolution:c}}const M=x(0,0,0);function x(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,a=13*o,s=-7*o,i=-2*o,h=-16*o,l=29,[c,u]=g(0,e+a,n,l),[f,p]=g(t-5.5,e+s,n,l),[m,M]=g(t+5.5,e+s,n,l),[x,d]=g(t-1.5,e+i,n,l),[k,w]=g(t+1.5,e+i,n,l),[y,P]=g(t-1.5,e+h,n,l),[b,I]=g(t+1.5,e+h,n,l);return[c,u,f,p,x,d,k,w,m,M,y,P,b,I]}function d(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,a=5*o,i=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o;let[M,x]=[c+r/2,u-i],[d,k]=[M+f,x],[w,y]=[d-p,k+m],[P,b]=[c-r/2,u-h],[I,v]=[P+p,b-m],A=Math.ceil(t/s),_=Math.floor(A/10);A-=8*_;const U=[],S=[];for(let s=0;s<A/2;s++,_--){_<=0&&A%2==1&&s===(A-1)/2&&(P=c,I=P+p,b=(b+x)/2,v=b-m);const[t,n]=g(P,b,e,l);if(_>0){const[r,o]=g(d,b,e,l),[a,s]=g(M,x,e,l);U.push(r),U.push(o),U.push(t),U.push(n),U.push(a),U.push(s)}else{const[r,o]=g(d,k,e,l),[a,s]=g(w,y,e,l),[i,h]=g(I,v,e,l);S.push(t),S.push(n),S.push(i),S.push(h),S.push(a),S.push(s),S.push(r),S.push(o)}b+=a,x+=a,k+=a,y+=a,v+=a}const[D,F]=g(c+r/2,u+i,e,l),j=r/2+f,[N,T]=g(c+j,u+i,e,l),[q,B]=g(c+r/2,u-h,e,l),[E,J]=g(c+j,u-h,e,l);return{pennants:U,barbs:S,shaft:[D,F,N,T,q,B,E,J]}}function g(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+a-n)%(2*Math.PI)]}const k=[0,1,3,6,10,16,21,27,33,40,47,55,63],w=[0,.5,1,1.5,2],y=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(t,e,n,r){const o=h(r||\"knots\",n);let a;for(a=1;a<e.length;a++)if(a===e.length-1){if(t<e[a]*o)break}else if(t<=e[a]*o)break;return Math.min(a-1,e.length-2)}function b(t,e,n,r,o){let a=0;switch(e){case\"beaufort_kn\":a=P(t,k,\"knots\",n);break;case\"beaufort_km\":a=P(t,k,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":a=P(t,k,\"feet-per-second\",n);break;case\"beaufort_m\":a=P(t,k,\"meter-per-second\",n);break;case\"classified_arrow\":a=P(t,o,r,n);break;case\"ocean_current_m\":a=P(t,w,\"meter-per-second\",n);break;case\"ocean_current_kn\":a=P(t,y,\"knots\",n)}return a}function I(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:a}=e,s=i.fromJSON(r),h=i.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,d=t.pixels[0],g=t.pixels[1],k=x?x.filter((t=>t>0)).length:p*m,w=new Float32Array(k*l),y=new Uint32Array(c*k);for(let i=0;i<m;i++)for(let t=0;t<p;t++){const e=i*p+t;if(!x||x[i*p+t]){var P;const r=null!=(P=(g[e]+360)%360/180*Math.PI)?P:2*Math.PI*Math.random(),o=b(d[e],n,s,h,a);for(let n=0;n<M.length;n+=2)w[u++]=(t+.5)/p,w[u++]=(i+.5)/m,w[u++]=M[n],w[u++]=M[n+1]+r,w[u++]=o,w[u++]=d[e];const c=7*(u/l-1);y[f++]=c,y[f++]=c+1,y[f++]=c+2,y[f++]=c+0,y[f++]=c+4,y[f++]=c+3,y[f++]=c+0,y[f++]=c+2,y[f++]=c+3,y[f++]=c+2,y[f++]=c+5,y[f++]=c+3,y[f++]=c+5,y[f++]=c+6,y[f++]=c+3}}return{vertexData:w,indexData:y}}const v=[];function A(t,e){if(0===v.length)for(let s=0;s<30;s++)v.push(d(5*s,0));const n=h(i.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:a}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,M=0;for(let i=0;i<o;i++)for(let t=0;t<r;t++){const e=i*r+t,h=l[e]*n;if((!a||a[i*r+t])&&h>=s){var x;const n=null!=(x=(c[e]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),{pennants:a,barbs:s,shaft:l}=v[Math.min(Math.floor(h/5),29)];if(a.length+s.length===0)continue;let d=f.length/u;const g=(t+.5)/r,k=(i+.5)/o;for(let t=0;t<a.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=a[t],f[m++]=a[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<s.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<l.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<a.length/6;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,d+=3;for(let t=0;t<s.length/8;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+2,p[M++]=d+3,d+=4;p[M++]=d+0,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+3,p[M++]=d+2,d+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:a,height:i,mask:h}=t,l=t.pixels[0],c=[],u=[],f=\"wind_speed\"===e.style?s:Number.MAX_VALUE;for(let s=0;s<i;s++)for(let t=0;t<a;t++){const e=s*a+t;if((!h||h[s*a+t])&&l[e]<f){for(let n=0;n<4;n++)c[r++]=(t+.5)/a,c[r++]=(s+.5)/i,c[r++]=n<2?-.5:.5,c[r++]=n%2==0?-.5:.5,c[r++]=0,c[r++]=l[e];const h=4*(r/n-1);u[o++]=h,u[o++]=h+1,u[o++]=h+2,u[o++]=h+1,u[o++]=h+2,u[o++]=h+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function U(t,e){return\"simple_scalar\"===e.style?_(t,e):\"wind_speed\"===e.style?A(t,e):I(t,e)}function S(t,e,r,o=[0,0],a=.5){const{width:s,height:i,mask:h}=t,[l,f]=t.pixels,[p,m]=o,M=Math.round((s-p)/r),x=Math.round((i-m)/r),d=M*x,g=new Float32Array(d),k=new Float32Array(d),w=new Uint8Array(d),y=\"vector-uv\"===e;for(let n=0;n<x;n++)for(let t=0;t<M;t++){let e=0;const o=n*M+t,x=Math.max(0,n*r+m),d=Math.max(0,t*r+p),P=Math.min(i,x+r),b=Math.min(s,d+r);for(let t=x;t<P;t++)for(let n=d;n<b;n++){const r=t*s+n;if(!h||h[r]){e++;const t=y?[l[r],f[r]]:[l[r],(360+f[r])%360],[n,a]=y?t:u(t);g[o]+=n,k[o]+=a}}if(e>=(P-x)*(b-d)*(1-a)){w[o]=1;const[t,n]=c([g[o]/e,k[o]/e]);g[o]=t,k[o]=n}else w[o]=0,g[o]=0,k[o]=0}const P=new n({width:M,height:x,pixels:[g,k],mask:w});return P.updateStatistics(),P}export{f as convertVectorFieldData,p as convertVectorFieldUnit,U as createVFMesh,_ as createVFMeshScalar,h as getUnitConversionFactor,S as sampleVectorField,m as snapImageToSymbolTile,i as unitKebabDict,c as uvComponentToVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isLoaded as r,isSupported as i,load as a,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import{project as c}from\"../../../geometry/support/webMercatorUtils.js\";import x from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";const f=5e-4,u=function(e,t){const n=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||n)},p=function(e,t){const n=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,o=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs(n-e[2*t.rows+2]),Math.abs(o-e[2*t.rows+3])]},h={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},y=32;async function M(){if(r()||!i())return null;await a()}function d(t,n,o){if(!u(t.spatialReference,n))return null;if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?s(n,t.spatialReference,t):s(t.spatialReference,n,t)}function g(n,o,i,a=null){if(n.spatialReference.equals(o))return n;const s=u(n.spatialReference,o);if(s&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=i.center,f=new x({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=s?l(f,o,a):c(f,o);if(t(p))return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,t=.01){return o(e)?t/o(e):0}function R(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;let x=c(n,o);if(t(x)){if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");x=l(n,o,i)}if(a&&o.isGeographic){const[e,t]=N(s,!0),o=w(s);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<f?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<f&&(x.x+=360))}return x}function j(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new x({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function b(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=z(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return v(e,t,o,r);return j(e.clone().normalize().map((e=>v(e,t,o,r))))}function v(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;if(u(s,o)&&!r())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");let x=c(n,o);t(x)&&(x=l(n,o,i));let[p,h]=N(s,!0);if(x&&a&&s.isWebMercator&&o.isGeographic&&null!=p&&null!=h){const e=.001,t=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>t&&Math.abs(180-x.xmax)<f){x.xmin=-180;const e=[];e.push(new m(n.xmax,n.ymin,s)),e.push(new m(n.xmax,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmax,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmax=Math.max.apply(null,t)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>t&&Math.abs(180+x.xmin)<f){x.xmax=180;const e=[];e.push(new m(n.xmin,n.ymin,s)),e.push(new m(n.xmin,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmin,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmin=Math.min.apply(null,t)}}[p,h]=N(o,!0);const y=w(o);return y&&null!=p&&null!=h&&(Math.abs(x.xmin-p)<y&&(x.xmin=p),Math.abs(x.xmax-h)<y&&(x.xmax=h)),x}function S(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function N(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function W(e,t,n,o){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function z(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return W(e.xmax,r,o,!0)-W(e.xmin,r,o,!1)}function G(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const f=[],u=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=u?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,u=(c-Math.round(h/m)%c)%c;f.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:u,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:f,hasGCSSShiftTransform:u}}function P(t,o,i,a=null,s=null,l=!1,c=[y,y]){if(u(t.spatialReference,o.spatialReference)&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&o&&i))return null;const{xmin:x,ymin:f,xmax:h,ymax:M}=t,d=t.spatialReference,g=o.spatialReference,w=S(g);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((h-x)/j.x-.1/c[0])+1,rows:Math.ceil((M-f)/j.y-.1/c[1])+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let r=0;r<b.rows;r++){let i=R(new m({x:x+v*e,y:M-N*r,spatialReference:d}),g,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[r]&&n(w)&&i.x<z[r].x&&(i.x+=w),i?(W.push((i.x-o.xmin)/(o.xmax-o.xmin)),W.push((o.ymax-i.y)/(o.ymax-o.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=p(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let t=0;t<b.rows-1;t++){let n=e*b.rows*2+2*t;const o=W[n],r=W[n+1],i=W[n+2],a=W[n+3];n+=2*b.rows;const s=W[n],l=W[n+1],c=W[n+2],x=W[n+3];let m=0,f=12*(t*(b.cols-1)+e);for(let e=0;e<3;e++)C[f++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function C(e){const t=e.clone().normalize();return 1===t.length?t[0]:j(t)}function L(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,x=(i.x+i.y)/2;if(n<=x)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=x;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const f=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new m({x:f.x,y:f.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,x=Math.log(e.y/i.y)/Math.LN2,f=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,x)):\"up\"===o?Math.ceil(Math.max(c,x)):Math.round((c+x)/2),a<0?a=0:a>f&&(s=a>f+3,a=f);const u=2**a;return{pyramidLevel:a,pyramidResolution:new m({x:u*t.nativePixelSize.x,y:u*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function k(e,t,n=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new m({x:s.x,y:s.y,spatialReference:a}),t,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,x=o(t),f=c*x*96*39.37,u=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=b(i,t);p||r&&(t.isGeographic||t.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=f;const d=1.001;if(p){M=u;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*x*39.37),o=t.isGeographic?4326:3857;y=g(new m({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/n,y.y*=M/n}else{y={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;M<u*(d/2)&&n<t;)n++,M*=2,y.x*=2,y.y*=2;Math.max(M,u)/Math.min(M,u)<=d&&(M=u)}const w=[M],R=[{x:y.x,y:y.y}],j=70.5310735,v=Math.min(j,f)/d;for(;M>=v;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{k as computeProjectedScales,y as defaultGridSpacing,d as getDefaultDatumTransformationForDataset,P as getProjectionOffsetGrid,G as getRasterDatasetAlignmentInfo,z as getWorldWrapCount,M as load,b as projectExtent,R as projectPoint,g as projectResolution,C as snapExtent,L as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"sourceRoot":""}