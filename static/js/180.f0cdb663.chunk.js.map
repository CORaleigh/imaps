{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["u","a","RegExp","join","c","f","p","e","test","d","t","r","n","path","match","s","i","o","l","indexOf","title","v","slice","serverType","sublayer","parseInt","url","m","serviceUrl","sublayerId","Number","replace","toUpperCase","h","push","length","toLowerCase","w","y","g","logger","layer","layerId","nonStandardUrlAllowed","O","toString","S","C","authority","async","properties","customParameters","type","id","hasOwnProperty","name","FeatureServer","StreamServer","VectorTileServer","tileInfo","then","format","cacheType","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","layerType","FeatureLayer","SceneLayer","parsedUrl","Constructor","layerOrTableId","sublayerIds","tableIds","I","sublayerInfos","layerInfos","tableInfos","layerIds","sourceJSON","b","default","sublayerTitleMode","forEach","add","tables","find","filter","serviceJSON","currentVersion","layersJSON","map","reverse","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/180.f0cdb663.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as l}from\"../../chunks/persistableUrlUtils.js\";const u=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${u.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${u.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=/(.*)\\/(\\d+)\\/?$/i;function p(e){return!!a.test(e)}function d(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,l]=n,u=i.indexOf(\"/\");return{title:v(-1!==u?i.slice(u+1):i),serverType:o,sublayer:null!=l&&\"\"!==l?parseInt(l,10):null,url:{path:s}}}function m(e){const t=r(e).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function h(r,t){const n=[];if(r){const t=d(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=v(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function w(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",n=\"//tiles\",s=\"//features\",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function x(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function y(e,r){return e?t(n(e,r)):e}function g(s){let{url:i}=s;if(!i)return{url:i};i=n(i,s.logger);const o=r(i),l=d(o.path);let u;if(e(l))null!=l.sublayer&&null==s.layer.layerId&&(u=l.sublayer),i=l.url.path;else if(s.nonStandardUrlAllowed){const r=m(o.path);e(r)&&(i=r.serviceUrl,u=r.sublayerId)}return{url:t(i),layerId:u}}function O(e,r,t,n,i){l(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function C(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{v as cleanTitle,p as isArcGISUrl,w as isHostedAgolService,x as isHostedSecuredProxyService,C as isServerOrServicesAGOLUrl,S as isWmsServer,d as parse,m as parseNonStandardSublayerUrl,y as sanitizeUrl,g as sanitizeUrlWithLayerId,u as serverTypes,h as titleFromUrlAndName,O as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{getFilename as t,urlToObject as l}from\"../../core/urlUtils.js\";import n from\"../../request.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,y(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,y(a.tableInfos,r));e.tables.add(t)}))}async function d(r,t){let l=s(r);if(e(l)&&(l=await f(r,t)),e(l))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":m(r,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=S(r,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=S(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},I=await u;if(y[I]&&null==o){const e=await p(r,n,t);c&&(d.sublayerInfos=e.layerInfos,d.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)d.sublayerIds=e.layerIds,d.tableIds=e.tableIds;else if(c){var v,w;d.layerOrTableId=null!=(v=e.layerIds[0])?v:e.tableIds[0],d.sourceJSON=null!=(w=e.layerInfos[0])?w:e.tableInfos[0]}}return d.Constructor=await b(I),d}async function f(e,a){const n=await S(e,a);let s=null,u=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(s=\"FeatureServer\",u=n.id):\"indexedVector\"===i?s=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?s=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?s=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?s=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")&&(s=\"StreamServer\"),!s)return null;const y=null!=u?o(e):null;return{title:r(y)&&n.name||t(e),serverType:s,sublayer:u,url:{path:r(y)?y.serviceUrl:l(e).path}}}async function p(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await v(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await S(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function v(e,r){var a,t;let l=await S(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await S(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function b(e){return(0,u[e])()}async function m(e,r){return(await S(e,r)).tileInfo}async function S(e,r){return(await n(e,{responseType:\"json\",query:{f:\"json\",...r}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}