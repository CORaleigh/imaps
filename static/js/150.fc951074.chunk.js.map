{"version":3,"sources":["../node_modules/@arcgis/core/core/Identifiable.js","../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","../node_modules/@arcgis/core/layers/Layer.js","../node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","../node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","../node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","../node_modules/@arcgis/core/layers/UnknownLayer.js"],"names":["t","r","o","constructor","e","super","Object","defineProperty","this","writable","configurable","value","Date","now","toString","s","j","i","getLogger","w","arguments","resourceReferences","portalItem","paths","userHasEditingPrivileges","destroy","_get","removeOrigin","_set","readPortalItem","itemId","I","id","portal","writePortalItem","n","load","instance","supportedTypes","validateItem","supportsData","p","warn","title","fetchUserHasEditingPrivileges","catch","m","url","findCredential","P","credential","user","fetchEditingUser","a","privileges","includes","findServerInfo","owningSystemUrl","g","getDefault","loaded","u","restUrl","c","d","l","signal","h","authMode","query","f","ok","v","fromJSON","data","read","layer","write","messages","push","type","prototype","y","String","readOnly","EventedMixin","attributionDataUrl","fullExtent","WGS84","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","visible","fromUrl","error","fromItem","portalUrl","initialize","when","declaredClass","layers","remove","tables","baseLayers","referenceLayers","hasAttributionData","responseType","Boolean","nonNullable","Number","range","min","max","json","b","_propertyOriginMap","Map","_originStores","Array","_values","clone","forEach","set","has","get","keys","delete","revert","originOf","metadatas","store","internalGet","getAtOrigin","originIdOf","invalidate","commit","clear","setAtOrigin","updateOrigin","toJSON","isDefaultToJSON","O","resourceInfo","addResolvingPromise","Promise","layerType"],"mappings":"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","file":"static/js/150.fc951074.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";let t=0;const r=r=>{let o=class extends r{constructor(...e){super(...e),Object.defineProperty(this,\"uid\",{writable:!1,configurable:!1,value:Date.now().toString(16)+\"-object-\"+t++})}};return o=e([s(\"esri.core.Identifiable\")],o),o};let o=class extends(r(class{})){};o=e([s(\"esri.core.Identifiable\")],o);export{o as Identifiable,r as IdentifiableMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{id as e}from\"../../kernel.js\";import r from\"../../request.js\";import{result as s}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{isNone as a,isSome as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as m}from\"../../core/promiseUtils.js\";import{normalize as u,hasSamePortal as c}from\"../../core/urlUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as h}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as f}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import g from\"../../portal/Portal.js\";import I from\"../../portal/PortalItem.js\";import v from\"../../portal/PortalUser.js\";const j=i.getLogger(\"esri.layers.mixins.PortalLayer\"),w=i=>{let w=class extends i{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new I({id:e.itemId,portal:r&&r.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const r=await import(\"../../portal/support/layersLoader.js\");return n(e),await r.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},e)}catch(r){throw p(r)||j.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this.fetchUserHasEditingPrivileges(t).catch((t=>(m(t),!0))))}async fetchUserHasEditingPrivileges(t){const r=this.url?null==e?void 0:e.findCredential(this.url):null;if(!r)return!0;const s=P.credential===r?P.user:await this.fetchEditingUser(t);return P.credential=r,P.user=s,a(s)||null==s.privileges||s.privileges.includes(\"features:user:edit\")}async fetchEditingUser(t){var o,i;const a=null==(o=this.portalItem)||null==(i=o.portal)?void 0:i.user;if(a)return a;const n=e.findServerInfo(this.url);if(null==n||!n.owningSystemUrl)return null;const p=`${n.owningSystemUrl}/sharing/rest`,m=g.getDefault();if(m&&m.loaded&&u(m.restUrl)===u(p))return m.user;const c=`${p}/community/self`,d=l(t)?t.signal:null,h=await s(r(c,{authMode:\"no-prompt\",query:{f:\"json\"},signal:d}));return h.ok?v.fromJSON(h.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e&&e.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||g.getDefault());return r&&s&&!c(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([d({type:I})],w.prototype,\"portalItem\",null),t([h(\"web-document\",\"portalItem\",[\"itemId\"])],w.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],w.prototype,\"writePortalItem\",null),t([d()],w.prototype,\"resourceReferences\",void 0),t([d({readOnly:!0})],w.prototype,\"userHasEditingPrivileges\",void 0),w=t([f(\"esri.layers.mixins.PortalLayer\")],w),w},P={credential:null,user:null};export{w as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../config.js\";import\"../geometry.js\";import e from\"../request.js\";import o from\"../core/Error.js\";import i from\"../core/Evented.js\";import{IdentifiableMixin as a}from\"../core/Identifiable.js\";import s from\"../core/Loadable.js\";import l from\"../core/Logger.js\";import{isAbortError as p}from\"../core/promiseUtils.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"../geometry/Extent.js\";import d from\"../geometry/SpatialReference.js\";let m=0;const h=l.getLogger(\"esri.layers.Layer\");let f=class extends(i.EventedMixin(a(s))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new u(-180,-90,180,90,d.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=d.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=\"string\"==typeof t?{url:t}:t,e=await import(\"./support/arcgisLayers.js\");try{return await e.fromUrl(r)}catch(o){throw h.error(\"#fromArcGISServerUrl({ url: '\"+r.url+\"'})\",\"Failed to create layer from arcgis server url\",o),o}}static async fromPortalItem(t){const e=\"portalItem\"in t?t:{portalItem:t},o=await import(\"../portal/support/portalLayers.js\");try{return await o.fromItem(e)}catch(i){const t=e&&e.portalItem,o=t&&t.id||\"unset\",a=t&&t.portal&&t.portal.url||r.portalUrl;throw h.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+a+\"', id: '\"+o+\"')\",i),i}}initialize(){this.when().catch((t=>{var r,e;p(t)||l.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${null!=(r=this.title)?r:\"no title\"}', id: '${null!=(e=this.id)?e:\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,r=this.parent;\"layers\"in r&&r.layers.includes(t)?r.layers.remove(t):\"tables\"in r&&r.tables.includes(t)?r.tables.remove(t):\"baseLayers\"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):\"baseLayers\"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?n(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await e(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new o(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([y({type:String})],f.prototype,\"attributionDataUrl\",void 0),t([y({type:u})],f.prototype,\"fullExtent\",void 0),t([y({readOnly:!0})],f.prototype,\"hasAttributionData\",null),t([y({type:String})],f.prototype,\"id\",void 0),t([y({type:Boolean,nonNullable:!0})],f.prototype,\"legendEnabled\",void 0),t([y({type:[\"show\",\"hide\",\"hide-children\"]})],f.prototype,\"listMode\",void 0),t([y({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,\"opacity\",void 0),t([y()],f.prototype,\"parent\",void 0),t([y({readOnly:!0})],f.prototype,\"parsedUrl\",null),t([y({type:Boolean})],f.prototype,\"popupEnabled\",void 0),t([y({type:Boolean})],f.prototype,\"attributionVisible\",void 0),t([y({type:d})],f.prototype,\"spatialReference\",void 0),t([y({type:String})],f.prototype,\"title\",void 0),t([y({type:String,readOnly:!0,json:{read:!1}})],f.prototype,\"type\",void 0),t([y()],f.prototype,\"url\",void 0),t([y({type:Boolean,nonNullable:!0})],f.prototype,\"visible\",void 0),f=t([c(\"esri.layers.Layer\")],f);var b=f;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{assumeNonNull as s}from\"./maybe.js\";import e from\"./accessorSupport/MultiOriginStore.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import{read as n}from\"./accessorSupport/read.js\";import{getProperties as c}from\"./accessorSupport/utils.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const a=t=>{let a=class extends t{constructor(...r){super(...r);const t=s(c(this)),o=t.metadatas,i=t.store,n=new e;t.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{t.internalGet(r)&&n.set(r,t.internalGet(r),0)}))}read(r,t){n(this,r,t)}getAtOrigin(r,t){const s=u(this),e=i(t);if(\"string\"==typeof r)return s.get(r,e);const o={};return r.forEach((r=>{o[r]=s.get(r,e)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),e=i(t),o=c(this);let n;n=\"string\"==typeof r?\"*\"===r?s.keys(e):[r]:r,n.forEach((r=>{o.invalidate(r),s.revert(r,e),o.commit(r)}))}};return a=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return c(r).store}let f=class extends(a(t)){};f=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{ReadOnlyMultiOriginJSONMixin as s}from\"./ReadOnlyMultiOriginJSONSupport.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import{getProperties as i}from\"./accessorSupport/utils.js\";import{write as c}from\"./accessorSupport/write.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";const p=t=>{let s=class extends t{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,t,s){i(this).setAtOrigin(r,t,e(s))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const e of o)t.originOf(e)===s&&t.set(e,t.get(e,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let e=i+1;e<o;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return s=r([n(\"esri.core.WriteableMultiOriginJSONSupport\")],s),s.prototype.toJSON.isDefaultToJSON=!0,s};function u(r){return i(r).store}const l=t=>{let e=class extends(p(s(t))){constructor(...r){super(...r)}};return e=r([n(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(t)){};O=r([n(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import o from\"../core/Error.js\";import{MultiOriginJSONMixin as e}from\"../core/MultiOriginJSONSupport.js\";import{schedule as s}from\"../core/scheduling.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"./Layer.js\";import{PortalLayer as i}from\"./mixins/PortalLayer.js\";let a=class extends(i(e(p))){constructor(r){super(r),this.resourceInfo=null,this.type=\"unknown\"}initialize(){this.addResolvingPromise(new Promise(((r,e)=>{s((()=>{const r=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let s=\"Unknown layer type\";r&&(s+=\" \"+r),e(new o(\"layer:unknown-layer-type\",s,{layerType:r}))}))})))}read(r,o){super.read({resourceInfo:r},o)}write(){return null}};r([t({readOnly:!0})],a.prototype,\"resourceInfo\",void 0),r([t({type:[\"show\",\"hide\"]})],a.prototype,\"listMode\",void 0),r([t({json:{read:!1},readOnly:!0,value:\"unknown\"})],a.prototype,\"type\",void 0),a=r([n(\"esri.layers.UnknownLayer\")],a);var c=a;export default c;\n"],"sourceRoot":""}