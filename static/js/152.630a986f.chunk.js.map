{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/symbols/cim/enums.js","../node_modules/@arcgis/core/views/draw/support/Reshape.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/draw/support/HighlightHelper.js"],"names":["t","constructor","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","preventDefault","S","D","EventedAccessor","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_indicators","_initialDragGeometry","_viewHandles","_manipulators","_layerViews","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","indicatorsEnabled","layer","d","listMode","internal","title","view","initialize","m","_highlightHelper","g","refresh","add","on","_clickHandler","M","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","o","removeAll","destroy","_removeIndicators","map","remove","reset","forEach","highlightsEnabled","_set","state","get","_setup","updateGeometry","set","_setUpIndicators","_setUpHighlights","_setUpManipulators","_syncLayerViews","_findTargetGraphic","E","indexOf","emit","u","f","w","G","H","action","geometry","stopPropagation","origin","l","v","b","k","O","key","toMap","Number","MAX_VALUE","flatMap","Array","from","graphicsViews","hitTest","flat","graphicsView","filter","length","intersectionDistance","Set","_","clone","symbol","_getSymbolForIndicator","push","addMany","removeMany","j","style","size","color","outline","width","xoffset","yoffset","height","Math","max","P","U","prototype","readOnly","value","T","C","R","B","N","L","A","F","W","I","q","J","X","Y","Z","K","Q","V","z","$","ee","ne","ie","te","re","oe","BUTT","ROUND","SQUARE","UNKNOWN","BEVEL","MITER","SCREEN","MAP","Tint","Ignore","Multiply","Both","JustBegin","JustEnd","None","Mosaic","Centered","Normal","Superscript","Subscript","MSSymbol","Unicode","Unspecified","TrueType","PSOpenType","TTOpenType","Type1","Display","Map","XYZ","ZXY","YXZ","Rectangle","RoundedRectangle","Oval","Alpha","Screen","Add","TTB","RTL","BTT","SignPost","FaceNearPlane","Float","String","Boolean","Intersect","Subtract","OpenEnded","Block","Crossed","FullGeometry","PerpendicularFromFirstSegment","ReversedFirstSegment","PerpendicularToSecondSegment","SecondSegmentWithTicks","DoublePerpendicular","OppositeToFirstSegment","TriplePerpendicular","HalfCircleFirstSegment","HalfCircleSecondSegment","HalfCircleExtended","OpenCircle","CoverageEdgesWithTicks","GapExtentWithDoubleTicks","GapExtentMidline","Chevron","PerpendicularWithArc","ClosedHalfCircle","TripleParallelExtended","ParallelWithTicks","Parallel","PerpendicularToFirstSegment","ParallelOffset","OffsetOpposite","OffsetSame","CircleWithArc","DoubleJog","PerpendicularOffset","LineExcludingLastSegment","MultivertexArrow","CrossedArrow","ChevronArrow","ChevronArrowOffset","PartialFirstSegment","Arch","CurvedParallelTicks","Arc90Degrees","Mitered","Bevelled","Rounded","Square","TrueBuffer","ClosePath","ConvexHull","RectangularBox","BeginningOfLine","EndOfLine","Fast","Accurate","Sinus","Triangle","Random","Default","Force","Buffered","Left","Right","AlongLine","Linear","Rectangular","Circular","Discrete","Continuous","AcrossLine","AloneLine","Center","Justify","Base","MidPoint","ThreePoint","FourPoint","Underline","CircularCW","CircularCCW","Butt","Round","NoConstraint","HalfPattern","HalfGap","FullPattern","FullGap","Custom","Circle","OpenArrow","ClosedArrow","Diamond","ExtraLeading","Multiple","Exact","Bevel","Miter","Numeric","InsidePolygon","PolygonCenter","RandomlyInsidePolygon","Replace","ClipAtBoundary","RemoveIfCenterOutsideBoundary","DoNotTouchBoundary","DoNotClip","WithMarkers","WithFullGap","WithHalfGap","Fixed","RandomFixedQuantity","LineMiddle","LineBeginning","LineEnd","SegmentMidpoint","OnPolygon","CenterOfMass","BoundingBoxCenter","Low","Medium","High","MarkerCenter","MarkerBounds","PropUniform","PropNonuniform","DifUniform","DifNonuniform","Tube","Strip","Wall","Increasing","Decreasing","IncreasingThenDecreasing","Relative","Absolute","LowerCase","Allcaps","LTR","Draft","Picture","Text","Top","Baseline","Bottom","Upright","Small","Large","Calm","Rippled","Slight","Moderate","mover","selected","added","removed","oldGraphic","vertices","reshapeGraphics","default","vertex","outlineColor","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","getLogger","_activeOperationInfo","_editGeometryOperations","_graphicAttributes","esriSketchTool","_mover","_snappingTask","_stagedVertex","onReshapeStart","onReshape","onReshapeStop","onMoveStart","onMove","onMoveStop","enableMidpoints","enableMovement","enableVertices","midpointGraphics","midpointSymbol","selectedVertices","snappingManager","vertexGraphics","_clearSelection","_resetGraphics","_reset","symbols","isUIGraphic","concat","items","includes","clearSelection","removeSelectedVertices","_removeVertices","_setupGraphics","_setupMover","_logGeometryTypeError","_setUpGeometryHelper","paths","points","spatialReference","fromGeometry","Local","_saveSnappingContextForHandle","_snappingGraphicsLayer","layers","_snappingContext","editGeometryOperations","elevationInfo","mode","offset","pointer","pointerType","excludeFeature","visualizer","vertexHandle","_getVertexFromEditGeometry","_resetSnappingStateVars","cursor","doneSnapping","_removeMidpointGraphics","_removeVertexGraphics","_getCoordinatesForUI","pop","_setUpMidpointGraphics","_setUpVertexGraphics","_createMidpointGraphics","_createVertexGraphics","_storeRelatedVertexIndices","attributes","pathIndex","pointIndex","pointIndexStart","pointIndexEnd","relatedGraphicIndices","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","_isMidpoint","button","_createVertexFromMidpoint","_emitVertexAddEvent","_isVertex","native","shiftKey","_removeFromSelection","_addToSelection","_setUpOperation","target","operationType","_emitMoveStartEvent","data","_onHandleMove","_emitMoveEvent","_emitReshapeStartEvent","_emitReshapeEvent","_emitMoveStopEvent","_emitReshapeStopEvent","_updateMidpointGraphicLocations","_getIndicesForVertexGraphic","components","update","_syncGeometryAfterVertexMove","async","snap","valid","apply","_moveRelatedCoordinates","_moveSelectedHandleCoordinates","pos","moveVertices","getItemAt","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","_emitDeselectEvent","delete","repeat","rings","_emitVertexRemoveEvent","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","error","abs","stops","maxSize","minSize","floor","renderer","event","visualVariables","uniqueValueInfos","classBreakInfos","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","xmin","min","ymin","xmax","ymax","intersects","interactive","selectable","grabbable","dragging","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","focusedSymbol","_get","_updateGraphicSymbol","grabbableForEvent","grabbing","hovering","_focused","detachSymbolChanged","_resetGraphicSymbol","visible","_intersectDistance2D","_intersectDistance3D","attach","detach","watch","originalPoint","mapPoint","radiusPx","toScreen","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","main","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedColor","stagedOutlineColor","center","fill","line","transformGraphics","graphicsLayer","visualizeIntersectionPoint","_visualizeSnappingIndicator","intersectionPoint","coordinateHelper","visualizePoint","point","visualizeLine","lineStart","lineEnd","visualizeParallelSign","visualizeRightAngleQuad","previousVertex","centerVertex","nextVertex","toArray","toRgb","symbolLayers","enable","capStyle","joinStyle","miterLimit","lineHintWidthTarget","anchorPoint","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","markerGraphics","scaleSymbolsProportionally","respectFrame","rightAngleHintSize","rotation","placeOnEndPoints","rightAngleHintOutlineSize","count","handles","isArray","_highlight","_unhighlight","highlight","getObjectId"],"mappings":"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","file":"static/js/152.630a986f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../symbols.js\";import t from\"../../../core/Evented.js\";import e from\"../../../core/Handles.js\";import{clone as s}from\"../../../core/lang.js\";import{destroyMaybe as r,isNone as h,isSome as a}from\"../../../core/maybe.js\";import{watch as o}from\"../../../core/reactiveUtils.js\";import{watch as c,whenOnce as n}from\"../../../core/watchUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import d from\"../../../layers/GraphicsLayer.js\";import{cloneMove as v}from\"./drawUtils.js\";import g from\"./HighlightHelper.js\";import{addUniqueLayer as m,findLayerView as _}from\"./layerUtils.js\";import{GraphicClickEvent as y,GraphicDoubleClickEvent as u,GraphicPointerDownEvent as f,GraphicPointerUpEvent as w,GraphicPointerOutEvent as G,GraphicMoveStartEvent as b,GraphicMoveEvent as k,GraphicMoveStopEvent as O,GraphicPointerOverEvent as H}from\"./input/GraphicMoverEvents.js\";import{ViewEventPriorities as M}from\"../../input/InputManager.js\";import{GraphicManipulator as x}from\"../../interactive/GraphicManipulator.js\";import{createScreenPointFromEvent as E}from\"../../support/screenUtils.js\";import j from\"../../../symbols/SimpleMarkerSymbol.js\";import U from\"../../../symbols/SimpleLineSymbol.js\";import P from\"../../../symbols/SimpleFillSymbol.js\";const S=\"indicator-symbols\";let D=class extends t.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new e,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._viewHandles=new e,this._manipulators=[],this._layerViews=null,this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new d({listMode:\"hide\",internal:!0,title:\"GraphicMover highlight layer\"}),this.view=null}initialize(){m(this.view,this.layer),this._highlightHelper=new g({view:this.view}),this.refresh(),this._handles.add([c(this,[\"graphics\",\"graphics.length\"],(()=>this.refresh())),n(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),M.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),M.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),M.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),M.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),M.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),M.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),M.TOOL)])})),o((()=>this.view),(i=>{this._highlightHelper.removeAll(),this._highlightHelper.view=i}))])}destroy(){var i;this._removeIndicators(),null==(i=this.view.map)||i.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._handles=r(this._handles),this._viewHandles=r(this._viewHandles)}set highlightsEnabled(i){var t,e;(null==(t=this._highlightHelper)||t.removeAll(),this._set(\"highlightsEnabled\",i),i)&&(null==(e=this._highlightHelper)||e.add(this.graphics))}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(i,t){const e=this.graphics[i];e&&(e.set(\"geometry\",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(i){const t=this._findTargetGraphic(E(i));if(t){const e=new y(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(E(i));if(t){const e=new u(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(E(i));if(t){this._activeGraphic=t;const{x:e,y:s}=i,r=new f(t,this.graphics.indexOf(t),e,s,i);this.emit(\"graphic-pointer-down\",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._activeGraphic),r=new w(this._activeGraphic,s,t,e,i);this.emit(\"graphic-pointer-up\",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(E(i));if(t){const{x:e,y:s}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const r=this.graphics.indexOf(this._hoverGraphic),h=new G(this.graphics[r],r,e,s,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",h),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(h)}const r=this.graphics.indexOf(t),h=new H(t,r,e,s,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",h),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(h))}if(this._hoverGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._hoverGraphic),r=new G(this.graphics[s],s,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;\"start\"===i.action&&this._removeIndicators(),i.stopPropagation();const{action:t,x:e,y:r}=i,h=this.graphics.indexOf(this._activeGraphic),a=this._dragEvent?e-this._dragEvent.x:0,o=this._dragEvent?r-this._dragEvent.y:0,c=e-i.origin.x,n=r-i.origin.y,l=\"start\"===t?this._activeGraphic.geometry:this._initialDragGeometry,p=v(l,c,n,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=v(i.geometry,a,o,this.view))})),this._dragEvent=i,\"start\"===t){this._initialDragGeometry=s(l);const t=new b(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this.emit(\"graphic-move-start\",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",l)}else if(\"update\"===t){const t=new k(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=l)}else{const t=new O(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[h].set(\"geometry\",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){const t=this.view.toMap(i);let e=null,s=Number.MAX_VALUE;this._syncLayerViews();const r=this._layerViews.flatMap((i=>\"graphicsViews\"in i?Array.from(i.graphicsViews(),(i=>i.hitTest(t))).flat():i.graphicsView.hitTest(t))).filter((i=>this.graphics.indexOf(i)>-1));return r.length?r[0]:(this._manipulators.forEach((t=>{const r=t.intersectionDistance(i);a(r)&&r<s&&(s=r,e=t.graphic)})),e)}_syncLayerViews(){this._layerViews=[];const i=new Set;for(const t of this.graphics){const e=_(this.view,t.layer);e&&i.add(e)}this._layerViews=[...i]}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new x({graphic:i,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const i of this.graphics){const t=i.clone();t.symbol=this._getSymbolForIndicator(i),this._indicators.push(t),this._handles.add(o((()=>i.symbol),(()=>this._setUpIndicators())),S)}this.layer.addMany(this._indicators)}}_removeIndicators(){this._handles.remove(S),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((i=>i.destroy())),this._indicators=[])}_getSymbolForIndicator(i){const t=12;if(h(i.symbol))return null;switch(i.symbol.type){case\"cim\":return new j({style:\"circle\",size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:e,height:s,width:r}=i.symbol,h=s===r?r:Math.max(s,r);return new j({xoffset:t,yoffset:e,size:h,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:e,size:s,style:r}=i.symbol;return new j({xoffset:t,yoffset:e,style:\"circle\"===r?\"circle\":\"square\",size:s+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new P({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new U({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:e,yoffset:s}=i.symbol;return new j({xoffset:e,yoffset:s,size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}};i([l()],D.prototype,\"_activeGraphic\",void 0),i([l({readOnly:!0})],D.prototype,\"type\",void 0),i([l()],D.prototype,\"callbacks\",void 0),i([l()],D.prototype,\"enableMoveAllGraphics\",void 0),i([l()],D.prototype,\"graphics\",void 0),i([l({value:!1})],D.prototype,\"highlightsEnabled\",null),i([l()],D.prototype,\"indicatorsEnabled\",void 0),i([l()],D.prototype,\"layer\",void 0),i([l({readOnly:!0})],D.prototype,\"state\",null),i([l()],D.prototype,\"view\",void 0),D=i([p(\"esri.views.draw.support.GraphicMover\")],D);const T=D;export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar e,n,i,t,r,o,l,a,u,c,d,f,s,p,g,C,m,T,S,P,R,B,h,N,M,O,L,A,y,E,D,F,v,x,W,U,k,H,b,w,I,G,q,J,X,Y,Z,K,Q,V,j,z,$,_,ee,ne,ie,te,re,oe;!function(e){e[e.BUTT=0]=\"BUTT\",e[e.ROUND=1]=\"ROUND\",e[e.SQUARE=2]=\"SQUARE\",e[e.UNKNOWN=4]=\"UNKNOWN\"}(e||(e={})),function(e){e[e.BEVEL=0]=\"BEVEL\",e[e.ROUND=1]=\"ROUND\",e[e.MITER=2]=\"MITER\",e[e.UNKNOWN=4]=\"UNKNOWN\"}(n||(n={})),function(e){e[e.SCREEN=0]=\"SCREEN\",e[e.MAP=1]=\"MAP\"}(i||(i={})),function(e){e[e.Tint=0]=\"Tint\",e[e.Ignore=1]=\"Ignore\",e[e.Multiply=99]=\"Multiply\"}(t||(t={})),function(e){e.Both=\"Both\",e.JustBegin=\"JustBegin\",e.JustEnd=\"JustEnd\",e.None=\"None\"}(r||(r={})),function(e){e[e.Mosaic=0]=\"Mosaic\",e[e.Centered=1]=\"Centered\"}(o||(o={})),function(e){e[e.Normal=0]=\"Normal\",e[e.Superscript=1]=\"Superscript\",e[e.Subscript=2]=\"Subscript\"}(l||(l={})),function(e){e[e.MSSymbol=0]=\"MSSymbol\",e[e.Unicode=1]=\"Unicode\"}(a||(a={})),function(e){e[e.Unspecified=0]=\"Unspecified\",e[e.TrueType=1]=\"TrueType\",e[e.PSOpenType=2]=\"PSOpenType\",e[e.TTOpenType=3]=\"TTOpenType\",e[e.Type1=4]=\"Type1\"}(u||(u={})),function(e){e[e.Display=0]=\"Display\",e[e.Map=1]=\"Map\"}(c||(c={})),function(e){e[e.Z=0]=\"Z\",e[e.X=1]=\"X\",e[e.Y=2]=\"Y\"}(d||(d={})),function(e){e[e.XYZ=0]=\"XYZ\",e[e.ZXY=1]=\"ZXY\",e[e.YXZ=2]=\"YXZ\"}(f||(f={})),function(e){e[e.Rectangle=0]=\"Rectangle\",e[e.RoundedRectangle=1]=\"RoundedRectangle\",e[e.Oval=2]=\"Oval\"}(s||(s={})),function(e){e[e.None=0]=\"None\",e[e.Alpha=1]=\"Alpha\",e[e.Screen=2]=\"Screen\",e[e.Multiply=3]=\"Multiply\",e[e.Add=4]=\"Add\"}(p||(p={})),function(e){e[e.TTB=0]=\"TTB\",e[e.RTL=1]=\"RTL\",e[e.BTT=2]=\"BTT\"}(g||(g={})),function(e){e[e.None=0]=\"None\",e[e.SignPost=1]=\"SignPost\",e[e.FaceNearPlane=2]=\"FaceNearPlane\"}(C||(C={})),function(e){e[e.Float=0]=\"Float\",e[e.String=1]=\"String\",e[e.Boolean=2]=\"Boolean\"}(m||(m={})),function(e){e[e.Intersect=0]=\"Intersect\",e[e.Subtract=1]=\"Subtract\"}(T||(T={})),function(e){e.OpenEnded=\"OpenEnded\",e.Block=\"Block\",e.Crossed=\"Crossed\"}(S||(S={})),function(e){e.FullGeometry=\"FullGeometry\",e.PerpendicularFromFirstSegment=\"PerpendicularFromFirstSegment\",e.ReversedFirstSegment=\"ReversedFirstSegment\",e.PerpendicularToSecondSegment=\"PerpendicularToSecondSegment\",e.SecondSegmentWithTicks=\"SecondSegmentWithTicks\",e.DoublePerpendicular=\"DoublePerpendicular\",e.OppositeToFirstSegment=\"OppositeToFirstSegment\",e.TriplePerpendicular=\"TriplePerpendicular\",e.HalfCircleFirstSegment=\"HalfCircleFirstSegment\",e.HalfCircleSecondSegment=\"HalfCircleSecondSegment\",e.HalfCircleExtended=\"HalfCircleExtended\",e.OpenCircle=\"OpenCircle\",e.CoverageEdgesWithTicks=\"CoverageEdgesWithTicks\",e.GapExtentWithDoubleTicks=\"GapExtentWithDoubleTicks\",e.GapExtentMidline=\"GapExtentMidline\",e.Chevron=\"Chevron\",e.PerpendicularWithArc=\"PerpendicularWithArc\",e.ClosedHalfCircle=\"ClosedHalfCircle\",e.TripleParallelExtended=\"TripleParallelExtended\",e.ParallelWithTicks=\"ParallelWithTicks\",e.Parallel=\"Parallel\",e.PerpendicularToFirstSegment=\"PerpendicularToFirstSegment\",e.ParallelOffset=\"ParallelOffset\",e.OffsetOpposite=\"OffsetOpposite\",e.OffsetSame=\"OffsetSame\",e.CircleWithArc=\"CircleWithArc\",e.DoubleJog=\"DoubleJog\",e.PerpendicularOffset=\"PerpendicularOffset\",e.LineExcludingLastSegment=\"LineExcludingLastSegment\",e.MultivertexArrow=\"MultivertexArrow\",e.CrossedArrow=\"CrossedArrow\",e.ChevronArrow=\"ChevronArrow\",e.ChevronArrowOffset=\"ChevronArrowOffset\",e.PartialFirstSegment=\"PartialFirstSegment\",e.Arch=\"Arch\",e.CurvedParallelTicks=\"CurvedParallelTicks\",e.Arc90Degrees=\"Arc90Degrees\"}(P||(P={})),function(e){e.Mitered=\"Mitered\",e.Bevelled=\"Bevelled\",e.Rounded=\"Rounded\",e.Square=\"Square\",e.TrueBuffer=\"TrueBuffer\"}(R||(R={})),function(e){e.ClosePath=\"ClosePath\",e.ConvexHull=\"ConvexHull\",e.RectangularBox=\"RectangularBox\"}(B||(B={})),function(e){e.BeginningOfLine=\"BeginningOfLine\",e.EndOfLine=\"EndOfLine\"}(h||(h={})),function(e){e.Mitered=\"Mitered\",e.Bevelled=\"Bevelled\",e.Rounded=\"Rounded\",e.Square=\"Square\"}(N||(N={})),function(e){e.Fast=\"Fast\",e.Accurate=\"Accurate\"}(M||(M={})),function(e){e.BeginningOfLine=\"BeginningOfLine\",e.EndOfLine=\"EndOfLine\"}(O||(O={})),function(e){e.Sinus=\"Sinus\",e.Square=\"Square\",e.Triangle=\"Triangle\",e.Random=\"Random\"}(L||(L={})),function(e){e[e.None=0]=\"None\",e[e.Default=1]=\"Default\",e[e.Force=2]=\"Force\"}(A||(A={})),function(e){e[e.Buffered=0]=\"Buffered\",e[e.Left=1]=\"Left\",e[e.Right=2]=\"Right\",e[e.AlongLine=3]=\"AlongLine\"}(y||(y={})),function(e){e[e.Linear=0]=\"Linear\",e[e.Rectangular=1]=\"Rectangular\",e[e.Circular=2]=\"Circular\",e[e.Buffered=3]=\"Buffered\"}(E||(E={})),function(e){e[e.Discrete=0]=\"Discrete\",e[e.Continuous=1]=\"Continuous\"}(D||(D={})),function(e){e[e.AcrossLine=0]=\"AcrossLine\",e[e.AloneLine=1]=\"AloneLine\"}(F||(F={})),function(e){e[e.Left=0]=\"Left\",e[e.Right=1]=\"Right\",e[e.Center=2]=\"Center\",e[e.Justify=3]=\"Justify\"}(v||(v={})),function(e){e[e.Base=0]=\"Base\",e[e.MidPoint=1]=\"MidPoint\",e[e.ThreePoint=2]=\"ThreePoint\",e[e.FourPoint=3]=\"FourPoint\",e[e.Underline=4]=\"Underline\",e[e.CircularCW=5]=\"CircularCW\",e[e.CircularCCW=6]=\"CircularCCW\"}(x||(x={})),function(e){e.Butt=\"Butt\",e.Round=\"Round\",e.Square=\"Square\"}(W||(W={})),function(e){e.NoConstraint=\"NoConstraint\",e.HalfPattern=\"HalfPattern\",e.HalfGap=\"HalfGap\",e.FullPattern=\"FullPattern\",e.FullGap=\"FullGap\",e.Custom=\"Custom\"}(U||(U={})),function(e){e[e.None=-1]=\"None\",e[e.Custom=0]=\"Custom\",e[e.Circle=1]=\"Circle\",e[e.OpenArrow=2]=\"OpenArrow\",e[e.ClosedArrow=3]=\"ClosedArrow\",e[e.Diamond=4]=\"Diamond\"}(k||(k={})),function(e){e[e.ExtraLeading=0]=\"ExtraLeading\",e[e.Multiple=1]=\"Multiple\",e[e.Exact=2]=\"Exact\"}(H||(H={})),function(e){e.Bevel=\"Bevel\",e.Round=\"Round\",e.Miter=\"Miter\"}(b||(b={})),function(e){e[e.Default=0]=\"Default\",e[e.String=1]=\"String\",e[e.Numeric=2]=\"Numeric\"}(w||(w={})),function(e){e[e.InsidePolygon=0]=\"InsidePolygon\",e[e.PolygonCenter=1]=\"PolygonCenter\",e[e.RandomlyInsidePolygon=2]=\"RandomlyInsidePolygon\"}(I||(I={})),function(e){e[e.Tint=0]=\"Tint\",e[e.Replace=1]=\"Replace\",e[e.Multiply=2]=\"Multiply\"}(G||(G={})),function(e){e[e.ClipAtBoundary=0]=\"ClipAtBoundary\",e[e.RemoveIfCenterOutsideBoundary=1]=\"RemoveIfCenterOutsideBoundary\",e[e.DoNotTouchBoundary=2]=\"DoNotTouchBoundary\",e[e.DoNotClip=3]=\"DoNotClip\"}(q||(q={})),function(e){e.NoConstraint=\"NoConstraint\",e.WithMarkers=\"WithMarkers\",e.WithFullGap=\"WithFullGap\",e.WithHalfGap=\"WithHalfGap\",e.Custom=\"Custom\"}(J||(J={})),function(e){e.Fixed=\"Fixed\",e.Random=\"Random\",e.RandomFixedQuantity=\"RandomFixedQuantity\"}(X||(X={})),function(e){e.LineMiddle=\"LineMiddle\",e.LineBeginning=\"LineBeginning\",e.LineEnd=\"LineEnd\",e.SegmentMidpoint=\"SegmentMidpoint\"}(Y||(Y={})),function(e){e.OnPolygon=\"OnPolygon\",e.CenterOfMass=\"CenterOfMass\",e.BoundingBoxCenter=\"BoundingBoxCenter\"}(Z||(Z={})),function(e){e[e.Low=0]=\"Low\",e[e.Medium=1]=\"Medium\",e[e.High=2]=\"High\"}(K||(K={})),function(e){e[e.MarkerCenter=0]=\"MarkerCenter\",e[e.MarkerBounds=1]=\"MarkerBounds\"}(Q||(Q={})),function(e){e[e.None=0]=\"None\",e[e.PropUniform=1]=\"PropUniform\",e[e.PropNonuniform=2]=\"PropNonuniform\",e[e.DifUniform=3]=\"DifUniform\",e[e.DifNonuniform=4]=\"DifNonuniform\"}(V||(V={})),function(e){e.Tube=\"Tube\",e.Strip=\"Strip\",e.Wall=\"Wall\"}(j||(j={})),function(e){e[e.Random=0]=\"Random\",e[e.Increasing=1]=\"Increasing\",e[e.Decreasing=2]=\"Decreasing\",e[e.IncreasingThenDecreasing=3]=\"IncreasingThenDecreasing\"}(z||(z={})),function(e){e[e.Relative=0]=\"Relative\",e[e.Absolute=1]=\"Absolute\"}($||($={})),function(e){e[e.Normal=0]=\"Normal\",e[e.LowerCase=1]=\"LowerCase\",e[e.Allcaps=2]=\"Allcaps\"}(_||(_={})),function(e){e[e.LTR=0]=\"LTR\",e[e.RTL=1]=\"RTL\"}(ee||(ee={})),function(e){e.Draft=\"Draft\",e.Picture=\"Picture\",e.Text=\"Text\"}(ne||(ne={})),function(e){e[e.Top=0]=\"Top\",e[e.Center=1]=\"Center\",e[e.Baseline=2]=\"Baseline\",e[e.Bottom=3]=\"Bottom\"}(ie||(ie={})),function(e){e[e.Right=0]=\"Right\",e[e.Upright=1]=\"Upright\"}(te||(te={})),function(e){e[e.Small=0]=\"Small\",e[e.Medium=1]=\"Medium\",e[e.Large=2]=\"Large\"}(re||(re={})),function(e){e[e.Calm=0]=\"Calm\",e[e.Rippled=1]=\"Rippled\",e[e.Slight=2]=\"Slight\",e[e.Moderate=3]=\"Moderate\"}(oe||(oe={}));export{i as Alignment,c as AngleAlignment,s as BalloonCalloutStyle,C as BillBoardMode,p as BlendingMode,g as BlockProgression,m as CGAAttributeType,e as CapType,T as ClippingType,d as DominantSizeAxis,w as ExpressionReturnType,t as ExternalColorMixMode,r as ExtremityPlacement,o as FillMode,l as FontEffects,a as FontEncoding,u as FontType,S as GeometricEffectArrowType,P as GeometricEffectControlMeasureLineRule,R as GeometricEffectDonutMethod,B as GeometricEffectEnclosingPolygonMethod,h as GeometricEffectExtensionOrigin,N as GeometricEffectOffsetMethod,M as GeometricEffectOffsetOption,O as GeometricEffectOffsetTangentMethod,L as GeometricEffectWaveform,A as GlyphHinting,y as GradientAlignment,E as GradientFillMethod,F as GradientStrokeMethod,D as GradientStrokeType,v as HorizontalAlignment,n as JoinType,x as LeaderLineStyle,W as LineCapStyle,U as LineDashEnding,k as LineDecorationStyle,H as LineGapType,b as LineJoinStyle,I as MarkerPlacementType,G as MaterialMode,q as PlacementClip,J as PlacementEndings,X as PlacementGridType,Y as PlacementOnLineRelativeTo,Z as PlacementPolygonCenterMethod,K as PlacementRandomlyAlongLineRandomization,Q as PlacementStepPosition,V as PointSymbolCalloutScale,f as RotationOrder,j as Simple3DLineStyle,z as SizeVariationMethod,$ as SymbolUnits,_ as TextCase,ee as TextReadingDirection,ne as TextureFilter,ie as VerticalAlignment,te as VerticalGlyphOrientation,re as WaterbodySize,oe as WaveStrength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,isNone as h,isSome as c,abortMaybe as p,get as l}from\"../../../core/maybe.js\";import{createTask as d}from\"../../../core/promiseUtils.js\";import{whenOnce as m,pausable as v}from\"../../../core/watchUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{geometryToCoordinates as g,getMidpoint as u}from\"../../../geometry/support/coordsUtils.js\";import x from\"../../../layers/GraphicsLayer.js\";import f from\"../../../symbols/SimpleMarkerSymbol.js\";import{ViewingMode as G}from\"../../ViewingMode.js\";import{SnappingVisualizer2D as b}from\"../../2d/interactive/SnappingVisualizer2D.js\";import{cloneMove as V}from\"./drawUtils.js\";import M from\"./GraphicMover.js\";import w from\"./HighlightHelper.js\";import{addUniqueLayer as S}from\"./layerUtils.js\";import{settings as k}from\"./settings.js\";import{ViewEventPriorities as E}from\"../../input/InputManager.js\";import{SKETCH_KEYS as I}from\"../../interactive/keybindings.js\";import{EditGeometryOperations as O}from\"../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as C}from\"../../interactive/snapping/SnappingContext.js\";import R from\"../../../geometry/Polyline.js\";import j from\"../../../geometry/Point.js\";class H{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-start\"}}class A{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape\"}}class U{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type=\"reshape-stop\"}}class T{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-start\"}}class D{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move\"}}class F{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type=\"move-stop\"}}class z{constructor(e){this.added=e,this.type=\"vertex-select\"}}class L{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class P{constructor(e,t,i,s){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-add\"}}class K{constructor(e,t,i,s){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=s,this.type=\"vertex-remove\"}}const N=k.reshapeGraphics,q={vertices:{default:new f({style:\"circle\",size:N.vertex.size,color:N.vertex.color,outline:{color:N.vertex.outlineColor,width:1}}),hover:new f({style:\"circle\",size:N.vertex.hoverSize,color:N.vertex.hoverColor,outline:{color:N.vertex.hoverOutlineColor,width:1}}),selected:new f({style:\"circle\",size:N.selected.size,color:N.selected.color,outline:{color:N.selected.outlineColor,width:1}})},midpoints:{default:new f({style:\"circle\",size:N.midpoint.size,color:N.midpoint.color,outline:{color:N.midpoint.outlineColor,width:1}}),hover:new f({style:\"circle\",size:N.midpoint.size,color:N.midpoint.color,outline:{color:N.midpoint.outlineColor,width:1}})}},B=\"esri.views.draw.support.Reshape\",J=n.getLogger(B);let Q=class extends r.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new o,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._snappingTask=null,this._stagedVertex=null,this._viewHandles=new o,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new i,this.midpointSymbol=new f({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.type=\"reshape\",this.vertexGraphics=new i,this.view=null}initialize(){this._highlightHelper=new w({view:this.view}),this._setup(),this._handles.add([m(this,\"view.ready\",(()=>{const{layer:e,view:t}=this;S(t,e),this._viewHandles.add([t.on(\"key-down\",(e=>this._keyDownHandler(e)),E.TOOL)])})),v(this,\"graphic\",(()=>this.refresh())),v(this,\"layer\",((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),v(this,\"enableMidpoints\",(()=>{this.refresh()}))])}destroy(){var e;this._reset(),null==(e=this._mover)||e.destroy(),this._mover=null,this._handles=a(this._handles),this._viewHandles=a(this._viewHandles)}set highlightsEnabled(e){var t;null==(t=this._highlightHelper)||t.removeAll(),this._set(\"highlightsEnabled\",e),this._setUpHighlights()}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=q.midpoints,vertices:i=q.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:i})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||!e||h(e.geometry))return;const i=e.geometry;\"mesh\"!==i.type&&\"extent\"!==i.type?(this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if(h(e)||\"mesh\"===e.type||\"extent\"===e.type)return void this._logGeometryTypeError();const t=\"multipoint\"===e.type?new R({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=O.fromGeometry(t,G.Local)}_saveSnappingContextForHandle(e,t){var i;this._snappingGraphicsLayer=new x({listMode:\"hide\",internal:!0,title:\"Reshape snapping layer\"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new C({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:(null==(i=t.viewEvent)?void 0:i.pointerType)||\"mouse\",excludeFeature:this.graphic,visualizer:new b(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper.removeAll(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetSnappingStateVars(){c(this.snappingManager)&&this.snappingManager.doneSnapping(),c(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=a(this._editGeometryOperations),this._snappingTask=p(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set(\"selectedVertices\",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=g(e.clone());if(\"polygon\"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if(c(e)&&(\"polyline\"===e.type||\"polygon\"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return null==e||e.forEach(((e,n)=>{e.forEach(((e,a)=>{var h;const[c,p]=e;o.push(new t({geometry:new j({x:c,y:p,spatialReference:r}),symbol:null==s||null==(h=s.vertices)?void 0:h.default,attributes:{...i,pathIndex:n,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:i,symbols:s,view:{spatialReference:r}}=this,o=[];return null==e||e.forEach(((e,n)=>{e.forEach(((a,h)=>{const[c,p]=a,d=e[h+1]?h+1:0;if(\"polygon\"===l(this.graphic.geometry,\"type\")||0!==d){const[a,l]=e[d],[m,v]=u([c,p],[a,l]);o.push(new t({geometry:new j({x:m,y:v,spatialReference:r}),symbol:s.midpoints.default,attributes:{...i,pathIndex:n,pointIndexStart:h,pointIndexEnd:d}}))}}))})),o}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const s=[];for(let e=0;e<t.length;e++){if(i===e)continue;const r=t[i],o=t[e];r.x===o.x&&r.y===o.y&&s.push(e)}e[i].attributes.relatedGraphicIndices=s}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:s,view:r}=this,o=s.concat(i).items;e&&o.push(t),this._mover=new M({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:o,view:r,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),s=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,s)}else if(this._isVertex(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertices(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_setUpOperation(e){const{graphic:t,dx:i,dy:s}=e,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?\"move\":\"reshape\",totalDx:i,totalDy:s}}_onGraphicMoveStartCallback(e){const t=e.graphic,{dx:i,dy:s}=e;if(t===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(e),this._emitMoveStartEvent(i,s),void(\"point\"===this._editGeometryOperations.data.type&&this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))));if(!this.selectedVertices.includes(t)){if(this._clearSelection(),this._isMidpoint(t)){const e=this.graphic.clone(),i=this._createVertexFromMidpoint(t);this._emitVertexAddEvent([t],e,i)}this._addToSelection(t)}this._setUpOperation(e),this._emitReshapeStartEvent(t),this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveCallback(e){const{graphic:t,dx:i,dy:s}=e;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s;const{operationType:r}=this._activeOperationInfo;\"move\"===r?\"point\"===this._editGeometryOperations.data.type?this._onHandleMove(t,i,s,e,(()=>this._emitMoveEvent(i,s))):this._emitMoveEvent(i,s):this._onHandleMove(t,i,s,e,(()=>this._emitReshapeEvent(t)))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:i,dy:s}=e;this._activeOperationInfo.totalDx+=i,this._activeOperationInfo.totalDy+=s,t===this.graphic?(this._emitMoveStopEvent(),this.refresh()):(this._onHandleMove(t,i,s,e,(()=>this._emitReshapeStopEvent(t))),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._isMidpoint(t)&&this.refresh())}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:s,pointIndexEnd:r}=t.attributes,[o,n]=e[i][s],[a,h]=e[i][r],[c,p]=u([o,n],[a,h]);t.geometry=new j({x:c,y:p,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic({attributes:e}){return[(null==e?void 0:e.pathIndex)||0,(null==e?void 0:e.pointIndex)||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,s,r){if(p(this._snappingTask),!this._snappingContext)return;const o=e.geometry,n=\"graphic-move-stop\"===s.type;if(c(this.snappingManager)&&this.selectedVertices.length<2&&!n){const s=this.snappingManager;this._stagedVertex=s.update(o,this._snappingContext),this._syncGeometryAfterVertexMove(e,new j(this._stagedVertex),t,i,n),r(),this._snappingTask=d((async a=>{const h=await s.snap(o,this._snappingContext,a);h.valid&&(this._stagedVertex=h.apply(),this._syncGeometryAfterVertexMove(e,new j(this._stagedVertex),t,i,n),r())}))}else{const s=c(this._stagedVertex)?new j(this._stagedVertex):o;this._syncGeometryAfterVertexMove(e,s,t,i,n),r()}}async _syncGeometryAfterVertexMove(e,t,i,s,r=!1){const o=this._editGeometryOperations.data.geometry;if(\"point\"===o.type)e.geometry=t;else{const{x:n,y:a}=t,[h,c]=this._getIndicesForVertexGraphic(e);let p=g(o);const l=p[h].length-1;p[h][c]=[n,a],\"polygon\"===o.type&&(0===c?p[h][l]=[n,a]:c===l&&(p[h][0]=[n,a])),this._isVertex(e)&&(p=this._moveRelatedCoordinates(p,e,n,a),p=this._moveSelectedHandleCoordinates(p,e,i,s,\"polygon\"===o.type),this._updateMidpointGraphicLocations(p)),this.graphic.geometry=o.clone();const d=this._getVertexFromEditGeometry(e),m=n-d.pos[0],v=a-d.pos[1];this._editGeometryOperations.moveVertices([d],m,v,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i,s){const{relatedGraphicIndices:r}=t.attributes;for(const o of r){const r=this.vertexGraphics.getItemAt(o),{pathIndex:n,pointIndex:a}=r.attributes;e[n][a]=[i,s],r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,s,r){for(const o of this.selectedVertices)if(o!==t){const{pathIndex:t,pointIndex:n,relatedGraphicIndices:a}=o.attributes,h=V(o.geometry,i,s,this.view),c=e[t].length-1;e[t][n]=[h.x,h.y],o.geometry=h,r&&(0===n?e[t][c]=[h.x,h.y]:n===c&&(e[t][0]=[h.x,h.y]));for(const i of a){const t=this.vertexGraphics.getItemAt(i),{pathIndex:s,pointIndex:r}=t.attributes;e[s][r]=[h.x,h.y],t.geometry=h}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,s=i.geometry;if(h(s)||\"polygon\"!==s.type&&\"polyline\"!==s.type)return[];const r=s.clone(),o=[],{pathIndex:n,pointIndexStart:a,pointIndexEnd:c}=e.attributes,{x:p,y:l}=e.geometry,d=0===c?a+1:c,m=g(r);return m[n].splice(d,0,[p,l]),e.attributes={...t,pathIndex:n,pointIndex:d,relatedGraphicIndices:[]},o.push({coordinates:m[n][d],componentIndex:n,vertexIndex:d}),this.graphic.geometry=r,o}_addToSelection(e){e instanceof t&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedVertices\",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,i){const{vertices:s}=this.symbols,r=i?s.hover:s.default;e instanceof t&&(e=[e]);for(const t of e)this.selectedVertices.splice(this.selectedVertices.indexOf(t),1),this._set(\"selectedVertices\",this.selectedVertices),t.set(\"symbol\",r);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedVertices\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){I.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const i=this.graphic.geometry;if(h(i)||\"polygon\"!==i.type&&\"polyline\"!==i.type)return;if(\"polygon\"===i.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof t&&(e=[e]);const s=this.graphic.clone(),r=i.clone();let o=g(r);const n=[];e instanceof t&&(e=[e]);for(const t of e){const{x:e,y:i}=t.geometry;for(let t=0;t<o.length;t++){const s=o[t];for(let r=0;r<s.length;r++){const[a,h]=s[r];e===a&&i===h&&(n.push({coordinates:o[t][r],componentIndex:t,vertexIndex:r}),o[t].splice(Number(r),1))}}}if(\"polygon\"===r.type)o=o.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[s,r]=e[e.length-1];return(2!==e.length||t!==s||i!==r)&&(t===s&&i===r||e.push(e[0]),!0)})),r.rings=o;else{for(const e of o)1===e.length&&o.splice(o.indexOf(e),1);r.paths=o}this.graphic.geometry=r,this.refresh(),this._emitVertexRemoveEvent(e,s,n)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const i=new T(this.graphic,e,t);this.emit(\"move-start\",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new D(this.graphic,e,t);this.emit(\"move\",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const{totalDx:e,totalDy:t}=this._activeOperationInfo,i=new F(this.graphic,e,t);this.emit(\"move-stop\",i),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(i)}_emitReshapeStartEvent(e){const t=new H(this.graphic,e,this.selectedVertices);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new A(this.graphic,e,this.selectedVertices);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new U(this.graphic,e,this.selectedVertices);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new z(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new L(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const s=new P(e,this.graphic,t,i);this.emit(\"vertex-add\",s),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(s)}_emitVertexRemoveEvent(e,t,i){const s=new K(e,this.graphic,t,i);this.emit(\"vertex-remove\",s),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(s)}_logGeometryTypeError(){J.error(new s(\"reshape:invalid-geometry\",\"Reshape operation not supported for the provided graphic. The geometry type is not supported.\"))}};e([y()],Q.prototype,\"callbacks\",void 0),e([y()],Q.prototype,\"enableMidpoints\",void 0),e([y()],Q.prototype,\"enableMovement\",void 0),e([y()],Q.prototype,\"enableVertices\",void 0),e([y()],Q.prototype,\"graphic\",void 0),e([y({value:!0})],Q.prototype,\"highlightsEnabled\",null),e([y()],Q.prototype,\"layer\",void 0),e([y({readOnly:!0})],Q.prototype,\"midpointGraphics\",void 0),e([y()],Q.prototype,\"midpointSymbol\",void 0),e([y({readOnly:!0})],Q.prototype,\"selectedVertices\",void 0),e([y()],Q.prototype,\"snappingManager\",void 0),e([y({readOnly:!0})],Q.prototype,\"state\",null),e([y({value:q})],Q.prototype,\"symbols\",null),e([y({readOnly:!0})],Q.prototype,\"type\",void 0),e([y({readOnly:!0})],Q.prototype,\"vertexGraphics\",void 0),e([y()],Q.prototype,\"view\",void 0),Q=e([_(B)],Q);const W=Q;export{W as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{px2pt as i}from\"../../../core/screenUtils.js\";import{f as t,j as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{LineCapStyle as l,LineJoinStyle as s}from\"../../../symbols/cim/enums.js\";import{colors as m}from\"../../draw/support/settings.js\";import{defaults as p}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as c}from\"../../interactive/snapping/SnappingVisualizer.js\";import y from\"../../../symbols/SimpleMarkerSymbol.js\";import b from\"../../../symbols/SimpleLineSymbol.js\";import S from\"../../../symbols/CIMSymbol.js\";import h from\"../../../geometry/Point.js\";import d from\"../../../geometry/Polyline.js\";class g extends c{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,r){return this._visualizeSnappingIndicator(new h({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:r.coordinateHelper.spatialReference}),f)}visualizePoint(e,r){return this._visualizeSnappingIndicator(new h({x:e.point[0],y:e.point[1],spatialReference:r.coordinateHelper.spatialReference}),I)}visualizeLine(e,r){return this._visualizeSnappingIndicator(new d({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),P)}visualizeParallelSign(e,r){return this._visualizeSnappingIndicator(new d({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),x)}visualizeRightAngleQuad(e,r){return this._visualizeSnappingIndicator(new d({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:r.coordinateHelper.spatialReference}),z(e))}_visualizeSnappingIndicator(i,t){const n=new e({geometry:i,symbol:t});return this.graphicsLayer.add(n),r((()=>{this.graphicsLayer.remove(n)}))}}const u=m.main.toArray(),M=[...m.main.toRgb(),100],f=new y({outline:new b({width:1.5,color:u}),size:15,color:[0,0,0,0]}),I=new y({outline:{width:.5,color:[0,0,0,1]},size:10,color:u}),P=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:l.Butt,joinStyle:s.Round,miterLimit:10,width:i(p.lineHintWidthTarget),color:u}]}}}),x=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:u}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:u}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),v=e=>new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:i(p.rightAngleHintSize),rotation:e,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(p.rightAngleHintOutlineSize),color:u},{type:\"CIMSolidFill\",enable:!0,color:M}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),C=v(45),L=v(225),z=(()=>{const e=o(),r=o(),i=a();return o=>(t(e,o.centerVertex,o.previousVertex),t(r,o.nextVertex,o.previousVertex),n(i,e,r),i[2]<0?C:L)})();export{g as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as e}from\"../../../core/HandleOwner.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{findLayerView as o}from\"./layerUtils.js\";import{highlightsSupported as i}from\"../../support/layerViewUtils.js\";let l=class extends e{constructor(r){super(r),this.view=null}get count(){return this.handles.size}add(r){const e=Array.isArray(r)?r:[r];null!=r&&e&&e.length&&e.forEach((r=>this._highlight(r)))}remove(r){const e=Array.isArray(r)?r:[r];null!=r&&e&&e.length&&e.forEach((r=>this._unhighlight(r)))}removeAll(){this.handles.removeAll()}_highlight(r){const e=o(this.view,r.layer);i(e)&&this.handles.add(e.highlight(r),`feature-${r.getObjectId()}`)}_unhighlight(r){r&&this.handles.remove(`feature-${r.getObjectId()}`)}};r([t({readOnly:!0})],l.prototype,\"count\",null),r([t()],l.prototype,\"view\",void 0),r([t()],l.prototype,\"add\",null),l=r([s(\"esri.views.draw.support.HighlightHelper\")],l);const h=l;export{h as default};\n"],"sourceRoot":""}