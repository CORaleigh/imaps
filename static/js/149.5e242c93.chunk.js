(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[149],{201:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return i})),t.d(n,"d",(function(){return l}));var r=t(94);function a(e,n,t){return Object(r.j)(e.map(((e,r)=>n.apply(t,[e,r]))))}function u(e,n,t){return Object(r.j)(e.map(((e,r)=>n.apply(t,[e,r])))).then((e=>e.map((e=>e.value))))}function i(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function l(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(r.t)(e),{ok:!1,error:e})))}},310:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(7),a=t(175),u=t(94),i=t(201);function l(e,n,t){return o.apply(this,arguments)}function o(){return(o=Object(r.a)((function*(e,n,t){var r=e&&e.getAtOrigin&&e.getAtOrigin("renderer",n.origin);if(r&&"unique-value"===r.type&&r.styleOrigin){var l=yield Object(i.c)(r.populateFromStyle());if(Object(u.u)(t),!1===l.ok){var o=l.error;n&&n.messages&&n.messages.push(new a.a("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(o.message),{error:o,context:n})),e.clear("renderer",n.origin)}}}))).apply(this,arguments)}},648:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(7),a={BingMapsLayer:function(){var e=Object(r.a)((function*(){return(yield t.e(99).then(t.bind(null,871))).default}));return function(){return e.apply(this,arguments)}}(),BuildingSceneLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(72)]).then(t.bind(null,859))).default}));return function(){return e.apply(this,arguments)}}(),CSVLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(80)]).then(t.bind(null,872))).default}));return function(){return e.apply(this,arguments)}}(),ElevationLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(3),t.e(12),t.e(24),t.e(46)]).then(t.bind(null,768))).default}));return function(){return e.apply(this,arguments)}}(),FeatureLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(82)]).then(t.bind(null,271))).default}));return function(){return e.apply(this,arguments)}}(),GroupLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(37),t.e(110)]).then(t.bind(null,671))).default}));return function(){return e.apply(this,arguments)}}(),GeoRSSLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(100)]).then(t.bind(null,846))).default}));return function(){return e.apply(this,arguments)}}(),ImageryLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(68)]).then(t.bind(null,860))).default}));return function(){return e.apply(this,arguments)}}(),ImageryTileLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(10),t.e(71)]).then(t.bind(null,858))).default}));return function(){return e.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(3),t.e(10),t.e(32),t.e(121)]).then(t.bind(null,865))).default}));return function(){return e.apply(this,arguments)}}(),KMLLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(94)]).then(t.bind(null,873))).default}));return function(){return e.apply(this,arguments)}}(),MapImageLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(87)]).then(t.bind(null,789))).default}));return function(){return e.apply(this,arguments)}}(),MapNotesLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(70)]).then(t.bind(null,751))).default}));return function(){return e.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(23),t.e(277)]).then(t.bind(null,847))).default}));return function(){return e.apply(this,arguments)}}(),PointCloudLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(2),t.e(3),t.e(32),t.e(117)]).then(t.bind(null,861))).default}));return function(){return e.apply(this,arguments)}}(),RouteLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(81)]).then(t.bind(null,848))).default}));return function(){return e.apply(this,arguments)}}(),SceneLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(73)]).then(t.bind(null,874))).default}));return function(){return e.apply(this,arguments)}}(),StreamLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(91)]).then(t.bind(null,875))).default}));return function(){return e.apply(this,arguments)}}(),TileLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(4),t.e(3),t.e(88)]).then(t.bind(null,746))).default}));return function(){return e.apply(this,arguments)}}(),UnknownLayer:function(){var e=Object(r.a)((function*(){return(yield t.e(147).then(t.bind(null,849))).default}));return function(){return e.apply(this,arguments)}}(),UnsupportedLayer:function(){var e=Object(r.a)((function*(){return(yield t.e(148).then(t.bind(null,850))).default}));return function(){return e.apply(this,arguments)}}(),VectorTileLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(3),t.e(24),t.e(42),t.e(119)]).then(t.bind(null,765))).default}));return function(){return e.apply(this,arguments)}}(),WebTileLayer:function(){var e=Object(r.a)((function*(){return(yield t.e(23).then(t.bind(null,761))).default}));return function(){return e.apply(this,arguments)}}(),WMSLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(1),t.e(2),t.e(96)]).then(t.bind(null,866))).default}));return function(){return e.apply(this,arguments)}}(),WMTSLayer:function(){var e=Object(r.a)((function*(){return(yield Promise.all([t.e(23),t.e(262)]).then(t.bind(null,863))).default}));return function(){return e.apply(this,arguments)}}()}},670:function(e,n,t){"use strict";t.r(n),t.d(n,"load",(function(){return f}));var r=t(7),a=t(93),u=t(106),i=t(252),l=t(310),o=t(823),c=t(648);function f(e,n){return d.apply(this,arguments)}function d(){return(d=Object(r.a)((function*(e,n){var t=e.instance.portalItem;return t&&t.id?(yield t.load(n),p(e),s(e,n)):Promise.resolve()}))).apply(this,arguments)}function p(e){var n=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(n.type))throw new a.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:n.type,expectedType:e.supportedTypes.join(", ")})}function s(e,n){return y.apply(this,arguments)}function y(){return(y=Object(r.a)((function*(e,n){var t=e.instance,r=t.portalItem,{url:a,title:u}=r,i=Object(o.a)(r);if("group"===t.type)return t.read({title:u},i),h(t,e);a&&t.read({url:a},i);var c=yield m(e,n);return c&&t.read(c,i),t.resourceReferences={portalItem:r,paths:i.readResourcePaths},t.read({title:u},i),Object(l.a)(t,i)}))).apply(this,arguments)}function h(e,n){var t,r,i=e.portalItem.type;switch(i){case"Feature Service":t=c.a.FeatureLayer;break;case"Stream Service":t=c.a.StreamLayer;break;case"Scene Service":t=c.a.SceneLayer;break;case"Feature Collection":t=c.a.FeatureLayer;break;default:throw new a.a("portal:unsupported-item-type-as-group","The item type '".concat(i,"' is not supported as a 'GroupLayer'"))}return t().then((e=>(r=e,m(n)))).then((n=>j(n)>0?v(e,r,n):function(e,n){if(!e.portalItem.url)return Promise.resolve();var t={responseType:"json",query:{f:"json"}};return Object(u.default)(e.portalItem.url,t).then((t=>{var r,a,u=t.data;function i(e){return{id:e.id,name:e.name}}u&&v(e,n,{layers:null==(r=u.layers)?void 0:r.map(i),tables:null==(a=u.tables)?void 0:a.map(i)})}))}(e,r)))}function v(e,n,t){var r=t.layers||[],a=t.tables||[];"Feature Collection"===e.portalItem.type&&(r.forEach((e=>{var n;"Table"===(null==e||null==(n=e.layerDefinition)?void 0:n.type)&&a.push(e)})),r=r.filter((e=>{var n;return"Table"!==(null==e||null==(n=e.layerDefinition)?void 0:n.type)}))),r.reverse().forEach((r=>{var a=b(e,n,t,r);e.add(a)})),a.reverse().forEach((r=>{var a=b(e,n,t,r);e.tables.add(a)}))}function b(e,n,t,r){var a=new n({portalItem:e.portalItem.clone(),layerId:r.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var u={origin:"portal-item",portal:e.portalItem.portal||i.a.getDefault()};a.read(r,u);var l=t.showLegend;null!=l&&a.read({showLegend:l},u)}return a}function m(e,n){if(!1===e.supportsData)return Promise.resolve(void 0);var t=e.instance;return t.portalItem.fetchData("json",n).catch((()=>null)).then((e=>{var n,r=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(t)){var a=!0;return e&&j(r)>0&&(null==t.layerId&&(t.layerId=function(e){var n=e.layers;if(n&&n.length)return n[0].id;var t=e.tables;return t&&t.length?t[0].id:null}(r)),(n=function(e,n){var t=e.layers;if(t)for(var r=0;r<t.length;r++)if(t[r].id===n)return t[r];var a=e.tables;if(a)for(var u=0;u<a.length;u++)if(a[u].id===n)return a[u];return null}(r,t.layerId))&&(1===j(r)&&(a=!1),null!=e.showLegend&&(n.showLegend=e.showLegend))),a&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),n}return e}))}function j(e){var n,t,r,a;return(null!=(n=null==e||null==(t=e.layers)?void 0:t.length)?n:0)+(null!=(r=null==e||null==(a=e.tables)?void 0:a.length)?r:0)}},823:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t(83),a=t(252);function u(e){return{origin:"portal-item",url:Object(r.J)(e.itemUrl),portal:e.portal||a.a.getDefault(),portalItem:e,readResourcePaths:[]}}}}]);
//# sourceMappingURL=149.5e242c93.chunk.js.map