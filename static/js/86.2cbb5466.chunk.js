/*! For license information please see 86.2cbb5466.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[86],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(129),i=n(131),o=n(88),s=n(145),a=n(79),c=n(87),l=n(85),u=n(89),d=n(96),h=n(429),f=n(442);async function p(e,t){const c=Object(d.u)(e),f=Object(d.t)(e);f||c||(e=Object(d.D)(e));const v={url:e,requestOptions:{...Object(l.s)(t)}};let y=Object(d.l)(e);if(y){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(f){n=A("request:interceptor",f,t)}if((r instanceof Error||r instanceof o.a)&&(n=A("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}(y,v);if(null!=e)return{data:e,getHeader:O,requestOptions:v.requestOptions,url:v.url};y.after||y.error||(y=null)}if(e=v.url,"image"===(t=v.requestOptions).responseType){if(Object(a.a)("host-webworker")||Object(a.a)("host-node"))throw A("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),v)}else if(c)throw A("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),v);if("head"===t.method){if(t.body)throw A("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),v);if(c||f)throw A("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),v)}if(await async function(){Object(a.a)("host-webworker")?g||(g=await n.e(286).then(n.bind(null,616))):p._abortableFetch||(p._abortableFetch=s.a.fetch.bind(s.a))}(),g)return g.execute(e,t);const _=Object(u.d)();Object(u.q)(t,(()=>_.abort()));const w={controller:_,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:y,params:v,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},j=await async function(e){var t,n;let o,a;await async function(e){const t=e.params.url,n=e.params.requestOptions,o=e.controller.signal,a=n.body;let c=null,l=null,d=null;if(b&&"HTMLFormElement"in s.a&&(a instanceof FormData?c=a:a instanceof HTMLFormElement&&(l=a,c=new FormData(l))),"string"==typeof a&&(d=a),e.fetchOptions={cache:n.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(c||d)&&(e.fetchOptions.body=c||d),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query&&n.query.token||c&&c.get&&c.get("token")||l&&l.elements.token),!e.hasToken&&r.a.apiKey&&Object(h.a)(t)&&(n.query||(n.query={}),n.query.token=r.a.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!S(t)&&!Object(u.n)(o)){let r;"immediate"===n.authMode?(await C(),r=await i.b.getCredential(t,{signal:o}),e.credential=r):"no-prompt"===n.authMode?(await C(),r=await i.b.getCredential(t,{prompt:!1,signal:o}).catch((()=>{})),e.credential=r):i.b&&(r=i.b.findCredential(t)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[o,a]=await E(e)}while(!await I(e,o,a))}catch(f){const t=A("request:server",f,e.params,o);throw t.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(t),t}const c=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(c)&&!e.hasToken&&!e.credentialToken&&null!=(t=a)&&null!=(n=t.user)&&n.username&&!Object(d.y)(c)){const e=Object(d.m)(c,!0);e&&m.trustedServers.push(e)}const l=e.credential;if(l&&i.b){const e=i.b.findServerInfo(l.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=i.b.findCredential(t,l.userId);e&&-1===i.b._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:o?e=>o.headers.get(e):O,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(w);return y&&y.after&&y.after(j),j}let g;const m=r.a.request,b="FormData"in s.a,v=[499,498,403,401],y=["COM_0056","COM_0057","SB_0008"],_=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],O=()=>null,w=Symbol();function j(e){const t=Object(d.m)(e);return!t||t.endsWith(".arcgis.com")||p._corsServers.includes(t)||Object(d.y)(t)}function A(e,t,n,r){let i="Error";const s={url:n.url,requestOptions:n.requestOptions,getHeader:O,ssl:!1};if(t instanceof o.a)return t.details?(t.details=Object(c.a)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=s,t;if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,o=t.message;o&&(i=o),e&&(s.getHeader=e),s.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,s.subCode=t.subcode,s.messageCode=t.messageCode,"string"==typeof t.details?s.messages=[t.details]:s.messages=t.details,s.raw=w in t?t[w]:t}return Object(u.m)(t)?Object(u.e)():new o.a(e,i,s)}async function C(){i.b||await Promise.all([n.e(15),n.e(150),n.e(242)]).then(n.bind(null,595))}function S(e){return _.some((t=>t.test(e)))}async function E(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions,o=Object(d.t)(t)||Object(d.u)(t),s=n.responseType||"json",c=o?0:null!=n.timeout?n.timeout:m.timeout;let l=!1;if(!o){e.useSSL&&(t=Object(d.J)(t)),n.cacheBust&&"default"===r.cache&&(t=Object(d.d)(t,"request.preventCache",Date.now()));let o={...n.query};e.credentialToken&&(o.token=e.credentialToken);let s=Object(d.E)(o);Object(a.a)("esri-url-encodes-apostrophe")&&(s=s.replace(/'/g,"%27"));const c=t.length+1+s.length;let u;l="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||c>m.maxUrlLength;const h=n.useProxy||!!Object(d.o)(t);if(h){const e=Object(d.p)(t);u=e.path,!l&&u.length+1+c>m.maxUrlLength&&(l=!0),e.query&&(o={...e.query,...o})}if("HEAD"===r.method&&(l||h)){if(l){if(c>m.maxUrlLength)throw A("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw A("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw A("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(r.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=Object(d.e)(t,o):(r.body=Object(d.E)(o),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Object(d.e)(t,o),h&&(e.useProxy=!0,t=`${u}?${t}`),o.token&&b&&r.body instanceof FormData){const e=r.body;e.set?e.set("token",o.token):e.append("token",o.token)}if(n.hasOwnProperty("withCredentials"))e.withCredentials=n.withCredentials;else if(!Object(d.q)(t,d.g))if(Object(d.y)(t))e.withCredentials=!0;else if(i.b){const n=i.b.findServerInfo(t);n&&n.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(r.credentials="include")}let h,f,g=0,v=!1;c>0&&(g=setTimeout((()=>{v=!0,e.controller.abort()}),c));try{if("native-request-init"===n.responseType)f=r,f.url=t;else if("image"!==n.responseType||"default"!==r.cache||"GET"!==r.method||l||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(n.headers)||!o&&!e.useProxy&&m.proxyUrl&&!j(t)){if(h=await p._abortableFetch(t,r),e.useProxy||function(e){const t=Object(d.m)(e);t&&!p._corsServers.includes(t)&&p._corsServers.push(t)}(t),"native"===n.responseType)f=h;else if("HEAD"!==r.method)if(h.ok){switch(s){case"array-buffer":f=await h.arrayBuffer();break;case"blob":case"image":f=await h.blob();break;default:f=await h.text()}if(g&&(clearTimeout(g),g=0),"json"===s||"xml"===s||"document"===s)if(f)switch(s){case"json":f=JSON.parse(f);break;case"xml":f=k(f,"application/xml");break;case"document":f=k(f,"text/html")}else f=null;if(f){if("array-buffer"===s||"blob"===s){const e=h.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&f["blob"===s?"size":"byteLength"]<=750)try{const e=await new Response(f).json();e.error&&(f=e)}catch{}}"image"===s&&f instanceof Blob&&(f=await x(URL.createObjectURL(f),e,!0))}}else f=await h.text()}else f=await x(t,e)}catch(y){if("AbortError"===y.name){if(v)throw new Error("Timeout exceeded");throw Object(u.e)("Request canceled")}if(!(!h&&y instanceof TypeError&&m.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||j(t))throw y;e.redoRequest=!0,Object(d.c)({proxyUrl:m.proxyUrl,urlPrefix:Object(d.m)(t)})}finally{g&&clearTimeout(g)}return[h,f]}function k(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function I(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let o,s,a,c;if(!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[w]=n,o;null!=n&&n.error&&(o=n.error),o&&(s=Number(o.code),a=o.hasOwnProperty("subcode")?Number(o.subcode):null,c=o.messageCode,c=c&&c.toUpperCase());const l=r.authMode;if(403===s&&(4===a||o.message&&o.message.toLowerCase().indexOf("ssl")>-1&&-1===o.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==l||498===s)&&-1!==v.indexOf(s)&&!S(e.params.url)&&(403!==s||-1===y.indexOf(c)&&(null==a||2===a&&e.credentialToken))){await C();try{const t=await i.b.getCredential(e.params.url,{error:A("request:server",o,e.params),prompt:"no-prompt"!==l,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(u){if("no-prompt"===l)return e.credential=null,e.credentialToken=null,!1;o=u}}if(o)throw o;return!0}function x(e,t,n=!1){const r=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,Object(f.a)(i,e,n,r)}p._abortableFetch=null,p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r,i=n(81),o=n(304),s=n(123),a=n(87),c=n(85),l=n(190),u=n(229),d=n(84),h=n(226),f=n(83),p=n(82),g=n(347);class m{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new g.a(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const n=e[t];n.onInvalidated(),n.onCommitted()}}}const b=new l.a(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),v=()=>{};function y(e){return e?e instanceof k?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function _(e){if(e&&e.length)return e[0]}function O(e,t,n,r){const i=Math.min(e.length-n,t.length-r);let o=0;for(;o<i&&e[n+o]===t[r+o];)o++;return o}function w(e,t,n,r){t&&t.forEach(((t,i,o)=>{e.push(t),w(e,n.call(r,t,i,o),n,r)}))}const j=new Set,A=new Set,C=new Set,S=new Map;let E=0,k=r=class extends s.a.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new m,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:E++})}static isCollection(e){return null!=e&&e instanceof r}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof r?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return Object(h.c)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...y(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,n={removed:!1,callback:t};return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=v,n.removed=!0,e.splice(e.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const n=this.on(e,t);return{remove(){n.remove()}}}add(e,t){if(Object(h.c)(this._observable),this._emitBeforeChanges(1))return this;const n=this.getNextIndex(null!=t?t:null);return this._splice(n,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(Object(h.c)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const n=this.getNextIndex(t);return this._splice(n,0,...y(e)),this._emitAfterChanges(1),this}removeAll(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return Object(h.c)(this._observable),this._createNewInstance({items:this._items.map(a.a)})}concat(...e){Object(h.c)(this._observable);const t=e.map(y);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const n=Object(c.d)(this._splice(0,this.length)),r=n.length;for(let i=0;i<r;i++)e.call(t,n[i],i,n);this._emitAfterChanges(2)}every(e,t){return Object(h.c)(this._observable),this._items.every(e,t)}filter(e,t){let n;return Object(h.c)(this._observable),n=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:n})}find(e,t){return Object(h.c)(this._observable),this._items.find(e,t)}findIndex(e,t){return Object(h.c)(this._observable),this._items.findIndex(e,t)}flatten(e,t){Object(h.c)(this._observable);const n=[];return w(n,this,e,t),new r(n)}forEach(e,t){return Object(h.c)(this._observable),this._items.forEach(e,t)}getItemAt(e){return Object(h.c)(this._observable),this._items[e]}getNextIndex(e){Object(h.c)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Object(h.c)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Object(h.c)(this._observable),this._items.indexOf(e,t)}join(e=","){return Object(h.c)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Object(h.c)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Object(h.c)(this._observable);const n=this._items.map(e,t);return new r({items:n})}reorder(e,t=this.length-1){Object(h.c)(this._observable);const n=this.indexOf(e);if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(4))return e;this._splice(n,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return Object(h.c)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){Object(h.c)(this._observable);const n=this._items;return 2===arguments.length?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){Object(h.c)(this._observable);const n=this._items;return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return Object(h.c)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Object(h.c)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=_(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(Object(h.c)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof r?e.toArray():e,n=this._items,i=[],o=t.length;for(let r=0;r<o;r++){const e=t[r],o=n.indexOf(e);if(o>-1){const e=1+O(t,n,r+1,o+1),s=this._splice(o,e);s&&s.length>0&&i.push.apply(i,s),r+=e-1}}return this._emitAfterChanges(2),i}reverse(){if(Object(h.c)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=_(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return Object(h.c)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Object(h.c)(this._observable),this._items.some(e,t)}sort(e){if(Object(h.c)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=Object(c.d)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...n){Object(h.c)(this._observable);const r=(t?2:0)|(n.length?1:0);if(this._emitBeforeChanges(r))return[];const i=this._splice(e,t,...n)||[];return this._emitAfterChanges(r),i}toArray(){return Object(h.c)(this._observable),this._items.slice()}toJSON(){return Object(h.c)(this._observable),this.toArray()}toLocaleString(){return Object(h.c)(this._observable),this._items.toLocaleString()}toString(){return Object(h.c)(this._observable),this._items.toString()}unshift(...e){return Object(h.c)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...n){const r=this._items,i=this.constructor.prototype.itemType;let o,s;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(u.b)((()=>this._dispatchChange()))),t){if(s=r.splice(e,t),this.hasEventListener("before-remove")){const t=b.acquire();t.target=this,t.cancellable=!0;for(let n=0,i=s.length;n<i;n++)o=s[n],t.reset(o),this.emit("before-remove",t),t.defaultPrevented&&(s.splice(n,1),r.splice(e,0,o),e+=1,n-=1,i-=1);b.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=b.acquire();e.target=this,e.cancellable=!1;const t=s.length;for(let n=0;n<t;n++)e.reset(s[n]),this.emit("after-remove",e);b.release(e)}}if(n&&n.length){if(i){const e=[];for(const t of n){const n=i.ensureType(t);null==n&&null!=t||e.push(n)}n=e}const t=this.hasEventListener("before-add"),o=this.hasEventListener("after-add"),s=e===this.length;if(t||o){const i=b.acquire();i.target=this,i.cancellable=!0;const a=b.acquire();a.target=this,a.cancellable=!1;for(const c of n)t?(i.reset(c),this.emit("before-add",i),i.defaultPrevented||(s?r.push(c):r.splice(e++,0,c),this._set("length",r.length),o&&(a.reset(c),this.emit("after-add",a)))):(s?r.push(c):r.splice(e++,0,c),this._set("length",r.length),a.reset(c),this.emit("after-add",a));b.release(a),b.release(i)}else{if(s)for(const e of n)r.push(e);else r.splice(e,0,...n);this._set("length",r.length)}}return(n&&n.length||s&&s.length)&&this._notifyChangeEvent(n,s),s}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const n=b.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,b.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=b.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),b.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;j.clear(),A.clear(),C.clear();for(const{added:t,removed:o}of e){if(t)if(0===C.size&&0===A.size)for(const e of t)j.add(e);else for(const e of t)A.has(e)?(C.add(e),A.delete(e)):C.has(e)||j.add(e);if(o)if(0===C.size&&0===j.size)for(const e of o)A.add(e);else for(const e of o)j.has(e)?j.delete(e):(C.delete(e),A.add(e))}const n=o.a.acquire();j.forEach((e=>{n.push(e)}));const r=o.a.acquire();A.forEach((e=>{r.push(e)}));const i=this._items,s=t.items,a=o.a.acquire();if(C.forEach((e=>{s.indexOf(e)!==i.indexOf(e)&&a.push(e)})),t.listeners&&(n.length||r.length||a.length)){const e={target:this,added:n,removed:r,moved:a},i=t.listeners.length;for(let n=0;n<i;n++){const r=t.listeners[n];r.removed||r.callback.call(this,e)}}o.a.release(n),o.a.release(r),o.a.release(a)}j.clear(),A.clear(),C.clear()}};k.ofType=e=>{if(!e)return r;if(S.has(e))return S.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let n=class extends r{};n=Object(i.a)([Object(p.a)(`esri.core.Collection<${t}>`)],n);const o={Type:e,ensureType:"function"==typeof e?Object(d.m)(e):Object(d.k)(e)};return Object.defineProperty(n.prototype,"itemType",{value:o}),S.set(e,n),n},Object(i.a)([Object(f.b)()],k.prototype,"length",void 0),Object(i.a)([Object(f.b)()],k.prototype,"items",null),k=r=Object(i.a)([Object(p.a)("esri.core.Collection")],k);var I=k},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(81),i=n(103),o=n(123),s=n(117),a=n(89),c=n(109),l=n(83),u=(n(79),n(84),n(80),n(82)),d=n(938),h=n(707);const f="view",p="view-layers",g="map-layers",m="layer-views",b="layer-list-mode",v=i.a.ofType(d.a);let y=class extends o.a.EventedAccessor{constructor(e){super(e),this._handles=new s.a,this.listItemCreatedFunction=null,this.operationalItems=new v,this.view=null,this._callListItemsCreatedDebounced=Object(a.i)((async()=>this._callListItemsCreated()),300)}initialize(){this._handles.add(Object(c.a)(this,["view","view.ready"],(()=>this._viewHandles())),f)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,n,r){var i,o;const s=null==e?void 0:e.layer;if(!s)return;const a=null==(i=this.view)||null==(o=i.map)?void 0:o.layers,c=t?Object(h.f)(t):a,l=n?Object(h.f)(n):a;if(!c||!l)return;const{operationalItems:u}=this,d=(null==t?void 0:t.children)||u,f=(null==n?void 0:n.children)||u,p=l.length-r;e.parent=n||null,d.includes(e)&&d.remove(e),c.includes(s)&&c.remove(s),f.includes(e)||f.add(e,p),l.includes(s)||l.add(s,p)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(m),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),m)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(g),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),g)}_watchItemProperties(e){this._handles.add([e.children.on("change",(()=>{this._callListItemCreatedChildren(e.children)}))],`children-change-${e.uid}`)}_callListItemCreatedChildren(e){e.forEach((e=>this._callListItemCreated(e)))}_callListItemCreated(e){if("function"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._callListItemCreatedChildren(e.children)}_createListItem(e){const{view:t}=this,n=new d.a({layer:e,view:t});return this._watchItemProperties(n),n}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==Object(h.c)(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(b),e&&e.forEach((e=>{t.add(Object(c.d)(e,"listMode",(()=>this._compileList())),b)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t),this._beforeCallListItemsCreated()):this._removeAllItems()}async _beforeCallListItemsCreated(){return this._callListItemsCreatedDebounced().catch(a.w)}async _callListItemsCreated(){var e;await(null==(e=this.view)?void 0:e.when()),this.operationalItems.forEach((e=>this._callListItemCreated(e)))}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{_handles:t,operationalItems:n}=this,r=[];n.forEach((n=>{n&&e&&e.find((e=>n.layer===e))||(t.remove(`children-change-${n.uid}`),r.push(n))})),n.removeMany(r)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,n)=>{const r=e.indexOf(t.layer),i=e.indexOf(n.layer);return r>i?-1:r<i?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([g,m,p]),this._compileList(),t&&t.ready&&e.add([Object(c.a)(this,"view.map.allLayers",(e=>this._createMapLayerHandles(e))),Object(c.a)(this,"view.allLayerViews",(e=>this._createLayerViewHandles(e))),Object(c.a)(this,"listItemCreatedFunction",(()=>this._compileList()))],p)}};Object(r.a)([Object(l.b)()],y.prototype,"listItemCreatedFunction",void 0),Object(r.a)([Object(l.b)({type:v})],y.prototype,"operationalItems",void 0),Object(r.a)([Object(l.b)({readOnly:!0})],y.prototype,"state",null),Object(r.a)([Object(l.b)()],y.prototype,"view",void 0),y=Object(r.a)([Object(u.a)("esri.widgets.LayerList.LayerListViewModel")],y);var _=y},1037:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var u=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=l(/Edge/i),h=l(/firefox/i),f=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),g=l(/chrome/i)&&l(/android/i),m={capture:!1,passive:!1};function b(e,t,n){e.addEventListener(t,n,!u&&m)}function v(e,t,n){e.removeEventListener(t,n,!u&&m)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var w,j=/\s+/g;function A(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(j," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(j," ")}}function C(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function S(e,t){var n="";if("string"===typeof e)n=e;else do{var r=C(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function E(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function k(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,a,c,l,d,h;if(e!==window&&e.parentNode&&e!==k()?(s=(o=e.getBoundingClientRect()).top,a=o.left,c=o.bottom,l=o.right,d=o.height,h=o.width):(s=0,a=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==C(i,"transform")||n&&"static"!==C(i,"position"))){var f=i.getBoundingClientRect();s-=f.top+parseInt(C(i,"border-top-width")),a-=f.left+parseInt(C(i,"border-left-width")),c=s+o.height,l=a+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=S(i||e),g=p&&p.a,m=p&&p.d;p&&(c=(s/=m)+(d/=m),l=(a/=g)+(h/=g))}return{top:s,left:a,bottom:c,right:l,width:h,height:d}}}function x(e,t,n){for(var r=D(e,!0),i=I(e)[t];r;){var o=I(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===k())break;r=D(r,!1)}return!1}function T(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==Re.ghost&&(r||s[o]!==Re.dragged)&&O(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function P(e,t){for(var n=e.lastElementChild;n&&(n===Re.ghost||"none"===C(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function L(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Re.clone||t&&!y(e,t)||n++;return n}function M(e){var t=0,n=0,r=k();if(e)do{var i=S(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function D(e,t){if(!e||!e.getBoundingClientRect)return k();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return k();if(r||t)return n;r=!0}}}while(n=n.parentNode);return k()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!w){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),w=setTimeout((function(){w=void 0}),t)}}}function q(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function F(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==C(e,"display")&&e!==Re.ghost){t.push({target:e,rect:I(e)});var n=i({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=S(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=I(n),c=n.prevFromRect,l=n.prevToRect,u=e.rect,d=S(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&N(c,a)&&!N(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,c,l,r.options)),N(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=r.options.animation),r.animate(n,u,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){C(e,"transition",""),C(e,"transform","");var i=S(this.el),o=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(o||1),c=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!c,C(e,"transform","translate3d("+a+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),C(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){C(e,"transition",""),C(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var B=[],z={initializeByDefault:!0},V={mount:function(e){for(var t in z)z.hasOwnProperty(t)&&!(t in e)&&(e[t]=z[t]);B.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),B.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";B.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](i({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in B.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return B.forEach((function(r){"function"===typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return B.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function W(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,s=e.cloneEl,a=e.toEl,c=e.fromEl,l=e.oldIndex,h=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[U]){var v,y=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||u||d?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=c||n,v.item=o||n,v.clone=s,v.oldIndex=l,v.newIndex=h,v.oldDraggableIndex=f,v.newDraggableIndex=p,v.originalEvent=g,v.pullMode=m?m.lastPutMode:void 0;var O=i(i({},b),V.getEventProperties(r,t));for(var w in O)v[w]=O[w];n&&n.dispatchEvent(v),y[_]&&y[_].call(t,v)}}var H=["evt"],Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=c(n,H);V.pluginEvent.bind(Re)(e,t,i({dragEl:J,parentEl:K,ghostEl:G,rootEl:Z,nextEl:Q,lastDownEl:ee,cloneEl:te,cloneHidden:ne,dragStarted:ge,putSortable:ce,activeSortable:Re.active,originalEvent:r,oldIndex:re,oldDraggableIndex:oe,newIndex:ie,newDraggableIndex:se,hideGhostForTarget:De,unhideGhostForTarget:Ne,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:r})}},o))};function X(e){W(i({putSortable:ce,cloneEl:te,targetEl:J,rootEl:Z,oldIndex:re,oldDraggableIndex:oe,newIndex:ie,newDraggableIndex:se},e))}var J,K,G,Z,Q,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,de,he,fe,pe,ge,me,be,ve,ye,_e=!1,Oe=!1,we=[],je=!1,Ae=!1,Ce=[],Se=!1,Ee=[],ke="undefined"!==typeof document,Ie=p,xe=d||u?"cssFloat":"float",Te=ke&&!g&&!p&&"draggable"in document.createElement("div"),Pe=function(){if(ke){if(u)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Le=function(e,t){var n=C(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=T(e,0,t),o=T(e,1,t),s=i&&C(i),a=o&&C(o),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(i).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||c>=r&&"none"===n[xe]||o&&"none"===n[xe]&&c+l>r)?"vertical":"horizontal"},Me=function(e){function t(e,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,s),n)(r,i,o,s);var c=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},De=function(){!Pe&&G&&C(G,"display","none")},Ne=function(){!Pe&&G&&C(G,"display","")};ke&&document.addEventListener("click",(function(e){if(Oe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Oe=!1,!1}),!0);var $e=function(e){if(J){var t=function(e,t){var n;return we.some((function(r){var i=r[U].options.emptyInsertThreshold;if(i&&!P(r)){var o=I(r),s=e>=o.left-i&&e<=o.right+i,a=t>=o.top-i&&t<=o.bottom+i;return s&&a?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}},qe=function(e){J&&J.parentNode[U]._isOutsideThisEl(e.target)};function Re(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Le(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Re.supportPointer&&"PointerEvent"in window&&!f,emptyInsertThreshold:5};for(var r in V.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Me(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Te,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),we.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,F())}function Ue(e,t,n,r,i,o,s,a){var c,l,h=e[U],f=h.options.onMove;return!window.CustomEvent||u||d?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=i||t,c.relatedRect=o||I(t),c.willInsertAfter=a,c.originalEvent=s,e.dispatchEvent(c),f&&(l=f.call(h,c,s)),l}function Fe(e){e.draggable=!1}function Be(){Se=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ve(e){return setTimeout(e,0)}function We(e){return clearTimeout(e)}Re.prototype={constructor:Re,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(me=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,l=r.filter;if(function(e){Ee.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ee.push(r)}}(n),!J&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!f||!a||"SELECT"!==a.tagName.toUpperCase())&&(!(a=O(a,r.draggable,n,!1))||!a.animated)&&ee!==a){if(re=L(a),oe=L(a,r.draggable),"function"===typeof l){if(l.call(this,e,a,this))return X({sortable:t,rootEl:c,name:"filter",targetEl:a,toEl:n,fromEl:n}),Y("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=O(c,r.trim(),n,!1))return X({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),Y("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!O(c,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!J&&n.parentNode===o){var c=I(n);if(Z=o,K=(J=n).parentNode,Q=J.nextSibling,ee=n,ae=s.group,Re.dragged=J,le={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=le.clientX-c.left,pe=le.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",r=function(){Y("delayEnded",i,{evt:e}),Re.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!h&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,t),X({sortable:i,name:"choose",originalEvent:e}),A(J,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){E(J,e.trim(),Fe)})),b(a,"dragover",$e),b(a,"mousemove",$e),b(a,"touchmove",$e),b(a,"mouseup",i._onDrop),b(a,"touchend",i._onDrop),b(a,"touchcancel",i._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),Y("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||u))r();else{if(Re.eventCanceled)return void this._onDrop();b(a,"mouseup",i._disableDelayedDrag),b(a,"touchend",i._disableDelayedDrag),b(a,"touchcancel",i._disableDelayedDrag),b(a,"mousemove",i._delayedDragTouchMoveHandler),b(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&b(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Fe(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(J,"dragend",this),b(Z,"dragstart",this._onDragStart));try{document.selection?Ve((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(_e=!1,Z&&J){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",qe);var n=this.options;!e&&A(J,n.dragClass,!1),A(J,n.ghostClass,!0),Re.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,De();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(J.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){if(t[U]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ne()}},_onTouchMove:function(e){if(le){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=G&&S(G,!0),s=G&&o&&o.a,a=G&&o&&o.d,c=Ie&&ye&&M(ye),l=(i.clientX-le.clientX+r.x)/(s||1)+(c?c[0]-Ce[0]:0)/(s||1),u=(i.clientY-le.clientY+r.y)/(a||1)+(c?c[1]-Ce[1]:0)/(a||1);if(!Re.active&&!_e){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(G){o?(o.e+=l-(de||0),o.f+=u-(he||0)):o={a:1,b:0,c:0,d:1,e:l,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");C(G,"webkitTransform",d),C(G,"mozTransform",d),C(G,"msTransform",d),C(G,"transform",d),de=l,he=u,ue=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!G){var e=this.options.fallbackOnBody?document.body:Z,t=I(J,!0,Ie,!0,e),n=this.options;if(Ie){for(ye=e;"static"===C(ye,"position")&&"none"===C(ye,"transform")&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=k()),t.top+=ye.scrollTop,t.left+=ye.scrollLeft):ye=k(),Ce=M(ye)}A(G=J.cloneNode(!0),n.ghostClass,!1),A(G,n.fallbackClass,!0),A(G,n.dragClass,!0),C(G,"transition",""),C(G,"transform",""),C(G,"box-sizing","border-box"),C(G,"margin",0),C(G,"top",t.top),C(G,"left",t.left),C(G,"width",t.width),C(G,"height",t.height),C(G,"opacity","0.8"),C(G,"position",Ie?"absolute":"fixed"),C(G,"zIndex","100000"),C(G,"pointerEvents","none"),Re.ghost=G,e.appendChild(G),C(G,"transform-origin",fe/parseInt(G.style.width)*100+"% "+pe/parseInt(G.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;Y("dragStart",this,{evt:e}),Re.eventCanceled?this._onDrop():(Y("setupClone",this),Re.eventCanceled||((te=R(J)).draggable=!1,te.style["will-change"]="",this._hideClone(),A(te,this.options.chosenClass,!1),Re.clone=te),n.cloneId=Ve((function(){Y("clone",n),Re.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(te,J),n._hideClone(),X({sortable:n,name:"clone"}))})),!t&&A(J,i.dragClass,!0),t?(Oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,J)),b(document,"drop",n),C(J,"transform","translateZ(0)")),_e=!0,n._dragStartId=Ve(n._dragStarted.bind(n,t,e)),b(document,"selectstart",n),ge=!0,f&&C(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,s=this.el,a=e.target,c=this.options,l=c.group,u=Re.active,d=ae===l,h=c.sort,f=ce||u,p=this,g=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=O(a,c.draggable,s,!0),R("dragOver"),Re.eventCanceled)return g;if(J.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return B(!1);if(Oe=!1,u&&!c.disabled&&(d?h||(r=K!==Z):ce===this||(this.lastPutMode=ae.checkPull(this,u,J,e))&&l.checkPut(this,u,J,e))){if(o="vertical"===this._getDirection(e,a),t=I(J),R("dragOverValid"),Re.eventCanceled)return g;if(r)return K=Z,F(),this._hideClone(),R("revert"),Re.eventCanceled||(Q?Z.insertBefore(J,Q):Z.appendChild(J)),B(!0);var m=P(s,c.draggable);if(!m||function(e,t,n){var r=I(P(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}(e,o,this)&&!m.animated){if(m===J)return B(!1);if(m&&s===e.target&&(a=m),a&&(n=I(a)),!1!==Ue(Z,s,J,t,a,n,e,!!a))return F(),s.appendChild(J),K=s,z(),B(!0)}else if(m&&function(e,t,n){var r=I(T(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var b=T(s,0,c,!0);if(b===J)return B(!1);if(n=I(a=b),!1!==Ue(Z,s,J,t,a,n,e,!1))return F(),s.insertBefore(J,b),K=s,z(),B(!0)}else if(a.parentNode===s){n=I(a);var v,y,_,w=J.parentNode!==s,j=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,c=n?t.width:t.height;return r===s||i===a||r+o/2===s+c/2}(J.animated&&J.toRect||t,a.animated&&a.toRect||n,o),S=o?"top":"left",E=x(a,"top","top")||x(J,"top","top"),k=E?E.scrollTop:void 0;if(me!==a&&(y=n[S],je=!1,Ae=!j&&c.invertSwap||w),0!==(v=function(e,t,n,r,i,o,s,a){var c=r?e.clientY:e.clientX,l=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!s)if(a&&ve<l*i){if(!je&&(1===be?c>u+l*o/2:c<d-l*o/2)&&(je=!0),je)h=!0;else if(1===be?c<u+ve:c>d-ve)return-be}else if(c>u+l*(1-i)/2&&c<d-l*(1-i)/2)return function(e){return L(J)<L(e)?1:-1}(t);if((h=h||s)&&(c<u+l*o/2||c>d-l*o/2))return c>u+l/2?1:-1;return 0}(e,a,n,o,j?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,Ae,me===a))){var M=L(J);do{M-=v,_=K.children[M]}while(_&&("none"===C(_,"display")||_===G))}if(0===v||_===a)return B(!1);me=a,be=v;var D=a.nextElementSibling,N=!1,$=Ue(Z,s,J,t,a,n,e,N=1===v);if(!1!==$)return 1!==$&&-1!==$||(N=1===$),Se=!0,setTimeout(Be,30),F(),N&&!D?s.appendChild(J):a.parentNode.insertBefore(J,N?D:a),E&&q(E,0,k-E.scrollTop),K=J.parentNode,void 0===y||Ae||(ve=Math.abs(y-I(a)[S])),z(),B(!0)}if(s.contains(J))return B(!1)}return!1}function R(c,l){Y(c,p,i({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:a,completed:B,onMove:function(n,r){return Ue(Z,s,J,t,n,I(n),e,r)},changed:z},l))}function F(){R("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function B(t){return R("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==f&&(A(J,ce?ce.options.ghostClass:u.options.ghostClass,!1),A(J,c.ghostClass,!0)),ce!==p&&p!==Re.active?ce=p:p===Re.active&&ce&&(ce=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){R("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===J&&!J.animated||a===s&&!a.animated)&&(me=null),c.dragoverBubble||e.rootEl||a===document||(J.parentNode[U]._isOutsideThisEl(e.target),!t&&$e(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function z(){ie=L(J),se=L(J,c.draggable),X({sortable:p,name:"change",toEl:s,newIndex:ie,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",$e),v(document,"mousemove",$e),v(document,"touchmove",$e)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ie=L(J),se=L(J,n.draggable),Y("drop",this,{evt:e}),K=J&&J.parentNode,ie=L(J),se=L(J,n.draggable),Re.eventCanceled||(_e=!1,Ae=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),We(this.cloneId),We(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),f&&C(document.body,"user-select",""),C(J,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(Z===K||ce&&"clone"!==ce.lastPutMode)&&te&&te.parentNode&&te.parentNode.removeChild(te),J&&(this.nativeDraggable&&v(J,"dragend",this),Fe(J),J.style["will-change"]="",ge&&!_e&&A(J,ce?ce.options.ghostClass:this.options.ghostClass,!1),A(J,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==K?(ie>=0&&(X({rootEl:K,name:"add",toEl:K,fromEl:Z,originalEvent:e}),X({sortable:this,name:"remove",toEl:K,originalEvent:e}),X({rootEl:K,name:"sort",toEl:K,fromEl:Z,originalEvent:e}),X({sortable:this,name:"sort",toEl:K,originalEvent:e})),ce&&ce.save()):ie!==re&&ie>=0&&(X({sortable:this,name:"update",toEl:K,originalEvent:e}),X({sortable:this,name:"sort",toEl:K,originalEvent:e})),Re.active&&(null!=ie&&-1!==ie||(ie=re,se=oe),X({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),Z=J=K=G=Q=te=ee=ne=le=ue=ge=ie=se=re=oe=me=be=ce=ae=Re.dragged=Re.ghost=Re.clone=Re.active=null,Ee.forEach((function(e){e.checked=!0})),Ee.length=de=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)O(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ze(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];O(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=V.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Me(n)},destroy:function(){Y("destroy",this);var e=this.el;e[U]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(Y("hideClone",this),Re.eventCanceled)return;C(te,"display","none"),this.options.removeCloneOnHide&&te.parentNode&&te.parentNode.removeChild(te),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(Y("showClone",this),Re.eventCanceled)return;J.parentNode!=Z||this.options.group.revertClone?Q?Z.insertBefore(te,Q):Z.appendChild(te):Z.insertBefore(te,J),this.options.group.revertClone&&this.animate(J,te),C(te,"display",""),ne=!1}}else this._hideClone()}},ke&&b(document,"touchmove",(function(e){(Re.active||_e)&&e.cancelable&&e.preventDefault()})),Re.utils={on:b,off:v,css:C,find:E,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:$,closest:O,toggleClass:A,clone:R,index:L,nextTick:Ve,cancelNextTick:We,detectDirection:Le,getChild:T},Re.get=function(e){return e[U]},Re.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Re.utils=i(i({},Re.utils),e.utils)),V.mount(e)}))},Re.create=function(e,t){return new Re(e,t)},Re.version="1.14.0";var He,Ye,Xe,Je,Ke,Ge,Ze=[],Qe=!1;function et(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function tt(){clearInterval(Ge)}var nt=$((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,c=t.scrollSpeed,l=k(),u=!1;Ye!==n&&(Ye=n,et(),He=t.scroll,i=t.scrollFn,!0===He&&(He=D(n,!0)));var d=0,h=He;do{var f=h,p=I(f),g=p.top,m=p.bottom,b=p.left,v=p.right,y=p.width,_=p.height,O=void 0,w=void 0,j=f.scrollWidth,A=f.scrollHeight,S=C(f),E=f.scrollLeft,x=f.scrollTop;f===l?(O=y<j&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),w=_<A&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(O=y<j&&("auto"===S.overflowX||"scroll"===S.overflowX),w=_<A&&("auto"===S.overflowY||"scroll"===S.overflowY));var T=O&&(Math.abs(v-o)<=a&&E+y<j)-(Math.abs(b-o)<=a&&!!E),P=w&&(Math.abs(m-s)<=a&&x+_<A)-(Math.abs(g-s)<=a&&!!x);if(!Ze[d])for(var L=0;L<=d;L++)Ze[L]||(Ze[L]={});Ze[d].vx==T&&Ze[d].vy==P&&Ze[d].el===f||(Ze[d].el=f,Ze[d].vx=T,Ze[d].vy=P,clearInterval(Ze[d].pid),0==T&&0==P||(u=!0,Ze[d].pid=setInterval(function(){r&&0===this.layer&&Re.active._onTouchMove(Ke);var t=Ze[this.layer].vy?Ze[this.layer].vy*c:0,n=Ze[this.layer].vx?Ze[this.layer].vx*c:0;"function"===typeof i&&"continue"!==i.call(Re.dragged.parentNode[U],n,t,e,Ke,Ze[this.layer].el)||q(Ze[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=D(h,!1)));Qe=u}}),30),rt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var c=n||i;s();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(l.clientX,l.clientY);a(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function it(){}function ot(){}it.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=T(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:rt},a(it,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:rt},a(ot,{pluginName:"removeOnSpill"});Re.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),tt(),et(),clearTimeout(w),w=void 0},nulling:function(){Ke=Ye=He=Qe=Ge=Xe=Je=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(Ke=e,t||this.options.forceAutoScrollFallback||d||u||f){nt(e,this.options,o,t);var s=D(o,!0);!Qe||Ge&&r===Xe&&i===Je||(Ge&&tt(),Ge=setInterval((function(){var o=D(document.elementFromPoint(r,i),!0);o!==s&&(s=o,et()),nt(e,n.options,o,t)}),10),Xe=r,Je=i)}else{if(!this.options.bubbleScroll||D(o,!0)===k())return void et();nt(e,this.options,D(o,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Re.mount(ot,it),t.a=Re},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(84),i=n(234);const o=Object.prototype.toString;function s(e){const t="__accessorMetadata__"in e?Object(r.m)(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,e)}}function a(e,t,n,r){Object(i.b)(e,t).cast=r}function c(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===o.call(e[0])?s(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return function(t,n){Object(i.b)(t,e).cast=t[n]}}(e[0]):void 0}},1125:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n(81),i=n(103),o=n(179),s=n(117),a=n(79),c=n(109),l=n(146),u=n(107),d=(n(80),n(83)),h=n(82),f=n(160),p=n(1036),g=n(938),m=n(707),b=n(273),v=n(175),y=n(313),_=n(127),O=(n(105),n(1037));function w(e,t,n){e.splice(n,0,e.splice(t,1)[0])}const j=i.a.ofType(g.a),A="data-sort-filter",C="data-layer-uid",S="esri-layer-list esri-widget esri-widget--panel",E="esri-layer-list--new-ui",k="esri-layer-list__no-items",I="esri-layer-list__list",x="esri-layer-list__list--root",T="esri-layer-list__list--exclusive",P="esri-layer-list__list--inherited",L="esri-layer-list__list--independent",M="esri-layer-list__item",D="esri-layer-list__item--error",N="esri-layer-list__item--invisible",$="esri-layer-list__item--invisible-at-scale",q="esri-layer-list__item--updating",R="esri-layer-list__item--has-children",U="esri-layer-list__item--selectable",F="esri-layer-list__item-container",B="esri-layer-list__item-actions-menu",z="esri-layer-list__item-actions-menu-item",V="esri-layer-list__item-actions-menu-item--active",W="esri-layer-list__item-actions",H="esri-layer-list__item-actions-list",Y="esri-layer-list__item-action",X="esri-layer-list__item-action-icon",J="esri-layer-list__item-action-image",K="esri-layer-list__item-action-title",G="esri-layer-list__action-toggle",Z="esri-layer-list__action-toggle--on",Q="esri-layer-list__item-label",ee="esri-layer-list__item-error-message",te="esri-layer-list__item-title",ne="esri-layer-list__item-toggle",re="esri-layer-list__item-toggle-icon",ie="esri-layer-list__item-toggle-icon",oe="esri-layer-list__item-radio-icon",se="esri-layer-list__child-toggle",ae="esri-layer-list__child-toggle--open",ce="esri-layer-list__child-toggle-icon--opened",le="esri-layer-list__child-toggle-icon--closed",ue="esri-layer-list__child-toggle-icon--closed-rtl",de="esri-layer-list--chosen",he="esri-disabled",fe="esri-disabled-element",pe="esri-hidden",ge="esri-rotating",me="esri-icon-handle-horizontal",be="esri-icon-visible",ve="esri-icon-non-visible",ye="esri-icon-radio-checked",_e="esri-icon-radio-unchecked",Oe="esri-icon-notice-triangle",we="esri-icon-down-arrow",je="esri-icon-right-triangle-arrow",Ae="esri-icon-left-triangle-arrow",Ce="esri-icon-loading-indicator",Se="esri-icon-default-action",Ee="esri-icon-layers",ke="actions",Ie="action-section",xe="items",Te={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function Pe(e){const{actionsOpen:t,children:n}=e;t&&(e.actionsOpen=!1),n.forEach((e=>Pe(e)))}const Le="root",Me={statusIndicators:!0};let De=class extends f.a{constructor(e,t){super(e,t),this._handles=new s.a,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=Object(a.a)("esri-layerlist-new-ui"),this.visibleItems=null,this.iconClass=Ee,this.label=void 0,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new j,this.view=null,this.viewModel=new p.a,this.visibleElements={...Me},this._onSortableSort=({to:e,from:t,item:n,newIndex:r})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:n,newIndex:r}))},this._sortableCanPut=(e,t,n)=>{var r,i;const o=e.el.dataset.group,s=t.el.dataset.group,a=e.el["data-item"],c=n["data-item"],l=null==c||null==(r=c.layer)?void 0:r.type,u=null==a||null==(i=a.layer)?void 0:i.type;return o&&s&&l&&!("group"===u&&"group"===l)},this._sortableCanPull=(e,t,n)=>{var r;const i=e.el.dataset.group,o=t.el.dataset.group,s=n["data-item"],a=null==s||null==(r=s.layer)?void 0:r.type;return i&&o&&!!a},this._onSortableEnd=({oldIndex:e,from:t,to:n,item:r})=>{t!==n&&t.insertBefore(r,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(Object(c.b)(this,"operationalItems","change",(()=>this._itemsChanged(e))),Object(c.a)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}castVisibleElements(e){return{...Me,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:n}=this,r=null==(e=this.viewModel)?void 0:e.state,i={[E]:n,[pe]:"loading"===r,[he]:"disabled"===r};return Object(_.a)("div",{class:this.classes(S,i)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return Object(_.a)("div",{class:k},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:n}=this;return Object(_.a)("ul",{"aria-label":n.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":Le,bind:this,class:this.classes(I,x,L)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messagesCommon:n}=this,r={[V]:e.actionsOpen};return Object(_.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(z,r),tabindex:"0",role:"button","aria-controls":t,"aria-label":n.options,title:n.options},Object(_.a)("span",{"aria-hidden":"true",class:me}))}renderActionsMenu(e,t,n,r){const{panel:i}=e,o=i&&i.visible?this.renderPanelButton(i):null,s=1===n&&this._getSingleActionButton(t),a=s?this.renderAction({item:e,action:s,singleAction:!0}):null,c=!s&&n?this.renderActionsMenuIcon(e,r):null;return c||o||s?Object(_.a)("div",{key:"actions-menu",class:B},o,a,c):null}renderChildList(e,t){var n;const{selectionEnabled:r}=this,{visibilityMode:i,children:o}=e,s=!!e.error,a=!!o.length&&!s,c=!a&&r&&"group"===(null==(n=e.layer)?void 0:n.type),{exclusive:l,inherited:u}=Te,d={[T]:i===l,[P]:i===u,[L]:i!==u&&i!==l};return a||c?Object(_.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(I,d),"aria-expanded":e.open?"true":"false",role:r?"listbox":i===l?"radiogroup":"group",hidden:!e.open&&!c||null},null==o?void 0:o.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:n}=this,{children:r}=e,i=!!e.error,o=!!r.length&&!i,s={[ae]:e.open},a=e.open?n.collapse:n.expand;return o?Object(_.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(se,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(_.a)("span",{"aria-hidden":"true",class:this.classes(le,je)}),Object(_.a)("span",{"aria-hidden":"true",class:this.classes(ce,we)}),Object(_.a)("span",{"aria-hidden":"true",class:this.classes(ue,Ae)})):null}renderError(e){return e.error?Object(_.a)("div",{key:"esri-layer-list__error",class:ee,role:"alert"},Object(_.a)("span",null,this.messages.layerError)):null}renderItemContent(e,t,n){const{id:r}=this,i=`${r}_${e.uid}`,o=`${i}_actions`,s=`${i}__list`,{panel:a}=e,c=this._filterActions(e.actionsSections),l=this._countActions(c);return[Object(_.a)("div",{key:"list-item-container",class:F},this.renderChildrenToggle(e,s),this.renderLabel(e,t,n),this.renderActionsMenu(e,c,l,o)),this.renderError(e),l?this.renderActionsSections(e,c,o):null,a&&a.open?a.render():null,this.renderChildList(e,s)]}renderItem(e,t){const{_newUI:n,id:r,selectionEnabled:i,selectedItems:o,visibleElements:s}=this,{children:a}=e,c=`${r}_${e.uid}__title`,l=!!e.error,u=!!a.length&&!l,d={[R]:u,[D]:!!l,[q]:e.updating&&!t&&s.statusIndicators,[N]:n&&!e.visible,[$]:!e.visibleAtCurrentScale,[U]:i};if(i){var h;const n={[C]:null==(h=e.layer)?void 0:h.uid,[A]:(!e.sortable).toString()};return Object(_.a)("li",{key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(M,d),"aria-labelledby":c,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:Le,tabIndex:0,"aria-selected":Object(m.e)(e,o)?"true":"false",role:"option",...n},this.renderItemContent(e,t,c))}return Object(_.a)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(M,d),"aria-labelledby":c},this.renderItemContent(e,t,c))}renderItemTitle(e,t){const{messages:n}=this,r=e.title||n.untitledLayer,i=e.visibleAtCurrentScale?r:`${r} (${n.layerInvisibleAtScale})`;return Object(_.a)("span",{key:"layer-title-container",id:t,title:i,"aria-label":i,class:te},r)}renderItemToggleIcon(e,t){const{_newUI:n}=this,{exclusive:r}=Te,i=t&&t.visibilityMode,o={[re]:n,[ie]:n&&i!==r,[oe]:n&&i===r,[ye]:i===r&&e.visible,[_e]:i===r&&!e.visible,[be]:i!==r&&e.visible,[ve]:i!==r&&!e.visible};return Object(_.a)("span",{key:"item-toggle-icon",class:this.classes(o),"aria-hidden":"true"})}renderItemToggle(e,t,n){const{selectionEnabled:r,messages:i}=this,{exclusive:o}=Te,s=t&&t.visibilityMode,a=s===o?"radio":"switch";return Object(_.a)("span",r?{key:"item-toggle-selection-enabled",class:ne,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":s,tabIndex:0,title:e.visible?i.hideLayer:i.showLayer,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":n}:{key:"item-toggle",class:ne},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?Object(_.a)("span",{key:"notice-triangle","aria-hidden":"true",class:Oe}):null}renderLabel(e,t,n){const{selectionEnabled:r,_newUI:i,messages:o}=this,{inherited:s,exclusive:a}=Te,c=null==t?void 0:t.visibilityMode,l=c===a?"radio":"switch",u=[this.renderItemToggle(e,t,n),this.renderItemTitle(e,n)];i&&u.reverse();const d=Object(_.a)("div",r?{key:`item-label-no-selection-${e.uid}`,class:Q}:{key:`item-label-with-selection-${e.uid}`,class:Q,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":c,tabIndex:0,"aria-checked":e.visible?"true":"false",title:e.visible?o.hideLayer:o.showLayer,role:l,"aria-labelledby":n},u);return c===s||e.error?Object(_.a)("div",{key:`item-label-container-${e.uid}`,class:Q},this.renderItemError(e),this.renderItemTitle(e,n)):d}renderPanelButton(e){const{className:t,open:n,title:r,image:i}=e,o=i||t?t:Se,s=this._getIconImageStyles(e),a={[V]:n},c={[J]:!!s["background-image"]};return o&&(c[o]=!!o),Object(_.a)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(z,a),role:"button",tabindex:"0",title:r,"aria-label":r},Object(_.a)("span",{class:this.classes(c),styles:s}))}renderActionsSections(e,t,n){const r=t.toArray().map(((t,n)=>Object(_.a)("ul",{key:`${e}-action-section-${n}`,class:H},this.renderActionSection(e,t))));return Object(_.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:n,class:W,hidden:!e.actionsOpen||null},r)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:n}=e,r=this._getIconImageStyles(e),i="button"!==e.type||e.image||n?n:Se,o={[J]:!t&&!!r["background-image"],[Ce]:t,[ge]:t};return i&&!t&&(o[i]=!0),Object(_.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(X,o),styles:r})}renderActionTitle(e,t){return t?null:Object(_.a)("span",{key:"action-title",class:K},e)}renderAction(e){const{item:t,action:n,singleAction:r}=e,{active:i,disabled:o,title:s}=n,a={[z]:r&&"button"===n.type,[Y]:i||!r&&"toggle"!==n.type,[G]:!i&&"toggle"===n.type,[Z]:!i&&"toggle"===n.type&&n.value,[fe]:o},c=[this.renderActionIcon(n),this.renderActionTitle(s,r)];return r?Object(_.a)("div",{bind:this,"data-item":t,"data-action":n,role:"button",key:`single-action-${n.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",title:s,"aria-label":s},c):Object(_.a)("li",{bind:this,"data-item":t,"data-action":n,key:`action-${n.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",role:"button",title:s,"aria-label":s},c)}_sortNodeRemoved(e){const{_sortableMap:t}=this,n=e.dataset.group,r=t.get(n);r&&r.destroy(),t.delete(n)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:n,newIndex:r}){const i=n["data-item"],o=e["data-item"],s=t["data-item"];this.viewModel.moveListItem(i,s,o,r)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],n=e.toArray();var r,i;t?Object(m.i)(t,n):Object(m.j)(null==(r=this.view)||null==(i=r.map)?void 0:i.layers,n)}_toggleSorting(e,t){const{_sortableMap:n,selectionEnabled:r}=this,i=n.get(t),o=e["data-item"],s=(t===Le||o.childrenSortable&&Object(m.b)(o))&&r;if(i)i.option("disabled",!s);else if(s){const r=O.a.create(e,{dataIdAttr:C,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${A}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!s,chosenClass:de});n.set(t,r)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:n}=this;e&&n&&(null==(t=e["data-item"].layer)?void 0:t.uid)===n&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const n=Ie+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),n),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const n=ke+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(c.a)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],n):this._handles.add([Object(c.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],n):this._handles.add([Object(c.a)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],n)}_renderOnItemChanges(e){const t=e.uid,n=xe+t;this._handles.add([Object(c.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],n),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=Object(o.a)(e);if(-1===["ArrowDown","ArrowUp"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const n=e.currentTarget,r=n["data-item"],{_sortableMap:i,selectedItems:s}=this,a=n.dataset.group,c=i.get(a);if(!c)return;const l=Object(m.e)(r,s),u=c.toArray(),d=e.target,h=u.indexOf(d.dataset.layerUid);if(-1!==h){if("ArrowDown"===t){const e=h+1;if(e>=u.length)return;var f,p;l?(w(u,h,e),c.sort(u),this._sortLayers(c),this._focusSortUid=null==(f=r.layer)?void 0:f.uid):(this._focusSortUid=null==(p=r.layer)?void 0:p.uid,this.scheduleRender())}if("ArrowUp"===t){const e=h-1;if(e<=-1)return;var g,b;l?(w(u,h,e),c.sort(u),this._sortLayers(c),this._focusSortUid=null==(g=r.layer)?void 0:g.uid):(this._focusSortUid=null==(b=r.layer)?void 0:b.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:n}=t,r=!n;r&&this.operationalItems.forEach((e=>Pe(e))),t.actionsOpen=r,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,n=t["data-action"],r=t["data-item"];"toggle"===n.type&&(n.value=!n.value),this.triggerAction(n,r),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,n=t.getAttribute("data-parent-visibility"),r=t["data-item"];n===Te.exclusive&&r.visible||(r.visible=!r.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:n}=this,r=e.currentTarget["data-item"],i=Object(m.e)(r,n),{length:o}=n;if(!t)return!o||i&&1===o?void(i?null==n.remove||n.remove(i):n.add(r)):(n.removeAll(),void n.add(r));i?null==n.remove||n.remove(i):n.add(r)}};Object(r.a)([Object(d.b)()],De.prototype,"visibleItems",void 0),Object(r.a)([Object(d.b)()],De.prototype,"iconClass",void 0),Object(r.a)([Object(d.b)()],De.prototype,"errorsVisible",void 0),Object(r.a)([Object(d.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],De.prototype,"label",void 0),Object(r.a)([Object(l.a)("viewModel.listItemCreatedFunction")],De.prototype,"listItemCreatedFunction",void 0),Object(r.a)([Object(d.b)(),Object(v.a)("esri/widgets/LayerList/t9n/LayerList")],De.prototype,"messages",void 0),Object(r.a)([Object(d.b)(),Object(v.a)("esri/t9n/common")],De.prototype,"messagesCommon",void 0),Object(r.a)([Object(d.b)()],De.prototype,"multipleSelectionEnabled",void 0),Object(r.a)([Object(l.a)("viewModel.operationalItems")],De.prototype,"operationalItems",void 0),Object(r.a)([Object(d.b)()],De.prototype,"selectionEnabled",void 0),Object(r.a)([Object(d.b)()],De.prototype,"selectedItems",void 0),Object(r.a)([Object(l.a)("viewModel.view")],De.prototype,"view",void 0),Object(r.a)([Object(y.a)("trigger-action"),Object(d.b)({type:p.a})],De.prototype,"viewModel",void 0),Object(r.a)([Object(d.b)()],De.prototype,"visibleElements",void 0),Object(r.a)([Object(u.a)("visibleElements")],De.prototype,"castVisibleElements",null),Object(r.a)([Object(l.a)("viewModel.triggerAction")],De.prototype,"triggerAction",null),Object(r.a)([Object(b.a)()],De.prototype,"_toggleActionsOpen",null),Object(r.a)([Object(b.a)()],De.prototype,"_triggerPanel",null),Object(r.a)([Object(b.a)()],De.prototype,"_triggerAction",null),Object(r.a)([Object(b.a)()],De.prototype,"_toggleVisibility",null),Object(r.a)([Object(b.a)()],De.prototype,"_toggleChildrenClick",null),Object(r.a)([Object(b.a)()],De.prototype,"_toggleSelection",null),De=Object(r.a)([Object(h.a)("esri.widgets.LayerList")],De);var Ne=De},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(87);function i(e,t,n=!1){return c(e,t,n)}function o(e,t){if(null!=t)return t[e]||a(e.split("."),!1,t)}function s(e,t,n){const r=e.split("."),i=r.pop(),o=a(r,!0,n);o&&i&&(o[i]=t)}function a(e,t,n){let r=n;for(const i of e){if(null==r)return;if(!(i in r)){if(!t)return;r[i]={}}r=r[i]}return r}function c(e,t,n){return t?Object.keys(t).reduce((function(e,i){let o=e[i],s=t[i];return o===s?e:void 0===o?(e[i]=Object(r.a)(s),e):(Array.isArray(s)||Array.isArray(e)?(o=o?Array.isArray(o)?e[i]=o.concat():e[i]=[o]:e[i]=[],s&&(Array.isArray(s)||(s=[s]),n?s.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})):e[i]=s.concat())):s&&"object"==typeof s?e[i]=c(o,s,n):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=s),e)}),e||{}):e}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return u}));var r=n(177),i=n(87),o=n(85);function s(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function a(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function c(e,t,n){return l(e,t,n?{policy:n,path:""}:null)}function l(e,t,n){return t?Object.keys(t).reduce((function(e,r){let s=null,a="merge";if(n&&(s=n.path?`${n.path}.${r}`:r,a=n.policy(s)),"replace"===a)return e[r]=t[r],e;if(void 0===e[r])return e[r]=Object(i.a)(t[r]),e;let c=e[r],u=t[r];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[r]=c.concat():e[r]=[c]:e[r]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{-1===c.indexOf(e)&&c.push(e)})));else if(u&&"object"==typeof u)if(n){const t=n.path;n.path=Object(o.d)(s),e[r]=l(c,u,n),n.path=t}else e[r]=l(c,u,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[r]=u);return e}),e||{}):e}function u(e){return Array.isArray(e)?e:e.split(".")}function d(e){return e.indexOf(",")>-1?e.split(",").map((e=>e.trim())):[e.trim()]}function h(e,t,n,i){const o=function(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...d(n));return t}return d(e)}(t);if(1!==o.length){const t=o.map((t=>i(e,t,n)));return Object(r.b)(t)}return i(e,o[0],n)}function f(e){let t=!1;return()=>{t||(t=!0,e())}}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(81),i=n(92),o=n(177),s=n(82);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const n=this._listenersMap&&this._listenersMap.get(e);if(!n)return!1;const r=this.target||this;return[...n].forEach((e=>{e.call(r,t)})),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return Object(o.b)(n)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}}}once(e,t){const n=this.on(e,(e=>{n.remove(),t.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=Object(r.a)([Object(s.a)("esri.core.Evented")],n),n};let n=class extends i.a{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=Object(r.a)([Object(s.a)("esri.core.Evented")],n),e.EventedAccessor=n}(a||(a={}));var c=a},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r,i,o,s=n(145);let a,c;const l=null!=(r=null==(i=s.a.esriConfig)?void 0:i.locale)?r:null==(o=s.a.dojoConfig)?void 0:o.locale;function u(){var e,t;return null!=(e=null!=l?l:null==(t=s.a.navigator)?void 0:t.language)?e:"en"}function d(){return void 0===c&&(c=u()),c}const h=[];function f(e){return h.push(e),{remove(){h.splice(h.indexOf(e),1)}}}const p=[];function g(e){return p.push(e),{remove(){h.splice(p.indexOf(e),1)}}}function m(){var e;const t=null!=(e=a)?e:u();c!==t&&(c=t,[...p].forEach((e=>{e.call(null,t)})),[...h].forEach((e=>{e.call(null,t)})))}null==s.a.addEventListener||s.a.addEventListener("languagechange",m)},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(145),i=(n(79),n(116)),o=n(180);const s={apiKey:void 0,applicationUrl:r.a.location&&r.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(r.a.esriConfig&&(Object(i.a)(s,r.a.esriConfig,!0),delete s.has),!s.assetsPath){const e="4.21.0";s.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${e}-next.${o.a}/assets`}s.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(s,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),s.request.corsEnabledServers=[],s.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r=n(79),i=n(96);n(180);const o="4.21",s={request(e,t){var r;const i=null==(r=e.options)?void 0:r.responseType;return Promise.resolve().then(n.bind(null,100)).then((({default:n})=>{const r=e.options||{};return r.responseType="native"===i||"native-request-init"===i?"native-request-init":"array-buffer",r.signal=null==t?void 0:t.signal,n(e.url,r)})).then((e=>{const t={data:e.data,ssl:e.ssl};return"native-request-init"===e.requestOptions.responseType?(delete t.data.signal,t):{result:t,transferList:[t.data]}}))}};let a;function c(e){a=e}function l(e){const t=a&&a.findCredential(e);return t&&t.token?Object(i.d)(e,"token",t.token):e}Object(r.a)("host-webworker")||(Object(r.a)("edge")||Object(r.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(129),i=(n(100),n(88)),o=n(80),s=n(96);const a=o.a.getLogger("esri.assets");function c(e){if(!r.a.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.a("assets:path-not-set","config.assetsPath is not set");return Object(s.z)(r.a.assetsPath,e)}},140:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(116);const i=/\{([^\}]+)\}/g;function o(e){return null==e?"":e}function s(e,t){return e.replace(i,"object"==typeof t?(e,n)=>o(Object(r.b)(n,t)):(e,n)=>o(t(n)))}function a(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function c(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function l(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},145:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0}).call(this,n(236))},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(83);function i(e,t){const n=t?{...t,source:e}:e;return Object(r.b)({aliasOf:n})}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var r=n(85);const i=7;function o(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function s(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(r.d)(void 0)}function a(e){return s(e)}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(81),i=n(82);let o=0;const s=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return t=Object(r.a)([Object(i.a)("esri.core.Identifiable")],t),t};let a=class extends(s(class{})){};a=Object(r.a)([Object(i.a)("esri.core.Identifiable")],a)},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(81),i=n(92),o=n(117),s=n(83),a=n(82),c=n(300);const l=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new o.a}get updatingHandles(){return this._get("updatingHandles")||new c.a}};return Object(r.a)([Object(s.b)({readOnly:!0})],t.prototype,"handles",null),Object(r.a)([Object(s.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(r.a)([Object(a.a)("esri.core.HandleOwner")],t),t};let u=class extends(l(i.a)){};u=Object(r.a)([Object(a.a)("esri.core.HandleOwner")],u)},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return o}));var r=n(85),i=n(422);function o(e,t){return t?e.filter(((e,n,r)=>r.findIndex(t.bind(null,e))===n)):e.filter(((e,t,n)=>n.indexOf(e)===t))}function s(e,t,n){if(Object(r.j)(e)&&Object(r.j)(t))return!0;if(Object(r.j)(e)||Object(r.j)(t)||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t,n){return e&&t?n?e.filter((function(e){return t.findIndex((function(t){return n(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}function c(e){return e&&"number"==typeof e.length}const l=!!Array.prototype.fill;function u(e,t){if(l)return new Array(e).fill(t);const n=new Array(e);for(let r=0;r<e;r++)n[r]=t;return n}function d(e,t){void 0===t&&(t=e,e=0);const n=new Array(t-e);for(let r=e;r<t;r++)n[r-e]=r;return n}function h(e){return e.reduce(((e,t)=>e.concat(t||[])),[])}class f{constructor(){this.last=0}}const p=new f;function g(e,t,n,r){r=r||p;const i=Math.max(0,r.last-10);for(let s=i;s<n;++s)if(e[s]===t)return r.last=s,s;const o=Math.min(i,n);for(let s=0;s<o;++s)if(e[s]===t)return r.last=s,s;return-1}function m(e,t,n,r){const i=null==n?e.length:n,o=g(e,t,i,r);if(-1!==o)return e[o]=e[i-1],null==n&&e.pop(),t}const b=new Set;function v(e,t,n=e.length,r=t.length,i,o){if(0===r||0===n)return n;b.clear();for(let a=0;a<r;++a)b.add(t[a]);i=i||p;const s=Math.max(0,i.last-10);for(let a=s;a<n;++a)if(b.has(e[a])&&(o&&o.push(e[a]),b.delete(e[a]),e[a]=e[n-1],--n,--a,0===b.size||0===n))return b.clear(),n;for(let a=0;a<s;++a)if(b.has(e[a])&&(o&&o.push(e[a]),b.delete(e[a]),e[a]=e[n-1],--n,--a,0===b.size||0===n))return b.clear(),n;return b.clear(),n}new i.a;function y(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}},169:function(e,t,n){"use strict";n(217),n(205),n(256),n(126);var r=n(176),i=n(100),o=n(88),s=n(145),a=n(85);async function c(e){if(Object(a.k)(u.fetchBundleAsset))return u.fetchBundleAsset(e);const t=await Object(i.default)(e,{responseType:"text"});return JSON.parse(t.data)}class l{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r;r="string"==typeof n?e=>new URL(e,new URL(n,s.a.location)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,n,i){const s=t.exec(n);if(!s)throw new o.a("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const a=s[1]?`${s[1]}/`:"",l=s[2],u=Object(r.b)(i),d=`${a}${l}.json`,h=u?`${a}${l}_${u}.json`:d;let f;try{f=await c(e(h))}catch(p){if(h===d)throw new o.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p});try{f=await c(e(d))}catch(p){throw new o.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:p})}}return f}(this.getAssetUrl,this.matcher,e,t)}}const u={};var d,h=n(133);Object(r.c)((d={pattern:"esri/",location:h.a},new l(d)))},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(377);class i extends r.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof i))return new i(e,t,n)}}i.prototype.type="warning"},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(88),i=n(89),o=n(126);const s=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,a={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function c(e){var t;return null!=(t=a[e])&&t}const l=[],u=new Map;function d(e){for(const t of u.keys())g(e.pattern,t)&&u.delete(t)}function h(e){return l.includes(e)||(d(e),l.unshift(e)),{remove(){const t=l.indexOf(e);t>-1&&(l.splice(t,1),d(e))}}}async function f(e){const t=Object(o.b)();u.has(e)||u.set(e,async function(e,t){const n=[];for(const r of l)if(g(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(s){n.push(s)}if(n.length)throw new r.a("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n});throw new r.a("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const n=u.get(e);return await m.add(n),n}function p(e){if(!s.test(e))return null;const[,t,n]=s.exec(e),r=t+(n?"-"+n.toUpperCase():"");return c(r)?r:c(t)?t:null}function g(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Object(o.a)((()=>{u.clear()}));const m=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Object(i.f)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(85);function i(e){return o((()=>e.forEach((e=>Object(r.k)(e)&&e.remove()))))}function o(e){return{remove:()=>{e&&(e(),e=void 0)}}}function s(e){return o((()=>{const t=e();Object(r.k)(t)&&t.remove()}))}function a(e){return o(Object(r.k)(e)?()=>e.destroy():void 0)}},179:function(e,t,n){"use strict";function r(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function i(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){const r=t.slice();for(const t of r)e.addEventListener(t,n);return{remove(){for(const t of r)e.removeEventListener(t,n)}}}return e.addEventListener(t,n),{remove(){e.removeEventListener(t,n)}}}function o(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const o=i(e,t,(t=>{o.remove(),n.call(e,t)}));return{remove(){o.remove()}}}function s(e,t,n){let r=!1;const o=i(e,t,(t=>{r||n.call(e,t)}));return{resume(){r=!1},pause(){r=!0},remove(){o.remove()}}}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));const a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function c({key:e}){return a[e]||e}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="20210919",i="7af981986c27c72861157e806678f7b0bc90e719"},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n(81),o=n(92),s=n(150),a=n(83),c=(n(79),n(84),n(80),n(82));let l=r=class extends(Object(s.a)(o.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(i.a)([Object(a.b)()],l.prototype,"active",void 0),Object(i.a)([Object(a.b)()],l.prototype,"className",void 0),Object(i.a)([Object(a.b)()],l.prototype,"disabled",void 0),Object(i.a)([Object(a.b)()],l.prototype,"id",void 0),Object(i.a)([Object(a.b)()],l.prototype,"indicator",void 0),Object(i.a)([Object(a.b)()],l.prototype,"title",void 0),Object(i.a)([Object(a.b)()],l.prototype,"type",void 0),Object(i.a)([Object(a.b)()],l.prototype,"visible",void 0),l=r=Object(i.a)([Object(c.a)("esri.support.actions.ActionBase")],l);var u=l},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i=n(168);!function(e){const t=(e,t,n,r)=>{let i=t,o=t;const s=n>>>1,a=e[i-1];for(;o<=s;){o=i<<1,o<n&&r(e[o-1],e[o])<0&&++o;const t=e[o-1];if(r(t,a)<=0)break;e[i-1]=t,i=o}e[i-1]=a},n=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o);const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o)}},e.iterableSort=function*(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(let n=i>>>1;n>r;n--)t(e,n,i,o),yield;const s=r+1;for(let n=i-1;n>r;n--){const i=e[r];e[r]=e[n],e[n]=i,t(e,s,n,o),yield}}}(r||(r={}));var o=r;class s{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new i.a,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>a(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,a(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=Object(i.e)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){const t=Object(i.j)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=Object(i.k)(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){e>=this.length||t>=this.length||e===t||([this.data[e],this.data[t]]=[this.data[t],this.data[e]])}sort(e){o.sort(this.data,0,this.length,e)}iterableSort(e){return o.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(e,t){const n=this.length,r=this.data;for(let i=0;i<n;++i)e.call(t,r[i],i,r)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let r=0;r<this.length;++r)n=e(n,this.data[r],r,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}}function a(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(80),i=n(116),o=n(170),s=n(234),a=n(349);const c=r.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function l(e,t,n){var r,o;e&&(!n&&!t.read||null!=(r=t.read)&&r.reader||!1===(null==(o=t.read)?void 0:o.enabled)||function(e){return"types"in e?m(e.types):g(e.type)}(e)&&Object(i.c)("read.reader",u(e),t))}function u(e){var t;const n=null!=(t=e.ndimArray)?t:0;if(n>1)return function(e){var t;const n=d(e),r=h.bind(null,n),i=null!=(t=e.ndimArray)?t:0;return(e,t,n)=>{if(null==e)return e;e=r(e,n,i);let o=i,s=e;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let r=0;r<o;r++)e=[e];return e}}(e);if(1===n)return f(e);if("type"in e&&p(e.type)){var r,i;const t=null==(r=e.type.prototype)||null==(i=r.itemType)?void 0:i.Type,n=f("function"==typeof t?{type:t}:{types:t});return(t,r,i)=>{const o=n(t,r,i);return o?new e.type(o):o}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void c.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}(e.type):function(e){var t;let n=null;const r=null!=(t=e.errorContext)?t:"type";return(t,i,a)=>{if(null==t)return t;const l=typeof t;if("object"!==l)return void c.error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);n||(n=function(e){const t={};for(const i in e.typeMap){var n,r;const o=e.typeMap[i],a=Object(s.a)(o.prototype);if("function"==typeof e.key)continue;const c=a.properties[e.key];if(!c)continue;null!=(n=c.json)&&n.type&&Array.isArray(c.json.type)&&1===c.json.type.length&&"string"==typeof c.json.type[0]&&(t[c.json.type[0]]=o);const l=null==(r=c.json)?void 0:r.write;if(!l||!l.writer){t[i]=o;continue}const u=l.target,d="string"==typeof u?u:e.key,h={};l.writer(i,h,d),h[d]&&(t[h[d]]=o)}return t}(e));const u=e.key;if("string"!=typeof u)return;const d=t[u],h=d?n[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const e=`Type '${d||"unknown"}' is not supported`;return a&&a.messages&&t&&a.messages.push(new o.a(`${r}:unsupported`,e,{definition:t,context:a})),void c.error(e)}const f=new h;return f.read(t,a),f}}(e.types)}function h(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map((t=>h(e,t,n,r-1))):e(t,void 0,n)}function f(e){const t=d(e);return(e,n,r)=>{if(null==e)return e;if(Array.isArray(e)){const n=[];for(const i of e){const e=t(i,void 0,r);void 0!==e&&n.push(e)}return n}const i=t(e,void 0,r);return void 0!==i?[i]:void 0}}function p(e){if(!Object(a.a)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?g(t.Type):m(t.Type))}function g(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||p(e))}function m(e){for(const t in e.typeMap)if(!g(e.typeMap[t]))return!1;return!0}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t,n,r=1,i=0){if(this.ctor=e,this.acquireFunction=t,this.releaseFunction=n,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i,this.ctor)for(let o=0;o<i;o++)this._pool[o]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t;if(r.test.disabled)t=new this.ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this.ctor}t=this._pool.pop()}return this.acquireFunction?this.acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}r.test={disabled:!1}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(119);function i(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const i=Object(r.a)(t);return Object(r.b)(i,n)?i.get(n):t[n]}function o(e,t,n){if(null==e)return e;const r=i(t[n],e);return!r&&n<t.length-1?void 0:n===t.length-1?r:o(r,t,n+1)}function s(e,t,n=0){return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):o(e,Object(r.f)(t),n)}function a(e,t){return s(e,t)}function c(e,t){return void 0!==s(t,e)}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(226),i=n(395);let o=!1;const s=[];function a(e,t,n={immediate:!1}){let s=new i.a((function n(){if(!s||c)return;if(o)return void d(n);const i=a;s.clear(),o=!0,c=!0,a=Object(r.b)(s,e),c=!1,o=!1,t(a,i),h()})),a=null,c=!1;return c=!0,a=Object(r.b)(s,e),c=!1,n.immediate&&t(a,a),{remove:function(){s&&(s.destroy(),s=null,a=null)}}}function c(e,t){return a(e,t,{immediate:!0})}function l(e,t){let n=new i.a((function(){t(o,s)})),o=null;function s(){return n?(n.clear(),o=Object(r.b)(n,e),o):null}return s(),{remove:function(){n&&(n.destroy(),n=null),o=null}}}function u(e){let t=new i.a((function i(){t&&!n&&(o?d(i):(t.clear(),o=!0,n=!0,Object(r.b)(t,e),n=!1,o=!1,h()))})),n=!1;return n=!0,Object(r.b)(t,e),n=!1,{remove:function(){t&&(t.destroy(),t=null)}}}function d(e){s.includes(e)||s.unshift(e)}function h(){for(;s.length;)s.pop()()}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(85),i=n(126);const o={ar:"ar-u-nu-latn"};let s=new WeakMap,a={};function c(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function l(e,t){return function(e){const t=e||a;if(!s.has(t)){const n=Object(i.b)(),r=o[Object(i.b)()]||n;s.set(t,new Intl.NumberFormat(r,e))}return Object(r.d)(s.get(t))}(t).format(e)}Object(i.a)((()=>{s=new WeakMap,a={}}))},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m}));var r=n(90),i=n(126);const o={year:"numeric",month:"numeric",day:"numeric"},s={year:"numeric",month:"long",day:"numeric"},a={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},l={hour:"numeric",minute:"numeric"},u={...l,second:"numeric"},d={"short-date":o,"short-date-short-time":{...o,...l},"short-date-short-time-24":{...o,...l,hour12:!1},"short-date-long-time":{...o,...u},"short-date-long-time-24":{...o,...u,hour12:!1},"short-date-le":o,"short-date-le-short-time":{...o,...l},"short-date-le-short-time-24":{...o,...l,hour12:!1},"short-date-le-long-time":{...o,...u},"short-date-le-long-time-24":{...o,...u,hour12:!1},"long-month-day-year":s,"long-month-day-year-short-time":{...s,...l},"long-month-day-year-short-time-24":{...s,...l,hour12:!1},"long-month-day-year-long-time":{...s,...u},"long-month-day-year-long-time-24":{...s,...u,hour12:!1},"day-short-month-year":a,"day-short-month-year-short-time":{...a,...l},"day-short-month-year-short-time-24":{...a,...l,hour12:!1},"day-short-month-year-long-time":{...a,...u},"day-short-month-year-long-time-24":{...a,...u,hour12:!1},"long-date":c,"long-date-short-time":{...c,...l},"long-date-short-time-24":{...c,...l,hour12:!1},"long-date-long-time":{...c,...u},"long-date-long-time-24":{...c,...u,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":l,"long-time":u},h=Object(r.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),f=(h.apiValues,h.toJSON.bind(h),h.fromJSON.bind(h),{ar:"ar-u-nu-latn-ca-gregory"});let p=new WeakMap,g=d["short-date-short-time"];function m(e){const t=e||g;if(!p.has(t)){const e=Object(i.b)(),n=f[Object(i.b)()]||e;p.set(t,new Intl.DateTimeFormat(n,t))}return p.get(t)}function b(e){return d[e]||null}function v(e,t){return m(t).format(e)}Object(i.a)((()=>{p=new WeakMap,g=d["short-date-short-time"]}))},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return b}));n(79);var r=n(80),i=n(119);let o,s=[];const a=r.a.getLogger("esri.core.Accessor");function c(e){void 0!==o&&o.onObservableAccessed(e)}let l=!1,u=!1;function d(e,t,n){if(l)return h(e,t,n);f(e);const r=t.call(n);return p(),r}function h(e,t,n){const r=l;l=!0,f(e);let i=null;try{i=t.call(n)}catch(o){u&&a.error(o)}return p(),l=r,i}function f(e){o=e,s.push(e)}function p(){const e=s.pop();o=s.length>0?s[s.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function g(e,t){if(32&t.flags)return;const n=u;u=!1,64&t.flags?h(t,t.metadata.get,e):b(e,t),u=n}const m=[];function b(e,t){128&t.flags||(t.flags|=128,h(t,(()=>{const n=t.metadata.dependsOn||m;for(const t of n)if("string"==typeof t&&-1===t.indexOf("."))v(e,t,!1);else{const n=Object(i.f)(t);for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=v(r,n[t],t!==n.length-1)}})),t.flags&=-129)}function v(e,t,n){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const o=Object(i.a)(e),s=null==o?void 0:o.properties.get(r);return s&&(c(s),g(e,s)),n?e[r]:void 0}},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return S}));var r=n(85),i=n(332),o=n(357),s=n(186),a=n(89),c=n(371);class l{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class u{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let d=0,h=0;const f={time:Object(c.a)(0),deltaTime:Object(c.a)(0),elapsedFrameTime:Object(c.a)(0),frameDuration:Object(c.a)(0)},p=["prepare","preRender","render","postRender","update"],g=[],m=new s.a;class b{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const v={frameTasks:m,willDispatch:!1,clearFrameTasks:function(e=!1){m.forAll((e=>{e.removed=!0})),e&&A()},dispatch:C,executeFrameTasks:function(e){const t=Object(c.a)(e-d);d=e;const n=h>0?h:1e3/60,r=Math.max(0,t-n);for(let i=0;i<p.length;i++){const o=performance.now(),s=p[i];m.forAll((o=>{var a;o.paused||o.removed||(0===i&&o.ticks++,o.phases[s]&&(f.time=e,f.deltaTime=0===o.ticks?Object(c.a)(0):t,f.elapsedFrameTime=Object(c.a)(performance.now()-e),f.frameDuration=Object(c.a)(n-r),null==(a=o.phases[s])||a.call(o,f)))})),E[i].record(performance.now()-o)}A(),k.record(performance.now()-e)}};function y(e){const t=new u(e);return g.push(t),v.willDispatch||(v.willDispatch=!0,Object(i.a)(C)),t}function _(e){const t=new l(e);return m.push(t),null==O&&(d=performance.now(),O=requestAnimationFrame(w)),new b(t)}let O=null;function w(){const e=performance.now();O=null,O=m.length>0?requestAnimationFrame(w):null,v.executeFrameTasks(e)}const j=new s.a;function A(){m.forAll((e=>{e.removed&&j.push(e)})),m.removeUnorderedMany(j.data,j.length),j.clear()}function C(){for(;g.length;){const e=Object(r.d)(g.shift());e.isActive&&e.callback()}v.willDispatch=!1}function S(e=1,t){const n=Object(a.g)(),r=()=>{Object(a.n)(t)?n.reject(Object(a.e)()):0===e?n():(--e,Object(i.a)((()=>r())))};return r(),n.promise}const E=p.map((e=>new o.a(e))),k=new o.a("total")},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(87),i=n(85),o=n(119);class s{constructor(e){this.autoDestroy=!1,this.properties=e}}function a(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){const n=Object.create(t.properties),i=t.autoDestroy;for(const e in n)n[e]=Object(r.a)(n[e]);t=new s(n),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new s({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(i.d)(e.constructor.__accessorMetadata__)}function c(e){return a(e).properties}function l(e,t){const n=c(e);let r=n[t];return r||(r=n[t]={}),r}function u(e,t){return Object(o.c)(e,t,h)}const d=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function h(e){return d.test(e)?"replace":"merge"}},236:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=0;function i(){return++r}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(81),i=n(92),o=n(85),s=n(89),a=n(82);class c{constructor(e){this.instance=e,this._resolver=Object(s.f)(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject(Object(s.e)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=Object(s.f)(),t=[...this._resolvingPromises,Object(o.d)(e.promise)],n=this._allPromise=Promise.all(t);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==n||Object(s.m)(e)||this._resolver.reject(e)})),e.resolve()}}const l=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new c(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=Object(r.a)([Object(a.a)("esri.core.Promise")],t),t};let u=class extends(l(i.a)){};u=Object(r.a)([Object(a.a)("esri.core.Promise")],u)},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(80),i=n(116),o=n(140),s=n(217),a=n(205);const c=r.a.getLogger("esri.intl");function l(e,t,n={}){const{format:r={}}=n;return Object(o.c)(e,(e=>function(e,t,n){let r,o;const s=e.indexOf(":");if(-1===s?r=e.trim():(r=e.slice(0,s).trim(),o=e.slice(s+1).trim()),!r)return"";const a=Object(i.b)(r,t);if(null==a)return"";const c=n[o]||n[r];return c?u(a,c):o?d(a,o):h(a)}(e,t,r)))}function u(e,t){switch(t.type){case"date":return Object(s.b)(e,t.intlOptions);case"number":return Object(a.b)(e,t.intlOptions);default:return c.warn("missing format descriptor for key {key}"),h(e)}}function d(e,t){switch(t.toLowerCase()){case"dateformat":return Object(s.b)(e);case"numberformat":return Object(a.b)(e);default:return c.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Object(s.b)(e):/^numberformat/i.test(t)?Object(a.b)(e):h(e)}}function h(e){switch(typeof e){case"string":return e;case"number":return Object(a.b)(e);case"boolean":return""+e;default:return e instanceof Date?Object(s.b)(e):""}}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n(79);const i=new Set;function o(e,t,n=!1){n&&i.has(t)||(n&&i.add(t),e.warn(`\ud83d\uded1 DEPRECATED - ${t}`))}function s(e,t,n={}){Object(r.a)("esri-deprecation-warnings")&&l(e,`Module: ${t}`,n)}function a(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n;l(e,"Function: "+((r?r+"::":"")+t+"()"),n)}}function c(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n;l(e,"Property: "+((r?r+"::":"")+t),n)}}function l(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{replacement:r,version:i,see:s,warnOnce:a}=n;let c=t;r&&(c+=`\n\t\ud83d\udee0\ufe0f Replacement: ${r}`),i&&(c+=`\n\t\u2699\ufe0f Version: ${i}`),s&&(c+=`\n\t\ud83d\udd17 See ${s} for more details.`),o(e,c,a)}}},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(105);function i(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:o(e[t])}}}function o(e){return function(t,...n){!function(e){const{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...n):Object(r.g)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(81),i=n(92),o=n(117),s=n(85),a=n(229),c=n(109),l=n(193),u=n(194),d=n(83),h=n(82);let f=class extends i.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new o.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,n,r=0){const i=0!=(1&r),o=++this.handleId;i||this.installSyncUpdatingWatch(e,t,o);const s=0!=(2&r)?Object(c.a)(e,t,n,i):e.watch(t,n,i);return this.handles.add(s,o),{remove:()=>this.handles.remove(o)}}addOnCollectionPropertyChange(e,t,n,r=0){const i=0!=(2&r),o=++this.handleId;return this.handles.add([Object(c.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(c.b)(e,t,"change",n,i?e=>{n({added:e.items,removed:[],moved:[],target:e})}:void 0)],o),{remove:()=>{this.handles.remove(o)}}}addOnCollectionChange(e,t,n=0){const r=0!=(2&n),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),r&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(i)}}}addPromise(e){if(Object(s.j)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(p)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const n=()=>this.handles.remove(t);return e.then(n,n),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,n){const r=this.createSyncUpdatingCallback(),i=Object(u.b)((()=>Object(l.c)(e,t)),r);return this.handles.add(i,n),i}createSyncUpdatingCallback(){return()=>{this.handles.remove(p),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(a.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(p))})),p)}}};Object(r.a)([Object(d.b)({readOnly:!0})],f.prototype,"updating",void 0),f=Object(r.a)([Object(h.a)("esri.views.support.WatchUpdatingTracking")],f);const p=-42},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n(84);var i=n(188);function o(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function s(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function a(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=n(390);function l(e,t){return d(e,"read",t)}function u(e,t){return d(e,"write",t)}function d(e,t,n){let r=e&&e.json;if(e&&e.json&&e.json.origins&&n){const i=e.json.origins[n.origin];i&&("any"===t||t in i)&&(r=i)}return r}function h(e){const t=function(e){return e.type?function(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!Object(r.o)(n);)n=n[0],t++;return{type:n,ndimArray:t}}(e):function(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}(e)}(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n];Object(i.a)(t,r,!1),Object(c.a)(t,r)}Object(i.a)(t,e.json,!0),Object(c.a)(t,e.json)}const f={processPrototypePropertyMetadata(e,t){(function(e){if(e.json||(e.json={}),s(e.json),a(e.json),o(e.json),e.json.origins)for(const t in e.json.origins)s(e.json.origins[t]),a(e.json.origins[t]),o(e.json.origins[t]);return!0})(t)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const e in n)if(t[e]){const r=t[e];n[e].forEach((e=>{t[e]=r})),delete t[e]}}}(t),h(t))}}},304:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(190);function i(e){e.length=0}class o{constructor(e=50,t=50){this._pool=new r.a(Array,void 0,i,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return s.acquire()}static release(e){return s.release(e)}static prune(){s.prune()}}const s=new o(100)},313:function(e,t,n){"use strict";function r(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const n=t._delegatedEventNames,r=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);n.push(...r)}}n.d(t,"a",(function(){return r}))},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n(81),o=n(83),s=(n(79),n(84),n(80),n(82)),a=n(183);let c=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(i.a)([Object(o.b)()],c.prototype,"image",void 0),c=r=Object(i.a)([Object(s.a)("esri.support.Action.ActionButton")],c);var l=c},323:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return m}));var r=n(85);function i(e,t){if(e.forEach)e.forEach(t);else for(let n=0;n<e.length;n++)t(e[n],n,e)}function o(e,t,n){if(e.slice)return e.slice(t,n);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===n?n=e.length:(n<0&&(n+=e.length),n=Math.min(e.length,Math.max(0,n)));const r=Math.max(0,n-t),i=new(0,e.constructor)(r);for(let o=0;o<r;o++)i[o]=e[t+o];return i}function s(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function a(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function c(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function l(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function d(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function h(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function f(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function p(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function g(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function m(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}function b(e){return Object(r.j)(e)?0:128+e.buffer.byteLength+64}},332:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(145);const i=r.a.queueMicrotask?r.a.queueMicrotask:e=>{r.a.Promise.resolve().then(e)},o=[];let s=[];function a(e){o.push(e),1===o.length&&i((()=>{for(const t of s)t();const e=o.slice();o.length=0;for(const t of e)t()}))}(a||(a={})).before=function(e){return s.push(e),{remove(){s=s.filter((t=>t!==e))}}};var c=a},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n(81),o=n(83),s=(n(79),n(84),n(80),n(82)),a=n(183);let c=r=class extends a.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(i.a)([Object(o.b)()],c.prototype,"image",void 0),Object(i.a)([Object(o.b)()],c.prototype,"value",void 0),c=r=Object(i.a)([Object(s.a)("esri.support.Action.ActionToggle")],c);var l=c},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(168);class i{constructor(e,t){this._observers=e,this._observer=t}remove(){Object(r.i)(this._observers,this._observer)}}},348:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(79);var r=n(80),i=n(193);function o(e,t,n){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))o(e,r,t[r]);else{if(-1!==t.indexOf(".")){const r=t.split("."),s=r.splice(r.length-1,1)[0];return void o(Object(i.b)(e,r),s,n)}e[t]=n}}r.a.getLogger("esri.core.accessorSupport.set")},349:function(e,t,n){"use strict";function r(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}n.d(t,"a",(function(){return r}))},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t=29){this.name=e,this._counter=0,this._items=new Array(t)}record(e){this._items[++this._counter%this._items.length]=e}get median(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}get average(){return this._items.reduce(((e,t)=>e+t),0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},371:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},377:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(116);class i{constructor(e,t,n){this.name=e,this.details=n,this.message=void 0,this instanceof i&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,n){if(""===n)return"$";const i=Object(r.b)(n,t),o=null==i?"":i;if(void 0===o)throw new Error(`could not find key "${n}" in template`);return o.toString()}))}(t,n)||"")}toString(){return"["+this.name+"]: "+this.message}}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));n(273),n(175),n(272),n(79),n(80);n(313),n(127),n(105);function r(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(116),i=n(349);function o(e,t){var n;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const o=null!=(n=null==e?void 0:e.ndimArray)?n:0;var a;e&&(1===o||"type"in e&&Object(i.a)(e.type))?t.write.writer=l:t.write.writer=o>1?(a=o,function(e,t,n,i){let o;if(null===e)o=null;else{o=u(e,i,a);let t=a,n=o;for(;t>0&&Array.isArray(n);)t--,n=n[0];if(void 0!==n)for(let e=0;e<t;e++)o=[o]}Object(r.c)(n,o,t)}):s}function s(e,t,n,i){Object(r.c)(n,a(e,i),t)}function a(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?c(e):e}function c(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function l(e,t,n,i){let o;null===e?o=null:e&&"function"==typeof e.map?(o=e.map((e=>a(e,i))),"function"==typeof o.toArray&&(o=o.toArray())):o=[a(e,i)],Object(r.c)(n,o,t)}function u(e,t,n){return 0!==n&&Array.isArray(e)?e.map((e=>u(e,t,n-1))):a(e,t)}},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e){this._notify=e,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}onObservableAccessed(e){this._accessed.includes(e)||this._accessed.push(e)}onTrackingEnd(){const e=this._handles,t=this._accessed;for(let n=0;n<t.length;++n)e.push(t[n].observe(this));t.length=0}clear(){const e=this._handles;for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}},406:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return C}));var r=n(304),i=n(87),o=n(443),s=n(229),a=n(415),c=n(239),l=n(193),u=n(194),d=n(119);class h{constructor(){this.uid=Object(c.a)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null}static acquireUntracked(e,t,n,r,i){return this.pool.acquire(0,e,t,n,r,i)}static acquireTracked(e,t,n){return this.pool.acquire(1,e,t,n,null,null)}notify(e,t){0===this.type?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t)}acquire(e,t,n,r,i,o){this.uid=Object(c.a)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Object(c.a)(),this.removed=!0}}h.pool=new o.a(h);const f=new r.a,p=new Set;let g;function m(e){p.delete(e),p.add(e),g||(g=Object(s.b)(_))}function b(e){if(e.removed)return;const t=e.oldValue,n=e.getValue();v(t,n)&&(e.oldValue=n,e.notify(n,t))}function v(e,t){return!Object(i.b)(e,t)}function y(e){for(const t of p.values())t.target===e&&(t.removed=!0)}function _(){let e=10;for(;g&&e--;){g=null;const e=O(),t=f.acquire();for(const n of e){const e=n.uid;b(n),e===n.uid&&n.removed&&t.push(n)}for(const n of p)n.removed&&(t.push(n),p.delete(n));for(const n of t)h.pool.release(n);f.release(t),f.release(e),w.forEach((e=>e()))}}function O(){const e=f.acquire();e.length=p.size;let t=0;for(const n of p)e[t]=n,++t;return p.clear(),e}const w=new Set;function j(e){return w.add(e),{remove(){w.delete(e)}}}function A(e,t,n,r=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:r?function(e,t,n){const r=Object(d.e)(e,t,n,((e,t,n)=>{let i=!1;return Object(u.b)((()=>Object(l.c)(e,t)),((o,s)=>{e.__accessor__.destroyed?r.remove():i||(i=!0,v(s,o)&&n.call(e,o,s,t,e),i=!1)}))}));return r}(e,t,n):function(e,t,n){let r=Object(d.e)(e,t,n,((e,t,n)=>{let i,o,s=Object(u.c)((()=>Object(l.c)(e,t)),((s,a)=>{e.__accessor__.destroyed||i&&i.uid!==o?r.remove():(i||(i=h.acquireUntracked(s,n,a,e,t),o=i.uid),m(i))}));return{remove:Object(d.d)((()=>{s.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,m(i)),i=null),r=s=null}))}}));return r}(e,t,n)}function C(e,t,n=!1){return n?Object(u.b)(e,t):function(e,t){let n,r,i=Object(u.c)(e,((e,o)=>{n&&n.uid!==r?i.remove():(n||(n=h.acquireTracked(e,t,o),r=n.uid),m(n))}));return{remove:Object(d.d)((()=>{i.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,m(n)),n=null),i=null}))}}(e,t)}function S(e){return Object(a.a)(p,(t=>t.oldValue===e))}},415:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(85);function r(e,t){for(const n of e.entries())if(t(n[0]))return!0;return!1}},422:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e=1){this._seed=e}set seed(e){this._seed=null==e?Math.random()*r._m:e}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const n=t-e;return e+this.getInt()/r._m*n}}r._m=2147483647,r._a=48271,r._c=0},429:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(96);const i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function o(e){const t=Object(r.m)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},442:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(79),i=n(85),o=n(89);function s(e,t,n=!1,s){return new Promise(((c,l)=>{if(Object(o.n)(s))return void l(a());let u=()=>{f(),l(new Error(`Unable to load ${t}`))},d=()=>{const t=e;f(),c(t)},h=()=>{if(!e)return;const t=e;f(),t.src="",l(a())};const f=()=>{Object(r.a)("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",d)),u=null,d=null,e=null,Object(i.k)(s)&&s.removeEventListener("abort",h),h=null,n&&URL.revokeObjectURL(t)};Object(i.k)(s)&&s.addEventListener("abort",h),Object(r.a)("esri-image-decode")?e.decode().then(d,u):(e.addEventListener("error",u),e.addEventListener("load",d))}))}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(85),i=n(190);class o extends i.a{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(r.p)(this._set)}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},467:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(145);var i,o=(i=r.a,{setTimeout:(e,t)=>{const n=i.setTimeout(e,t);return{remove:()=>i.clearTimeout(n)}}})},707:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return d}));const r="hide",i="hide-children";function o(e){if(e)return null!=e.listMode?e.listMode:void 0}function s(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const n=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof n?n?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}function a(e){if(e)return e.listMode===i||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function c(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const n=t.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof n||n}function l(e){return o(e)!==r}function u(e,t){if(!e||isNaN(t))return!1;const n=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),r=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),i=!isNaN(n)&&n>0&&t>n,o=!isNaN(r)&&r>0&&t<r;return i||o}function d(e,t){e&&e.sort(((e,n)=>{const r=t.indexOf(e.uid),i=t.indexOf(n.uid);return r>i?-1:r<i?1:0}))}function h(e,t){const n=null==e?void 0:e.layer;if(!n)return;const r=a(n);r&&d(n.get(r),t)}function f(e){const t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function p(e,t){var n;const r=null==(n=e.layer)?void 0:n.uid;return r&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===r}))}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i,o=n(145);let s;var a,c;function l(e){return"function"==typeof s[e]?s[e]=s[e](o.a):s[e]}s=null!=(r=o.a.dojoConfig)&&r.has||null!=(i=o.a.esriConfig)&&i.has?{...null==(a=o.a.dojoConfig)?void 0:a.has,...null==(c=o.a.esriConfig)?void 0:c.has}:{},l.add=(e,t,n,r)=>((r||void 0===s[e])&&(s[e]=t),n&&l(e)),l.cache=s,l.add("esri-deprecation-warnings",!0),(()=>{l.add("host-webworker",void 0!==o.a.WorkerGlobalScope&&self instanceof o.a.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(l.add("host-browser",e),l.add("host-node","object"==typeof o.a.process&&o.a.process.versions&&o.a.process.versions.node&&o.a.process.versions.v8),l.add("dom",e),l("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(l.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),l.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),l.add("khtml",n.includes("Konqueror")?r:void 0),l.add("edge",parseFloat(t.split("Edge/")[1])||void 0),l.add("opr",parseFloat(t.split("OPR/")[1])||void 0),l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),l.add("android",!l("wp")&&parseFloat(t.split("Android ")[1])||void 0),l.add("safari",!n.includes("Safari")||l("wp")||l("chrome")||l("android")||l("edge")||l("opr")?void 0:parseFloat(n.split("Version/")[1])),l.add("mac",n.includes("Macintosh")),!l("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),n=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replace(/_/g,""));l.add(e,r),l.add("ios",r)}l.add("trident",parseFloat(n.split("Trident/")[1])||void 0),l("webkit")||(!t.includes("Gecko")||l("wp")||l("khtml")||l("trident")||l("edge")||l.add("mozilla",r),l("mozilla")&&l.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(o.a.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&l.add("esri-mobile",t),n&&l.add("esri-iPhone",n),l.add("esri-geolocation",!!navigator.geolocation)}l.add("esri-canvas-svg-support",!l("trident")),l.add("esri-wasm","WebAssembly"in o.a),l.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in o.a,t=!1===o.a.crossOriginIsolated;return e&&!t})),l.add("esri-atomics","Atomics"in o.a),l.add("esri-workers","Worker"in o.a),l.add("esri-text-decoder","TextDecoder"in o.a),l.add("esri-text-encoder","TextEncoder"in o.a),l.add("web-feat:cache","caches"in o.a),l.add("esri-workers-arraybuffer-transfer",!l("safari")||Number(l("safari"))>=12),l.add("featurelayer-snapshot-enabled",!0),l.add("featurelayer-snapshot-point-min-threshold",8e4),l.add("featurelayer-snapshot-point-max-threshold",4e5),l.add("featurelayer-snapshot-point-coverage",.1),l.add("featurelayer-advanced-symbols",!1),l.add("featurelayer-pbf",!0),l.add("featurelayer-pbf-statistics",!1),l.add("feature-layers-workers",!0),l.add("mapview-transitions-duration",200),l.add("mapserver-pbf-enabled",!1),l("host-webworker")||l("host-browser")&&(l.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),l.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{l.add("esri-image-decode",!0,!0,!0)})).catch((()=>{l.add("esri-image-decode",!1,!0,!0)}))}return!1})),l.add("esri-url-encodes-apostrophe",(()=>{const e=o.a.document.createElement("a");return e.href="?'",e.href.includes("?%27")})),l.add("vectortilelayer-max-buffers",l("ff")?160:Number.POSITIVE_INFINITY))})()},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(129),i=(n(79),n(85)),o=n(140);const s={info:0,warn:1,error:2,none:3};class a{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,a._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=a.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=a._loggers;return a._loggers=e,t},set throttlingDisabled(e){a._throttlingDisabled=e}}}static getLogger(e){let t=a._loggers[e];return t||(t=new a({module:e})),t}_log(e,t,...n){if(this._matchLevel(e)){if("always"!==t&&!a._throttlingDisabled){const r=this._argsToKey(n),i=this._loggedMessages[e].get(r);if("once"===t&&null!=i||"oncePerTick"===t&&i&&i>=a._tickCounter)return;this._loggedMessages[e].set(r,a._tickCounter),a._scheduleTickCounterIncrement()}for(const t of r.a.log.interceptors)if(t(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,t){let n=this;for(;Object(i.k)(n);){const t=n[e];if(Object(i.k)(t))return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...n){console[e](`[${t}]`,...n)}_matchLevel(e){const t=r.a.log.level?r.a.log.level:"warn";return s[this._parentWithMember("level",t)]<=s[e]}_argsToKey(...e){return Object(o.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then((()=>{a._tickCounter++,a._tickCounterScheduled=!1})))}}a._loggers={},a._tickCounter=0,a._tickCounterScheduled=!1,a._throttlingDisabled=!1},81:function(e,t,n){"use strict";function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}n.d(t,"a",(function(){return r}))},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(79);const r=[n(303).a];var i=n(234),o=n(226);const s=new Set,a=new Set;function c(e){return t=>{t.prototype.declaredClass=e,function(e,t){for(const n of r)if(n.processPrototypePropertyMetadata)for(const r in e){const i=e[r];n.processPrototypePropertyMetadata(r,i,e,t)}}(Object(i.a)(t.prototype).properties,e),function(e){const t=e.prototype,n=t.declaredClass,o=Object(i.a)(t).properties;!function(e,t){for(const n of r)if(n.processClassPropertyMetadata)for(const r in e){const i=e[r];n.processClassPropertyMetadata(r,i,e,t)}}(o,n);const s={};for(const r of Object.getOwnPropertyNames(o)){const e=o[r];s[r]={enumerable:!0,configurable:!0,get:l(r,e),set(t){const n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(2===n.lifecycle&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);n.set(r,t)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,s)}(t);const n=[],o=[];let c=t.prototype;for(;c;)c.hasOwnProperty("initialize")&&!s.has(c.initialize)&&(s.add(c.initialize),n.push(c.initialize)),c.hasOwnProperty("destroy")&&!a.has(c.destroy)&&(a.add(c.destroy),o.push(c.destroy)),c=Object.getPrototypeOf(c);s.clear(),a.clear();class u extends t{constructor(...e){if(super(...e),this.constructor===u&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),o.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<o.length;e++)o[e].call(this)}}})}this.postscript(...e)}}}return u.__accessorMetadata__=Object(i.a)(t.prototype),u.prototype.declaredClass=e,u}}function l(e,t){return null==t.get?function(){const t=this.__accessor__.properties.get(e);if(void 0===t)return;Object(o.c)(t);const n=this.__accessor__.store;return n.has(e)?n.get(e):t.metadata.value}:function(){const t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(80),i=n(84),o=n(193),s=n(234),a=n(348);const c=r.a.getLogger("esri.core.accessorSupport.decorators.property");function l(e={}){return(t,n,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const l=Object(s.b)(t,n);r&&(r.get||r.set?(l.get=r.get||l.get,l.set=r.set||l.set):"value"in r&&("value"in e&&c.warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),l.value=e.value=r.value)),null!=e.readOnly&&(l.readOnly=e.readOnly);const u=e.aliasOf;if(u){const e="string"==typeof u?u:u.source,t="string"==typeof u?null:!0===u.overridable;let r;l.dependsOn=[e],l.get=function(){let t=Object(o.b)(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const n=Object(o.b)(this,r);n&&(t=t.bind(n))}return t},l.readOnly||(l.set=t?function(e){void 0!==e?this._override(n,e):this._clearOverride(n)}:function(t){Object(a.a)(this,e,t)})}const h=e.type,f=e.types;l.cast||(h?l.cast=function(e){let t=0,n=e;if(Object(i.n)(e))return Object(i.f)(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const r=n;if(Object(i.o)(r))return 0===t?Object(i.j)(r):Object(i.h)(Object(i.j)(r),t);if(1===t)return Object(i.b)(r);if(t>1)return Object(i.g)(r,t);const o=e;return o.from?o.from:Object(i.m)(o)}(h):f&&(Array.isArray(f)?l.cast=Object(i.c)(Object(i.k)(f[0])):l.cast=Object(i.k)(f))),e.range&&(l.cast=d(l.cast,e.range)),Object(s.c)(l,e)}}function u(e,t,n){const r=Object(s.b)(e,n);r.json||(r.json={});let i=r.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function d(e,t){return n=>{let r=+e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return E}));n(79);const r=n(80).a.getLogger("esri.core.Accessor");function i(e){return null==e?e:new Date(e)}function o(e){return null==e?e:!!e}function s(e){return null==e?e:e.toString()}function a(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function c(e){return null==e?e:Math.round(parseFloat(e))}function l(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function u(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function h(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function f(e,t){return!!l(t)&&(r.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function p(e,t){return null==t?t:d(e)?function(e,t){if(!t||!t.constructor||!d(t.constructor))return f(e,t)?t:new e(t);const n=h(e.prototype.itemType),r=h(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(f(e,t),t):new e(t):t}(e,t):u(e,t)?f(e,t)?t:new e(t):t}function g(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function m(e){switch(e){case Number:return a;case S:return c;case Boolean:return o;case String:return s;case Date:return i;default:return p.bind(null,e)}}function b(e,t){const n=m(e);return 1===arguments.length?n:n(t)}function v(e,t,n){return 1===arguments.length?v.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,n))):[e(t,n)]:t}function y(e,t){return 1===arguments.length?v(b.bind(null,e)):v(b.bind(null,e),t)}function _(e,t,n){return 0!==t&&Array.isArray(n)?n.map((n=>_(e,t-1,n))):e(n)}function O(e,t,n){if(2===arguments.length)return O.bind(null,e,t);if(!n)return n;let r=t,i=n=_(e,t,n);for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let o=0;o<r;o++)n=[n];return n}function w(e,t,n){return 2===arguments.length?O(b.bind(null,e),t):O(b.bind(null,e),t,n)}function j(e){return!!Array.isArray(e)&&!e.some((t=>{const n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)}))}function A(e,t){if(2===arguments.length)return A(e).call(null,t);const n=new Set,i=e.filter((e=>"function"!=typeof e)),o=e.filter((e=>"function"==typeof e));for(const r of e)"string"!=typeof r&&"number"!=typeof r||n.add(r);let s=null,a=null;return(e,t)=>{if(null==e)return e;const c=typeof e,l="string"===c||"number"===c;return l&&(n.has(e)||o.some((e=>"string"===c&&e===String||"number"===c&&e===Number)))||"object"===c&&o.some((t=>!u(e,t)))?e:(l&&i.length?(s||(s=i.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&o.length?(a||(a=o.map((e=>g(e))).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):r.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function C(e,t){if(2===arguments.length)return C(e).call(null,t);const n={},i=[],o=[];for(const r in e.typeMap){const t=e.typeMap[r];n[r]=b(t),i.push(g(t)),o.push(r)}const s=()=>`'${i.join("', '")}'`,a=()=>`'${o.join("', '")}'`,c="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!u(e.base,t))return t;if(null==t)return t;const i=c(t)||e.defaultKeyValue,o=n[i];if(!o)return r.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!u(e.typeMap[i],t))return t;if("string"==typeof e.key&&!l(t)){const n={};for(const r in t)r!==e.key&&(n[r]=t[r]);return o(n)}return o(t)}}class S{}const E={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function k(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function I(e){switch(e.type){case"native":return b(e.value);case"array":return v(I(e.value));case"one-of":return function(e){let t=null;return(n,i)=>T(n,e)?n:(null==t&&(t=x(e)),r.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}(e);default:return null}}function x(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case S:return"integer";case Date:return"date";default:return g(e.value)}case"array":return`array of ${x(e.value)}`;case"one-of":{const t=e.values.map((e=>x(e)));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function T(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case S:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!T(e,t.value)));case"one-of":return t.values.some((t=>T(e,t)))}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return r})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return u})),n.d(t,"u",(function(){return l}));const r=null;function i(e){return null!=e}function o(e){return null==e}function s(e){return void 0===e}function a(e,t){return i(e)?t(e):r}function c(e){return e}function l(e,t){if(o(e))throw new Error(t);return e}function u(e,t){return i(e)?e:"function"==typeof t?t():t}function d(e){return i(e)&&e.destroy(),null}function h(e){return i(e)&&e.dispose(),null}function f(e){return i(e)&&e.remove(),null}function p(e){return i(e)&&e.abort(),null}function g(e){return i(e)&&e.release(),null}function m(e){return null}function b(e,t){const n=new Array;for(const r of e)n.push(y(r,null,t));return n}function v(e,t){for(const n of e)y(n,null,t)}function y(e,t,n){return i(e)?n(e):t}function _(e,t){return i(e)?t(e):null}function O(e){return e.filter((e=>i(e)))}function w(e,...t){let n=e;for(let r=0;r<t.length&&n;++r)n=n[t[r]];return n}function j(e){return e}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));n(79);var r=n(323);function i(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&i(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(r.h)(e)||Object(r.k)(e)||Object(r.l)(e)||Object(r.f)(e)||Object(r.i)(e)||Object(r.g)(e)||Object(r.j)(e)||Object(r.d)(e)||Object(r.e)(e))return Object(r.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach(((e,n)=>{t.set(n,o(e))})),t}if(e instanceof Set){const t=new Set;return e.forEach((e=>{t.add(o(e))})),t}let t;const n=e;if("function"==typeof n.clone)t=n.clone();else if("function"==typeof n.map&&"function"==typeof n.forEach)t=n.map(o);else if("function"==typeof n.notifyChange&&"function"==typeof n.watch)t=n.clone();else{t={};for(const n of Object.getOwnPropertyNames(e))t[n]=o(e[n])}return t}function s(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(87),i=n(80),o=n(377);class s extends o.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof s))return new s(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(r.a)(t)}catch(s){return"[object]"}})))}}catch(e){throw i.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s(e.name,e.message,e.details)}}s.prototype.type="error"},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return C})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return d})),n.d(t,"w",(function(){return g})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return v}));var r=n(467),i=n(88),o=n(179),s=(n(80),n(85));function a(e){return Promise.all(e)}function c(e){return new Promise(((t,n)=>{try{e(t,n)}catch(r){Promise.resolve().then((()=>n(r)))}}))}function l(e="Aborted"){return new i.a("AbortError",e)}function u(){return new AbortController}function d(e,t="Aborted"){if(f(e))throw l(t)}function h(e){return Object(s.k)(e)?"aborted"in e?e:e.signal:e}function f(e){const t=h(e);return Object(s.k)(t)&&t.aborted}function p(e){if(y(e))throw e}function g(e){if(!y(e))throw e}function m(e,t){const n=h(e);if(!Object(s.j)(n)){if(!n.aborted)return Object(o.d)(n,"abort",(()=>t()));t()}}function b(e,t){const n=h(e);if(!Object(s.j)(n))return d(n),Object(o.d)(n,"abort",(()=>t(l())))}function v(e,t){const n=h(t);return Object(s.j)(n)?e:new Promise(((n,r)=>{let i=m(t,(()=>r(l())));const o=()=>i=Object(s.r)(i);e.then(o,o),e.then(n,r)}))}function y(e){return e&&"AbortError"===e.name}function _(e){return e.catch((e=>{if(!y(e))throw e}))}function O(){let e=null;const t=new Promise(((t,n)=>{e={promise:void 0,resolve:t,reject:n}}));return e.promise=t,e}function w(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return w(t.map((t=>e[t]))).then((e=>{const n={};return t.forEach(((t,r)=>n[t]=e[r])),n}))}const t=e;return c((e=>{const n=[];let r=t.length;0===r&&e(n),t.forEach((t=>{const i={promise:t||Promise.resolve(t)};n.push(i),i.promise.then((e=>{i.value=e})).catch((e=>{i.error=e})).then((()=>{--r,0===r&&e(n)}))}))}))}function j(e){return w(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function A(e){return Promise.reject(e)}function C(e){return Promise.resolve(e)}function S(e,t,n){const r=u();return m(n,(()=>r.abort())),new Promise(((n,i)=>{let o=setTimeout((()=>{o=0,n(t)}),e);m(r,(()=>{o&&(clearTimeout(o),i(l()))}))}))}function E(e){return e&&"function"==typeof e.then}function k(e){return I(e)?e:Promise.resolve(e)}function I(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}function x(e,t=-1){let n,r,i,o,a=null;const c=(...d)=>{if(n){r=d,o&&o.reject(l()),o=O();const e=Object(s.d)(o.promise);if(a){const e=a;a=null,e.abort()}return e}if(i=o||O(),o=null,t>0){const r=u();n=k(e(...d,r.signal));const i=n;S(t).then((()=>{n===i&&(o?r.abort():a=r)}))}else n=1,n=k(e(...d));const h=()=>{const e=r;r=i=n=a=null,null!=e&&c(...e)},f=n,p=i;return f.then(h,h),f.then(p.resolve,p.reject),Object(s.d)(p.promise)};return c}function T(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>r.a.setTimeout((()=>i.reject(t)),e),i.promise=n,i}function P(e){let t=u();const n=e(t.signal);let r={promise:n,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const i=()=>{r&&(r.finished=!0,r=null),t=null};return n.then(i,i),r}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(116);class i{constructor(e,t={ignoreUnknown:!1}){this.jsonToAPI=e,this.options=t,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(e),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{const i=this.toJSON(e);void 0!==i&&Object(r.c)(n,i,t)},this.write.isJSONMapWriter=!0}toJSON(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e}fromJSON(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}invertMap(e){const t={};for(const n in e)t[e[n]]=n;return t}getKeysSorted(e){const t=[];for(const n in e)t.push(n);return t.sort(),t}}function o(){return function(e){return new i(e,{ignoreUnknown:!0})}}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(272),i=n(80),o=n(193),s=n(234),a=(n(79),n(87)),c=n(190),l=n(226),u=n(347);class d{constructor(e,t,n){this.properties=e,this.propertyName=t,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(n.nonNullable?8:0)|(n.hasOwnProperty("value")?16:0)|(void 0===n.get?32:0)|(void 0===n.dependsOn?64:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Object(l.c)(this);const e=this.properties.store,t=this.propertyName,n=this.flags,r=e.get(t);if(4&n)return r;if(1&~n&&e.has(t))return r;this.flags|=4;const i=this.properties.host;let o;64&n?o=Object(l.b)(this,this.metadata.get,i):(Object(l.d)(i,this),o=this.metadata.get.call(i)),e.set(t,o,1);const s=e.get(t);return s===r?this.flags&=-2:this.commit(),this.flags&=-5,s}onObservableAccessed(e){e!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const e=this._accessed;if(null===e)return;let t=this._handles;null===t&&(t=this._handles=[]);for(let n=0;n<e.length;++n)t.push(e[n].observe(this));e.length=0}observe(e){return null===this._observers&&(this._observers=[]),this._observers.includes(e)||this._observers.push(e),new u.a(this._observers,e)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){2&~this.flags&&(this.flags|=1);const e=this._observers;if(null!==e)for(let t=0;t<e.length;++t)e[t].onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onCommitted(){if(null===this._observers)return;const e=this._observers.slice();for(let t=0;t<e.length;++t)e[t].onCommitted()}_clearObservationHandles(){const e=this._handles;if(null!==e){for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}}var h=n(147);class f{constructor(){this._values=new Map}clone(e){const t=new f;return this._values.forEach(((n,r)=>{e&&e.has(r)||t.set(r,Object(a.a)(n))})),t}get(e){return this._values.get(e)}originOf(){return 6}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}var p=n(119);function g(e,t,n){return void 0!==e}function m(e,t,n,r){return void 0!==e&&(!(null==n&&8&e.flags)||(r.lifecycle,!1))}function b(e){return e&&"function"==typeof e.destroy}i.a.getLogger("esri.core.accessorSupport.Properties");class v{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new f,this._origin=6;const t=this.host.constructor.__accessorMetadata__,n=t.properties;for(const r in n){const e=new d(this,r,n[r]);this.properties.set(r,e)}this.metadatas=n,this._autoDestroy=t.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[e,t]of this.properties){const n=this.internalGet(e);n&&b(n)&&(n.destroy(),8&~t.flags&&this._internalSet(t,null)),t.destroy()}else for(const[e,t]of this.properties)t.destroy()}get initialized(){return 0!==this.lifecycle}get(e){const t=this.properties.get(e);if(t.metadata.get)return t.getComputed();Object(l.c)(t);const n=this.store;return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.properties.get(e);if(void 0!==t&&16&t.flags)return"defaults"}return Object(h.b)(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e);if(g(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.properties.get(e);g(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.properties.get(t);if(!g(r))return"";const i=new Set,o=Object(l.b)({onObservableAccessed:e=>i.add(e),onTrackingEnd:()=>{}},(()=>{var t;return null==(t=r.metadata.get)?void 0:t.call(e)}));let s=`${n}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;if(0===i.size)return s;n+="  ";for(const a of i){if(!(a instanceof d))continue;const e=a.properties.host,t=a.propertyName,r=Object(p.a)(e);s+=r?r.getDependsInfo(e,t,n):`${n}${t}: undefined\n`}return s}setAtOrigin(e,t,n){const r=this.properties.get(e);if(g(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}clearOverride(e){const t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.notifyChange())}override(e,t){const n=this.properties.get(e);if(!m(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(y.release(e),!n)return;t=i}n.flags|=2,this._internalSet(n,t)}set(e,t){const n=this.properties.get(e);if(!m(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:i}=e;if(y.release(e),!n)return;t=i}const i=n.metadata.set;i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=Object(h.d)(e)}getDefaultOrigin(){return Object(h.b)(this._origin)}notifyChange(e){const t=this.properties.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.properties.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.properties.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const n=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName;r.has(i,n)&&Object(a.b)(t,r.get(i))&&2&~e.flags&&n===r.originOf(i)||(e.invalidate(),r.set(i,t,n),e.commit(),Object(l.a)(this.host,e))}_cast(e,t){const n=y.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}}const y=new c.a(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var _=n(348),O=n(406),w=n(83),j=n(82);function A(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class C{constructor(...e){if(this.constructor===C)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new v(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class o extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}Object(s.a)(o.prototype);for(const s in e){const t=e[s];o.prototype[s]="function"==typeof t?function(...e){const n=this.inherited;let r;this.inherited=function(...e){if(i.prototype[s])return i.prototype[s].apply(this,e)};try{r=t.apply(this,e)}catch(o){throw this.inherited=n,o}return this.inherited=n,r}:e[s]}for(const s in t){const e=A(t[s]);Object(w.b)(e)(o.prototype,s)}return Object(j.a)(n)(o)}postscript(e){const t=this.__accessor__,n=t.ctorArgs||e;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(Object(O.c)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return Object(o.b)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}isInstanceOf(e){return Object(r.b)(i.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Object(_.a)(this,e,t),this}watch(e,t,n){return Object(O.d)(this,e,t,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}},938:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r,i=n(81),o=n(92),s=n(103),a=n(156),c=n(150),l=n(109),u=n(146),d=(n(79),n(107)),h=(n(80),n(83)),f=n(82),p=n(183),g=n(314);n(84);let m=r=class extends p.a{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};Object(i.a)([Object(h.b)()],m.prototype,"displayValueEnabled",void 0),Object(i.a)([Object(h.b)()],m.prototype,"max",void 0),Object(i.a)([Object(h.b)()],m.prototype,"min",void 0),Object(i.a)([Object(h.b)()],m.prototype,"step",void 0),Object(i.a)([Object(h.b)()],m.prototype,"value",void 0),m=r=Object(i.a)([Object(f.a)("esri.support.Action.ActionSlider")],m);var b=m,v=n(333),y=n(117),_=n(160),O=n(389),w=n(127);const j="esri-layer-list-panel",A="esri-layer-list-panel__content",C="esri-layer-list-panel__content--legend",S="esri-layer-list-panel__content--string",E="esri-layer-list-panel__content--html-element",k="esri-layer-list-panel__content--widget";let I=class extends(Object(c.a)(_.a)){constructor(e,t){super(e,t),this._legend=null,this._handles=new y.a,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([Object(l.a)(this,"content",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return Object(w.a)("div",{class:j},this._renderContents())}_renderContent(e){const{_legend:t,listItem:n}=this;return e?"legend"===e?n&&n.view&&n.layer&&t?Object(w.a)("div",{class:this.classes(A,C),key:t},t.render()):null:"string"==typeof e?Object(w.a)("div",{class:this.classes(A,S),key:e,innerHTML:e}):Object(O.b)(e)?Object(w.a)("div",{class:this.classes(A,k),key:e},e.render()):e instanceof HTMLElement?Object(w.a)("div",{class:this.classes(A,E),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:n}=e;return t&&n?{view:n,layerInfos:[{layer:t,title:""}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([n.e(2),n.e(3),n.e(5),n.e(26),n.e(103)]).then(n.bind(null,1113)).then((({default:e})=>{const{_handles:t,listItem:n}=this,r=new e(this._getLegendOptions(n));this._legend=r,this.notifyChange("className"),this.notifyChange("title");const i=Object(l.a)(this,["listItem.view","listItem.layer"],(()=>this._updateLegend(r)));t.add(i,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:n,view:r}=t;e.view=r,e.layerInfos=[{layer:n,title:null}],this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:Object(O.b)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const n=this._getWidget(e);return n&&(t=n),!!n})),t}return this._getWidget(e)}};Object(i.a)([Object(h.b)()],I.prototype,"className",null),Object(i.a)([Object(h.b)()],I.prototype,"content",void 0),Object(i.a)([Object(h.b)()],I.prototype,"image",void 0),Object(i.a)([Object(h.b)()],I.prototype,"listItem",void 0),Object(i.a)([Object(h.b)()],I.prototype,"title",null),Object(i.a)([Object(h.b)()],I.prototype,"open",void 0),Object(i.a)([Object(h.b)()],I.prototype,"visible",void 0),I=Object(i.a)([Object(f.a)("esri.widgets.LayerList.ListItemPanel")],I);var x,T=I,P=n(707);const L=s.a.ofType({key:"type",defaultKeyValue:"button",base:p.a,typeMap:{button:g.a,toggle:v.a,slider:b}}),M=s.a.ofType(L),D="layer",N="child-list-mode";let $=x=class extends(Object(c.a)(Object(a.b)(o.a))){constructor(e){super(e),this.actionsSections=new M,this.actionsOpen=!1,this.children=new(s.a.ofType(x)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([Object(l.a)(this,"layer",(e=>this._watchLayerProperties(e))),Object(l.a)(this,"view",(e=>this._updateChildren(e))),Object(l.a)(this,"panel",(e=>this._setListItemOnPanel(e))),Object(l.a)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new T(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!Object(P.h)(this.layer,this.get("view.scale"))}get visibilityMode(){return Object(P.d)(this.layer)}clone(){return new x({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(N),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(Object(l.d)(t,"listMode",(()=>this._addChildren(e))),N)}));const t=e.filter((e=>"hide"!==Object(P.c)(e)));this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),D)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map((e=>Object(P.a)(e)?new x({layer:e,parent:this,view:this.view}):null)).reverse()}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(D),this.handles.remove(N),!e)return;if(this.handles.add(Object(l.d)(e,"listMode",(()=>this._watchLayerProperties(e))),D),"hide-children"===Object(P.c)(e))return void this.children.removeAll();const t=Object(P.g)(e);t&&this.handles.add(Object(l.a)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),D)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const n=await t.whenLayerView(e);if(n.layer!==this.layer)return;this._set("layerView",n)}catch{}}_isLayerUpdating(e){return e&&"loading"===e.loadStatus}};Object(i.a)([Object(h.b)({type:M})],$.prototype,"actionsSections",void 0),Object(i.a)([Object(h.b)()],$.prototype,"actionsOpen",void 0),Object(i.a)([Object(h.b)({type:s.a})],$.prototype,"children",void 0),Object(i.a)([Object(h.b)()],$.prototype,"childrenSortable",void 0),Object(i.a)([Object(u.a)("layer.loadError?")],$.prototype,"error",void 0),Object(i.a)([Object(h.b)()],$.prototype,"layer",void 0),Object(i.a)([Object(h.b)({readOnly:!0})],$.prototype,"layerView",void 0),Object(i.a)([Object(h.b)()],$.prototype,"open",void 0),Object(i.a)([Object(h.b)({type:T})],$.prototype,"panel",void 0),Object(i.a)([Object(d.a)("panel")],$.prototype,"castPanel",null),Object(i.a)([Object(h.b)()],$.prototype,"parent",void 0),Object(i.a)([Object(h.b)()],$.prototype,"sortable",void 0),Object(i.a)([Object(h.b)()],$.prototype,"title",null),Object(i.a)([Object(h.b)({readOnly:!0})],$.prototype,"updating",null),Object(i.a)([Object(h.b)({value:null})],$.prototype,"view",void 0),Object(i.a)([Object(u.a)("layer.visible")],$.prototype,"visible",void 0),Object(i.a)([Object(h.b)({readOnly:!0})],$.prototype,"visibleAtCurrentScale",null),Object(i.a)([Object(h.b)({readOnly:!0})],$.prototype,"visibilityMode",null),$=x=Object(i.a)([Object(f.a)("esri.widgets.LayerList.ListItem")],$);var q=$},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return ue})),n.d(t,"e",(function(){return de})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return se})),n.d(t,"i",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return ie})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return he})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return L})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return W})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return Q})),n.d(t,"w",(function(){return G})),n.d(t,"x",(function(){return ce})),n.d(t,"y",(function(){return $})),n.d(t,"z",(function(){return B})),n.d(t,"A",(function(){return R})),n.d(t,"B",(function(){return K})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return F})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return j})),n.d(t,"G",(function(){return re})),n.d(t,"H",(function(){return le})),n.d(t,"I",(function(){return oe})),n.d(t,"J",(function(){return ee})),n.d(t,"K",(function(){return w}));var r=n(129),i=n(88),o=(n(145),n(80)),s=n(85);const a=o.a.getLogger("esri.core.urlUtils"),c=r.a.request,l="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,d=/^\s*http:/i,h=/^\s*https:/i,f=/^\s*file:/i,p=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),b=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class v{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=Object(s.d)(this.uri.match(m));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=Object(s.d)(this.authority.match(b)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const y=new v(r.a.applicationUrl),_={},O=(()=>{const e=Object(s.d)(y.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${y.scheme}://${y.host}${null!=y.port?`:${y.port}`:""}${t}`})();function w(e){const t={path:null,query:null},n=new v(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.substring(0,r),t.query=j(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.substring(0,t.path.length-(n.fragment.length+1)))),t}function j(e){const t=e.split("&"),n={};for(const r of t){if(!r)continue;const e=r.indexOf("=");let t,i;e<0?(t=decodeURIComponent(r),i=""):(t=decodeURIComponent(r.slice(0,e)),i=decodeURIComponent(r.slice(e+1)));let o=n[t];"string"==typeof o&&(o=n[t]=[o]),Array.isArray(o)?o.push(i):n[t]=i}return n}function A(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function C(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n])))).join("&"):Object.keys(e).map((n=>{const r=e[n];if(null==r)return"";const i=encodeURIComponent(n)+"=",o=t&&t[n];return o?i+encodeURIComponent(o(r)):Array.isArray(r)?r.map((e=>A(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):A(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function S(e=!1){let t,n=c.proxyUrl;if("string"==typeof e){t=Q(e);const r=P(e);r&&(n=r.proxyUrl)}else t=!!e;if(!n)throw a.warn(l),new i.a("urlutils:proxy-not-set",l);return t&&te()&&(n=ee(n)),w(n)}function E(e){const t=P(e);let n,r;if(t){const e=I(t.proxyUrl);n=e.path,r=e.query?j(e.query):null}if(n){const t=w(e);e=n+"?"+t.path;const i=C({...r,...t.query});i&&(e=`${e}?${i}`)}return e}const k={path:"",query:""};function I(e){const t=e.indexOf("?");return-1!==t?(k.path=e.slice(0,t),k.query=e.slice(t+1)):(k.path=e,k.query=null),k}function x(e){return(e=ne(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=I(e).path),!0)).toLowerCase()}function T(e){const t={proxyUrl:e.proxyUrl,urlPrefix:x(e.urlPrefix)},n=c.proxyRules,r=t.urlPrefix;let i=n.length;for(let o=0;o<n.length;o++){const e=n[o].urlPrefix;if(0===r.indexOf(e)){if(r.length===e.length)return-1;i=o;break}0===e.indexOf(r)&&(i=o+1)}return n.splice(i,0,t),i}function P(e){const t=c.proxyRules,n=x(e);for(let r=0;r<t.length;r++)if(0===n.indexOf(t[r].urlPrefix))return t[r]}function L(e,t){return e=M(e),t=M(t),ne(e)===ne(t)}function M(e){const t=(e=F(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function D(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),n=c.interceptors;if(n)for(const r of n)if(Array.isArray(r.urls)){if(r.urls.some(t))return r}else if(t(r.urls))return r;return null}function N(e,t,n=!1){const r=ae(e),i=ae(t);return!(!n&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function $(e){if("string"==typeof e){if(!V(e))return!0;e=ae(e)}if(N(e,y))return!0;const t=c.trustedServers||[];for(let n=0;n<t.length;n++){const r=q(t[n]);for(let t=0;t<r.length;t++)if(N(e,r[t]))return!0}return!1}function q(e){return _[e]||(Z(e)||G(e)?_[e]=[new v(R(e))]:_[e]=[new v(`http://${e}`),new v(`https://${e}`)]),_[e]}function R(e,t=O,n){return G(e)?n&&n.preserveProtocolRelative?e:"http"===y.scheme&&y.authority===z(e).slice(2)?`http:${e}`:`https:${e}`:Z(e)?e:Object(s.d)(B("/"===e[0]?function(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e))}function U(e,t=O,n){if(!V(e))return e;const r=F(e),i=r.toLowerCase(),o=F(t).toLowerCase().replace(/\/+$/,""),s=n?F(n).toLowerCase().replace(/\/+$/,""):null;if(s&&0!==o.indexOf(s))return e;const a=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let c=a(i,"/",i.indexOf("//")+2),l=-1;for(;i.slice(0,c+1)===o.slice(0,c)+"/"&&(l=c+1,c!==i.length);)c=a(i,"/",c+1);if(-1===l)return e;if(s&&l<s.length)return e;e=r.slice(l);const u=o.slice(l-1).replace(/[^/]+/g,"").length;if(u>0)for(let d=0;d<u;d++)e=`../${e}`;else e=`./${e}`;return e}function F(e){return function(e){const t=c.httpsDomains;if(!function(e){return d.test(e)||"http"===y.scheme&&G(e)}(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),p.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===y.scheme&&r===y.authority&&!g.test(e)||(te()&&r===y.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||te()&&!P(e))&&(e=ee(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=I(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=R(e=e.trim()))))}function B(...e){const t=e.filter(s.k);if(!t||!t.length)return;const n=[];if(V(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),function(e){return f.test(e)}(t[0])&&(n[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&n.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let i=0;i<r.length;i++){const e=r[i];".."===e&&n.length>0&&".."!==n[n.length-1]?n.pop():(!e&&i===r.length-1||e&&("."!==e||0===n.length))&&n.push(e)}return n.join("/")}function z(e,t=!1){if(W(e)||H(e))return null;let n=e.indexOf("://");if(-1===n&&G(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=ne(e,!0)),e}function V(e){return G(e)||Z(e)}function W(e){return null!=e&&"blob:"===e.slice(0,5)}function H(e){return"data:"===e.slice(0,5)}function Y(e){const t=J(e);if(!t||!t.isBase64)return null;const n=atob(t.data),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r.buffer}const X=/^data:(.*?)(;base64)?,(.*)$/;function J(e){const t=e.match(X);if(!t)return null;const[,n,r,i]=t;return{mediaType:n,isBase64:!!r,data:i}}function K(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function G(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Z(e){return u.test(e)}function Q(e){return h.test(e)||"https"===y.scheme&&G(e)}function ee(e){return G(e)?`https:${e}`:e.replace(d,"https:")}function te(){return"https"===y.scheme}function ne(e,t=!1){return G(e)?e.slice(2):(e=e.replace(u,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function re(e){let t=0;if(V(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function ie(e,t){if(!e)return"";const n=w(e).path.replace(/\/+$/,""),r=n.substring(n.lastIndexOf("/")+1);if(null==t||!t.length)return r;const i=new RegExp(`.(${t.join("|")})$`,"ig");return r.replace(i,"")}function oe(e){return e.replace(/\/+$/,"")}function se(e,t,n){if(!(t&&n&&e&&V(e)))return e;const r=e.indexOf("//"),i=e.indexOf("/",r+2),o=e.indexOf(":",r+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(r+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(s)}`}function ae(e){return"string"==typeof e?new v(R(e)):(e.scheme||(e.scheme=y.scheme),e)}function ce(e){return pe.test(e)}function le(e,t){const n=w(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function ue(e,t,n){const r=w(e),i=r.query||{};return i[t]=String(n),`${r.path}?${C(i)}`}function de(e,t){const n=w(e),r=n.query||{};for(const o in t)r[o]=t[o];const i=C(r);return i?`${n.path}?${i}`:n.path}function he(e){if(Object(s.j)(e))return null;const t=e.match(fe);return t?t[1]:null}const fe=/.*?\.([^\/]*)$/,pe=/(^data:image\/svg|\.svg$)/i}}]);
//# sourceMappingURL=86.2cbb5466.chunk.js.map