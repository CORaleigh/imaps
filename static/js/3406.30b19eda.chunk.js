"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[3406],{3182:(e,t,n)=>{n.d(t,{S6:()=>s,nd:()=>l,u_:()=>r});var o=n(92026);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=o,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new r(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function s(e){return!((0,o.Wi)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class l extends r{}},6908:(e,t,n)=>{n.d(t,{Z:()=>o});class o{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new o;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},80457:(e,t,n)=>{n.d(t,{Z:()=>o});class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.lengths=e??[],this.coords=t??[],this.hasIndeterminateRingOrder=n}static fromRect(e){const[t,n,r,s]=e,l=r-t,i=s-n;return new o([5],[t,n,l,0,0,i,-l,0,0,-i])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const o=this.lengths[n];for(let n=0;n<o;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=o}}clone(e){return e?(e.set(this.coords),new o(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new o(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},83406:(e,t,n)=>{n.d(t,{$:()=>le,$g:()=>ie,E7:()=>X,EI:()=>J,GH:()=>B,IN:()=>I,Iv:()=>C,J6:()=>z,Jd:()=>b,Nh:()=>ne,RZ:()=>te,Uy:()=>U,XA:()=>O,Yn:()=>V,cn:()=>D,di:()=>H,eG:()=>W,fQ:()=>G,hY:()=>ce,h_:()=>K,ks:()=>$,lM:()=>ee,lz:()=>he,oB:()=>ae,u0:()=>L,zj:()=>oe});var o=n(10064),r=n(32718),s=n(92026),l=n(77981),i=n(3182),c=n(6908),u=n(80457);function h(e,t){return e?t?4:3:t?3:2}const a=r.Z.getLogger("esri.layers.graphics.featureConversionUtils"),g={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},d=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s},f=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2]},m=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+3]},y=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2],e[n+3]=t[o+3]};function p(e,t,n,o){if(e){if(n)return t&&o?y:f;if(t&&o)return m}else if(t&&o)return f;return d}function b(e,t){let{scale:n,translate:o}=e;return Math.round((t-o[0])/n[0])}function I(e,t){let{scale:n,translate:o}=e;return Math.round((o[1]-t)/n[1])}function w(e,t){let{scale:n,translate:o}=e;return t*n[0]+o[0]}function Z(e,t){let{scale:n,translate:o}=e;return o[1]-t*n[1]}function G(e,t,n){return e?t?n?P(e):N(e):n?v(e):M(e):null}function M(e){const t=e.coords;return{x:t[0],y:t[1]}}function T(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function N(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function v(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function j(e,t){return e&&t?x:e?F:t?k:T}function q(e,t,n,o,r){const s=j(n,o);for(const l of t){const{geometry:t,attributes:n}=l;let o;t&&(o=s(new u.Z,t)),e.push(new i.u_(o,n,null,n[r]))}return e}function C(e,t,n){if((0,s.Wi)(e))return null;const o=h(t,n),r=[];for(let s=0;s<e.coords.length;s+=o){const t=[];for(let n=0;n<o;n++)t.push(e.coords[s+n]);r.push(t)}return t?n?{points:r,hasZ:t,hasM:n}:{points:r,hasZ:t}:n?{points:r,hasM:n}:{points:r}}function R(e,t,n,o,r){const s=h(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=_(new u.Z,t,s)),e.push(new i.u_(o,n,null,n[r]))}return e}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h(t.hasZ,t.hasM);e.lengths[0]=t.points.length;const o=e.coords;let r=0;for(const s of t.points)for(let e=0;e<n;e++)o[r++]=s[e];return e}function z(e,t,n){if(!e)return null;const o=h(t,n),{coords:r,lengths:s}=e,l=[];let i=0;for(const c of s){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<o;e++)t.push(r[i++]);e.push(t)}l.push(e)}return t?n?{paths:l,hasZ:t,hasM:n}:{paths:l,hasZ:t}:n?{paths:l,hasM:n}:{paths:l}}function E(e,t,n,o,r){const s=h(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=L(new u.Z,t,s)),e.push(new i.u_(o,n,null,n[r]))}return e}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h(t.hasZ,t.hasM);const{lengths:o,coords:r}=e;let s=0;for(const l of t.paths){for(const e of l)for(let t=0;t<n;t++)r[s++]=e[t];o.push(l.length)}return e}function W(e,t,n){if(!e)return null;const o=h(t,n),{coords:r,lengths:s}=e,l=[];let i=0;for(const c of s){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<o;e++)t.push(r[i++]);e.push(t)}l.push(e)}return t?n?{rings:l,hasZ:t,hasM:n}:{rings:l,hasZ:t}:n?{rings:l,hasM:n}:{rings:l}}function Y(e,t,n,o,r){for(const l of t){const t=l.geometry,c=l.centroid,h=l.attributes;let a;t&&(a=U(new u.Z,t,n,o)),(0,s.pC)(c)?e.push(new i.u_(a,h,T(new u.Z,c),h[r])):e.push(new i.u_(a,h,null,h[r]))}return e}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasM;return $(e,t.rings,n,o),e}function $(e,t,n,o){const r=h(n,o),{lengths:s,coords:l}=e;let i=0;s.length=l.length=0;for(const c of t){for(const e of c)for(let t=0;t<r;t++)l[i++]=e[t];s.push(c.length)}return e}const S=[],A=[];function O(e,t,n,o,r){S[0]=e;const[s]=V(A,S,t,n,o,r);return S.length=A.length=0,s}function V(e,t,n,r,s,l){if(e.length=0,!n){for(const n of t){const t=n.attributes[l];e.push(new i.u_(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return q(e,t,r,s,l);case"esriGeometryMultipoint":return R(e,t,r,s,l);case"esriGeometryPolyline":return E(e,t,r,s,l);case"esriGeometryPolygon":return Y(e,t,r,s,l);default:a.error("convertToFeatureSet:unknown-geometry",new o.Z(`Unable to parse unknown geometry type '${n}'`)),e.length=0}return e}function X(e,t,n,r,s,l){const i=e.length;switch(n){case"esriGeometryPoint":q(e,t,r,s,l);break;case"esriGeometryMultipoint":R(e,t,r,s,l);break;case"esriGeometryPolyline":E(e,t,r,s,l);break;case"esriGeometryPolygon":Y(e,t,r,s,l);break;default:a.error("convertToFeatureSet:unknown-geometry",new o.Z(`Unable to parse unknown geometry type '${n}'`))}for(let o=0;o<t.length;o++)e[o+i].geometryType=n,e[o+i].insertAfter=t[o].insertAfter,e[o+i].groupId=t[o].groupId;return e}function J(e,t,n,o){A[0]=e,Q(S,A,t,n,o);const r=S[0];return S.length=A.length=0,r}function B(e,t,n){if((0,s.Wi)(e))return null;const r=new u.Z;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),(0,l.wp)(e)?j(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(r,e):(0,l.oU)(e)?U(r,e,t,n):(0,l.l9)(e)?L(r,e,h(t,n)):(0,l.aW)(e)?_(r,e,h(t,n)):void a.error("convertFromGeometry:unknown-geometry",new o.Z(`Unable to parse unknown geometry type '${e}'`))}function H(e,t,n,r){const l=e&&("coords"in e?e:e.geometry);if((0,s.Wi)(l))return null;switch(t){case"esriGeometryPoint":{let e=M;return n&&r?e=P:n?e=N:r&&(e=v),e(l)}case"esriGeometryMultipoint":return C(l,n,r);case"esriGeometryPolyline":return z(l,n,r);case"esriGeometryPolygon":return W(l,n,r);default:return void a.error("convertToGeometry:unknown-geometry",new o.Z(`Unable to parse unknown geometry type '${t}'`))}}function Q(e,t,n,r,l){if(e.length=0,(0,s.Wi)(n))return function(e,t){for(const n of t)e.push({attributes:n.attributes});return e}(e,t);switch(n){case"esriGeometryPoint":return function(e,t,n,o){let r=M;n&&o?r=P:n?r=N:o&&(r=v);for(const l of t){const{geometry:t,attributes:n}=l,o=(0,s.pC)(t)?r(t):null;e.push({attributes:n,geometry:o})}return e}(e,t,r,l);case"esriGeometryMultipoint":return function(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let l;t&&(l=C(t,n,o)),e.push({attributes:s,geometry:l})}return e}(e,t,r,l);case"esriGeometryPolyline":return function(e,t,n,o){for(const r of t){const{geometry:t,attributes:l}=r;let i;(0,s.pC)(t)&&(i=z(t,n,o)),e.push({attributes:l,geometry:i})}return e}(e,t,r,l);case"esriGeometryPolygon":return function(e,t,n,o){for(const r of t){const{geometry:t,attributes:l,centroid:i}=r;let c;if((0,s.pC)(t)&&(c=W(t,n,o)),(0,s.pC)(i)){const t=M(i);e.push({attributes:l,centroid:t,geometry:c})}else e.push({attributes:l,geometry:c})}return e}(e,t,r,l);default:a.error("convertToFeatureSet:unknown-geometry",new o.Z(`Unable to parse unknown geometry type '${n}'`))}return e}function D(e){const{objectIdFieldName:t,spatialReference:n,transform:o,fields:r,hasM:s,hasZ:l,features:i,geometryType:c,exceededTransferLimit:u,uniqueIdField:h,queryGeometry:a,queryGeometryType:g}=e,d={features:Q([],i,c,l,s),fields:r,geometryType:c,objectIdFieldName:t,spatialReference:n,uniqueIdField:h,queryGeometry:H(a,g,!1,!1)};return o&&(d.transform=o),u&&(d.exceededTransferLimit=u),s&&(d.hasM=s),l&&(d.hasZ=l),d}function K(e,t){const n=new c.Z,{hasM:r,hasZ:s,features:l,objectIdFieldName:i,spatialReference:u,geometryType:h,exceededTransferLimit:g,transform:d,fields:f}=e;return f&&(n.fields=f),n.geometryType=h,n.objectIdFieldName=i||t,n.spatialReference=u,n.objectIdFieldName?(l&&V(n.features,l,h,s,r,n.objectIdFieldName),g&&(n.exceededTransferLimit=g),r&&(n.hasM=r),s&&(n.hasZ=s),d&&(n.transform=d),n):(a.error(new o.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function ee(e){const{transform:t,features:n,hasM:o,hasZ:r}=e;if(!t)return e;for(const l of n)(0,s.pC)(l.geometry)&&ie(l.geometry,l.geometry,o,r,t),(0,s.pC)(l.centroid)&&ie(l.centroid,l.centroid,o,r,t);return e.transform=null,e}function te(e,t){const{geometryType:n,features:o,hasM:r,hasZ:s}=t;if(!e)return t;for(let l=0;l<o.length;l++){const t=o[l],i=t.weakClone();i.geometry=new u.Z,ne(i.geometry,t.geometry,r,s,n,e),t.centroid&&(i.centroid=new u.Z,ne(i.centroid,t.centroid,r,s,"esriGeometryPoint",e)),o[l]=i}return t.transform=e,t}function ne(e,t,n,o,r,l){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:o;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),(0,s.Wi)(t)||!t.coords.length)return null;const u=g[r],{coords:a,lengths:d}=t,f=h(n,o),m=h(n&&i,o&&c),y=p(n,o,i,c);if(!d.length)return y(e.coords,a,0,0,b(l,a[0]),I(l,a[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=f,e;let w,Z,G,M,T=0,N=0,F=N;for(const s of d){if(s<u)continue;let t=0;N=F,G=w=b(l,a[T]),M=Z=I(l,a[T+1]),y(e.coords,a,N,T,G,M),t++,T+=f,N+=m;for(let n=1;n<s;n++,T+=f)G=b(l,a[T]),M=I(l,a[T+1]),G===w&&M===Z||(y(e.coords,a,N,T,G-w,M-Z),N+=m,t++,w=G,Z=M);t>=u&&(e.lengths.push(t),F=N)}return e.coords.length=F,e.coords.length?e:null}function oe(e,t,n,o,r,s){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:o;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const c=g[r],{coords:u,lengths:a}=t,d=h(n,o),f=h(n&&l,o&&i),m=p(n,o,l,i);if(!a.length)return m(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=d,e;let y=0;const b=s*s;for(const h of a){if(h<c){y+=h*d;continue}const t=e.coords.length/f,n=y,o=y+(h-1)*d;m(e.coords,u,e.coords.length,n,u[n],u[n+1]),se(e.coords,u,d,b,m,n,o),m(e.coords,u,e.coords.length,o,u[o],u[o+1]);const r=e.coords.length/f-t;r>=c?e.lengths.push(r):e.coords.length=t*f,y+=h*d}return e.coords.length?e:null}function re(e,t,n,o){const r=e[t],s=e[t+1],l=e[n],i=e[n+1],c=e[o],u=e[o+1];let h=l,a=i,g=c-h,d=u-a;if(0!==g||0!==d){const e=((r-h)*g+(s-a)*d)/(g*g+d*d);e>1?(h=c,a=u):e>0&&(h+=g*e,a+=d*e)}return g=r-h,d=s-a,g*g+d*d}function se(e,t,n,o,r,s,l){let i,c=o,u=0;for(let h=s+n;h<l;h+=n)i=re(t,h,s,l),i>c&&(u=h,c=i);c>o&&(u-s>n&&se(e,t,n,o,r,s,u),r(e,t,e.length,u,t[u],t[u+1]),l-u>n&&se(e,t,n,o,r,u,l))}function le(e,t,n,o){if((0,s.Wi)(t)||!t.coords||!t.coords.length)return null;const r=h(n,o);let l=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=r){const n=e[t],o=e[t+1];l=Math.min(l,n),c=Math.max(c,n),i=Math.min(i,o),u=Math.max(u,o)}}return e[0]=l,e[1]=i,e[2]=c,e[3]=u,e}function ie(e,t,n,o,r){const{coords:s,lengths:l}=t,i=n?o?y:f:o?f:d,c=h(n,o);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!l.length)return i(e.coords,s,0,0,w(r,s[0]),Z(r,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=c),e;const[u,a]=r.scale;let g=0;for(let h=0;h<l.length;h++){const t=l[h];e.lengths[h]=t;let n=w(r,s[g]),o=Z(r,s[g+1]);i(e.coords,s,g,g,n,o),g+=c;for(let r=1;r<t;r++,g+=c)n+=s[g]*u,o-=s[g+1]*a,i(e.coords,s,g,g,n,o)}return e!==t&&(e.lengths.length=l.length,e.coords.length=s.length),e}function ce(e,t,n,o,r,s){const l=h(n,o),i=p(n,o,r,s),c=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let u=0;u<c.length;u+=l)i(e.coords,c,e.coords.length,u,c[u],c[u+1]);return e}function ue(e,t,n,o){let r=0,s=e[o*t],l=e[o*(t+1)];for(let i=1;i<n;i++){const n=s+e[o*(t+i)],c=l+e[o*(t+i)+1],u=(n-s)*(c+l);s=n,l=c,r+=u}return.5*r}function he(e,t){const{coords:n,lengths:o}=e;let r=0,s=0;for(let l=0;l<o.length;l++)s+=ue(n,r,o[l],t),r+=l;return Math.abs(s)}function ae(e,t){if((0,s.Wi)(e))return null;const n=e.clone(),o=e.coords,r=e.lengths;let l=0;for(let s=0;s<r.length;s++){const e=r[s];let i=o[t*l],c=o[t*l+1];for(let r=1;r<e;r++){const e=i+o[t*(l+r)],s=c+o[t*(l+r)+1];n.coords[t*(l+r)]=e,n.coords[t*(l+r)+1]=s,i=e,c=s}l+=e}return n}}}]);
//# sourceMappingURL=3406.30b19eda.chunk.js.map