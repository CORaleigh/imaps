{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/contains.js","../node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js","../node_modules/@arcgis/core/geometry/support/intersects.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/support/PromiseQueue.js","../node_modules/@arcgis/core/views/support/Scheduler.js","../node_modules/@arcgis/core/views/support/debugFlags.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/chunks/quickselect.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js"],"names":["n","t","o","r","c","u","f","coords","s","lengths","i","l","d","e","g","R","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","S","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","v","y","m","Promise","resolve","a","length","p","then","bind","spatialReference","async","P","spatialRel","geometry","query","j","outSR","I","rings","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","centroid","hasZ","hasM","minX","minY","maxX","maxY","constructor","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","clear","load","filter","has","delete","get","remove","forEachInBounds","search","invalidateIndex","set","push","super","arguments","_tasks","running","destroy","cancelAll","runTask","done","_process","madeProgress","unshift","shift","signal","abortCallback","reject","callback","prototype","A","getLogger","L","RESOURCE_CONTROLLER","SLIDE","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","OVERLAY","STAGE","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","LABELER","FEATURE_QUERY_ENGINE","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","SNAPPING","SHADOW_ACCUMULATOR","CLOUDS_GENERATOR","TEST_PRIO","b","k","N","ANIMATING","INTERACTING","IDLE","O","U","F","D","w","_","updating","_microTaskQueued","performanceInfo","total","tasks","_frameTaskTimes","_budget","_state","h","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","M","_forceTask","_debug","_debugHandle","E","SCHEDULER_LOG_SLOW_TASKS","nowFunc","Object","keys","_test","state","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","budget","usedBudget","setBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","frameTaskTimes","resetRuntimes","_resetRuntimes","getRunning","_getRunning","toArray","activate","queueMicrotask","_schedule","frame","registerTask","registerIdleStateCallbacks","idleBegin","idleEnd","_removeIdleStateCallbacks","now","forAll","updateBudget","frameDuration","Math","max","elapsedFrameTime","reset","_updateLoad","_runIdle","_runInteracting","_runAnimating","elapsed","stopFrame","removeUnordered","removeTask","name","setPriority","some","SCHEDULED","needsUpdate","schedulePriority","READY","WAITING","runtime","_run","reduce","filterInPlace","basePriority","_startFrameTaskTimes","pop","resetProgress","task","error","priority","console","log","remaining","_recordFrameTaskTimes","record","test","Scheduler","_scheduler","_basePriority","_queue","_handles","add","T","normalizeCtorArgs","processQueue","G","schedule","Q","reschedule","constructOnly","readOnly","_begin","_didWork","_enabled","run","enabled","hasProgressed","Budget","performance","Number","MAX_SAFE_INTEGER","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","exports","exp","sqrt","floor","min","x","Z","Set","J","V","capabilities","geometryType","objectIdField","definitionExpression","featureStore","aggregateAdapter","_changeHandle","events","on","clearCache","timeInfo","cacheSpatialQueries","_geometryQueryCache","fieldsIndex","q","fields","scheduler","_frameTask","featureAdapter","fullExtent","fullBounds","xmin","ymin","xmax","ymax","timeExtent","_timeExtent","_allItems","_reschedule","_checkQuerySupport","_executeGeometryQuery","executeAggregateIdsQuery","executeObjectIdsQuery","executeTimeQuery","executeAttributesQuery","createQueryResponse","returnGeometry","returnCentroid","createQueryResponseForCount","count","extent","W","forEachBounds","items","$","isFinite","zmin","zmax","executeQueryForIdSet","from","point","distance","types","z","NONE","candidates","_searchFeatures","_getQueryBBoxes","toJSON","createSnappingResponse","trackIdField","filterLatest","field","normalizationField","valueExpression","_getQueryEngineResultForStats","createSummaryStatisticsResponse","createUniqueValuesResponse","createClassBreaksResponse","createHistogramResponse","_getAll","featureSpatialReference","JSON","stringify","originalFilterGeometry","spatialRelationship","outSpatialReference","project","put","B","_runSpatialFilter","_canExecuteSoloPass","C","map","geometryPrecision","multipatchOption","pixelSize","relationParam","text","outStatistics","groupByFieldsForStatistics","having","orderByFields","all","_checkAttributesQuerySupport","_checkStatisticsParamsSupport","arcadeUtils","extractFieldNames","params","_checkStatisticsQuerySupport","outFields","returnDistinctValues","outStatisticFieldName","toLowerCase","Boolean","indexOf","split","where","every","statisticType","onStatisticField","definition","statisticParameters","_checkStatisticsSupport","geometryInfo","_boundsStore","_featuresById","_markedIds","numFeatures","storeStatistics","featureCount","vertexCount","_add","_emitChanged","addMany","removeById","_remove","removeManyById","getFeature","startMarkingUsedFeatures","sweep","emit","feature","displayId","onFeatureAdd","onFeatureRemove","compareMinX","compareMinY","_toBBox","_maxEntries","_minEntries","ceil","_initFormat","prune","X","Y","_all","data","children","leaf","collides","insert","_build","slice","height","_splitRoot","_insert","indexHint","splice","_condense","fromJSON","pushArray","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","_allDistMargin","sort","Function","join","deallocator"],"mappings":"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","file":"static/js/16.f2f0d3e4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{extentContainsPoint as r,extentContainsMultipoint as t}from\"../../../geometry/support/contains.js\";import{getExtentIntersector as i}from\"../../../geometry/support/intersects.js\";import{isPolygon as s,isExtent as o,getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{isValid as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{polygonContainsPoint as a,polygonContainsMultipoint as p}from\"../contains.js\";import{convertFromPolygon as m}from\"../featureConversionUtils.js\";import u from\"../OptimizedGeometry.js\";import{checkProjectionSupport as y}from\"./projectionSupport.js\";import{getGeometry as f}from\"./utils.js\";const c=\"feature-store:unsupported-query\",R={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return!0===S.spatialRelationship[e]}function g(e){return!0===S.queryGeometry[n(e)]}function j(e){return!0===S.layerGeometry[e]}function h(){return import(\"../../../geometry/geometryEngineJSON.js\")}function v(e,n,l,y,c){if(s(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=m(new u,n,!1,!1);return Promise.resolve((r=>a(e,!1,!1,r)))}if(s(n)&&\"esriGeometryMultipoint\"===l){const r=m(new u,n,!1,!1);if(\"esriSpatialRelContains\"===e)return Promise.resolve((e=>p(r,!1,!1,e,y,c)))}if(o(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Promise.resolve((e=>r(n,f(l,y,c,e))));if(o(n)&&\"esriGeometryMultipoint\"===l&&\"esriSpatialRelContains\"===e)return Promise.resolve((e=>t(n,f(l,y,c,e))));if(o(n)&&\"esriSpatialRelIntersects\"===e){const e=i(l);return Promise.resolve((r=>e(n,f(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t(f(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new e(c,\"Unsupported query spatial relationship\",{query:r});if(l(o.spatialReference)&&l(i)){if(!g(o))throw new e(c,\"Unsupported query geometry type\",{query:r});if(!j(t))throw new e(c,\"Unsupported layer geometry type\",{query:r});if(r.outSR)return y(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if(o(e))return!0;if(s(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}export{I as canQueryWithRBush,P as checkSpatialQuerySupport,v as getSpatialQueryOperator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{extentIntersectsExtent as e,getFeatureExtentIntersector as t}from\"./intersectsBase.js\";export{extentIntersectsExtent,extentIntersectsMultipoint,extentIntersectsPoint,extentIntersectsPolygon,extentIntersectsPolyline,getFeatureExtentIntersector,isSelfIntersecting,segmentIntersects}from\"./intersectsBase.js\";function n(n){return\"mesh\"===n?e:t(n)}export{n as getExtentIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getCentroidOptimizedGeometry as e}from\"../centroid.js\";import{OptimizedFeature as r}from\"../OptimizedFeature.js\";import o from\"../OptimizedGeometry.js\";const i={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new r(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(r,i)=>(t(r.centroid)&&(r.centroid=e(new o,r.geometry,i.hasZ,i.hasM)),r.centroid)};export{i as default,i as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d)}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{e as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{isAborted as t,createAbortError as e,isPromiseLike as o}from\"../../core/promiseUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(s){for(;!s.done&&this._process(s);)s.madeProgress()}push(s,r,t){return this.running=!0,new Promise(((e,o)=>this._tasks.push(new a(e,o,s,r,t))))}unshift(s,r,t){return this.running=!0,new Promise(((e,o)=>this._tasks.unshift(new a(e,o,s,r,t))))}_process(s){if(0===this._tasks.length)return!1;const r=this._tasks.shift();try{const c=t(r.signal);if(c&&!r.abortCallback)r.reject(e());else{const t=c?r.abortCallback(e()):r.callback(s);o(t)?t.then(r.resolve,r.reject):r.resolve(t)}}catch(c){r.reject(c)}return this.running=this._tasks.length>0,!0}cancelAll(){const s=e();for(const r of this._tasks)if(r.abortCallback){const t=r.abortCallback(s);r.resolve(t)}else r.reject(s);this._tasks.length=0,this.running=!1}};s([c()],i.prototype,\"running\",void 0),i=s([n(\"esri.layers.support.PromiseQueue\")],i);class a{constructor(s,r,t,e,o){this.resolve=s,this.reject=r,this.callback=t,this.signal=e,this.abortCallback=o}}export{i as PromiseQueue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import s from\"../../core/Handles.js\";import r from\"../../core/Logger.js\";import{unwrapOr as i,removeMaybe as a,isNone as u,isSome as o}from\"../../core/maybe.js\";import n from\"../../core/PerformanceSampler.js\";import h from\"../../core/PooledArray.js\";import{isAborted as _,createAbortError as d,when as l}from\"../../core/promiseUtils.js\";import{watch as E,initial as c,when as T}from\"../../core/reactiveUtils.js\";import{Milliseconds as m}from\"../../core/time.js\";import{property as I}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{PromiseQueue as p}from\"../../layers/support/PromiseQueue.js\";import R from\"./debugFlags.js\";const A=r.getLogger(\"esri.views.support.Scheduler\");function f(e){return new D.Scheduler({nowFunc:e})}var L;!function(e){e.RESOURCE_CONTROLLER=\"schedule\",e.SLIDE=\"slide\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.OVERLAY=\"overlay\",e.STAGE=\"stage\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.LABELER=\"labeler\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e.SNAPPING=\"snapping\",e.SHADOW_ACCUMULATOR=\"shadow accumulator\",e.CLOUDS_GENERATOR=\"cloud generator\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(L||(L={}));const S=0,b=new Map([[L.RESOURCE_CONTROLLER,S],[L.SLIDE,S],[L.STREAM_DATA_LOADER,S],[L.ELEVATION_QUERY,S],[L.TERRAIN_SURFACE,1],[L.SURFACE_GEOMETRY_UPDATES,1],[L.GRAPHICS_CORE,2],[L.I3S_CONTROLLER,2],[L.POINT_CLOUD_LAYER,2],[L.FEATURE_TILE_FETCHER,2],[L.OVERLAY,4],[L.STAGE,4],[L.GRAPHICS_DECONFLICTOR,4],[L.FILTER_VISIBILITY,4],[L.SCALE_VISIBILITY,4],[L.FRUSTUM_VISIBILITY,4],[L.POINT_OF_INTEREST_FREQUENT,6],[L.POINT_OF_INTEREST_INFREQUENT,30],[L.LABELER,8],[L.FEATURE_QUERY_ENGINE,8],[L.FEATURE_TILE_TREE,16],[L.FEATURE_TILE_TREE_ACTIVE,S],[L.ELEVATION_ALIGNMENT,12],[L.TEXT_TEXTURE_ATLAS,12],[L.CLOUDS_GENERATOR,12],[L.TEXTURE_UNLOAD,12],[L.LINE_OF_SIGHT_TOOL,16],[L.LINE_OF_SIGHT_TOOL_INTERACTIVE,S],[L.SNAPPING,S],[L.SHADOW_ACCUMULATOR,30]]);function k(e){return b.has(e)?b.get(e):\"number\"==typeof e?e:1}var N;!function(e){e[e.ANIMATING=0]=\"ANIMATING\",e[e.INTERACTING=1]=\"INTERACTING\",e[e.IDLE=2]=\"IDLE\"}(N||(N={}));const O=m(6.5),U=m(1),P=m(30),F=m(1e3/30),y=m(100),C=.9;var D,w;!function(r){let _=class extends t{constructor(e){super(e),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new n(\"total\"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=N.INTERACTING,this._tasks=new h,this._runQueue=new h,this._load=0,this._idleStateCallbacks=new h,this._idleUpdatesStartFired=!1,this._maxReschedule=M,this._forceTask=!1,this._debug=!1,this._debugHandle=E((()=>R.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),c),this._budget=new l(e.nowFunc);for(const r of Object.keys(L))this.performanceInfo.tasks.set(L[r],new n(L[r]));let t;const s=this;this._test={get state(){return i(t,s._state)},set state(e){t=e},FRAME_SAFETY_BUDGET:O,INTERACTING_BUDGET:F,IDLE_BUDGET:y,get budget(){return s._budget.budget},usedBudget:0,setBudget:e=>s._budget=e,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),a(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=M,this._schedule(),this.frame()))})))}registerTask(e,t){const s=k(e),r=new d(this,e,t,s);return this._tasks.push(r),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new n(e)),r}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),this.state===N.IDLE&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),r._state===N.IDLE&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get now(){return this.nowFunc()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==N.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return u(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=O,s=e.frameDuration,r=U;switch(this.state){case N.IDLE:t=m(0),s=m(Math.max(y,e.frameDuration)),r=P;break;case N.INTERACTING:s=m(Math.max(F,e.frameDuration));case N.ANIMATING:}return s=m(s-e.elapsedFrameTime-t),this.state!==N.IDLE&&s<U&&!this._forceTask?(this._forceTask=!0,!1):(s=m(Math.max(s,r)),this._budget.reset(s,this.state),this._maxReschedule=M,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case N.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case N.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(m(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return w.SCHEDULED;let t=w.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=w.READY:t!==w.READY&&(t=w.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*C+e*(1-C)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===S&&e.needsUpdate&&!this._runQueue.some((t=>t===e))&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.basePriority!==S)if(e=!0,t=Math.max(t,s.basePriority),1===s.schedulePriority)s.schedulePriority=0,this._runQueue.push(s);else--s.schedulePriority})),!e)return this.updating=!1,!1;this._maxReschedule===M&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(t){A.error(`Exception in task \"${r.name}\"`,t)}r.schedulePriority=r.basePriority;const i=this._budget.now()-s;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",r.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return this.updating=this._tasks.some((e=>e.needsUpdate)),void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this.updating=this._tasks.some((e=>e.needsUpdate)),this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(L))this._frameTaskTimes.set(L[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).record(e))),this.performanceInfo.total.record(e)}get test(){return this._test}};e([I()],_.prototype,\"updating\",void 0),e([I()],_.prototype,\"nowFunc\",void 0),_=e([g(\"esri.views.support.Scheduler\")],_),r.Scheduler=_;let d=class extends t{constructor(e,t,r,i){super({}),this._scheduler=e,this.name=t,this._basePriority=i,this.runtime=0,this._queue=new p,this._handles=new s,this.schedulePriority=this._basePriority,this.task=o(r)?r:this._queue,this._handles.add(T((()=>this.task.running),(()=>e.activate())))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(G),this._scheduler.removeTask(this),this.schedule=Q.schedule,this.reschedule=Q.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){this.name=e;const t=k(e);this._basePriority!==S&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,s){return this._queue.push(e,t,s)}reschedule(e,t,s){return this._queue.unshift(e,t,s)}processQueue(e){this._queue.runTask(e)}};e([I({constructOnly:!0})],d.prototype,\"task\",void 0),e([I({readOnly:!0})],d.prototype,\"updating\",null),d=e([g(\"esri.views.support.SchedulerTask\")],d);class l{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=N.IDLE,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}r.Budget=l}(D||(D={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(w||(w={}));const G=(()=>{const e=new D.Budget((()=>performance.now()));return e.enabled=!1,e})();class v{remove(){}processQueue(){}schedule(e,t,s){try{if(_(t)){const e=d();return s?Promise.resolve(s(e)):Promise.reject(e)}return l(e(G))}catch(r){return Promise.reject(r)}}reschedule(e,t,s){return this.schedule(e,t,s)}}const Q=new v,M=Number.MAX_SAFE_INTEGER;export{Q as ImmediateTask,N as State,L as TaskPriority,w as TaskState,k as getTaskPriority,f as newScheduler,G as noBudget,b as taskPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};r([s()],t.prototype,\"SCHEDULER_LOG_SLOW_TASKS\",void 0),r([s()],t.prototype,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",void 0),t=r([e(\"esri.views.support.DebugFlags\")],t);const p=new t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar t,o,r,n={exports:{}};t=n,o=function(){function t(t,r,a,f,e){o(t,r,a||0,f||t.length-1,e||n)}function o(t,n,a,f,e){for(;f>a;){if(f-a>600){var h=f-a+1,i=n-a+1,u=Math.log(h),M=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*M*(h-M)/h)*(i-h/2<0?-1:1);o(t,n,Math.max(a,Math.floor(n-i*M/h+c)),Math.min(f,Math.floor(n+(h-i)*M/h+c)),e)}var s=t[n],x=a,p=f;for(r(t,a,n),e(t[f],s)>0&&r(t,a,f);x<p;){for(r(t,x,p),x++,p--;e(t[x],s)<0;)x++;for(;e(t[p],s)>0;)p--}0===e(t[a],s)?r(t,a,p):r(t,++p,f),p<=n&&(a=p+1),n<=p&&(f=p-1)}}function r(t,o,r){var n=t[o];t[o]=t[r],t[r]=n}function n(t,o){return t<o?-1:t>o?1:0}return t},void 0!==(r=o())&&(t.exports=r);const a=n.exports;export{a as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{clone as t}from\"../../../core/lang.js\";import{removeMaybe as i,destroyMaybe as s,isNone as r,isSome as a,isUndefined as n}from\"../../../core/maybe.js\";import{MemCacheStorage as u,MemCache as o}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as c}from\"../../../core/unitUtils.js\";import{create as h,set as l,NEGATIVE_INFINITY as p,expandWithAABB as d}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as y,create as m}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as f}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as x,isExtent as _,isPolygon as g}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as w}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as Q}from\"../../../geometry/support/spatialReferenceUtils.js\";import{validateFields as R,validateWhere as F,validateHaving as I,hasInvalidFieldType as E}from\"./attributeSupport.js\";import{project as j,checkProjectionSupport as b}from\"./projectionSupport.js\";import{queryCapabilities as k}from\"./QueryEngineCapabilities.js\";import A,{SnappingTypes as z}from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as B,canQueryWithRBush as C,checkSpatialQuerySupport as T}from\"./spatialQuerySupport.js\";import{getTimeExtent as O}from\"./timeSupport.js\";import{cleanFromGeometryEngine as v,normalizeQuery as G,QUERY_ENGINE_EMPTY_RESULT as P}from\"./utils.js\";import q from\"../../support/FieldsIndex.js\";import{loadArcade as M}from\"../../../support/arcadeOnDemand.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";function N(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const Z=\"feature-store:unsupported-query\";class H{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const D=new Set,J=new u(2e6);let L=0;class V{constructor(e){this.capabilities={query:k},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new o(L+++\"$$\",J)),this.fieldsIndex=new q(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=i(this._frameTask),this.clearCache(),s(this._geometryQueryCache),this._changeHandle=i(this._changeHandle),s(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:v(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=O(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},i){let s,r=t(e);try{r=await this._schedule((()=>G(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==P)throw a;s=new A([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(e={},i){let s=t(e);s.returnGeometry=!1,s.returnCentroid=!1,s.outSR=null;try{s=await this._schedule((()=>G(s,this.definitionExpression,this.spatialReference)),i),s=await this._reschedule((()=>this._checkQuerySupport(s)),i);let e=await this._reschedule((()=>this._executeGeometryQuery(s,i)),i);return e=await this._reschedule((()=>e.executeAggregateIdsQuery(s)),i),e=await this._reschedule((()=>e.executeObjectIdsQuery(s)),i),e=await this._reschedule((()=>e.executeTimeQuery(s)),i),e=await this._reschedule((()=>e.executeAttributesQuery(s)),i),e.createQueryResponseForCount(s)}catch(r){if(r!==P)throw r;return 0}}async executeQueryForExtent(e={},i){let s,r=t(e);const a=r.outSR;try{r=await this._schedule((()=>G(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};l(W,p),this.featureStore.forEachBounds(s.items,(e=>d(W,e)),$);const t={xmin:W[0],ymin:W[1],xmax:W[3],ymax:W[4],spatialReference:v(this.spatialReference)};this.hasZ&&isFinite(W[2])&&isFinite(W[5])&&(t.zmin=W[2],t.zmax=W[5]);const n=j(t,s.spatialReference,a);if(n.spatialReference=v(a||this.spatialReference),n.xmax-n.xmin==0){const e=c(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=c(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=c(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:e,extent:n}}catch(n){if(n===P)return{count:0,extent:null};throw n}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e={},i){let s,r=t(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>G(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===P)return new Set;throw a}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:a}=e;if(a===z.NONE)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!S(i.spatialReference,this.spatialReference);u&&await b(i.spatialReference,this.spatialReference);const o=\"number\"==typeof s?s:s.x,c=\"number\"==typeof s?s:s.y,h={xmin:i.x-o,xmax:i.x+o,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=u?j(h,this.spatialReference):h;if(!l)return{candidates:[]};const p=(await w(x(i),null,{signal:t}))[0],d=(await w(x(l),null,{signal:t}))[0];if(r(p)||r(d))return{candidates:[]};let y=new A(this._searchFeatures(this._getQueryBBoxes(d.toJSON())),null,this);y=await this._reschedule((()=>y.executeObjectIdsQuery(n)),t),y=await this._reschedule((()=>y.executeTimeQuery(n)),t),y=await this._reschedule((()=>y.executeAttributesQuery(n)),t);const m=p.toJSON(),f=u?j(m,this.spatialReference):m,_=u?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return y.createSnappingResponse({...e,point:f,distance:_},i.spatialReference)}async executeQueryForLatestObservations(i={},s){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new e(Z,\"Missing timeInfo or timeInfo.trackIdField\",{query:i,timeInfo:this.timeInfo});let r,a=t(i);try{a=await this._schedule((()=>G(a,this.definitionExpression,this.spatialReference)),s),a=await this._reschedule((()=>this._checkQuerySupport(a)),s),r=await this._reschedule((()=>this._executeGeometryQuery(a,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),s),r=await this._reschedule((()=>r.executeTimeQuery(a)),s),r=await this._reschedule((()=>r.executeAttributesQuery(a)),s),r=await this._reschedule((()=>r.filterLatest()),s)}catch(n){if(n!==P)throw n;r=new A([],null,this)}return r.createQueryResponse(a)}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(e,t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(e,t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(e,t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(e,t)}async _schedule(e,t){return a(this._frameTask)?this._frameTask.schedule(e,t):e(U)}async _reschedule(e,t){return a(this._frameTask)?this._frameTask.reschedule(e,t):e(U)}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new A(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:s,spatialRel:r,returnGeometry:a,returnCentroid:u}=e,o=this.featureStore.featureSpatialReference,c=i&&o&&o!==i.spatialReference?j(i,o):i,h=a||u,l=Q(s)&&!S(this.spatialReference,s),p=this._geometryQueryCache?l&&h?JSON.stringify({originalFilterGeometry:i,spatialRelationship:r,outSpatialReference:s}):JSON.stringify({originalFilterGeometry:i,spatialRelationship:r}):null;if(p){const e=this._geometryQueryCache.get(p);if(!n(e))return e}const d=async e=>{if(l&&h){const t=await e.project(s);return p&&this._geometryQueryCache.put(p,t,t.size||1),t}return p&&this._geometryQueryCache.put(p,e,e.size||1),e};if(!c)return d(this._getAll());const y=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===r){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return d(this._getAll());let s,a;const n=new Set;for(const t of e)n.add(y.getObjectId(t));await this._reschedule((()=>{let e=0;s=new Array(n.size),this.featureStore.forEach((t=>s[e++]=t)),a=n}),t);const u=await this._reschedule((async()=>{const e=await B(r,c,this.geometryType,this.hasZ,this.hasM),n=t=>!a.has(y.getObjectId(t))||e(y.getGeometry(t));return new A(await this._runSpatialFilter(s,n,t),i,this)}),t);return d(u)}const m=this._searchFeatures(this._getQueryBBoxes(i));if(!m.length){const e=new A([],i,this);return p&&this._geometryQueryCache.put(p,e,e.size||1),e}if(this._canExecuteSoloPass(c,e))return d(new A(m,i,this));const f=await B(r,c,this.geometryType,this.hasZ,this.hasM),x=await this._runSpatialFilter(m,(e=>f(y.getGeometry(e))),t);return d(new A(x,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(r(this._frameTask))return e.filter((e=>t(e)));let s=0;const a=new Array,n=async r=>{for(;s<e.length;){const u=e[s++];t(u)&&(a.push(u),r.madeProgress()),r.done&&await this._reschedule((e=>n(e)),i)}};return this._reschedule((e=>n(e)),i).then((()=>a))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return C(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s||\"esriSpatialRelWithin\"===s))}_getQueryBBoxes(e){if(C(e)){if(_(e))return[y(e.xmin,e.ymin,e.xmax,e.ymax)];if(g(e))return e.rings.map((e=>y(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[f(m(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{D.add(e)}));const t=new Array(D.size);let i=0;return D.forEach((e=>t[i++]=e)),D.clear(),t}async _checkStatisticsSupport(t,i){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(Z,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsParamsSupport(i),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}async _checkStatisticsParamsSupport(t){let i=[];if(t.valueExpression){const{arcadeUtils:e}=await M();i=e.extractFieldNames(t.valueExpression)}if(t.field&&i.push(t.field),t.normalizationField&&i.push(t.normalizationField),!i.length)throw new e(Z,\"params should have at least a field or valueExpression\",{params:t});R(this.fieldsIndex,i,\"params contains missing fields\")}async _checkQuerySupport(t){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(Z,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsQuerySupport(t),T(t,this.geometryType,this.spatialReference),b(this.spatialReference,t.outSR)]).then((()=>t))}_checkAttributesQuerySupport(t){const{outFields:i,orderByFields:s,returnDistinctValues:r,outStatistics:a}=t,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));R(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(i&&i.length>0)R(this.fieldsIndex,i,\"outFields contains missing fields\");else if(r)throw new e(Z,\"outFields should be specified for returnDistinctValues\",{query:t});F(this.fieldsIndex,t.where)}async _checkStatisticsQuerySupport(t){const{outStatistics:i,groupByFieldsForStatistics:s,having:r}=t,a=s&&s.length,n=i&&i.length;if(r){if(!a||!n)throw new e(Z,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:t});I(this.fieldsIndex,r,i)}if(n){if(!N(i))return;const r=i.map((e=>e.onStatisticField)).filter(Boolean);R(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&R(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of i){const{onStatisticField:i,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:i}=s;if(!i)throw new e(Z,\"statisticParamters should be set for percentile type\",{definition:s,query:t})}else if(\"count\"!==r&&i&&E(i,this.fieldsIndex))throw new e(Z,\"outStatistics contains non-numeric fields\",{definition:s,query:t})}}}async _getQueryEngineResultForStats(e={},i,s){let r;e=t(e);try{e=await this._schedule((()=>G(e,this.definitionExpression,this.spatialReference)),s),e=await this._reschedule((()=>this._checkStatisticsSupport(e,i)),s),r=await this._reschedule((()=>this._executeGeometryQuery(e,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(e)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(e)),s),r=await this._reschedule((()=>r.executeTimeQuery(e)),s),r=await this._reschedule((()=>r.executeAttributesQuery(e)),s)}catch(a){if(a!==P)throw a;r=new A([],null,this)}return r}}const $=h(),W=h();export{H as Feature,V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as a,NEGATIVE_INFINITY as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as n}from\"../featureConversionUtils.js\";import{BoundsStore as h}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as u}from\"./optimizedFeatureQueryEngineAdapter.js\";class m{constructor(e){this.geometryInfo=e,this._boundsStore=new h,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=u}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=a(d);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const d=this._featuresById.get(i);let h;if(this._markedIds.add(i),d?(t.displayId=d.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=n(s(h)?h:a(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this._toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),g.prune(),M.prune(),X.prune(),Y.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this._toBBox;if(p(t,n))for(g.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):g.push(h))}n=g.pop()}}collides(t){let i=this.data;const n=this._toBBox;if(!p(t,i))return!1;for(g.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return!0;g.push(s)}}i=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this._toBBox(i);for(X.clear(),Y.clear();s||X.length>0;){var l;if(!s)s=n(X.pop()),h=X.data[X.length-1],a=null!=(l=Y.pop())?l:0,r=!0;if(s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),X.push(s),this._condense(X),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(X.push(s),Y.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(M.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else M.pushArray(n.children);n=null!=(e=M.pop())?e:null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this._toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));_(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);_(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this._toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this._toBBox,s=n?t:e(t);X.clear();const h=this._chooseSubtree(s,this.data,i,X);for(h.children.push(t),o(h,s);i>=0&&X.data[i].children.length>this._maxEntries;)this._split(X,i),i--;this._adjustParentBBoxes(s,X,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this._toBBox),a(o,this._toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this._toBBox),o=r(t,a,n,this._toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this._toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function _(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const g=new e,M=new e,X=new e,Y=new e({deallocator:void 0});class B{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends B{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{B as BBox,h as PooledRBush};\n"],"sourceRoot":""}