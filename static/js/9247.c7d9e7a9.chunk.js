"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[9247],{65905:(e,t,r)=>{r.d(t,{V:()=>l});var n=r(42265),s=(r(76200),r(10064)),i=r(32718),o=r(35995);const a=i.Z.getLogger("esri.assets");function l(e){if(!n.Z.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.Z("assets:path-not-set","config.assetsPath is not set");return(0,o.v_)(n.Z.assetsPath,e)}},27366:(e,t,r)=>{function n(e,t,r,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}r.d(t,{_:()=>n})},85015:(e,t,r)=>{r.d(t,{Z:()=>x});var n=r(83704),s=r(92026),i=r(693),o=r(75505),a=r(33397),l=(r(93169),r(84652)),c=r(32718),u=r(13005),h=r(25265),f=r(39052),d=r(86741),p=r(86927);class g{constructor(e,t,r){this.properties=e,this.propertyName=t,this.metadata=r,this._observers=null,this._accessed=null,this._handles=null,this.flags=d.v.Dirty|(r.nonNullable?d.v.NonNullable:0)|(r.hasOwnProperty("value")?d.v.HasDefaultValue:0)|(void 0===r.get?d.v.DepTrackingInitialized:0)|(void 0===r.dependsOn?d.v.AutoTracked:0)}destroy(){if(this.flags&d.v.Dirty&&this._observers){const e=this._observers.slice();for(const t of e)t.onCommitted()}this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,f.it)(this);const e=this.properties.store,t=this.propertyName,r=this.flags,n=e.get(t);if(r&d.v.Computing)return n;if(~r&d.v.Dirty&&e.has(t))return n;this.flags|=d.v.Computing;const s=this.properties.host;let i;r&d.v.AutoTracked?i=(0,f.LJ)(this,this.metadata.get,s):((0,f.GF)(s,this),i=this.metadata.get.call(s)),e.set(t,i,h.s3.COMPUTED);const o=e.get(t);return o===n?this.flags&=~d.v.Dirty:(0,f.gb)(this.commit,this),this.flags&=~d.v.Computing,o}onObservableAccessed(e){e!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=d.v.DepTrackingInitialized;const e=this._accessed;if(null===e)return;let t=this._handles;null===t&&(t=this._handles=[]);for(let r=0;r<e.length;++r)t.push(e[r].observe(this));e.length=0}observe(e){return null===this._observers&&(this._observers=[]),this._observers.includes(e)||this._observers.push(e),new p.X(this._observers,e)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&d.v.Overriden&&(this.flags|=d.v.Dirty);const e=this._observers;if(null!==e)for(let t=0;t<e.length;++t)e[t].onInvalidated()}commit(){this.flags&=~d.v.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const e=this._observers.slice();for(let t=0;t<e.length;++t)e[t].onCommitted()}_clearObservationHandles(){const e=this._handles;if(null!==e){for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}}class m{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new m;return this._values.forEach(((r,n)=>{e&&e.has(n)||t.set(n,(0,l.d9)(r))})),t}get(e){return this._values.get(e)}originOf(){return h.s3.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}var y=r(23879);function _(e,t,r){return void 0!==e}function v(e,t,r,n){return void 0!==e&&(!(null==r&&e.flags&d.v.NonNullable)||(n.lifecycle,o.F.INITIALIZING,!1))}function b(e){return e&&"function"==typeof e.destroy}c.Z.getLogger("esri.core.accessorSupport.Properties");class w{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=o.F.INITIALIZING,this.store=new m,this._origin=h.s3.USER;const t=this.host.constructor.__accessorMetadata__,r=t.properties;for(const n in r){const e=new g(this,n,r[n]);this.properties.set(n,e)}this.metadatas=r,this._autoDestroy=t.autoDestroy}initialize(){this.lifecycle=o.F.CONSTRUCTING}constructed(){this.lifecycle=o.F.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[e,t]of this.properties){const r=this.internalGet(e);r&&b(r)&&(r.destroy(),~t.flags&d.v.NonNullable&&this._internalSet(t,null)),t.destroy()}else for(const[e,t]of this.properties)t.destroy()}get initialized(){return this.lifecycle!==o.F.INITIALIZING}get(e){const t=this.properties.get(e);if(t.metadata.get)return t.getComputed();(0,f.it)(t);const r=this.store;return r.has(e)?r.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.properties.get(e);if(void 0!==t&&t.flags&d.v.HasDefaultValue)return"defaults"}return(0,h.x3)(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e);if(_(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const r=this.properties.get(e);_(r)&&this._internalSet(r,t)}getDependsInfo(e,t,r){const n=this.properties.get(t);if(!_(n))return"";const s=new Set,i=(0,f.LJ)({onObservableAccessed:e=>s.add(e),onTrackingEnd:()=>{}},(()=>n.metadata.get?.call(e)));let o=`${r}${e.declaredClass.split(".").pop()}.${t}: ${i}\n`;if(0===s.size)return o;r+="  ";for(const a of s){if(!(a instanceof g))continue;const e=a.properties.host,t=a.propertyName,n=(0,y.vw)(e);o+=n?n.getDependsInfo(e,t,r):`${r}${t}: undefined\n`}return o}setAtOrigin(e,t,r){const n=this.properties.get(e);if(_(n))return this._setAtOrigin(n,t,r)}isOverridden(e){const t=this.properties.get(e);return void 0!==t&&!!(t.flags&d.v.Overriden)}clearOverride(e){const t=this.properties.get(e);void 0!==t&&t.flags&d.v.Overriden&&(t.flags&=~d.v.Overriden,t.notifyChange())}override(e,t){const r=this.properties.get(e);if(!v(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:s}=e;if(O.release(e),!r)return;t=s}r.flags|=d.v.Overriden,this._internalSet(r,t)}set(e,t){const r=this.properties.get(e);if(!v(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:s}=e;if(O.release(e),!r)return;t=s}const s=r.metadata.set;s?s.call(this.host,t):this._internalSet(r,t)}setDefaultOrigin(e){this._origin=(0,h.M9)(e)}getDefaultOrigin(){return(0,h.x3)(this._origin)}notifyChange(e){const t=this.properties.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.properties.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.properties.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const r=this.lifecycle!==o.F.INITIALIZING?this._origin:h.s3.DEFAULTS;this._setAtOrigin(e,t,r)}_setAtOrigin(e,t,r){const n=this.store,s=e.propertyName;n.has(s,r)&&(0,l.fS)(t,n.get(s))&&~e.flags&d.v.Overriden&&r===n.originOf(s)||(e.invalidate(),n.set(s,t,r),e.commit(),(0,f.mS)(this.host,e))}_cast(e,t){const r=O.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}const O=new u.Z(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var E,C=r(75366),A=r(3073),T=r(49861),S=r(69912);function j(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const D=Symbol("Accessor-Handles");class x{constructor(){if(this[E]=null,this.constructor===x)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new w(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class i extends s{constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];super(...t),this.inherited=null,n&&n.apply(this,t)}}(0,a.JT)(i.prototype);for(const o in e){const t=e[o];i.prototype[o]="function"==typeof t?function(){const e=this.inherited;let r;this.inherited=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(s.prototype[o])return s.prototype[o].apply(this,t)};try{for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];r=t.apply(this,a)}catch(i){throw this.inherited=e,i}return this.inherited=e,r}:e[o]}for(const o in t){const e=j(t[o]);(0,T.Cb)(e)(i.prototype,o)}return(0,S.j)(r)(i)}postscript(e){const t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||((0,s.yw)(this[D],(e=>{e.forEach((e=>e.remove()))})),this[D]=null,(0,A.BT)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===o.F.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return(0,i.U2)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return(0,C.t)(this,e,t),this}watch(e,t,r){return(0,A.YP)(this,e,t,r)}own(e){let t=this[D];if((0,s.Wi)(t)&&(t=this[D]=new Set),(0,n.TW)(e))for(const r of e)t.add(r);else t.add(e)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}E=D},40281:(e,t,r)=>{r.d(t,{Z:()=>x});var n,s=r(27366),i=r(22213),o=r(91505),a=r(84652),l=r(92026),c=r(13005);!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(n||(n={}));var u,h=r(99346),f=r(49861),d=r(25243),p=r(42017),g=r(69912),m=r(39052),y=r(56885);const _=new c.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),v=()=>{};function b(e){return e?e instanceof D?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function w(e){if(e&&e.length)return e[0]}function O(e,t,r,n){const s=Math.min(e.length-r,t.length-n);let i=0;for(;i<s&&e[r+i]===t[n+i];)i++;return i}function E(e,t,r,n){t&&t.forEach(((t,s,i)=>{e.push(t),E(e,r.call(n,t,s,i),r,n)}))}const C=new Set,A=new Set,T=new Set,S=new Map;let j=0,D=u=class extends o.Z.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new y.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:j++})}static isCollection(e){return null!=e&&e instanceof u}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof u?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,m.it)(this._observable),this._items}set items(e){this._emitBeforeChanges(n.ADD)||(this._splice(0,this.length,b(e)),this._emitAfterChanges(n.ADD))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,r={removed:!1,callback:t};return e.push(r),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=v,r.removed=!0,e.splice(e.indexOf(r),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if((0,m.it)(this._observable),this._emitBeforeChanges(n.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(n.ADD),this}addMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._items.length;if((0,m.it)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(n.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,b(e)),this._emitAfterChanges(n.ADD),this}at(e){if((0,m.it)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,m.it)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(n.REMOVE),e}clone(){return(0,m.it)(this._observable),this._createNewInstance({items:this._items.map(a.d9)})}concat(){(0,m.it)(this._observable);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.map(b);return this._createNewInstance({items:this._items.concat(...n)})}drain(e,t){if((0,m.it)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const r=(0,l.j0)(this._splice(0,this.length)),s=r.length;for(let n=0;n<s;n++)e.call(t,r[n],n,r);this._emitAfterChanges(n.REMOVE)}every(e,t){return(0,m.it)(this._observable),this._items.every(e,t)}filter(e,t){let r;return(0,m.it)(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return(0,m.it)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,m.it)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,m.it)(this._observable);const r=[];return E(r,this,e,t),new u(r)}forEach(e,t){return(0,m.it)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,m.it)(this._observable),this._items[e]}getNextIndex(e){(0,m.it)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,m.it)(this._observable),this._items.includes(e,t)}indexOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,m.it)(this._observable),this._items.indexOf(e,t)}join(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return(0,m.it)(this._observable),this._items.join(e)}lastIndexOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return(0,m.it)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,m.it)(this._observable);const r=this._items.map(e,t);return new u({items:r})}reorder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;(0,m.it)(this._observable);const r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(n.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(n.MOVE)}return e}}pop(){if((0,m.it)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const e=w(this._splice(this.length-1,1));return this._emitAfterChanges(n.REMOVE),e}push(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.it)(this._observable),this._emitBeforeChanges(n.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(n.ADD)),this.length}reduce(e,t){(0,m.it)(this._observable);const r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){(0,m.it)(this._observable);const r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return(0,m.it)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,m.it)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(n.REMOVE))return;const t=w(this._splice(e,1));return this._emitAfterChanges(n.REMOVE),t}removeMany(e){if((0,m.it)(this._observable),!e||!e.length||this._emitBeforeChanges(n.REMOVE))return[];const t=e instanceof u?e.toArray():e,r=this._items,s=[],i=t.length;for(let n=0;n<i;n++){const e=t[n],i=r.indexOf(e);if(i>-1){const e=1+O(t,r,n+1,i+1),o=this._splice(i,e);o&&o.length>0&&s.push.apply(s,o),n+=e-1}}return this._emitAfterChanges(n.REMOVE),s}reverse(){if((0,m.it)(this._observable),this._emitBeforeChanges(n.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(n.MOVE),this}shift(){if((0,m.it)(this._observable),!this.length||this._emitBeforeChanges(n.REMOVE))return;const e=w(this._splice(0,1));return this._emitAfterChanges(n.REMOVE),e}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return(0,m.it)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,m.it)(this._observable),this._items.some(e,t)}sort(e){if((0,m.it)(this._observable),!this.length||this._emitBeforeChanges(n.MOVE))return this;const t=(0,l.j0)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(n.MOVE),this}splice(e,t){(0,m.it)(this._observable);for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];const o=(t?n.REMOVE:0)|(s.length?n.ADD:0);if(this._emitBeforeChanges(o))return[];const a=this._splice(e,t,s)||[];return this._emitAfterChanges(o),a}toArray(){return(0,m.it)(this._observable),this._items.slice()}toJSON(){return(0,m.it)(this._observable),this.toArray()}toLocaleString(){return(0,m.it)(this._observable),this._items.toLocaleString()}toString(){return(0,m.it)(this._observable),this._items.toString()}unshift(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.it)(this._observable),!t.length||this._emitBeforeChanges(n.ADD)||(this._splice(0,0,t),this._emitAfterChanges(n.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,s=this.itemType;let i,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,h.Os)((()=>this._dispatchChange()))),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const t=_.acquire();t.target=this,t.cancellable=!0;for(let r=0,s=o.length;r<s;r++)i=o[r],t.reset(i),this.emit("before-remove",t),t.defaultPrevented&&(o.splice(r,1),n.splice(e,0,i),e+=1,r-=1,s-=1);_.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=_.acquire();e.target=this,e.cancellable=!1;const t=o.length;for(let r=0;r<t;r++)e.reset(o[r]),this.emit("after-remove",e);_.release(e)}}if(r&&r.length){if(s){const e=[];for(const t of r){const r=s.ensureType(t);null==r&&null!=t||e.push(r)}r=e}const t=this.hasEventListener("before-add"),i=this.hasEventListener("after-add"),o=e===this.length;if(t||i){const s=_.acquire();s.target=this,s.cancellable=!0;const a=_.acquire();a.target=this,a.cancellable=!1;for(const l of r)t?(s.reset(l),this.emit("before-add",s),s.defaultPrevented||(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),i&&(a.reset(l),this.emit("after-add",a)))):(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),a.reset(l),this.emit("after-add",a));_.release(a),_.release(s)}else{if(o)for(const e of r)n.push(e);else n.splice(e,0,...r);this._set("length",n.length)}}return(r&&r.length||o&&o.length)&&this._notifyChangeEvent(r,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=_.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,_.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),_.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;C.clear(),A.clear(),T.clear();for(const{added:t,removed:i}of e){if(t)if(0===T.size&&0===A.size)for(const e of t)C.add(e);else for(const e of t)A.has(e)?(T.add(e),A.delete(e)):T.has(e)||C.add(e);if(i)if(0===T.size&&0===C.size)for(const e of i)A.add(e);else for(const e of i)C.has(e)?C.delete(e):(T.delete(e),A.add(e))}const r=i.Z.acquire();C.forEach((e=>{r.push(e)}));const n=i.Z.acquire();A.forEach((e=>{n.push(e)}));const s=this._items,o=t.items,a=i.Z.acquire();if(T.forEach((e=>{o.indexOf(e)!==s.indexOf(e)&&a.push(e)})),t.listeners&&(r.length||n.length||a.length)){const e={target:this,added:r,removed:n,moved:a},s=t.listeners.length;for(let r=0;r<s;r++){const n=t.listeners[r];n.removed||n.callback.call(this,e)}}i.Z.release(r),i.Z.release(n),i.Z.release(a)}C.clear(),A.clear(),T.clear()}};D.ofType=e=>{if(!e)return u;if(S.has(e))return S.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let r=class extends u{};return(0,s._)([(0,p.c)({Type:e,ensureType:"function"==typeof e?(0,d.se)(e):(0,d.N7)(e)})],r.prototype,"itemType",void 0),r=(0,s._)([(0,g.j)(`esri.core.Collection<${t}>`)],r),S.set(e,r),r},(0,s._)([(0,f.Cb)()],D.prototype,"length",void 0),(0,s._)([(0,f.Cb)()],D.prototype,"items",null),D=u=(0,s._)([(0,g.j)("esri.core.Collection")],D);const x=D},91505:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(27366),s=r(85015),i=r(42537),o=r(69912);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;const n=this.target||this;return[...r].forEach((e=>{e.call(n,t)})),r.length>0}on(e,t){if(Array.isArray(e)){const r=e.map((e=>this.on(e,t)));return(0,i.AL)(r)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(e)||[];return r.push(t),this._listenersMap.set(e,r),{remove:()=>{const r=this._listenersMap&&this._listenersMap.get(e)||[],n=r.indexOf(t);n>=0&&r.splice(n,1)}}}once(e,t){const r=this.on(e,(e=>{r.remove(),t.call(null,e)}));return r}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let r=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return r=(0,n._)([(0,o.j)("esri.core.Evented")],r),r};let r=class extends s.Z{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};r=(0,n._)([(0,o.j)("esri.core.Evented")],r),e.EventedAccessor=r}(a||(a={}));const l=a},100:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(27366),s=r(85015),i=r(40281),o=r(92026),a=r(49861),l=r(69912);let c=class extends s.Z{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!i.Z.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||i.Z.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||i.Z.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return(0,o.j0)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};(0,n._)([(0,a.Cb)({readOnly:!0})],c.prototype,"size",null),c=(0,n._)([(0,l.j)("esri.core.Handles")],c);const u=c},77427:(e,t,r)=>{function n(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function s(e,t){for(const[r,n]of e)if(t(n,r))return n;return null}function i(e,t,r){const n=e.get(t);if(void 0!==n)return n;const s=r();return e.set(t,s),s}r.d(t,{fQ:()=>s,oE:()=>n,s1:()=>i})},67426:(e,t,r)=>{r.d(t,{D:()=>f,v:()=>h});var n,s,i=r(27366),o=r(85015),a=r(92026),l=r(66978),c=r(69912);(s=n||(n={}))[s.PENDING=0]="PENDING",s[s.RESOLVED=1]="RESOLVED",s[s.REJECTED=2]="REJECTED";class u{constructor(e){this.instance=e,this._resolver=(0,l.dD)(),this._status=n.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=n.RESOLVED,this._cleanUp()}),(()=>{this._status=n.REJECTED,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===n.RESOLVED}isRejected(){return this._status===n.REJECTED}isFulfilled(){return this._status!==n.PENDING}abort(){this._resolver.reject((0,l.zE)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,l.dD)(),t=[...this._resolvingPromises,(0,a.j0)(e.promise)],r=this._allPromise=Promise.all(t);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==r||(0,l.D_)(e)||this._resolver.reject(e)})),e.resolve()}}const h=e=>{let t=class extends e{constructor(){super(...arguments),this._promiseProps=new u(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,i._)([(0,c.j)("esri.core.Promise")],t),t};let f=class extends(h(o.Z)){};f=(0,i._)([(0,c.j)("esri.core.Promise")],f)},51370:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(44675);class s extends n.Z{constructor(e,t,r){if(super(e,t,r),!(this instanceof s))return new s(e,t,r)}}s.prototype.type="warning"},25265:(e,t,r)=>{r.d(t,{M9:()=>a,Wm:()=>c,kk:()=>o,s3:()=>n,x3:()=>l});var n,s,i=r(92026);(s=n||(n={}))[s.DEFAULTS=0]="DEFAULTS",s[s.COMPUTED=1]="COMPUTED",s[s.SERVICE=2]="SERVICE",s[s.PORTAL_ITEM=3]="PORTAL_ITEM",s[s.WEB_SCENE=4]="WEB_SCENE",s[s.WEB_MAP=5]="WEB_MAP",s[s.USER=6]="USER";const o=n.USER+1;function a(e){switch(e){case"defaults":return n.DEFAULTS;case"service":return n.SERVICE;case"portal-item":return n.PORTAL_ITEM;case"web-scene":return n.WEB_SCENE;case"web-map":return n.WEB_MAP;case"user":return n.USER}}function l(e){switch(e){case n.DEFAULTS:return"defaults";case n.SERVICE:return"service";case n.PORTAL_ITEM:return"portal-item";case n.WEB_SCENE:return"web-scene";case n.WEB_MAP:return"web-map";case n.USER:return"user"}return(0,i.j0)(void 0)}function c(e){return l(e)}},89125:(e,t,r)=>{r.d(t,{p:()=>c});var n=r(25243),s=r(33397);const i=Object.prototype.toString;function o(e){const t="__accessorMetadata__"in e?(0,n.se)(e):e;return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.push(t),"number"==typeof r[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,r)}}function a(e,t,r,n){(0,s.VZ)(e,t).cast=n}function l(e){return(t,r)=>{(0,s.VZ)(t,e).cast=t[r]}}function c(){if(3!==arguments.length||"string"!=typeof(arguments.length<=1?void 0:arguments[1]))return 1===arguments.length&&"[object Function]"===i.call(arguments.length<=0?void 0:arguments[0])?o(arguments.length<=0?void 0:arguments[0]):1===arguments.length&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?l(arguments.length<=0?void 0:arguments[0]):void 0}},49861:(e,t,r)=>{r.d(t,{CJ:()=>c,Cb:()=>l,Eg:()=>h});var n=r(32718),s=r(25243),i=r(693),o=r(33397),a=r(75366);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const l=Object.getOwnPropertyDescriptor(t,r),c=(0,o.VZ)(t,r);l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&n.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const f=e.aliasOf;if(f){const e="string"==typeof f?f:f.source,t="string"==typeof f?null:!0===f.overridable;let n;c.dependsOn=[e],c.get=function(){let t=(0,i.U2)(this,e);if("function"==typeof t){n||(n=e.split(".").slice(0,-1).join("."));const r=(0,i.U2)(this,n);r&&(t=t.bind(r))}return t},c.readOnly||(c.set=t?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(t){(0,a.t)(this,e,t)})}const d=e.type,p=e.types;c.cast||(d?c.cast=u(d):p&&(Array.isArray(p)?c.cast=(0,s.Ls)((0,s.N7)(p[0])):c.cast=(0,s.N7)(p))),e.range&&(c.cast=h(c.cast,e.range)),(0,o.tz)(c,e)}}function c(e,t,r){const n=(0,o.VZ)(e,r);n.json||(n.json={});let s=n.json;return void 0!==t&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function u(e){let t=0,r=e;if((0,s.AY)(e))return(0,s.sY)(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;const n=r;if((0,s.gB)(n))return 0===t?(0,s.i$)(n):(0,s.Iu)((0,s.i$)(n),t);if(1===t)return(0,s.rY)(n);if(t>1)return(0,s.di)(n,t);const i=e;return i.from?i.from:(0,s.se)(i)}function h(e,t){return r=>{let n=+e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}},42017:(e,t,r)=>{function n(e){return(t,r)=>{t[r]=e}}r.d(t,{c:()=>n})},69912:(e,t,r)=>{r.d(t,{j:()=>c});r(93169);var n=r(75505),s=r(33397),i=r(39052),o=r(78113);const a=new Set,l=new Set;function c(e){return t=>{t.prototype.declaredClass=e,h(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!a.has(i.initialize)&&(a.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!l.has(i.destroy)&&(l.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);a.clear(),l.clear();class o extends t{constructor(){if(super(...arguments),this.constructor===o&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),n.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<n.length;e++)n[e].call(this)}}})}this.postscript(...arguments)}}}return o.__accessorMetadata__=(0,s.JT)(t.prototype),o.prototype.declaredClass=e,o}}function u(e,t){return null==t.get?function(){const t=this.__accessor__.properties.get(e);if(void 0===t)return;(0,i.it)(t);const r=this.__accessor__.store;return r.has(e)?r.get(e):t.metadata.value}:function(){const t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}function h(e){const t=e.prototype,r=(0,s.JT)(t).properties,i={};for(const s of Object.getOwnPropertyNames(r)){const e=r[s];(0,o.OM)(e),i[s]={enumerable:!0,configurable:!0,get:u(s,e),set(t){const r=this.__accessor__;if(void 0!==r){if(!Object.isFrozen(this)){if(r.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${s}' of ${this.declaredClass}`);if(r.lifecycle===n.F.CONSTRUCTED&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${s}' of ${this.declaredClass}`);r.set(s,t)}}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,i)}},25243:(e,t,r)=>{r.d(t,{AY:()=>L,Iu:()=>C,Ls:()=>w,N7:()=>j,TJ:()=>m,V5:()=>x,Zs:()=>l,di:()=>A,gB:()=>T,i$:()=>S,q9:()=>c,rY:()=>O,sY:()=>M,se:()=>b,vU:()=>u,z8:()=>D});r(93169);var n=r(32718),s=r(77427);const i=n.Z.getLogger("esri.core.Accessor");function o(e){return null==e?e:new Date(e)}function a(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function h(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function p(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function g(e,t){return!!h(t)&&(i.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+y(e)+"'"),!0)}function m(e,t){return null==t?t:d(e)?function(e,t){if(!t||!t.constructor||!d(t.constructor))return g(e,t)?t:new e(t);const r=p(e.prototype.itemType),n=p(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(g(e,t),t):new e(t):t}(e,t):f(e,t)?g(e,t)?t:new e(t):t}function y(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const _=new WeakMap;function v(e){switch(e){case Number:return c;case D:return u;case Boolean:return a;case String:return l;case Date:return o;default:return(0,s.s1)(_,e,(()=>m.bind(null,e)))}}function b(e,t){const r=v(e);return 1===arguments.length?r:r(t)}function w(e,t,r){return 1===arguments.length?w.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,r))):[e(t,r)]:t}function O(e,t){return 1===arguments.length?w(b.bind(null,e)):w(b.bind(null,e),t)}function E(e,t,r){return 0!==t&&Array.isArray(r)?r.map((r=>E(e,t-1,r))):e(r)}function C(e,t,r){if(2===arguments.length)return C.bind(null,e,t);if(!r)return r;let n=t,s=r=E(e,t,r);for(;n>0&&Array.isArray(s);)n--,s=s[0];if(void 0!==s)for(let i=0;i<n;i++)r=[r];return r}function A(e,t,r){return 2===arguments.length?C(b.bind(null,e),t):C(b.bind(null,e),t,r)}function T(e){return!!Array.isArray(e)&&!e.some((t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)}))}function S(e,t){if(2===arguments.length)return S(e).call(null,t);const r=new Set,n=e.filter((e=>"function"!=typeof e)),s=e.filter((e=>"function"==typeof e));for(const i of e)"string"!=typeof i&&"number"!=typeof i||r.add(i);let o=null,a=null;return(e,t)=>{if(null==e)return e;const l=typeof e,c="string"===l||"number"===l;return c&&(r.has(e)||s.some((e=>"string"===l&&e===String||"number"===l&&e===Number)))||"object"===l&&s.some((t=>!f(e,t)))?e:(c&&n.length?(o||(o=n.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),i.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof e&&s.length?(a||(a=s.map((e=>y(e))).join(", ")),i.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):i.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function j(e,t){if(2===arguments.length)return j(e).call(null,t);const r={},n=[],s=[];for(const i in e.typeMap){const t=e.typeMap[i];r[i]=b(t),n.push(y(t)),s.push(i)}const o=()=>`'${n.join("', '")}'`,a=()=>`'${s.join("', '")}'`,l="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!f(e.base,t))return t;if(null==t)return t;const n=l(t)||e.defaultKeyValue,s=r[n];if(!s)return i.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!f(e.typeMap[n],t))return t;if("string"==typeof e.key&&!h(t)){const r={};for(const n in t)n!==e.key&&(r[n]=t[n]);return s(r)}return s(t)}}class D{}const x={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function L(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function M(e){switch(e.type){case"native":return b(e.value);case"array":return w(M(e.value));case"one-of":return function(e){let t=null;return(r,n)=>N(r,e)?r:(null==t&&(t=P(e)),i.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}(e);default:return null}}function P(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case D:return"integer";case Date:return"date";default:return y(e.value)}case"array":return`array of ${P(e.value)}`;case"one-of":{const t=e.values.map((e=>P(e)));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function N(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case D:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!N(e,t.value)));case"one-of":return t.values.some((t=>N(e,t)))}}},78113:(e,t,r)=>{r.d(t,{hk:()=>f,HS:()=>u,Ah:()=>h,OM:()=>y});var n=r(25243);var s=r(47492);function i(e){if(e.json||(e.json={}),a(e.json),l(e.json),o(e.json),e.json.origins)for(const t in e.json.origins)a(e.json.origins[t]),l(e.json.origins[t]),o(e.json.origins[t]);return!0}function o(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function a(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function l(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=r(13922);function u(e,t){return f(e,"read",t)}function h(e,t){return f(e,"write",t)}function f(e,t,r){let n=e&&e.json;if(e&&e.json&&e.json.origins&&r){const s=e.json.origins[r.origin];s&&("any"===t||t in s)&&(n=s)}return n}function d(e){const t=function(e){return e.json.types?m(e.json):e.type?g(e):m(e)}(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?p(n):t;(0,s.U)(i,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),(0,c.U)(i,n)}(0,s.U)(t,e.json,!0),(0,c.U)(t,e.json)}function p(e){return e.type?g(e):m(e)}function g(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!(0,n.gB)(r);)r=r[0],t++;return{type:r,ndimArray:t}}function m(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function y(e){i(e)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const n=t[e];r[e].forEach((e=>{t[e]=n})),delete t[e]}}}(e),d(e))}},47492:(e,t,r)=>{r.d(t,{U:()=>c,d:()=>u});var n=r(32718),s=r(18202),i=r(51370),o=r(33397),a=r(72650);const l=n.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c(e,t,r){e&&(!r&&!t.read||t.read?.reader||!1===t.read?.enabled||function(e){return"types"in e?m(e.types):g(e.type)}(e)&&(0,s.RB)("read.reader",u(e),t))}function u(e){const t=e.ndimArray??0;if(t>1)return function(e){const t=h(e),r=f.bind(null,t),n=e.ndimArray??0;return(e,t,s)=>{if(null==e)return e;e=r(e,s,n);let i=n,o=e;for(;i>0&&Array.isArray(o);)i--,o=o[0];if(void 0!==o)for(let r=0;r<i;r++)e=[e];return e}}(e);if(1===t)return d(e);if("type"in e&&p(e.type)){const t=e.type.prototype?.itemType?.Type,r=d("function"==typeof t?{type:t}:{types:t});return(t,n,s)=>{const i=r(t,n,s);return i?new e.type(i):i}}return h(e)}function h(e){return"type"in e?function(e){return e.prototype.read?(t,r,n)=>{if(null==t)return t;const s=typeof t;if("object"!==s)return void l.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const i=new e;return i.read(t,n),i}:e.fromJSON}(e.type):function(e){let t=null;const r=e.errorContext??"type";return(n,s,a)=>{if(null==n)return n;const c=typeof n;if("object"!==c)return void l.error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`);t||(t=function(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],s=(0,o.JT)(n.prototype);if("function"==typeof e.key)continue;const i=s.properties[e.key];if(!i)continue;i.json?.type&&Array.isArray(i.json.type)&&1===i.json.type.length&&"string"==typeof i.json.type[0]&&(t[i.json.type[0]]=n);const a=i.json?.write;if(!a||!a.writer){t[r]=n;continue}const l=a.target,c="string"==typeof l?l:e.key,u={};a.writer(r,u,c),u[c]&&(t[u[c]]=n)}return t}(e));const u=e.key;if("string"!=typeof u)return;const h=n[u],f=h?t[h]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const e=`Type '${h||"unknown"}' is not supported`;return a&&a.messages&&n&&a.messages.push(new i.Z(`${r}:unsupported`,e,{definition:n,context:a})),void l.error(e)}const d=new f;return d.read(n,a),d}}(e.types)}function f(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((t=>f(e,t,r,n-1))):e(t,void 0,r)}function d(e){const t=h(e);return(e,r,n)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const s of e){const e=t(s,void 0,n);void 0!==e&&r.push(e)}return r}const s=t(e,void 0,n);return void 0!==s?[s]:void 0}}function p(e){if(!(0,a.u)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?g(t.Type):m(t.Type))}function g(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||p(e))}function m(e){for(const t in e.typeMap)if(!g(e.typeMap[t]))return!1;return!0}},72650:(e,t,r)=>{function n(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}r.d(t,{u:()=>n})},13922:(e,t,r)=>{r.d(t,{U:()=>l,k:()=>f});var n=r(10064),s=r(32718),i=r(18202),o=r(72650);const a=s.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function l(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(1===r||"type"in e&&(0,o.u)(e.type))?t.write.writer=d:r>1?t.write.writer=function(e){return(t,r,n,s)=>{let o;if(null===t)o=null;else{o=p(t,s,e);let r=e,n=o;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(void 0!==n)for(let e=0;e<r;e++)o=[o]}(0,i.RB)(n,o,r)}}(r):t.types?Array.isArray(t.types)?t.write.writer=function(e){return(t,r,n,s)=>t&&Array.isArray(t)?u(t.filter((t=>c(t,e,s))),r,n,s):u(t,r,n,s)}(t.types[0]):t.write.writer=function(e){return(t,r,n,s)=>t?c(t,e,s)?u(t,r,n,s):void 0:u(t,r,n,s)}(t.types):t.write.writer=u}function c(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const s=t.errorContext??"type",i=`Values of type '${("function"!=typeof t.key?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new n.Z(`${s}:unsupported`,i,{definition:e,context:r})),a.error(i)}return!1}function u(e,t,r,n){(0,i.RB)(r,h(e,n),t)}function h(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?f(e):e}function f(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function d(e,t,r,n){let s;null===e?s=null:e&&"function"==typeof e.map?(s=e.map((e=>h(e,n))),"function"==typeof s.toArray&&(s=s.toArray())):s=[h(e,n)],(0,i.RB)(r,s,t)}function p(e,t,r){return 0!==r&&Array.isArray(e)?e.map((e=>p(e,t,r-1))):h(e,t)}},75505:(e,t,r)=>{var n;r.d(t,{F:()=>n}),function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"}(n||(n={}))},33397:(e,t,r)=>{r.d(t,{JT:()=>a,VZ:()=>c,tz:()=>u});var n=r(84652),s=r(92026),i=r(23879);class o{constructor(e){this.autoDestroy=!1,this.properties=e}}function a(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const r=Object.create(t.properties),s=t.autoDestroy;for(const e in r)r[e]=(0,n.d9)(r[e]);t=new o(r),t.autoDestroy=s,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new o({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return(0,s.j0)(e.constructor.__accessorMetadata__)}function l(e){return a(e).properties}function c(e,t){const r=l(e);let n=r[t];return n||(n=r[t]={}),n}function u(e,t){return(0,i.TS)(e,t,f)}const h=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function f(e){return h.test(e)?"replace":"merge"}},75366:(e,t,r)=>{r.d(t,{t:()=>a});var n=r(10064),s=r(93169),i=r(32718),o=r(693);function a(e,t,r){if(e&&t)if("object"==typeof t)for(const n of Object.getOwnPropertyNames(t))a(e,n,t[n]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(n.length-1,1)[0];return void a((0,o.U2)(e,n),s,r)}const n=e.__accessor__;null!=n&&l(t,n),e[t]=r}}function l(e,t){if((0,s.Z)("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadatas[e]}(e,t))throw new n.Z("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,t))}i.Z.getLogger("esri.core.accessorSupport.set")},86927:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(63780);class s{constructor(e,t){this._observers=e,this._observer=t}remove(){(0,n.Od)(this._observers,this._observer)}}},56885:(e,t,r)=>{r.d(t,{s:()=>s});var n=r(86927);class s{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new n.X(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const r=e[t];r.onInvalidated(),r.onCommitted()}}}},83704:(e,t,r)=>{function n(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function s(e,t){for(const r of e)if(null!=r&&t(r))return r}function i(e){return null!=e&&"function"==typeof e[Symbol.iterator]}r.d(t,{Fs:()=>n,TW:()=>i,sE:()=>s})},43404:(e,t,r)=>{r.d(t,{X:()=>s,w:()=>i});var n=r(18202);class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1,useNumericKeys:!1};this.jsonToAPI=e,this.options=t,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(e),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,r)=>{const s=this.toJSON(e);void 0!==s&&(0,n.RB)(r,s,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(this.apiToJSON.hasOwnProperty(e)){const t=this.apiToJSON[e];return this.options.useNumericKeys?+t:t}return this.options.ignoreUnknown?void 0:e}fromJSON(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}_invertMap(e){const t={};for(const r in e)t[e[r]]=r;return t}_getKeysSorted(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}}function i(){return function(e,t){return new s(e,{ignoreUnknown:!0,...t})}}},35995:(e,t,r)=>{r.d(t,{$U:()=>ae,AH:()=>Y,B7:()=>D,D6:()=>U,Fv:()=>F,HK:()=>K,Hu:()=>ve,Ie:()=>me,L:()=>A,Ml:()=>Oe,P$:()=>G,PF:()=>z,Qj:()=>ge,R9:()=>_,TI:()=>C,YP:()=>H,Yd:()=>de,ZN:()=>be,_l:()=>te,b7:()=>x,ed:()=>I,fl:()=>we,hF:()=>V,hO:()=>ce,io:()=>re,jc:()=>W,kl:()=>Z,mN:()=>T,oC:()=>ie,oh:()=>q,qg:()=>L,rS:()=>X,sJ:()=>ee,tD:()=>k,tm:()=>$,u0:()=>S,v_:()=>J,vt:()=>pe,zd:()=>_e});var n=r(42265),s=r(10064),i=r(32718),o=r(92026);const a=i.Z.getLogger("esri.core.urlUtils"),l=n.Z.request,c="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,h=/^\s*http:/i,f=/^\s*https:/i,d=/^\s*file:/i,p=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,m=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),y=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=(0,o.j0)(this.uri.match(m));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=(0,o.j0)(this.authority.match(y)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const v={},b=new _(n.Z.applicationUrl);let w=b;const O=function(){const e=(0,o.j0)(w.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${w.scheme}://${w.host}${null!=w.port?`:${w.port}`:""}${t}`}();let E=O;const C=()=>w,A=()=>E;function T(e){const t={path:null,query:null},r=new _(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=S(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function S(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const e=n.indexOf("=");let t,s;e<0?(t=decodeURIComponent(n),s=""):(t=decodeURIComponent(n.slice(0,e)),s=decodeURIComponent(n.slice(e+1)));let i=r[t];"string"==typeof i&&(i=r[t]=[i]),Array.isArray(i)?i.push(s):r[t]=s}return r}function j(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function D(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const n=e[r];if(null==n)return"";const s=encodeURIComponent(r)+"=",i=t&&t[r];return i?s+encodeURIComponent(i(n)):Array.isArray(n)?n.map((e=>j(e)?s+encodeURIComponent(JSON.stringify(e)):s+encodeURIComponent(e))).join("&"):j(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)})).filter((e=>e)).join("&"):""}function x(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=l.proxyUrl;if("string"==typeof t){e=ae(t);const n=I(t);n&&(r=n.proxyUrl)}else e=!!t;if(!r)throw a.warn(c),new s.Z("urlutils:proxy-not-set",c);return e&&ue()&&(r=ce(r)),T(r)}function L(e){const t=I(e);let r,n;if(t){const e=P(t.proxyUrl);r=e.path,n=e.query?S(e.query):null}if(r){const t=T(e);e=r+"?"+t.path;const s=D({...n,...t.query});s&&(e=`${e}?${s}`)}return e}const M={path:"",query:""};function P(e){const t=e.indexOf("?");return-1!==t?(M.path=e.slice(0,t),M.query=e.slice(t+1)):(M.path=e,M.query=null),M}function N(e){return(e=he(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=P(e).path),!0)).toLowerCase()}function k(e){const t={proxyUrl:e.proxyUrl,urlPrefix:N(e.urlPrefix)},r=l.proxyRules,n=t.urlPrefix;let s=r.length;for(let i=0;i<r.length;i++){const e=r[i].urlPrefix;if(0===n.indexOf(e)){if(n.length===e.length)return-1;s=i;break}0===e.indexOf(n)&&(s=i+1)}return r.splice(s,0,t),s}function I(e){const t=l.proxyRules,r=N(e);for(let n=0;n<t.length;n++)if(0===r.indexOf(t[n].urlPrefix))return t[n]}function $(e,t){return e=R(e),t=R(t),he(e)===he(t)}function R(e){const t=(e=F(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function q(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),r=l.interceptors;if(r)for(const n of r)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n;return null}function U(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=ye(e),s=ye(t);return!(!r&&n.scheme!==s.scheme)&&null!=n.host&&null!=s.host&&n.host.toLowerCase()===s.host.toLowerCase()&&n.port===s.port}function Z(e){if("string"==typeof e){if(!H(e))return!0;e=ye(e)}if(U(e,w))return!0;const t=l.trustedServers||[];for(let r=0;r<t.length;r++){const n=B(t[r]);for(let t=0;t<n.length;t++)if(U(e,n[t]))return!0}return!1}function B(e){return v[e]||(oe(e)||ie(e)?v[e]=[new _(V(e))]:v[e]=[new _(`http://${e}`),new _(`https://${e}`)]),v[e]}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,r=arguments.length>2?arguments[2]:void 0;return ie(e)?r&&r.preserveProtocolRelative?e:"http"===w.scheme&&w.authority===G(e).slice(2)?`http:${e}`:`https:${e}`:oe(e)?e:(0,o.j0)(J("/"===e[0]?fe(t):t,e))}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,r=arguments.length>2?arguments[2]:void 0;if(!H(e))return e;const n=F(e),s=n.toLowerCase(),i=F(t).toLowerCase().replace(/\/+$/,""),o=r?F(r).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==i.indexOf(o))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===i.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(-1===c)return e;if(o&&c<o.length)return e;e=n.slice(c);const u=i.slice(c-1).replace(/[^/]+/g,"").length;if(u>0)for(let h=0;h<u;h++)e=`../${e}`;else e=`./${e}`;return e}function F(e){return function(e){const t=l.httpsDomains;if(!function(e){return h.test(e)||"http"===w.scheme&&ie(e)}(e))return e;const r=e.indexOf("/",7);let n;if(n=-1===r?e:e.slice(0,r),n=n.toLowerCase().slice(7),p.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"===w.scheme&&n===w.authority&&!g.test(e)||(ue()&&n===w.authority||t&&t.some((e=>n===e||n.endsWith(`.${e}`)))||ue()&&!I(e))&&(e=ce(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=P(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=V(e=e.trim()))))}function J(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.filter(o.pC);if(!n||!n.length)return;const s=[];if(H(n[0])){const e=n[0],t=e.indexOf("//");-1!==t&&(s.push(e.slice(0,t+1)),le(n[0])&&(s[0]+="/"),n[0]=e.slice(t+2))}else"/"===n[0][0]&&s.push("");const i=n.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let o=0;o<i.length;o++){const e=i[o];".."===e&&s.length>0&&".."!==s[s.length-1]?s.pop():(!e&&o===i.length-1||e&&("."!==e||0===s.length))&&s.push(e)}return s.join("/")}function G(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(W(e)||K(e))return null;let r=e.indexOf("://");if(-1===r&&ie(e))r=2;else{if(-1===r)return null;r+=3}const n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=he(e,!0)),e}function H(e){return ie(e)||oe(e)}function W(e){return null!=e&&"blob:"===e.slice(0,5)}function K(e){return"data:"===e.slice(0,5)}function Y(e){const t=ee(e);if(!t||!t.isBase64)return null;const r=atob(t.data),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}function X(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Q=/^data:(.*?)(;base64)?,(.*)$/;function ee(e){const t=e.match(Q);if(!t)return null;const[,r,n,s]=t;return{mediaType:r,isBase64:!!n,data:s}}function te(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function re(e,t){ne(e,t)||se(e,t)}function ne(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function se(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function ie(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function oe(e){return u.test(e)}function ae(e){return f.test(e)||"https"===w.scheme&&ie(e)}function le(e){return d.test(e)}function ce(e){return ie(e)?`https:${e}`:e.replace(h,"https:")}function ue(){return"https"===w.scheme}function he(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ie(e)?e.slice(2):(e=e.replace(u,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function fe(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}function de(e){let t=0;if(H(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function pe(e,t){if(!e)return"";const r=T(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!t?.length)return n;const s=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(s,"")}function ge(e){return e.replace(/\/+$/,"")}function me(e,t,r){if(!(t&&r&&e&&H(e)))return e;const n=e.indexOf("//"),s=e.indexOf("/",n+2),i=e.indexOf(":",n+2),o=Math.min(s<0?e.length:s,i<0?e.length:i);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function ye(e){return"string"==typeof e?new _(V(e)):(e.scheme||(e.scheme=w.scheme),e)}function _e(e){return Ce.test(e)}function ve(e,t){const r=T(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function be(e,t,r){const n=T(e),s=n.query||{};return s[t]=String(r),`${n.path}?${D(s)}`}function we(e,t){const r=T(e),n=r.query||{};for(const i in t)n[i]=t[i];const s=D(n);return s?`${r.path}?${s}`:r.path}function Oe(e){if((0,o.Wi)(e))return null;const t=e.match(Ee);return t?t[1]:null}const Ee=/.*?\.([^\/]*)$/,Ce=/(^data:image\/svg|\.svg$)/i},76969:(e,t,r)=>{r.d(t,{Sh:()=>m,Ze:()=>y,p6:()=>_});var n=r(43404),s=r(36257);const i={year:"numeric",month:"numeric",day:"numeric"},o={year:"numeric",month:"long",day:"numeric"},a={year:"numeric",month:"short",day:"numeric"},l={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},u={...c,second:"numeric"},h={"short-date":i,"short-date-short-time":{...i,...c},"short-date-short-time-24":{...i,...c,hour12:!1},"short-date-long-time":{...i,...u},"short-date-long-time-24":{...i,...u,hour12:!1},"short-date-le":i,"short-date-le-short-time":{...i,...c},"short-date-le-short-time-24":{...i,...c,hour12:!1},"short-date-le-long-time":{...i,...u},"short-date-le-long-time-24":{...i,...u,hour12:!1},"long-month-day-year":o,"long-month-day-year-short-time":{...o,...c},"long-month-day-year-short-time-24":{...o,...c,hour12:!1},"long-month-day-year-long-time":{...o,...u},"long-month-day-year-long-time-24":{...o,...u,hour12:!1},"day-short-month-year":a,"day-short-month-year-short-time":{...a,...c},"day-short-month-year-short-time-24":{...a,...c,hour12:!1},"day-short-month-year-long-time":{...a,...u},"day-short-month-year-long-time-24":{...a,...u,hour12:!1},"long-date":l,"long-date-short-time":{...l,...c},"long-date-short-time-24":{...l,...c,hour12:!1},"long-date-long-time":{...l,...u},"long-date-long-time-24":{...l,...u,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":u},f=(0,n.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),d=(f.apiValues,f.toJSON.bind(f),f.fromJSON.bind(f),{ar:"ar-u-nu-latn-ca-gregory"});let p=new WeakMap,g=h["short-date-short-time"];function m(e){const t=e||g;if(!p.has(t)){const e=(0,s.Kd)(),r=d[(0,s.Kd)()]||e;p.set(t,new Intl.DateTimeFormat(r,t))}return p.get(t)}function y(e){return h[e]||null}function _(e,t){return m(t).format(e)}(0,s.Ze)((()=>{p=new WeakMap,g=h["short-date-short-time"]}))},36257:(e,t,r)=>{let n,s;r.d(t,{G3:()=>l,Kd:()=>a,Ze:()=>f,qe:()=>u});const i=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function o(){return i??globalThis.navigator?.language??"en"}function a(){return void 0===s&&(s=o()),s}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a();return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e)?.[1].toLowerCase()}const c=[];function u(e){return c.push(e),{remove(){c.splice(c.indexOf(e),1)}}}const h=[];function f(e){return h.push(e),{remove(){c.splice(h.indexOf(e),1)}}}function d(){const e=n??o();s!==e&&(s=e,[...h].forEach((t=>{t.call(null,e)})),[...c].forEach((t=>{t.call(null,e)})))}globalThis.addEventListener?.("languagechange",d)},6291:(e,t,r)=>{r.d(t,{sh:()=>l,uf:()=>c});var n=r(92026),s=r(36257);const i={ar:"ar-u-nu-latn"};let o=new WeakMap,a={};function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return-0===e&&(e=0),function(e){const t=e||a;if(!o.has(t)){const r=(0,s.Kd)(),n=i[(0,s.Kd)()]||r;o.set(t,new Intl.NumberFormat(n,e))}return(0,n.j0)(o.get(t))}(t).format(e)}(0,s.Ze)((()=>{o=new WeakMap,a={}}))},19545:(e,t,r)=>{r.d(t,{Dp:()=>c,Nv:()=>o,i8:()=>i,id:()=>a,qh:()=>l});var n=r(93169),s=r(35995);const i="4.24",o={async request(e,t){const{default:n}=await Promise.resolve().then(r.bind(r,76200)),i=e.options,o=i.responseType;i.signal=t?.signal,i.responseType="native"===o||"native-request-init"===o?"native-request-init":["blob","json","text"].includes(o)&&(0,s.oh)(e.url)?.after?o:"array-buffer";const a=await n(e.url,i),l={data:a.data,ssl:a.ssl};switch(a.requestOptions.responseType){case"native-request-init":return delete l.data.signal,l;case"blob":l.data=await l.data.arrayBuffer();break;case"json":l.data=(new TextEncoder).encode(JSON.stringify(l.data)).buffer;break;case"text":l.data=(new TextEncoder).encode(l.data).buffer}return{result:l,transferList:[l.data]}}};let a;function l(e){a=e}function c(e){const t=a&&a.findCredential(e);return t&&t.token?(0,s.ZN)(e,"token",t.token):e}(0,n.Z)("host-webworker")||((0,n.Z)("edge")||(0,n.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},76200:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(42265),s=r(19545),i=r(10064),o=r(93169),a=r(84652),l=r(92026),c=r(66978),u=r(35995),h=r(66660),f=r(5640);async function d(e,t){const a=(0,u.HK)(e),y=(0,u.jc)(e);y||a||(e=(0,u.Fv)(e));const _={url:e,requestOptions:{...(0,l.Wg)(t)}};let v=(0,u.oh)(e);if(v){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,s;try{s=await e.before(t)}catch(r){n=E("request:interceptor",r,t)}if((s instanceof Error||s instanceof i.Z)&&(n=E("request:interceptor",s,t)),n)throw e.error&&e.error(n),n;return s}}(v,_);if(null!=e)return{data:e,getHeader:b,requestOptions:_.requestOptions,url:_.url};v.after||v.error||(v=null)}if(e=_.url,"image"===(t=_.requestOptions).responseType){if((0,o.Z)("host-webworker")||(0,o.Z)("host-node"))throw E("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),_)}else if(a)throw E("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),_);if("head"===t.method){if(t.body)throw E("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),_);if(a||y)throw E("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),_)}if(await async function(){(0,o.Z)("host-webworker")?p||(p=await r.e(8023).then(r.bind(r,28023))):d._abortableFetch||(d._abortableFetch=globalThis.fetch.bind(globalThis))}(),p)return p.execute(e,t);const w=new AbortController;(0,c.fu)(t,(()=>w.abort()));const O={controller:w,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:v,params:_,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,o=r.body;let a=null,l=null;if(m&&"HTMLFormElement"in globalThis&&(o instanceof FormData?a=o:o instanceof HTMLFormElement&&(a=new FormData(o))),"string"==typeof o&&(l=o),e.fetchOptions={cache:r.cacheBust&&!d._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",priority:g.priority,redirect:"follow",signal:i},(a||l)&&(e.fetchOptions.body=a||l),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||a?.get("token")),!e.hasToken&&n.Z.apiKey&&(0,h.r)(t)&&(r.query||(r.query={}),r.query.token=n.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!A(t)&&!(0,c.Hc)(i)){let n;"immediate"===r.authMode?(await C(),n=await s.id.getCredential(t,{signal:i}),e.credential=n):"no-prompt"===r.authMode?(await C(),n=await s.id.getCredential(t,{prompt:!1,signal:i}).catch((()=>{})),e.credential=n):s.id&&(n=s.id.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await T(e)}while(!await j(e,t,r))}catch(a){const r=E("request:server",a,e.params,t);throw r.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(r),r}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!(0,u.kl)(i)){const e=(0,u.P$)(i,!0);e&&g.trustedServers.push(e)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&(0,f.Hu)(r.authorizedCrossOriginNoCorsDomains)}const o=e.credential;if(o&&s.id){const e=s.id.findServerInfo(o.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=s.id.findCredential(t,o.userId);e&&-1===s.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t.headers.get(e):b,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(O);return v?.after?.(S),S}let p;const g=n.Z.request,m="FormData"in globalThis,y=[499,498,403,401],_=["COM_0056","COM_0057","SB_0008"],v=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],b=()=>null,w=Symbol();function O(e){const t=(0,u.P$)(e);return!t||t.endsWith(".arcgis.com")||d._corsServers.includes(t)||(0,u.kl)(t)}function E(e,t,r,n){let s="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:b,ssl:!1};if(t instanceof i.Z)return t.details?(t.details=(0,a.d9)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const e=n&&(e=>n.headers.get(e)),r=n&&n.status,i=t.message;i&&(s=i),e&&(o.getHeader=e),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details,o.raw=w in t?t[w]:t}return(0,c.D_)(t)?(0,c.zE)():new i.Z(e,s,o)}async function C(){s.id||await Promise.all([r.e(1456),r.e(4473),r.e(3626)]).then(r.bind(r,4473))}function A(e){return v.some((t=>t.test(e)))}async function T(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions,i=(0,u.jc)(t)||(0,u.HK)(t),a=r.responseType||"json",l=i?0:null!=r.timeout?r.timeout:g.timeout;let h=!1;if(!i){e.useSSL&&(t=(0,u.hO)(t)),r.cacheBust&&"default"===n.cache&&(t=(0,u.ZN)(t,"request.preventCache",Date.now()));let i={...r.query};e.credentialToken&&(i.token=e.credentialToken);let a=(0,u.B7)(i);(0,o.Z)("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const l=t.length+1+a.length;let c;h="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||l>g.maxUrlLength;const d=r.useProxy||!!(0,u.ed)(t);if(d){const e=(0,u.b7)(t);c=e.path,!h&&c.length+1+l>g.maxUrlLength&&(h=!0),e.query&&(i={...e.query,...i})}if("HEAD"===n.method&&(h||d)){if(h){if(l>g.maxUrlLength)throw E("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw E("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw E("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(h?(n.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,u.fl)(t,i):(n.body=(0,u.B7)(i),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,u.fl)(t,i),d&&(e.useProxy=!0,t=`${c}?${t}`),i.token&&m&&n.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)&&n.body.set("token",i.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,u.D6)(t,(0,u.TI)()))if((0,u.kl)(t))e.withCredentials=!0;else if(s.id){const r=s.id.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(n.credentials="include",(0,f.jH)(t)&&await(0,f.jz)(h?(0,u.fl)(t,i):t))}let y,_,v=0,b=!1;l>0&&(v=setTimeout((()=>{b=!0,e.controller.abort()}),l));try{if("native-request-init"===r.responseType)_=n,_.url=t;else if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||h||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!i&&!e.useProxy&&g.proxyUrl&&!O(t)){if(y=await d._abortableFetch(t,n),e.useProxy||function(e){const t=(0,u.P$)(e);t&&!d._corsServers.includes(t)&&d._corsServers.push(t)}(t),"native"===r.responseType)_=y;else if("HEAD"!==n.method)if(y.ok){switch(a){case"array-buffer":_=await y.arrayBuffer();break;case"blob":case"image":_=await y.blob();break;default:_=await y.text()}if(v&&(clearTimeout(v),v=0),"json"===a||"xml"===a||"document"===a)if(_)switch(a){case"json":_=JSON.parse(_);break;case"xml":_=S(_,"application/xml");break;case"document":_=S(_,"text/html")}else _=null;if(_){if("array-buffer"===a||"blob"===a){const e=y.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&_["blob"===a?"size":"byteLength"]<=750)try{const e=await new Response(_).json();e.error&&(_=e)}catch{}}"image"===a&&_ instanceof Blob&&(_=await D(URL.createObjectURL(_),e,!0))}}else _=await y.text()}else _=await D(t,e)}catch(p){if("AbortError"===p.name){if(b)throw new Error("Timeout exceeded");throw(0,c.zE)("Request canceled")}if(!(!y&&p instanceof TypeError&&g.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||O(t))throw p;e.redoRequest=!0,(0,u.tD)({proxyUrl:g.proxyUrl,urlPrefix:(0,u.P$)(t)})}finally{v&&clearTimeout(v)}return[y,_]}function S(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function j(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let i,o,a,l;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[w]=r,i;r?.error&&(i=r.error),i&&(o=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,l=i.messageCode,l=l&&l.toUpperCase());const c=n.authMode;if(403===o&&(4===a||i.message&&i.message.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===o)&&y.includes(o)&&!A(e.params.url)&&(403!==o||!_.includes(l)&&(null==a||2===a&&e.credentialToken))){await C();try{const t=await s.id.getCredential(e.params.url,{error:E("request:server",i,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(u){if("no-prompt"===c)return e.credential=null,e.credentialToken=null,!1;i=u}}if(i)throw i;return!0}function D(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=g.priority,s.src=e,(0,f.fY)(s,e,r,n)}d._abortableFetch=null,d._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},66660:(e,t,r)=>{r.d(t,{r:()=>i});var n=r(35995);const s=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function i(e){const t=(0,n.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!s.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},5640:(e,t,r)=>{r.d(t,{Hu:()=>u,fY:()=>l,jH:()=>h,jz:()=>f});var n=r(42265),s=r(93169),i=r(92026),o=r(66978),a=r(35995);function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return new Promise(((a,l)=>{if((0,o.Hc)(n))return void l(c());let u=()=>{d(),l(new Error(`Unable to load ${t}`))},h=()=>{const t=e;d(),a(t)},f=()=>{if(!e)return;const t=e;d(),t.src="",l(c())};const d=()=>{(0,s.Z)("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",h)),u=null,h=null,e=null,(0,i.pC)(n)&&n.removeEventListener("abort",f),f=null,r&&URL.revokeObjectURL(t)};(0,i.pC)(n)&&n.addEventListener("abort",f),(0,s.Z)("esri-image-decode")?e.decode().then(h,u):(e.addEventListener("error",u),e.addEventListener("load",h))}))}function c(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function u(e){n.Z.request.crossOriginNoCorsDomains||(n.Z.request.crossOriginNoCorsDomains={});const t=n.Z.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[(0,a.P$)(r)]=0:(t[(0,a.P$)("http://"+r)]=0,t[(0,a.P$)("https://"+r)]=0)}function h(e){const t=n.Z.request.crossOriginNoCorsDomains;if(t){let r=(0,a.P$)(e);if(r)return r=r.toLowerCase(),!(0,a.D6)(r,(0,a.TI)())&&t[r]<Date.now()-36e5}return!1}async function f(e){const t=n.Z.request.crossOriginNoCorsDomains;t&&(t[(0,a.P$)(e).toLowerCase()]=Date.now());const r=(0,a.mN)(e);e=r.path,"json"===r.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}}}]);
//# sourceMappingURL=9247.c7d9e7a9.chunk.js.map