{"version":3,"sources":["../node_modules/@arcgis/core/chunks/persistableUrlUtils.js","../node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["c","r","o","s","url","path","e","preserveProtocolRelative","portalItem","readResourcePaths","t","itemUrl","h","test","push","resourceFromPath","I","portal","i","a","u","R","YES","blockedRelativeUrls","n","verifyItemRelativeUrls","rootPath","writtenUrls","isPortal","urlKey","customBaseUrl","portalHostname","U","resources","l","toKeep","resource","m","p","f","v","match","scheme","NO","y","Object","freeze","__proto__","fromJSON","toJSON","read","write","itemIdFromResourceUrl","MarkKeep","mapserver","imageserver","featureserver","sceneserver","streamserver","vectortileserver","values","RegExp","join","d","indexOf","title","w","slice","serverType","toLowerCase","sublayer","parseInt","serviceUrl","sublayerId","Number","replace","toUpperCase","length","g","O","logger","layer","layerId","nonStandardUrlAllowed","C","toString","S","L","authority","async","properties","customParameters","FeatureServer","StreamServer","VectorTileServer","tileInfo","then","format","cacheType","layerType","layers","Array","isArray","Point","IntegratedMesh","PointCloud","Building","FeatureLayer","SceneLayer","parsedUrl","Constructor","layerOrTableId","sublayerIds","tableIds","sublayerInfos","layerInfos","tableInfos","layerIds","b","sourceJSON","default","sublayerTitleMode","forEach","add","tables","find","id","type","hasOwnProperty","name","filter","serviceJSON","currentVersion","layersJSON","map","reverse","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","GeoJSONLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/207.2a240fd2.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../core/maybe.js\";import{makeAbsolute as e,makeRelative as t,isAbsolute as o,normalize as s,isDataProtocol as l,changeDomain as a,hasSameOrigin as u,getAppUrl as n}from\"../core/urlUtils.js\";function c(r,o){const s=o&&o.url&&o.url.path;if(r&&s&&(r=e(r,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const e=t(r,o.portalItem.itemUrl);h.test(e)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path)}return I(r,o&&o.portal)}function i(r,a,u=R.YES){if(!r)return r;!o(r)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(r);let n=e(r);if(a){const e=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(e){const o=I(e,a.portal);n=t(I(n,a.portal),o,o),n!==r&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=U(n,a&&a.portal),o(n)&&(n=s(n)),null!=a&&a.resources&&null!=a&&a.portalItem&&!o(n)&&!l(n)&&u===R.YES&&a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(n)}),n}function m(r,e,t){return c(r,t)}function p(r,e,t,o){const s=i(r,o);void 0!==s&&(e[t]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\//,h=/^\\.\\/resources\\//;function v(e){const t=r(e)?e.match(f):null;return r(t)?t[1]:null}function U(r,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?a(r,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):r}function I(r,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return r;const t=`${e.urlKey}.${e.customBaseUrl}`,o=n();return u(o,`${o.scheme}://${t}`)?a(r,e.portalHostname,t):a(r,t,e.portalHostname)}var R;!function(r){r[r.YES=0]=\"YES\",r[r.NO=1]=\"NO\"}(R||(R={}));const y=Object.freeze({__proto__:null,fromJSON:c,toJSON:i,read:m,write:p,itemIdFromResourceUrl:v,get MarkKeep(){return R}});export{R as M,c as f,v as i,y as p,m as r,i as t,p as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const l={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\"},a=Object.values(l),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function p(e){return!!c.test(e)}function d(e){const t=r(e),n=t.path.match(c)||t.path.match(f);if(!n)return null;const[,s,i,o,u]=n,a=i.indexOf(\"/\");return{title:w(-1!==a?i.slice(a+1):i),serverType:l[o.toLowerCase()],sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:s}}}function m(e){const t=r(e).path.match(v);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function h(r,t){const n=[];if(r){const t=d(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=w(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function y(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",n=\"//tiles\",s=\"//features\",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function x(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function g(e,r){return e?t(n(e,r)):e}function O(s){let{url:i}=s;if(!i)return{url:i};i=n(i,s.logger);const o=r(i),u=d(o.path);let l;if(e(u))null!=u.sublayer&&null==s.layer.layerId&&(l=u.sublayer),i=u.url.path;else if(s.nonStandardUrlAllowed){const r=m(o.path);e(r)&&(i=r.serviceUrl,l=r.sublayerId)}return{url:t(i),layerId:l}}function C(e,r,t,n,i){u(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function L(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}function b(e){if(!e)return!1;return new i(o(e)).authority.toLowerCase().includes(\"arcgis.com\")}export{w as cleanTitle,b as isAGOLUrl,p as isArcGISUrl,y as isHostedAgolService,x as isHostedSecuredProxyService,L as isServerOrServicesAGOLUrl,S as isWmsServer,d as parse,m as parseNonStandardSublayerUrl,g as sanitizeUrl,O as sanitizeUrlWithLayerId,a as serverTypes,h as titleFromUrlAndName,C as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as l,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function l(e,l){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(l)&&(n.sourceJSON=l),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=l(a,y(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=l(a,y(r.tableInfos,a));e.tables.add(t)}))}async function d(e,t){let l=s(e);if(a(l)&&(l=await f(e,t)),a(l))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":S(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=w(e,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=w(l.url.path,t).then((e=>{if(e){if(\"Voxel\"===(null==e?void 0:e.layerType))return\"VoxelLayer\";if(null!=e&&e.layers&&Array.isArray(e.layers)&&e.layers.length>0){var r;const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"},t=null==(r=e.layers[0])?void 0:r.layerType;if(null!=a[t])return a[t]}}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},p=await u;if(y[p]&&null==o){const r=await v(e,n,t);c&&(d.sublayerInfos=r.layerInfos,d.tableInfos=r.tableInfos);if(1!==r.layerIds.length+r.tableIds.length)d.sublayerIds=r.layerIds,d.tableIds=r.tableIds;else if(c){var I,b;d.layerOrTableId=null!=(I=r.layerIds[0])?I:r.tableIds[0],d.sourceJSON=null!=(b=r.layerInfos[0])?b:r.tableInfos[0]}}return d.Constructor=await m(p),d}async function f(e,r){var a;const s=await w(e,r);let u=null,i=null;const y=s.type;if(\"Feature Layer\"===y||\"Table\"===y?(u=\"FeatureServer\",i=s.id):\"indexedVector\"===y?u=\"VectorTileServer\":s.hasOwnProperty(\"mapName\")?u=\"MapServer\":s.hasOwnProperty(\"bandCount\")&&s.hasOwnProperty(\"pixelSizeX\")?u=\"ImageServer\":s.hasOwnProperty(\"maxRecordCount\")&&s.hasOwnProperty(\"allowGeometryUpdates\")?u=\"FeatureServer\":s.hasOwnProperty(\"streamUrls\")?u=\"StreamServer\":p(s)?(u=\"SceneServer\",i=s.id):s.hasOwnProperty(\"layers\")&&p(null==(a=s.layers)?void 0:a[0])&&(u=\"SceneServer\"),!u)return null;const c=null!=i?o(e):null;return{title:t(c)&&s.name||l(e),serverType:u,sublayer:i,url:{path:t(c)?c.serviceUrl:n(e).path}}}function p(e){return(null==e?void 0:e.hasOwnProperty(\"store\"))&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function v(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await b(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await w(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){var a,t;let l=await w(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await w(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function m(e){return(0,u[e])()}async function S(e,r){return(await w(e,r)).tileInfo}async function w(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}