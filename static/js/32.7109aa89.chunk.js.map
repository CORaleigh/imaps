{"version":3,"sources":["../node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js","../node_modules/@arcgis/core/symbols/cim/SDFHelper.js"],"names":["u","t","getLogger","y","e","h","g","d","b","i","o","r","N","markerPlacement","angleToLine","k","a","n","s","type","error","symbol","l","primitiveOverrides","valueExpressionInfo","expression","spatialReference","fields","then","primitiveName","propertyName","push","value","Promise","all","O","symbolLayers","c","getSize","angleAlignment","m","length","enable","p","f","findApplicableOverrides","C","P","L","M","X","I","x","w","z","J","color","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","F","j","height","angle","offsetX","offsetY","scaleX","effects","tintColor","url","colorSubstitutions","rotation","filter","indexOf","separation","lineSymbol","W","width","capStyle","joinStyle","miterLimit","isOutline","cap","join","referenceWidth","zOrder","A","name","isDashed","S","stepY","gridAngle","size","scaleSymbolsProportionally","alignment","anchorPoint","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","markerGraphics","frame","ymax","ymin","Y","H","geometry","underline","strikethrough","toLowerCase","style","weight","fontStyleName","font","family","fontFamilyName","decoration","xmin","xmax","getFillColor","getStrokeColor","getStrokeWidth","haloSymbol","haloSize","R","Number","$","fontName","horizontalAlignment","verticalAlignment","text","textString","textCase","outlineSize","v","geom","asFill","billboardMode3D","depth3D","respectFrame","clippingPath","getTextureAnchor","parseInt","substr","NaN","toRgba","Array","call","$view","geometryType","fn","buildOverrideKey","T","parse","applyOverrides","Map","transform","hasZ","hasM","has","set","get","referencesGeometry","repurposeFeature","evaluate","$feature","warn","rings","paths","Math","floor","max","round","sqrt","Uint8Array"],"mappings":"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","file":"static/js/32.7109aa89.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{numericHash as e}from\"../../core/string.js\";import t from\"../../core/Logger.js\";import{createRendererExpression as i,ArcadeExpression as o}from\"../../support/arcadeOnDemand.js\";import r from\"../../Color.js\";import{pt2px as n}from\"../../core/screenUtils.js\";import{fromCIMColor as a,_adjustTextCase as l}from\"./utils.js\";import s from\"../../views/2d/arcade/callExpressionWithFeature.js\";import{CIMSymbolHelper as c,OverrideHelper as f}from\"./CIMSymbolHelper.js\";import{getExtent as m,getSDFMetrics as p}from\"./SDFHelper.js\";const u=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function y(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;case\"Round\":default:return 1}}function h(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;case\"Round\":default:return 1}}function g(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function d(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function S(e){let t=\"normal\",i=\"normal\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}function v(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function b(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function N(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,o,r){const n=o||[];if(!e)return n;let a,l;const s={};if(\"CIMSymbolReference\"!==e.type)return u.error(\"Expect cim type to be 'CIMSymbolReference'\"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const o of l){const r=o.valueExpressionInfo;if(r&&t){const n=r.expression,a=i(n,t.spatialReference,t.fields).then((e=>{e&&b(s,o.primitiveName,o.propertyName,e)}));e.push(a)}else null!=o.value&&b(s,o.primitiveName,o.propertyName,o.value)}await Promise.all(e)}switch(a.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":O(a,l,s,t,n,r)}return n}function O(e,t,i,o,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=c.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(l=1);let m=a.length;for(;m--;){const c=a[m];if(!c||!1===c.enable)continue;const p=[];switch(f.findApplicableOverrides(c,t,p),c.type){case\"CIMSolidFill\":C(c,i,p,o,r);break;case\"CIMPictureFill\":P(c,i,p,o,r);break;case\"CIMHatchFill\":L(c,i,p,o,r);break;case\"CIMGradientFill\":M(c,i,p,o,r);break;case\"CIMSolidStroke\":X(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMPictureStroke\":I(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMGradientStroke\":x(c,i,p,o,r,\"CIMPolygonSymbol\"===e.type,s);break;case\"CIMCharacterMarker\":if(w(c,i,p,o,r))break;break;case\"CIMPictureMarker\":if(w(c,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=N(c)),z(c,i,p,o,r,l,s);break;case\"CIMVectorMarker\":if(w(c,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(l=N(c)),J(c,i,p,o,r,l,s,n);break;default:u.error(\"Cannot analyze CIM layer\",c.type)}}}function C(t,i,o,r,n){const l=t.primitiveName,s=a(t.color),c=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,colorLocked:t.colorLocked,color:F(l,i,\"Color\",r,s,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t.effects})}function P(t,i,o,r,n){const l=t.primitiveName,s=t.tintColor?a(t.tintColor):{r:255,g:255,b:255,a:1},c=e(JSON.stringify(t)).toString(),f=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:()=>f,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:F(l,i,\"TintColor\",r,s,j),height:F(l,i,\"Height\",r,t.height),scaleX:F(l,i,\"ScaleX\",r,t.scaleX),angle:F(l,i,\"Rotation\",r,t.rotation),offsetX:F(l,i,\"OffsetX\",r,t.offsetX),offsetY:F(l,i,\"OffsetY\",r,t.offsetY)})}function L(t,i,o,r,n){const a=[\"Rotation\",\"OffsetX\",\"OffsetY\"],l=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===a.indexOf(e.propertyName))),s=t.primitiveName,c=e(JSON.stringify(t)).toString(),f=e(`${t.separation}${JSON.stringify(t.lineSymbol)}`).toString();n.push({type:\"fill\",templateHash:c,materialHash:0===o.length?f:W(f,i,l,r),cim:t,materialOverrides:l,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(s,i,\"Separation\",r,t.separation),scaleX:1,angle:F(s,i,\"Rotation\",r,t.rotation),offsetX:F(s,i,\"OffsetX\",r,t.offsetX),offsetY:F(s,i,\"OffsetY\",r,t.offsetY)})}function M(t,i,o,r,n){const a=e(JSON.stringify(t)).toString();n.push({type:\"fill\",templateHash:a,materialHash:0===o.length?a:W(a,i,o,r),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(t,i,o,r,n,l,s){const c=e(JSON.stringify(t)).toString(),f=t.primitiveName,m=a(t.color),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit;n.push({type:\"line\",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,\"Color\",r,m,j),width:F(f,i,\"Width\",r,p),cap:F(f,i,\"CapStyle\",r,u),join:F(f,i,\"JoinStyle\",r,g),miterLimit:F(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function I(t,i,o,r,n,l,s){const c=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString(),f=t.primitiveName,m=a(t.tintColor),p=void 0!==t.width?t.width:4,u=y(t.capStyle),g=h(t.joinStyle),d=t.miterLimit,S=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:S,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:l,colorLocked:t.colorLocked,effects:t.effects,color:F(f,i,\"TintColor\",r,m,j),width:F(f,i,\"Width\",r,p),cap:F(f,i,\"CapStyle\",r,u),join:F(f,i,\"JoinStyle\",r,g),miterLimit:F(f,i,\"MiterLimit\",r,d),referenceWidth:s,zOrder:A(t.name),isDashed:!1})}function x(t,i,o,r,n,a,l){const s=t.primitiveName,c=void 0!==t.width?t.width:4,f=y(t.capStyle),m=h(t.joinStyle),p=t.miterLimit,u=e(JSON.stringify(t)).toString();n.push({type:\"line\",templateHash:u,materialHash:0===o.length?u:W(u,i,o,r),cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:F(s,i,\"Width\",r,c),cap:F(s,i,\"CapStyle\",r,f),join:F(s,i,\"JoinStyle\",r,m),miterLimit:F(s,i,\"MiterLimit\",r,p),referenceWidth:l,zOrder:A(t.name),isDashed:!1})}function w(t,i,o,r,n){const a=t.markerPlacement;if(!a||\"CIMMarkerPlacementInsidePolygon\"!==a.type)return!1;const l=a,s=[\"Rotation\",\"OffsetX\",\"OffsetY\"],c=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===s.indexOf(e.propertyName))),f=e(JSON.stringify(t)).toString();return n.push({type:\"fill\",templateHash:f,materialHash:0===o.length?f:W(f,i,c,r),cim:t,materialOverrides:c,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,i,\"StepY\",r,l.stepY),scaleX:1,angle:F(l.primitiveName,i,\"GridAngle\",r,l.gridAngle),offsetX:F(l.primitiveName,i,\"OffsetX\",r,l.offsetX),offsetY:F(l.primitiveName,i,\"OffsetY\",r,l.offsetY)}),!0}function z(t,i,o,r,n,l,s){const c=t.primitiveName,f=t.size,m=t.scaleX,p=t.rotation,u=t.offsetX,y=t.offsetY,h=a(t.tintColor),g=e(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();let d=!1,S=\"\";for(const e of o)e.primitiveName===c&&(void 0!==e.value?S+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(d=!0));n.push({type:\"marker\",templateHash:e(JSON.stringify(t)+S).toString(),materialHash:d?()=>g:g,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:!1,alignment:l,size:F(c,i,\"Size\",r,f),scaleX:F(c,i,\"ScaleX\",r,m),rotation:F(c,i,\"Rotation\",r,p),offsetX:F(c,i,\"OffsetX\",r,u),offsetY:F(c,i,\"OffsetY\",r,y),color:F(c,i,\"TintColor\",r,h,j),anchorPoint:t.anchorPoint,isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:t.rotateClockwise,referenceSize:s,sizeRatio:1,markerPlacement:t.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":Y(e,f,i,t,o,r,n,a,c,l);break;case\"CIMTextSymbol\":H(e,f,t,i,o,r,n,a,c)}}}function H(t,i,o,r,n,s,m,p,u){const y=[];f.findApplicableOverrides(i,r,y);const h=i.geometry;if(!(\"x\"in h)||!(\"y\"in h))return;const b=i.symbol,N=v(b),k=S(b.fontStyleName);b.font={family:b.fontFamilyName,decoration:N,...k};const O=t.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=t.size/u,M=t.primitiveName,X=(b.height||0)*L,I=b.angle||0,x=((b.offsetX||0)+C)*L,w=((b.offsetY||0)+P)*L,z=a(c.getFillColor(b));let J=a(c.getStrokeColor(b)),H=c.getStrokeWidth(b);H||(J=a(c.getFillColor(b.haloSymbol)),H=b.haloSize*L);let Y=\"\";for(const e of r)e.primitiveName===M&&void 0!==e.value&&(Y+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const R=JSON.stringify(t.effects)+Number(t.colorLocked)+JSON.stringify(t.anchorPoint)+t.anchorPointUnits+JSON.stringify(t.markerPlacement),$=e(JSON.stringify(i)+R+Y).toString();s.push({type:\"text\",templateHash:$,materialHash:()=>e(JSON.stringify(b.font)).toString(),cim:b,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,alignment:m,anchorPoint:{x:t.anchorPoint?t.anchorPoint.x:0,y:t.anchorPoint?t.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==t.anchorPointUnits,fontName:b.fontFamilyName,decoration:\"none\",weight:\"normal\",style:\"normal\",size:F(M,o,\"Size\",n,X),angle:F(M,o,\"Rotation\",n,I),offsetX:F(M,o,\"OffsetX\",n,x),offsetY:F(M,o,\"OffsetY\",n,w),horizontalAlignment:g(b.horizontalAlignment),verticalAlignment:d(b.verticalAlignment),text:F(i.primitiveName,o,\"TextString\",n,i.textString,l,b.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:t.markerPlacement})}function Y(t,i,o,r,n,l,s,f,u,y){const h=i.symbol,g=i.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void R(t,i,r,o,n,l,s,f,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const h=m(g);if(!h)continue;const[d,S,v]=p(h,t.frame,t.size,t.anchorPoint,\"Relative\"!==t.anchorPointUnits),b=\"CIMSolidFill\"===y.type,N={type:\"sdf\",geom:g,asFill:b},k=t.primitiveName,O=t.size,C=t.rotation||0,P=t.offsetX,L=t.offsetY,M=y.primitiveName,X=a(b?c.getFillColor(y):c.getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:a(c.getStrokeColor(y)),x=c.getStrokeWidth(y);if(!b&&!x)break;let w=!1,z=\"\";for(const e of o)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...t,markerGraphics:null}),H=e(JSON.stringify(N)).toString(),Y={type:\"marker\",templateHash:e(JSON.stringify(i)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(t.primitiveName,r,\"Size\",n,O),rotation:F(t.primitiveName,r,\"Rotation\",n,C),offsetX:F(t.primitiveName,r,\"OffsetX\",n,P),offsetY:F(t.primitiveName,r,\"OffsetY\",n,L),scaleX:1,frameHeight:u,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:d,color:F(M,r,\"Color\",n,X,j),outlineColor:F(M,r,\"Color\",n,I,j),outlineWidth:F(M,r,\"Width\",n,x),markerPlacement:t.markerPlacement};l.push(Y);break}default:R(t,i,r,o,n,l,s,f,u)}}}function R(t,i,o,r,a,l,s,f,m){const p=$(t,i);let u=[];const y=[\"Rotation\",\"OffsetX\",\"OffsetY\"];u=r.filter((e=>e.primitiveName!==t.primitiveName||-1===y.indexOf(e.propertyName)));let h=\"\";for(const e of r)void 0!==e.value&&(h+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const[g,d,S]=c.getTextureAnchor(p),v=t.primitiveName,b=t.rotation||0,N=t.offsetX||0,k=t.offsetY||0,O=e(JSON.stringify(p)+h).toString(),C={type:\"marker\",templateHash:O,materialHash:0===u.length?O:W(O,o,u,a),cim:p,materialOverrides:u,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:t.size,rotation:F(v,o,\"Rotation\",a,b),offsetX:F(v,o,\"OffsetX\",a,N),offsetY:F(v,o,\"OffsetY\",a,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:f,sizeRatio:S/n(t.size),markerPlacement:t.markerPlacement};l.push(C)}function $(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(e){if(!e||0===e.length)return null;const t=new r(e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function F(e,t,i,r,n,a,l){const c=t[e];if(c){const e=c[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof o)return(t,i,o)=>{let c=s(e,t,{$view:o},r.geometryType,i);return null!==c&&a&&(c=a.call(null,c,l)),null!==c?c:n}}return n}function W(t,i,r,n){for(const e of r){if(e.valueExpressionInfo){const t=i[e.primitiveName]&&i[e.primitiveName][e.propertyName];t instanceof o&&(e.fn=(e,i,o)=>s(t,e,{$view:o},n.geometryType,i))}}return(i,o,n)=>{for(const e of r)e.fn&&(e.value=e.fn(i,o,n));return e(t+f.buildOverrideKey(r)).toString()}}function T(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return f.applyOverrides(i,t),i}export{T as analyzeCIMResource,k as analyzeCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(r,t,o,n,a){const s=r.referencesGeometry()&&a?u(t,n,a):t,i=r.repurposeFeature(s);try{return r.evaluate({...o,$feature:i})}catch(c){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,i,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,i,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,i,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,i,e,o,n);default:return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new r(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isExtent as t}from\"../../geometry/support/jsonUtils.js\";import n from\"./Rect.js\";import{packFloatRGBA as o}from\"./packingUtils.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||\"CIMPolygonSymbol\"!==l.type&&\"CIMLineSymbol\"!==l.type?null:{geom:r,asFill:\"CIMPolygonSymbol\"===l.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new n(o,l,r-o,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):t(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function m(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=128,u=1,y=Math.floor(.5*(.5*c-u)),h=(c-2*(y+u))/Math.max(m,a),x=Math.round(m*h)+2*y,M=Math.round(a*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function a(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),m=Math.round(o.width*f)+2*s,a=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const t of e){let[r,l]=t;r-=o.x,l-=o.y,r*=f,l*=f,r+=s-.5,l+=s-.5,n.push([r,l])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=c(h,m,a,s);return t.asFill&&u(h,m,a,s,x),[y(x,s),m,a]}function c(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,c;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],c=i[1]):(a=i[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function u(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}function y(t,n){const r=2*n,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const n=.5-t[i]/r;o(n,e,4*i)}return e}export{a as buildSDF,f as getExtent,r as getSDFInfo,m as getSDFMetrics,l as getSDFSymbol};\n"],"sourceRoot":""}