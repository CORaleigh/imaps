"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[1245,519,8860,3388],{68860:(e,r,a)=>{a.d(r,{$C:()=>O,En:()=>U,FN:()=>B,Jo:()=>X,KU:()=>P,OG:()=>A,RG:()=>Y,UF:()=>G,Yl:()=>N,ZO:()=>M,_R:()=>C,c9:()=>E,cM:()=>W,fN:()=>T,gV:()=>z,hd:()=>u,j5:()=>x,oD:()=>b,oq:()=>$,qE:()=>V,qv:()=>k,tQ:()=>q,ty:()=>F,y:()=>Z});a(93169);var t=a(43404),n=a(92026),s=a(92183),i=a(78952),l=a(22186),c=a(92975),o=a(89093);const u=39.37,y=l.sv.radius*Math.PI/200,f=/UNIT\[([^\]]+)\]\]$/i,d=o.Z,m=/UNIT\[([^\]]+)\]/i,p=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),L=(0,t.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),S=e=>e*e,h=e=>e*e*e,I={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:S(.001)},"square-centimeters":{inBaseUnits:S(.01)},"square-decimeters":{inBaseUnits:S(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:S(1e3)},"square-inches":{inBaseUnits:S(.0254)},"square-feet":{inBaseUnits:S(.3048)},"square-yards":{inBaseUnits:S(.9144)},"square-miles":{inBaseUnits:S(1609.344)},"square-us-feet":{inBaseUnits:S(1200/3937)},acres:{inBaseUnits:.0015625*S(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*h(.001)},"cubic-centimeters":{inBaseUnits:1e3*h(.01)},"cubic-decimeters":{inBaseUnits:1e3*h(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*h(1e3)},"cubic-inches":{inBaseUnits:1e3*h(.0254)},"cubic-feet":{inBaseUnits:1e3*h(.3048)},"cubic-yards":{inBaseUnits:1e3*h(.9144)},"cubic-miles":{inBaseUnits:1e3*h(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},g=(()=>{const e={};for(const r in I)for(const a in I[r].units)e[a]=r;return e})();const T=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],b=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],w=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function M(e){return"imperial"===e||"metric"===e}function G(e){const r=g[e];if(!r)throw new Error("unknown type");return r}function v(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r=r||G(e),I[r].baseUnit===e}function U(e,r,a){if(r===a)return e;const t=G(r);if(t!==G(a))throw new Error("incompatible units");const n=v(r,t)?e:function(e,r,a){return e*I[a].units[r].inBaseUnits}(e,r,t);return v(a,t)?n:function(e,r,a){return e/I[a].units[r].inBaseUnits}(n,a,t)}function P(e,r){const a=U(e,r,"meters");return Math.abs(a)<3e3?"meters":"kilometers"}function A(e,r){const a=U(e,r,"meters");return Math.abs(a)<1e5?"meters":"kilometers"}function B(e,r){const a=U(e,r,"feet");return Math.abs(a)<1e3?"feet":"miles"}function k(e,r){const a=U(e,r,"feet");return Math.abs(a)<1e5?"feet":"miles"}function q(e,r){const a=U(e,r,"square-meters");return Math.abs(a)<3e6?"square-meters":"square-kilometers"}function N(e,r){const a=U(e,r,"square-feet");return Math.abs(a)<1e6?"square-feet":"square-miles"}function F(e,r,a){return U(e,r,"meters")/(a*Math.PI/180)}function O(e){return L.fromJSON(e.toLowerCase())||null}function C(e){if(e&&"object"==typeof e&&!(0,c.N$)(e))return 1;const r=E(e);return r>1e5?1:r}function W(e){return E(e)>=(e instanceof i.Z?(0,s.Iu)(e).metersPerDegree:1e5)?"meters":V(e)}function E(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.sv.metersPerDegree;return(0,n.Pt)(R(e,!0),r)}function R(e){let r,a,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null;if(null!=e&&("object"==typeof e?(r=e.wkid,a=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(a=e)),r){if((0,c.o$)(r))return l.yr.metersPerDegree;if((0,c.ME)(r))return l.Z1.metersPerDegree;n=d.values[d[r]],!n&&t&&p.has(r)&&(n=y)}else a&&(H(a)?n=D(f.exec(a),n):K(a)&&(n=D(m.exec(a),n)));return n}function D(e,r){return e&&e[1]?_(e[1]):r}function _(e){return parseFloat(e.split(",")[1])}function V(e){let r,a,t=null;if(null!=e&&("object"==typeof e?(r=e.wkid,a=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(a=e)),r)t=d.units[d[r]];else if(a){const e=H(a)?f:K(a)?m:null;if(e){const r=e.exec(a);r&&r[1]&&(t=function(e){const r=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let a=r&&r[1];if(!a||!d.units.includes(a)){const r=_(e);a=null;const t=d.values;for(let e=0;e<t.length;++e)if(Math.abs(r-t[e])<1e-7){a=d.units[e];break}}return a}(r[1]))}}return(0,n.pC)(t)?O(t):null}function x(e){const r=V(e);return(0,n.Wi)(r)||!b.includes(r)?null:r}function Z(e){const r=W(e);return(0,n.Wi)(r)||!b.includes(r)?null:r}function $(e){const r=V(e);return(0,n.Wi)(r)?null:w.get(r)}function K(e){return/^GEOCCS/i.test(e)}function H(e){return/^PROJCS/i.test(e)}function Y(e){const r="metric";if((0,n.Wi)(e))return r;const a=e.map,t=a&&"portalItem"in a?a.portalItem?.portal:null;if(t)switch(t?.user?.units??t.units){case r:return r;case"english":return"imperial"}return(0,n.Pt)(function(e){const r=V(e);if((0,n.Wi)(r))return null;switch(r){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}(e.spatialReference),r)}const j={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},J={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},z=(0,t.w)()(j),X=(0,t.w)()(J);(0,t.w)()({...j,...J})},92183:(e,r,a)=>{a.d(r,{GG:()=>l,HQ:()=>c,Iu:()=>f,VY:()=>o,e8:()=>d,rS:()=>y,wY:()=>u});var t=a(78952),n=a(22186),s=a(92975);function i(e){return new t.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const l=i(n.sv),c=i(n.yr),o=i(n.Z1),u=new t.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${n.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function y(e){return e&&((0,s.BZ)(e)||e===c)?c:e&&((0,s.V2)(e)||e===o)?o:l}function f(e){return e&&((0,s.BZ)(e)||e===c)?n.yr:e&&((0,s.V2)(e)||e===o)?n.Z1:n.sv}function d(e){return(0,s.o$)(e)?n.yr:(0,s.ME)(e)?n.Z1:n.sv}},93501:(e,r,a)=>{a.d(r,{k:()=>i});var t=a(92026),n=a(68860),s=a(92975);function i(e,r,a){if((0,t.Wi)(r)||(0,t.Wi)(a)||a.vcsWkid||(0,s.fS)(r,a))return null;const i=(0,n._R)(r)/(0,n._R)(a);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,r){e&&null!=e.z&&(e.z*=r)}(e,i);case"polyline":case"esriGeometryPolyline":return e=>function(e,r){if(e)for(const a of e.paths)for(const e of a)e.length>2&&(e[2]*=r)}(e,i);case"polygon":case"esriGeometryPolygon":return e=>function(e,r){if(e)for(const a of e.rings)for(const e of a)e.length>2&&(e[2]*=r)}(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,r){if(e)for(const a of e.points)a.length>2&&(a[2]*=r)}(e,i);case"extent":case"esriGeometryExtent":return e=>function(e,r){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=r,e.zmax*=r)}(e,i);default:return null}}},20519:(e,r,a)=>{a.r(r),a.d(r,{populateOperationalLayers:()=>u});var t=a(40281),n=(a(93169),a(66978)),s=a(19610),i=a(98995);function l(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var c=a(43139),o=a(21371);async function u(e,r,a){if(!r)return;const t=[];for(const n of r){const e=S(n,a);"GroupLayer"===n.layerType?t.push(T(e,n,a)):t.push(e)}const s=await(0,n.as)(t);for(const n of s)!n.value||a.filter&&!a.filter(n.value)||e.add(n.value)}const y={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},f={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},d={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},m={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},p={ArcGISFeatureLayer:"FeatureLayer"},L={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};async function S(e,r){return async function(e,r,a){const t=new e;return t.read(r,a.context),"group"===t.type&&h(r)&&await async function(e,r,a){const t=s.T.FeatureLayer,n=await t(),i=r.featureCollection,l=i.showLegend,c=i.layers.map(((t,s)=>{const i=new n;i.read(t,a);const c={...a,ignoreDefaults:!0};return i.read({id:`${e.id}-sublayer-${s}`,visibility:r.visibleLayers?.includes(s)??!0},c),null!=l&&i.read({showLegend:l},c),i}));e.layers.addMany(c)}(t,r,a.context),await(0,o.y)(t,a.context),t}(await async function(e,r){const a=r.context,t=g(a);let n=e.layerType||e.type;!n&&r&&r.defaultLayerType&&(n=r.defaultLayerType);const o=t[n];let u=o?s.T[o]:s.T.UnknownLayer;if(I(e)){const r=a?.portal;if(e.itemId){const a=new i.default({id:e.itemId,portal:r});await a.load();const t=(await(0,c.selectLayerClassPath)(a)).className||"UnknownLayer";u=s.T[t]}}else"ArcGISFeatureLayer"===n?function(e){return l(e,"notes")}(e)?u=s.T.MapNotesLayer:function(e){return l(e,"route")}(e)?u=s.T.RouteLayer:h(e)&&(u=s.T.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?u=s.T.WMTSLayer:"WFS"===n&&"2.0.0"!==e.wfsInfo.version&&(u=s.T.UnsupportedLayer);return u()}(e,r),e,r)}function h(e){return"ArcGISFeatureLayer"===e.layerType&&!I(e)&&(e.featureCollection?.layers?.length??0)>1}function I(e){return"Feature Collection"===e.type}function g(e){let r;if("web-scene"===e.origin)switch(e.layerContainerType){case"basemap":r=d;break;case"ground":r=f;break;default:r=y}else switch(e.layerContainerType){case"basemap":r=L;break;case"tables":r=p;break;default:r=m}return r}async function T(e,r,a){const n=new t.Z,s=u(n,Array.isArray(r.layers)?r.layers:[],a),i=await e;if(await s,"group"===i.type)return i.layers.addMany(n),i}},19610:(e,r,a)=>{a.d(r,{T:()=>t});const t={BingMapsLayer:async()=>(await Promise.all([a.e(4226),a.e(5592),a.e(3109),a.e(8897)]).then(a.bind(a,60165))).default,BuildingSceneLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(4653),a.e(6455),a.e(3470),a.e(2586),a.e(6505)]).then(a.bind(a,66505))).default,CSVLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(4653),a.e(6455),a.e(5418)]).then(a.bind(a,98435))).default,ElevationLayer:async()=>(await Promise.all([a.e(8995),a.e(1009),a.e(2893),a.e(5964)]).then(a.bind(a,72882))).default,FeatureLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(4653),a.e(6455),a.e(1321)]).then(a.bind(a,16455))).default,GroupLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(6983),a.e(7994),a.e(3091)]).then(a.bind(a,65069))).default,GeoRSSLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4711)]).then(a.bind(a,70054))).default,GeoJSONLayer:async()=>(await Promise.all([a.e(4226),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(3743)]).then(a.bind(a,5064))).default,ImageryLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(1009),a.e(5277),a.e(7314),a.e(3406),a.e(4653),a.e(5192),a.e(2927),a.e(5345),a.e(1204),a.e(6261),a.e(374)]).then(a.bind(a,63752))).default,ImageryTileLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9803),a.e(1009),a.e(7314),a.e(2927),a.e(2893),a.e(5345),a.e(394),a.e(1204),a.e(6261),a.e(5602)]).then(a.bind(a,93060))).default,IntegratedMeshLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(9803),a.e(3470),a.e(8884)]).then(a.bind(a,56251))).default,KMLLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(3570)]).then(a.bind(a,13838))).default,LineOfSightLayer:async()=>(await Promise.all([a.e(4226),a.e(9803),a.e(8481)]).then(a.bind(a,33724))).default,MapImageLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(5277),a.e(8597),a.e(9186),a.e(9583),a.e(5139)]).then(a.bind(a,19583))).default,MapNotesLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9803),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(4653),a.e(6455),a.e(9436)]).then(a.bind(a,33513))).default,OGCFeatureLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(5277),a.e(2841),a.e(8597),a.e(3406),a.e(8716),a.e(5423)]).then(a.bind(a,98701))).default,OpenStreetMapLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1040),a.e(1656)]).then(a.bind(a,31656))).default,PointCloudLayer:async()=>(await Promise.all([a.e(8995),a.e(4055),a.e(3470),a.e(5752)]).then(a.bind(a,9532))).default,RouteLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9803),a.e(9014),a.e(1909),a.e(729),a.e(8953)]).then(a.bind(a,54404))).default,SceneLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9803),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(8597),a.e(4653),a.e(6455),a.e(3470),a.e(2586),a.e(5838)]).then(a.bind(a,5838))).default,StreamLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(5277),a.e(2841),a.e(8152)]).then(a.bind(a,2668))).default,TileLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9014),a.e(5277),a.e(8597),a.e(2893),a.e(9186),a.e(1912)]).then(a.bind(a,42977))).default,UnknownLayer:async()=>(await Promise.all([a.e(8995),a.e(4917)]).then(a.bind(a,74917))).default,UnsupportedLayer:async()=>(await Promise.all([a.e(8995),a.e(8101)]).then(a.bind(a,88101))).default,VectorTileLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(2893),a.e(969),a.e(2642)]).then(a.bind(a,27106))).default,VoxelLayer:async()=>(await Promise.all([a.e(8995),a.e(3470),a.e(9902)]).then(a.bind(a,52560))).default,WebTileLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1040)]).then(a.bind(a,89200))).default,WFSLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(7111),a.e(3798),a.e(9803),a.e(9014),a.e(1009),a.e(5277),a.e(2841),a.e(2622),a.e(4514)]).then(a.bind(a,38566))).default,WMSLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1508),a.e(4055),a.e(3863)]).then(a.bind(a,84227))).default,WMTSLayer:async()=>(await Promise.all([a.e(4226),a.e(8995),a.e(5592),a.e(3109),a.e(1040),a.e(6951)]).then(a.bind(a,46951))).default}},32698:(e,r,a)=>{a.d(r,{Y:()=>i,h:()=>s});var t=a(35995),n=a(70032);function s(e){return{origin:"portal-item",url:(0,t.mN)(e.itemUrl),portal:e.portal||n.Z.getDefault(),portalItem:e,readResourcePaths:[]}}function i(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?(0,t.mN)(e.itemUrl):null,portal:e.portal||n.Z.getDefault(),portalItem:e}}},33388:(e,r,a)=>{a.r(r),a.d(r,{getFirstLayerOrTableId:()=>p,getNumLayersAndTables:()=>L,load:()=>o,preprocessFSItemData:()=>m});var t=a(10064),n=a(19610),s=a(70032),i=a(32698),l=a(21371),c=a(41226);async function o(e,r){const a=e.instance.portalItem;if(a&&a.id)return await a.load(r),function(e){const r=e.instance.portalItem;if(!e.supportedTypes.includes(r.type))throw new t.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:r.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,r){const a=e.instance,t=a.portalItem,{url:n,title:s}=t,c=(0,i.h)(t);if("group"===a.type)return a.read({title:s},c),u(a,e);n&&a.read({url:n},c);const o=await d(e,r);return o&&a.read(o,c),a.resourceReferences={portalItem:t,paths:c.readResourcePaths},a.read({title:s},c),(0,l.y)(a,c)}(e,r)}function u(e,r){let a;const s=e.portalItem.type;switch(s){case"Feature Service":case"Feature Collection":a=n.T.FeatureLayer;break;case"Stream Service":a=n.T.StreamLayer;break;case"Scene Service":a=n.T.SceneLayer;break;default:throw new t.Z("portal:unsupported-item-type-as-group",`The item type '${s}' is not supported as a 'IGroupLayer'`)}let i;return a().then((e=>(i=e,d(r)))).then((async r=>"Feature Service"===s?(r=await m(r,e.portalItem.url),y(e,i,r)):L(r)>0?y(e,i,r):function(e,r){return e.portalItem.url?(0,c.b)(e.portalItem.url).then((a=>{function t(e){return{id:e.id,name:e.name}}a&&y(e,r,{layers:a.layers?.map(t),tables:a.tables?.map(t)})})):Promise.resolve()}(e,i)))}function y(e,r,a){let t=a.layers||[];const n=a.tables||[];"Feature Collection"===e.portalItem.type&&(t.forEach((e=>{"Table"===e?.layerDefinition?.type&&n.push(e)})),t=t.filter((e=>"Table"!==e?.layerDefinition?.type))),t.reverse().forEach((t=>{const n=f(e,r,a,t);e.add(n)})),n.reverse().forEach((t=>{const n=f(e,r,a,t);e.tables.add(n)}))}function f(e,r,a,t){const n=new r({portalItem:e.portalItem.clone(),layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const r={origin:"portal-item",portal:e.portalItem.portal||s.Z.getDefault()};n.read(t,r);const i=a.showLegend;null!=i&&n.read({showLegend:i},r)}return n}function d(e,r){if(!1===e.supportsData)return Promise.resolve(void 0);const a=e.instance;return a.portalItem.fetchData("json",r).catch((()=>null)).then((async e=>{if(function(e){return"stream"!==e.type&&"layerId"in e}(a)){let r,t=!0;return e&&L(e)>0&&(null==a.layerId&&(a.layerId=p(e)),r=function(e,r){const a=e.layers;if(a)for(let n=0;n<a.length;n++)if(a[n].id===r)return a[n];const t=e.tables;if(t)for(let n=0;n<t.length;n++)if(t[n].id===r)return t[n];return null}(e,a.layerId),r&&(1===L(e)&&(t=!1),null!=e.showLegend&&(r.showLegend=e.showLegend))),t&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),r}return e}))}async function m(e,r){if(null==e?.layers||null==e?.tables){const a=await(0,c.b)(r);(e=e||{}).layers=e.layers||a?.layers,e.tables=e.tables||a?.tables}return e}function p(e){const r=e.layers;if(r&&r.length)return r[0].id;const a=e.tables;return a&&a.length?a[0].id:null}function L(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}},73117:(e,r,a)=>{a.d(r,{$o:()=>o,Kz:()=>u,_$:()=>l,ck:()=>c,qj:()=>i});var t=a(79803),n=a(78952),s=a(81753);function i(e,r){if(!l(e,r)){const a=e.typeKeywords;a?a.push(r):e.typeKeywords=[r]}}function l(e,r){return!!e.typeKeywords?.includes(r)}function c(e,r){const a=e.typeKeywords;if(a){const e=a.indexOf(r);e>-1&&a.splice(e,1)}}async function o(e){const r=e.clone().normalize();let a;if(r.length>1)for(const t of r)a?t.width>a.width&&(a=t):a=t;else a=r[0];return async function(e){const r=e.spatialReference;if(r.isWGS84)return e.clone();if(r.isWebMercator)return(0,s.Sx)(e);const a=n.Z.WGS84;return await(0,t.iQ)(r,a),(0,t.iV)(e,a)}(a)}const u={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},43139:(e,r,a)=>{a.r(r),a.d(r,{fromItem:()=>o,selectLayerClassPath:()=>u});var t=a(10064),n=a(19610),s=a(98995),i=a(33388),l=a(73117),c=a(41226);function o(e){return!e.portalItem||e.portalItem instanceof s.default||(e={...e,portalItem:new s.default(e.portalItem)}),function(e){return e.load().then(u).then(y)}(e.portalItem).then((r=>{const a={portalItem:e.portalItem,...r.properties};return new(0,r.constructor)(a)}))}function u(e){switch(e.type){case"Map Service":return function(e){return function(e){return(0,c.b)(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:"TileLayer"}:{className:"MapImageLayer"}))}(e);case"Feature Service":return function(e){return f(e).then((e=>{if("object"==typeof e){const r={};return null!=e.id&&(r.layerId=e.id),{className:"FeatureLayer",properties:r}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return async function(e){if(await e.load(),(0,l._$)(e,"Map Notes"))return{className:"MapNotesLayer"};if((0,l._$)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===(0,i.getNumLayersAndTables)(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Scene Service":return function(e){return f(e).then((r=>{if("object"==typeof r){const a={};let t;if(null!=r.id?(a.layerId=r.id,t=`${e.url}/layers/${r.id}`):t=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const r={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const a of Object.keys(r))if(e.typeKeywords.includes(a))return{className:r[a]}}return(0,c.b)(t).then((e=>{let r="SceneLayer";const t={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&t[e.layerType]&&(r=t[e.layerType]),{className:r,properties:a}}))}return!1===r?(0,c.b)(e.url).then((e=>"Voxel"===e?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"})):{className:"GroupLayer"}}))}(e);case"Image Service":return async function(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(r.includes("tiled imagery"))return{className:"ImageryTileLayer"};const a=(await e.fetchData())?.layerType;if("ArcGISTiledImageServiceLayer"===a)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===a)return{className:"ImageryLayer"};const t=(await(0,c.b)(e.url)).cacheType?.toLowerCase();return"map"===t?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new t.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function y(e){return(0,n.T[e.className])().then((r=>({constructor:r,properties:e.properties})))}function f(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((async r=>"Feature Service"===e.type?d(r=await(0,i.preprocessFSItemData)(r,e.url)):(0,i.getNumLayersAndTables)(r)>0?d(r):(0,c.b)(e.url).then(d)))}function d(e){return 1===(0,i.getNumLayersAndTables)(e)&&{id:(0,i.getFirstLayerOrTableId)(e)}}},21371:(e,r,a)=>{a.d(r,{y:()=>i});var t=a(14921),n=a(66978),s=a(51370);async function i(e,r,a){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",r.origin);if(i&&"unique-value"===i.type&&i.styleOrigin){const l=await(0,t.q6)(i.populateFromStyle());if((0,n.k_)(a),!1===l.ok){const a=l.error;r&&r.messages&&r.messages.push(new s.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${a.message}`,{error:a,context:r})),e.clear("renderer",r.origin)}}}},41226:(e,r,a)=>{a.d(r,{b:()=>n});var t=a(76200);async function n(e){const{data:r}=await(0,t.default)(e,{responseType:"json",query:{f:"json"}});return r}}}]);
//# sourceMappingURL=1245.9571ed87.chunk.js.map