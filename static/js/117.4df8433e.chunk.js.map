{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js","../node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","../node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js","../node_modules/@arcgis/core/chunks/vec2.js","../node_modules/@arcgis/core/chunks/vec2f64.js","../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DecodeNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateMainLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","../node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","../node_modules/@arcgis/core/chunks/RealisticTree.glsl.js"],"names":["t","extensions","add","fragment","code","e","u","a","include","r","supportsTextureAtlas","attributeTextureCoordinates","n","vertexTangents","attributes","varyings","doubleSidedMode","uniforms","o","name","output","vertex","y","getLogger","async","x","i","streamDataRequester","request","ok","value","error","w","details","url","h","s","data","g","resource","textures","A","textureDefinitions","v","params","topology","vertexAttributes","warn","faces","values","valueType","valuesPerElement","material","j","l","forEach","boundingInfo","c","getBBMin","getBBMax","images","encoding","channels","alphaChannelUsage","noUnpackFlip","wrap","preMultiplyAlpha","U","m","disableTextures","Promise","resolve","p","push","then","refId","image","all","M","id","texture","region","I","$","q","fileType","cache","loadWOSR","L","parse","version","validate","model","geometries","materialDefinitions","Map","length","size","exclusive","b","Uint32Array","has","f","set","get","P","substring","lastIndexOf","transparency","ambient","diffuse","opacity","transparent","textureAlphaMode","textureAlphaCutoff","textureId","initTextureTransparent","doubleSided","cullFace","colorMixMode","externalColorMixMode","textureAlphaPremultiplied","materialParamsMixin","Object","assign","d","T","position","stageResources","materials","pivotOffset","boundingBox","numberOfVertices","lodThreshold","N","lods","referenceBoundingBox","isEsriSymbolResource","isWosr","remove","loadGLTF","usePBR","F","O","meta","uri","indexOf","customMeta","esriTreeRendering","parts","normal","count","B","S","R","transform","getVec","center","radius","Math","min","setVec","color","J","isSchematic","treeRendering","mrrFactors","specifiedLodIndex","K","match","Number","Array","texCoord0","tangent","Q","alphaMode","textureColor","parameters","_","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","D","emissiveFactor","z","alphaCutoff","doubleSidedType","vertexColors","normals","castShadows","receiveSSAO","normalTextureId","occlusionTextureId","emissiveTextureId","metallicRoughnessTextureId","metallicFactor","roughnessFactor","k","H","indices","primitiveType","typedBuffer","elementCount","E","V","W","G","buffer","C","max","sqrt","sin","cos","freeze","__proto__","copy","subtract","multiply","divide","ceil","floor","round","scale","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","random","PI","transformMat2","transformMat2d","transformMat3","transformMat4","rotate","angle","acos","str","exactEquals","equals","abs","projectAndScale","len","sub","mul","div","dist","sqrDist","sqrLen","Float64Array","create","clone","fromValues","fromArray","createView","zeros","ones","unitX","unitY","ZEROS","ONES","UNIT_X","UNIT_Y","globalThis","location","hostname","some","replace","receiveAmbientOcclusion","normalType","initializeProgram","shader","this","configuration","build","OITEnabled","transparencyPassType","viewingMode","receiveShadows","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","symbolColor","symbolColors","vvSize","vvColor","vvInstancingEnabled","instanced","instancedColor","instancedDoublePrecision","pbrMode","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","hasNormalTexture","hasColorTexture","useCustomDTRExponentForWater","normalsTypeDerivate","attributeColor","screenSizePerspectiveEnabled","screenSizePerspective","verticalOffsetEnabled","verticalOffset","offsetBackfaces","doublePrecisionRequiresObfuscation","rctx","alphaDiscardMode","multipassTerrainEnabled","cullAboveGround","bindPass","program","camera","projectionMatrix","setUniform2fv","nearFar","inverseViewport","setUniform1f","layerOpacity","setUniform4fv","externalColor","setUniform1i","lighting","setUniforms","setUniform3fv","shadowMap","bind","ssaoHelper","bindDraw","viewInverseTransposeMatrix","origin","viewMatrix","rebindTextures","setUniformMatrix4fv","bindCustomOrigin","slicePlane","setPipeline","blending","culling","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipelineState","super","constructor","arguments","prototype","supportsEdges","techniqueConfig","vertexBufferLayout","vec3f","vec4f","vec2f","vec4u8","instanceBufferLayout","isVisibleInPass","isVisible","vvColorEnabled","getTechniqueConfig","vvSizeEnabled","shadowMappingEnabled","ssaoEnabled","offsetTransparentBackfaces","relativeElevation","intersect","eye","inverseRotation","requiresSlot","createGLMaterial","createBufferWriter","updateParameters","_material","updateTexture","ensureTechnique","_updateShadowState","setParameters","_updateOccludeeState","hasOccludees","beginSlot","_output","bindTextures","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorValues","vvColorColors","vvSymbolAnchor","vvSymbolRotationMatrix","allocate","createBuffer","write","transformation","invTranspTransformation","mat3f","mat4f","Uniforms","driverTest","lightingSphericalHarmonicsOrder","linearDepth","int","ModelTransform","worldFromModel_RS","worldFromModel_TH","worldFromModel_TL","ViewProjectionTransform","worldFromView_TH","worldFromView_TL","viewFromCameraRelative_RS","projFromView","bindModelTransform","setUniformMatrix3fv","bindViewProjTransform","bindUniforms","float"],"mappings":"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","file":"static/js/117.4df8433e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.extensions.add(\"GL_EXT_shader_texture_lod\"),t.extensions.add(\"GL_OES_standard_derivatives\"),t.fragment.code.add(e`#ifndef GL_EXT_shader_texture_lod\nfloat calcMipMapLevel(const vec2 ddx, const vec2 ddy) {\nfloat deltaMaxSqr = max(dot(ddx, ddx), dot(ddy, ddy));\nreturn max(0.0, 0.5 * log2(deltaMaxSqr));\n}\n#endif\nvec4 textureAtlasLookup(sampler2D texture, vec2 textureSize, vec2 textureCoordinates, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\nfloat maxdUV = 0.125;\nvec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nvec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n#ifdef GL_EXT_shader_texture_lod\nreturn texture2DGradEXT(texture, uvAtlas, dUVdx, dUVdy);\n#else\nvec2 dUVdxAuto = dFdx(uvAtlas);\nvec2 dUVdyAuto = dFdy(uvAtlas);\nfloat mipMapLevel = calcMipMapLevel(dUVdx * textureSize, dUVdy * textureSize);\nfloat autoMipMapLevel = calcMipMapLevel(dUVdxAuto * textureSize, dUVdyAuto * textureSize);\nreturn texture2D(texture, uvAtlas, mipMapLevel - autoMipMapLevel);\n#endif\n}`)}export{t as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{TextureCoordinateAttribute as e}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as t}from\"../util/TextureAtlasLookup.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function u(u,a){u.include(e,a),u.fragment.code.add(r`\n  struct TextureLookupParameter {\n    vec2 uv;\n    ${a.supportsTextureAtlas?\"vec2 size;\":\"\"}\n  } vtc;\n  `),1===a.attributeTextureCoordinates&&u.fragment.code.add(r`vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\nreturn texture2D(tex, params.uv);\n}`),2===a.attributeTextureCoordinates&&(u.include(t),u.fragment.code.add(r`vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\nreturn textureAtlasLookup(tex, params.size, params.uv, vuvRegion);\n}`))}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function n(n,a){const r=n.fragment;a.vertexTangents?(n.attributes.add(\"tangent\",\"vec4\"),n.varyings.add(\"vTangent\",\"vec4\"),2===a.doubleSidedMode?r.code.add(t`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\nvec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`):r.code.add(t`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = vTangent.w;\nvec3 tangent = normalize(vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`)):(n.extensions.add(\"GL_OES_standard_derivatives\"),r.code.add(t`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\nvec3 Q1 = dFdx(pos);\nvec3 Q2 = dFdy(pos);\nvec2 stx = dFdx(st);\nvec2 sty = dFdy(st);\nfloat det = stx.t * sty.s - sty.t * stx.s;\nvec3 T = stx.t * Q2 - sty.t * Q1;\nT = T - normal * dot(normal, T);\nT *= inversesqrt(max(dot(T,T), 1.e-10));\nvec3 B = sign(det) * cross(normal, T);\nreturn mat3(T, B, normal);\n}`)),0!==a.attributeTextureCoordinates&&(n.include(e,a),r.uniforms.add(\"normalTexture\",\"sampler2D\"),r.uniforms.add(\"normalTextureSize\",\"vec2\"),r.code.add(t`\n    vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\n      vtc.uv = uv;\n      ${a.supportsTextureAtlas?\"vtc.size = normalTextureSize;\":\"\"}\n      vec3 rawNormal = textureLookup(normalTexture, vtc).rgb * 2.0 - 1.0;\n      return tangentSpace * rawNormal;\n    }\n  `))}export{n as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";import{webglValidateShadersEnabled as e}from\"../../../../../webgl/checkWebGLError.js\";function u(u,o){const r=t`\n  /*\n  *  ${o.name}\n  *  ${0===o.output?\"RenderOutput: Color\":1===o.output?\"RenderOutput: Depth\":3===o.output?\"RenderOutput: Shadow\":2===o.output?\"RenderOutput: Normal\":4===o.output?\"RenderOutput: Highlight\":\"\"}\n  */\n  `;e()&&(u.fragment.code.add(r),u.vertex.code.add(r))}export{u as HeaderComment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Error.js\";import n from\"../../../../core/Logger.js\";import{isSome as a,unwrap as s}from\"../../../../core/maybe.js\";import{throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Version as i}from\"../../../../core/Version.js\";import{d as u}from\"../../../../chunks/vec3f64.js\";import{empty as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as f}from\"../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as d}from\"../../webgl-engine/materials/DefaultMaterial.js\";const y=n.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function x(e,t){const r=await g(e,t);return{resource:r,textures:await A(r.textureDefinitions,t)}}async function g(r,n){const i=a(n)&&n.streamDataRequester;if(i)return h(r,i,n);const u=await t(e(r,s(n)));if(!0===u.ok)return u.value.data;o(u.error),w(u.error)}async function h(e,r,n){const a=await t(r.request(e,\"json\",n));if(!0===a.ok)return a.value;o(a.error),w(a.error.details.url)}function w(e){throw new r(\"\",`Request for object resource failed: ${e}`)}function v(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(y.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(y.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(y.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(y.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else y.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:y.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(y.warn(\"Geometry requires material\"),n=!1);const a=e.params.vertexAttributes;for(const s in a){a[s].values||(y.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function b(e,t){const r=[],n=[],s=[],o=[],l=e.resource,c=i.parse(l.version||\"1.0\",\"wosr\");I.validate(c);const p=l.model.name,y=l.model.geometries,x=l.materialDefinitions,g=e.textures;let h=0;const w=new Map;for(let i=0;i<y.length;i++){const e=y[i];if(!v(e))continue;const l=M(e),c=e.params.vertexAttributes,p=[];for(const t in c){const e=c[t],r=e.values;p.push([t,{data:r,size:e.valuesPerElement,exclusive:!0}])}const b=[];if(\"PerAttributeArray\"!==e.params.topology){const t=e.params.faces;for(const e in t)b.push([e,new Uint32Array(t[e].values)])}const j=g&&g[l.texture];if(j&&!w.has(l.texture)){const{image:e,params:t}=j,r=new f(e,t);o.push(r),w.set(l.texture,r)}const A=w.get(l.texture),I=A?A.id:void 0;let P=s[l.material]?s[l.material][l.texture]:null;if(!P){const e=x[l.material.substring(l.material.lastIndexOf(\"/\")+1)].params;1===e.transparency&&(e.transparency=0);const r=j&&j.alphaChannelUsage,n=e.transparency>0||\"transparency\"===r||\"maskAndTransparency\"===r,o=j?U(j.alphaChannelUsage):void 0,i={ambient:u(e.diffuse),diffuse:u(e.diffuse),opacity:1-(e.transparency||0),transparent:n,textureAlphaMode:o,textureAlphaCutoff:.33,textureId:I,initTextureTransparent:!0,doubleSided:!0,cullFace:0,colorMixMode:e.externalColorMixMode||\"tint\",textureAlphaPremultiplied:!!j&&!!j.params.preMultiplyAlpha};a(t)&&t.materialParamsMixin&&Object.assign(i,t.materialParamsMixin),P=new d(i),s[l.material]||(s[l.material]={}),s[l.material][l.texture]=P}n.push(P);const T=new m(p,b);h+=b.position?b.position.length:0,r.push(T)}return{name:p,stageResources:{textures:o,materials:n,geometries:r},pivotOffset:l.model.pivotOffset,boundingBox:j(r),numberOfVertices:h,lodThreshold:null}}function j(e){const t=l();return e.forEach((e=>{const r=e.boundingInfo;a(r)&&(c(t,r.getBBMin()),c(t,r.getBBMax()))})),t}async function A(e,t){const r=[];for(const o in e){const n=e[o],s=n.images[0].data;if(!s){y.warn(\"Externally referenced texture data is not yet supported\");continue}const i=n.encoding+\";base64,\"+s,u=\"/textureDefinitions/\"+o,l=\"rgba\"===n.channels?n.alphaChannelUsage||\"transparency\":\"none\",c={noUnpackFlip:!0,wrap:{s:10497,t:10497},preMultiplyAlpha:1!==U(l)},m=a(t)&&t.disableTextures?Promise.resolve(null):p(i,t);r.push(m.then((e=>({refId:u,image:e,params:c,alphaChannelUsage:l}))))}const n=await Promise.all(r),s={};for(const a of n)s[a.refId]=a;return s}function U(e){switch(e){case\"mask\":return 2;case\"maskAndTransparency\":return 3;case\"none\":return 1;default:return 0}}function M(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const I=new i(1,2,\"wosr\");export{A as createTextureResources,x as load,b as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{adjustStaticAGOUrl as e}from\"../../../../core/devEnvironmentUtils.js\";import{get as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{a as o}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{b as a}from\"../../../../chunks/mat4.js\";import{c as u}from\"../../../../chunks/mat4f64.js\";import{m as n,f as l,E as c,l as m,n as d,e as f}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{empty as x,expandWithVec3 as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as h,BufferViewVec4f as b,BufferViewVec2f as v,BufferViewVec4u8 as R,BufferViewVec4u16 as y,BufferViewVec3u8 as B,BufferViewVec3u16 as M}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as w,a as j,s as C}from\"../../../../chunks/vec32.js\";import{t as E,s as T}from\"../../../../chunks/vec42.js\";import{createBuffer as S}from\"../../../../geometry/support/buffer/utils.js\";import{DefaultLoadingContext as O}from\"../../glTF/DefaultLoadingContext.js\";import{load as F}from\"../../glTF/loader.js\";import{triangleFanToTriangles as A,triangleStripToTriangles as I,trianglesToTriangles as k}from\"../../glTF/internal/indexUtils.js\";import{load as L,processLoadResult as N}from\"./wosrLoader.js\";import{Geometry as P}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as _}from\"../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as z}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{COLOR_GAMMA as D}from\"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{n as V}from\"../../../../chunks/vec22.js\";import{c as W,f as G}from\"../../../../chunks/vec43.js\";import{c as U}from\"../../../../chunks/vec33.js\";async function $(s,o){const i=q(e(s));if(\"wosr\"===i.fileType){const e=await(o.cache?o.cache.loadWOSR(i.url,o):L(i.url,o)),t=N(e,o);return{lods:[t],referenceBoundingBox:t.boundingBox,isEsriSymbolResource:!1,isWosr:!0,remove:e.remove}}const a=await(o.cache?o.cache.loadGLTF(i.url,o,o.usePBR):F(new O(o.streamDataRequester),i.url,o,o.usePBR)),u=t(a.model.meta,\"ESRI_proxyEllipsoid\");a.meta.isEsriSymbolResource&&r(u)&&-1!==a.meta.uri.indexOf(\"/RealisticTrees/\")&&J(a,u);const n=a.meta.isEsriSymbolResource?{usePBR:o.usePBR,isSchematic:!1,treeRendering:a.customMeta.esriTreeRendering,mrrFactors:[0,1,.2]}:{usePBR:o.usePBR,isSchematic:!1,mrrFactors:[0,1,.5]},l={...o.materialParamsMixin,treeRendering:a.customMeta.esriTreeRendering};if(null!=i.specifiedLodIndex){const e=K(a,n,l,i.specifiedLodIndex);let t=e[0].boundingBox;if(0!==i.specifiedLodIndex){t=K(a,n,l,0)[0].boundingBox}return{lods:e,referenceBoundingBox:t,isEsriSymbolResource:a.meta.isEsriSymbolResource,isWosr:!1,remove:a.remove}}const c=K(a,n,l);return{lods:c,referenceBoundingBox:c[0].boundingBox,isEsriSymbolResource:a.meta.isEsriSymbolResource,isWosr:!1,remove:a.remove}}function q(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function K(e,t,s,a){const u=e.model,n=i(),l=new Array,c=new Map,m=new Map;return u.lods.forEach(((e,i)=>{if(void 0!==a&&i!==a)return;const d={name:e.name,stageResources:{textures:new Array,materials:new Array,geometries:new Array},lodThreshold:r(e.lodThreshold)?e.lodThreshold:null,pivotOffset:[0,0,0],numberOfVertices:0,boundingBox:x()};l.push(d),e.parts.forEach((e=>{const i=e.material+(e.attributes.normal?\"_normal\":\"\")+(e.attributes.color?\"_color\":\"\")+(e.attributes.texCoord0?\"_texCoord0\":\"\")+(e.attributes.tangent?\"_tangent\":\"\"),a=u.materials.get(e.material),l=r(e.attributes.texCoord0),f=r(e.attributes.normal),p=Q(a.alphaMode);if(!c.has(i)){if(l){if(r(a.textureColor)&&!m.has(a.textureColor)){const e=u.textures.get(a.textureColor),t={...e.parameters,preMultiplyAlpha:1!==p};m.set(a.textureColor,new _(e.data,t))}if(r(a.textureNormal)&&!m.has(a.textureNormal)){const e=u.textures.get(a.textureNormal);m.set(a.textureNormal,new _(e.data,e.parameters))}if(r(a.textureOcclusion)&&!m.has(a.textureOcclusion)){const e=u.textures.get(a.textureOcclusion);m.set(a.textureOcclusion,new _(e.data,e.parameters))}if(r(a.textureEmissive)&&!m.has(a.textureEmissive)){const e=u.textures.get(a.textureEmissive);m.set(a.textureEmissive,new _(e.data,e.parameters))}if(r(a.textureMetallicRoughness)&&!m.has(a.textureMetallicRoughness)){const e=u.textures.get(a.textureMetallicRoughness);m.set(a.textureMetallicRoughness,new _(e.data,e.parameters))}}const o=a.color[0]**(1/D),n=a.color[1]**(1/D),d=a.color[2]**(1/D),x=a.emissiveFactor[0]**(1/D),g=a.emissiveFactor[1]**(1/D),h=a.emissiveFactor[2]**(1/D),b=r(a.textureColor)&&l?m.get(a.textureColor):null;c.set(i,new z({...t,transparent:0===p,textureAlphaMode:p,textureAlphaCutoff:a.alphaCutoff,diffuse:[o,n,d],ambient:[o,n,d],opacity:a.opacity,doubleSided:a.doubleSided,doubleSidedType:\"winding-order\",cullFace:a.doubleSided?0:2,vertexColors:!!e.attributes.color,vertexTangents:!!e.attributes.tangent,normals:f?\"default\":\"screenDerivative\",castShadows:!0,receiveSSAO:!0,textureId:r(b)?b.id:void 0,colorMixMode:a.colorMixMode,normalTextureId:r(a.textureNormal)&&l?m.get(a.textureNormal).id:void 0,textureAlphaPremultiplied:r(b)&&!!b.params.preMultiplyAlpha,occlusionTextureId:r(a.textureOcclusion)&&l?m.get(a.textureOcclusion).id:void 0,emissiveTextureId:r(a.textureEmissive)&&l?m.get(a.textureEmissive).id:void 0,metallicRoughnessTextureId:r(a.textureMetallicRoughness)&&l?m.get(a.textureMetallicRoughness).id:void 0,emissiveFactor:[x,g,h],mrrFactors:[a.metallicFactor,a.roughnessFactor,t.mrrFactors[2]],isSchematic:!1,...s}))}const x=H(e.indices||e.attributes.position.count,e.primitiveType),O=e.attributes.position.count,F=S(h,O);w(F,e.attributes.position,e.transform);const A=[[\"position\",{data:F.typedBuffer,size:F.elementCount,exclusive:!0}]],I=[[\"position\",x]];if(r(e.attributes.normal)){const t=S(h,O);o(n,e.transform),j(t,e.attributes.normal,n),A.push([\"normal\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"normal\",x])}if(r(e.attributes.tangent)){const t=S(b,O);o(n,e.transform),E(t,e.attributes.tangent,n),A.push([\"tangent\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"tangent\",x])}if(r(e.attributes.texCoord0)){const t=S(v,O);V(t,e.attributes.texCoord0),A.push([\"uv0\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"uv0\",x])}if(r(e.attributes.color)){const t=S(R,O);if(4===e.attributes.color.elementCount)e.attributes.color instanceof b?T(t,e.attributes.color,255):e.attributes.color instanceof R?W(t,e.attributes.color):e.attributes.color instanceof y&&T(t,e.attributes.color,1/256);else{G(t,255,255,255,255);const r=new B(t.buffer,0,4);e.attributes.color instanceof h?C(r,e.attributes.color,255):e.attributes.color instanceof B?U(r,e.attributes.color):e.attributes.color instanceof M&&C(r,e.attributes.color,1/256)}A.push([\"color\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"color\",x])}const k=new P(A,I);d.stageResources.geometries.push(k),d.stageResources.materials.push(c.get(i)),l&&(r(a.textureColor)&&d.stageResources.textures.push(m.get(a.textureColor)),r(a.textureNormal)&&d.stageResources.textures.push(m.get(a.textureNormal)),r(a.textureOcclusion)&&d.stageResources.textures.push(m.get(a.textureOcclusion)),r(a.textureEmissive)&&d.stageResources.textures.push(m.get(a.textureEmissive)),r(a.textureMetallicRoughness)&&d.stageResources.textures.push(m.get(a.textureMetallicRoughness))),d.numberOfVertices+=O;const L=k.boundingInfo;r(L)&&(g(d.boundingBox,L.getBBMin()),g(d.boundingBox,L.getBBMax()))}))})),l}function Q(e){switch(e){case\"BLEND\":return 0;case\"MASK\":return 2;case\"OPAQUE\":case null:case void 0:return 1}}function H(e,t){switch(t){case 4:return k(e);case 5:return I(e);case 6:return A(e)}}function J(e,t){for(let r=0;r<e.model.lods.length;++r){const o=e.model.lods[r];e.customMeta.esriTreeRendering=!0;for(const i of o.parts){const o=i.attributes.normal;if(s(o))return;const x=i.attributes.position,g=x.count,b=p(),v=p(),y=p(),B=S(R,g),M=S(h,g),w=a(u(),i.transform);for(let s=0;s<g;s++){x.getVec(s,v),o.getVec(s,b),n(v,v,i.transform),l(y,v,t.center),c(y,y,t.radius);const a=y[2],u=m(y),p=Math.min(.45+.55*u*u,1);c(y,y,t.radius),n(y,y,w),d(y,y),r+1!==e.model.lods.length&&e.model.lods.length>1&&f(y,y,b,a>-1?.2:Math.min(-4*a-3.8,1)),M.setVec(s,y),B.set(s,0,255*p),B.set(s,1,255*p),B.set(s,2,255*p),B.set(s,3,255)}i.attributes.normal=M,i.attributes.color=B}}}export{$ as fetch,K as gltfToEngineResources,q as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{E as t,R as n}from\"./common.js\";function a(t,n){return t[0]=n[0],t[1]=n[1],t}function r(t,n,a){return t[0]=n,t[1]=a,t}function s(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t}function o(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t}function u(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t}function c(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t}function e(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function i(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function f(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t}function M(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t}function h(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function l(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t}function m(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t}function d(t,n){const a=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(a*a+r*r)}function q(t,n){const a=n[0]-t[0],r=n[1]-t[1];return a*a+r*r}function b(t){const n=t[0],a=t[1];return Math.sqrt(n*n+a*a)}function p(t){const n=t[0],a=t[1];return n*n+a*a}function x(t,n){return t[0]=-n[0],t[1]=-n[1],t}function g(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function v(t,n){const a=n[0],r=n[1];let s=a*a+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s),t}function j(t,n){return t[0]*n[0]+t[1]*n[1]}function A(t,n,a){const r=n[0]*a[1]-n[1]*a[0];return t[0]=t[1]=0,t[2]=r,t}function _(t,n,a,r){const s=n[0],o=n[1];return t[0]=s+r*(a[0]-s),t[1]=o+r*(a[1]-o),t}function y(t,a){a=a||1;const r=2*n()*Math.PI;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t}function z(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[2]*s,t[1]=a[1]*r+a[3]*s,t}function D(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[2]*s+a[4],t[1]=a[1]*r+a[3]*s+a[5],t}function E(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[3]*s+a[6],t[1]=a[1]*r+a[4]*s+a[7],t}function I(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[4]*s+a[12],t[1]=a[1]*r+a[5]*s+a[13],t}function L(t,n,a,r){const s=n[0]-a[0],o=n[1]-a[1],u=Math.sin(r),c=Math.cos(r);return t[0]=s*c-o*u+a[0],t[1]=s*u+o*c+a[1],t}function P(t,n){const a=t[0],r=t[1],s=n[0],o=n[1];let u=a*a+r*r;u>0&&(u=1/Math.sqrt(u));let c=s*s+o*o;c>0&&(c=1/Math.sqrt(c));const e=(a*s+r*o)*u*c;return e>1?0:e<-1?Math.PI:Math.acos(e)}function O(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"}function k(t,n){return t[0]===n[0]&&t[1]===n[1]}function w(n,a){const r=n[0],s=n[1],o=a[0],u=a[1];return Math.abs(r-o)<=t*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-u)<=t*Math.max(1,Math.abs(s),Math.abs(u))}function B(t,n,a,r,s){let o=n[0]-a[0],u=n[1]-a[1];const c=(r[0]*o+r[1]*u)*(s-1);return o=r[0]*c,u=r[1]*c,t[0]=n[0]+o,t[1]=n[1]+u,t}const C=b,F=o,G=u,H=c,J=d,K=q,N=p,R=Object.freeze({__proto__:null,copy:a,set:r,add:s,subtract:o,multiply:u,divide:c,ceil:e,floor:i,min:f,max:M,round:h,scale:l,scaleAndAdd:m,distance:d,squaredDistance:q,length:b,squaredLength:p,negate:x,inverse:g,normalize:v,dot:j,cross:A,lerp:_,random:y,transformMat2:z,transformMat2d:D,transformMat3:E,transformMat4:I,rotate:L,angle:P,str:O,exactEquals:k,equals:w,projectAndScale:B,len:C,sub:F,mul:G,div:H,dist:J,sqrDist:K,sqrLen:N});export{c as A,e as B,i as C,h as D,g as E,y as F,E as G,I as H,P as I,O as J,w as K,C as L,G as M,H as N,K as O,N as P,q as a,d as b,a as c,J as d,k as e,o as f,l as g,F as h,v as i,A as j,j as k,b as l,s as m,x as n,_ as o,z as p,B as q,L as r,r as s,D as t,p as u,m as v,R as w,f as x,M as y,u as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0]}function r(n){return[n[0],n[1]]}function t(n,r){return[n,r]}function e(r){const t=n(),e=Math.min(2,r.length);for(let n=0;n<e;++n)t[n]=r[n];return t}function u(n,r){return new Float64Array(n,r,2)}function a(){return n()}function o(){return t(1,1)}function s(){return t(1,0)}function c(){return t(0,1)}const f=a(),i=o(),l=s(),_=c(),O=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,fromArray:e,createView:u,zeros:a,ones:o,unitX:s,unitY:c,ZEROS:f,ONES:i,UNIT_X:l,UNIT_Y:_});export{i as O,l as U,f as Z,n as a,r as b,u as c,e as d,c as e,t as f,_ as g,o,s as u,O as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,n.some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(r)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(l)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(n).some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}const t=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,r=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,n=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,l,/^jsapps.esri.com$/,r,s];export{a as adjustStaticAGOUrl,c as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,d){1===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.vertex.code.add(e`void forwardTextureCoordinates() {\nvuv0 = uv0;\n}`)),2===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.attributes.add(\"uvRegion\",\"vec4\"),t.varyings.add(\"vuvRegion\",\"vec4\"),t.vertex.code.add(e`void forwardTextureCoordinates() {\nvuv0 = uv0;\nvuvRegion = uvRegion;\n}`)),0===d.attributeTextureCoordinates&&t.vertex.code.add(e`void forwardTextureCoordinates() {}`)}export{t as TextureCoordinateAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o,t){const r=o.fragment;t.receiveAmbientOcclusion?(r.uniforms.add(\"ssaoTex\",\"sampler2D\"),r.uniforms.add(\"viewportPixelSz\",\"vec4\"),r.code.add(e`float evaluateAmbientOcclusion() {\nreturn 1.0 - texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n}\nfloat evaluateAmbientOcclusionInverse() {\nfloat ssao = texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\nreturn viewportPixelSz.z < 0.0 ? 1.0 : ssao;\n}`)):r.code.add(e`float evaluateAmbientOcclusion() { return 0.0; }\nfloat evaluateAmbientOcclusionInverse() { return 1.0; }`)}export{o as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){const d=e`vec3 decodeNormal(vec2 f) {\nfloat z = 1.0 - abs(f.x) - abs(f.y);\nreturn vec3(f + sign(f) * min(z, 0.0), z);\n}`;o.fragment.code.add(d),o.vertex.code.add(d)}export{o as DecodeNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{DecodeNormal as e}from\"../util/DecodeNormal.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o,d){0===d.normalType&&(o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`)),1===d.normalType&&(o.include(e),o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(r`vec3 normalModel() {\nreturn decodeNormal(normalCompressed);\n}`)),3===d.normalType&&(o.extensions.add(\"GL_OES_standard_derivatives\"),o.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`))}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.attributes.add(\"position\",\"vec3\"),o.vertex.code.add(e`vec3 positionModel() { return position; }`)}export{o as PositionAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{bindSliceUniforms as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{InstancedDoublePrecision as i}from\"../core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{bindVerticalOffsetUniforms as o}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{bindOutputHighlight as s}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassTerrainTexture as a}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindPBRUniforms as n}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{bindReadShadowMapViewCustomOrigin as l}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{bindVisualVariablesUniformsForSymbols as p}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{doublePrecisionRequiresObfuscation as c}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{bindProjectionMatrix as u,bindViewCustomOrigin as h,bindCameraPosition as d}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as m}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as f}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as v,ShaderTechniqueConfiguration as g}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as b}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as y,OITBlending as x,OITDepthTest as T,getOITPolygonOffset as P}from\"../lib/OrderIndependentTransparency.js\";import{Program as M}from\"../lib/Program.js\";import{stencilWriteMaskOn as S,stencilToolMaskBaseParams as C,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{colorMixModes as D,bindScreenSizePerspective as w}from\"../materials/internal/MaterialUtil.js\";import{D as j}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{makePipelineState as A,cullingParams as E,defaultDepthWriteParams as U,defaultColorWriteParams as z}from\"../../../webgl/renderState.js\";class R extends f{initializeProgram(e){const t=R.shader.get(),r=this.configuration,i=t.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:e.viewingMode,receiveShadows:r.receiveShadows,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:r.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:r.symbolColors,vvSize:r.vvSize,vvColor:r.vvColor,vvInstancingEnabled:!0,instanced:r.instanced,instancedColor:r.instancedColor,instancedDoublePrecision:r.instancedDoublePrecision,pbrMode:r.usePBR?r.isSchematic?2:1:0,hasMetalnessAndRoughnessTexture:r.hasMetalnessAndRoughnessTexture,hasEmissionTexture:r.hasEmissionTexture,hasOcclusionTexture:r.hasOcclusionTexture,hasNormalTexture:r.hasNormalTexture,hasColorTexture:r.hasColorTexture,receiveAmbientOcclusion:r.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:r.normalsTypeDerivate?3:0,doubleSidedMode:r.doubleSidedMode,vertexTangents:r.vertexTangents,attributeTextureCoordinates:r.hasMetalnessAndRoughnessTexture||r.hasEmissionTexture||r.hasOcclusionTexture||r.hasNormalTexture||r.hasColorTexture?1:0,textureAlphaPremultiplied:r.textureAlphaPremultiplied,attributeColor:r.vertexColors,screenSizePerspectiveEnabled:r.screenSizePerspective,verticalOffsetEnabled:r.verticalOffset,offsetBackfaces:r.offsetBackfaces,doublePrecisionRequiresObfuscation:c(e.rctx),alphaDiscardMode:r.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new M(e.rctx,i,b)}bindPass(e,t){var r,i;u(this.program,t.camera.projectionMatrix);const l=this.configuration.output;(1===this.configuration.output||t.multipassTerrainEnabled||3===l)&&this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),a(this.program,t)),7===l&&(this.program.setUniform1f(\"opacity\",e.opacity),this.program.setUniform1f(\"layerOpacity\",e.layerOpacity),this.program.setUniform4fv(\"externalColor\",e.externalColor),this.program.setUniform1i(\"colorMixMode\",D[e.colorMixMode])),0===l?(t.lighting.setUniforms(this.program,!1),this.program.setUniform3fv(\"ambient\",e.ambient),this.program.setUniform3fv(\"diffuse\",e.diffuse),this.program.setUniform4fv(\"externalColor\",e.externalColor),this.program.setUniform1i(\"colorMixMode\",D[e.colorMixMode]),this.program.setUniform1f(\"opacity\",e.opacity),this.program.setUniform1f(\"layerOpacity\",e.layerOpacity),this.configuration.usePBR&&n(this.program,e,this.configuration.isSchematic)):4===l&&s(this.program,t),p(this.program,e),o(this.program,e,t),w(e.screenSizePerspective,this.program,\"screenSizePerspectiveAlignment\"),2!==e.textureAlphaMode&&3!==e.textureAlphaMode||this.program.setUniform1f(\"textureAlphaCutoff\",e.textureAlphaCutoff),null==(r=t.shadowMap)||r.bind(this.program),null==(i=t.ssaoHelper)||i.bind(this.program,t.camera)}bindDraw(e){const o=this.configuration.instancedDoublePrecision?t(e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]):e.origin;h(this.program,o,e.camera.viewMatrix),this.program.rebindTextures(),(0===this.configuration.output||7===this.configuration.output||1===this.configuration.output&&this.configuration.screenSizePerspective||2===this.configuration.output&&this.configuration.screenSizePerspective||4===this.configuration.output&&this.configuration.screenSizePerspective)&&d(this.program,o,e.camera.viewInverseTransposeMatrix),2===this.configuration.output&&this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix),this.configuration.instancedDoublePrecision&&i.bindCustomOrigin(this.program,o),r(this.program,this.configuration,e.slicePlane,o),0===this.configuration.output&&l(this.program,e,o)}setPipeline(e,t){const r=this.configuration,i=3===e,o=2===e;return A({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?y:x(e),culling:L(r)&&E(r.cullFace),depthTest:{func:T(e)},depthWrite:i||o?r.writeDepth&&U:null,colorWrite:z,stencilWrite:r.sceneHasOcludees?S:null,stencilTest:r.sceneHasOcludees?t?C:O:null,polygonOffset:i||o?null:P(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipeline(this.configuration.transparencyPassType,!0),this.setPipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}function L(e){return e.cullFace?0!==e.cullFace:!e.slicePlaneEnabled&&(!e.transparent&&!e.doubleSidedMode)}R.shader=new m(j,(()=>import(\"./DefaultMaterial.glsl.js\")));class H extends g{constructor(){super(...arguments),this.output=0,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.isSchematic=!1,this.vertexColors=!1,this.offsetBackfaces=!1,this.symbolColors=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.receiveAmbientOcclusion=!1,this.screenSizePerspective=!1,this.textureAlphaPremultiplied=!1,this.hasColorTexture=!1,this.usePBR=!1,this.hasMetalnessAndRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.instanced=!1,this.instancedColor=!1,this.instancedDoublePrecision=!1,this.vertexTangents=!1,this.normalsTypeDerivate=!1,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparent=!1,this.enableOffset=!0,this.cullFace=0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([v({count:8})],H.prototype,\"output\",void 0),e([v({count:4})],H.prototype,\"alphaDiscardMode\",void 0),e([v({count:3})],H.prototype,\"doubleSidedMode\",void 0),e([v()],H.prototype,\"isSchematic\",void 0),e([v()],H.prototype,\"vertexColors\",void 0),e([v()],H.prototype,\"offsetBackfaces\",void 0),e([v()],H.prototype,\"symbolColors\",void 0),e([v()],H.prototype,\"vvSize\",void 0),e([v()],H.prototype,\"vvColor\",void 0),e([v()],H.prototype,\"verticalOffset\",void 0),e([v()],H.prototype,\"receiveShadows\",void 0),e([v()],H.prototype,\"slicePlaneEnabled\",void 0),e([v()],H.prototype,\"sliceHighlightDisabled\",void 0),e([v()],H.prototype,\"receiveAmbientOcclusion\",void 0),e([v()],H.prototype,\"screenSizePerspective\",void 0),e([v()],H.prototype,\"textureAlphaPremultiplied\",void 0),e([v()],H.prototype,\"hasColorTexture\",void 0),e([v()],H.prototype,\"usePBR\",void 0),e([v()],H.prototype,\"hasMetalnessAndRoughnessTexture\",void 0),e([v()],H.prototype,\"hasEmissionTexture\",void 0),e([v()],H.prototype,\"hasOcclusionTexture\",void 0),e([v()],H.prototype,\"hasNormalTexture\",void 0),e([v()],H.prototype,\"instanced\",void 0),e([v()],H.prototype,\"instancedColor\",void 0),e([v()],H.prototype,\"instancedDoublePrecision\",void 0),e([v()],H.prototype,\"vertexTangents\",void 0),e([v()],H.prototype,\"normalsTypeDerivate\",void 0),e([v()],H.prototype,\"writeDepth\",void 0),e([v()],H.prototype,\"sceneHasOcludees\",void 0),e([v()],H.prototype,\"transparent\",void 0),e([v()],H.prototype,\"enableOffset\",void 0),e([v({count:3})],H.prototype,\"cullFace\",void 0),e([v({count:4})],H.prototype,\"transparencyPassType\",void 0),e([v()],H.prototype,\"multipassTerrainEnabled\",void 0),e([v()],H.prototype,\"cullAboveGround\",void 0);export{R as DefaultMaterialTechnique,H as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{R as e}from\"../../../../chunks/RealisticTree.glsl.js\";import{doublePrecisionRequiresObfuscation as r}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{DefaultMaterialTechnique as t}from\"./DefaultMaterialTechnique.js\";class a extends t{initializeProgram(e){const s=a.shader.get(),t=this.configuration,l=s.build({OITEnabled:0===t.transparencyPassType,output:t.output,viewingMode:e.viewingMode,receiveShadows:t.receiveShadows,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:t.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:t.symbolColors,vvSize:t.vvSize,vvColor:t.vvColor,vvInstancingEnabled:!0,instanced:t.instanced,instancedColor:t.instancedColor,instancedDoublePrecision:t.instancedDoublePrecision,pbrMode:t.usePBR?1:0,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:t.hasColorTexture,receiveAmbientOcclusion:t.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:0,doubleSidedMode:2,vertexTangents:!1,attributeTextureCoordinates:t.hasColorTexture?1:0,textureAlphaPremultiplied:t.textureAlphaPremultiplied,attributeColor:t.vertexColors,screenSizePerspectiveEnabled:t.screenSizePerspective,verticalOffsetEnabled:t.verticalOffset,offsetBackfaces:t.offsetBackfaces,doublePrecisionRequiresObfuscation:r(e.rctx),alphaDiscardMode:t.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new o(e.rctx,l,i)}}a.shader=new s(e,(()=>import(\"../core/shaderLibrary/default/RealisticTree.glsl.js\")));export{a as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/mat3f64.js\";import{s as t,g as i,n as s,f as r,l as a,a as n,d as o,t as l}from\"../../../../chunks/vec3.js\";import{c,f as u}from\"../../../../chunks/vec3f64.js\";import{newLayout as h}from\"../../support/buffer/InterleavedLayout.js\";import{defaultMaskAlphaCutoff as d}from\"../core/shaderLibrary/util/AlphaDiscard.glsl.js\";import p from\"../lib/GLMaterialTexture.js\";import{Material as m,materialParametersDefaults as f}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as v}from\"../lib/OrderIndependentTransparency.js\";import{getVerticalOffsetObject3D as g}from\"../lib/verticalOffsetUtils.js\";import{writeDefaultAttributes as C}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as b,intersectTriangleGeometry as x}from\"./internal/MaterialUtil.js\";import{DefaultMaterialTechniqueConfiguration as S,DefaultMaterialTechnique as T}from\"../shaders/DefaultMaterialTechnique.js\";import{RealisticTreeTechnique as q}from\"../shaders/RealisticTreeTechnique.js\";class y extends m{constructor(e){super(e,P),this.supportsEdges=!0,this.techniqueConfig=new S,this.vertexBufferLayout=w(this.parameters),this.instanceBufferLayout=e.instanced?E(this.parameters):null}isVisibleInPass(e){return 4!==e&&6!==e&&7!==e||this.parameters.castShadows}isVisible(){const e=this.parameters;if(!super.isVisible()||0===e.layerOpacity)return!1;const t=e.instanced,i=e.vertexColors,s=e.symbolColors,r=!!t&&t.indexOf(\"color\")>-1,a=e.vvColorEnabled,n=\"replace\"===e.colorMixMode,o=e.opacity>0,l=e.externalColor&&e.externalColor[3]>0;return i&&(r||a||s)?!!n||o:i?n?l:o:r||a||s?!!n||o:n?l:o}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasNormalTexture=!!this.parameters.normalTextureId,this.techniqueConfig.hasColorTexture=!!this.parameters.textureId,this.techniqueConfig.vertexTangents=this.parameters.vertexTangents,this.techniqueConfig.instanced=!!this.parameters.instanced,this.techniqueConfig.instancedDoublePrecision=this.parameters.instancedDoublePrecision,this.techniqueConfig.vvSize=this.parameters.vvSizeEnabled,this.techniqueConfig.verticalOffset=null!==this.parameters.verticalOffset,this.techniqueConfig.screenSizePerspective=null!==this.parameters.screenSizePerspective,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.sliceHighlightDisabled=this.parameters.sliceHighlightDisabled,this.techniqueConfig.alphaDiscardMode=this.parameters.textureAlphaMode,this.techniqueConfig.normalsTypeDerivate=\"screenDerivative\"===this.parameters.normals,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.cullFace=this.parameters.slicePlaneEnabled?0:this.parameters.cullFace,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,0!==e&&7!==e||(this.techniqueConfig.vertexColors=this.parameters.vertexColors,this.techniqueConfig.symbolColors=this.parameters.symbolColors,this.parameters.treeRendering?this.techniqueConfig.doubleSidedMode=2:this.techniqueConfig.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?1:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?2:0,this.techniqueConfig.instancedColor=!!this.parameters.instanced&&this.parameters.instanced.indexOf(\"color\")>-1,this.techniqueConfig.receiveShadows=this.parameters.receiveShadows&&this.parameters.shadowMappingEnabled,this.techniqueConfig.receiveAmbientOcclusion=!!t.ssaoEnabled&&this.parameters.receiveSSAO,this.techniqueConfig.vvColor=this.parameters.vvColorEnabled,this.techniqueConfig.textureAlphaPremultiplied=!!this.parameters.textureAlphaPremultiplied,this.techniqueConfig.usePBR=this.parameters.usePBR,this.techniqueConfig.hasMetalnessAndRoughnessTexture=!!this.parameters.metallicRoughnessTextureId,this.techniqueConfig.hasEmissionTexture=!!this.parameters.emissiveTextureId,this.techniqueConfig.hasOcclusionTexture=!!this.parameters.occlusionTextureId,this.techniqueConfig.offsetBackfaces=!(!this.parameters.transparent||!this.parameters.offsetTransparentBackfaces),this.techniqueConfig.isSchematic=this.parameters.usePBR&&this.parameters.isSchematic,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<v),this.techniqueConfig}intersect(e,c,u,h,d,p,m){if(null!==this.parameters.verticalOffset){const e=h.camera;t(j,u[12],u[13],u[14]);let c=null;switch(h.viewingMode){case 1:c=s(D,j);break;case 2:c=i(D,A)}let m=0;if(null!==this.parameters.verticalOffset){const t=r(L,j,e.eye),i=a(t),s=n(t,t,1/i);let l=null;this.parameters.screenSizePerspective&&(l=o(c,s)),m+=b(e,i,this.parameters.verticalOffset,l,this.parameters.screenSizePerspective)}n(c,c,m),l(z,c,h.transform.inverseRotation),d=r(I,d,z),p=r(B,p,z)}x(e,c,h,d,p,g(h.verticalOffset),m)}requiresSlot(e){return e===(this.parameters.transparent?this.parameters.writeDepth?4:7:2)||20===e}createGLMaterial(e){return 0===e.output||7===e.output||1===e.output||2===e.output||3===e.output||4===e.output?new O(e):null}createBufferWriter(){return new M(this.vertexBufferLayout,this.instanceBufferLayout)}}class O extends p{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(t.treeRendering?q:T,e)}_updateShadowState(e){e.shadowMappingEnabled!==this._material.parameters.shadowMappingEnabled&&this._material.setParameters({shadowMappingEnabled:e.shadowMappingEnabled})}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&this._material.setParameters({sceneHasOcludees:e.hasOccludees})}beginSlot(e){return 0!==this._output&&7!==this._output||(this._updateShadowState(e),this._updateOccludeeState(e)),this.updateParameters(e)}bind(e,t){t.bindPass(this._material.parameters,e),this.bindTextures(t.program)}}const P={textureId:void 0,initTextureTransparent:!1,isSchematic:!1,usePBR:!1,normalTextureId:void 0,vertexTangents:!1,occlusionTextureId:void 0,emissiveTextureId:void 0,metallicRoughnessTextureId:void 0,emissiveFactor:[0,0,0],mrrFactors:[0,1,.5],ambient:[.2,.2,.2],diffuse:[.8,.8,.8],externalColor:[1,1,1,1],colorMixMode:\"multiply\",opacity:1,layerOpacity:1,vertexColors:!1,symbolColors:!1,doubleSided:!1,doubleSidedType:\"normal\",cullFace:2,instanced:void 0,instancedDoublePrecision:!1,normals:\"default\",receiveSSAO:!0,receiveShadows:!0,castShadows:!0,shadowMappingEnabled:!1,verticalOffset:null,screenSizePerspective:null,slicePlaneEnabled:!1,sliceHighlightDisabled:!1,offsetTransparentBackfaces:!1,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvSizeValue:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:e(),transparent:!1,writeDepth:!0,textureAlphaMode:0,textureAlphaCutoff:d,textureAlphaPremultiplied:!1,sceneHasOcludees:!1,...f};class M{constructor(e,t){this.vertexBufferLayout=e,this.instanceBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,i,s){C(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,i,s)}}function w(e){const t=e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId,i=h().vec3f(\"position\").vec3f(\"normal\");return e.vertexTangents&&i.vec4f(\"tangent\"),t&&i.vec2f(\"uv0\"),e.vertexColors&&i.vec4u8(\"color\"),e.symbolColors&&i.vec4u8(\"symbolColor\"),i}function E(e){let t=h();return t=e.instancedDoublePrecision?t.vec3f(\"modelOriginHi\").vec3f(\"modelOriginLo\").mat3f(\"model\").mat3f(\"modelNormal\"):t.mat4f(\"model\").mat4f(\"modelNormal\"),e.instanced&&e.instanced.indexOf(\"color\")>-1&&(t=t.vec4f(\"instanceColor\")),e.instanced&&e.instanced.indexOf(\"featureAttribute\")>-1&&(t=t.vec4f(\"instanceFeatureAttribute\")),t}const I=c(),B=c(),A=u(0,0,1),D=c(),z=c(),j=c(),L=c();export{y as DefaultMaterial,E as getInstanceBufferLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../../chunks/vec3f64.js\";import{DoublePrecision as i}from\"../util/DoublePrecision.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{encodeDoubleArraySplit as n}from\"../../../../../webgl/doublePrecisionUtils.js\";function o(e,n){n.instanced&&n.instancedDoublePrecision&&(e.attributes.add(\"modelOriginHi\",\"vec3\"),e.attributes.add(\"modelOriginLo\",\"vec3\"),e.attributes.add(\"model\",\"mat3\"),e.attributes.add(\"modelNormal\",\"mat3\")),n.instancedDoublePrecision&&(e.vertex.include(i,n),e.vertex.uniforms.add(\"viewOriginHi\",\"vec3\"),e.vertex.uniforms.add(\"viewOriginLo\",\"vec3\"));const o=[r`\n    vec3 calculateVPos() {\n      ${n.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `,r`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${n.instancedDoublePrecision?r`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `,r`\n    vec3 dpNormal(vec4 _normal) {\n      ${n.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `,r`\n    vec3 dpNormalView(vec4 _normal) {\n      ${n.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `,n.vertexTangents?r`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${n.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `:r``];e.vertex.code.add(o[0]),e.vertex.code.add(o[1]),e.vertex.code.add(o[2]),2===n.output&&e.vertex.code.add(o[3]),e.vertex.code.add(o[4])}!function(e){class i{}function r(e,i){n(i,t,a,3),e.setUniform3fv(\"viewOriginHi\",t),e.setUniform3fv(\"viewOriginLo\",a)}e.Uniforms=i,e.bindCustomOrigin=r}(o||(o={}));const t=e(),a=e();export{o as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";function i({code:e},i){i.doublePrecisionRequiresObfuscation?e.add(c`vec3 dpPlusFrc(vec3 a, vec3 b) {\nreturn mix(a, a + b, vec3(notEqual(b, vec3(0))));\n}\nvec3 dpMinusFrc(vec3 a, vec3 b) {\nreturn mix(vec3(0), a - b, vec3(notEqual(a, b)));\n}\nvec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = dpPlusFrc(hiA, hiB);\nvec3 e = dpMinusFrc(t1, hiA);\nvec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\nreturn t1 + t2;\n}`):e.add(c`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = hiA + hiB;\nvec3 e = t1 - hiA;\nvec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\nreturn t1 + t2;\n}`)}function r(c){return!!e(\"force-double-precision-obfuscation\")||c.driverTest.doublePrecisionRequiresObfuscation}export{i as DoublePrecision,r as doublePrecisionRequiresObfuscation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as s}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";const t=e(0,.6,.2);function r(e,t){const r=e.fragment,a=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;1===t.pbrMode&&a&&e.include(s,t),2!==t.pbrMode?(0===t.pbrMode&&r.code.add(o`float getBakedOcclusion() { return 1.0; }`),1===t.pbrMode&&(r.uniforms.add(\"emissionFactor\",\"vec3\"),r.uniforms.add(\"mrrFactors\",\"vec3\"),r.code.add(o`vec3 mrr;\nvec3 emission;\nfloat occlusion;`),t.hasMetalnessAndRoughnessTexture&&(r.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),r.code.add(o`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)),t.hasEmissionTexture&&(r.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texEmissionSize\",\"vec2\"),r.code.add(o`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)),t.hasOcclusionTexture?(r.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texOcclusionSize\",\"vec2\"),r.code.add(o`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)):r.code.add(o`float getBakedOcclusion() { return 1.0; }`),r.code.add(o`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${a?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):r.code.add(o`const vec3 mrr = vec3(0.0, 0.6, 0.2);\nconst vec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`)}function a(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}export{t as PBRSchematicMRRValues,r as PhysicallyBasedRenderingParameters,a as bindPBRUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n,t){const e=n.fragment,a=void 0!==t.lightingSphericalHarmonicsOrder?t.lightingSphericalHarmonicsOrder:2;0===a?(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===a?(e.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===a&&(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),1!==t.pbrMode&&2!==t.pbrMode||e.code.add(i`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}export{n as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n){const t=n.fragment;t.uniforms.add(\"lightingMainDirection\",\"vec3\"),t.uniforms.add(\"lightingMainIntensity\",\"vec3\"),t.uniforms.add(\"lightingFixedFactor\",\"float\"),t.code.add(i`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\nfloat dotVal = clamp(dot(normal_global, lightingMainDirection), 0.0, 1.0);\ndotVal = mix(dotVal, 1.0, lightingFixedFactor);\nreturn lightingMainIntensity * ((1.0 - shadowing) * dotVal);\n}`)}export{n as EvaluateMainLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{EvaluateAmbientLighting as i}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateAmbientOcclusion as n}from\"./EvaluateAmbientOcclusion.glsl.js\";import{EvaluateMainLighting as o}from\"./EvaluateMainLighting.glsl.js\";import{PhysicallyBasedRendering as e}from\"./PhysicallyBasedRendering.glsl.js\";import{PiUtils as t}from\"./PiUtils.glsl.js\";import{ReadShadowMap as a}from\"./ReadShadowMap.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function l(l,d){const c=l.fragment;l.include(o),l.include(n,d),0!==d.pbrMode&&l.include(e,d),l.include(i,d),d.receiveShadows&&l.include(a,d),c.uniforms.add(\"lightingGlobalFactor\",\"float\"),c.uniforms.add(\"ambientBoostFactor\",\"float\"),l.include(t),c.code.add(r`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${0===d.pbrMode?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),c.code.add(r`\n    float additionalDirectedAmbientLight(vec3 vPosWorld) {\n      float vndl = dot(${1===d.viewingMode?r`normalize(vPosWorld)`:r`vec3(0.0, 0.0, 1.0)`}, lightingMainDirection);\n      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n    }\n  `),c.code.add(r`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\nfloat additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);\nreturn (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * lightingMainIntensity;\n}`),0===d.pbrMode||4===d.pbrMode?c.code.add(r`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight)\n{\nvec3 mainLighting = evaluateMainLighting(normalWorld, shadow);\nvec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);\nvec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\nvec3 totalLight = mainLighting + ambientLighting + additionalLight;\ntotalLight = min(totalLight, vec3(PI));\nvec3 outColor = vec3((albedoLinear / PI) * totalLight);\nreturn pow(outColor, vec3(INV_GAMMA_SRGB));\n}`):1!==d.pbrMode&&2!==d.pbrMode||(c.code.add(r`const float fillLightIntensity = 0.25;\nconst float horizonLightDiffusion = 0.4;\nconst float additionalAmbientIrradianceFactor = 0.02;\nvec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)\n{\nvec3 viewDirection = -viewDir;\nvec3 mainLightDirection = lightingMainDirection;\nvec3 h = normalize(viewDirection + mainLightDirection);\nPBRShadingInfo inputs;\ninputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\ninputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\ninputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);\ninputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);\ninputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\nvec3 reflectedView = normalize(reflect(viewDirection, normal));\ninputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\ninputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\ninputs.ssao = ssao;\ninputs.metalness = mrr[0];\ninputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`),c.code.add(r`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\ninputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));\ninputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`),c.code.add(r`vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\nambientDir = ambientDir != vec3(0.0)? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\ninputs.NdotAmbDir = abs(dot(normal, ambientDir));\nvec3 mainLightIrradianceComponent = inputs.NdotL * (1.0 - shadow) * lightingMainIntensity;\nvec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * lightingMainIntensity * fillLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\ninputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\ninputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`),c.code.add(r`vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\nvec3 horizonRingH = normalize(viewDirection + horizonRingDir);\ninputs.NdotH_Horizon = dot(normal, horizonRingH);\nvec3 mainLightRadianceComponent = normalDistribution(inputs.NdotH, inputs.roughness) * lightingMainIntensity * (1.0 - shadow);\nvec3 horizonLightRadianceComponent = normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * lightingMainIntensity * fillLightIntensity;\nvec3 ambientLightRadianceComponent = calculateAmbientRadiance(ssao) + additionalLight;\ninputs.skyRadianceToSurface = ambientLightRadianceComponent + mainLightRadianceComponent + horizonLightRadianceComponent;\ninputs.groundRadianceToSurface = GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) + mainLightRadianceComponent;\ninputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);`),c.code.add(r`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = pow(_emission, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${2===d.pbrMode?r`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:r`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `))}export{l as EvaluateSceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\nvec3 camToVert = posWorld - camPosWorld;\nbool isBackface = dot(camToVert, normalWorld) > 0.0;\nif (isBackface) {\nposClip.z += 0.0000003 * posClip.w;\n}\nreturn posClip;\n}`)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Slice as o}from\"../Slice.glsl.js\";import{Transform as r}from\"../Transform.glsl.js\";import{NormalAttribute as e}from\"../attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttribute as t}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as i}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as a}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as l}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as s}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlpha as d}from\"../util/AlphaDiscard.glsl.js\";import{glsl as n}from\"../../shaderModules/interfaces.js\";function u(u,c){const p=u.vertex.code,v=u.fragment.code;1!==c.output&&3!==c.output||(u.include(r,{linearDepth:!0}),u.include(t,c),u.include(s,c),u.include(a,c),u.include(o,c),u.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),u.varyings.add(\"depth\",\"float\"),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(n`void main(void) {\nvpos = calculateVPos();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPositionWithDepth(proj, view, vpos, cameraNearFar, depth);\nforwardTextureCoordinates();\n}`),u.include(d,c),v.add(n`\n      void main(void) {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),2===c.output&&(u.include(r,{linearDepth:!1}),u.include(e,c),u.include(i,c),u.include(t,c),u.include(s,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),u.vertex.uniforms.add(\"viewNormal\",\"mat4\"),u.varyings.add(\"vPositionView\",\"vec3\"),p.add(n`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${0===c.normalType?n`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(o,c),u.include(d,c),v.add(n`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${3===c.normalType?n`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:n`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),4===c.output&&(u.include(r,{linearDepth:!1}),u.include(t,c),u.include(s,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(n`void main(void) {\nvpos = calculateVPos();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();\n}`),u.include(o,c),u.include(d,c),u.include(l),v.add(n`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{u as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ColorConversion as e}from\"./ColorConversion.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function i(i){i.include(e),i.code.add(t`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${t.int(1)}) {\n        return allMixed;\n      }\n      else if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${t.int(3)}) {\n        return externalColor;\n      }\n      else {\n        // tint (or something invalid)\n        float vIn = rgb2v(internalMixed);\n        vec3 hsvTint = rgb2hsv(externalColor);\n        vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n        return hsv2rgb(hsvOut);\n      }\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${t.int(3)}) {\n        return externalOpacity;\n      }\n      else {\n        // multiply or tint (or something invalid)\n        return allMixed;\n      }\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../../../core/shaderModules/interfaces.js\";function l(l){l.vertex.code.add(o`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${o.int(3)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${o.int(4)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{l as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{DecodeSymbolColor as o}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";function r(r,l){l.symbolColor?(r.include(o),r.attributes.add(\"symbolColor\",\"vec4\"),r.varyings.add(\"colorMixMode\",\"mediump float\")):r.fragment.uniforms.add(\"colorMixMode\",\"int\"),l.symbolColor?r.vertex.code.add(e`int symbolColorMixMode;\nvec4 getSymbolColor() {\nreturn decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n}\nvoid forwardColorMixMode() {\ncolorMixMode = float(symbolColorMixMode) + 0.5;\n}`):r.vertex.code.add(e`vec4 getSymbolColor() { return vec4(1.0); }\nvoid forwardColorMixMode() {}`)}export{r as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as o}from\"../../../../../../chunks/mat3f64.js\";import{c as r}from\"../../../../../../chunks/mat4f64.js\";import{c as e}from\"../../../../../../chunks/vec3f64.js\";import{PositionAttribute as i}from\"./PositionAttribute.glsl.js\";import{DoublePrecision as m}from\"../util/DoublePrecision.glsl.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";function d(o,r){o.include(i),o.vertex.include(m,r),o.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),o.varyings.add(\"vPosition_view\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_ViewFromCameraRelative_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_ProjFromView\",\"mat4\"),o.vertex.code.add(a`vec3 positionWorldCameraRelative() {\nvec3 rotatedModelPosition = uTransform_WorldFromModel_RS * positionModel();\nvec3 transform_CameraRelativeFromModel = dpAdd(\nuTransform_WorldFromModel_TL,\nuTransform_WorldFromModel_TH,\n-uTransform_WorldFromView_TL,\n-uTransform_WorldFromView_TH\n);\nreturn transform_CameraRelativeFromModel + rotatedModelPosition;\n}\nvec3 position_view() {\nreturn uTransform_ViewFromCameraRelative_RS * positionWorldCameraRelative();\n}\nvoid forwardPosition() {\nvPositionWorldCameraRelative = positionWorldCameraRelative();\nvPosition_view = position_view();\ngl_Position = uTransform_ProjFromView * vec4(vPosition_view, 1.0);\n}\nvec3 positionWorld() {\nreturn uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n}`),o.fragment.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.fragment.code.add(a`vec3 positionWorld() {\nreturn uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n}`)}!function(i){class m{constructor(){this.worldFromModel_RS=o(),this.worldFromModel_TH=e(),this.worldFromModel_TL=e()}}i.ModelTransform=m;class a{constructor(){this.worldFromView_TH=e(),this.worldFromView_TL=e(),this.viewFromCameraRelative_RS=o(),this.projFromView=r()}}function d(o,r){o.setUniformMatrix3fv(\"uTransform_WorldFromModel_RS\",r.worldFromModel_RS),o.setUniform3fv(\"uTransform_WorldFromModel_TH\",r.worldFromModel_TH),o.setUniform3fv(\"uTransform_WorldFromModel_TL\",r.worldFromModel_TL)}function s(o,r){o.setUniform3fv(\"uTransform_WorldFromView_TH\",r.worldFromView_TH),o.setUniform3fv(\"uTransform_WorldFromView_TL\",r.worldFromView_TL),o.setUniformMatrix4fv(\"uTransform_ProjFromView\",r.projFromView),o.setUniformMatrix3fv(\"uTransform_ViewFromCameraRelative_RS\",r.viewFromCameraRelative_RS)}i.ViewProjectionTransform=a,i.bindModelTransform=d,i.bindViewProjTransform=s}(d||(d={}));export{d as VertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{NormalAttribute as o}from\"./NormalAttribute.glsl.js\";import{VertexPosition as r}from\"./VertexPosition.glsl.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(o,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(a`void forwardNormal() {\nvNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\nvNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n}`)):2===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(a`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?a`normalize(vPositionWorldCameraRelative);`:a`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(a`void forwardNormal() {}`)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";function r(r,e){const m=r.fragment;m.code.add(a`struct ShadingNormalParameters {\nvec3 normalView;\nvec3 viewDirection;\n} shadingParams;`),1===e.doubleSidedMode?m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n}`):2===e.doubleSidedMode?m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n}`):m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn normalize(params.normalView);\n}`)}export{r as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{Slice as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as m}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ReadLinearDepth as v}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{ComputeNormalTexture as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{multipassTerrainTest as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{Normals as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMap as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{VisualVariables as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as L,DiscardOrAdjustAlpha as j}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{HeaderComment as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js\";import{MixExternalColor as T}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{glsl as E}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as O}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function P(P){const _=new O,S=_.vertex.code,$=_.fragment.code;return _.include(M,{name:\"Default Material Shader\",output:P.output}),_.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),_.include(t),_.varyings.add(\"vpos\",\"vec3\"),_.include(C,P),_.include(i,P),_.include(g,P),0!==P.output&&7!==P.output||(_.include(l,P),_.include(a,{linearDepth:!1}),0===P.normalType&&P.offsetBackfaces&&_.include(r),_.include(p,P),_.include(c,P),P.instancedColor&&_.attributes.add(\"instanceColor\",\"vec4\"),_.varyings.add(\"localvpos\",\"vec3\"),_.include(s,P),_.include(e,P),_.include(n,P),_.include(d,P),_.vertex.uniforms.add(\"externalColor\",\"vec4\"),_.varyings.add(\"vcolorExt\",\"vec4\"),P.multipassTerrainEnabled&&_.varyings.add(\"depth\",\"float\"),S.add(E`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${P.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${E.float(L)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        }\n        else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${0===P.normalType?E`\n          vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${P.vertexTangents?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, vpos);\n          ${0===P.normalType&&P.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n        }\n\n        ${P.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n      }\n    `)),7===P.output&&(_.include(o,P),_.include(j,P),P.multipassTerrainEnabled&&(_.fragment.include(v),_.include(h,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.fragment.include(T),$.add(E`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?E`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:E`vec4 texColor = vec4(1.0);`}\n        ${P.attributeColor?E`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:E`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===P.output&&(_.include(o,P),_.include(b,P),_.include(u,P),_.include(j,P),P.receiveShadows&&_.include(y,P),P.multipassTerrainEnabled&&(_.fragment.include(v),_.include(h,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.include(w,P),_.include(x,P),_.fragment.include(T),_.include(f,P),$.add(E`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?E`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:E`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - camPos);\n        ${3===P.normalType?E`\n        vec3 normal = screenDerivativeNormal(localvpos);`:E`\n        shadingParams.normalView = vNormalWorld;\n        vec3 normal = shadingNormal(shadingParams);`}\n        ${1===P.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${P.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===P.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${P.attributeColor?E`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:E`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${P.hasNormalTexture?E`\n              mat3 tangentSpace = ${P.vertexTangents?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n              vec3 shadedNormal = computeTextureNormal(tangentSpace, vuv0);`:\"vec3 shadedNormal = normal;\"}\n        ${1===P.pbrMode||2===P.pbrMode?1===P.viewingMode?E`vec3 normalGround = normalize(vpos + localOrigin);`:E`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:E``}\n        ${1===P.pbrMode||2===P.pbrMode?E`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${P.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),_.include(m,P),_}const _=Object.freeze({__proto__:null,build:P});export{_ as D,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VerticalOffset as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as g}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ReadLinearDepth as m}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{EvaluateAmbientOcclusion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{multipassTerrainTest as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{PhysicallyBasedRendering as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMap as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{VisualVariables as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as x,DiscardOrAdjustAlpha as y}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{MixExternalColor as C}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{glsl as L}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as M}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function j(j){const E=new M,O=E.vertex.code,_=E.fragment.code;return E.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),E.include(t),E.varyings.add(\"vpos\",\"vec3\"),E.include(w,j),E.include(i,j),E.include(c,j),0!==j.output&&7!==j.output||(E.include(l,j),E.include(a,{linearDepth:!1}),j.offsetBackfaces&&E.include(o),j.instancedColor&&E.attributes.add(\"instanceColor\",\"vec4\"),E.varyings.add(\"vNormalWorld\",\"vec3\"),E.varyings.add(\"localvpos\",\"vec3\"),j.multipassTerrainEnabled&&E.varyings.add(\"depth\",\"float\"),E.include(n,j),E.include(e,j),E.include(d,j),E.include(s,j),E.vertex.uniforms.add(\"externalColor\",\"vec4\"),E.varyings.add(\"vcolorExt\",\"vec4\"),O.add(L`\n        void main(void) {\n          forwardNormalizedVertexColor();\n          vcolorExt = externalColor;\n          ${j.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n          vcolorExt *= vvColor();\n          vcolorExt *= getSymbolColor();\n          forwardColorMixMode();\n\n          if (vcolorExt.a < ${L.float(x)}) {\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          }\n          else {\n            vpos = calculateVPos();\n            localvpos = vpos - view[3].xyz;\n            vpos = subtractOrigin(vpos);\n            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n            vpos = addVerticalOffset(vpos, localOrigin);\n            gl_Position = transformPosition(proj, view, vpos);\n            ${j.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n          }\n          ${j.multipassTerrainEnabled?L`depth = (view * vec4(vpos, 1.0)).z;`:\"\"}\n          forwardLinearDepth();\n          forwardTextureCoordinates();\n        }\n      `)),7===j.output&&(E.include(r,j),E.include(y,j),j.multipassTerrainEnabled&&(E.fragment.include(m),E.include(u,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.fragment.include(C),_.add(L`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?L`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?L`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:L`vec4 texColor = vec4(1.0);`}\n        ${j.attributeColor?L`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:L`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===j.output&&(E.include(r,j),E.include(p,j),E.include(v,j),E.include(y,j),j.receiveShadows&&E.include(h,j),j.multipassTerrainEnabled&&(E.fragment.include(m),E.include(u,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.include(f,j),E.include(b,j),E.fragment.include(C),_.add(L`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?L`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?L`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:L`vec4 texColor = vec4(1.0);`}\n        vec3 viewDirection = normalize(vpos - camPos);\n        ${1===j.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${j.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===j.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${j.attributeColor?L`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:L`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${L`\n        vec3 shadedNormal = normalize(vNormalWorld);\n        albedo_ *= 1.2;\n        vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);\n        float alignmentLightView = clamp(dot(viewForward, -lightingMainDirection), 0.0, 1.0);\n        float transmittance = 1.0 - clamp(dot(viewForward, shadedNormal), 0.0, 1.0);\n        float treeRadialFalloff = vColor.r;\n        float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n        additionalLight += backLightFactor * lightingMainIntensity;`}\n        ${1===j.pbrMode||2===j.pbrMode?1===j.viewingMode?L`vec3 normalGround = normalize(vpos + localOrigin);`:L`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:L``}\n        ${1===j.pbrMode||2===j.pbrMode?L`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${j.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),E.include(g,j),E}const E=Object.freeze({__proto__:null,build:j});export{E as R,j as b};\n"],"sourceRoot":""}