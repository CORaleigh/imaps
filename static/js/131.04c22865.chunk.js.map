{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["i","e","a","r","properties","customParameters","d","url","t","l","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","default","title","parsedUrl","n","c","y","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","s","f","serverType","o","sublayer","FeatureServer","StreamServer","VectorTileServer","u","m","then","S","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","FeatureLayer","SceneLayer","I","p","layerInfos","layerIds","v","w","b","type","hasOwnProperty","name","serviceUrl","layersJSON","serviceJSON","map","reverse","filter","currentVersion","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/131.04c22865.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{getFilename as t,urlToObject as l}from\"../../core/urlUtils.js\";import n from\"../../request.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,a,t){function l(e,l){const n={...t,layerId:e,sublayerTitleMode:\"service-name\"};return r(l)&&(n.sourceJSON=l),new a.Constructor(n)}a.sublayerIds.forEach((r=>{const t=l(r,y(a.sublayerInfos,r));e.add(t)})),a.tableIds.forEach((r=>{const t=l(r,y(a.tableInfos,r));e.tables.add(t)}))}async function d(r,t){let l=s(r);if(e(l)&&(l=await f(r,t)),e(l))throw new a(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:r});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":m(r,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=S(r,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=S(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},I=await u;if(y[I]&&null==o){const e=await p(r,n,t);c&&(d.sublayerInfos=e.layerInfos,d.tableInfos=e.tableInfos);if(1!==e.layerIds.length+e.tableIds.length)d.sublayerIds=e.layerIds,d.tableIds=e.tableIds;else if(c){var v,w;d.layerOrTableId=null!=(v=e.layerIds[0])?v:e.tableIds[0],d.sourceJSON=null!=(w=e.layerInfos[0])?w:e.tableInfos[0]}}return d.Constructor=await b(I),d}async function f(e,a){const n=await S(e,a);let s=null,u=null;const i=n.type;if(\"Feature Layer\"===i||\"Table\"===i?(s=\"FeatureServer\",u=n.id):\"indexedVector\"===i?s=\"VectorTileServer\":n.hasOwnProperty(\"mapName\")?s=\"MapServer\":n.hasOwnProperty(\"bandCount\")&&n.hasOwnProperty(\"pixelSizeX\")?s=\"ImageServer\":n.hasOwnProperty(\"maxRecordCount\")&&n.hasOwnProperty(\"allowGeometryUpdates\")?s=\"FeatureServer\":n.hasOwnProperty(\"streamUrls\")&&(s=\"StreamServer\"),!s)return null;const y=null!=u?o(e):null;return{title:r(y)&&n.name||t(e),serverType:s,sublayer:u,url:{path:r(y)?y.serviceUrl:l(e).path}}}async function p(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await v(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await S(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function v(e,r){var a,t;let l=await S(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await S(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function b(e){return(0,u[e])()}async function m(e,r){return(await S(e,r)).tileInfo}async function S(e,r){return(await n(e,{responseType:\"json\",query:{f:\"json\",...r}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}