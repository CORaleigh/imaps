{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/rest/query/operations/zscale.js","../node_modules/@arcgis/core/tasks/geometry/cut.js","../node_modules/@arcgis/core/tasks/geometry/simplify.js","../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/tasks/operations/urlUtils.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","../node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","../node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js","../node_modules/@arcgis/core/core/pbf.js","../node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js","../node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js","../node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js"],"names":["t","constructor","s","e","this","lengths","coords","hasIndeterminateRingOrder","length","forEachVertex","h","clone","slice","l","m","r","i","geometry","o","toJSON","JSON","stringify","geometryType","n","inSR","spatialReference","wkid","groupByFieldsForStatistics","join","objectIds","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","parameterValues","rangeValues","dynamicDataSource","layer","source","timeExtent","start","end","time","y","isEmpty","data","features","g","c","Promise","resolve","createFeatureResult","d","a","f","p","count","S","extent","then","hasOwnProperty","Error","responseType","u","query","path","vcsWkid","z","paths","rings","points","hasM","hasZ","sr","target","geometries","cutter","cutIndexes","map","fromJSON","getLogger","R","error","push","Math","sqrt","floor","type","x","M","P","Array","isArray","offset","b","some","Number","toFixed","getPoint","setPoint","addRing","w","addPath","L","j","U","k","url","geometryServiceUrl","v","A","isWebMercator","maxX","minX","plus180Line","minus180Line","_normalize","xmin","intersects","xmax","I","X","q","C","shift","D","valid","WebMercator","WGS84","ceil","outSpatialReference","displayId","geohashX","geohashY","attributes","centroid","objectId","weakClone","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","fields","transform","exceededTransferLimit","uniqueIdField","queryGeometryType","queryGeometry","TextDecoder","byteLength","_tag","_dataType","init","_data","_dataView","_pos","_end","pos","move","nextTag","_decodeVarint","skip","next","empty","tag","getInt32","getInt64","getUInt32","getUInt64","getSInt32","getSInt64","_decodeSVarint","getBool","_skip","getEnum","getFixed64","getUint32","getSFixed64","getDouble","getFloat64","getFixed32","getSFixed32","getFloat","getFloat32","getString","_getLength","_toString","getBytes","_toBytes","getLength","_getLengthUnsafe","processMessageWithArgs","getMessage","release","processMessage","pool","acquire","dataType","skipLen","min","subarray","decode","toString","decodeURIComponent","String","fromCharCode","Uint8Array","buffer","options","geometryTypes","_coordinatePtr","_vertexDimension","prepareFeatures","finishFeatureResult","sourceSpatialReference","addFeature","createFeature","createSpatialReference","createGeometry","addField","allocateCoordinates","reduce","addCoordinate","addCoordinatePoint","addLength","addQueryGeometry","createPointGeometry","queryResult","featureResult","name","alias","sqlType","domain","parse","defaultValue","isSystemMaintained","T","F","originPosition","scale","translate","shapeAreaFieldName","shapeLengthFieldName","units","wkt","latestWkid","latestVcsWkid","DataView"],"mappings":"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","file":"static/js/114.b668f5ac.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[],s=[],e=!1){this.lengths=null!=t?t:[],this.coords=null!=s?s:[],this.hasIndeterminateRingOrder=e}get isPoint(){return 0===this.lengths.length}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const h=this.lengths[e];for(let e=0;e<h;e++){t(this.coords[2*(e+s)],this.coords[2*(e+s)+1])}s+=h}}clone(){return new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{join as e,urlToObject as r}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import i from\"../../../request.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{applyFeatureSetZUnitScaling as s}from\"./queryZScale.js\";import{mapParameters as u}from\"../../../tasks/operations/urlUtils.js\";import{parsePBFFeatureQuery as a}from\"./pbfQueryUtils.js\";const l=\"Layer does not support extent calculation.\";function m(e,r){const i=e.geometry,o=e.toJSON(),s=o;if(t(i)&&(s.geometry=JSON.stringify(i),s.geometryType=n(i),s.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):i&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(e,r,n,i){const o=t(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(e,r,\"json\",i);return s(r,n,o.data),o}async function c(e,r,n,i){if(t(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(e,r,i),s=o;return s.data=a(o.data,n),s}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,r,\"json\",n,{returnIdsOnly:!0})}function p(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(e,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(n,s,a,l={},y={}){const c=\"string\"==typeof n?r(n):n,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===a?\"array-buffer\":\"json\",o(d,null,l).then((r=>{const n=r&&r[0];t(n)&&((s=s.clone()).geometry=n);const o=u({...c.query,f:a,...y,...m(s,y)});return i(e(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../../core/maybe.js\";import{equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";function t(t,c,l){if(n(c)||n(l)||l.vcsWkid||o(c,l))return null;const u=e(c)/e(l);if(1===u)return null;switch(t){case\"point\":case\"esriGeometryPoint\":return n=>i(n,u);case\"polyline\":case\"esriGeometryPolyline\":return n=>s(n,u);case\"polygon\":case\"esriGeometryPolygon\":return n=>r(n,u);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o)}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o)}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o)}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o)}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e)}function l(n,o,t){if(!n&&!o||!t)return;const i=e(t);u(n,t,i),u(o,t,i)}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e)}function a(n,t,i){if(!n||!n.spatialReference||o(n.spatialReference,t))return;const r=e(n.spatialReference)/i;if(1!==r)if(\"x\"in n)null!=n.z&&(n.z*=r);else if(\"rings\"in n)c(n,n.rings,r);else if(\"paths\"in n)c(n,n.paths,r);else if(\"points\"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r)}export{t as getGeometryZScaler,l as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(e,i,f){const m=\"string\"==typeof e?r(e):e,p=i[0].spatialReference,a=t(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import o from\"../../core/Logger.js\";import s from\"../../core/Error.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as i,webMercatorToGeographic as l}from\"./webMercatorUtils.js\";import f from\"../Polygon.js\";import c from\"../Polyline.js\";import{getGeometryParts as p,cutParams as u,offsetMagnitude as a,updatePolyGeometry as h}from\"./normalizeUtilsCommon.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=o.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,e){if(!(t instanceof c||t instanceof f)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new s(t)}const n=p(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i])}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i])}t.push([i,l])}}return x(t)?new f({rings:o,spatialReference:t.spatialReference}):new c({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=l(e,!0)}return n&&(t=h(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=a(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=a(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=a(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=a(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=p(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*a(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of p(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of p(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(o,s,l){if(!Array.isArray(o))return L([o],s);const p=s?s.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of o)if(e(t))z.push(t);else if(y||(y=t.spatialReference,x=r(y),d=y.isWebMercator,R=d?102100:4326,w=u[R].maxX,j=u[R].minX,U=u[R].plus180Line,k=u[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new f(e):e)}else if(t.extent){const e=t.extent,n=a(e.xmin,j)*(2*w);let o=0===n?t.clone():h(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=a(v,w),X=-90;const q=I,C=new c;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)s.push(r);else{const r=t.shift(),f=o[l];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push(\"simplify\")):s.push(d?i(r):r)}}if(!e.length)return s;const r=await g(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];\"simplify\"!==t?f.push(t):f.push(d?i(r.shift()):r.shift())}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?i(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&r(t.spatialReference);if(!n)return e;const[o,s]=n.valid,i=2*s,{width:l}=e;let f,{xmin:c,xmax:p}=e;if([c,p]=[p,c],\"extent\"===t.type||0===l||l<=s||l>i||c<o||p>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;f=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;f=j(t.paths);break;case\"multipoint\":f=t.points}const u=e.clone();for(let r=0;r<f.length;r++){let t=f[r][0];t<0?(t+=s,p=Math.max(t,p)):(t-=s,c=Math.min(t,c))}return u.xmin=c,u.xmax=p,u.width<l?(u.xmin-=s,u.xmax-=s,u):e}function k(t,e){const n=r(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../SpatialReference.js\";import n from\"../Polyline.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator}),minus180Line:new n({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:e.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:e.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,s={},e,h){this.displayId=0,this.geohashX=0,this.geohashY=0,this.geometry=t,s&&(this.attributes=s),e&&(this.centroid=e),null!=h&&(this.objectId=h)}get hasGeometry(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}weakClone(){const s=new t(this.geometry,this.attributes,this.centroid,this.objectId);return s.displayId=this.displayId,s.geohashX=this.geohashX,s.geohashY=this.geohashY,s}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class n{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),n=t(r,e,s,i);return r.release(),n}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let n=\"\",a=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?a+=\"%\"+e.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(e),a=\"\")}return a.length&&(n+=decodeURIComponent(a)),n}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}n.pool=new e(n,null,(t=>{t._data=null,t._dataView=null}));export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as t}from\"../../../core/unitUtils.js\";import r from\"../../../layers/graphics/OptimizedFeature.js\";import o from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const i=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class n{constructor(e){this.options=e,this.geometryTypes=i,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new o}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(r){if(!r||!r.features||!r.hasZ||!this.options.sourceSpatialReference||!r.spatialReference||e(r.spatialReference,this.options.sourceSpatialReference)||r.spatialReference.vcsWkid)return;const o=t(this.options.sourceSpatialReference)/t(r.spatialReference);if(1!==o)for(const e of r.features){if(!e.geometry||!e.geometry.coords)continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=o}}addFeature(e,t){e.features.push(t)}createFeature(){return new r}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{i as OPTIMIZED_GEOMETRY_TYPES,n as OptimizedFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{parseFeatureQuery as e}from\"./pbfFeatureServiceParser.js\";function t(t,r){const u=e(t,r),o=u.queryResult.featureResult,s=u.queryResult.queryGeometry,y=u.queryResult.queryGeometryType;if(o&&o.features&&o.features.length&&o.objectIdFieldName){const e=o.objectIdFieldName;for(const t of o.features)t.attributes&&(t.objectId=t.attributes[e])}return o&&(o.queryGeometry=s,o.queryGeometryType=y),o}export{t as parsePBFFeatureQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";import{OPTIMIZED_GEOMETRY_TYPES as a}from\"./pbfOptimizedFeatureSet.js\";import n from\"../../../core/pbf.js\";const o=t.getLogger(\"esri.tasks.operations.pbfFeatureServiceParser\"),i=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeString\",\"esriFieldTypeDate\",\"esriFieldTypeOID\",\"esriFieldTypeGeometry\",\"esriFieldTypeBlob\",\"esriFieldTypeRaster\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",\"esriFieldTypeXML\"],c=[\"sqlTypeBigInt\",\"sqlTypeBinary\",\"sqlTypeBit\",\"sqlTypeChar\",\"sqlTypeDate\",\"sqlTypeDecimal\",\"sqlTypeDouble\",\"sqlTypeFloat\",\"sqlTypeGeometry\",\"sqlTypeGUID\",\"sqlTypeInteger\",\"sqlTypeLongNVarchar\",\"sqlTypeLongVarbinary\",\"sqlTypeLongVarchar\",\"sqlTypeNChar\",\"sqlTypeNVarchar\",\"sqlTypeOther\",\"sqlTypeReal\",\"sqlTypeSmallInt\",\"sqlTypeSqlXml\",\"sqlTypeTime\",\"sqlTypeTimestamp\",\"sqlTypeTimestamp2\",\"sqlTypeTinyInt\",\"sqlTypeVarbinary\",\"sqlTypeVarchar\"],l=[\"upperLeft\",\"lowerLeft\"];function g(e){return e>=i.length?null:i[e]}function p(e){return e>=c.length?null:c[e]}function u(e){return e>=l.length?null:l[e]}function y(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function b(e,t,r){const s=1,a=2,n=3,o=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addCoordinatePoint(o,e.getSInt64(),a++);break}case s:case a:default:e.skip()}return o}function f(e,t,r){const s=1,a=2,n=3,o=t.createGeometry(r),i=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case a:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addLength(o,e.getUInt32(),a++);break}case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(t.allocateCoordinates(o);e.pos()<s;)t.addCoordinate(o,e.getSInt64(),a),a++,a===i&&(a=0);break}case s:default:e.skip()}return o}function k(e){const t=1,r=2,n=3,o=new s;let i=\"esriGeometryPoint\";for(;e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.lengths.push(e.getUInt32());break}case n:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.coords.push(e.getSInt64());break}case t:i=a[e.getEnum()];break;default:e.skip()}return{queryGeometry:o,queryGeometryType:i}}function d(e){const t=1,r=2,s=3,a=4,n=5,o=6,i=7,c=8,l=9;for(;e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case a:return e.getSInt32();case n:return e.getUInt32();case o:return e.getInt64();case i:return e.getUInt64();case c:return e.getSInt64();case l:return e.getBool();default:return e.skip(),null}return null}function m(e){const t=1,s=2,a=3,n=4,i=5,c=6,l={type:g(0)};for(;e.next();)switch(e.tag()){case t:l.name=e.getString();break;case s:l.type=g(e.getEnum());break;case a:l.alias=e.getString();break;case n:l.sqlType=p(e.getEnum());break;case i:try{l.domain=JSON.parse(e.getString())}catch(u){o.error(new r(\"query:parsing-pbf\",\"Failed to parse domain\",{error:u})),l.domain=null}break;case c:l.defaultValue=e.getString();break;default:e.skip()}return l}function h(e){const t=1,r=2,s={};for(;e.next();)switch(e.tag()){case t:s.name=e.getString();break;case r:s.isSystemMaintained=e.getBool();break;default:e.skip()}return s}function T(e,t,r,s){const a=1,n=2,o=4,i=t.createFeature(r);let c=0;for(;e.next();)switch(e.tag()){case a:{const t=s[c++].name;i.attributes[t]=e.processMessage(d);break}case n:i.geometry=e.processMessageWithArgs(f,t,r);break;case o:i.centroid=e.processMessageWithArgs(b,t,r);break;default:e.skip()}return i}function q(e){const t=1,r=2,s=3,a=4,n=[1,1,1,1];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function F(e){const t=1,r=2,s=3,a=4,n=[0,0,0,0];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function I(e){const t=1,r=2,s=3,a={originPosition:u(0)};for(;e.next();)switch(e.tag()){case t:a.originPosition=u(e.getEnum());break;case r:a.scale=e.processMessage(q);break;case s:a.translate=e.processMessage(F);break;default:e.skip()}return a}function S(e){const t=1,r=2,s=3,a={};for(;e.next();)switch(e.tag()){case t:a.shapeAreaFieldName=e.getString();break;case r:a.shapeLengthFieldName=e.getString();break;case s:a.units=e.getString();break;default:e.skip()}return a}function w(e,t){const r=1,s=2,a=3,n=4,o=5,i=t.createSpatialReference();for(;e.next();)switch(e.tag()){case r:i.wkid=e.getUInt32();break;case o:i.wkt=e.getString();break;case s:i.latestWkid=e.getUInt32();break;case a:i.vcsWkid=e.getUInt32();break;case n:i.latestVcsWkid=e.getUInt32();break;default:e.skip()}return i}function D(e,t){const r=1,s=2,a=3,n=4,o=5,i=6,c=7,l=8,g=9,p=10,u=11,b=12,f=13,k=15,d=t.createFeatureResult();d.geometryType=y(t,0);let q=!1;for(;e.next();)switch(e.tag()){case r:d.objectIdFieldName=e.getString();break;case a:d.globalIdFieldName=e.getString();break;case n:d.geohashFieldName=e.getString();break;case o:d.geometryProperties=e.processMessage(S);break;case c:d.geometryType=y(t,e.getEnum());break;case l:d.spatialReference=e.processMessageWithArgs(w,t);break;case p:d.hasZ=e.getBool();break;case u:d.hasM=e.getBool();break;case b:d.transform=e.processMessage(I);break;case g:{const t=e.getBool();d.exceededTransferLimit=t;break}case f:t.addField(d,e.processMessage(m));break;case k:q||(t.prepareFeatures(d),q=!0),t.addFeature(d,e.processMessageWithArgs(T,t,d,d.fields));break;case s:d.uniqueIdField=e.processMessage(h);break;case i:default:e.skip()}return t.finishFeatureResult(d),d}function M(t,r){const s=1,a=2,n=3,o=4,i={};let c=null;for(;t.next();)switch(t.tag()){case o:c=t.processMessageWithArgs(k);break;case s:i.featureResult=t.processMessageWithArgs(D,r);break;case a:case n:default:t.skip()}return e(c)&&i.featureResult&&r.addQueryGeometry(i,c),i}function x(e,t){try{const r=2,s=new n(new Uint8Array(e),new DataView(e)),a={};for(;s.next();)switch(s.tag()){case r:a.queryResult=s.processMessageWithArgs(M,t);break;default:s.skip()}return a}catch(s){throw new r(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s})}}export{x as parseFeatureQuery,g as parseFieldType,I as parseTransform};\n"],"sourceRoot":""}