{"version":3,"file":"static/js/9951.4af04fa7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,m.some((a=>null!=c?.match(a)))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(l)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(s)||null!=a.match(i)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(m).some((a=>null!=c?.match(a)))}const t=/^devext.arcgis.com$/,s=/^qaext.arcgis.com$/,l=/^[\\w-]*\\.mapsdevext.arcgis.com$/,i=/^[\\w-]*\\.mapsqa.arcgis.com$/,m=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,s,/^jsapps.esri.com$/,l,i];export{a as adjustStaticAGOUrl,c as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import o from\"../../core/Error.js\";import{isSome as n,isNone as t}from\"../../core/maybe.js\";import s from\"../Symbol3D.js\";import{to3D as r}from\"./symbolConversion.js\";import i from\"../WebStyleSymbol.js\";const l=[\"building-scene\",\"integrated-mesh\",\"point-cloud\",\"scene\"];function m(e,o,t,s){const r=a(e,{},{context:s,isLabelSymbol:!1});n(r)&&(o[t]=r)}function b(e,o,t,s){const r=a(e,{},{context:s,isLabelSymbol:!0});n(r)&&(o[t]=r)}function c(e){return e instanceof s||e instanceof i}function a(e,s,i){if(t(e))return null;const{context:m,isLabelSymbol:b}=i,a=m?.origin,p=m?.messages;if(\"web-scene\"===a&&!c(e)){const t=r(e,{retainCIM:!0,hasLabelingContext:b});return n(t.symbol)?t.symbol.write(s,m):(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:t.error})),null)}return(\"web-map\"===a||\"portal-item\"===a&&!l.includes(m?.layer?.type))&&c(e)?(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:m})),null):e.write(s,m)}function p(o,n){return e(o,null,n)}export{p as fromJSON,m as write,b as writeLabelSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";const r=()=>!!e(\"enable-feature:force-wosr\"),a=()=>!!e(\"enable-feature:direct-3d-object-feature-layer-display\");export{a as enableDirect3DObjectFeatureLayerDisplay,r as enableWebStyleForceWOSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{normalize as s,removeFile as n}from\"../../core/urlUtils.js\";import l from\"../../portal/Portal.js\";import a from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as f}from\"../../support/featureFlags.js\";const i={};async function u(e,r){try{return{data:(await j(e,r)).data,baseUrl:n(e),styleUrl:e}}catch(t){return o(t),null}}function y(e,r,o){const s=t(r.portal)?r.portal:l.getDefault();let n;const a=`${s.url} - ${s.user&&s.user.username} - ${e}`;return i[a]||(i[a]=m(e,s,o).then((e=>(n=e,e.fetchData()))).then((r=>({data:r,baseUrl:n.itemUrl,styleName:e})))),i[a]}function m(e,t,o){return t.load(o).then((()=>{const r=new a({disableExtraQuery:!0,query:`owner:${w} AND type:${h} AND typekeywords:\"${e}\"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===h&&e.owner===w){s=e;break}}if(!s)throw new r(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,t,o){return e.styleUrl?u(e.styleUrl,o):e.styleName?y(e.styleName,t,o):Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,r){if(\"cimRef\"===r)return e.cimRef;if(e.formatInfos&&!f())for(const t of e.formatInfos)if(\"gltf\"===t.type)return t.href;return e.webRef}function b(e){for(const r of e.typeKeywords)if(/^Esri.*Style$/.test(r)&&\"Esri Style\"!==r)return r}function j(r,t){const o={responseType:\"json\",query:{f:\"json\"},...t};return e(s(r),o)}const w=\"esri_en\",h=\"Style\",U=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{U as Style2DUrlTemplate,c as fetchStyle,p as makeCIMSymbolRef,j as requestJSON,b as styleNameFromItem,d as symbolUrlFromStyleItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import m from\"../PointSymbol3D.js\";import i from\"../SimpleLineSymbol.js\";import l from\"../LineSymbol3D.js\";import t from\"../SimpleMarkerSymbol.js\";import n from\"../PictureMarkerSymbol.js\";import s from\"../SimpleFillSymbol.js\";import y from\"../PolygonSymbol3D.js\";import f from\"../TextSymbol.js\";import b from\"../LabelSymbol3D.js\";const p={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function a(a,S=p){if(!a)return{symbol:null};const{retainId:c=p.retainId,ignoreDrivers:u=p.ignoreDrivers,hasLabelingContext:d=p.hasLabelingContext,retainCIM:j=p.retainCIM}=S;let D;if(o(a)||a instanceof r)D=a.clone();else if(\"cim\"===a.type){const o=a.data?.symbol?.type;if(\"CIMPointSymbol\"!==o)return{error:new e(\"symbol-conversion:unsupported-cim-symbol\",`CIM symbol of type '${o||\"unknown\"}' is unsupported in 3D`,{symbol:a})};D=j?a.clone():m.fromCIMSymbol(a)}else if(a instanceof i)D=l.fromSimpleLineSymbol(a);else if(a instanceof t)D=m.fromSimpleMarkerSymbol(a);else if(a instanceof n)D=m.fromPictureMarkerSymbol(a);else if(a instanceof s)D=y.fromSimpleFillSymbol(a);else{if(!(a instanceof f))return{error:new e(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${a.type||a.declaredClass}' is unsupported in 3D`,{symbol:a})};D=d?b.fromTextSymbol(a):m.fromTextSymbol(a)}if(c&&\"cim\"!==D.type&&(D.id=a.id),u&&o(D))for(let o=0;o<D.symbolLayers.length;++o)D.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:D}}export{a as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{isSome as l}from\"../../core/maybe.js\";import{urlToObject as n,removeFile as m}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as a}from\"./jsonUtils.js\";import p from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as y,fetchStyle as f,symbolUrlFromStyleItem as c,Style2DUrlTemplate as b}from\"./styleUtils.js\";import{Thumbnail as g}from\"./Thumbnail.js\";function j(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(t,e,l):f(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(f,b,j,h,d){const U=f.data,N=j&&l(j.portal)?j.portal:s.getDefault(),w={portal:N,url:n(f.baseUrl),origin:\"portal-item\"},D=U.items.find((t=>t.name===b));if(!D){const t=`The symbol name '${b}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:b}))}let P=i(c(D,h),w),S=D.thumbnail&&D.thumbnail.href;const E=D.thumbnail&&D.thumbnail.imageData;e()&&(P=r(P),S=r(S));const O={portal:N,url:n(m(P)),origin:\"portal-item\"};return u(P,d).then((e=>{const r=\"cimRef\"===h?y(e.data):e.data,o=a(r,O);if(o&&t(o)){if(S){const t=i(S,w);o.thumbnail=new g({url:t})}else E&&(o.thumbnail=new g({url:`data:image/png;base64,${E}`}));f.styleUrl?o.styleOrigin=new p({portal:j.portal,styleUrl:f.styleUrl,name:b}):f.styleName&&(o.styleOrigin=new p({portal:j.portal,styleName:f.styleName,name:b}))}return o}))}function d(t,e,r){const o=b.replace(/\\{SymbolName\\}/gi,t.name),i=l(e.portal)?e.portal:s.getDefault();return u(o,r).then((t=>{const e=y(t.data);return a(e,{portal:i,url:n(m(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as resolveWebStyleSymbol};\n"],"names":["c","globalThis","location","hostname","m","some","a","match","t","l","replace","s","i","e","o","r","context","isLabelSymbol","n","b","origin","p","messages","retainCIM","hasLabelingContext","symbol","write","push","declaredClass","error","includes","layer","type","y","portal","url","user","username","load","then","disableExtraQuery","query","w","h","queryItems","results","toLowerCase","Array","isArray","typeKeywords","owner","styleName","fetchData","data","baseUrl","itemUrl","styleUrl","async","j","u","Promise","reject","d","cimRef","formatInfos","href","webRef","responseType","f","U","retainId","ignoreDrivers","S","D","clone","id","symbolLayers","length","getItemAt","_ignoreDrivers","name","N","items","find","symbolName","P","thumbnail","E","imageData","O","g","styleOrigin"],"sourceRoot":""}