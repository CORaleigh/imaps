{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/interactive/graphics/DirectLineMeasurement3D/DirectLineMeasurement3DController.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/geometry/support/geodesicUtils.js","../node_modules/@arcgis/core/core/Quantity.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/UnitNormalizer.js"],"names":["y","r","constructor","e","super","this","_tempStartPosition","m","_tempEndPosition","_tempCornerPosition","_unitNormalizer","M","_handles","p","initialize","add","d","view","_initialize","spatialReference","t","h","s","j","f","_sphericalPCPF","i","_","dataObject","watch","_updateMeasurement","startPoint","endPoint","measurement","_euclideanDistances","_exactGeodesicDistanceAndAngle","horizontal","value","directDistance","direct","horizontalDistance","verticalDistance","vertical","geodesicDistance","distance","geodesicAngle","angle","z","clone","o","a","n","c","g","l","Math","abs","normalizeDistance","u","paths","isGeographic","w","v","isWebMercator","P","_fallbackGeodesicAngle","_fallbackGeodesicDistance","metersPerDegree","b","k","A","sin","cos","D","prototype","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","hasZ","hasM","x","getPointX","getPointY","getPointZ","getPointM","exportPolygon","rings","exportPaths","exportPolyline","exportMultipoint","points","exportPoints","exportExtent","xmin","getXMin","ymin","getYMin","xmax","getXMax","ymax","getYMax","getZExtent","zmin","vmin","zmax","vmax","getMExtent","mmin","mmax","Array","isArray","extendedSpatialReferenceInfo","clip","cut","contains","crosses","equals","intersects","touches","within","disjoint","overlaps","relate","isSimple","simplify","E","convexHull","difference","symmetricDifference","intersect","R","union","I","offset","buffer","S","geodesicBuffer","nearestCoordinate","J","nearestVertex","N","nearestVertices","O","center","extent","V","Error","fromJSON","rotate","flipHorizontal","B","flipVertical","generalize","H","densify","L","geodesicDensify","planarArea","planarLength","q","geodesicArea","C","geodesicLength","wkid","wkt","exec","length","split","parseFloat","isNaN","WGS84","Object","assign","eSq","radius","densificationRatio","sqrt","log","some","push","type","azimuth","slice","floor","tan","atan2","F","PI","G","U","atan","reverseAzimuth","acos","measure","unit","toUnit","toBaseUnit","_spatialReference","_updateNormalizationFactors","_metersPerDistanceUnit","normalizeElevation","_metersPerElevationUnit","normalizeArea","_squareMetersPerAreaUnit"],"mappings":"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","file":"static/js/138.c0f325ee.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isNone as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Accessor.js\";import o from\"../../../../../geometry/Polyline.js\";import{rad2deg as a,acosClamped as n,deg2rad as c}from\"../../../../../core/mathUtils.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{k as l}from\"../../../../../chunks/vec3.js\";import p from\"../../../../../core/Handles.js\";import{whenOnce as d}from\"../../../../../core/watchUtils.js\";import{getSphericalPCPF as h,getReferenceEllipsoid as u,SphericalECEFSpatialReference as j,WGS84ECEFSpatialReference as f}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as _,projectPointToVector as g,projectPointToWGS84ComparableLonLat as b}from\"../../../../../geometry/projection.js\";import z from\"../../../../../core/Quantity.js\";import{isSupported as w,geodesicLengths as v,inverseGeodeticSolver as D}from\"../../../../../geometry/support/geodesicUtils.js\";import{geodesicLength as P}from\"../../../../../geometry/geometryEngine.js\";import M from\"../../measurementTools/support/UnitNormalizer.js\";let y=class extends r{constructor(e){super(e),this._tempStartPosition=m(),this._tempEndPosition=m(),this._tempCornerPosition=m(),this._unitNormalizer=new M,this._handles=new p}initialize(){this._handles.add(d(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){const e=this.view.spatialReference,t=h(e),s=t===j?f:t;this._sphericalPCPF=s;const i=_(e,s);this._unitNormalizer.spatialReference=i?s:e,this._handles.add([this.dataObject.watch(\"startPoint\",(()=>this._updateMeasurement()),!0),this.dataObject.watch(\"endPoint\",(()=>this._updateMeasurement()),!0),this.dataObject.watch(\"settings\",(()=>this._updateMeasurement()),!0)],\"model\"),this._updateMeasurement()}_updateMeasurement(){const e=this.dataObject.startPoint,s=this.dataObject.endPoint;if(t(e)||t(s))return void(this.dataObject.measurement=null);const i=this._euclideanDistances(e,s),r=this._exactGeodesicDistanceAndAngle(e,s,i.horizontal.value);this.dataObject.measurement={directDistance:i.direct,horizontalDistance:i.horizontal,verticalDistance:i.vertical,geodesicDistance:r.distance,geodesicAngle:r.angle}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const s=e.clone();s.z=t.z;const i=this._tempStartPosition,r=this._tempEndPosition,o=this._tempCornerPosition,a=this.view.spatialReference,n=this._sphericalPCPF,c=_(a,n)?n:a;g(e,i,c),g(t,r,c),g(s,o,c);const m=l(i,r),p=l(o,r),d=Math.abs(t.z-e.z),h=e=>this._unitNormalizer.normalizeDistance(e),u=h(m),j=h(p),f=h(d);return{direct:new z(u,\"meters\"),horizontal:new z(j,\"meters\"),vertical:new z(f,\"meters\")}}_exactGeodesicDistanceAndAngle(e,t,s){const i=e.spatialReference,r=new o({paths:[e,t],spatialReference:i}),a=i.isGeographic&&w(i)?v([r],\"meters\")[0]:i.isWebMercator?P(r,\"meters\"):void 0,{distance:n,angle:c}=a?{distance:a,angle:this._fallbackGeodesicAngle(a,i)}:this._fallbackGeodesicDistance(e,t,s);return{distance:new z(n,\"meters\"),angle:new z(c,\"degrees\")}}_fallbackGeodesicAngle(e,t){return e/u(t).metersPerDegree}_fallbackGeodesicDistance(e,t,s){if(b(e,k)){b(t,A);const e=c(k[0]),s=c(k[1]),i=c(A[0]),r=c(A[1]),o=Math.abs(i-e),m=n(Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o)),l=a(m),p={distance:0};return D(p,[k[0],k[1]],[A[0],A[1]]),{distance:p.distance,angle:l}}{const t=e.spatialReference,i=s;return{distance:i,angle:this._fallbackGeodesicAngle(i,t)}}}};e([s()],y.prototype,\"view\",void 0),e([s()],y.prototype,\"dataObject\",void 0),y=e([i(\"esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DController\")],y);const k=m(),A=m();export{y as DirectLineMeasurement3DController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Point.js\";import n from\"../Extent.js\";import t from\"../Multipoint.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({x:n.getPointX(t),y:n.getPointY(t),spatialReference:o});return i&&(s.z=n.getPointZ(t)),r&&(s.m=n.getPointM(t)),s.cache._geVersion=t,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,n,o){const i=new t({hasZ:e.hasZ(n),hasM:e.hasM(n),points:e.exportPoints(n),spatialReference:o});return i.cache._geVersion=n,i}function x(e,t,o){const i=e.hasZ(t),r=e.hasM(t),s=new n({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:o});if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../SpatialReference.js\";import n from\"../Point.js\";import s from\"../Polygon.js\";import i from\"../Polyline.js\";import\"../../geometry.js\";import{convertUnit as a}from\"../../core/unitUtils.js\";import{toRadians as r,spheroids as o,WKT_SPHEROID_REGEX as c}from\"./geodesicConstants.js\";function l(e){if(!e)return null;if(e.isGeographic&&e.wkid){const t=o[e.wkid];if(t)return t}if(e.wkt){const t=c.exec(e.wkt);if(!t||2!==t.length)return null;const n=t[1].split(\",\");if(!n||n.length<3)return null;const s=parseFloat(n[1]),i=parseFloat(n[2]);if(isNaN(s)||isNaN(i))return null;return{a:s,f:0===i?0:1/i}}return null}function h(e){return\"b\"in e&&\"eSq\"in e&&\"radius\"in e}function p(e){const n=l(e||t.WGS84);if(h(n))return n;const s=n.a*(1-n.f);return Object.assign(n,{b:s,eSq:1-(s/n.a)**2,radius:(2*n.a+s)/3,densificationRatio:1e4/((2*n.a+s)/3)})}function f(e,t,n){const{a:s,eSq:i}=p(n),a=Math.sqrt(i),o=Math.sin(t[1]*r),c=s*t[0]*r;let l;if(i>0){l=s*((1-i)*(o/(1-i*(o*o))-1/(2*a)*Math.log((1-a*o)/(1+a*o))))*.5}else l=s*o;return e[0]=c,e[1]=l,e}function u(e){return null!==l(e)}function d(t,n=\"square-meters\"){if(t.some((e=>!u(e.spatialReference))))throw new e(\"geodesic-areas:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<t.length;e++){const n=t[e],i=n.spatialReference,{radius:a,densificationRatio:r}=p(i),o=a*r;s.push(g(n,o))}const i=[],r=[0,0],o=[0,0];for(let e=0;e<s.length;e++){const{rings:t,spatialReference:c}=s[e];let l=0;for(let e=0;e<t.length;e++){const n=t[e];f(r,n[0],c),f(o,n[n.length-1],c);let s=o[0]*r[1]-r[0]*o[1];for(let e=0;e<n.length-1;e++)f(r,n[e+1],c),f(o,n[e],c),s+=o[0]*r[1]-r[0]*o[1];l+=s}l=a(l,\"square-meters\",n),i.push(l/-2)}return i}function m(t,n=\"meters\"){const s=t,i=t;if(!s&&!i)throw new e(\"geodesic-lengths:invalid-geometries\",\"the input geometries type is not supported\");if(s?s.some((e=>!u(e.spatialReference))):i.some((e=>!u(e.spatialReference))))throw new e(\"geodesic-lengths:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const r=[];for(let e=0;e<t.length;e++){const s=t[e],{spatialReference:i}=s,o=\"polyline\"===s.type?s.paths:s.rings;let c=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const s=t[e-1][0],a=t[e][0],r=t[e-1][1],o=t[e][1];if(r!==o||s!==a){const e={distance:null};w(e,[s,r],[a,o],i),n+=e.distance}}c+=n}c=a(c,\"meters\",n),r.push(c)}return r}function g(t,n){if(\"polyline\"!==t.type&&\"polygon\"!==t.type)throw new e(\"geodesic-densify:invalid-geometry\",\"the input geometry is neither polyline nor polygon\");const{spatialReference:a}=t;if(!u(a))throw new e(\"geodesic-densify:invalid-spatial-reference\",\"the input geometry spatial reference is not supported\");const r=\"polyline\"===t.type?t.paths:t.rings,o=[],c=[0,0],l={distance:null};for(const e of r){const t=[];o.push(t),t.push([e[0][0],e[0][1]]);let s,i,r=e[0][0],h=e[0][1];for(let o=0;o<e.length-1;o++){if(s=e[o+1][0],i=e[o+1][1],r===s&&h===i)continue;const p=[r,h];w(l,[r,h],[s,i],a);const{azimuth:f,distance:u}=l,d=u/n;if(d>1){for(let e=1;e<=d-1;e++){M(c,p,f,e*n,a),t.push(c.slice(0))}M(c,p,f,(u+Math.floor(d-1)*n)/2,a),t.push(c.slice(0))}M(c,p,f,u,a),t.push(c.slice(0)),r=c[0],h=c[1]}}return\"polyline\"===t.type?new i({paths:o,spatialReference:a}):new s({rings:o,spatialReference:a})}function M(e,t,n,s,i){const a=t[0],o=t[1],c=a*r,l=o*r,h=n*r,{a:f,b:u,f:d}=p(i),m=Math.sin(h),g=Math.cos(h),M=(1-d)*Math.tan(l),w=1/Math.sqrt(1+M*M),y=M*w,R=Math.atan2(M,g),v=w*m,b=v*v,q=1-b,z=q*(f*f-u*u)/(u*u),j=1+z/16384*(4096+z*(z*(320-175*z)-768)),x=z/1024*(256+z*(z*(74-47*z)-128));let N,S,k,A,P=s/(u*j),F=2*Math.PI;for(;Math.abs(P-F)>1e-12;)k=Math.cos(2*R+P),N=Math.sin(P),S=Math.cos(P),A=x*N*(k+x/4*(S*(2*k*k-1)-x/6*k*(4*N*N-3)*(4*k*k-3))),F=P,P=s/(u*j)+A;const G=y*N-w*S*g,C=Math.atan2(y*S+w*N*g,(1-d)*Math.sqrt(b+G*G)),E=Math.atan2(N*m,w*S-y*N*g),I=d/16*q*(4+d*(4-3*q)),O=C/r,U=(c+(E-(1-I)*d*v*(P+I*N*(k+I*S*(2*k*k-1)))))/r;return e[0]=U,e[1]=O,e}function w(e,t,n,s){const i=t[0]*r,a=t[1]*r,o=n[0]*r,c=n[1]*r,{a:l,b:h,f,radius:u}=p(s),d=o-i,m=Math.atan((1-f)*Math.tan(a)),g=Math.atan((1-f)*Math.tan(c)),M=Math.sin(m),w=Math.cos(m),y=Math.sin(g),R=Math.cos(g);let v,b,q,z,j,x,N,S,k,A,P=1e3,F=d;do{if(N=Math.sin(F),S=Math.cos(F),q=Math.sqrt(R*N*(R*N)+(w*y-M*R*S)*(w*y-M*R*S)),0===q)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;j=M*y+w*R*S,x=Math.atan2(q,j),k=w*R*N/q,b=1-k*k,z=j-2*M*y/b,isNaN(z)&&(z=0),A=f/16*b*(4+f*(4-3*b)),v=F,F=d+(1-A)*f*k*(x+A*q*(z+A*j*(2*z*z-1)))}while(Math.abs(F-v)>1e-12&&--P>0);if(0===P){const t=u,n=Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(o-i))*t,s=o-i,l=Math.sin(s)*Math.cos(c),h=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(s),p=Math.atan2(l,h);return e.azimuth=p/r,e.distance=n,e.reverseAzimuth=void 0,e}const G=b*(l*l-h*h)/(h*h),C=G/1024*(256+G*(G*(74-47*G)-128)),E=h*(1+G/16384*(4096+G*(G*(320-175*G)-768)))*(x-C*q*(z+C/4*(j*(2*z*z-1)-C/6*z*(4*q*q-3)*(4*z*z-3)))),I=Math.atan2(R*Math.sin(F),w*y-M*R*Math.cos(F)),O=Math.atan2(w*Math.sin(F),w*y*Math.cos(F)-M*R);return e.azimuth=I/r,e.distance=E,e.reverseAzimuth=O/r,e}function y(t,n,s=\"meters\"){if(!t||!n)throw new e(\"geodesic-distance:missing-parameters\",\"one or both input parameters are missing\");if(!t.spatialReference||!n.spatialReference)throw new e(\"geodesic-distance:invalid-parameters\",\"one or both input points do not have a spatial reference\");if(!t.spatialReference.equals(n.spatialReference))throw new e(\"geodesic-distance:invalid-parameters\",\"spatial references of input parameters do not match\");const{spatialReference:i}=t;if(!u(i))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");if(t.equals(n))return{distance:0,azimuth:0,reverseAzimuth:0};const r={distance:null};return w(r,[t.x,t.y],[n.x,n.y],i),r.distance=a(r.distance,\"meters\",s),r}function R(t,s,i){if(!t||null==s||null==i)throw new e(\"point-from-distance:missing-parameters\",\"one or more input parameters are missing or undefined\");if(i<0||i>360)throw new e(\"point-from-distance:-of-bounds\",\"azimuth is restricted to angles between, and including, 0° to 360° degrees\");if(!t.spatialReference)throw new e(\"point-from-distance:missing-spatial-reference\",\"the input point must have a spatial reference\");const{spatialReference:a}=t;if(!u(a))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");const r=[0,0];return M(r,[t.x,t.y],i,s,a),new n({x:r[0],y:r[1],spatialReference:a})}export{M as directGeodeticSolver,d as geodesicAreas,g as geodesicDensify,y as geodesicDistance,m as geodesicLengths,w as inverseGeodeticSolver,u as isSupported,R as pointFromDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export default t;\n"],"sourceRoot":""}