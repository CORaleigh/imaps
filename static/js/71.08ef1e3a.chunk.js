/*! For license information please see 71.08ef1e3a.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[71,203,282],{1028:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(138)),o=r(130),a=r(137),s=r(134),l=r(145),c=r(133),u=r(143),d=r(140),h=r(132),p=(r(135),r(136),r(256)),f=r(142),b=r(231),m=r(144),y=r(194),g=r(160),O=r(206),v=r(278),j=r(205),w=r(232),_=r(512),k=r(285),S=r(622),x=r(656),M=r(907),I=r(557),A=r(235),E=r(161),T=r(724),P=r(241),C=r(704),N=r(139);let R=class extends N.a{constructor(t){super(t),this.layerId=null,this.facilityIdField=null,this.siteIdField=null,this.nameField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"facilityIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"siteIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"nameField",void 0),R=Object(n.a)([Object(c.a)("esri.layers.support.FacilityLayerInfo")],R);var D=R;let B=class extends N.a{constructor(t){super(t),this.layerId=null,this.levelIdField=null,this.facilityIdField=null,this.longNameField=null,this.shortNameField=null,this.levelNumberField=null,this.verticalOrderField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"levelIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"facilityIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"longNameField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"shortNameField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"levelNumberField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"verticalOrderField",void 0),B=Object(n.a)([Object(c.a)("esri.layers.support.LevelLayerInfo")],B);var F=B;let U=class extends N.a{constructor(t){super(t),this.layerId=null,this.siteIdField=null,this.nameField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],U.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],U.prototype,"siteIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],U.prototype,"nameField",void 0),U=Object(n.a)([Object(c.a)("esri.layers.support.SiteLayerInfo")],U);var G=U;let L=class extends N.a{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};Object(n.a)([Object(s.b)({type:F,json:{write:!0,origins:{"web-scene":{write:!1}}}})],L.prototype,"levelLayer",void 0),Object(n.a)([Object(s.b)({type:D,json:{write:!0,origins:{"web-scene":{write:!1}}}})],L.prototype,"facilityLayer",void 0),Object(n.a)([Object(s.b)({type:G,json:{write:!0,origins:{"web-scene":{write:!1}}}})],L.prototype,"siteLayer",void 0),L=Object(n.a)([Object(c.a)("esri.support.MapFloorInfo")],L);var z,q=L,W=r(590),J=r(141);let V=z=class extends N.a{constructor(t){super(t),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new z(Object(J.a)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};Object(n.a)([Object(s.b)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],V.prototype,"activeRange",void 0),Object(n.a)([Object(s.b)({type:[Number],json:{write:!0}})],V.prototype,"currentRangeExtent",void 0),Object(n.a)([Object(s.b)({type:[Number],json:{write:!0}})],V.prototype,"fullRangeExtent",void 0),V=z=Object(n.a)([Object(c.a)("esri.webdoc.RangeInfo")],V);var $,H=V;let Z=$=class extends N.a{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new $(Object(J.a)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Z.prototype,"enabled",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Z.prototype,"longNames",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Z.prototype,"minimized",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Z.prototype,"pinnedLevels",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Z.prototype,"site",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Z.prototype,"facility",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Z.prototype,"level",void 0),Z=$=Object(n.a)([Object(c.a)("esri.webdoc.widgets.FloorFilter")],Z);var Y,X=Z;const Q=new(r(148).a)({slider:"slider",picker:"picker"});let K=Y=class extends N.a{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new Y({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};Object(n.a)([Object(s.b)({type:Q.apiValues,nonNullable:!0,json:{type:Q.jsonValues,default:null,read:{reader:Q.read},write:{isRequired:!0,writer:Q.write}}})],K.prototype,"interactionMode",void 0),Object(n.a)([Object(s.b)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const t=null!=this.stopInterval;return{enabled:!t,isRequired:!t}}}}})],K.prototype,"numStops",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],K.prototype,"stopInterval",void 0),K=Y=Object(n.a)([Object(c.a)("esri.webdoc.widgets.Range")],K);var tt,et=K,rt=r(172),nt=r(213),it=r(279);let ot=tt=class extends N.a{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){if(!t)return;const e=null!=t[0]?new Date(t[0]):null,r=null!=t[1]?new Date(t[1]):null;return new nt.a({start:e,end:r})}writeCurrentTimeExtent(t,e,r){t&&Object(rt.c)(r,[t.start?t.start.getTime():null,t.end?t.end.getTime():null],e)}readFullTimeExtent(t,e){const r=e.properties;if(!r)return;const n=null!=r.endTime?new Date(r.endTime):null,i=null!=r.startTime?new Date(r.startTime):null;return new nt.a({start:i,end:n})}writeFullTimeExtent(t,e){if(!t)return;const r=e.properties=e.properties||{},n=t.end,i=t.start;n&&(r.endTime=n?n.getTime():null),i&&(r.startTime=i?i.getTime():null)}readStopInterval(t,e,r){return t?it.a.fromJSON({value:t.interval,unit:t.units},r):null}writeStopInterval(t,e,r,n){if(!t)return;const i=t.toJSON(n);Object(rt.c)(r,{interval:i.value,units:i.unit},e)}readStops(t){return t&&t.length?t.map((t=>new Date(t))):null}writeStops(t,e,r){t&&t.length&&Object(rt.c)(r,t.map((t=>t.getTime())),e)}clone(){return new tt(Object(J.a)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};Object(n.a)([Object(s.b)({type:nt.a,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],ot.prototype,"currentTimeExtent",void 0),Object(n.a)([Object(l.a)("currentTimeExtent")],ot.prototype,"readCurrentTimeExtent",null),Object(n.a)([Object(u.a)("currentTimeExtent")],ot.prototype,"writeCurrentTimeExtent",null),Object(n.a)([Object(s.b)({type:nt.a,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],ot.prototype,"fullTimeExtent",void 0),Object(n.a)([Object(l.a)("fullTimeExtent")],ot.prototype,"readFullTimeExtent",null),Object(n.a)([Object(u.a)("fullTimeExtent")],ot.prototype,"writeFullTimeExtent",null),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],ot.prototype,"loop",void 0),Object(n.a)([Object(s.b)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var t;const e=!!this.stopInterval,r=!(null==(t=this.stops)||!t.length),n=!(e||r);return{enabled:n,isRequired:n}}}}})],ot.prototype,"numStops",void 0),Object(n.a)([Object(s.b)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],ot.prototype,"numThumbs",void 0),Object(n.a)([Object(s.b)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],ot.prototype,"stopDelay",void 0),Object(n.a)([Object(s.b)({type:it.a,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var t;const e=null!=this.numStops,r=!(null==(t=this.stops)||!t.length);return{enabled:!r,isRequired:!(e||r)}}}}})],ot.prototype,"stopInterval",void 0),Object(n.a)([Object(l.a)("stopInterval")],ot.prototype,"readStopInterval",null),Object(n.a)([Object(u.a)("stopInterval")],ot.prototype,"writeStopInterval",null),Object(n.a)([Object(s.b)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],ot.prototype,"stops",void 0),Object(n.a)([Object(l.a)("stops")],ot.prototype,"readStops",null),Object(n.a)([Object(u.a)("stops")],ot.prototype,"writeStops",null),ot=tt=Object(n.a)([Object(c.a)("esri.webdoc.widgets.TimeSlider")],ot);var at,st=ot;let lt=at=class extends N.a{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new at(Object(J.a)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};Object(n.a)([Object(s.b)({type:et,json:{write:!0}})],lt.prototype,"range",void 0),Object(n.a)([Object(s.b)({type:st,json:{write:!0}})],lt.prototype,"timeSlider",void 0),Object(n.a)([Object(s.b)({type:X,json:{write:!0}})],lt.prototype,"floorFilter",void 0),lt=at=Object(n.a)([Object(c.a)("esri.webdoc.Widgets")],lt);var ct=lt;const ut={width:600,height:400},dt=1.5;function ht(t){return{enabled:!(null==t||!t.length)}}var pt,ft=r(155),bt=r(290);let mt=pt=class extends N.a{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new pt({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],mt.prototype,"exactMatch",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],mt.prototype,"name",void 0),Object(n.a)([Object(ft.a)(bt.a)],mt.prototype,"type",void 0),mt=pt=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchLayerField")],mt);var yt,gt=mt;let Ot=yt=class extends N.a{constructor(t){super(t),this.field=null,this.id=null,this.subLayer=null}clone(){return new yt(Object(J.a)({field:this.field,id:this.id,subLayer:this.subLayer}))}};Object(n.a)([Object(s.b)({type:gt,json:{write:{isRequired:!0}}})],Ot.prototype,"field",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{isRequired:!0}}})],Ot.prototype,"id",void 0),Object(n.a)([Object(s.b)({type:a.a,json:{write:!0}})],Ot.prototype,"subLayer",void 0),Ot=yt=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchLayer")],Ot);var vt,jt=Ot;let wt=vt=class extends N.a{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new vt({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],wt.prototype,"exactMatch",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],wt.prototype,"name",void 0),Object(n.a)([Object(ft.a)(bt.a)],wt.prototype,"type",void 0),wt=vt=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchTableField")],wt);var _t,kt=wt;let St=_t=class extends N.a{constructor(t){super(t),this.field=null,this.id=null}clone(){return new _t(Object(J.a)({field:this.field,id:this.id}))}};Object(n.a)([Object(s.b)({type:kt,json:{write:{isRequired:!0}}})],St.prototype,"field",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{isRequired:!0}}})],St.prototype,"id",void 0),St=_t=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchTable")],St);var xt,Mt=St;const It=g.a.ofType(jt),At=g.a.ofType(Mt);let Et=xt=class extends N.a{constructor(t){super(t),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new It,this.tables=new At}readAddressSearchEnabled(t){return!t}writeAddressSearchEnabled(t,e,r){e[r]=!t}clone(){return new xt(Object(J.a)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Et.prototype,"addressSearchEnabled",void 0),Object(n.a)([Object(l.a)("addressSearchEnabled")],Et.prototype,"readAddressSearchEnabled",null),Object(n.a)([Object(u.a)("addressSearchEnabled")],Et.prototype,"writeAddressSearchEnabled",null),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Et.prototype,"enabled",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],Et.prototype,"hintText",void 0),Object(n.a)([Object(s.b)({type:It,json:{write:{overridePolicy:ht},origins:{"web-scene":{write:{isRequired:!0}}}}})],Et.prototype,"layers",void 0),Object(n.a)([Object(s.b)({type:At,json:{read:!0,write:{overridePolicy:ht},origins:{"web-scene":{read:!1,write:!1}}}})],Et.prototype,"tables",void 0),Et=xt=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.Search")],Et);var Tt,Pt=Et;let Ct=Tt=class extends N.a{constructor(t){super(t),this.search=null}clone(){return new Tt(Object(J.a)({search:this.search}))}};Object(n.a)([Object(s.b)({type:Pt,json:{write:!0}})],Ct.prototype,"search",void 0),Ct=Tt=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.Viewing")],Ct);var Nt,Rt=Ct;let Dt=Nt=class extends N.a{constructor(t){super(t),this.editing=null,this.offline=null,this.viewing=null}clone(){return new Nt(Object(J.a)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};Object(n.a)([Object(s.b)({json:{write:!0}})],Dt.prototype,"editing",void 0),Object(n.a)([Object(s.b)({json:{write:!0}})],Dt.prototype,"offline",void 0),Object(n.a)([Object(s.b)({type:Rt,json:{write:!0}})],Dt.prototype,"viewing",void 0),Dt=Nt=Object(n.a)([Object(c.a)("esri.webmap.ApplicationProperties")],Dt);var Bt,Ft=Dt,Ut=r(925),Gt=r(817),Lt=r(146);let zt=Bt=class extends Lt.a{constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new Bt(Object(J.a)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};Object(n.a)([Object(s.b)({type:Gt.a})],zt.prototype,"background",void 0),Object(n.a)([Object(s.b)({type:H})],zt.prototype,"rangeInfo",void 0),Object(n.a)([Object(s.b)({type:m.a})],zt.prototype,"spatialReference",void 0),Object(n.a)([Object(s.b)({type:I.a})],zt.prototype,"viewpoint",void 0),zt=Bt=Object(n.a)([Object(c.a)("esri.webmap.InitialViewProperties")],zt);var qt=zt,Wt=r(642);class Jt extends Wt.a{constructor(t,e){super(t,e,"webmap")}}const Vt=new Jt(2,20),$t="Web Map",Ht=g.a.ofType(Ut.a),Zt=o.a.getLogger("esri.WebMap"),Yt=new Map;Yt.set("image/jpeg","jpeg"),Yt.set("image/jpg","jpg"),Yt.set("image/png","png"),Yt.set("image/gif","gif");const Xt="ArcGIS API for JavaScript",Qt="CollectorDisabled",Kt="Collector",te="Data Editing",ee="OfflineDisabled",re="Offline",ne="Workforce Project",ie="Workforce Worker",oe="Workforce Dispatcher",ae="DeveloperBasemap",se=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((t=>t.toLowerCase()));let le=class extends(Object(A.a)(j.a.LoadableMixin(Object(v.b)(M.a)))){constructor(t){super(t),this.applicationProperties=null,this.bookmarks=new Ht,this.floorInfo=null,this.initialViewProperties=new qt,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const t=this.portalItem;this.portalItem=null,null==t||t.destroy()}initialize(){if(this.when().catch((t=>{Zt.error("#load()","Failed to load web map",t)})),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(t){return void this.addResolvingPromise(Promise.reject(t))}this.read(e)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,e){t&&this._isAuthoringAppSetByUser?e.authoringApp=t:e.authoringApp=Xt}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,e){t&&this._isAuthoringAppVersionSetByUser?e.authoringAppVersion=t:e.authoringAppVersion=O.d}readInitialViewProperties(t,e){var r;const n=new qt;e.background&&(n.background=Gt.a.fromJSON(e.background));const i=null==(r=e.initialState)?void 0:r.viewpoint;return i&&(i.rotation&&Jt.parse(e.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===e.authoringApp&&(i.rotation*=-1),n.viewpoint=I.a.fromJSON(i)),e.mapRangeInfo&&(n.rangeInfo=H.fromJSON(e.mapRangeInfo)),e.spatialReference&&(n.spatialReference=m.a.fromJSON(e.spatialReference)),n}writeInitialViewProperties(t,e,r,n){if(!t)return;const i=t.background;i&&i.color&&(e.background=i.write(null,n)),t.viewpoint&&(e.initialState={viewpoint:t.viewpoint.write(null,n)}),t.rangeInfo&&(e.mapRangeInfo=t.rangeInfo.toJSON(n)),t.spatialReference&&(e.spatialReference=t.spatialReference.write(null,n))}writeLayers(t,e,r,n){e[r]=this._writeLayers(t,n,"operational-layers")}readSourceVersion(t,e){const[r,n]=e.version.split(".");return new Jt(parseInt(r,10),parseInt(n,10))}writeSourceVersion(t,e,r){e[r]=`${Vt.major}.${Vt.minor}`}writeTables(t,e,r,n){const i=this._writeLayers(t,n,"tables");i.length&&(e[r]=i)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}load(t){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return Object(_.a)(this,(t=>{t(this.ground,this.basemap,this.layers,this.tables)}))}read(t,e){e={...e,origin:"web-map"};const r=this._getAuthoringPropsState();Object(b.b)(this,t,(e=>super.read(t,e)),e),this._restoreAuthoringPropsFromState(r)}write(t,e){if("loaded"!==this.loadStatus){const t=new d.a("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Zt.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),t}return this._removeDanglingLayerRefs(),e={...e,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(t,e)}async save(t){t=t||{},this._validateItem(),await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),this._validateMap();const e=this.portalItem,r={origin:"web-map",messages:[],writtenProperties:[],url:e.itemUrl&&Object(h.J)(e.itemUrl),portal:e.portal||w.a.getDefault()},n=this.write(null,r);return this._validateJSONForWriting(r,t),await this._updateItemProperties(e),await this._updateItem(e,n,r),await this._updateItemThumbnail(),e}async saveAs(t,e){e=e||{};const r=this._getPortalItem(t);await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),this._validateMap();const n={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:r.portal},i=this.write(null,n);this._validateJSONForWriting(n,e),await this._updateItemPropertiesForSaveAs(r);const o=this._getThumbnailState();return await this._createItem(r,i,n,e),this._restoreThumbnailFromState(o),await this._updateItemThumbnail(),r}async updateFrom(t,e){const r=this._updateFromInternal(t,e);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){var e,r,n,i;const o=this.resourceInfo;return this._collectAllLayersJSON(Object(p.d)([null==o||null==(e=o.baseMap)?void 0:e.baseMapLayers,null==o?void 0:o.operationalLayers,null==(r=this.basemap)||null==(n=r.resourceInfo)||null==(i=n.data)?void 0:i.baseMapLayers])).find((e=>e.id===t.id))}_collectAllLayersJSON(t){return t.reduce(((t,e)=>(t.push(e),"GroupLayer"===e.layerType&&(t=t.concat(this._collectAllLayersJSON(e.layers||[]))),t)),[])}_writeLayers(t,e,r){return e={...e,layerContainerType:r},t.map((t=>Object(i.q)(Object(S.a)(t,"tables"===r?null:this.getLayerJSONFromResourceInfo(t),e)))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(t){return t.load().catch((t=>{throw new d.a("webmap:load-portal-item","Failed to load portal item",{error:t})})).then((()=>{if("Web Map"!==t.type)throw new d.a("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:t.type})})).then((()=>t.fetchData())).then((e=>(this.resourceInfo=e,this._readAndLoadFromJSON(e,{origin:"web-map",portal:t.portal||w.a.getDefault()})))).then((()=>this._computeInitialViewpoint()))}_readAndLoadFromJSON(t,e){const r=this._validateJSON(t);return this.read(r,e),this._loadFromJSON(r,e)}_validateJSON(t){const e=Jt.parse(t.version||"","webmap");return Vt.validate(e),t.version=`${e.major}.${e.minor}`,t}_loadFromJSON(t,e){const n={context:{...e,layerContainerType:"operational-layers"}};return this.portalItem&&(n.context.portal=this.portalItem.portal||w.a.getDefault()),r.e(45).then(r.bind(null,913)).then((({populateOperationalLayers:e})=>{const r=[],i=t.operationalLayers;i&&i.length&&r.push(e(this.layers,i,n));const o={...n,context:{...n.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},a=t.tables;return a&&a.length&&r.push(e(this.tables,a,o)),Object(f.j)(r).then((()=>{}))}))}async _computeInitialViewpoint(){var t,e;let r=this.initialViewProperties;if(null==(t=r)||null==(e=t.viewpoint)?void 0:e.targetGeometry)return;const n=await this._getExtentFromItem();n&&(r=r?r.clone():new qt,r.viewpoint=new I.a,r.viewpoint.targetGeometry=n,this.initialViewProperties=r)}async _getExtentFromItem(){var t,e;const n=null==(t=this.initialViewProperties)?void 0:t.spatialReference,i=null==(e=this.portalItem)?void 0:e.extent;return n&&i?n.isWGS84?i.clone():n.isWebMercator?Object(y.b)(i):(await r.e(30).then(r.bind(null,1055))).create(this.portalItem).then((t=>{const e=new W.a;return e.geometries=[i],e.outSpatialReference=n,t.project(e)})).then((t=>t[0])).catch((t=>(Zt.error("Error projecting item's extent:",t),null))):null}_removeDanglingLayerRefs(){const t=this.applicationProperties,e=t&&t.viewing&&t.viewing.search,r=t=>!!this.allLayers.find((e=>e.id===t));e&&e.layers&&(e.layers=e.layers.filter((t=>r(t.id)))),e&&e.tables&&(e.tables=e.tables.filter((t=>!!this.tables.find((e=>e.id===t.id)))));const n=t&&t.editing&&t.editing.locationTracking;n&&n.info&&!r(n.info.layerId)&&(t.editing=null);const i=this.presentation&&this.presentation.slides;i&&i.forEach((t=>{t.visibleLayers&&(t.visibleLayers=t.visibleLayers.filter((t=>r(t.id))))}))}_validateMap(){if(!this.basemap||!this.basemap.baseLayers.length)throw new d.a("webmap:save","Map does not have a valid basemap with a base layer.")}_validateItem(){if(!this.portalItem)throw Zt.error("save: requires the portalItem property to be set"),new d.a("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(t){if(t.type!==$t)throw new d.a("webmap:portal-item-wrong-type",`Portal item needs to have type "${$t}"`)}_loadLayerContainers(){const t=[];return this.basemap&&t.push(this.basemap.load()),this.ground&&t.push(this.ground.load()),Object(f.j)(t).then((()=>{}))}async _beforeSave(){const t=[];for(const e of this.allLayers)if("beforeSave"in e&&"function"==typeof e.beforeSave){const r=e.beforeSave();r&&t.push(r)}await Object(f.j)(t)}_loadAllLayers(){const t=this._getAllLayersAndTables().map((t=>t.load()));return Object(f.j)(t).then((()=>{}))}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(t,e){let r=t.messages.filter((t=>"error"===t.type)).map((t=>new d.a(t.name,t.message,t.details)));if(e.ignoreUnsupported&&(r=r.filter((t=>"layer:unsupported"!==t.name&&"symbol:unsupported"!==t.name&&"symbol-layer:unsupported"!==t.name&&"property:unsupported"!==t.name&&"url:unsupported"!==t.name))),r.length>0)throw new d.a("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}async _updateItemProperties(t){t.extent=await this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry),await this._updateTypeKeywords(t)}async _updateItemPropertiesForSaveAs(t){Object(C.c)(t,Qt),Object(C.c)(t,ee),Object(C.c)(t,ne),Object(C.c)(t,ie),Object(C.c)(t,oe),Object(C.c)(t,"Offline Map Areas"),Object(C.c)(t,"FieldMapsDisabled"),await this._updateItemProperties(t)}async _getWGS84Extent(t){const e=t.clone().normalize();let r;if(e.length>1)for(const n of e)r?n.width>r.width&&(r=n):r=n;else r=e[0];return this._projectToWGS84(r)}async _projectToWGS84(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return Object(y.e)(t);const n=await r.e(30).then(r.bind(null,1055)),i=await n.create(this.portalItem),o=new W.a;return o.geometries=[t],o.outSpatialReference=m.a.WGS84,(await i.project(o))[0]}async _updateTypeKeywords(t){Object(C.a)(t,Xt),await this._loadAllLayers(),this._evalCollectorKeyword(t),this._evalDataEditingKeyword(t),this._evalOfflineKeyword(t),this._evalDeveloperBasemapKeyword(t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((t,e,r)=>r.indexOf(t)===e)))}_evalCollectorKeyword(t){Object(C.b)(t,Qt)||Object(C.b)(t,ne)||Object(C.b)(t,ie)||Object(C.b)(t,oe)||!this._hasEditableFeatureLayer()?Object(C.c)(t,Kt):Object(C.a)(t,Kt)}_evalDataEditingKeyword(t){this._hasEditableFeatureLayer()?Object(C.a)(t,te):Object(C.c)(t,te)}_evalOfflineKeyword(t){!Object(C.b)(t,ee)&&this._isOfflineCapableMap()?Object(C.a)(t,re):Object(C.c)(t,re)}_evalDeveloperBasemapKeyword(t){Object(x.f)(this.basemap)?Object(C.a)(t,ae):Object(C.c)(t,ae)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some((t=>t.loaded&&this._isFeatureServiceLayer(t)&&t.capabilities.operations.supportsEditing&&t.editingEnabled))}_isFeatureServiceLayer(t){return!("feature"!==t.type||!t.source||"feature-layer"!==t.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter((t=>"group"!==t.type)).every((t=>t.loaded&&this._isOfflineCapableLayer(t)))}_isOfflineCapableLayer(t){return this._isFeatureServiceLayer(t)&&t.capabilities.operations.supportsSync||("tile"===t.type||"vector-tile"===t.type)&&(t.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(t)||Object(x.g)(t))&&t.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(t){return"tile"===t.type&&Object(P.d)(t.url)&&se.some((e=>t.url.toLowerCase().indexOf("/"+e+"/")>-1))}async _updateItem(t,e,r){await t.update({data:e}),this._syncUpInstanceWithItem(t,e,r)}async _createItem(t,e,r,n){const i=this.portalItem,o=!!(i&&i.id&&i.portal.user),a=t.portal;if(await a._signIn(),!await this._canCopyItem(i,o,a))throw new d.a("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");await a.user.addItem({item:t,folder:n.folder,data:e}),this.portalItem=t,this._syncUpInstanceWithItem(t,e,r)}async _canCopyItem(t,e,r){return!(Object(i.k)(t)&&t.id&&t.typeKeywords&&t.typeKeywords.indexOf("useOnly")>-1)||t.portal.portalHostname===r.portalHostname&&(e||await t.reload(),"admin"===t.itemControl||"update"===t.itemControl)}_syncUpInstanceWithItem(t,e,r){A.b.prototype.read.call(this,{version:e.version,authoringApp:e.authoringApp,authoringAppVersion:e.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:t.itemUrl&&Object(h.J)(t.itemUrl)}),Object(T.a)(r),this.resourceInfo=e}async _updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}_getPortalItem(t){let e=k.default.from(t);return e.id&&(e=e.clone(),e.id=null),e.type||(e.type=$t),e.portal||(e.portal=w.a.getDefault()),this._validateItemType(e),e}async _updateFromInternal(t,e){e=e||{},await Object(E.l)(t,"ready"),this._updateInitialViewProperties(t,e),await this._updateThumbnailUrl(t,e)}_updateInitialViewProperties(t,e){var r;if(e.backgroundExcluded||(this.initialViewProperties.background=null==(r=t.background)?void 0:r.clone()),this.initialViewProperties.spatialReference=t.spatialReference.clone(),e.viewpointExcluded||(this.initialViewProperties.viewpoint=new I.a({rotation:t.rotation,scale:e.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!e.widgetsExcluded)for(const n of t.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(t){const e=t.center.clone().normalize(),r=t.extent.clone(),n=r.width/2;return r.xmin=e.x-n,r.xmax=e.x+n,r}async _updateThumbnailUrl(t,e){if(e.thumbnailExcluded)return;const r=function(t,e){e=e||ut;let{width:r,height:n}=e;const i=r/n;return i<dt?n=r/dt:i>dt&&(r=n*dt),r>t.width&&(n*=t.width/r,r=t.width),n>t.height&&(r*=t.height/n,n=t.height),{width:Math.round(r),height:Math.round(n)}}(t,e.thumbnailSize),n=await t.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(n.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(Object(h.u)(t)){const e=Object(h.i)(t),r=e&&e.mediaType,n=r&&Yt.get(r.toLowerCase())||null,i=`thumbnail${Date.now()}`;return n?`${i}.${n}`:i}return null}_getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:Object(h.d)(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}_restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(t){const e=t;if(!e)throw new d.a("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:e})}};le.VERSION=Vt,Object(n.a)([Object(s.b)({type:Ft,json:{write:!0}})],le.prototype,"applicationProperties",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],le.prototype,"authoringApp",null),Object(n.a)([Object(u.a)("authoringApp")],le.prototype,"writeAuthoringApp",null),Object(n.a)([Object(s.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],le.prototype,"authoringAppVersion",null),Object(n.a)([Object(u.a)("authoringAppVersion")],le.prototype,"writeAuthoringAppVersion",null),Object(n.a)([Object(s.b)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],le.prototype,"basemap",void 0),Object(n.a)([Object(s.b)({type:Ht,json:{write:{overridePolicy:t=>({enabled:!!(t&&t.length>0),ignoreOrigin:!0})}}})],le.prototype,"bookmarks",void 0),Object(n.a)([Object(s.b)({type:q,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],le.prototype,"floorInfo",void 0),Object(n.a)([Object(s.b)({type:qt,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:Gt.a},"initialState.viewpoint":{type:I.a},mapRangeInfo:{type:H},spatialReference:{type:m.a}}}}})],le.prototype,"initialViewProperties",void 0),Object(n.a)([Object(l.a)("initialViewProperties")],le.prototype,"readInitialViewProperties",null),Object(n.a)([Object(u.a)("initialViewProperties")],le.prototype,"writeInitialViewProperties",null),Object(n.a)([Object(s.b)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],le.prototype,"layers",void 0),Object(n.a)([Object(u.a)("layers")],le.prototype,"writeLayers",null),Object(n.a)([Object(s.b)({type:k.default})],le.prototype,"portalItem",void 0),Object(n.a)([Object(s.b)({json:{write:!0}})],le.prototype,"presentation",void 0),Object(n.a)([Object(s.b)()],le.prototype,"resourceInfo",void 0),Object(n.a)([Object(s.b)({readOnly:!0,type:Jt,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],le.prototype,"sourceVersion",void 0),Object(n.a)([Object(l.a)("sourceVersion")],le.prototype,"readSourceVersion",null),Object(n.a)([Object(u.a)("sourceVersion")],le.prototype,"writeSourceVersion",null),Object(n.a)([Object(s.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],le.prototype,"tables",void 0),Object(n.a)([Object(u.a)("tables")],le.prototype,"writeTables",null),Object(n.a)([Object(s.b)()],le.prototype,"thumbnailUrl",null),Object(n.a)([Object(s.b)({type:ct,json:{write:!0}})],le.prototype,"widgets",void 0),le=Object(n.a)([Object(c.a)("esri.WebMap")],le);var ce=le;e.a=ce},1091:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(130)),o=r(134),a=r(197),s=r(170),l=r(342),c=r(133),u=(r(132),r(135),r(136),r(257)),d=r(166),h=r(161),p=r(854),f=(r(164),r(215)),b=r(349),m=r(182),y=r(208),g=r(992),O=(r(137),r(146));let v=class extends O.a{constructor(t){super(t)}get editedBookmark(){const{bookmark:t}=this;return t?this._get("editedBookmark")||t.clone():null}get state(){return this._get("state")}set state(t){this.validationState=void 0,this.loading=void 0,this._set("state",t)}};Object(n.a)([Object(o.b)()],v.prototype,"bookmark",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],v.prototype,"editedBookmark",null),Object(n.a)([Object(o.b)()],v.prototype,"state",null),Object(n.a)([Object(o.b)()],v.prototype,"validationState",void 0),Object(n.a)([Object(o.b)()],v.prototype,"loading",void 0),v=Object(n.a)([Object(c.a)("esri.widgets.Bookmarks.UserState")],v);var j=v,w=r(140),_=r(175),k=r(160),S=r(557),x=r(925),M=r(549);const I="esri.widgets.Bookmarks.BookmarksViewModel",A=i.a.getLogger(I),E=k.a.ofType(x.a),T={width:128,height:128,format:"png"},P={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0};let C=class extends(Object(M.a)(_.a.EventedAccessor)){constructor(t){super(t),this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}set bookmarks(t){void 0!==t?this._override("bookmarks",t):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new E}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...P,...t})}get defaultCreateOptions(){return P}set defaultEditOptions(t){this._set("defaultEditOptions",{...P,...t})}get defaultEditOptions(){return P}get state(){const t=this.get("view");return t&&!t.ready?"loading":"ready"}get view(){return this._get("view")}set view(t){t&&"2d"!==t.type&&A.error(new w.a("view:invalid-view","SceneView is not supported",{view:t})),this._set("view",t)}async createBookmark(t){const{view:e,defaultCreateOptions:r}=this;if(!e){const t=new w.a("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return A.error(t),Promise.reject(t)}const{takeScreenshot:n,screenshotSettings:i,captureExtent:o,captureViewpoint:a,captureRotation:s,captureScale:l}={...r,...t},c=n?await this._createThumbnail(i):void 0;return new x.a({...c&&{thumbnail:c},...(a||o)&&{viewpoint:this._createViewpoint({view:e,captureScale:l,captureRotation:s})}})}async editBookmark(t,e){const{view:r,defaultEditOptions:n}=this;if(!r){const t=new w.a("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return A.error(t),Promise.reject(t)}const{takeScreenshot:i,screenshotSettings:o,captureExtent:a,captureViewpoint:s,captureRotation:l,captureScale:c}={...n,...e},u=i?await this._createThumbnail(o):void 0;return u&&(t.thumbnail=u),(s||a)&&(t.viewpoint=this._createViewpoint({view:r,captureScale:c,captureRotation:l})),this.emit("bookmark-edit",{bookmark:t}),t}goTo(t){const{view:e}=this;if(!e){const t=new w.a("go-to:invalid-view","Cannot go to a bookmark without a view");return A.error(t),Promise.reject(t)}const r=null==t?void 0:t.viewpoint;if(!r){const e=new w.a("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:t});return A.error(e),Promise.reject(e)}this._set("activeBookmark",t);const n={target:r},i=this.callGoTo(n);return this.emit("select-bookmark",{bookmark:t}),this.emit("bookmark-select",{bookmark:t}),i.catch((()=>{})).then((()=>this._set("activeBookmark",null))),i}async _createThumbnail(t){const e=await this.view.takeScreenshot({...T,...t});return new p.a({url:e.dataUrl})}_createViewpoint({view:t,captureRotation:e,captureScale:r}){var n,i;const o=null==(n=t.viewpoint)?void 0:n.clone();return new S.a({targetGeometry:null==(i=t.extent)?void 0:i.clone(),rotation:e&&(null==o?void 0:o.rotation)||0,scale:r&&(null==o?void 0:o.scale)||0})}};Object(n.a)([Object(o.b)({readOnly:!0})],C.prototype,"activeBookmark",void 0),Object(n.a)([Object(o.b)({type:E})],C.prototype,"bookmarks",null),Object(n.a)([Object(o.b)()],C.prototype,"defaultCreateOptions",null),Object(n.a)([Object(o.b)()],C.prototype,"defaultEditOptions",null),Object(n.a)([Object(o.b)({readOnly:!0})],C.prototype,"state",null),Object(n.a)([Object(o.b)({value:null})],C.prototype,"view",null),C=Object(n.a)([Object(c.a)(I)],C);var N=C,R=r(1056),D=r(1070);const B="data-bookmark-uid",F="esri-bookmarks esri-widget--panel",U="esri-bookmarks__loader-container",G="esri-bookmarks__loader",L="esri-bookmarks__list",z="esri-bookmarks__list--sortable",q="esri-bookmarks__bookmark",W="esri-bookmarks__bookmark-button",J="esri-bookmarks__bookmark-image-container",V="esri-bookmarks__bookmark-edit-button",$="esri-bookmarks_bookmark-drag-handle",H="esri-bookmarks_bookmark-drag-handle-icon",Z="esri-bookmarks__bookmark-icon",Y="esri-bookmarks__image",X="esri-bookmarks__bookmark-name",Q="esri-bookmarks__bookmark--active",K="esri-widget__content--empty",tt="esri-bookmarks__no-bookmarks-heading",et="esri-widget__no-bookmark-icon",rt="esri-bookmarks__no-bookmarks-description",nt="esri-bookmarks__adding-bookmark",it="esri-bookmarks__add-bookmark",ot="esri-bookmarks__add-bookmark-button",at="esri-bookmarks__add-bookmark-icon",st="esri-bookmarks__authoring-card",lt="esri-bookmarks__authoring-container",ct="esri-bookmarks__authoring-form",ut="esri-bookmarks__authoring-label",dt="esri-bookmarks__authoring-actions",ht="esri-bookmarks__authoring-input--invalid",pt="esri-bookmarks__authoring-delete-button",ft="esri-bookmarks__authoring-cancel-button",bt="esri-widget",mt="esri-widget--disabled",yt="esri-button",gt="esri-button--tertiary",Ot="esri-input",vt="esri-icon-handle-vertical",jt="esri-icon-plus",wt="esri-icon-edit",_t="esri-icon-handle-horizontal",kt="esri-icon-refresh",St="esri-icon-link",xt="esri-icon-erase",Mt="esri-icon-bookmark",It="esri-widget__heading",At="esri-icon-loading-indicator",Et="esri-rotating",Tt={addBookmark:!0,thumbnail:!0},Pt=/^https:\/\/.*/i,Ct="esri.widgets.Bookmarks",Nt=i.a.getLogger(Ct);let Rt=class extends y.a{constructor(t,e){super(t,e),this._handles=new d.a,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.goToOverride=null,this.iconClass=Mt,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new N,this.visibleElements={...Tt}}initialize(){this.own([Object(h.a)(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),Object(h.a)(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}get _editMenuItems(){var t,e;const{messages:r,_userState:n}=this,i=null==n||null==(t=n.editedBookmark)||null==(e=t.thumbnail)?void 0:e.url;return[new R.a({label:null==r?void 0:r.menu.refreshThumbnail,iconClass:kt,clickFunction:()=>this._refreshThumbnail()}),new R.a({label:Pt.test(i)?null==r?void 0:r.menu.editImageUrl:null==r?void 0:r.menu.useImageUrl,iconClass:St,clickFunction:()=>this._startUseImageUrl()}),i?new R.a({label:null==r?void 0:r.menu.removeThumbnail,iconClass:xt,clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:t,messages:e}=this,r=this._get("_editMenu");r&&r.destroy();const n=new D.a({iconClass:_t,label:null==e?void 0:e.menu.label});return n.items=t,n}get bookmarkCreationOptions(){return Object(l.c)(Nt,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions}set bookmarkCreationOptions(t){void 0!==t.captureExtent&&Object(l.c)(Nt,"bookmarkCreationOptions.captureExtent",{replacement:"defaultCreateOptions.captureViewpoint",version:"4.17"}),Object(l.c)(Nt,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions=t}castVisibleElements(t){return{...Tt,...t}}endAddBookmark(){this._userState=null}goTo(t){return this.viewModel.goTo(t)}render(){const{state:t}=this.viewModel,e="loading"===t?this.renderLoading():this.renderBookmarks();return Object(m.a)("div",{class:this.classes(F,bt,{[mt]:this.disabled})},e)}startAddBookmark(){this._userState=new j({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return Object(m.a)("div",{class:U,key:"loader"},Object(m.a)("div",{class:G}))}renderNoBookmarksContainer(){const{messages:t}=this;return Object(m.a)("div",{class:K,key:"no-bookmarks"},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(et,Mt)}),Object(m.a)("h1",{class:this.classes(It,tt)},null==t?void 0:t.noBookmarksHeading),Object(m.a)("p",{class:rt},null==t?void 0:t.noBookmarksDescription))}renderAddBookmarkLoading(){var t;return Object(m.a)("div",{key:"adding-bookmark",class:nt},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(At,Et)}),null==(t=this.messages)?void 0:t.addingBookmark)}renderBookmarkItems(t){if(!t)return null;const{_userState:e,editingEnabled:r}=this;return t.map((t=>r&&t&&e&&("edit"===e.state||"edit-thumbnail"===e.state)&&e.bookmark===t?"edit-thumbnail"===e.state?this.renderEditingBookmarkUrl(e.editedBookmark):this.renderEditingBookmark(e.editedBookmark):this.renderBookmark(t))).toArray()}renderBookmarksContainer(t){var e;const{_userState:r,editingEnabled:n}=this,i="add"===(null==r?void 0:r.state),o=n&&!i?this.renderAddBookmarkButton():null,a=n?i&&r.loading?this.renderAddBookmarkLoading():"add"===(null==r?void 0:r.state)?this.renderAddingBookmark():null:null;return[Object(m.a)("ul",{key:"bookmark-list","aria-label":null==(e=this.messages)?void 0:e.widgetLabel,class:this.classes(L,{[z]:this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(t)),o,a]}renderAddBookmarkButton(){var t;return this.visibleElements.addBookmark?Object(m.a)("div",{key:"add-bookmark-item",class:it},Object(m.a)("button",{class:this.classes(yt,gt,ot),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(at,jt)}),null==(t=this.messages)?void 0:t.addBookmark)):null}renderBookmarks(){const{bookmarks:t}=this.viewModel,e=t&&t.filter(Boolean),r=e&&e.length,n=r||this.editingEnabled?this.renderBookmarksContainer(e):null;return[r?null:this.renderNoBookmarksContainer(),n]}renderEditContainer(t){const{messagesCommon:e}=this;return Object(m.a)("div",{key:"edit-container"},Object(m.a)("button",{title:null==e?void 0:e.edit,"aria-label":null==e?void 0:e.edit,"data-bookmark":t,onclick:this._showEditBookmarkForm,bind:this,class:V,type:"button"},Object(m.a)("span",{"aria-hidden":"true",class:wt})))}renderDragHandle(t){const{messagesCommon:e}=this,r={[B]:t.uid};return Object(m.a)("div",Object.assign({role:"button",tabIndex:0,key:"drag-handle",bind:this,class:$,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===t.uid?"true":"false","aria-label":null==e?void 0:e.dragHandleLabel,title:null==e?void 0:e.dragHandleTitle},r),Object(m.a)("span",{"aria-hidden":"true",class:this.classes(H,vt)}))}renderBookmarkImageIcon(){return Object(m.a)("span",{"aria-hidden":"true",class:this.classes(Z,Mt)})}renderBookmarkImage(t){const{visibleElements:e}=this,{thumbnail:r}=t,n=r&&r.url||"";return e.thumbnail&&n?Object(m.a)("img",{src:n,alt:"",class:Y}):null}renderBookmarkButton(t){const{messagesCommon:e}=this,{name:r}=t,n=r||(null==e?void 0:e.untitled),i=Object(m.a)("div",{class:J},this.renderBookmarkImage(t)||this.renderBookmarkImageIcon());return Object(m.a)("button",{key:"bookmark-button",class:W,bind:this,"data-bookmark":t,onclick:this._goToBookmark,type:"button"},i,Object(m.a)("span",{class:X},n))}renderBookmark(t){const{activeBookmark:e}=this.viewModel,r={[Q]:e===t},n=this.editingEnabled?this.renderEditContainer(t):null,i={[B]:t.uid},o=this.editingEnabled?this.renderDragHandle(t):null;return Object(m.a)("li",Object.assign({key:t,class:this.classes(q,r)},i),o,this.renderBookmarkButton(t),n)}renderEditingBookmarkName(t){const{messages:e,_userState:r}=this,n="name-required"===r.validationState;return Object(m.a)("label",{class:ut},null==e?void 0:e.title,n?Object(m.a)("strong",null,null==e?void 0:e.invalidTitle):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(Ot,n?ht:null),type:"text",value:t.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":t,"data-node-ref":"_editInputNode",placeholder:null==e?void 0:e.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:t}=this;return Object(m.a)("div",{class:dt},Object(m.a)("input",{type:"button",value:null==t?void 0:t.back,class:this.classes(yt,gt),onclick:this._closeUrlEditBookmarkForm,bind:this}),Object(m.a)("input",{class:yt,type:"submit",value:null==t?void 0:t.add}))}renderEditingBookmarkActions(){const{messagesCommon:t}=this,{bookmark:e}=this._userState;return Object(m.a)("div",{class:dt},Object(m.a)("input",{type:"button",value:null==t?void 0:t.delete,class:this.classes(yt,gt,pt),"data-bookmark":e,onclick:this._deleteBookmark,bind:this}),Object(m.a)("input",{type:"button",value:null==t?void 0:t.cancel,class:this.classes(yt,gt),onclick:this._closeEditBookmarkForm,bind:this}),Object(m.a)("input",{class:yt,type:"submit",value:null==t?void 0:t.save}))}renderEditingBookmarkUrlInput(t){var e;const{messages:r,_userState:n}=this,i=null==(e=t.thumbnail)?void 0:e.url,o=Pt.test(i)?i:null,a="absolute-url-required"===n.validationState;return Object(m.a)("label",{class:ut},a?Object(m.a)("strong",null,null==r?void 0:r.invalidImageUrl):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(Ot,a?ht:null),type:"text",value:o,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":t,"data-node-ref":"_urlEditInputNode",title:null==r?void 0:r.imageUrlTooltip,placeholder:null==r?void 0:r.imageUrlPlaceholder}))}renderEditingBookmarkUrl(t){const e={[B]:t.uid};return Object(m.a)("li",Object.assign({key:"edit-bookmark-url-form",class:st},e),Object(m.a)("form",{class:ct,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(t),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(t){const e={[B]:t.uid};return Object(m.a)("li",Object.assign({key:"edit-bookmark-form",class:st},e),Object(m.a)("form",{class:ct,onsubmit:this._editBookmarkSubmit,bind:this},Object(m.a)("div",{class:lt},Object(m.a)("div",{class:J},this.renderBookmarkImage(t),this._editMenu.render()),this.renderEditingBookmarkName(t)),this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:t,messages:e}=this,r="name-required"===t.validationState;return Object(m.a)("label",{class:ut},null==e?void 0:e.title,r?Object(m.a)("strong",null,null==e?void 0:e.invalidTitle):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(Ot,r?ht:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==e?void 0:e.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:t}=this;return Object(m.a)("div",{class:this.classes(dt)},Object(m.a)("input",{type:"button",value:null==t?void 0:t.cancel,class:this.classes(yt,gt,ft),onclick:this._endAddBookmark.bind(this),bind:this}),Object(m.a)("input",{class:yt,type:"submit",value:null==t?void 0:t.add}))}renderAddingBookmark(){return Object(m.a)("div",{key:"add-bookmark-form",class:st},Object(m.a)("form",{class:ct,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(t){const{_sortableSavedItems:e}=this,r=Object(u.a)(t);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(r))return;const{_sortable:n,_selectedSortUid:i}=this,o=n.toArray(),a=t.target.getAttribute(B),s=o.indexOf(a);if(" "===r||"Enter"===r){const t=i&&i===a;return this._selectedSortUid=t?null:a,this._sortableSavedItems=t?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===r)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===r&&e)return t.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(e,n,a),void this.scheduleRender();if(-1===s||!i)return;const l="ArrowUp"===r?s-1:s+1;l>=o.length||l<=-1||(function(t,e,r){t.splice(r,0,t.splice(e,1)[0])}(o,s,l),this._updateSortItems(o,n,a))}_updateSortItems(t,e,r){e.sort(t),this._sortBookmarks(e),this._focusSortUid=r,this._selectedSortUid=r}_focusDragHandle(t){const{_focusSortUid:e}=this;t&&e&&t.getAttribute(B)===e&&(t.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:t,_sortableNode:e,editingEnabled:r}=this;if(e)if(t)t.option("disabled",!r);else{const t=g.a.create(e,{dataIdAttr:B,handle:`.${$}`,group:"bookmarks",disabled:!r,onSort:()=>this._sortBookmarks(t)});this._sortable=t}}_sortNodeCreated(t){this._sortableNode=t,this._toggleSorting()}_sortBookmarks(t){const{bookmarks:e}=this.viewModel;if(!e)return;const r=t.toArray();e.sort(((t,e)=>{const n=r.indexOf(t.uid),i=r.indexOf(e.uid);return n>i?1:n<i?-1:0}))}_destroySortable(){const{_sortable:t}=this;t&&t.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const t="bookmarks-init",{_handles:e}=this;e.remove(t),e.add(Object(h.b)(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),t)}_bookmarksChanged(){const t="bookmarks-change",{bookmarks:e}=this.viewModel,{_handles:r}=this;r.remove(t);const n=e.map((t=>Object(h.d)(t,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));r.add(n,t),this.scheduleRender()}_showEditBookmarkForm(t){const e=t.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new j({bookmark:e,state:"edit"}),this.viewModel.goTo(e),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(t){t.preventDefault();const{_addInputNode:e,_userState:r}=this,n=e&&e.value.trim();n?(r.loading=!0,this.viewModel.createBookmark().then((t=>{t.name=n,this.viewModel.bookmarks.add(t),this._endAddBookmark()}))):r.validationState="name-required"}async _editBookmarkAndClose(t,e){await this.viewModel.editBookmark(t,e),this._closeEditBookmarkForm()}_editBookmarkSubmit(t){t.preventDefault();const{_editInputNode:e,_userState:r}=this,n=e&&e.value.trim();n?(r.bookmark.name=n,r.bookmark.thumbnail=r.editedBookmark.thumbnail,this._editBookmarkAndClose(r.bookmark,{takeScreenshot:!1})):r.validationState="name-required"}_storeAddBookmarkButton(t){this._addBookmarkButtonNode=t,this._focusAddBookmark()}_storeEditInput(t){this._editInputNode=t,this._focusEditInput()}_storeAddInput(t){this._addInputNode=t,this._focusAddInput()}_storeUrlEditInput(t){this._urlEditInputNode=t,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(t){const e=t.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(e)}_goToBookmark(t){const e=t.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(e)}async _refreshThumbnail(){const{_userState:t,_editMenu:e,viewModel:r}=this;t.validationState=void 0,await r.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureExtent:!1,captureViewpoint:!1,captureRotation:!1,captureScale:!1}),e.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:t,_editMenu:e}=this;t.editedBookmark.thumbnail=null,t.validationState=void 0,e.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(t){t.preventDefault();const{_urlEditInputNode:e,_userState:r}=this,n=e.value;Pt.test(n)?(n&&(r.editedBookmark.thumbnail=new p.a({url:n})),this._closeUrlEditBookmarkForm()):r.validationState="absolute-url-required"}};Object(n.a)([Object(o.b)({type:j})],Rt.prototype,"_userState",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],Rt.prototype,"_editMenuItems",null),Object(n.a)([Object(o.b)({readOnly:!0})],Rt.prototype,"_editMenu",null),Object(n.a)([Object(o.b)()],Rt.prototype,"bookmarkCreationOptions",null),Object(n.a)([Object(a.a)("viewModel.defaultCreateOptions")],Rt.prototype,"defaultCreateOptions",void 0),Object(n.a)([Object(a.a)("viewModel.defaultEditOptions")],Rt.prototype,"defaultEditOptions",void 0),Object(n.a)([Object(a.a)("viewModel.bookmarks")],Rt.prototype,"bookmarks",void 0),Object(n.a)([Object(o.b)()],Rt.prototype,"disabled",void 0),Object(n.a)([Object(o.b)()],Rt.prototype,"editingEnabled",void 0),Object(n.a)([Object(a.a)("viewModel.goToOverride")],Rt.prototype,"goToOverride",void 0),Object(n.a)([Object(o.b)()],Rt.prototype,"iconClass",void 0),Object(n.a)([Object(o.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Rt.prototype,"label",void 0),Object(n.a)([Object(o.b)(),Object(f.a)("esri/widgets/Bookmarks/t9n/Bookmarks")],Rt.prototype,"messages",void 0),Object(n.a)([Object(o.b)(),Object(f.a)("esri/t9n/common")],Rt.prototype,"messagesCommon",void 0),Object(n.a)([Object(o.b)(),Object(f.a)("esri/core/t9n/Units")],Rt.prototype,"messagesUnits",void 0),Object(n.a)([Object(a.a)("viewModel.view")],Rt.prototype,"view",void 0),Object(n.a)([Object(o.b)({type:N}),Object(b.a)(["select-bookmark","bookmark-edit","bookmark-select"])],Rt.prototype,"viewModel",void 0),Object(n.a)([Object(o.b)()],Rt.prototype,"visibleElements",void 0),Object(n.a)([Object(s.a)("visibleElements")],Rt.prototype,"castVisibleElements",null),Object(n.a)([Object(o.b)()],Rt.prototype,"endAddBookmark",null),Object(n.a)([Object(o.b)()],Rt.prototype,"startAddBookmark",null),Rt=Object(n.a)([Object(c.a)(Ct)],Rt);var Dt=Rt;e.a=Dt},129:function(t,e,r){"use strict";var n,i,o=r(207);let a;var s,l;function c(t){return"function"==typeof a[t]?a[t]=a[t](o.a):a[t]}a=null!=(n=o.a.dojoConfig)&&n.has||null!=(i=o.a.esriConfig)&&i.has?{...null==(s=o.a.dojoConfig)?void 0:s.has,...null==(l=o.a.esriConfig)?void 0:l.has}:{},c.add=(t,e,r,n)=>((n||void 0===a[t])&&(a[t]=e),r&&c(t)),c.cache=a,c.add("esri-deprecation-warnings",!0),(()=>{c.add("host-webworker",void 0!==o.a.WorkerGlobalScope&&self instanceof o.a.WorkerGlobalScope);const t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",t),c.add("host-node","object"==typeof o.a.process&&o.a.process.versions&&o.a.process.versions.node&&o.a.process.versions.v8),c.add("dom",t),c("host-browser")){const t=navigator,e=t.userAgent,r=t.appVersion,n=parseFloat(r);if(c.add("wp",parseFloat(e.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(e.split("MSAppHost/")[1])||void 0),c.add("khtml",r.indexOf("Konqueror")>=0?n:void 0),c.add("edge",parseFloat(e.split("Edge/")[1])||void 0),c.add("opr",parseFloat(e.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(e.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(e.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(e.split("Android ")[1])||void 0),c.add("safari",!(r.indexOf("Safari")>=0)||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(r.split("Version/")[1])),c.add("mac",r.indexOf("Macintosh")>=0),c.add("quirks","BackCompat"===document.compatMode),!c("wp")&&e.match(/(iPhone|iPod|iPad)/)){const t=RegExp.$1.replace(/P/,"p"),r=e.match(/OS ([\d_]+)/)?RegExp.$1:"1",n=parseFloat(r.replace(/_/,".").replace(/_/g,""));c.add(t,n),c.add("ios",n)}c.add("trident",parseFloat(r.split("Trident/")[1])||void 0),c.add("svg","undefined"!=typeof SVGAngle),c("webkit")||(e.indexOf("Opera")>=0&&c.add("opera",n>=9.8&&parseFloat(e.split("Version/")[1])||n),!(e.indexOf("Gecko")>=0)||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0))}})(),(()=>{if(o.a.navigator){const t=navigator.userAgent,e=t.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=t.match(/iPhone/i);e&&c.add("esri-mobile",e),r&&c.add("esri-iPhone",r),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in o.a),c.add("esri-shared-array-buffer",(()=>{const t="SharedArrayBuffer"in o.a,e=!1===o.a.crossOriginIsolated;return t&&!e})),c.add("esri-atomics","Atomics"in o.a),c.add("esri-workers","Worker"in o.a),c.add("esri-text-decoder","TextDecoder"in o.a),c.add("esri-text-encoder","TextEncoder"in o.a),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("mapview-transitions-duration",200),c.add("mapserver-pbf-enabled",!1),c("host-webworker")||c("host-browser")&&(c.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),c.add("esri-image-decode",(()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then((()=>{c.add("esri-image-decode",!0,!0,!0)})).catch((()=>{c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(()=>{const t=o.a.document.createElement("a");return t.href="?'",t.href.indexOf("?%27")>-1})),c.add("vectortilelayer-max-buffers",(()=>c("ff")?160:Number.POSITIVE_INFINITY)))})(),e.a=c},130:function(t,e,r){"use strict";r(129);var n=r(191),i=r(138),o=r(183);const a={info:0,warn:1,error:2,none:3};class s{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,s._loggers[this.module]=this;const e=this.module.lastIndexOf(".");-1!==e&&(this._parent=s.getLogger(this.module.slice(0,e)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const e=s._loggers;return s._loggers=t,e},set throttlingDisabled(t){s._throttlingDisabled=t}}}static getLogger(t){let e=s._loggers[t];return e||(e=new s({module:t})),e}_log(t,e,...r){if(this._matchLevel(t)){if("always"!==e&&!s._throttlingDisabled){const n=this._argsToKey(r),i=this._loggedMessages[t].get(n);if("once"===e&&null!=i||"oncePerTick"===e&&i&&i>=s._tickCounter)return;this._loggedMessages[t].set(n,s._tickCounter),s._scheduleTickCounterIncrement()}for(const e of n.a.log.interceptors)if(e(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,e){let r=this;for(;Object(i.k)(r);){const e=r[t];if(Object(i.k)(e))return e;r=r.parent}return e}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,e,...r){console[t](`[${e}]`,...r)}_matchLevel(t){const e=n.a.log.level?n.a.log.level:"warn";return a[this._parentWithMember("level",e)]<=a[t]}_argsToKey(...t){return Object(o.b)(JSON.stringify(t,((t,e)=>"object"!=typeof e||Array.isArray(e)?e:"[Object]")))}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}s._loggers={},s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1,e.a=s},138:function(t,e,r){"use strict";r.d(e,"a",(function(){return p})),r.d(e,"b",(function(){return g})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return j})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return O})),r.d(e,"h",(function(){return m})),r.d(e,"i",(function(){return v})),r.d(e,"j",(function(){return i})),r.d(e,"k",(function(){return n})),r.d(e,"l",(function(){return o})),r.d(e,"m",(function(){return b})),r.d(e,"n",(function(){return y})),r.d(e,"o",(function(){return f})),r.d(e,"p",(function(){return h})),r.d(e,"q",(function(){return s})),r.d(e,"r",(function(){return c})),r.d(e,"s",(function(){return l}));function n(t){return null!=t}function i(t){return null==t}function o(t){return void 0===t}function a(t,e){return n(t)?e(t):null}function s(t){return t}function l(t,e){if(i(t))throw new Error(e);return t}function c(t,e){return n(t)?t:"function"==typeof e?e():e}function u(t){return n(t)&&t.destroy(),null}function d(t){return n(t)&&t.dispose(),null}function h(t){return n(t)&&t.remove(),null}function p(t){return n(t)&&t.abort(),null}function f(t){return null}function b(t,e){const r=new Array;for(const n of t)r.push(y(n,null,e));return r}function m(t,e){for(const r of t)y(r,null,e)}function y(t,e,r){return n(t)?r(t):e}function g(t,e){return n(t)?e(t):null}function O(t){return t.filter((t=>n(t)))}function v(t,...e){let r=t,n=0;for(;n<e.length&&r;)r=r[e[n++]];return r}function j(t){return t}},139:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return l}));var n=r(131),i=r(133),o=r(146),a=r(231),s=r(204);const l=t=>{let e=class extends t{constructor(...t){super(...t)}read(t,e){Object(a.a)(this,t,e)}write(t={},e){return Object(s.b)(this,t,e)}toJSON(t){return this.write({},t)}static fromJSON(t,e){return c.call(this,t,e)}};return e=Object(n.a)([Object(i.a)("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function c(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(t,e),r}let u=class extends(l(o.a)){};u=Object(n.a)([Object(i.a)("esri.core.JSONSupport")],u)},140:function(t,e,r){"use strict";var n=r(141),i=r(130),o=r(458);class a extends o.a{constructor(t,e,r){if(super(t,e,r),!(this instanceof a))return new a(t,e,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((t,e)=>{if(e&&"object"==typeof e&&"function"==typeof e.toJSON)return e;try{return Object(n.a)(e)}catch(a){return"[object]"}})))}}catch(t){throw i.a.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new a(t.name,t.message,t.details)}}a.prototype.type="error",e.a=a},141:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return i}));r(129);var n=r(340);function i(t,e){let r;if(e)for(r in t)t.hasOwnProperty(r)&&(void 0===t[r]?delete t[r]:t[r]instanceof Object&&i(t[r],!0));else for(r in t)t.hasOwnProperty(r)&&void 0===t[r]&&delete t[r];return t}function o(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;if(Object(n.h)(t)||Object(n.k)(t)||Object(n.l)(t)||Object(n.f)(t)||Object(n.i)(t)||Object(n.g)(t)||Object(n.j)(t)||Object(n.d)(t)||Object(n.e)(t))return Object(n.m)(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;return t.forEach(((t,r)=>{e.set(r,o(t))})),e}if(t instanceof Set){const e=new Set;return t.forEach((t=>{e.add(o(t))})),e}let e;const r=t;if("function"==typeof r.clone)e=r.clone();else if("function"==typeof r.map&&"function"==typeof r.forEach)e=r.map(o);else if("function"==typeof r.notifyChange&&"function"==typeof r.watch)e=r.clone();else{e={};for(const r of Object.getOwnPropertyNames(t))e[r]=o(t[r])}return e}function a(t,e){return t===e||"number"==typeof t&&isNaN(t)&&"number"==typeof e&&isNaN(e)||"function"==typeof(t||{}).getTime&&"function"==typeof(e||{}).getTime&&t.getTime()===e.getTime()||!1}},142:function(t,e,r){"use strict";r.d(e,"a",(function(){return x})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return j})),r.d(e,"g",(function(){return E})),r.d(e,"h",(function(){return T})),r.d(e,"i",(function(){return A})),r.d(e,"j",(function(){return w})),r.d(e,"k",(function(){return _})),r.d(e,"l",(function(){return v})),r.d(e,"m",(function(){return O})),r.d(e,"n",(function(){return p})),r.d(e,"o",(function(){return M})),r.d(e,"p",(function(){return m})),r.d(e,"q",(function(){return y})),r.d(e,"r",(function(){return k})),r.d(e,"s",(function(){return S})),r.d(e,"t",(function(){return f})),r.d(e,"u",(function(){return d})),r.d(e,"v",(function(){return b})),r.d(e,"w",(function(){return I})),r.d(e,"x",(function(){return g}));var n=r(138),i=(r(130),r(140)),o=r(502),a=r(257);function s(t){return Promise.all(t)}function l(t){return new Promise(((e,r)=>{try{t(e,r)}catch(n){Promise.resolve().then((()=>r(n)))}}))}function c(t="Aborted"){return new i.a("AbortError",t)}function u(){return new AbortController}function d(t){if(p(t))throw c()}function h(t){return Object(n.k)(t)?"aborted"in t?t:t.signal:t}function p(t){const e=h(t);return Object(n.k)(e)&&e.aborted}function f(t){if(O(t))throw t}function b(t){if(!O(t))throw t}function m(t,e){const r=h(t);if(!Object(n.j)(r)){if(!r.aborted)return Object(a.d)(r,"abort",(()=>e()));e()}}function y(t,e){const r=h(t);if(!Object(n.j)(r))return d(r),Object(a.d)(r,"abort",(()=>e(c())))}function g(t,e){const r=h(e);return Object(n.j)(r)?t:new Promise(((r,i)=>{let o=m(e,(()=>i(c())));const a=()=>o=Object(n.p)(o);t.then(a,a),t.then(r,i)}))}function O(t){return t&&"AbortError"===t.name}function v(t){return t.catch((t=>{if(!O(t))throw t}))}function j(){let t=null;const e=new Promise(((e,r)=>{t={promise:void 0,resolve:e,reject:r}}));return t.promise=e,t}function w(t){if(!t)return;if("function"!=typeof t.forEach){const e=Object.keys(t);return w(e.map((e=>t[e]))).then((t=>{const r={};return e.forEach(((e,n)=>r[e]=t[n])),r}))}const e=t;return Promise.allSettled(e).then((t=>Array.from(e,((e,r)=>{const n=t[r];return"fulfilled"===n.status?{promise:e,value:n.value}:{promise:e,error:n.reason}}))))}function _(t){return w(t).then((t=>t.filter((t=>!!t.value)).map((t=>t.value))))}function k(t){return Promise.reject(t)}function S(t){return Promise.resolve(t)}function x(t,e,r){const n=u();return m(r,(()=>n.abort())),new Promise(((r,i)=>{let o=setTimeout((()=>{o=0,r(e)}),t);m(n,(()=>{o&&(clearTimeout(o),i(c()))}))}))}function M(t){return t&&"function"==typeof t.then}function I(t){return t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then?t:Promise.resolve(t)}function A(t,e=-1){let r,i,o,a,s=null;const l=(...d)=>{if(r){i=d,a&&a.reject(c()),a=j();const t=Object(n.d)(a.promise);if(s){const t=s;s=null,t.abort()}return t}if(o=a||j(),a=null,e>0){const n=u();r=I(t(...d,n.signal));const i=r;x(e).then((()=>{r===i&&(a?n.abort():s=n)}))}else r=1,r=I(t(...d));const h=()=>{const t=i;i=o=r=s=null,null!=t&&l(...t)},p=r,f=o;return p.then(h,h),p.then(f.resolve,f.reject),Object(n.d)(f.promise)};return l}function E(){let t,e;const r=new Promise(((r,n)=>{t=r,e=n})),n=e=>{t(e)};return n.resolve=e=>t(e),n.reject=t=>e(t),n.timeout=(t,e)=>o.a.setTimeout((()=>n.reject(e)),t),n.promise=r,n}function T(t){let e=u();const r=t(e.signal);let n={promise:r,finished:!1,abort:()=>{e&&(e.abort(),e=null)}};const i=()=>{n&&(n.finished=!0,n=null),e=null};return r.then(i,i),n}},143:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(172),i=r(134);function o(t,e,r){let o,a;return void 0===e?(a=t,o=[void 0]):"string"!=typeof e?(a=t,o=[void 0],r=e):(a=e,o=Array.isArray(t)?t:[t]),(t,e)=>{const s=t.constructor.prototype;o.forEach((o=>{const l=Object(i.c)(t,o,a);l.write&&"object"!=typeof l.write&&(l.write={}),r&&Object(n.c)("write.target",r,l),Object(n.c)("write.writer",s[e],l)}))}}},144:function(t,e,r){"use strict";var n,i=r(131),o=r(141),a=r(137),s=r(134),l=r(133),c=r(143),u=r(139),d=r(156);let h=n=class extends u.a{constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(t){if(!t)return null;if(t.wkid){if(102100===t.wkid)return n.WebMercator;if(4326===t.wkid)return n.WGS84}const e=new n;return e.read(t),e}normalizeCtorArgs(t){return t&&"object"==typeof t?t:{["string"==typeof t?"wkt":"wkid"]:t}}get isWGS84(){return Object(d.j)(this)}get isWebMercator(){return Object(d.m)(this)}get isGeographic(){return Object(d.f)(this)}get isWrappable(){return Object(d.n)(this)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;const t=new n;return null!=this.wkid?(t.wkid=this.wkid,null!=this.latestWkid&&(t.latestWkid=this.latestWkid),null!=this.vcsWkid&&(t.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(t.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(t.wkt=this.wkt),this.imageCoordinateSystem&&(t.imageCoordinateSystem=Object(o.a)(this.imageCoordinateSystem)),t}equals(t){if(null==t)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==t.imageCoordinateSystem)return!1;const{id:e,referenceServiceName:r}=t.imageCoordinateSystem,{geodataXform:n}=t.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==e||n?JSON.stringify(i)===JSON.stringify(t.imageCoordinateSystem):r?i.id===e&&i.referenceServiceName===r:i.id===e}return Object(d.c)(this,t)}toJSON(t){return this.write(void 0,t)}};h.GCS_NAD_1927=null,h.WGS84=null,h.WebMercator=null,Object(i.a)([Object(s.b)({readOnly:!0})],h.prototype,"isWGS84",null),Object(i.a)([Object(s.b)({readOnly:!0})],h.prototype,"isWebMercator",null),Object(i.a)([Object(s.b)({readOnly:!0})],h.prototype,"isGeographic",null),Object(i.a)([Object(s.b)({readOnly:!0})],h.prototype,"isWrappable",null),Object(i.a)([Object(s.b)({type:a.a,json:{write:!0}})],h.prototype,"latestWkid",void 0),Object(i.a)([Object(s.b)({type:a.a,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],h.prototype,"wkid",void 0),Object(i.a)([Object(s.b)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],h.prototype,"wkt",void 0),Object(i.a)([Object(c.a)("wkt"),Object(c.a)("web-scene","wkt")],h.prototype,"writeWkt",null),Object(i.a)([Object(s.b)({type:a.a,json:{write:!0}})],h.prototype,"vcsWkid",void 0),Object(i.a)([Object(s.b)({type:a.a,json:{write:!0}})],h.prototype,"latestVcsWkid",void 0),Object(i.a)([Object(s.b)()],h.prototype,"imageCoordinateSystem",void 0),h=n=Object(i.a)([Object(l.a)("esri.geometry.SpatialReference")],h),h.prototype.toJSON.isDefaultToJSON=!0,h.GCS_NAD_1927=new h({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),h.WGS84=new h(d.a),h.WebMercator=new h(d.b),Object.freeze&&(Object.freeze(h.GCS_NAD_1927),Object.freeze(h.WGS84),Object.freeze(h.WebMercator));var p=h;e.a=p},145:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(172),i=r(134);function o(t,e,r){let o,a;return void 0===e||Array.isArray(e)?(a=t,r=e,o=[void 0]):(a=e,o=Array.isArray(t)?t:[t]),(t,e)=>{const s=t.constructor.prototype;o.forEach((o=>{const l=Object(i.c)(t,o,a);l.read&&"object"!=typeof l.read&&(l.read={}),Object(n.c)("read.reader",s[e],l),r&&(l.read.source=(l.read.source||[]).concat(r))}))}}},147:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return y})),r.d(e,"c",(function(){return b})),r.d(e,"d",(function(){return c})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return p})),r.d(e,"h",(function(){return h}));var n=r(184),i=r(159),o=r(149),a=r(233),s=r(174),l=r(177);function c(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function u(t){return void 0!==t.points}function d(t){return void 0!==t.x&&void 0!==t.y}function h(t){return void 0!==t.paths}function p(t){return void 0!==t.rings}function f(t){return t?t instanceof n.a?t:d(t)?i.a.fromJSON(t):h(t)?l.a.fromJSON(t):p(t)?s.a.fromJSON(t):u(t)?a.a.fromJSON(t):c(t)?o.a.fromJSON(t):null:null}function b(t){return t?d(t)?"esriGeometryPoint":h(t)?"esriGeometryPolyline":p(t)?"esriGeometryPolygon":c(t)?"esriGeometryEnvelope":u(t)?"esriGeometryMultipoint":null:null}const m={esriGeometryPoint:i.a,esriGeometryPolyline:l.a,esriGeometryPolygon:s.a,esriGeometryEnvelope:o.a,esriGeometryMultipoint:a.a};function y(t){return t&&m[t]||null}},149:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(138)),a=r(183),s=(r(130),r(137),r(134)),l=r(133),c=(r(132),r(135),r(136),r(156)),u=r(144),d=r(184),h=r(194),p=r(159),f=r(307),b=r(343);function m(t,e,r){return null==e?r:null==r?e:t(e,r)}let y=n=class extends d.a{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,r,n,i){return function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?u.a.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:r,ymax:n,spatialReference:null==i?u.a.WGS84:i}}static fromBounds(t,e){return new n({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new p.a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new n;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&Object(h.a)(e,r)&&(t=e.isWebMercator?Object(h.b)(t):Object(h.e)(t,!0)),"point"===t.type?Object(f.e)(this,t):"extent"===t.type&&Object(f.c)(this,t)}equals(t){if(!t)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&Object(h.a)(e,r)&&(t=e.isWebMercator?Object(h.b)(t):Object(h.e)(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),r=this.width*e,n=this.height*e;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const t=(this.zmax-this.zmin)*e;this.zmin+=t,this.zmax-=t}if(this.hasM){const t=(this.mmax-this.mmin)*e;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(Object(o.j)(t))return!1;"mesh"===t.type&&(t=t.extent);const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&Object(h.a)(e,r)&&(t=e.isWebMercator?Object(h.b)(t):Object(h.e)(t,!0)),Object(b.b)(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,r){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=m(Math.min,this.zmin,t.zmin),this.zmax=m(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=m(Math.min,this.mmin,t.mmin),this.mmax=m(Math.max,this.mmax,t.mmax)),this}intersection(t){return this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=m(Math.max,this.zmin,t.zmin),this.zmax=m(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=m(Math.max,this.mmin,t.mmin),this.mmax=m(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write(null,t)}_shiftCM(t=Object(c.d)(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,r=this._getCM(t);if(r){const n=e.isWebMercator?Object(h.e)(r):r;this.xmin-=r.x,this.xmax-=r.x,e.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new u.a(Object(a.c)(e.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(t){let e=null;const[r,n]=t.valid,i=this.xmin,o=this.xmax;return i>=r&&i<=n&&o>=r&&o<=n||(e=this.center),e}_normalize(t,e,r){const n=this.spatialReference;if(!n)return this;if(!(r=r||Object(c.d)(n)))return this;const i=this._getParts(r).map((t=>t.extent));if(i.length<2)return i[0]||this;if(i.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return i;let o=!0,a=!0;return i.forEach((t=>{t.hasZ||(o=!1),t.hasM||(a=!1)})),{rings:i.map((t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(o){const r=(t.zmax-t.zmin)/2;for(let t=0;t<e.length;t++)e[t].push(r)}if(a){const r=(t.mmax-t.mmin)/2;for(let t=0;t<e.length;t++)e[t].push(r)}return e})),hasZ:o,hasM:a,spatialReference:n}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:i,spatialReference:o}=this,a=this.width,s=this.xmin,l=this.xmax;let u;t=t||Object(c.d)(o);const[d,h]=t.valid;u=this._normalizeX(this.xmin,t);const p=u.x,f=u.frameId;u=this._normalizeX(this.xmax,t);const b=u.x,m=u.frameId,y=p===b&&a>0;if(a>2*h){const t=new n(s<l?p:b,r,h,i,o),a=new n(d,r,s<l?b:p,i,o),c=new n(0,r,h,i,o),u=new n(d,r,0,i,o),y=[],g=[];t.contains(c)&&y.push(f),t.contains(u)&&g.push(f),a.contains(c)&&y.push(m),a.contains(u)&&g.push(m);for(let e=f+1;e<m;e++)y.push(e),g.push(e);e.push({extent:t,frameIds:[f]},{extent:a,frameIds:[m]},{extent:c,frameIds:y},{extent:u,frameIds:g})}else p>b||y?e.push({extent:new n(p,r,h,i,o),frameIds:[f]},{extent:new n(d,r,b,i,o),frameIds:[m]}):e.push({extent:new n(p,r,b,i,o),frameIds:[f]});this.cache._parts=e}const r=this.hasZ,i=this.hasM;if(r||i){const t={};r&&(t.zmin=this.zmin,t.zmax=this.zmax),i&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let r=0;r<e.length;r++)e[r].extent.set(t)}return e}_normalizeX(t,e){const[r,n]=e.valid,i=2*n;let o,a=0;return t>n?(o=Math.ceil(Math.abs(t-n)/i),t-=o*i,a=o):t<r&&(o=Math.ceil(Math.abs(t-r)/i),t+=o*i,a=-o),{x:t,frameId:a}}};Object(i.a)([Object(s.b)({readOnly:!0})],y.prototype,"cache",null),Object(i.a)([Object(s.b)({readOnly:!0})],y.prototype,"center",null),Object(i.a)([Object(s.b)({readOnly:!0})],y.prototype,"extent",null),Object(i.a)([Object(s.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),Object(i.a)([Object(s.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),Object(i.a)([Object(s.b)({readOnly:!0})],y.prototype,"height",null),Object(i.a)([Object(s.b)({readOnly:!0})],y.prototype,"width",null),Object(i.a)([Object(s.b)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),Object(i.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),Object(i.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),Object(i.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),Object(i.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),Object(i.a)([Object(s.b)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),Object(i.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),Object(i.a)([Object(s.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=n=Object(i.a)([Object(l.a)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0;var g=y;e.a=g},150:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(137),i=(r(144),r(184)),o=r(159),a=r(149),s=r(233),l=r(174),c=r(177);r(247),r(147);const u={base:i.a,key:"type",typeMap:{extent:a.a,multipoint:s.a,point:o.a,polyline:c.a,polygon:l.a}};Object(n.k)(u)},152:function(t,e,r){"use strict";function n(){return[0,0,0]}function i(t){return[t[0],t[1],t[2]]}function o(t,e,r){return[t,e,r]}function a(t){const e=[0,0,0],r=Math.min(3,t.length);for(let n=0;n<r;++n)e[n]=t[n];return e}function s(t,e){return new Float64Array(t,e,3)}function l(){return[0,0,0]}function c(){return o(1,1,1)}function u(){return o(1,0,0)}function d(){return o(0,1,0)}function h(){return o(0,0,1)}r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return p})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return n})),r.d(e,"f",(function(){return a})),r.d(e,"g",(function(){return o}));const p=[0,0,0],f=c(),b=u(),m=d(),y=h();Object.freeze({__proto__:null,create:n,clone:i,fromValues:o,fromArray:a,createView:s,zeros:l,ones:c,unitX:u,unitY:d,unitZ:h,ZEROS:p,ONES:f,UNIT_X:b,UNIT_Y:m,UNIT_Z:y})},154:function(t,e,r){"use strict";r.d(e,"a",(function(){return _})),r.d(e,"b",(function(){return y})),r.d(e,"c",(function(){return g})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return j})),r.d(e,"f",(function(){return b})),r.d(e,"g",(function(){return v})),r.d(e,"h",(function(){return O})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return i})),r.d(e,"k",(function(){return c})),r.d(e,"l",(function(){return f})),r.d(e,"m",(function(){return p})),r.d(e,"n",(function(){return d})),r.d(e,"o",(function(){return a})),r.d(e,"p",(function(){return u})),r.d(e,"q",(function(){return m})),r.d(e,"r",(function(){return h}));const n=new Float32Array(1),i=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},o=Number.isNaN||function(t){return t!=t};function a(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function s(t,e,r){return t<e?e:t>r?r:t}function l(t,e,r){return Math.min(Math.max(t,e),r)}function c(t){return 0==(t&t-1)}function u(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function d(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}const h=Math.sign||function(t){return+(t>0)-+(t<0)||+t},p=Math.log2||function(t){return Math.log(t)/Math.LN2};function f(t,e,r){return t+(e-t)*r}function b(t){return t*Math.PI/180}function m(t){return 180*t/Math.PI}function y(t){return Math.acos(s(t,-1,1))}function g(t){return Math.asin(s(t,-1,1))}function O(t,e,r=1e-6){if(o(t)||o(e))return!1;if(t===e)return!0;const n=Math.abs(t-e),i=Math.abs(t),a=Math.abs(e);if(0===t||0===e||i<1e-12&&a<1e-12){if(n>.01*r)return!1}else if(n/(i+a)>r)return!1;return!0}function v(t,e,r=1e-6){return!o(t)&&!o(e)&&(t>e?t-e:e-t)<=r}function j(t){return w(Math.max(-_,Math.min(t,_)))}function w(t){return n[0]=t,n[0]}const _=w(34028234663852886e22)},155:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(134),i=r(148);function o(t,e={ignoreUnknown:!0}){const r=t instanceof i.a?t:new i.a(t,e),o={type:null!=e&&e.ignoreUnknown?r.apiValues:String,readOnly:null==e?void 0:e.readOnly,json:{type:r.jsonValues,read:(null==e||!e.readOnly)&&{reader:r.read},write:{writer:r.write}}};return void 0!==(null==e?void 0:e.default)&&(o.json.default=e.default),Object(n.b)(o)}},156:function(t,e,r){"use strict";r.d(e,"a",(function(){return k})),r.d(e,"b",(function(){return S})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return p})),r.d(e,"e",(function(){return b})),r.d(e,"f",(function(){return f})),r.d(e,"g",(function(){return O})),r.d(e,"h",(function(){return j})),r.d(e,"i",(function(){return _})),r.d(e,"j",(function(){return m})),r.d(e,"k",(function(){return g})),r.d(e,"l",(function(){return v})),r.d(e,"m",(function(){return y})),r.d(e,"n",(function(){return w}));var n=r(138),i=r(183),o=r(289);const a={102113:!0,102100:!0,3857:!0,3785:!0},s={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},l='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',c=[-20037508.342788905,20037508.342788905],u=[-20037508.342787,20037508.342787],d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:u,dx:1e-5},102100:{wkTemplate:l,valid:c,origin:u,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:u,dx:1e-5},3857:{wkTemplate:l,valid:c,origin:u,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function h(t,e){return!Object(n.j)(t)&&!Object(n.j)(e)&&(t===e||(null!=t.wkid||null!=e.wkid?t.wkid===e.wkid||y(t)&&y(e)||null!=e.latestWkid&&t.wkid===e.latestWkid||null!=t.latestWkid&&e.wkid===t.latestWkid:!(!t.wkt||!e.wkt)&&t.wkt.toUpperCase()===e.wkt.toUpperCase()))}function p(t){return _(t)&&t.wkid?d[t.wkid]:null}function f(t){return!!_(t)&&(t.wkid?null==o.a[t.wkid]:!!t.wkt&&!!/^\s*GEOGCS/i.test(t.wkt))}function b(t){return!(O(t)||j(t))}function m(t){return _(t)&&4326===t.wkid}function y(t){return _(t)&&null!=t.wkid&&!0===a[t.wkid]}function g(t){return 104971===t||104905===t}function O(t){return _(t)&&null!=t.wkid&&g(t.wkid)}function v(t){return 104903===t}function j(t){return _(t)&&null!=t.wkid&&v(t.wkid)}function w(t){return _(t)&&null!=t.wkid&&!0===s[t.wkid]}function _(t){return Object(n.k)(t)&&(null!=t.wkid&&t.wkid>=2e3||null!=t.wkt)}const k={wkid:4326,wkt:Object(i.c)(d[4326].wkTemplate,{Central_Meridian:"0.0"})},S={wkid:102100,latestWkid:3857}},157:function(t,e,r){"use strict";var n=r(138),i=r(137),o=r(503),a=r(154);function s(t){return Object(a.d)(Object(i.e)(t),0,255)}function l(t,e,r){return t=Number(t),isNaN(t)?r:t<e?e:t>r?r:t}class c{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,e,r,n=new c){return n.r=Math.round(t.r+(e.r-t.r)*r),n.g=Math.round(t.g+(e.g-t.g)*r),n.b=Math.round(t.b+(e.b-t.b)*r),n.a=t.a+(e.a-t.a)*r,n._sanitize()}static fromRgb(t,e){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const t=r[2].split(/\s*,\s*/),n=r[1];if("rgb"===n&&3===t.length||"rgba"===n&&4===t.length){const r=t[0];if("%"===r.charAt(r.length-1)){const r=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(r[3]=parseFloat(t[3])),c.fromArray(r,e)}return c.fromArray(t.map((t=>parseFloat(t))),e)}if("hsl"===n&&3===t.length||"hsla"===n&&4===t.length)return c.fromArray(Object(o.d)(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),e)}return null}static fromHex(t,e=new c){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const r=4===t.length?4:8,n=(1<<r)-1;let i=Number("0x"+t.substr(1));return isNaN(i)?null:(["b","g","r"].forEach((t=>{const o=i&n;i>>=r,e[t]=4===r?17*o:o})),e.a=1,e)}static fromArray(t,e=new c){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const r=Object(o.a)(t);return r&&c.fromArray(r,e)||c.fromRgb(t,e)||c.fromHex(t,e)}static fromJSON(t){return t&&new c([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return Object(n.k)(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return Object(n.k)(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if("string"==typeof t)c.fromString(t,this);else if(Array.isArray(t))c.fromArray(t,this);else{var e,r,n,i;this._set(null!=(e=t.r)?e:0,null!=(r=t.g)?r:0,null!=(n=t.b)?n:0,null!=(i=t.a)?i:1),t instanceof c||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return`#${t.length<2?"0"+t:t}${e.length<2?"0"+e:e}${r.length<2?"0"+r:r}`}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const e=s(this.r),r=s(this.g),n=s(this.b);return 0===t||1!==this.a?[e,r,n,s(255*this.a)]:[e,r,n]}clone(){return new c(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(l(this.r,0,255)),this.g=Math.round(l(this.g,0,255)),this.b=Math.round(l(this.b,0,255)),this.a=l(this.a,0,1),this}_set(t,e,r,n){this.r=t,this.g=e,this.b=r,this.a=n}}c.prototype.declaredClass="esri.Color",e.a=c},158:function(t,e,r){"use strict";r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return p})),r.d(e,"c",(function(){return S})),r.d(e,"d",(function(){return h})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return v})),r.d(e,"g",(function(){return O})),r.d(e,"h",(function(){return j})),r.d(e,"i",(function(){return c})),r.d(e,"j",(function(){return a})),r.d(e,"k",(function(){return b})),r.d(e,"l",(function(){return w})),r.d(e,"m",(function(){return N})),r.d(e,"n",(function(){return f})),r.d(e,"o",(function(){return o})),r.d(e,"p",(function(){return I})),r.d(e,"q",(function(){return g})),r.d(e,"r",(function(){return m})),r.d(e,"s",(function(){return y})),r.d(e,"t",(function(){return k})),r.d(e,"u",(function(){return A})),r.d(e,"v",(function(){return s})),r.d(e,"w",(function(){return _})),r.d(e,"x",(function(){return R})),r.d(e,"y",(function(){return C})),r.d(e,"z",(function(){return P}));var n=r(152),i=r(229);function o(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function s(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function l(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function h(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function p(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function f(t,e){const r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function b(t,e){const r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function m(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function y(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function g(t,e){const r=e[0],n=e[1],i=e[2];let o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function O(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function v(t,e,r){const n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],l=r[2];return t[0]=i*l-o*s,t[1]=o*a-n*l,t[2]=n*s-i*a,t}function j(t,e,r,n){const i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}function w(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12],t[1]=r[1]*n+r[5]*i+r[9]*o+r[13],t[2]=r[2]*n+r[6]*i+r[10]*o+r[14],t}function _(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function k(t,e,r){const n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],l=e[1],c=e[2];let u=i*c-o*l,d=o*s-n*c,h=n*l-i*s,p=i*h-o*d,f=o*u-n*h,b=n*d-i*u;const m=2*a;return u*=m,d*=m,h*=m,p*=2,f*=2,b*=2,t[0]=s+u+p,t[1]=l+d+f,t[2]=c+h+b,t}function S(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}const x=Object(n.e)(),M=Object(n.e)();function I(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}const A=c,E=u,T=d,P=f,C=b,N=o,R=m;Object.freeze({__proto__:null,length:o,copy:a,set:s,add:l,subtract:c,multiply:u,divide:d,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:h,scaleAndAdd:p,distance:f,squaredDistance:b,squaredLength:m,negate:y,inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:g,dot:O,cross:v,lerp:j,hermite:function(t,e,r,n,i,o){const a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return t[0]=e[0]*s+r[0]*l+n[0]*c+i[0]*u,t[1]=e[1]*s+r[1]*l+n[1]*c+i[1]*u,t[2]=e[2]*s+r[2]*l+n[2]*c+i[2]*u,t},bezier:function(t,e,r,n,i,o){const a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,d=3*l*a,h=l*o;return t[0]=e[0]*c+r[0]*u+n[0]*d+i[0]*h,t[1]=e[1]*c+r[1]*u+n[1]*d+i[1]*h,t[2]=e[2]*c+r[2]*u+n[2]*d+i[2]*h,t},random:function(t,e){e=e||1;const r=2*Object(i.b)()*Math.PI,n=2*Object(i.b)()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=n*e,t},transformMat4:w,transformMat3:_,transformQuat:k,rotateX:function(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},rotateY:function(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},rotateZ:S,angle:function(t,e){a(x,t),a(M,e),g(x,x),g(M,M);const r=O(x,M);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:I,equals:function(t,e){const r=t[0],n=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(r-a)<=i.a*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=i.a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=i.a*Math.max(1,Math.abs(o),Math.abs(l))},sub:A,mul:E,div:T,dist:P,sqrDist:C,len:N,sqrLen:R})},159:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(130)),o=r(137),a=r(134),s=r(170),l=r(145),c=r(133),u=r(143),d=(r(132),r(135),r(136),r(156)),h=r(144),p=r(184);var f,b=r(194);const m=[0,0];function y(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}const g=i.a.getLogger("esri.geometry.Point");let O=f=class extends p.a{constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const r=t._get("spatialReference");e._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(t,e,r,n,i){let o;if(Array.isArray(t))o=t,i=e,t=o[0],e=o[1],r=o[2],n=o[3];else if(t&&"object"==typeof t){if(o=t,t=null!=o.x?o.x:o.longitude,e=null!=o.y?o.y:o.latitude,r=o.z,n=o.m,(i=o.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new h.a(i)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)g.warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)g.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i&&i.isWebMercator){const r=Object(b.c)(o.longitude,o.latitude,m);t=r[0],e=r[1]}}else y(r)?(i=r,r=null):y(n)&&(i=n,n=null);const a={x:t,y:e};return null==a.x&&null!=a.y?g.warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&g.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(a.spatialReference=i),null!=r&&(a.z=r),null!=n&&(a.m=n),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(t){t!==(void 0!==this._get("m"))&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return void 0!==this.z}set hasZ(t){t!==(void 0!==this._get("z"))&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:e,y:r}=this;if(t){if(t.isWebMercator)return Object(b.g)(e,r,m)[1];if(t.isGeographic)return r}return null}set latitude(t){const{spatialReference:e,x:r}=this;e&&(e.isWebMercator?this._set("y",Object(b.c)(r,t,m)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:e,spatialReference:r}=this;if(r){if(r.isWebMercator)return Object(b.g)(t,e,m)[0];if(r.isGeographic)return t}return NaN}set longitude(t){const{y:e,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",Object(b.c)(t,e,m)[0]):r.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,r){e[r]=isNaN(t)?"NaN":t}readX(t){return"string"==typeof t?NaN:t}clone(){const t=new f;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return f.copy(t,this),this}equals(t){if(!t)return!1;const{x:e,y:r,z:n,m:i,spatialReference:o}=this,{z:a,m:s}=t;let{x:l,y:c,spatialReference:u}=t;if(!o.equals(u))if(o.isWebMercator&&u.isWGS84)[l,c]=Object(b.c)(l,c),u=o;else{if(!o.isWGS84||!u.isWebMercator)return!1;[l,c]=Object(b.g)(l,c),u=o}return e===l&&r===c&&n===a&&i===s&&o.wkid===u.wkid}offset(t,e,r){return function(t,e,r,n){return t.x=t.x+e,t.y=t.y+r,null!=n&&null!=t.z&&(t.z=t.z+n),t}(this,t,e,r)}normalize(){if(!this.spatialReference)return this;const t=Object(d.d)(this.spatialReference);if(!t)return this;let e=this.x;const[r,n]=t.valid,i=2*n;let o;return e>n?(o=Math.ceil(Math.abs(e-n)/i),e-=o*i):e<r&&(o=Math.ceil(Math.abs(e-r)/i),e+=o*i),this._set("x",e),this}distance(t){return function(t,e){const r=t.x-e.x,n=t.y-e.y,i=t.hasZ&&e.hasZ?t.z-e.z:0;return Math.sqrt(r*r+n*n+i*i)}(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write(null,t)}};Object(n.a)([Object(a.b)({readOnly:!0})],O.prototype,"cache",null),Object(n.a)([Object(a.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasM",null),Object(n.a)([Object(a.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],O.prototype,"hasZ",null),Object(n.a)([Object(a.b)({type:Number})],O.prototype,"latitude",null),Object(n.a)([Object(a.b)({type:Number})],O.prototype,"longitude",null),Object(n.a)([Object(a.b)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(s.a)((t=>isNaN(t)?t:Object(o.i)(t)))],O.prototype,"x",void 0),Object(n.a)([Object(u.a)("x")],O.prototype,"writeX",null),Object(n.a)([Object(l.a)("x")],O.prototype,"readX",null),Object(n.a)([Object(a.b)({type:Number,json:{write:!0}})],O.prototype,"y",void 0),Object(n.a)([Object(a.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],O.prototype,"z",void 0),Object(n.a)([Object(a.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],O.prototype,"m",void 0),O=f=Object(n.a)([Object(c.a)("esri.geometry.Point")],O),O.prototype.toJSON.isDefaultToJSON=!0;var v=O;e.a=v},172:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a}));var n=r(141);function i(t,e,r=!1){return l(t,e,r)}function o(t,e){if(null!=e)return e[t]||s(t.split("."),!1,e)}function a(t,e,r){const n=t.split("."),i=n.pop(),o=s(n,!0,r);o&&i&&(o[i]=e)}function s(t,e,r){let n=r;for(const i of t){if(null==n)return;if(!(i in n)){if(!e)return;n[i]={}}n=n[i]}return n}function l(t,e,r){return e?Object.keys(e).reduce((function(t,i){let o=t[i],a=e[i];return o===a?t:void 0===o?(t[i]=Object(n.a)(a),t):(Array.isArray(a)||Array.isArray(t)?(o=o?Array.isArray(o)?t[i]=o.concat():t[i]=[o]:t[i]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach((t=>{-1===o.indexOf(t)&&o.push(t)})):t[i]=a.concat())):a&&"object"==typeof a?t[i]=l(o,a,r):t.hasOwnProperty(i)&&!e.hasOwnProperty(i)||(t[i]=a),t)}),t||{}):t}},174:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=(r(130),r(137),r(134)),s=r(133),l=r(143),c=(r(132),r(135),r(136),r(144)),u=r(184),d=r(194),h=r(159),p=r(307),f=r(343),b=r(149),m=r(350),y=r(295),g=r(404),O=r(357);function v(t){return!Array.isArray(t[0])}let j=n=class extends u.a{constructor(...t){super(...t),this.rings=[],this.type="polygon"}static fromExtent(t){const e=t.clone().normalize(),r=t.spatialReference;let i=!1,o=!1;e.map((t=>{t.hasZ&&(i=!0),t.hasM&&(o=!0)}));const a={rings:e.map((function(t){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(i&&t.hasZ){const r=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r)}if(o&&t.hasM){const r=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r)}return e})),spatialReference:r};return i&&(a.hasZ=!0),o&&(a.hasM=!0),new n(a)}normalizeCtorArgs(t,e){let r,n,i=null,o=null;return t&&!Array.isArray(t)?(i=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,n=t.hasM):i=t,i=i||[],e=e||c.a.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),o=i[0]&&i[0][0],o&&(void 0===r&&void 0===n?(r=o.length>2,n=!1):void 0===r?r=!n&&o.length>3:void 0===n&&(n=!r&&o.length>3)),{rings:i,spatialReference:e,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Object(g.a)(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new h.a;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=Object(O.b)(this);if(!e)return null;const r=new b.a(e);return r.spatialReference=t,r}get isSelfIntersecting(){return Object(f.c)(this.rings)}writeRings(t,e){e.rings=Object(o.a)(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(v(t)){const n=[];for(let e=0,r=t.length;e<r;e++)n[e]=t[e].toArray();e[r]=n}else e[r]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new n;return t.spatialReference=this.spatialReference,t.rings=Object(o.a)(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}contains(t){return!!t&&(Object(d.a)(t,this.spatialReference)&&(t=Object(d.d)(t,this.spatialReference)),Object(p.g)(this,t))}isClockwise(t){let e;return e=v(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,Object(y.g)(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],n=this.hasZ,i=this.hasM;return n&&!i?new h.a(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new h.a(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new h.a(r[0],r[1],r[2],r[3],this.spatialReference):new h.a(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Object(m.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new h.a(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,n=e.map((t=>new h.a(t,r)));return this.notifyChange("rings"),n}setPoint(t,e,r){return this._validateInputs(t,e)?(Object(m.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=e){const n=this.rings[t];if(r&&(e<0||e>n.length))return!1;if(!r&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write(null,t)}};Object(i.a)([Object(a.b)({readOnly:!0})],j.prototype,"cache",null),Object(i.a)([Object(a.b)({readOnly:!0})],j.prototype,"centroid",null),Object(i.a)([Object(a.b)({readOnly:!0})],j.prototype,"extent",null),Object(i.a)([Object(a.b)({readOnly:!0})],j.prototype,"isSelfIntersecting",null),Object(i.a)([Object(a.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],j.prototype,"rings",void 0),Object(i.a)([Object(l.a)("rings")],j.prototype,"writeRings",null),j=n=Object(i.a)([Object(s.a)("esri.geometry.Polygon")],j),j.prototype.toJSON.isDefaultToJSON=!0;var w=j;e.a=w},177:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=(r(130),r(137),r(134)),s=r(133),l=r(143),c=(r(132),r(135),r(136),r(144)),u=r(184),d=r(159),h=r(149),p=r(350),f=r(357);let b=n=class extends u.a{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let r,n,i=null,o=null;return t&&!Array.isArray(t)?(i=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),r=t.hasZ,n=t.hasM):i=t,i=i||[],e=e||c.a.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),o=i[0]&&i[0][0],o&&(void 0===r&&void 0===n?(r=o.length>2,n=!1):void 0===r?r=!n&&o.length>3:void 0===n&&(n=!r&&o.length>3)),{paths:i,spatialReference:e,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=Object(f.c)(this);if(!e)return null;const r=new h.a(e);return r.spatialReference=t,r}writePaths(t,e){e.paths=Object(o.a)(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(function(t){return!Array.isArray(t[0])}(t)){const n=[];for(let e=0,r=t.length;e<r;e++)n[e]=t[e].toArray();e[r]=n}else e[r]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new n;return t.spatialReference=this.spatialReference,t.paths=Object(o.a)(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],n=this.hasZ,i=this.hasM;return n&&!i?new d.a(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new d.a(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new d.a(r[0],r[1],r[2],r[3],this.spatialReference):new d.a(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(Object(p.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,n=e.map((t=>new d.a(t,r)));return this.notifyChange("paths"),n}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new d.a(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(Object(p.a)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.paths.length)return!1;if(null!=e){const n=this.paths[t];if(r&&(e<0||e>n.length))return!1;if(!r&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write(null,t)}};Object(i.a)([Object(a.b)({readOnly:!0})],b.prototype,"cache",null),Object(i.a)([Object(a.b)({readOnly:!0})],b.prototype,"extent",null),Object(i.a)([Object(a.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0),Object(i.a)([Object(l.a)("paths")],b.prototype,"writePaths",null),b=n=Object(i.a)([Object(s.a)("esri.geometry.Polyline")],b),b.prototype.toJSON.isDefaultToJSON=!0;var m=b;e.a=m},179:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return a}));class n{constructor(t,e,r,n){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=r;const i=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*i,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const i=new n(6378137,1/298.257223563,3e5,.006694379990137799),o=new n(3396190,1/169.8944472236118,23e4),a=new n(1737400,0,0)},183:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return c}));var n=r(172);const i=/\{([^\}]+)\}/g;function o(t){return null==t?"":t}function a(t,e){return t.replace(i,"object"==typeof e?(t,r)=>o(Object(n.b)(r,e)):(t,r)=>o(e(r)))}function s(t,e){return t.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(t=>e&&-1!==e.indexOf(t)?t:`\\${t}`))}function l(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}function c(t){return(new DOMParser).parseFromString(t||"","text/html").body.innerText||""}},184:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(130),r(137),r(134)),o=r(145),a=r(133),s=(r(132),r(135),r(136),r(139)),l=r(144);let c=class extends s.a{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.a.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof l.a)return t;if(null!=t){const r=new l.a;return r.read(t,e),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};Object(n.a)([Object(i.b)()],c.prototype,"type",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],c.prototype,"cache",null),Object(n.a)([Object(i.b)({readOnly:!0})],c.prototype,"extent",null),Object(n.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],c.prototype,"hasM",void 0),Object(n.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],c.prototype,"hasZ",void 0),Object(n.a)([Object(i.b)({type:l.a,json:{write:!0}})],c.prototype,"spatialReference",void 0),Object(n.a)([Object(o.a)("spatialReference")],c.prototype,"readSpatialReference",null),c=Object(n.a)([Object(a.a)("esri.geometry.Geometry")],c);var u=c;e.a=u},191:function(t,e,r){"use strict";var n=r(207),i=(r(129),r(172));const o={apiKey:void 0,applicationUrl:n.a.location&&n.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(n.a.esriConfig&&(Object(i.a)(o,n.a.esriConfig,!0),delete o.has),!o.assetsPath){const t="4.19.0";o.assetsPath=`https://js.arcgis.com/${t.slice(0,-2)}/@arcgis/core/assets`}o.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(o,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),o.request.corsEnabledServers=[],o.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},e.a=o},194:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return g})),r.d(e,"c",(function(){return m})),r.d(e,"d",(function(){return b})),r.d(e,"e",(function(){return O})),r.d(e,"f",(function(){return c})),r.d(e,"g",(function(){return y})),r.d(e,"h",(function(){return u}));var n=r(141),i=r(156),o=r(144),a=r(179);function s(t){return 57.29577951308232*t}function l(t){return.017453292519943*t}function c(t){return t/a.a.radius}function u(t){return Math.PI/2-2*Math.atan(Math.exp(-1*t/a.a.radius))}function d(t){return null!=t.wkid||null!=t.wkt}const h=[0,0];function p(t,e,r,n,i){const o=t,a=i;if(a.spatialReference=r,"x"in o&&"x"in a)[a.x,a.y]=e(o.x,o.y,h,n);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=e(o.xmin,o.ymin,h,n),[a.xmax,a.ymax]=e(o.xmax,o.ymax,h,n);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){const t="paths"in o?o.paths:o.rings,r=[];let i;for(let o=0;o<t.length;o++){const a=t[o];i=[],r.push(i);for(let t=0;t<a.length;t++)i.push(e(a[t][0],a[t][1],[0,0],n)),a[t].length>2&&i[t].push(a[t][2]),a[t].length>3&&i[t].push(a[t][3])}"paths"in a?a.paths=r:a.rings=r}else if("points"in o&&"points"in a){const t=o.points,r=[];for(let i=0;i<t.length;i++)r[i]=e(t[i][0],t[i][1],[0,0],n),t[i].length>2&&r[i].push(t[i][2]),t[i].length>3&&r[i].push(t[i][3]);a.points=r}return i}function f(t,e){const r=t&&(d(t)?t:t.spatialReference),n=e&&(d(e)?e:e.spatialReference);return!(t&&"type"in t&&"mesh"===t.type||e&&"type"in e&&"mesh"===e.type||!r||!n)&&(!!Object(i.c)(n,r)||Object(i.m)(n)&&Object(i.j)(r)||Object(i.m)(r)&&Object(i.j)(n))}function b(t,e){const r=t&&t.spatialReference,a=e&&(d(e)?e:e.spatialReference);return f(r,a)?Object(i.c)(r,a)?Object(n.a)(t):Object(i.m)(a)?p(t,m,o.a.WebMercator,!1,Object(n.a)(t)):Object(i.j)(a)?p(t,y,o.a.WGS84,!1,Object(n.a)(t)):null:null}function m(t,e,r=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const n=l(e);return r[0]=l(t)*a.a.radius,r[1]=a.a.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function y(t,e,r=[0,0],n=!1){const i=s(t/a.a.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=s(Math.PI/2-2*Math.atan(Math.exp(-1*e/a.a.radius))),r}function g(t,e=!1,r=Object(n.a)(t)){return p(t,m,o.a.WebMercator,e,r)}function O(t,e=!1,r=Object(n.a)(t)){return p(t,y,o.a.WGS84,e,r)}},204:function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return p}));var n=r(130),i=r(168),o=r(384),a=r(140),s=r(187),l=r(256);const c=n.a.getLogger("esri.core.accessorSupport.write");function u(t,e,r,n,i){var o,a;const s={};return null==(o=e.write)||null==(a=o.writer)||a.call(t,n,s,r,i),s}function d(t,e,r,n,i,o){if(!n||!n.write)return!1;const u=t.get(r);if(!i&&n.write.overridePolicy){const e=n.write.overridePolicy.call(t,u,r,o);void 0!==e&&(i=e)}if(i||(i=n.write),!i||!1===i.enabled)return!1;if((null===u&&!i.allowNull||void 0===u)&&i.isRequired){const e=new a.a("web-document-write:property-required",`Missing value for required property '${r}' on '${t.declaredClass}'`,{propertyName:r,target:t});return e&&o&&o.messages?o.messages.push(e):e&&!o&&c.error(e.name,e.message),!1}return void 0!==u&&(!(null===u&&!i.allowNull)&&(!function(t,e,r,n,i){const o=n.default;if(void 0===o)return!1;if(null!=n.defaultEquals)return n.defaultEquals(i);if("function"==typeof o){if(Array.isArray(i)){const n=o.call(t,e,r);return Object(l.c)(n,i)}return!1}return o===i}(t,r,o,n,u)&&(void 0!==n.default||!(!i.ignoreOrigin&&o&&o.origin&&e.store.originOf(r)<Object(s.d)(o.origin)))))}function h(t,e,r,n){const a=Object(i.a)(t),s=a.metadatas,l=Object(o.d)(s[e],n);return!!l&&d(t,a,e,l,r,n)}function p(t,e,r){if(t&&"function"==typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return Object(i.c)(e,t.toJSON());const n=Object(i.a)(t),a=n.metadatas;for(const h in a){const p=Object(o.d)(a[h],r);if(!d(t,n,h,p,void 0,r))continue;const f=t.get(h),b=u(t,p,p.write&&"string"==typeof p.write.target?p.write.target:h,f,r);var l,c;Object.keys(b).length>0&&(e=Object(i.c)(e,b),null!=r&&null!=(l=r.resources)&&null!=(c=l.pendingOperations)&&c.length&&Promise.all(r.resources.pendingOperations).then((()=>Object(i.c)(e,b))),r&&r.writtenProperties&&r.writtenProperties.push({target:t,propName:h,oldOrigin:Object(s.c)(n.store.originOf(h)),newOrigin:r.origin}))}return e}},205:function(t,e,r){"use strict";var n=r(131),i=r(134),o=r(223),a=r(133),s=r(140),l=r(142),c=r(278);const u="loaded",d=t=>{let e=class extends t{constructor(...t){super(...t),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((t=>{const e=this.load.bind(this);this.load=r=>{const n=new Promise(((t,e)=>{const n=Object(l.q)(r,e);this.destroyed&&e(new s.a("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(t,e).finally((()=>{n&&n.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const t=this._loadController=Object(l.d)();e({signal:t.signal}),Object(l.p)(t.signal,(()=>{this._promiseProps.abort()}))}return t(),n}}))),this.when((()=>{this._set("loadStatus",u),this._loadController=null}),(t=>{this._set("loadStatus","failed"),this._set("loadError",t),this._loadController=null}))}get loaded(){return this.loadStatus===u}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var t;return this.isFulfilled()||(this._set("loadError",new s.a("load:cancelled","Cancelled")),null==(t=this._loadController)||t.abort()),this}};return Object(n.a)([Object(i.b)({readOnly:!0})],e.prototype,"loaded",null),Object(n.a)([Object(i.b)({readOnly:!0})],e.prototype,"loadError",void 0),Object(n.a)([Object(i.b)()],e.prototype,"loadStatus",void 0),Object(n.a)([Object(i.b)({type:[o.a],readOnly:!0})],e.prototype,"loadWarnings",null),e=Object(n.a)([Object(a.a)("esri.core.Loadable")],e),e};let h=class extends(d(c.a)){};var p;h=Object(n.a)([Object(a.a)("esri.core.Loadable")],h),(p=h||(h={})).LoadableMixin=d,p.isLoadable=function(t){return!(!t||!t.load)};var f=h;e.a=f},207:function(t,e,r){"use strict";(function(t){const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:void 0;e.a=r}).call(this,r(218))},213:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(130),r(137),r(134)),a=r(145),s=r(133),l=r(143),c=(r(132),r(135),r(136),r(139)),u=r(219);let d=n=class extends c.a{constructor(t){super(t),this.end=null,this.start=null}static get allTime(){return h}static get empty(){return p}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?t.getTime():null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?t.getTime():null}clone(){return new n({end:this.end,start:this.start})}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=this.start?Object(u.e)(this.start,t):null,r=this.end?Object(u.c)(Object(u.e)(this.end,t),1,t):null;return new n({start:e,end:r})}intersection(t){var e,r,i,o,a,s,l,c;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return n.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const u=null!=(e=null==(r=this.start)?void 0:r.getTime())?e:-1/0,d=null!=(i=null==(o=this.end)?void 0:o.getTime())?i:1/0,h=null!=(a=null==(s=t.start)?void 0:s.getTime())?a:-1/0,p=null!=(l=null==(c=t.end)?void 0:c.getTime())?l:1/0;let f,b;if(h>=u&&h<=d?f=h:u>=h&&u<=p&&(f=u),d>=h&&d<=p?b=d:p>=u&&p<=d&&(b=p),!isNaN(f)&&!isNaN(b)){const t=new n;return t.start=f===-1/0?null:new Date(f),t.end=b===1/0?null:new Date(b),t}return n.empty}offset(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const r=new n,{start:i,end:o}=this;return i&&(r.start=Object(u.c)(i,t,e)),o&&(r.end=Object(u.c)(o,t,e)),r}equals(t){if(!t)return!1;const e=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,n=t.start?t.start.getTime():t.start,i=t.end?t.end.getTime():t.end;return e===n&&r===i}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return h.clone();const e=this.start&&t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=this.end&&t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new n({start:e,end:r})}};Object(i.a)([Object(o.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(i.a)([Object(a.a)("end")],d.prototype,"readEnd",null),Object(i.a)([Object(l.a)("end")],d.prototype,"writeEnd",null),Object(i.a)([Object(o.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(i.a)([Object(o.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(i.a)([Object(o.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(i.a)([Object(a.a)("start")],d.prototype,"readStart",null),Object(i.a)([Object(l.a)("start")],d.prototype,"writeStart",null),d=n=Object(i.a)([Object(s.a)("esri.TimeExtent")],d);const h=new d,p=new d({start:void 0,end:void 0});var f=d;e.a=f},215:function(t,e,r){"use strict";function n(t){return function(e,r){e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:r})}}r.d(e,"a",(function(){return n}))},218:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},219:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return c}));r(129);var n=r(148);function i(t){return t}const o={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},a=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function s(t,e,r){const n=new Date(t.getTime());if(e&&r){const t=o[r],{getter:i,setter:a,multiplier:s}=t;n[a](n[i]()+e*s)}return n}const l={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(t,e){switch(e){case"milliseconds":return new Date(t.getTime());case"seconds":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());case"minutes":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());case"hours":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case"days":return new Date(t.getFullYear(),t.getMonth(),t.getDate());case"weeks":return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case"months":return new Date(t.getFullYear(),t.getMonth(),1);case"years":return new Date(t.getFullYear(),0,1);case"decades":return new Date(t.getFullYear()-t.getFullYear()%10,0,1);case"centuries":return new Date(t.getFullYear()-t.getFullYear()%100,0,1);default:return null}}},226:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(191)),o=r(130),a=(r(137),r(134)),s=r(133),l=r(140),c=r(132),u=(r(135),r(136),r(142)),d=r(144),h=r(149),p=(r(150),r(175)),f=r(253),b=r(151),m=r(205);let y=0;const g=o.a.getLogger("esri.layers.Layer");let O=class extends(p.a.EventedMixin(Object(f.a)(m.a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new h.a(-180,-90,180,90,d.a.WGS84),this.id=Date.now().toString(16)+"-layer-"+y++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=d.a.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t,n=await r.e(183).then(r.bind(null,420));try{return await n.fromUrl(e)}catch(i){throw g.error("#fromArcGISServerUrl({ url: '"+e.url+"'})","Failed to create layer from arcgis server url",i),i}}static async fromPortalItem(t){const e="portalItem"in t?t:{portalItem:t},n=await r.e(184).then(r.bind(null,390));try{return await n.fromItem(e)}catch(o){const t=e&&e.portalItem,r=t&&t.id||"unset",n=t&&t.portal&&t.portal.url||i.a.portalUrl;throw g.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+r+"')",o),o}}initialize(){this.when().catch((t=>{var e,r;Object(u.m)(t)||o.a.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(e=this.title)?e:"no title"}', id: '${null!=(r=this.id)?r:"no id"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,e=this.parent;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"baseLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?Object(c.J)(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Object(b.default)(t,{query:{f:"json"},responseType:"json"})).data;throw new l.a("layer:no-attribution-data","Layer does not have attribution data")}};Object(n.a)([Object(a.b)({type:String})],O.prototype,"attributionDataUrl",void 0),Object(n.a)([Object(a.b)({type:h.a})],O.prototype,"fullExtent",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],O.prototype,"hasAttributionData",null),Object(n.a)([Object(a.b)({type:String})],O.prototype,"id",void 0),Object(n.a)([Object(a.b)({type:Boolean,nonNullable:!0})],O.prototype,"legendEnabled",void 0),Object(n.a)([Object(a.b)({type:["show","hide","hide-children"]})],O.prototype,"listMode",void 0),Object(n.a)([Object(a.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],O.prototype,"opacity",void 0),Object(n.a)([Object(a.b)()],O.prototype,"parent",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],O.prototype,"parsedUrl",null),Object(n.a)([Object(a.b)({type:Boolean})],O.prototype,"popupEnabled",void 0),Object(n.a)([Object(a.b)({type:Boolean})],O.prototype,"attributionVisible",void 0),Object(n.a)([Object(a.b)({type:d.a})],O.prototype,"spatialReference",void 0),Object(n.a)([Object(a.b)({type:String})],O.prototype,"title",void 0),Object(n.a)([Object(a.b)({type:String,readOnly:!0,json:{read:!1}})],O.prototype,"type",void 0),Object(n.a)([Object(a.b)()],O.prototype,"url",void 0),Object(n.a)([Object(a.b)({type:Boolean,nonNullable:!0})],O.prototype,"visible",void 0),O=Object(n.a)([Object(s.a)("esri.layers.Layer")],O);var v=O;e.a=v},229:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return s}));const n=1e-6,i=Math.random,o=Math.PI/180,a=180/Math.PI;function s(t){return t*o}function l(t){return t*a}Object.freeze({__proto__:null,EPSILON:n,RANDOM:i,toRadian:s,toDegree:l,equals:function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}})},230:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));r(129);function n(t){}function i(t){return()=>t}},231:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return d}));var n=r(168),i=r(282),o=r(384);function a(t,e,r){if(!t||!t.read||!1===t.read.enabled||!t.read.source)return!1;const n=t.read.source;if("string"==typeof n){if(n===e)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(e)&&Object(i.a)(n,r))return!0}else for(const o of n){if(o===e)return!0;if(o.indexOf(".")>-1&&0===o.indexOf(e)&&Object(i.a)(o,r))return!0}return!1}function s(t,e,r,n,i){let s=Object(o.c)(e[r],i);(function(t){return t&&(!t.read||!1!==t.read.enabled&&!t.read.source)})(s)&&(t[r]=!0);for(const l of Object.getOwnPropertyNames(e))s=Object(o.c)(e[l],i),a(s,r,n)&&(t[l]=!0)}function l(t,e,r,n){const i=r.metadatas,a=Object(o.b)(i[e],"any",n),s=a&&a.default;if(void 0===s)return;const l="function"==typeof s?s.call(t,e,n):s;void 0!==l&&r.set(e,l)}const c={origin:"service"};function u(t,e,r=c){if(!e||"object"!=typeof e)return;const a=Object(n.a)(t),u=a.metadatas,d={};for(const n of Object.getOwnPropertyNames(e))s(d,u,n,e,r);a.setDefaultOrigin(r.origin);for(const n of Object.getOwnPropertyNames(d)){const s=Object(o.c)(u[n],r).read,l=s&&s.source;let c;c=l&&"string"==typeof l?Object(i.c)(e,l):e[n],s&&s.reader&&(c=s.reader.call(t,c,e,r)),void 0!==c&&a.set(n,c)}if(!r||!r.ignoreDefaults)for(const n of Object.getOwnPropertyNames(u))d[n]||l(t,n,a,r);a.setDefaultOrigin("user")}function d(t,e,r,n=c){var i;const o={...n,messages:[]};r(o),null==(i=o.messages)||i.forEach((e=>{"warning"!==e.type||t.loaded?n&&n.messages&&n.messages.push(e):t.loadWarnings.push(e)}))}},232:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(191)),o=r(138),a=(r(130),r(137)),s=r(134),l=r(145),c=r(133),u=r(140),d=(r(132),r(135),r(136),r(142)),h=r(139),p=r(149),f=r(200),b=r(206),m=r(151),y=(r(224),r(205)),g=r(403),O=r(146);let v=class extends O.a{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};Object(n.a)([Object(s.b)()],v.prototype,"nextQueryParams",void 0),Object(n.a)([Object(s.b)()],v.prototype,"queryParams",void 0),Object(n.a)([Object(s.b)()],v.prototype,"results",void 0),Object(n.a)([Object(s.b)()],v.prototype,"total",void 0),v=Object(n.a)([Object(c.a)("esri.portal.PortalQueryResult")],v);var j,w=v,_=r(532);let k;const S={PortalGroup:()=>Promise.resolve().then(r.bind(null,526)),PortalItem:()=>r.e(48).then(r.bind(null,285)),PortalUser:()=>Promise.resolve().then(r.bind(null,532))};let x=j=class extends(Object(h.b)(y.a)){constructor(t){super(t),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.a.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return"string"==typeof t?{url:t}:t}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)-1===i.a.request.trustedServers.indexOf(e)&&i.a.request.trustedServers.push(e);return t}readDefaultBasemap(t){if(t){const e=k.fromJSON(t);return e.portalItem={portal:this},e}return null}readDefaultVectorBasemap(t){if(t){const e=k.fromJSON(t);return e.portalItem={portal:this},e}return null}get extraQuery(){const t=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.substring(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t?t.toLowerCase():t}readUser(t){let e=null;return t&&(e=_.default.fromJSON(t),e.portal=this),e}load(t){const e=r.e(27).then(r.bind(null,609)).then((({default:e})=>{Object(d.u)(t),k=e})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,t))).then((t=>{if(b.b){const t=b.b;this.credential=t.findCredential(this.restUrl),this.credential||this.authMode!==j.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=t.on("credential-create",(()=>{t.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=t,this.read(t)}));return this.addResolvingPromise(e),Promise.resolve(this)}async createClosestFacilityTask(){await this.load();const t=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(1),r.e(2),r.e(21),r.e(138)]).then(r.bind(null,1287))).default)(t)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await Promise.all([r.e(12),r.e(15),r.e(25),r.e(143)]).then(r.bind(null,773))).default;return t?t.map((t=>new e({id:t.id,url:t.url}))):[]}async createGeometryService(){await this.load();const t=this._getHelperServiceUrl("geometry");return new(0,(await Promise.all([r.e(26),r.e(282)]).then(r.bind(null,964))).default)({url:t})}async createPrintTask(){await this.load();const t=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(1),r.e(2),r.e(4),r.e(21),r.e(118)]).then(r.bind(null,1067))).default)(t)}async createRouteTask(){await this.load();const t=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(1),r.e(2),r.e(21),r.e(139)]).then(r.bind(null,1298))).default)(t)}async createServiceAreaTask(){await this.load();const t=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(1),r.e(2),r.e(21),r.e(140)]).then(r.bind(null,1288))).default)(t)}fetchBasemaps(t,e){const r=new g.a;return r.query=t||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,e).then((t=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',t.total){const n=t.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,e)}return null})).then((t=>{let e;return e=t&&t.total?t.results.filter((t=>"Web Map"===t.type)).map((t=>new k({portalItem:t}))):[],e}))}fetchCategorySchema(t){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",t).then((t=>t.categorySchema)):Object(d.n)(t)?Promise.reject(Object(d.e)()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,r=new g.a;if(r.num=100,r.sortField="title",e&&e.length){const n=[];for(const t of e)n.push(`(title:"${t.title}" AND owner:${t.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,t).then((t=>t.results))}return Object(d.n)(t)?Promise.reject(Object(d.e)()):Promise.resolve([])}fetchRegions(t){const e=this.user&&this.user.culture||this.culture||Object(f.b)();return this._request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}static getDefault(){return j._default&&!j._default.destroyed||(j._default=new j),j._default}queryGroups(t,e){return this._queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this._queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this._queryPortal("/community/users",t,"PortalUser",e)}toJSON(){throw new u.a("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new j({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new u.a("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}_getHelperServiceUrl(t){const e=this._getHelperService(t);if(!e.url)throw new u.a("portal:service-url-not-found",`The \`helperServices\` entry "${t}" does not include a \`url\` value`);return e.url}_fetchSelf(t=this.authMode,e=!1,r){const n=this.restUrl+"/portals/self",i={authMode:t,query:{culture:Object(f.b)().toLowerCase()},...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),e&&(i.query.default=!0),this._request(n,i)}_queryPortal(t,e,r,n){const i=Object(a.m)(g.a,e),o=e=>this._request(this.restUrl+t,{...i.toRequestOptions(this),...n}).then((t=>{const r=i.clone();return r.start=t.nextStart,new w({nextQueryParams:r,queryParams:i,total:t.total,results:j._resultsToTypedArray(e,{portal:this},t,n)})})).then((t=>Promise.all(t.results.map((e=>"function"==typeof e.when?e.when():t))).then((()=>t),(e=>(Object(d.t)(e),t)))));return r&&S[r]?S[r]().then((({default:t})=>(Object(d.u)(n),o(t)))):o()}_signIn(){if(this.authMode===j.AUTH_MODE_ANONYMOUS)return Promise.reject(new u.a("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const t=t=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(t||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate")))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate")))).then((t=>{t&&(this.sourceJSON=t,this.read(t))}));return b.b?b.b.getCredential(this.restUrl).then((e=>t(e))):t(this.credential)}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(t){const e=this.credential&&this.credential.token;return this._normalizeSSL(e?t+(t.indexOf("?")>-1?"&":"?")+"token="+e:t)}_requestToTypedArray(t,e,r){return this._request(t,e).then((t=>{const e=j._resultsToTypedArray(r,{portal:this},t);return Promise.all(e.map((e=>"function"==typeof e.when?e.when():t))).then((()=>e),(()=>e))}))}_request(t,e={}){const r={f:"json",...e.query},{authMode:n=(this.authMode===j.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:o=!1,method:a="auto",responseType:s="json",signal:l}=e,c={authMode:n,body:i,cacheBust:o,method:a,query:r,responseType:s,timeout:0,signal:l};return Object(m.default)(this._normalizeSSL(t),c).then((t=>t.data))}static _resultsToTypedArray(t,e,r,n){let i;if(r){const a=Object(o.k)(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(t||e)&&(i=i.map((r=>{const n=Object.assign(t?t.fromJSON(r):r,e);return"function"==typeof n.load&&n.load(a),n})))}else i=[];return i}};x.AUTH_MODE_ANONYMOUS="anonymous",x.AUTH_MODE_AUTO="auto",x.AUTH_MODE_IMMEDIATE="immediate",Object(n.a)([Object(s.b)()],x.prototype,"access",void 0),Object(n.a)([Object(s.b)()],x.prototype,"allSSL",void 0),Object(n.a)([Object(s.b)()],x.prototype,"authMode",void 0),Object(n.a)([Object(s.b)()],x.prototype,"authorizedCrossOriginDomains",void 0),Object(n.a)([Object(l.a)("authorizedCrossOriginDomains")],x.prototype,"readAuthorizedCrossOriginDomains",null),Object(n.a)([Object(s.b)()],x.prototype,"basemapGalleryGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"bingKey",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canListApps",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canListData",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canListPreProvisionedItems",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canProvisionDirectPurchase",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canSearchPublic",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canShareBingPublic",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canSharePublic",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canSignInArcGIS",void 0),Object(n.a)([Object(s.b)()],x.prototype,"canSignInIDP",void 0),Object(n.a)([Object(s.b)()],x.prototype,"colorSetsGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"commentsEnabled",void 0),Object(n.a)([Object(s.b)({type:Date})],x.prototype,"created",void 0),Object(n.a)([Object(s.b)()],x.prototype,"credential",void 0),Object(n.a)([Object(s.b)()],x.prototype,"culture",void 0),Object(n.a)([Object(s.b)()],x.prototype,"currentVersion",void 0),Object(n.a)([Object(s.b)()],x.prototype,"customBaseUrl",void 0),Object(n.a)([Object(s.b)()],x.prototype,"defaultBasemap",void 0),Object(n.a)([Object(l.a)("defaultBasemap")],x.prototype,"readDefaultBasemap",null),Object(n.a)([Object(s.b)({type:p.a})],x.prototype,"defaultExtent",void 0),Object(n.a)([Object(s.b)()],x.prototype,"defaultVectorBasemap",void 0),Object(n.a)([Object(l.a)("defaultVectorBasemap")],x.prototype,"readDefaultVectorBasemap",null),Object(n.a)([Object(s.b)()],x.prototype,"description",void 0),Object(n.a)([Object(s.b)()],x.prototype,"eueiEnabled",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],x.prototype,"extraQuery",null),Object(n.a)([Object(s.b)()],x.prototype,"featuredGroups",void 0),Object(n.a)([Object(s.b)()],x.prototype,"featuredItemsGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"galleryTemplatesGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"livingAtlasGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"hasCategorySchema",void 0),Object(n.a)([Object(s.b)()],x.prototype,"helpBase",void 0),Object(n.a)([Object(s.b)()],x.prototype,"helperServices",void 0),Object(n.a)([Object(s.b)()],x.prototype,"helpMap",void 0),Object(n.a)([Object(s.b)()],x.prototype,"homePageFeaturedContent",void 0),Object(n.a)([Object(s.b)()],x.prototype,"homePageFeaturedContentCount",void 0),Object(n.a)([Object(s.b)()],x.prototype,"httpPort",void 0),Object(n.a)([Object(s.b)()],x.prototype,"httpsPort",void 0),Object(n.a)([Object(s.b)()],x.prototype,"id",void 0),Object(n.a)([Object(s.b)()],x.prototype,"ipCntryCode",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],x.prototype,"isOrganization",null),Object(n.a)([Object(s.b)()],x.prototype,"isPortal",void 0),Object(n.a)([Object(s.b)()],x.prototype,"isReadOnly",void 0),Object(n.a)([Object(s.b)()],x.prototype,"layerTemplatesGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"maxTokenExpirationMinutes",void 0),Object(n.a)([Object(s.b)({type:Date})],x.prototype,"modified",void 0),Object(n.a)([Object(s.b)()],x.prototype,"name",void 0),Object(n.a)([Object(s.b)()],x.prototype,"portalHostname",void 0),Object(n.a)([Object(s.b)()],x.prototype,"portalMode",void 0),Object(n.a)([Object(s.b)()],x.prototype,"portalProperties",void 0),Object(n.a)([Object(s.b)()],x.prototype,"region",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],x.prototype,"restUrl",null),Object(n.a)([Object(s.b)()],x.prototype,"rotatorPanels",void 0),Object(n.a)([Object(s.b)()],x.prototype,"showHomePageDescription",void 0),Object(n.a)([Object(s.b)()],x.prototype,"sourceJSON",void 0),Object(n.a)([Object(s.b)()],x.prototype,"staticImagesUrl",void 0),Object(n.a)([Object(s.b)()],x.prototype,"stylesGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"supportsHostedServices",void 0),Object(n.a)([Object(s.b)()],x.prototype,"symbolSetsGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"templatesGroupQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"thumbnail",void 0),Object(n.a)([Object(s.b)({readOnly:!0})],x.prototype,"thumbnailUrl",null),Object(n.a)([Object(s.b)()],x.prototype,"units",void 0),Object(n.a)([Object(s.b)()],x.prototype,"url",void 0),Object(n.a)([Object(s.b)()],x.prototype,"urlKey",void 0),Object(n.a)([Object(l.a)("urlKey")],x.prototype,"readUrlKey",null),Object(n.a)([Object(s.b)()],x.prototype,"user",void 0),Object(n.a)([Object(l.a)("user")],x.prototype,"readUser",null),Object(n.a)([Object(s.b)()],x.prototype,"useStandardizedQuery",void 0),Object(n.a)([Object(s.b)()],x.prototype,"useVectorBasemaps",void 0),Object(n.a)([Object(s.b)()],x.prototype,"vectorBasemapGalleryGroupQuery",void 0),x=j=Object(n.a)([Object(c.a)("esri.portal.Portal")],x);var M=x;e.a=M},233:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=(r(130),r(137),r(134)),s=r(133),l=r(143),c=(r(132),r(135),r(136),r(184)),u=r(159),d=r(149),h=r(350);function p(t){return(e,r)=>null==e?r:null==r?e:t(e,r)}let f=n=class extends c.a{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return null;const r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));const n=r.points&&r.points[0];return n&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=n.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=n.length>3:void 0===r.hasM&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new d.a,r=this.hasZ,n=this.hasM,i=r?3:2,o=t[0],a=p(Math.min),s=p(Math.max);let l,c,u,h,[f,b]=o,[m,y]=o;for(let d=0,p=t.length;d<p;d++){const e=t[d],[o,p]=e;if(f=a(f,o),b=a(b,p),m=s(m,o),y=s(y,p),r&&e.length>2){const t=e[2];l=a(l,t),u=s(u,t)}if(n&&e.length>i){const t=e[i];c=a(c,t),h=s(h,t)}}return e.xmin=f,e.ymin=b,e.xmax=m,e.ymax=y,e.spatialReference=this.spatialReference,r?(e.zmin=l,e.zmax=u):(e.zmin=null,e.zmax=null),n?(e.mmin=c,e.mmax=h):(e.mmin=null,e.mmax=null),e}writePoints(t,e){e.points=Object(o.a)(this.points)}addPoint(t){return Object(h.a)(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:Object(o.a)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new n(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=e[2],n=3),this.hasM&&(r.m=e[n]),new u.a(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new u.a(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Object(h.a)(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write(null,t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};Object(i.a)([Object(a.b)({readOnly:!0})],f.prototype,"cache",null),Object(i.a)([Object(a.b)()],f.prototype,"extent",null),Object(i.a)([Object(a.b)({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0),Object(i.a)([Object(l.a)("points")],f.prototype,"writePoints",null),f=n=Object(i.a)([Object(s.a)("esri.geometry.Multipoint")],f),f.prototype.toJSON.isDefaultToJSON=!0;var b=f;e.a=b},235:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return v}));var n=r(131),i=r(168),o=r(133),a=r(187),s=r(146),l=r(204),c=r(138),u=r(231),d=r(141);class h{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.a),this._values=new Map}clone(t){const e=new h,r=this._originStores[0];r&&r.forEach(((t,r)=>{e.set(r,Object(d.a)(t),0)}));for(let n=2;n<a.a;n++){const r=this._originStores[n];r&&r.forEach(((r,i)=>{t&&t.has(i)||e.set(i,Object(d.a)(r),n)}))}return e}get(t,e){const r=void 0===e?this._values:this._originStores[e];return r?r.get(t):void 0}keys(t){const e=null==t?this._values:this._originStores[t];return e?[...e.keys()]:[]}set(t,e,r=6){let n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(t,e),!this._values.has(t)||Object(c.d)(this._propertyOriginMap.get(t))<=r){const n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),n!==e}return!1}delete(t,e=6){const r=this._originStores[e];if(!r)return;const n=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(let r=e-1;r>=0;r--){const e=this._originStores[r];if(e&&e.has(t)){this._values.set(t,e.get(t)),this._propertyOriginMap.set(t,r);break}}}return n}has(t,e){const r=void 0===e?this._values:this._originStores[e];return!!r&&r.has(t)}revert(t,e){for(;e>0&&!this.has(t,e);)--e;const r=this._originStores[e],n=r&&r.get(t),i=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,e),i!==n}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}var p=h;const f=t=>{let e=class extends t{constructor(...t){super(...t);const e=Object(c.d)(Object(i.a)(this)),r=e.metadatas,n=e.store,o=new p;e.store=o,n.keys().forEach((t=>{o.set(t,n.get(t),0)})),Object.keys(r).forEach((t=>{e.internalGet(t)&&o.set(t,e.internalGet(t),0)}))}read(t,e){Object(u.a)(this,t,e)}getAtOrigin(t,e){const r=b(this),n=Object(a.d)(e);if("string"==typeof t)return r.get(t,n);const i={};return t.forEach((t=>{i[t]=r.get(t,n)})),i}originOf(t){return Object(a.b)(this.originIdOf(t))}originIdOf(t){return b(this).originOf(t)}revert(t,e){const r=b(this),n=Object(a.d)(e),o=Object(i.a)(this);let s;s="string"==typeof t?"*"===t?r.keys(n):[t]:t,s.forEach((t=>{o.propertyInvalidated(t),r.revert(t,n),o.propertyCommitted(t)}))}};return e=Object(n.a)([Object(o.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function b(t){return Object(i.a)(t).store}let m=class extends(f(s.a)){};m=Object(n.a)([Object(o.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],m);const y=t=>{let e=class extends t{constructor(...t){super(...t)}clear(t,e="user"){return g(this).delete(t,Object(a.d)(e))}write(t={},e){return Object(l.b)(this,t=t||{},e),t}setAtOrigin(t,e,r){Object(i.a)(this).setAtOrigin(t,e,Object(a.d)(r))}removeOrigin(t){const e=g(this),r=Object(a.d)(t),n=e.keys(r);for(const i of n)e.originOf(i)===r&&e.set(i,e.get(i,r),6)}updateOrigin(t,e){const r=g(this),n=Object(a.d)(e),i=this.get(t);for(let o=n+1;o<a.a;++o)r.delete(t,o);r.set(t,i,n)}toJSON(t){return this.write({},t)}};return e=Object(n.a)([Object(o.a)("esri.core.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function g(t){return Object(i.a)(t).store}const O=t=>{let e=class extends(y(f(t))){constructor(...t){super(...t)}};return e=Object(n.a)([Object(o.a)("esri.core.MultiOriginJSONSupport")],e),e};let v=class extends(O(s.a)){};v=Object(n.a)([Object(o.a)("esri.core.MultiOriginJSONSupport")],v)},240:function(t,e,r){"use strict";function n(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function i(t){return void 0!==t.points}function o(t){return void 0!==t.x&&void 0!==t.y}function a(t){return void 0!==t.paths}function s(t){return void 0!==t.rings}function l(t){return(e,r)=>null==e?r:null==r?e:t(e,r)}r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return b})),r.d(e,"d",(function(){return p}));const c=l(Math.min),u=l(Math.max);function d(t,e){return a(e)?p(t,e.paths,!1,!1):s(e)?p(t,e.rings,!1,!1):i(e)?b(t,e.points,!1,!1,!1,!1):n(e)?f(t,e):(o(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function h(t,e){return a(e)?p(t,e.paths,!0,!1):s(e)?p(t,e.rings,!0,!1):i(e)?b(t,e.points,!0,!1,!0,!1):n(e)?f(t,e,!0,!1,!0,!1):(o(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function p(t,e,r,n){const i=r?3:2;if(!e.length||!e[0].length)return null;let o,a,s,l,[d,h]=e[0][0],[p,f]=e[0][0];for(let b=0;b<e.length;b++){const t=e[b];for(let e=0;e<t.length;e++){const b=t[e],[m,y]=b;if(d=c(d,m),h=c(h,y),p=u(p,m),f=u(f,y),r&&b.length>2){const t=b[2];o=c(o,t),a=u(a,t)}if(n&&b.length>i){const t=b[i];s=c(o,t),l=u(a,t)}}}return r?n?(t[0]=d,t[1]=h,t[2]=o,t[3]=s,t[4]=p,t[5]=f,t[6]=a,t[7]=l,t.length=8,t):(t[0]=d,t[1]=h,t[2]=o,t[3]=p,t[4]=f,t[5]=a,t.length=6,t):n?(t[0]=d,t[1]=h,t[2]=s,t[3]=p,t[4]=f,t[5]=l,t.length=6,t):(t[0]=d,t[1]=h,t[2]=p,t[3]=f,t.length=4,t)}function f(t,e,r,n,i,o){const a=e.xmin,s=e.xmax,l=e.ymin,c=e.ymax;let u=e.zmin,d=e.zmax,h=e.mmin,p=e.mmax;return i?(u=u||0,d=d||0,o?(h=h||0,p=p||0,t[0]=a,t[1]=l,t[2]=u,t[3]=h,t[4]=s,t[5]=c,t[6]=d,t[7]=p,t):(t[0]=a,t[1]=l,t[2]=u,t[3]=s,t[4]=c,t[5]=d,t)):o?(h=h||0,p=p||0,t[0]=a,t[1]=l,t[2]=h,t[3]=s,t[4]=c,t[5]=p,t):(t[0]=a,t[1]=l,t[2]=s,t[3]=c,t)}function b(t,e,r,n,i,o){const a=r?3:2,s=n&&o,l=r&&i;if(!e.length||!e[0].length)return null;let d,h,p,f,[b,m]=e[0],[y,g]=e[0];for(let O=0;O<e.length;O++){const t=e[O],[r,n]=t;if(b=c(b,r),m=c(m,n),y=u(y,r),g=u(g,n),l&&t.length>2){const e=t[2];d=c(d,e),h=u(h,e)}if(s&&t.length>a){const e=t[a];p=c(d,e),f=u(h,e)}}return i?(d=d||0,h=h||0,o?(p=p||0,f=f||0,t[0]=b,t[1]=m,t[2]=d,t[3]=p,t[4]=y,t[5]=g,t[6]=h,t[7]=f,t):(t[0]=b,t[1]=m,t[2]=d,t[3]=y,t[4]=g,t[5]=h,t)):o?(p=p||0,f=f||0,t[0]=b,t[1]=m,t[2]=p,t[3]=y,t[4]=g,t[5]=f,t):(t[0]=b,t[1]=m,t[2]=y,t[3]=g,t)}},241:function(t,e,r){"use strict";r.d(e,"a",(function(){return p})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return b})),r.d(e,"d",(function(){return v})),r.d(e,"e",(function(){return O})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return m})),r.d(e,"i",(function(){return y})),r.d(e,"j",(function(){return f})),r.d(e,"k",(function(){return g}));var n=r(138),i=r(132),o=r(245);const a=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*)\/(\d+)\/?$/i;function u(t){return!!s.test(t)}function d(t){const e=Object(i.J)(t),r=e.path.match(s)||e.path.match(l);if(!r)return null;const[,n,o,a,c]=r,u=o.indexOf("/");return{title:p(-1!==u?o.slice(u+1):o),serverType:a,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function h(t){const e=Object(i.J)(t).path.match(c);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function p(t){return(t=t.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function f(t,e){const r=[];if(t){const e=d(t);Object(n.k)(e)&&e.title&&r.push(e.title)}if(e){const t=p(e);r.push(t)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function b(t){if(!t)return!1;const e=-1!==(t=t.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==t.indexOf("//services")||-1!==t.indexOf("//tiles")||-1!==t.indexOf("//features");return e&&r}function m(t,e){return t?Object(i.H)(Object(i.G)(t,e)):t}function y(t){let{url:e}=t;if(!e)return{url:e};e=Object(i.G)(e,t.logger);const r=Object(i.J)(e),o=d(r.path);let a;if(Object(n.k)(o))null!=o.sublayer&&null==t.layer.layerId&&(a=o.sublayer),e=o.url.path;else if(t.nonStandardUrlAllowed){const t=h(r.path);Object(n.k)(t)&&(e=t.serviceUrl,a=t.sublayerId)}return{url:Object(i.H)(e),layerId:a}}function g(t,e,r,n,a){Object(o.f)(e,n,"url",a),n.url&&null!=t.layerId&&(n.url=Object(i.y)(n.url,r,t.layerId.toString()))}function O(t){if(!t)return!1;const e=t.toLowerCase(),r=-1!==e.indexOf("/services/"),n=-1!==e.indexOf("/mapserver/wmsserver"),i=-1!==e.indexOf("/imageserver/wmsserver"),o=-1!==e.indexOf("/wmsserver");return r&&(n||i||o)}function v(t){if(!t)return!1;const e=new i.a(Object(i.z)(t)).authority.toLowerCase();return"server.arcgisonline.com"===e||"services.arcgisonline.com"===e}},245:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return p})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return l}));var n=r(138),i=r(132);function o(t,e){const r=e&&e.url&&e.url.path;if(t&&r&&(t=Object(i.z)(t,r,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=Object(i.B)(t,e.portalItem.itemUrl);u.test(r)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return h(t,e&&e.portal)}function a(t,e,r=0){if(!t)return t;!Object(i.s)(t)&&e&&e.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let n=Object(i.z)(t);if(e){const r=e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.rootPath||e.url&&e.url.path;if(r){const o=h(r,e.portal);n=Object(i.B)(h(n,e.portal),o,o),n!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=function(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?Object(i.h)(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}(n,e&&e.portal),Object(i.s)(n)&&(n=Object(i.C)(n)),null!=e&&e.resources&&null!=e&&e.portalItem&&!Object(i.s)(n)&&!Object(i.u)(n)&&0===r&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(n)}),n}function s(t,e,r){return o(t,r)}function l(t,e,r,n){const i=a(t,n);void 0!==i&&(e[r]=i)}const c=/\/items\/([^\/]+)\/resources\//,u=/^\.\/resources\//;function d(t){const e=Object(n.k)(t)?t.match(c):null;return Object(n.k)(e)?e[1]:null}function h(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const r=`${e.urlKey}.${e.customBaseUrl}`;return Object(i.q)(i.g,`${i.g.scheme}://${r}`)?Object(i.h)(t,e.portalHostname,r):Object(i.h)(t,r,e.portalHostname)}var p=Object.freeze({__proto__:null,fromJSON:o,toJSON:a,read:s,write:l,itemIdFromResourceUrl:d})},247:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return a}));var n=r(148);function i(t){return"point"===t||"multipoint"===t||"polyline"===t||"polygon"===t}const o=Object(n.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),a=Object(n.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},253:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(131),i=r(133);let o=0;const a=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return e=Object(n.a)([Object(i.a)("esri.core.Identifiable")],e),e};let s=class extends(a(class{})){};s=Object(n.a)([Object(i.a)("esri.core.Identifiable")],s)},257:function(t,e,r){"use strict";function n(t){return t&&("function"==typeof t.on||"function"==typeof t.addEventListener)}function i(t,e,r){if(!n(t))throw new TypeError("target is not a Evented or EventTarget object");if("on"in t)return t.on(e,r);if(Array.isArray(e)){const n=e.slice();for(const e of n)t.addEventListener(e,r);return{remove(){for(const e of n)t.removeEventListener(e,r)}}}return t.addEventListener(e,r),{remove(){t.removeEventListener(e,r)}}}function o(t,e,r){if(!n(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,r);const o=i(t,e,(e=>{o.remove(),r.call(t,e)}));return{remove(){o.remove()}}}r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return o}));const a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s({key:t}){return a[t]||t}},279:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(130),r(137),r(134)),a=r(133),s=(r(132),r(135),r(136),r(139)),l=r(219);let c=n=class extends s.a{constructor(t){super(t),this.value=0,this.unit="milliseconds"}toMilliseconds(){return this.value*l.b[this.unit]}clone(){return new n({value:this.value,unit:this.unit})}};Object(i.a)([Object(o.b)({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0),Object(i.a)([Object(o.b)({type:l.d.apiValues,json:{type:l.d.jsonValues,read:l.d.read,write:l.d.write},nonNullable:!0})],c.prototype,"unit",void 0),c=n=Object(i.a)([Object(a.a)("esri.TimeInterval")],c);var u=c;e.a=u},289:function(t,e,r){"use strict";let n;const i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(n=2e3;n<=2045;n++)i[n]=0;for(n=2056;n<=2065;n++)i[n]=0;for(n=2067;n<=2135;n++)i[n]=0;for(n=2137;n<=2154;n++)i[n]=0;for(n=2161;n<=2170;n++)i[n]=0;for(n=2172;n<=2193;n++)i[n]=0;for(n=2195;n<=2198;n++)i[n]=0;for(n=2200;n<=2203;n++)i[n]=0;for(n=2205;n<=2217;n++)i[n]=0;for(n=2222;n<=2224;n++)i[n]=1;for(n=2225;n<=2250;n++)i[n]=2;for(n=2251;n<=2253;n++)i[n]=1;for(n=2257;n<=2264;n++)i[n]=2;for(n=2274;n<=2279;n++)i[n]=2;for(n=2280;n<=2282;n++)i[n]=1;for(n=2283;n<=2289;n++)i[n]=2;for(n=2290;n<=2292;n++)i[n]=0;for(n=2308;n<=2313;n++)i[n]=0;for(n=2315;n<=2491;n++)i[n]=0;for(n=2494;n<=2866;n++)i[n]=0;for(n=2867;n<=2869;n++)i[n]=1;for(n=2870;n<=2888;n++)i[n]=2;for(n=2891;n<=2895;n++)i[n]=2;for(n=2896;n<=2898;n++)i[n]=1;for(n=2902;n<=2908;n++)i[n]=2;for(n=2915;n<=2920;n++)i[n]=2;for(n=2921;n<=2923;n++)i[n]=1;for(n=2924;n<=2930;n++)i[n]=2;for(n=2931;n<=2962;n++)i[n]=0;for(n=2964;n<=2968;n++)i[n]=2;for(n=2969;n<=2973;n++)i[n]=0;for(n=2975;n<=2991;n++)i[n]=0;for(n=2995;n<=3051;n++)i[n]=0;for(n=3054;n<=3079;n++)i[n]=0;for(n=3081;n<=3088;n++)i[n]=0;for(n=3092;n<=3101;n++)i[n]=0;for(n=3106;n<=3138;n++)i[n]=0;for(n=3146;n<=3151;n++)i[n]=0;for(n=3153;n<=3166;n++)i[n]=0;for(n=3168;n<=3172;n++)i[n]=0;for(n=3174;n<=3203;n++)i[n]=0;for(n=3294;n<=3358;n++)i[n]=0;for(n=3367;n<=3403;n++)i[n]=0;for(n=3408;n<=3416;n++)i[n]=0;for(n=3417;n<=3438;n++)i[n]=2;for(n=3441;n<=3446;n++)i[n]=2;for(n=3447;n<=3450;n++)i[n]=0;for(n=3451;n<=3459;n++)i[n]=2;for(n=3460;n<=3478;n++)i[n]=0;for(n=3554;n<=3559;n++)i[n]=0;for(n=3560;n<=3570;n++)i[n]=2;for(n=3571;n<=3581;n++)i[n]=0;for(n=3594;n<=3597;n++)i[n]=0;for(n=3601;n<=3604;n++)i[n]=0;for(n=3637;n<=3639;n++)i[n]=0;for(n=3665;n<=3667;n++)i[n]=0;for(n=3693;n<=3695;n++)i[n]=0;for(n=3701;n<=3727;n++)i[n]=0;for(n=3728;n<=3739;n++)i[n]=2;for(n=3740;n<=3751;n++)i[n]=0;for(n=3753;n<=3760;n++)i[n]=2;for(n=3761;n<=3773;n++)i[n]=0;for(n=3775;n<=3777;n++)i[n]=0;for(n=3779;n<=3781;n++)i[n]=0;for(n=3783;n<=3785;n++)i[n]=0;for(n=3788;n<=3791;n++)i[n]=0;for(n=3797;n<=3802;n++)i[n]=0;for(n=3814;n<=3816;n++)i[n]=0;for(n=3825;n<=3829;n++)i[n]=0;for(n=3832;n<=3841;n++)i[n]=0;for(n=3844;n<=3852;n++)i[n]=0;for(n=3873;n<=3885;n++)i[n]=0;for(n=3890;n<=3893;n++)i[n]=0;for(n=3907;n<=3912;n++)i[n]=0;for(n=3942;n<=3950;n++)i[n]=0;for(n=3968;n<=3970;n++)i[n]=0;for(n=3973;n<=3976;n++)i[n]=0;for(n=3986;n<=3989;n++)i[n]=0;for(n=3994;n<=3997;n++)i[n]=0;for(n=4048;n<=4051;n++)i[n]=0;for(n=4056;n<=4063;n++)i[n]=0;for(n=4093;n<=4096;n++)i[n]=0;for(n=4390;n<=4398;n++)i[n]=0;for(n=4399;n<=4413;n++)i[n]=2;for(n=4418;n<=4433;n++)i[n]=2;for(n=4455;n<=4457;n++)i[n]=2;for(n=4484;n<=4489;n++)i[n]=0;for(n=4491;n<=4554;n++)i[n]=0;for(n=4568;n<=4589;n++)i[n]=0;for(n=4652;n<=4656;n++)i[n]=0;for(n=4766;n<=4800;n++)i[n]=0;for(n=5014;n<=5016;n++)i[n]=0;for(n=5069;n<=5072;n++)i[n]=0;for(n=5105;n<=5130;n++)i[n]=0;for(n=5173;n<=5188;n++)i[n]=0;for(n=5253;n<=5259;n++)i[n]=0;for(n=5269;n<=5275;n++)i[n]=0;for(n=5292;n<=5311;n++)i[n]=0;for(n=5329;n<=5331;n++)i[n]=0;for(n=5343;n<=5349;n++)i[n]=0;for(n=5355;n<=5357;n++)i[n]=0;for(n=5387;n<=5389;n++)i[n]=0;for(n=5459;n<=5463;n++)i[n]=0;for(n=5479;n<=5482;n++)i[n]=0;for(n=5518;n<=5520;n++)i[n]=0;for(n=5530;n<=5539;n++)i[n]=0;for(n=5550;n<=5552;n++)i[n]=0;for(n=5562;n<=5583;n++)i[n]=0;for(n=5623;n<=5625;n++)i[n]=2;for(n=5631;n<=5639;n++)i[n]=0;for(n=5649;n<=5653;n++)i[n]=0;for(n=5663;n<=5680;n++)i[n]=0;for(n=5682;n<=5685;n++)i[n]=0;for(n=5875;n<=5877;n++)i[n]=0;for(n=5896;n<=5899;n++)i[n]=0;for(n=5921;n<=5940;n++)i[n]=0;for(n=6050;n<=6125;n++)i[n]=0;for(n=6244;n<=6275;n++)i[n]=0;for(n=6328;n<=6348;n++)i[n]=0;for(n=6350;n<=6356;n++)i[n]=0;for(n=6366;n<=6372;n++)i[n]=0;for(n=6381;n<=6387;n++)i[n]=0;for(n=6393;n<=6404;n++)i[n]=0;for(n=6480;n<=6483;n++)i[n]=0;for(n=6511;n<=6514;n++)i[n]=0;for(n=6579;n<=6581;n++)i[n]=0;for(n=6619;n<=6624;n++)i[n]=0;for(n=6625;n<=6627;n++)i[n]=2;for(n=6628;n<=6632;n++)i[n]=0;for(n=6634;n<=6637;n++)i[n]=0;for(n=6669;n<=6692;n++)i[n]=0;for(n=6707;n<=6709;n++)i[n]=0;for(n=6720;n<=6723;n++)i[n]=0;for(n=6732;n<=6738;n++)i[n]=0;for(n=6931;n<=6933;n++)i[n]=0;for(n=6956;n<=6959;n++)i[n]=0;for(n=7005;n<=7007;n++)i[n]=0;for(n=7057;n<=7070;n++)i[n]=2;for(n=7074;n<=7082;n++)i[n]=0;for(n=7109;n<=7118;n++)i[n]=0;for(n=7119;n<=7127;n++)i[n]=1;for(n=7374;n<=7376;n++)i[n]=0;for(n=7528;n<=7586;n++)i[n]=0;for(n=7587;n<=7645;n++)i[n]=2;for(n=7692;n<=7696;n++)i[n]=0;for(n=7755;n<=7787;n++)i[n]=0;for(n=7791;n<=7795;n++)i[n]=0;for(n=7799;n<=7801;n++)i[n]=0;for(n=7803;n<=7805;n++)i[n]=0;for(n=7825;n<=7831;n++)i[n]=0;for(n=7845;n<=7859;n++)i[n]=0;for(n=8013;n<=8032;n++)i[n]=0;for(n=8065;n<=8068;n++)i[n]=1;for(n=8518;n<=8529;n++)i[n]=2;for(n=8533;n<=8536;n++)i[n]=2;for(n=8538;n<=8540;n++)i[n]=2;for(n=8677;n<=8679;n++)i[n]=0;for(n=8836;n<=8840;n++)i[n]=0;for(n=8857;n<=8859;n++)i[n]=0;for(n=8908;n<=8910;n++)i[n]=0;for(n=9154;n<=9159;n++)i[n]=0;for(n=9205;n<=9218;n++)i[n]=0;for(n=9271;n<=9273;n++)i[n]=0;for(n=9295;n<=9297;n++)i[n]=0;for(n=20002;n<=20032;n++)i[n]=0;for(n=20062;n<=20092;n++)i[n]=0;for(n=20135;n<=20138;n++)i[n]=0;for(n=20248;n<=20258;n++)i[n]=0;for(n=20348;n<=20358;n++)i[n]=0;for(n=20436;n<=20440;n++)i[n]=0;for(n=20822;n<=20824;n++)i[n]=0;for(n=20934;n<=20936;n++)i[n]=0;for(n=21035;n<=21037;n++)i[n]=0;for(n=21095;n<=21097;n++)i[n]=0;for(n=21148;n<=21150;n++)i[n]=0;for(n=21413;n<=21423;n++)i[n]=0;for(n=21453;n<=21463;n++)i[n]=0;for(n=21473;n<=21483;n++)i[n]=0;for(n=21780;n<=21782;n++)i[n]=0;for(n=21891;n<=21894;n++)i[n]=0;for(n=21896;n<=21899;n++)i[n]=0;for(n=22171;n<=22177;n++)i[n]=0;for(n=22181;n<=22187;n++)i[n]=0;for(n=22191;n<=22197;n++)i[n]=0;for(n=22234;n<=22236;n++)i[n]=0;for(n=22521;n<=22525;n++)i[n]=0;for(n=22991;n<=22994;n++)i[n]=0;for(n=23028;n<=23038;n++)i[n]=0;for(n=23830;n<=23853;n++)i[n]=0;for(n=23866;n<=23872;n++)i[n]=0;for(n=23877;n<=23884;n++)i[n]=0;for(n=23886;n<=23894;n++)i[n]=0;for(n=23946;n<=23948;n++)i[n]=0;for(n=24311;n<=24313;n++)i[n]=0;for(n=24342;n<=24347;n++)i[n]=0;for(n=24370;n<=24374;n++)i[n]=10;for(n=24375;n<=24381;n++)i[n]=0;for(n=24718;n<=24721;n++)i[n]=0;for(n=24817;n<=24821;n++)i[n]=0;for(n=24877;n<=24882;n++)i[n]=0;for(n=24891;n<=24893;n++)i[n]=0;for(n=25391;n<=25395;n++)i[n]=0;for(n=25828;n<=25838;n++)i[n]=0;for(n=26191;n<=26195;n++)i[n]=0;for(n=26391;n<=26393;n++)i[n]=0;for(n=26701;n<=26722;n++)i[n]=0;for(n=26729;n<=26799;n++)i[n]=2;for(n=26801;n<=26803;n++)i[n]=2;for(n=26811;n<=26813;n++)i[n]=2;for(n=26847;n<=26870;n++)i[n]=2;for(n=26891;n<=26899;n++)i[n]=0;for(n=26901;n<=26923;n++)i[n]=0;for(n=26929;n<=26946;n++)i[n]=0;for(n=26948;n<=26998;n++)i[n]=0;for(n=27037;n<=27040;n++)i[n]=0;for(n=27205;n<=27232;n++)i[n]=0;for(n=27258;n<=27260;n++)i[n]=0;for(n=27391;n<=27398;n++)i[n]=0;for(n=27561;n<=27564;n++)i[n]=0;for(n=27571;n<=27574;n++)i[n]=0;for(n=27581;n<=27584;n++)i[n]=0;for(n=27591;n<=27594;n++)i[n]=0;for(n=28191;n<=28193;n++)i[n]=0;for(n=28348;n<=28358;n++)i[n]=0;for(n=28402;n<=28432;n++)i[n]=0;for(n=28462;n<=28492;n++)i[n]=0;for(n=29118;n<=29122;n++)i[n]=0;for(n=29168;n<=29172;n++)i[n]=0;for(n=29177;n<=29185;n++)i[n]=0;for(n=29187;n<=29195;n++)i[n]=0;for(n=29900;n<=29903;n++)i[n]=0;for(n=30161;n<=30179;n++)i[n]=0;for(n=30491;n<=30494;n++)i[n]=0;for(n=30729;n<=30732;n++)i[n]=0;for(n=31251;n<=31259;n++)i[n]=0;for(n=31265;n<=31268;n++)i[n]=0;for(n=31275;n<=31279;n++)i[n]=0;for(n=31281;n<=31297;n++)i[n]=0;for(n=31461;n<=31469;n++)i[n]=0;for(n=31491;n<=31495;n++)i[n]=0;for(n=31917;n<=31922;n++)i[n]=0;for(n=31965;n<=32e3;n++)i[n]=0;for(n=32001;n<=32003;n++)i[n]=2;for(n=32005;n<=32031;n++)i[n]=2;for(n=32033;n<=32060;n++)i[n]=2;for(n=32064;n<=32067;n++)i[n]=2;for(n=32074;n<=32077;n++)i[n]=2;for(n=32081;n<=32086;n++)i[n]=0;for(n=32107;n<=32130;n++)i[n]=0;for(n=32133;n<=32158;n++)i[n]=0;for(n=32164;n<=32167;n++)i[n]=2;for(n=32180;n<=32199;n++)i[n]=0;for(n=32201;n<=32260;n++)i[n]=0;for(n=32301;n<=32360;n++)i[n]=0;for(n=32601;n<=32662;n++)i[n]=0;for(n=32664;n<=32667;n++)i[n]=2;for(n=32701;n<=32761;n++)i[n]=0;for(n=53001;n<=53004;n++)i[n]=0;for(n=53008;n<=53019;n++)i[n]=0;for(n=53021;n<=53032;n++)i[n]=0;for(n=53034;n<=53037;n++)i[n]=0;for(n=53042;n<=53046;n++)i[n]=0;for(n=53074;n<=53080;n++)i[n]=0;for(n=54001;n<=54004;n++)i[n]=0;for(n=54008;n<=54019;n++)i[n]=0;for(n=54021;n<=54032;n++)i[n]=0;for(n=54034;n<=54037;n++)i[n]=0;for(n=54042;n<=54046;n++)i[n]=0;for(n=54048;n<=54053;n++)i[n]=0;for(n=54074;n<=54080;n++)i[n]=0;for(n=54098;n<=54101;n++)i[n]=0;for(n=102001;n<=102040;n++)i[n]=0;for(n=102042;n<=102063;n++)i[n]=0;for(n=102065;n<=102067;n++)i[n]=0;for(n=102070;n<=102117;n++)i[n]=0;for(n=102122;n<=102216;n++)i[n]=0;for(n=102221;n<=102377;n++)i[n]=0;for(n=102382;n<=102388;n++)i[n]=0;for(n=102389;n<=102398;n++)i[n]=2;for(n=102399;n<=102444;n++)i[n]=0;for(n=102445;n<=102447;n++)i[n]=2;for(n=102448;n<=102458;n++)i[n]=0;for(n=102459;n<=102468;n++)i[n]=2;for(n=102469;n<=102499;n++)i[n]=0;for(n=102500;n<=102519;n++)i[n]=1;for(n=102520;n<=102524;n++)i[n]=0;for(n=102525;n<=102529;n++)i[n]=2;for(n=102530;n<=102588;n++)i[n]=0;for(n=102590;n<=102598;n++)i[n]=0;for(n=102601;n<=102603;n++)i[n]=0;for(n=102605;n<=102628;n++)i[n]=0;for(n=102629;n<=102646;n++)i[n]=2;for(n=102648;n<=102700;n++)i[n]=2;for(n=102701;n<=102703;n++)i[n]=0;for(n=102707;n<=102730;n++)i[n]=2;for(n=102733;n<=102758;n++)i[n]=2;for(n=102767;n<=102900;n++)i[n]=0;for(n=102965;n<=102969;n++)i[n]=0;for(n=102971;n<=102973;n++)i[n]=0;for(n=102975;n<=102989;n++)i[n]=0;for(n=102990;n<=102992;n++)i[n]=1;for(n=102997;n<=103002;n++)i[n]=0;for(n=103003;n<=103008;n++)i[n]=2;for(n=103009;n<=103011;n++)i[n]=0;for(n=103012;n<=103014;n++)i[n]=2;for(n=103019;n<=103021;n++)i[n]=0;for(n=103022;n<=103024;n++)i[n]=2;for(n=103029;n<=103031;n++)i[n]=0;for(n=103032;n<=103034;n++)i[n]=2;for(n=103065;n<=103068;n++)i[n]=0;for(n=103074;n<=103076;n++)i[n]=0;for(n=103077;n<=103079;n++)i[n]=1;for(n=103080;n<=103082;n++)i[n]=0;for(n=103083;n<=103085;n++)i[n]=2;for(n=103090;n<=103093;n++)i[n]=0;for(n=103097;n<=103099;n++)i[n]=0;for(n=103100;n<=103102;n++)i[n]=2;for(n=103107;n<=103109;n++)i[n]=0;for(n=103110;n<=103112;n++)i[n]=2;for(n=103113;n<=103116;n++)i[n]=0;for(n=103117;n<=103120;n++)i[n]=2;for(n=103153;n<=103157;n++)i[n]=0;for(n=103158;n<=103162;n++)i[n]=2;for(n=103163;n<=103165;n++)i[n]=0;for(n=103166;n<=103168;n++)i[n]=1;for(n=103169;n<=103171;n++)i[n]=2;for(n=103186;n<=103188;n++)i[n]=0;for(n=103189;n<=103191;n++)i[n]=2;for(n=103192;n<=103195;n++)i[n]=0;for(n=103196;n<=103199;n++)i[n]=2;for(n=103200;n<=103224;n++)i[n]=0;for(n=103225;n<=103227;n++)i[n]=1;for(n=103232;n<=103237;n++)i[n]=0;for(n=103238;n<=103243;n++)i[n]=2;for(n=103244;n<=103246;n++)i[n]=0;for(n=103247;n<=103249;n++)i[n]=2;for(n=103254;n<=103256;n++)i[n]=0;for(n=103257;n<=103259;n++)i[n]=2;for(n=103264;n<=103266;n++)i[n]=0;for(n=103267;n<=103269;n++)i[n]=2;for(n=103300;n<=103375;n++)i[n]=0;for(n=103381;n<=103383;n++)i[n]=0;for(n=103384;n<=103386;n++)i[n]=1;for(n=103387;n<=103389;n++)i[n]=0;for(n=103390;n<=103392;n++)i[n]=2;for(n=103397;n<=103399;n++)i[n]=0;for(n=103400;n<=103471;n++)i[n]=2;for(n=103476;n<=103478;n++)i[n]=0;for(n=103479;n<=103481;n++)i[n]=2;for(n=103486;n<=103488;n++)i[n]=0;for(n=103489;n<=103491;n++)i[n]=2;for(n=103492;n<=103495;n++)i[n]=0;for(n=103496;n<=103499;n++)i[n]=2;for(n=103528;n<=103543;n++)i[n]=0;for(n=103544;n<=103548;n++)i[n]=2;for(n=103549;n<=103551;n++)i[n]=0;for(n=103552;n<=103554;n++)i[n]=1;for(n=103555;n<=103557;n++)i[n]=2;for(n=103558;n<=103560;n++)i[n]=0;for(n=103571;n<=103573;n++)i[n]=0;for(n=103574;n<=103576;n++)i[n]=2;for(n=103577;n<=103580;n++)i[n]=0;for(n=103581;n<=103583;n++)i[n]=2;for(n=103595;n<=103694;n++)i[n]=0;for(n=103696;n<=103699;n++)i[n]=0;for(n=103700;n<=103793;n++)i[n]=2;for(n=103794;n<=103872;n++)i[n]=0;for(n=103900;n<=103971;n++)i[n]=2;e.a=i},290:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));const n=new(r(148).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},295:function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return s})),r.d(e,"i",(function(){return p})),r.d(e,"j",(function(){return f}));var n=r(156);function i(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if("point"===t.type)return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if("polygon"===t.type)return t.rings.slice(0);if("polyline"===t.type)return t.paths.slice(0);if("multipoint"===t.type)return t.points.slice(0);if("extent"===t.type){const e=t.clone().normalize();if(!e)return null;let r=!1,n=!1;return e.forEach((t=>{t.hasZ&&(r=!0),t.hasM&&(n=!0)})),e.map((t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(r&&t.hasZ){const r=.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r)}if(n&&t.hasM){const r=.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r)}return e}))}return null}function o(t,e){const r=e[0]-t[0],n=e[1]-t[1];if(t.length>2&&e.length>2){const i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function a(t,e,r){const n=t[0]+r*(e[0]-t[0]),i=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[n,i,t[2]+r*(e[2]-t[2])]:[n,i]}function s(t,e,r,n){const[i,o]=e,[a,s]=r[n],[l,c]=r[n+1],u=l-a,d=c-s,h=u*u+d*d,p=(i-a)*u+(o-s)*d,f=Math.min(1,Math.max(0,p/h));return t[0]=a+u*f,t[1]=s+d*f,t}function l(t,e){return a(t,e,.5)}function c(t){const e=t.length;let r=0;for(let n=0;n<e-1;++n)r+=o(t[n],t[n+1]);return r}function u(t,e){if(e<=0)return t[0];const r=t.length;let n=0;for(let i=0;i<r-1;++i){const r=o(t[i],t[i+1]);if(e-n<r){const o=(e-n)/r;return a(t[i],t[i+1],o)}n+=r}return t[r-1]}function d(t,e,r){const n=t.length;let i=0,o=0,a=0;for(let s=0;s<n;s++){const l=t[s],c=t[(s+1)%n];let u=2;i+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&r&&(o+=l[0]*c[2]-c[0]*l[2],u=3),l.length>u&&c.length>u&&e&&(a+=l[0]*c[u]-c[0]*l[u])}return i<=0&&o<=0&&a<=0}function h(t){if("rings"in t){for(const e of t.rings)e.length<3||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]]);if(t.rings.length>0&&!d(t.rings[0],t.hasM,t.hasZ))for(let e=0;e<t.rings.length;++e)t.rings[e]=t.rings[e].reverse()}}function p(t){return"polygon"!==t.type&&"polyline"!==t.type||f("polygon"===t.type?t.rings:t.paths,t.spatialReference),t}function f(t,e){const r=Object(n.d)(e);if(!r)return;const i=r.valid[0],o=r.valid[1],a=o-i;for(const n of t){let t=1/0,e=-1/0;n.forEach((r=>{let n=r[0];for(;n<i;)n+=a;for(;n>o;)n-=a;t=Math.min(t,n),e=Math.max(e,n),r[0]=n}));const r=e-t;a-r<r&&n.forEach((t=>{t[0]<0&&(t[0]+=a)}))}}},307:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return u}));const n=[0,0];function i(t,e){return c(t,e.x,e.y,e.z)}function o(t,e){if(!e.points||e.points.length)return!1;for(const r of e.points)if(!s(t,r))return!1;return!0}function a(t,e){const{xmin:r,ymin:n,zmin:i,xmax:o,ymax:a,zmax:s}=e;return t.hasZ&&e.hasZ?c(t,r,n,i)&&c(t,r,a,i)&&c(t,o,a,i)&&c(t,o,n,i)&&c(t,r,n,s)&&c(t,r,a,s)&&c(t,o,a,s)&&c(t,o,n,s):c(t,r,n)&&c(t,r,a)&&c(t,o,a)&&c(t,o,n)}function s(t,e){return c(t,e[0],e[1])}function l(t,e){return c(t,e[0],e[1],e[2])}function c(t,e,r,n){return e>=t.xmin&&e<=t.xmax&&r>=t.ymin&&r<=t.ymax&&(null==n||!t.hasZ||n>=t.zmin&&n<=t.zmax)}function u(t,e){return n[1]=e.y,n[0]=e.x,d(t,n)}function d(t,e){return function(t,e){if(!t)return!1;if(function(t){return!Array.isArray(t[0][0])}(t))return h(!1,t,e);let r=!1;for(let n=0,i=t.length;n<i;n++)r=h(r,t[n],e);return r}(t.rings,e)}function h(t,e,r){const[n,i]=r;let o=t,a=0;for(let s=0,l=e.length;s<l;s++){a++,a===l&&(a=0);const[t,r]=e[s],[c,u]=e[a];(r<i&&u>=i||u<i&&r>=i)&&t+(i-r)/(u-r)*(c-t)<n&&(o=!o)}return o}},335:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));var n=r(160);function i(t,e,r=n.a){return e||(e=new r),e===t||(e.removeAll(),(i=t)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?e.addMany(t):t&&e.add(t)),e;var i}function o(t){return t}},340:function(t,e,r){"use strict";function n(t,e){if(t.forEach)t.forEach(e);else for(let r=0;r<t.length;r++)e(t[r],r,t)}function i(t,e,r){if(t.slice)return t.slice(e,r);void 0===e?e=0:(e<0&&(e+=t.length),e=Math.min(t.length,Math.max(0,e))),void 0===r?r=t.length:(r<0&&(r+=t.length),r=Math.min(t.length,Math.max(0,r)));const n=Math.max(0,r-e),i=new(0,t.constructor)(n);for(let o=0;o<n;o++)i[o]=t[e+o];return i}function o(t){return t instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name}function a(t){return t instanceof Int8Array||t&&t.constructor&&"Int8Array"===t.constructor.name}function s(t){return t instanceof Uint8Array||t&&t.constructor&&"Uint8Array"===t.constructor.name}function l(t){return t instanceof Uint8ClampedArray||t&&t.constructor&&"Uint8ClampedArray"===t.constructor.name}function c(t){return t instanceof Int16Array||t&&t.constructor&&"Int16Array"===t.constructor.name}function u(t){return t instanceof Uint16Array||t&&t.constructor&&"Uint16Array"===t.constructor.name}function d(t){return t instanceof Int32Array||t&&t.constructor&&"Int32Array"===t.constructor.name}function h(t){return t instanceof Uint32Array||t&&t.constructor&&"Uint32Array"===t.constructor.name}function p(t){return t instanceof Float32Array||t&&t.constructor&&"Float32Array"===t.constructor.name}function f(t){return t instanceof Float64Array||t&&t.constructor&&"Float64Array"===t.constructor.name}function b(t){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}function m(t){return t?128+t.buffer.byteLength+64:0}r.d(e,"a",(function(){return m})),r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return p})),r.d(e,"e",(function(){return f})),r.d(e,"f",(function(){return c})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return a})),r.d(e,"i",(function(){return u})),r.d(e,"j",(function(){return h})),r.d(e,"k",(function(){return s})),r.d(e,"l",(function(){return l})),r.d(e,"m",(function(){return i})),r.d(e,"n",(function(){return b}))},343:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return O})),r.d(e,"c",(function(){return m})),r.d(e,"d",(function(){return g}));var n=r(307);function i(t,e){return Object(n.e)(t,e)}function o(t,e){const r=t.hasZ&&e.hasZ;let n,i,o;if(t.xmin<=e.xmin){if(n=e.xmin,t.xmax<n)return!1}else if(n=t.xmin,e.xmax<n)return!1;if(t.ymin<=e.ymin){if(i=e.ymin,t.ymax<i)return!1}else if(i=t.ymin,e.ymax<i)return!1;if(r&&e.hasZ)if(t.zmin<=e.zmin){if(o=e.zmin,t.zmax<o)return!1}else if(o=t.zmin,e.zmax<o)return!1;return!0}function a(t,e){const{points:r,hasZ:i}=e,o=i?n.b:n.a;for(const n of r)if(o(t,n))return!0;return!1}const s=[0,0],l=[0,0],c=[0,0],u=[0,0],d=[s,l,c,u],h=[[c,s],[s,l],[l,u],[u,c]];function p(t,e){s[0]=t.xmin,s[1]=t.ymax,l[0]=t.xmax,l[1]=t.ymax,c[0]=t.xmin,c[1]=t.ymin,u[0]=t.xmax,u[1]=t.ymin;for(const r of d)if(Object(n.f)(e,r))return!0;for(const r of e.rings){if(!r.length)continue;let e=r[0];if(Object(n.a)(t,e))return!0;for(let i=1;i<r.length;i++){const o=r[i];if(Object(n.a)(t,o)||y(e,o,h))return!0;e=o}}return!1}function f(t,e){s[0]=t.xmin,s[1]=t.ymax,l[0]=t.xmax,l[1]=t.ymax,c[0]=t.xmin,c[1]=t.ymin,u[0]=t.xmax,u[1]=t.ymin;const r=e.paths;for(const i of r){if(!r.length)continue;let e=i[0];if(Object(n.a)(t,e))return!0;for(let r=1;r<i.length;r++){const o=i[r];if(Object(n.a)(t,o)||y(e,o,h))return!0;e=o}}return!1}const b=[0,0];function m(t){for(let e=0;e<t.length;e++){const r=t[e];for(let i=0;i<r.length-1;i++){const n=r[i],o=r[i+1];for(let r=e+1;r<t.length;r++)for(let e=0;e<t[r].length-1;e++){const i=t[r][e],a=t[r][e+1];if(g(n,o,i,a,b)&&!(b[0]===n[0]&&b[1]===n[1]||b[0]===i[0]&&b[1]===i[1]||b[0]===o[0]&&b[1]===o[1]||b[0]===a[0]&&b[1]===a[1]))return!0}}const n=r.length;if(!(n<=4))for(let t=0;t<n-3;t++){let e=n-1;0===t&&(e=n-2);const i=r[t],o=r[t+1];for(let n=t+2;n<e;n++){const t=r[n],e=r[n+1];if(g(i,o,t,e,b)&&!(b[0]===i[0]&&b[1]===i[1]||b[0]===t[0]&&b[1]===t[1]||b[0]===o[0]&&b[1]===o[1]||b[0]===e[0]&&b[1]===e[1]))return!0}}}return!1}function y(t,e,r){for(let n=0;n<r.length;n++)if(g(t,e,r[n][0],r[n][1]))return!0;return!1}function g(t,e,r,n,i){const[o,a]=t,[s,l]=e,[c,u]=r,[d,h]=n,p=d-c,f=o-c,b=s-o,m=h-u,y=a-u,g=l-a,O=m*b-p*g;if(0===O)return!1;const v=(p*y-m*f)/O,j=(b*y-g*f)/O;return v>=0&&v<=1&&j>=0&&j<=1&&(i&&(i[0]=o+v*(s-o),i[1]=a+v*(l-a)),!0)}function O(t){switch(t){case"esriGeometryEnvelope":case"extent":return o;case"esriGeometryMultipoint":case"multipoint":return a;case"esriGeometryPoint":case"point":return i;case"esriGeometryPolygon":case"polygon":return p;case"esriGeometryPolyline":case"polyline":return f;case"mesh":return o}}},345:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=r(137);function i(t){const e=Object(n.e)(100*(1-t));return Math.max(0,Math.min(e,100))}function o(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}},349:function(t,e,r){"use strict";function n(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const r=e._delegatedEventNames,n=Array.isArray(t)?t:function(t){return t.split(",").map((t=>t.trim()))}(t);r.push(...n)}}r.d(e,"a",(function(){return n}))},350:function(t,e,r){"use strict";function n(t,e,r=!1){let{hasM:n,hasZ:i}=t;Array.isArray(e)?4!==e.length||n||i?3===e.length&&r&&!n?(i=!0,n=!1):3===e.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&e.hasZ&&(!n||e.hasM),n=!n&&e.hasM&&(!i||e.hasZ)),t.hasZ=i,t.hasM=n}r.d(e,"a",(function(){return n}))},357:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return h}));var n=r(240);const i=[];function o(t,e,r,n){return{xmin:t,ymin:e,xmax:r,ymax:n}}function a(t,e,r,n,i,o){return{xmin:t,ymin:e,zmin:r,xmax:n,ymax:i,zmax:o}}function s(t,e,r,n,i,o){return{xmin:t,ymin:e,mmin:r,xmax:n,ymax:i,mmax:o}}function l(t,e,r,n,i,o,a,s){return{xmin:t,ymin:e,zmin:r,mmin:n,xmax:i,ymax:o,zmax:a,mmax:s}}function c(t,e=!1,r=!1){return e?r?l(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):a(t[0],t[1],t[2],t[3],t[4],t[5]):r?s(t[0],t[1],t[2],t[3],t[4],t[5]):o(t[0],t[1],t[2],t[3])}function u(t){return t?function(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}(t)?t:function(t){return void 0!==t.x&&void 0!==t.y}(t)?function(t){const{x:e,y:r,z:n,m:i}=t,c=null!=i;return null!=n?c?l(e,r,n,i,e,r,n,i):a(e,r,n,e,r,n):c?s(e,r,i,e,r,i):o(e,r,e,r)}(t):function(t){return void 0!==t.rings}(t)?d(t):function(t){return void 0!==t.paths}(t)?h(t):function(t){return void 0!==t.points}(t)?function(t){const{hasZ:e,hasM:r,points:o}=t;return c(Object(n.c)(i,o,e,r),e,r)}(t):null:null}function d(t){const{hasZ:e,hasM:r,rings:o}=t,a=Object(n.d)(i,o,e,r);return a?c(a,e,r):null}function h(t){const{hasZ:e,hasM:r,paths:o}=t,a=Object(n.d)(i,o,e,r);return a?c(a,e,r):null}},365:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return O})),r.d(e,"c",(function(){return g})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return a})),r.d(e,"g",(function(){return f})),r.d(e,"h",(function(){return d})),r.d(e,"i",(function(){return h})),r.d(e,"j",(function(){return l}));var n=r(154),i=r(152),o=r(158);function a(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],r=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],n=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(Math.max(e,r),n))}function s(t,e,r){r=r||t;const n=Object(o.g)(t,e);Object(o.v)(r,t[0]-n*e[0],t[1]-n*e[1],t[2]-n*e[2]),Object(o.q)(r,r)}function l(t,e,r){Math.abs(t[0])>Math.abs(t[1])?Object(o.v)(e,0,1,0):Object(o.v)(e,1,0,0),Object(o.f)(r,t,e),Object(o.q)(e,e),Object(o.f)(e,r,t),Object(o.q)(r,r)}function c(t,e){const r=Object(o.o)(t),i=Object(n.c)(t[2]/r),a=Math.atan2(t[1]/r,t[0]/r);return Object(o.v)(e,r,i,a),e}function u(t,e,r){const n=r[0]-e[0],i=r[1]-e[1],o=r[2]-e[2];let a=n*n+i*i+o*o;return a?(a=1/Math.sqrt(a),t[0]=n*a,t[1]=i*a,t[2]=o*a,t):(t[0]=0,t[1]=0,t[2]=0,t)}function d(t,e,r,n=Object(i.e)()){const a=Object(o.o)(t),s=Object(o.o)(e),l=Object(o.g)(t,e)/(a*s);if(l<.9999999999999999){const i=Math.acos(l),c=((1-r)*a+r*s)/Math.sin(i),u=c/a*Math.sin((1-r)*i),d=c/s*Math.sin(r*i);return Object(o.d)(v,t,u),Object(o.d)(j,e,d),Object(o.e)(n,v,j)}return Object(o.h)(n,t,e,r)}function h(t,e,r,n=Object(i.e)(),a=Object(i.e)()){const s=Object(o.o)(t),l=Object(o.o)(e),c=Object(o.g)(t,e)/(s*l);if(c<.9999999999999999){const i=Math.acos(c),u=Math.sin(i),d=Math.sin(r*i),h=Math.sin((1-r)*i),p=(1-r)*s+r*l;{const r=p/u,i=r/l*d;Object(o.d)(v,t,r/s*h),Object(o.d)(j,e,i),Object(o.e)(n,v,j)}{const n=1/s*(-Math.cos((1-r)*i)*i*p+h*(-s+l));Object(o.d)(v,t,n);const c=1/l*(Math.cos(r*i)*i*p+d*(-s+l));Object(o.d)(j,e,c),Object(o.e)(a,v,j),Object(o.d)(a,a,1/u)}return a}return Object(o.h)(n,t,e,r),Object(o.i)(a,e,t),Object(o.q)(a,a),a}class p{constructor(t,e){this.min=t,this.max=e,this.range=e-t}ndiff(t,e=0){return Math.ceil((t-e)/this.range)*this.range+e}_normalize(t,e,r,n=0,i=!1){return(r-=n)<t?r+=this.ndiff(t-r):r>e&&(r-=this.ndiff(r-e)),i&&r===e&&(r=t),r+n}normalize(t,e=0,r=!1){return this._normalize(this.min,this.max,t,e,r)}clamp(t,e=0){return Object(n.d)(t-e,this.min,this.max)+e}monotonic(t,e,r){return t<e?e:e+this.ndiff(t-e,r)}minimalMonotonic(t,e,r){return this._normalize(t,t+this.range,e,r)}center(t,e,r){return e=this.monotonic(t,e,r),this.normalize((t+e)/2,r)}diff(t,e,r){return this.monotonic(t,e,r)-t}shortestSignedDiff(t,e){t=this.normalize(t);const r=(e=this.normalize(e))-t,n=e<t?this.minimalMonotonic(t,e)-t:e-this.minimalMonotonic(e,t);return Math.abs(r)<Math.abs(n)?r:n}contains(t,e,r){return e=this.minimalMonotonic(t,e),(r=this.minimalMonotonic(t,r))>t&&r<e}}function f(t,e,r,n){Object(o.i)(b,e,t),Object(o.i)(m,r,t),Object(o.f)(n,b,m),Object(o.q)(n,n),n[3]=-Object(o.g)(t,n)}const b=Object(i.e)(),m=Object(i.e)();function y(t){for(const e in t){const r=t[e];r instanceof Function&&(t[e]=r.bind(t))}return t}y(new p(0,2*Math.PI));const g=y(new p(-Math.PI,Math.PI)),O=y(new p(0,360)),v=(Object(i.e)(),Object(i.e)()),j=Object(i.e)()},403:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=(r(130),r(137),r(134)),s=r(148),l=r(133),c=(r(132),r(135),r(136),r(146)),u=r(144),d=r(194),h=r(149);const p=new s.a({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let f=n=class extends c.a{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new n({categories:this.categories?Object(o.a)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r,n;if(this.categories&&(r=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t))),this.extent){const t=Object(d.d)(this.extent,u.a.WGS84);t&&(n=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let i=this.query;!this.disableExtraQuery&&t.extraQuery&&(i="("+i+")"+t.extraQuery);const o={categories:r,bbox:n,q:i,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((t=>p.toJSON(t.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...e,...o}}}};Object(i.a)([Object(a.b)()],f.prototype,"categories",void 0),Object(i.a)([Object(a.b)()],f.prototype,"disableExtraQuery",void 0),Object(i.a)([Object(a.b)({type:h.a})],f.prototype,"extent",void 0),Object(i.a)([Object(a.b)()],f.prototype,"num",void 0),Object(i.a)([Object(a.b)()],f.prototype,"query",void 0),Object(i.a)([Object(a.b)()],f.prototype,"sortField",void 0),Object(i.a)([Object(a.b)()],f.prototype,"sortOrder",null),Object(i.a)([Object(a.b)()],f.prototype,"start",void 0),f=n=Object(i.a)([Object(l.a)("esri.portal.PortalQueryParams")],f);var b=f;e.a=b},404:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=r(295);function i(t){return t?o(t.rings,t.hasZ):null}function o(t,e){if(!t||!t.length)return null;const r=[],i=[],o=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,s=t.length;n<s;n++){const r=a(t[n],e,o);r&&i.push(r)}if(i.sort(((t,r)=>{let n=t[2]-r[2];return 0===n&&e&&(n=t[4]-r[4]),n})),i.length){let t=6*i[0][2];r[0]=i[0][0]/t,r[1]=i[0][1]/t,e&&(t=6*i[0][4],r[2]=0!==t?i[0][3]/t:0),(r[0]<o[0]||r[0]>o[1]||r[1]<o[2]||r[1]>o[3]||e&&(r[2]<o[4]||r[2]>o[5]))&&(r.length=0)}if(!r.length){const i=t[0]&&t[0].length?function(t,e){const r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let o=0,a=0,s=0,l=0;for(let c=0,u=t.length;c<u-1;c++){const u=t[c],d=t[c+1];if(u&&d){r[0]=u[0],r[1]=u[1],i[0]=d[0],i[1]=d[1],e&&u.length>2&&d.length>2&&(r[2]=u[2],i[2]=d[2]);const t=Object(n.c)(r,i);if(t){o+=t;const r=Object(n.d)(u,d);a+=t*r[0],s+=t*r[1],e&&r.length>2&&(l+=t*r[2])}}}return o>0?e?[a/o,s/o,l/o]:[a/o,s/o]:t.length?t[0]:null}(t[0],e):null;if(!i)return null;r[0]=i[0],r[1]=i[1],e&&i.length>2&&(r[2]=i[2])}return r}function a(t,e,r){let n=0,i=0,o=0,a=0,s=0;for(let c=0;c<t.length;c++){const l=t[c],[u,d,h]=l,p=t[(c+1)%t.length],[f,b,m]=p;let y=u*b-f*d;a+=y,n+=(u+f)*y,i+=(d+b)*y,e&&l.length>2&&p.length>2&&(y=u*m-f*h,o+=(h+m)*y,s+=y),u<r[0]&&(r[0]=u),u>r[1]&&(r[1]=u),d<r[2]&&(r[2]=d),d>r[3]&&(r[3]=d),e&&(h<r[4]&&(r[4]=h),h>r[5]&&(r[5]=h))}if(a>0&&(a*=-1),s>0&&(s*=-1),!a)return null;const l=[n,i,.5*a];return e&&(l[3]=o,l[4]=.5*s),l}},458:function(t,e,r){"use strict";var n=r(172);class i{constructor(t,e,r){this.name=t,this.details=r,this.message=void 0,this instanceof i&&(this.message=e&&function(t,e){return t.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(t,r){if(""===r)return"$";const i=Object(n.b)(r,e),o=null==i?"":i;if(void 0===o)throw new Error(`could not find key "${r}" in template`);return o.toString()}))}(e,r)||"")}toString(){return"["+this.name+"]: "+this.message}}e.a=i},502:function(t,e,r){"use strict";var n=r(207);var i,o=(i=n.a,{setTimeout:(t,e)=>{const r=i.setTimeout(t,e);return{remove:()=>i.clearTimeout(r)}}});e.a=o},503:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return s}));const n={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};function i(t){var e;return null!=(e=n[t.toLowerCase()])?e:null}function o(t){const e=i(t);return e?[...e]:e}function a(t,e,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?t+(e-t)*n:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function s(t,e,r,n=1){const i=(t%360+360)%360/360,o=r<=.5?r*(e+1):r+e-r*e,s=2*r-o;return[Math.round(256*a(s,o,i+1/3)),Math.round(256*a(s,o,i)),Math.round(256*a(s,o,i-1/3)),n]}function l(t){const e=t.length>5,r=e?8:4,n=(1<<r)-1,i=e?1:17,o=e?9===t.length:5===t.length;let a=Number("0x"+t.substr(1));if(isNaN(a))return null;const s=[0,0,0,1];let l;return o&&(l=a&n,a>>=r,s[3]=i*l/255),l=a&n,a>>=r,s[2]=i*l,l=a&n,a>>=r,s[1]=i*l,l=a&n,a>>=r,s[0]=i*l,s}},526:function(t,e,r){"use strict";r.r(e);var n=r(131),i=(r(129),r(130),r(137)),o=r(134),a=r(133),s=r(140),l=(r(132),r(135),r(136),r(139)),c=r(403);let u=class extends l.a{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal._request(this.url+"/categorySchema",t).then((e=>{const r=e.categorySchema||[];return r.some((t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source))?this._fetchCategorySchemaSet("LivingAtlas",t):r}))}fetchMembers(t){return this.portal._request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new s.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,e){let r=Object(i.m)(c.a,t);return parseFloat(this.portal.currentVersion)>5?(r=r||new c.a,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",e)):(r=r?r.clone():new c.a,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,e))}_fetchCategorySchemaSet(t,e){return this.portal._fetchSelf(this.portal.authMode,!0,e).then((t=>{const r=t.contentCategorySetsGroupQuery;if(r){const t=new c.a;return t.disableExtraQuery=!0,t.num=1,t.query=r,this.portal.queryGroups(t,e)}throw new s.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const n=r.results[0],i=new c.a;return i.num=1,i.query=`typekeywords:"${t}"`,n.queryItems(i,e)}throw new s.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((t=>t.total?t.results[0].fetchData("json",e).then((t=>{const e=t&&t.categorySchema;return e&&e.length?e:[]})):[]))}};Object(n.a)([Object(o.b)()],u.prototype,"access",void 0),Object(n.a)([Object(o.b)({type:Date})],u.prototype,"created",void 0),Object(n.a)([Object(o.b)()],u.prototype,"description",void 0),Object(n.a)([Object(o.b)()],u.prototype,"id",void 0),Object(n.a)([Object(o.b)()],u.prototype,"isInvitationOnly",void 0),Object(n.a)([Object(o.b)({type:Date})],u.prototype,"modified",void 0),Object(n.a)([Object(o.b)()],u.prototype,"owner",void 0),Object(n.a)([Object(o.b)()],u.prototype,"portal",void 0),Object(n.a)([Object(o.b)()],u.prototype,"snippet",void 0),Object(n.a)([Object(o.b)()],u.prototype,"sortField",void 0),Object(n.a)([Object(o.b)()],u.prototype,"sortOrder",void 0),Object(n.a)([Object(o.b)()],u.prototype,"tags",void 0),Object(n.a)([Object(o.b)()],u.prototype,"thumbnail",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],u.prototype,"thumbnailUrl",null),Object(n.a)([Object(o.b)()],u.prototype,"title",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],u.prototype,"url",null),u=Object(n.a)([Object(a.a)("esri.portal.PortalGroup")],u);var d=u;e.default=d},532:function(t,e,r){"use strict";r.r(e);var n=r(131),i=(r(129),r(130),r(137),r(134)),o=r(133),a=r(140),s=(r(132),r(135),r(136),r(139));let l=class extends s.a{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new a.a("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};Object(n.a)([Object(i.b)({type:Date})],l.prototype,"created",void 0),Object(n.a)([Object(i.b)()],l.prototype,"id",void 0),Object(n.a)([Object(i.b)()],l.prototype,"portal",void 0),Object(n.a)([Object(i.b)()],l.prototype,"title",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],l.prototype,"url",null),Object(n.a)([Object(i.b)()],l.prototype,"username",void 0),l=Object(n.a)([Object(o.a)("esri.portal.PortalFolder")],l);var c,u=l,d=r(526);let h=c=class extends s.a{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get("portal.restUrl");return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,r=t&&t.data,n=t&&t.folder,i={method:"post"};e&&(i.query=e.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let o=this.userContentUrl;return n&&(o+="/"+("string"==typeof n?n:n.id)),this.portal._request(o+"/addItem",i).then((t=>(e.id=t.id,e.portal=this.portal,e.loaded?e.reload():e.load())))}deleteItem(t){let e=this.userContentUrl;return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal._request(e+`/items/${t.id}/delete`,{method:"post"}).then((()=>{t.id=null,t.portal=null}))}deleteItems(t){const e=this.userContentUrl+"/deleteItems",r=t.map((t=>t.id));if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal._request(e,n).then((()=>{t.forEach((t=>{t.id=null,t.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((t=>{let e;return e=t&&t.folders?t.folders.map((t=>{const e=u.fromJSON(t);return e.portal=this.portal,e})):[],e}))}fetchGroups(){return this.portal._request(this.url).then((t=>{let e;return e=t&&t.groups?t.groups.map((t=>{const e=d.default.fromJSON(t);return e.portal=this.portal,e})):[],e}))}fetchItems(t){t||(t={});let e,n=this.userContentUrl;return t.folder&&(n+="/"+t.folder.id),r.e(48).then(r.bind(null,285)).then((({default:r})=>{e=r;const i={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal._request(n,{query:i})})).then((t=>{let r;return t&&t.items?(r=t.items.map((t=>{const r=e.fromJSON(t);return r.portal=this.portal,r})),Promise.all(r.map((t=>t.load()))).catch((t=>t)).then((()=>({items:r,nextStart:t.nextStart,total:t.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((t=>t.tags))}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new d.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new a.a("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new a.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new c;return e.sourceJSON=t,e.read(t),e}};Object(n.a)([Object(i.b)()],h.prototype,"access",void 0),Object(n.a)([Object(i.b)({type:Date})],h.prototype,"created",void 0),Object(n.a)([Object(i.b)()],h.prototype,"culture",void 0),Object(n.a)([Object(i.b)()],h.prototype,"description",void 0),Object(n.a)([Object(i.b)()],h.prototype,"email",void 0),Object(n.a)([Object(i.b)()],h.prototype,"favGroupId",void 0),Object(n.a)([Object(i.b)()],h.prototype,"fullName",void 0),Object(n.a)([Object(i.b)({type:Date})],h.prototype,"modified",void 0),Object(n.a)([Object(i.b)()],h.prototype,"orgId",void 0),Object(n.a)([Object(i.b)()],h.prototype,"portal",void 0),Object(n.a)([Object(i.b)()],h.prototype,"preferredView",void 0),Object(n.a)([Object(i.b)()],h.prototype,"privileges",void 0),Object(n.a)([Object(i.b)()],h.prototype,"region",void 0),Object(n.a)([Object(i.b)()],h.prototype,"role",void 0),Object(n.a)([Object(i.b)()],h.prototype,"roleId",void 0),Object(n.a)([Object(i.b)()],h.prototype,"sourceJSON",void 0),Object(n.a)([Object(i.b)()],h.prototype,"thumbnail",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],h.prototype,"thumbnailUrl",null),Object(n.a)([Object(i.b)()],h.prototype,"units",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],h.prototype,"userContentUrl",null),Object(n.a)([Object(i.b)({readOnly:!0})],h.prototype,"url",null),Object(n.a)([Object(i.b)()],h.prototype,"username",void 0),Object(n.a)([Object(i.b)()],h.prototype,"userType",void 0),h=c=Object(n.a)([Object(o.a)("esri.portal.PortalUser")],h);var p=h;e.default=p},548:function(t,e,r){"use strict";var n=r(131),i=r(134),o=r(133),a=r(160),s=r(166);let l=class extends a.a{constructor(t){super(t),this._handles=new s.a,this.root=null}initialize(){this._handles.add(this.rootCollectionNames.map((t=>this.watch("root."+t,(()=>this.updateCollections()),!0)))),this.updateCollections()}destroy(){this.root=null,this.refresh(),this._handles.destroy(),this._handles=null}updateCollections(){this._collections=this.rootCollectionNames.map((t=>this.get("root."+t))).filter((t=>null!=t)),this.refresh()}refresh(){const t=this._handles;t.remove("collections");const e=new Array;let r=0;for(const n of this._collections)r=this._processCollection(e,r,n);this.splice(r,this.length);for(const n of e)t.add(n.on("after-changes",(()=>this.refresh())),"collections")}_createNewInstance(t){return new a.a(t)}_processCollection(t,e,r){return r?(t.push(r),r.forEach((r=>{if(r){if(!this.itemFilterFunction||this.itemFilterFunction(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}this.getChildrenFunction&&(e=this._processCollection(t,e,this.getChildrenFunction(r)))}})),e):e}};Object(n.a)([Object(i.b)()],l.prototype,"rootCollectionNames",void 0),Object(n.a)([Object(i.b)()],l.prototype,"root",void 0),Object(n.a)([Object(i.b)()],l.prototype,"getChildrenFunction",void 0),Object(n.a)([Object(i.b)()],l.prototype,"itemFilterFunction",void 0),l=Object(n.a)([Object(o.a)("esri.core.CollectionFlattener")],l);var c=l;e.a=c},549:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(131),i=(r(129),r(130),r(137),r(134)),o=r(133);r(132),r(135),r(136);const a=t=>{let e=class extends t{constructor(...t){super(...t),this.goToOverride=null,this.view=null}callGoTo(t){const{view:e}=this;return this.goToOverride?this.goToOverride(e,t):e.goTo(t.target,t.options)}};return Object(n.a)([Object(i.b)()],e.prototype,"goToOverride",void 0),Object(n.a)([Object(i.b)()],e.prototype,"view",void 0),e=Object(n.a)([Object(o.a)("esri.widgets.support.GoTo")],e),e}},557:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(138)),a=(r(130),r(134)),s=r(170),l=r(133),c=(r(132),r(135),r(136),r(139)),u=r(147),d=r(150),h=r(137),p=r(145),f=r(143),b=r(159),m=r(154),y=r(365);let g=n=class extends c.a{constructor(...t){super(...t),this.position=new b.a([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,e,r,n){if(t&&"object"==typeof t&&("x"in t||Array.isArray(t))){const i={position:t};return null!=e&&(i.heading=e),null!=r&&(i.tilt=r),null!=n&&(i.fov=n),i}return t}writePosition(t,e,r,n){const i=t.clone();i.x=Object(h.i)(t.x||0),i.y=Object(h.i)(t.y||0),i.z=t.hasZ?Object(h.i)(t.z||0):t.z,e[r]=i.write(null,n)}readPosition(t,e){const r=new b.a;return r.read(t,e),r.x=Object(h.i)(r.x||0),r.y=Object(h.i)(r.y||0),r.z=r.hasZ?Object(h.i)(r.z||0):r.z,r}equals(t){return!!t&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}clone(){return new n({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};Object(i.a)([Object(a.b)({type:b.a,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),Object(i.a)([Object(f.a)("position")],g.prototype,"writePosition",null),Object(i.a)([Object(p.a)("position")],g.prototype,"readPosition",null),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(s.a)((t=>y.b.normalize(Object(h.i)(t))))],g.prototype,"heading",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(s.a)((t=>Object(m.d)(Object(h.i)(t),-180,180)))],g.prototype,"tilt",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],g.prototype,"fov",void 0),g=n=Object(i.a)([Object(l.a)("esri.Camera")],g);var O,v=g;let j=O=class extends c.a{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new O({rotation:this.rotation,scale:this.scale,targetGeometry:Object(o.k)(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(o.k)(this.camera)?this.camera.clone():null})}};function w(){return{enabled:!this.camera}}Object(i.a)([Object(a.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],j.prototype,"rotation",void 0),Object(i.a)([Object(s.a)("rotation")],j.prototype,"castRotation",null),Object(i.a)([Object(a.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],j.prototype,"scale",void 0),Object(i.a)([Object(a.b)({types:d.a,json:{read:u.a,write:!0,origins:{"web-scene":{read:u.a,write:{overridePolicy:w}}}}})],j.prototype,"targetGeometry",void 0),Object(i.a)([Object(a.b)({type:v,json:{write:!0}})],j.prototype,"camera",void 0),j=O=Object(i.a)([Object(l.a)("esri.Viewpoint")],j);var _=j;e.a=_},590:function(t,e,r){"use strict";var n=r(131),i=(r(129),r(130),r(137),r(134)),o=r(133),a=(r(132),r(135),r(136),r(139)),s=r(147);let l=class extends a.a{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((function(t){return t.toJSON()})),e=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(s.c)(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(i.b)()],l.prototype,"geometries",void 0),Object(n.a)([Object(i.b)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),Object(n.a)([Object(i.b)()],l.prototype,"transformation",void 0),Object(n.a)([Object(i.b)()],l.prototype,"transformForward",void 0),l=Object(n.a)([Object(o.a)("esri.tasks.support.ProjectParameters")],l);var c=l;e.a=c},642:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(140);class i{constructor(t,e,r=""){this.major=t,this.minor=e,this._context=r}lessThan(t,e){return this.major<t||t===this.major&&this.minor<e}since(t,e){return!this.lessThan(t,e)}validate(t){if(this.major!==t.major){const e=this._context&&this._context+":",r=this._context&&this._context+" ";throw new n.a(e+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new i(this.major,this.minor,this._context)}static parse(t,e=""){const[r,o]=t.split("."),a=/^\s*\d+\s*$/;if(!r||!r.match||!r.match(a))throw new n.a((e&&e+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!o||!o.match||!o.match(a))throw new n.a((e&&e+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const s=parseInt(r,10),l=parseInt(o,10);return new i(s,l,e)}}},656:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return h})),r.d(e,"e",(function(){return p})),r.d(e,"f",(function(){return b})),r.d(e,"g",(function(){return m}));var n=r(130),i=r(137),o=r(132),a=r(160),s=r(670),l=r(609);const c=n.a.getLogger("esri.support.basemapUtils");function u(){return{}}function d(t){for(const e in t){const r=t[e];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete t[e]}}function h(t,e){var r;let n;if("string"==typeof t){if(!(t in s.a)){const e=Object.keys(s.a).map((t=>`"${t}"`)).join(", ");return c.warn(`Unable to find basemap definition for: ${t}. Try one of these: ${e}`),null}e&&(n=e[t]),n||(n=l.default.fromId(t),e&&(e[t]=n))}else n=Object(i.m)(l.default,t);return null!=(r=n)&&r.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function p(t){let e=null;const r=O(t),n=!r.baseLayers.length;for(const i in s.a){const t=k(r,w(s.a[i]),{mustMatchReferences:n});if("equal"===t){e=i;break}"base-layers-equal"===t&&(e=i)}return e}function f(t,e){return t===e||"equal"===k(O(t),O(e),{mustMatchReferences:!0})}function b(t){return!(null==t||!t.baseLayers.concat(t.referenceLayers).some(m))}function m(t){if(g(t.url))return!0;if("vector-tile"===t.type)for(const e in t.sourceNameToSource){const r=t.sourceNameToSource[e];if(g(null==r?void 0:r.sourceUrl))return!0}return!1}const y=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function g(t){if(!t)return!1;const e=new o.a(Object(o.z)(t));return y.test(e.authority)}function O(t){return t?!t.loaded&&t.resourceInfo?w(t.resourceInfo.data):{baseLayers:v(t.baseLayers),referenceLayers:v(t.referenceLayers)}:null}function v(t){return(a.a.isCollection(t)?t.toArray():t).map(j)}function j(t){return{type:t.type,url:M("urlTemplate"in t&&t.urlTemplate||t.url||"styleUrl"in t&&t.styleUrl),minScale:"minScale"in t&&null!=t.minScale?t.minScale:0,maxScale:"maxScale"in t&&null!=t.maxScale?t.maxScale:0,opacity:null!=t.opacity?t.opacity:1,visible:null==t.visible||!!t.visible}}function w(t){return t?{baseLayers:_(t.baseMapLayers.filter((t=>!t.isReference))),referenceLayers:_(t.baseMapLayers.filter((t=>t.isReference)))}:null}function _(t){return t.map((t=>function(t){let e;switch(t.layerType){case"VectorTileLayer":e="vector-tile";break;case"ArcGISTiledMapServiceLayer":e="tile";break;default:e="unknown"}return{type:e,url:M(t.templateUrl||t.urlTemplate||t.styleUrl||t.url),minScale:null!=t.minScale?t.minScale:0,maxScale:null!=t.maxScale?t.maxScale:0,opacity:null!=t.opacity?t.opacity:1,visible:null==t.visibility||!!t.visibility}}(t)))}function k(t,e,r){return null!=t!=(null!=e)?"not-equal":t?S(t.baseLayers,e.baseLayers)?S(t.referenceLayers,e.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function S(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!x(t[r],e[r]))return!1;return!0}function x(t,e){return t.type===e.type&&t.url===e.url&&t.minScale===e.minScale&&t.maxScale===e.maxScale&&t.visible===e.visible&&t.opacity===e.opacity}function M(t){return t?Object(o.C)(t).replace(/^\s*https?:/i,"").toLowerCase():""}},671:function(t,e,r){"use strict";function n(t){return t&&"getAtOrigin"in t&&"originOf"in t}r.d(e,"a",(function(){return n}))},704:function(t,e,r){"use strict";function n(t,e){if(!i(t,e)){const r=t.typeKeywords;r?r.push(e):t.typeKeywords=[e]}}function i(t,e){return!!t.typeKeywords&&t.typeKeywords.indexOf(e)>-1}function o(t,e){const r=t.typeKeywords;if(r){const t=r.indexOf(e);t>-1&&r.splice(t,1)}}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o}))},722:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(131),i=(r(129),r(130)),o=(r(137),r(134)),a=r(133),s=(r(132),r(135),r(136),r(142)),l=r(160),c=r(335),u=r(226);function d(t){return t&&"group"===t.type}function h(t,e,r){let n,i;if(t)for(let o=0,a=t.length;o<a;o++){if(n=t.getItemAt(o),n[e]===r)return n;if(d(n)&&(i=h(n.layers,e,r),i))return i}}const p=i.a.getLogger("esri.support.LayersMixin"),f=t=>{let e=class extends t{constructor(...t){super(...t),this.layers=new l.a;const e=t=>{t.parent=this,this.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||p.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as an operational layer and will therefore be ignored.`)},r=t=>{t.parent=null,this.layerRemoved(t)};this.layers.on("before-add",(t=>(t=>{t.parent&&"remove"in t.parent&&t.parent.remove(t)})(t.item))),this.layers.on("after-add",(t=>e(t.item))),this.layers.on("after-remove",(t=>r(t.item)))}destroy(){const t=this.layers.removeAll();for(const e of t)this.layerRemoved(e),e.destroy();this.layers.destroy()}set layers(t){this._set("layers",Object(c.b)(t,this._get("layers")))}add(t,e){const r=this.layers;e=r.getNextIndex(e),t instanceof u.a?t.parent===this?this.reorder(t,e):r.add(t,e):Object(s.o)(t)?t.then((t=>{this.destroyed||this.add(t,e)})):p.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(t,e){const r=this.layers;e=r.getNextIndex(e),t.slice().forEach((t=>{t.parent!==this?(r.add(t,e),e+=1):this.reorder(t,e)}))}findLayerById(t){return h(this.layers,"id",t)}findLayerByUid(t){return h(this.layers,"uid",t)}remove(t){return this.layers.remove(t)}removeMany(t){return this.layers.removeMany(t)}removeAll(){return this.layers.removeAll()}reorder(t,e){return this.layers.reorder(t,e)}layerAdded(t){}layerRemoved(t){}};return Object(n.a)([Object(o.b)()],e.prototype,"layers",null),e=Object(n.a)([Object(a.a)("esri.support.LayersMixin")],e),e}},723:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r(131),i=(r(129),r(130)),o=(r(137),r(134)),a=r(133),s=(r(132),r(135),r(136),r(160)),l=r(335);const c="esri.support.TablesMixin",u=i.a.getLogger(c);function d(t){return t&&"group"===t.type}function h(t,e,r){if(t)for(let n=0,i=t.length;n<i;n++){const i=t.getItemAt(n);if(i[e]===r)return i;if(d(i)){const t=h(i.tables,e,r);if(t)return t}}}const p=t=>{let e=class extends t{constructor(...t){super(...t),this.tables=new s.a,this.tables.on("after-add",(t=>{const e=t.item;e.parent&&e.parent!==this&&"tables"in e.parent&&e.parent.tables.remove(e),e.parent=this,"feature"!==e.type&&u.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set("tables",Object(l.b)(t,this._get("tables")))}findTableById(t){return h(this.tables,"id",t)}findTableByUid(t){return h(this.tables,"uid",t)}};return Object(n.a)([Object(o.b)()],e.prototype,"tables",null),e=Object(n.a)([Object(a.a)(c)],e),e}},724:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(671);function i(t){t&&t.writtenProperties&&t.writtenProperties.forEach((t=>{const e=t.target;t.newOrigin&&t.oldOrigin!==t.newOrigin&&Object(n.a)(e)&&e.updateOrigin(t.propName,t.newOrigin)}))}},817:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=(r(130),r(137),r(134)),s=r(133),l=(r(132),r(135),r(136),r(139)),c=r(157);let u=n=class extends l.a{constructor(t){super(t),this.color=new c.a([0,0,0,1])}clone(){return new n(Object(o.a)({color:this.color}))}};Object(i.a)([Object(a.b)({type:c.a,json:{write:!0}})],u.prototype,"color",void 0),u=n=Object(i.a)([Object(s.a)("esri.webmap.background.ColorBackground")],u);var d=u;e.a=d},854:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(130),r(137),r(134)),a=r(133),s=(r(132),r(135),r(136),r(139));let l=n=class extends s.a{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new n({url:this.url})}};Object(i.a)([Object(o.b)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"url",void 0),l=n=Object(i.a)([Object(a.a)("esri.webdoc.support.Thumbnail")],l);var c=l;e.a=c},907:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(130)),a=r(134),s=r(170),l=r(133),c=(r(132),r(135),r(136),r(146)),u=r(175),d=r(609),h=r(230),p=r(141),f=r(137),b=r(143),m=r(140),y=r(142),g=r(139),O=r(160),v=r(157),j=r(345),w=r(335),_=r(205),k=r(512),S=r(155);let x=n=class extends g.a{constructor(t){super(t),this.type="none"}clone(){return new n({type:this.type})}};var M;Object(i.a)([Object(S.a)({none:"none",stayAbove:"stay-above"})],x.prototype,"type",void 0),x=n=Object(i.a)([Object(l.a)("esri.ground.NavigationConstraint")],x);const I=o.a.getLogger("esri.Ground");let A=M=class extends(Object(g.b)(_.a)){constructor(t){super(t),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new O.a;const e=t=>{t.parent&&t.parent!==this&&"remove"in t.parent&&t.parent.remove(t),t.parent=this,"elevation"!==t.type&&"base-elevation"!==t.type&&I.error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",(t=>e(t.item))),this.layers.on("after-remove",(t=>(t=>{t.parent=null})(t.item)))}initialize(){this.when().catch((t=>{I.error("#load()","Failed to load ground",t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const e of t)e.destroy();this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set layers(t){this._set("layers",Object(w.b)(t,this._get("layers")))}writeLayers(t,e,r,n){const i=[];t?(n={...n,layerContainerType:"ground"},t.forEach((t=>{if("write"in t){const e={};Object(h.b)(t)().write(e,n)&&i.push(e)}else n&&n.messages&&n.messages.push(new m.a("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted in the ground`,{layer:t}))})),e.layers=i):e.layers=i}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return Object(k.a)(this,(t=>{t(this.layers)}))}async queryElevation(t,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:n}=await Promise.all([r.e(10),r.e(44)]).then(r.bind(null,1092));Object(y.u)(e);const i=new n,o=this.layers.filter(E).toArray();return i.queryAll(o,t,e)}async createElevationSampler(t,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:n}=await Promise.all([r.e(10),r.e(44)]).then(r.bind(null,1092));Object(y.u)(e);const i=new n,o=this.layers.filter(E).toArray();return i.createSamplerAll(o,t,e)}clone(){const t={opacity:this.opacity,surfaceColor:Object(p.a)(this.surfaceColor),navigationConstraint:Object(p.a)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new M({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve(null)}_loadLayersFromJSON(t,e,n){const i=e&&e.origin||"web-scene",o=e&&e.portal||null,a=e&&e.url||null;return r.e(45).then(r.bind(null,913)).then((({populateOperationalLayers:e})=>{Object(y.u)(n);const r=[];if(t.layers&&Array.isArray(t.layers)){const n={context:{origin:i,url:a,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};r.push(e(this.layers,t.layers,n))}return Object(y.j)(r)})).then((()=>{}))}};function E(t){return"elevation"===t.type||function(t){return t&&"createElevationSampler"in t}(t)}Object(i.a)([Object(a.b)({json:{read:!1}})],A.prototype,"layers",null),Object(i.a)([Object(b.a)("layers")],A.prototype,"writeLayers",null),Object(i.a)([Object(a.b)({readOnly:!0})],A.prototype,"resourceInfo",void 0),Object(i.a)([Object(a.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:f.a,read:{reader:j.b,source:"transparency"},write:{writer:(t,e)=>{e.transparency=Object(j.a)(t)},target:"transparency"}}})],A.prototype,"opacity",void 0),Object(i.a)([Object(a.b)({type:v.a,json:{type:[f.a],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],A.prototype,"surfaceColor",void 0),Object(i.a)([Object(a.b)({type:x,json:{write:!0}})],A.prototype,"navigationConstraint",void 0),A=M=Object(i.a)([Object(l.a)("esri.Ground")],A);var T=A,P=r(548),C=r(656);const N=o.a.getLogger("esri.support.groundUtils"),R={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var D=r(722),B=r(723);const F=o.a.getLogger("esri.Map");let U=class extends(Object(B.a)(Object(D.a)(u.a.EventedMixin(c.a)))){constructor(t){super(t),this.allLayers=new P.a({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:t=>t.layers}),this.allTables=this._createTablesFlattener(this),this.basemap=null,this.ground=new T,this._basemapCache=Object(C.b)()}destroy(){var t,e;this.allLayers.destroy(),this.allTables.destroy(),null==(t=this.ground)||t.destroy(),null==(e=this.basemap)||e.destroy(),Object(C.c)(this._basemapCache),this._basemapCache=null}castBasemap(t){return Object(C.d)(t,this._basemapCache)}castGround(t){return function(t){let e;"string"==typeof t?t in R?e=new T({resourceInfo:{data:{layers:[R[t]]}}}):N.warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`):e=Object(f.m)(T,t);return e}(t)||(F.error("Map.ground may not be set to null or undefined"),this._get("ground"))}findLayerById(t){return this.allLayers.find((e=>e.id===t))}findTableById(t){return this.allTables.find((e=>e.id===t))}_createTablesFlattener(t){return new P.a({root:t,rootCollectionNames:["tables","layers"],getChildrenFunction:t=>t&&"group"===t.type?this._createTablesFlattener(t):null,itemFilterFunction:t=>this._isMapOrGroupLayer(t.parent)&&t.parent.tables.includes(t)})}_isMapOrGroupLayer(t){return t&&(t===this||this._isGroupLayer(t))}_isGroupLayer(t){return t&&"group"===t.type}};Object(i.a)([Object(a.b)({readOnly:!0,dependsOn:[]})],U.prototype,"allLayers",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],U.prototype,"allTables",void 0),Object(i.a)([Object(a.b)({type:d.default})],U.prototype,"basemap",void 0),Object(i.a)([Object(s.a)("basemap")],U.prototype,"castBasemap",null),Object(i.a)([Object(a.b)({type:T,nonNullable:!0})],U.prototype,"ground",void 0),Object(i.a)([Object(s.a)("ground")],U.prototype,"castGround",null),U=Object(i.a)([Object(l.a)("esri.Map")],U);var G=U;e.a=G},925:function(t,e,r){"use strict";var n,i=r(131),o=(r(129),r(141)),a=r(138),s=r(130),l=r(137),c=r(134),u=r(170),d=r(342),h=r(145),p=r(133),f=r(140),b=(r(132),r(135),r(136),r(139)),m=r(149),y=r(253),g=r(557),O=r(854);const v="esri.webmap.Bookmark",j=s.a.getLogger(v);let w=n=class extends(Object(y.a)(b.a)){constructor(t){super(t),this.name=null,this.thumbnail=new O.a}set extent(t){Object(d.c)(j,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new g.a({targetGeometry:t.clone()})),this._set("extent",t)}castThumbnail(t){return"string"==typeof t?new O.a({url:t}):Object(l.m)(O.a,t)}set viewpoint(t){const e=t.targetGeometry;if(Object(a.j)(e)||"extent"!==e.type){const e=new f.a("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:t});j.error(e)}else this._set("extent",e.clone()),this._set("viewpoint",t)}readViewpoint(t,e){const{extent:r,viewpoint:n}=e;return g.a.fromJSON(n||{targetGeometry:r})}clone(){return new n(Object(o.a)({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))}};Object(i.a)([Object(c.b)({type:m.a,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],w.prototype,"extent",null),Object(i.a)([Object(c.b)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],w.prototype,"name",void 0),Object(i.a)([Object(c.b)({type:O.a,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],w.prototype,"thumbnail",void 0),Object(i.a)([Object(u.a)("thumbnail")],w.prototype,"castThumbnail",null),Object(i.a)([Object(c.b)({type:g.a,nonNullable:!0,json:{write:!0}})],w.prototype,"viewpoint",null),Object(i.a)([Object(h.a)("viewpoint",["extent","viewpoint"])],w.prototype,"readViewpoint",null),w=n=Object(i.a)([Object(p.a)(v)],w);var _=w;e.a=_},992:function(t,e,r){"use strict";function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){i(t,e,r[e])}))}return t}function s(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function l(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),h=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),b={capture:!1,passive:!1};function m(t,e,r){t.addEventListener(e,r,!c&&b)}function y(t,e,r){t.removeEventListener(e,r,!c&&b)}function g(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(r){return!1}return!1}}function O(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function v(t,e,r,n){if(t){r=r||document;do{if(null!=e&&(">"===e[0]?t.parentNode===r&&g(t,e):g(t,e))||n&&t===r)return t;if(t===r)break}while(t=O(t))}return null}var j,w=/\s+/g;function _(t,e,r){if(t&&e)if(t.classList)t.classList[r?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," ");t.className=(n+(r?" "+e:"")).replace(w," ")}}function k(t,e,r){var n=t&&t.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(r=t.currentStyle),void 0===e?r:r[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=r+("string"===typeof r?"":"px")}}function S(t,e){var r="";if("string"===typeof t)r=t;else do{var n=k(t,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function x(t,e,r){if(t){var n=t.getElementsByTagName(e),i=0,o=n.length;if(r)for(;i<o;i++)r(n[i],i);return n}return[]}function M(){var t=document.scrollingElement;return t||document.documentElement}function I(t,e,r,n,i){if(t.getBoundingClientRect||t===window){var o,a,s,l,u,d,h;if(t!==window&&t.parentNode&&t!==M()?(a=(o=t.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,d=o.height,h=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||r)&&t!==window&&(i=i||t.parentNode,!c))do{if(i&&i.getBoundingClientRect&&("none"!==k(i,"transform")||r&&"static"!==k(i,"position"))){var p=i.getBoundingClientRect();a-=p.top+parseInt(k(i,"border-top-width")),s-=p.left+parseInt(k(i,"border-left-width")),l=a+o.height,u=s+o.width;break}}while(i=i.parentNode);if(n&&t!==window){var f=S(i||t),b=f&&f.a,m=f&&f.d;f&&(l=(a/=m)+(d/=m),u=(s/=b)+(h/=b))}return{top:a,left:s,bottom:l,right:u,width:h,height:d}}}function A(t,e,r){for(var n=N(t,!0),i=I(t)[e];n;){var o=I(n)[r];if(!("top"===r||"left"===r?i>=o:i<=o))return n;if(n===M())break;n=N(n,!1)}return!1}function E(t,e,r){for(var n=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Bt.ghost&&o[i]!==Bt.dragged&&v(o[i],r.draggable,t,!1)){if(n===e)return o[i];n++}i++}return null}function T(t,e){for(var r=t.lastElementChild;r&&(r===Bt.ghost||"none"===k(r,"display")||e&&!g(r,e));)r=r.previousElementSibling;return r||null}function P(t,e){var r=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!g(t,e)||r++;return r}function C(t){var e=0,r=0,n=M();if(t)do{var i=S(t),o=i.a,a=i.d;e+=t.scrollLeft*o,r+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,r]}function N(t,e){if(!t||!t.getBoundingClientRect)return M();var r=t,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=k(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return M();if(n||e)return r;n=!0}}}while(r=r.parentNode);return M()}function R(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function D(t,e){return function(){if(!j){var r=arguments,n=this;1===r.length?t.call(n,r[0]):t.apply(n,r),j=setTimeout((function(){j=void 0}),e)}}}function B(t,e,r){t.scrollLeft+=e,t.scrollTop+=r}function F(t){var e=window.Polymer,r=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):r?r(t).clone(!0)[0]:t.cloneNode(!0)}var U="Sortable"+(new Date).getTime();function G(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==k(t,"display")&&t!==Bt.ghost){e.push({target:t,rect:I(t)});var r=a({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=S(t,!0);n&&(r.top-=n.f,r.left-=n.e)}t.fromRect=r}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var r in t)if(t.hasOwnProperty(r))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[r][n])return Number(r);return-1}(e,{target:t}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof r&&r());var i=!1,o=0;e.forEach((function(t){var e=0,r=t.target,a=r.fromRect,s=I(r),l=r.prevFromRect,c=r.prevToRect,u=t.rect,d=S(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&R(l,s)&&!R(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,r,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))*n.animation}(u,l,c,n.options)),R(s,a)||(r.prevFromRect=a,r.prevToRect=s,e||(e=n.options.animation),n.animate(r,u,s,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),e),r.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"===typeof r&&r()}),o):"function"===typeof r&&r(),e=[]},animate:function(t,e,r,n){if(n){k(t,"transition",""),k(t,"transform","");var i=S(this.el),o=i&&i.a,a=i&&i.d,s=(e.left-r.left)/(o||1),l=(e.top-r.top)/(a||1);t.animatingX=!!s,t.animatingY=!!l,k(t,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),k(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),k(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){k(t,"transition",""),k(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),n)}}}}var L=[],z={initializeByDefault:!0},q={mount:function(t){for(var e in z)z.hasOwnProperty(e)&&!(e in t)&&(t[e]=z[e]);L.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),L.push(t)},pluginEvent:function(t,e,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var i=t+"Global";L.forEach((function(n){e[n.pluginName]&&(e[n.pluginName][i]&&e[n.pluginName][i](a({sortable:e},r)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](a({sortable:e},r)))}))},initializePlugins:function(t,e,r,n){for(var i in L.forEach((function(n){var i=n.pluginName;if(t.options[i]||n.initializeByDefault){var a=new n(t,e,t.options);a.sortable=t,a.options=t.options,t[i]=a,o(r,a.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);"undefined"!==typeof a&&(t.options[i]=a)}},getEventProperties:function(t,e){var r={};return L.forEach((function(n){"function"===typeof n.eventProperties&&o(r,n.eventProperties.call(e[n.pluginName],t))})),r},modifyOption:function(t,e,r){var n;return L.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[e]&&(n=i.optionListeners[e].call(t[i.pluginName],r))})),n}};function W(t){var e=t.sortable,r=t.rootEl,n=t.name,i=t.targetEl,o=t.cloneEl,s=t.toEl,l=t.fromEl,d=t.oldIndex,h=t.newIndex,p=t.oldDraggableIndex,f=t.newDraggableIndex,b=t.originalEvent,m=t.putSortable,y=t.extraEventProperties;if(e=e||r&&r[U]){var g,O=e.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||u?(g=document.createEvent("Event")).initEvent(n,!0,!0):g=new CustomEvent(n,{bubbles:!0,cancelable:!0}),g.to=s||r,g.from=l||r,g.item=i||r,g.clone=o,g.oldIndex=d,g.newIndex=h,g.oldDraggableIndex=p,g.newDraggableIndex=f,g.originalEvent=b,g.pullMode=m?m.lastPutMode:void 0;var j=a({},y,q.getEventProperties(n,e));for(var w in j)g[w]=j[w];r&&r.dispatchEvent(g),O[v]&&O[v].call(e,g)}}var J=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.evt,i=s(r,["evt"]);q.pluginEvent.bind(Bt)(t,e,a({dragEl:$,parentEl:H,ghostEl:Z,rootEl:Y,nextEl:X,lastDownEl:Q,cloneEl:K,cloneHidden:tt,dragStarted:pt,putSortable:at,activeSortable:Bt.active,originalEvent:n,oldIndex:et,oldDraggableIndex:nt,newIndex:rt,newDraggableIndex:it,hideGhostForTarget:Ct,unhideGhostForTarget:Nt,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(t){V({sortable:e,name:t,originalEvent:n})}},i))};function V(t){W(a({putSortable:at,cloneEl:K,targetEl:$,rootEl:Y,oldIndex:et,oldDraggableIndex:nt,newIndex:rt,newDraggableIndex:it},t))}var $,H,Z,Y,X,Q,K,tt,et,rt,nt,it,ot,at,st,lt,ct,ut,dt,ht,pt,ft,bt,mt,yt,gt=!1,Ot=!1,vt=[],jt=!1,wt=!1,_t=[],kt=!1,St=[],xt="undefined"!==typeof document,Mt=p,It=u||c?"cssFloat":"float",At=xt&&!f&&!p&&"draggable"in document.createElement("div"),Et=function(){if(xt){if(c)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Tt=function(t,e){var r=k(t),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=E(t,0,e),o=E(t,1,e),a=i&&k(i),s=o&&k(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(o).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===r[It]||o&&"none"===r[It]&&l+c>n)?"vertical":"horizontal"},Pt=function(t){function e(t,r){return function(n,i,o,a){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==t&&(r||s))return!0;if(null==t||!1===t)return!1;if(r&&"clone"===t)return t;if("function"===typeof t)return e(t(n,i,o,a),r)(n,i,o,a);var l=(r?n:i).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var r={},i=t.group;i&&"object"==n(i)||(i={name:i}),r.name=i.name,r.checkPull=e(i.pull,!0),r.checkPut=e(i.put),r.revertClone=i.revertClone,t.group=r},Ct=function(){!Et&&Z&&k(Z,"display","none")},Nt=function(){!Et&&Z&&k(Z,"display","")};xt&&document.addEventListener("click",(function(t){if(Ot)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ot=!1,!1}),!0);var Rt=function(t){if($){var e=function(t,e){var r;return vt.some((function(n){if(!T(n)){var i=I(n),o=n[U].options.emptyInsertThreshold,a=t>=i.left-o&&t<=i.right+o,s=e>=i.top-o&&e<=i.bottom+o;return o&&a&&s?r=n:void 0}})),r}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.target=r.rootEl=e,r.preventDefault=void 0,r.stopPropagation=void 0,e[U]._onDragOver(r)}}},Dt=function(t){$&&$.parentNode[U]._isOutsideThisEl(t.target)};function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[U]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Tt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var n in q.initializePlugins(this,t,r),r)!(n in e)&&(e[n]=r[n]);for(var i in Pt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&At,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?m(t,"pointerdown",this._onTapStart):(m(t,"mousedown",this._onTapStart),m(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(t,"dragover",this),m(t,"dragenter",this)),vt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,G())}function Ft(t,e,r,n,i,o,a,s){var l,d,h=t[U],p=h.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=r,l.draggedRect=n,l.related=i||e,l.relatedRect=o||I(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),p&&(d=p.call(h,l,a)),d}function Ut(t){t.draggable=!1}function Gt(){kt=!1}function Lt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,r=e.length,n=0;r--;)n+=e.charCodeAt(r);return n.toString(36)}function zt(t){return setTimeout(t,0)}function qt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ft=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,$):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,r=this.el,n=this.options,i=n.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=n.filter;if(function(t){St.length=0;var e=t.getElementsByTagName("input"),r=e.length;for(;r--;){var n=e[r];n.checked&&St.push(n)}}(r),!$&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!h||!s||"SELECT"!==s.tagName.toUpperCase())&&(!(s=v(s,n.draggable,r,!1))||!s.animated)&&Q!==s){if(et=P(s),nt=P(s,n.draggable),"function"===typeof c){if(c.call(this,t,s,this))return V({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:r,fromEl:r}),J("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=v(l,n.trim(),r,!1))return V({sortable:e,rootEl:n,name:"filter",targetEl:s,fromEl:r,toEl:r}),J("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());n.handle&&!v(l,n.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,r){var n,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(r&&!$&&r.parentNode===o){var l=I(r);if(Y=o,H=($=r).parentNode,X=$.nextSibling,Q=r,ot=a.group,Bt.dragged=$,st={target:$,clientX:(e||t).clientX,clientY:(e||t).clientY},dt=st.clientX-l.left,ht=st.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,$.style["will-change"]="all",n=function(){J("delayEnded",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!d&&i.nativeDraggable&&($.draggable=!0),i._triggerDragStart(t,e),V({sortable:i,name:"choose",originalEvent:t}),_($,a.chosenClass,!0))},a.ignore.split(",").forEach((function(t){x($,t.trim(),Ut)})),m(s,"dragover",Rt),m(s,"mousemove",Rt),m(s,"touchmove",Rt),m(s,"mouseup",i._onDrop),m(s,"touchend",i._onDrop),m(s,"touchcancel",i._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),J("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(u||c))n();else{if(Bt.eventCanceled)return void this._onDrop();m(s,"mouseup",i._disableDelayedDrag),m(s,"touchend",i._disableDelayedDrag),m(s,"touchcancel",i._disableDelayedDrag),m(s,"mousemove",i._delayedDragTouchMoveHandler),m(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&m(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&Ut($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,e?"touchmove":"mousemove",this._onTouchMove):(m($,"dragend",this),m(Y,"dragstart",this._onDragStart));try{document.selection?zt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(t,e){if(gt=!1,Y&&$){J("dragStarted",this,{evt:e}),this.nativeDraggable&&m(document,"dragover",Dt);var r=this.options;!t&&_($,r.dragClass,!1),_($,r.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(lt){this._lastX=lt.clientX,this._lastY=lt.clientY,Ct();for(var t=document.elementFromPoint(lt.clientX,lt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(lt.clientX,lt.clientY))!==e;)e=t;if($.parentNode[U]._isOutsideThisEl(t),e)do{if(e[U]){if(e[U]._onDragOver({clientX:lt.clientX,clientY:lt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Nt()}},_onTouchMove:function(t){if(st){var e=this.options,r=e.fallbackTolerance,n=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=Z&&S(Z,!0),a=Z&&o&&o.a,s=Z&&o&&o.d,l=Mt&&yt&&C(yt),c=(i.clientX-st.clientX+n.x)/(a||1)+(l?l[0]-_t[0]:0)/(a||1),u=(i.clientY-st.clientY+n.y)/(s||1)+(l?l[1]-_t[1]:0)/(s||1);if(!Bt.active&&!gt){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Z){o?(o.e+=c-(ct||0),o.f+=u-(ut||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");k(Z,"webkitTransform",d),k(Z,"mozTransform",d),k(Z,"msTransform",d),k(Z,"transform",d),ct=c,ut=u,lt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:Y,e=I($,!0,Mt,!0,t),r=this.options;if(Mt){for(yt=t;"static"===k(yt,"position")&&"none"===k(yt,"transform")&&yt!==document;)yt=yt.parentNode;yt!==document.body&&yt!==document.documentElement?(yt===document&&(yt=M()),e.top+=yt.scrollTop,e.left+=yt.scrollLeft):yt=M(),_t=C(yt)}_(Z=$.cloneNode(!0),r.ghostClass,!1),_(Z,r.fallbackClass,!0),_(Z,r.dragClass,!0),k(Z,"transition",""),k(Z,"transform",""),k(Z,"box-sizing","border-box"),k(Z,"margin",0),k(Z,"top",e.top),k(Z,"left",e.left),k(Z,"width",e.width),k(Z,"height",e.height),k(Z,"opacity","0.8"),k(Z,"position",Mt?"absolute":"fixed"),k(Z,"zIndex","100000"),k(Z,"pointerEvents","none"),Bt.ghost=Z,t.appendChild(Z),k(Z,"transform-origin",dt/parseInt(Z.style.width)*100+"% "+ht/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(t,e){var r=this,n=t.dataTransfer,i=r.options;J("dragStart",this,{evt:t}),Bt.eventCanceled?this._onDrop():(J("setupClone",this),Bt.eventCanceled||((K=F($)).draggable=!1,K.style["will-change"]="",this._hideClone(),_(K,this.options.chosenClass,!1),Bt.clone=K),r.cloneId=zt((function(){J("clone",r),Bt.eventCanceled||(r.options.removeCloneOnHide||Y.insertBefore(K,$),r._hideClone(),V({sortable:r,name:"clone"}))})),!e&&_($,i.dragClass,!0),e?(Ot=!0,r._loopId=setInterval(r._emulateDragOver,50)):(y(document,"mouseup",r._onDrop),y(document,"touchend",r._onDrop),y(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(r,n,$)),m(document,"drop",r),k($,"transform","translateZ(0)")),gt=!0,r._dragStartId=zt(r._dragStarted.bind(r,e,t)),m(document,"selectstart",r),pt=!0,h&&k(document.body,"user-select","none"))},_onDragOver:function(t){var e,r,n,i,o=this.el,s=t.target,l=this.options,c=l.group,u=Bt.active,d=ot===c,h=l.sort,p=at||u,f=this,b=!1;if(!kt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=v(s,l.draggable,o,!0),D("dragOver"),Bt.eventCanceled)return b;if($.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return G(!1);if(Ot=!1,u&&!l.disabled&&(d?h||(n=!Y.contains($)):at===this||(this.lastPutMode=ot.checkPull(this,u,$,t))&&c.checkPut(this,u,$,t))){if(i="vertical"===this._getDirection(t,s),e=I($),D("dragOverValid"),Bt.eventCanceled)return b;if(n)return H=Y,F(),this._hideClone(),D("revert"),Bt.eventCanceled||(X?Y.insertBefore($,X):Y.appendChild($)),G(!0);var m=T(o,l.draggable);if(!m||function(t,e,r){var n=I(T(r.el,r.options.draggable)),i=10;return e?t.clientX>n.right+i||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+i}(t,i,this)&&!m.animated){if(m===$)return G(!1);if(m&&o===t.target&&(s=m),s&&(r=I(s)),!1!==Ft(Y,o,$,e,s,r,t,!!s))return F(),o.appendChild($),H=o,L(),G(!0)}else if(s.parentNode===o){r=I(s);var y,g,O,j=$.parentNode!==o,w=!function(t,e,r){var n=r?t.left:t.top,i=r?t.right:t.bottom,o=r?t.width:t.height,a=r?e.left:e.top,s=r?e.right:e.bottom,l=r?e.width:e.height;return n===a||i===s||n+o/2===a+l/2}($.animated&&$.toRect||e,s.animated&&s.toRect||r,i),S=i?"top":"left",x=A(s,"top","top")||A($,"top","top"),M=x?x.scrollTop:void 0;if(ft!==s&&(g=r[S],jt=!1,wt=!w&&l.invertSwap||j),0!==(y=function(t,e,r,n,i,o,a,s){var l=n?t.clientY:t.clientX,c=n?r.height:r.width,u=n?r.top:r.left,d=n?r.bottom:r.right,h=!1;if(!a)if(s&&mt<c*i){if(!jt&&(1===bt?l>u+c*o/2:l<d-c*o/2)&&(jt=!0),jt)h=!0;else if(1===bt?l<u+mt:l>d-mt)return-bt}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(t){return P($)<P(t)?1:-1}(e);if((h=h||a)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(t,s,r,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,wt,ft===s))){var E=P($);do{E-=y,O=H.children[E]}while(O&&("none"===k(O,"display")||O===Z))}if(0===y||O===s)return G(!1);ft=s,bt=y;var C=s.nextElementSibling,N=!1,R=Ft(Y,o,$,e,s,r,t,N=1===y);if(!1!==R)return 1!==R&&-1!==R||(N=1===R),kt=!0,setTimeout(Gt,30),F(),N&&!C?o.appendChild($):s.parentNode.insertBefore($,N?C:s),x&&B(x,0,M-x.scrollTop),H=$.parentNode,void 0===g||wt||(mt=Math.abs(g-I(s)[S])),L(),G(!0)}if(o.contains($))return G(!1)}return!1}function D(l,c){J(l,f,a({evt:t,isOwner:d,axis:i?"vertical":"horizontal",revert:n,dragRect:e,targetRect:r,canSort:h,fromSortable:p,target:s,completed:G,onMove:function(r,n){return Ft(Y,o,$,e,r,I(r),t,n)},changed:L},c))}function F(){D("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function G(e){return D("dragOverCompleted",{insertion:e}),e&&(d?u._hideClone():u._showClone(f),f!==p&&(_($,at?at.options.ghostClass:u.options.ghostClass,!1),_($,l.ghostClass,!0)),at!==f&&f!==Bt.active?at=f:f===Bt.active&&at&&(at=null),p===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){D("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===$&&!$.animated||s===o&&!s.animated)&&(ft=null),l.dragoverBubble||t.rootEl||s===document||($.parentNode[U]._isOutsideThisEl(t.target),!e&&Rt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function L(){rt=P($),it=P($,l.draggable),V({sortable:f,name:"change",toEl:o,newIndex:rt,newDraggableIndex:it,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Rt),y(document,"mousemove",Rt),y(document,"touchmove",Rt)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,r=this.options;rt=P($),it=P($,r.draggable),J("drop",this,{evt:t}),H=$&&$.parentNode,rt=P($),it=P($,r.draggable),Bt.eventCanceled||(gt=!1,wt=!1,jt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qt(this.cloneId),qt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&k(document.body,"user-select",""),k($,"transform",""),t&&(pt&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(Y===H||at&&"clone"!==at.lastPutMode)&&K&&K.parentNode&&K.parentNode.removeChild(K),$&&(this.nativeDraggable&&y($,"dragend",this),Ut($),$.style["will-change"]="",pt&&!gt&&_($,at?at.options.ghostClass:this.options.ghostClass,!1),_($,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:t}),Y!==H?(rt>=0&&(V({rootEl:H,name:"add",toEl:H,fromEl:Y,originalEvent:t}),V({sortable:this,name:"remove",toEl:H,originalEvent:t}),V({rootEl:H,name:"sort",toEl:H,fromEl:Y,originalEvent:t}),V({sortable:this,name:"sort",toEl:H,originalEvent:t})),at&&at.save()):rt!==et&&rt>=0&&(V({sortable:this,name:"update",toEl:H,originalEvent:t}),V({sortable:this,name:"sort",toEl:H,originalEvent:t})),Bt.active&&(null!=rt&&-1!==rt||(rt=et,it=nt),V({sortable:this,name:"end",toEl:H,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){J("nulling",this),Y=$=H=Z=X=K=Q=tt=st=lt=pt=rt=it=et=nt=ft=bt=at=ot=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,St.forEach((function(t){t.checked=!0})),St.length=ct=ut=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],r=this.el.children,n=0,i=r.length,o=this.options;n<i;n++)v(t=r[n],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Lt(t));return e},sort:function(t,e){var r={},n=this.el;this.toArray().forEach((function(t,e){var i=n.children[e];v(i,this.options.draggable,n,!1)&&(r[t]=i)}),this),e&&this.captureAnimationState(),t.forEach((function(t){r[t]&&(n.removeChild(r[t]),n.appendChild(r[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return v(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var r=this.options;if(void 0===e)return r[t];var n=q.modifyOption(this,t,e);r[t]="undefined"!==typeof n?n:e,"group"===t&&Pt(r)},destroy:function(){J("destroy",this);var t=this.el;t[U]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),vt.splice(vt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!tt){if(J("hideClone",this),Bt.eventCanceled)return;k(K,"display","none"),this.options.removeCloneOnHide&&K.parentNode&&K.parentNode.removeChild(K),tt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(tt){if(J("showClone",this),Bt.eventCanceled)return;$.parentNode!=Y||this.options.group.revertClone?X?Y.insertBefore(K,X):Y.appendChild(K):Y.insertBefore(K,$),this.options.group.revertClone&&this.animate($,K),k(K,"display",""),tt=!1}}else this._hideClone()}},xt&&m(document,"touchmove",(function(t){(Bt.active||gt)&&t.cancelable&&t.preventDefault()})),Bt.utils={on:m,off:y,css:k,find:x,is:function(t,e){return!!v(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},throttle:D,closest:v,toggleClass:_,clone:F,index:P,nextTick:zt,cancelNextTick:qt,detectDirection:Tt,getChild:E},Bt.get=function(t){return t[U]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Bt.utils=a({},Bt.utils,t.utils)),q.mount(t)}))},Bt.create=function(t,e){return new Bt(t,e)},Bt.version="1.13.0";var Wt,Jt,Vt,$t,Ht,Zt,Yt=[],Xt=!1;function Qt(){Yt.forEach((function(t){clearInterval(t.pid)})),Yt=[]}function Kt(){clearInterval(Zt)}var te=D((function(t,e,r,n){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=M(),u=!1;Jt!==r&&(Jt=r,Qt(),Wt=e.scroll,i=e.scrollFn,!0===Wt&&(Wt=N(r,!0)));var d=0,h=Wt;do{var p=h,f=I(p),b=f.top,m=f.bottom,y=f.left,g=f.right,O=f.width,v=f.height,j=void 0,w=void 0,_=p.scrollWidth,S=p.scrollHeight,x=k(p),A=p.scrollLeft,E=p.scrollTop;p===c?(j=O<_&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),w=v<S&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(j=O<_&&("auto"===x.overflowX||"scroll"===x.overflowX),w=v<S&&("auto"===x.overflowY||"scroll"===x.overflowY));var T=j&&(Math.abs(g-o)<=s&&A+O<_)-(Math.abs(y-o)<=s&&!!A),P=w&&(Math.abs(m-a)<=s&&E+v<S)-(Math.abs(b-a)<=s&&!!E);if(!Yt[d])for(var C=0;C<=d;C++)Yt[C]||(Yt[C]={});Yt[d].vx==T&&Yt[d].vy==P&&Yt[d].el===p||(Yt[d].el=p,Yt[d].vx=T,Yt[d].vy=P,clearInterval(Yt[d].pid),0==T&&0==P||(u=!0,Yt[d].pid=setInterval(function(){n&&0===this.layer&&Bt.active._onTouchMove(Ht);var e=Yt[this.layer].vy?Yt[this.layer].vy*l:0,r=Yt[this.layer].vx?Yt[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Bt.dragged.parentNode[U],r,e,t,Ht,Yt[this.layer].el)||B(Yt[this.layer].el,r,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==c&&(h=N(h,!1)));Xt=u}}),30),ee=function(t){var e=t.originalEvent,r=t.putSortable,n=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=r||i;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function re(){}function ne(){}re.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=E(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),r&&r.animateAll()},drop:ee},o(re,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl,r=t.putSortable||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:ee},o(ne,{pluginName:"removeOnSpill"});Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):e.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),Qt(),clearTimeout(j),j=void 0},nulling:function(){Ht=Jt=Wt=Xt=Zt=Vt=$t=null,Yt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var r=this,n=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(n,i);if(Ht=t,e||u||c||h){te(t,this.options,o,e);var a=N(o,!0);!Xt||Zt&&n===Vt&&i===$t||(Zt&&Kt(),Zt=setInterval((function(){var o=N(document.elementFromPoint(n,i),!0);o!==a&&(a=o,Qt()),te(t,r.options,o,e)}),10),Vt=n,$t=i)}else{if(!this.options.bubbleScroll||N(o,!0)===M())return void Qt();te(t,this.options,N(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}),Bt.mount(ne,re),e.a=Bt}}]);
//# sourceMappingURL=71.08ef1e3a.chunk.js.map