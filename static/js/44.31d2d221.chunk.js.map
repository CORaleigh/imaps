{"version":3,"sources":["../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/core/workers/RemoteClient.js","../node_modules/@arcgis/core/core/workers/utils.js","../node_modules/@arcgis/core/core/workers/Connection.js","../node_modules/@arcgis/core/webdoc/support/opacityUtils.js","../node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","../node_modules/@arcgis/core/symbols/support/ElevationInfo.js","../node_modules/@arcgis/core/core/workers/loaderConfig.js","../node_modules/@arcgis/core/core/workers/WorkerFallback.js","../node_modules/@arcgis/core/core/workers/workerFactory.js","../node_modules/@arcgis/core/core/workers/WorkerOwner.js","../node_modules/@arcgis/core/core/workers/workers.js","../node_modules/@arcgis/core/geometry/HeightModelInfo.js","../node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","../node_modules/@arcgis/core/layers/support/LercDecoder.js","../node_modules/@arcgis/core/layers/ElevationLayer.js"],"names":["h","r","getLogger","n","constructor","e","t","s","this","_mainMethod","_listeners","_promise","o","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","error","on","i","removed","eventName","callback","threadHandle","push","remove","destroy","invoke","invokeMethod","getTransferList","transferList","signal","Promise","reject","all","promise","g","statsWorker","geometryEngineWorker","CSVSourceWorker","EdgeProcessingWorker","ElevationSamplerWorker","FeatureServiceSnappingSourceWorker","GeoJSONSourceWorker","LercWorker","MemorySourceWorker","PBFDecoderWorker","Pipeline","PointCloudWorker","RasterWorker","SceneLayerWorker","WFSSourceWorker","WorkerTileHandler","CLOSE","b","ABORT","k","INVOKE","v","RESPONSE","y","OPEN_PORT","j","ON","f","p","M","_timer","_cancelledJobIds","Set","_invokeMessages","_invoke","_process","bind","type","add","jobId","setTimeout","clear","length","has","S","_port","_outJobs","Map","_inJobs","_invokeQueue","_onInvokeMessage","_client","client","_onMessage","_channel","channel","_schedule","addEventListener","start","MessageChannel","default","port1","remoteClient","clients","set","port2","resolve","_post","_close","isBusy","size","a","methodName","data","l","c","get","delete","abortHandle","debugInfo","abortable","postMessage","eventType","port","removeEventListener","openPort","forEach","_processMessage","_onResponseMessage","_onAbortMessage","_onCloseMessage","_onOpenPortMessage","_onOnMessage","controller","abort","_","indexOf","split","TypeError","call","d","u","message","fromJSON","JSON","parse","kernelInfo","revision","version","buildDate","m","HANDSHAKE","OPEN","OPENED","stringify","name","toJSON","details","stack","result","filter","ArrayBuffer","_clients","Array","_clientPromises","_clientIdx","closed","open","getAvailableClient","race","isArray","warn","Error","map","openPorts","test","numClients","Math","max","min","expression","clone","title","String","json","write","prototype","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","super","arguments","offset","readFeatureExpressionInfo","featureExpression","value","writeFeatureExpressionInfo","mode","featureExpressionInfo","_isOverridden","_get","_override","unit","_set","apiValues","nonNullable","jsonValues","read","writer","isRequired","Number","x","document","createDocumentFragment","MutationObserver","WebKitMutationObserver","process","nextTick","createElement","shift","observe","attributes","setAttribute","MessageEvent","bubbles","cancelable","createEvent","initEvent","_dispatcher","_workerPostMessage","terminate","onmessage","_onmessageHandler","onmessageerror","_onmessageerrorHandler","onerror","_onerrorHandler","_workerMessageHandler","dispatchEvent","modulePath","loadWorker","import","connect","w","async","replace","assetsPath","request","interceptors","log","locale","workers","loaderUrl","workerPath","loaderConfig","isDebug","baseUrl","packages","concat","paths","hasOwnProperty","esriConfig","URL","createObjectURL","Blob","Worker","P","preventDefault","worker","id","_onOpenedMessage","navigator","hardwareConcurrency","strategy","maxNumWorkers","create","orthometric","gravity_related_height","ellipsoidal","slice","heightModel","heightUnit","vertCRS","writeHeightModel","readHeightModel","messages","context","readHeightUnit","readHeightUnitService","readVertCRS","ellipsoid","geoid","equals","origin","constructOnly","origins","Object","keys","sort","ref","decode","byteLength","buffer","options","release","T","copyright","heightModelInfo","path","opacity","operationalLayerType","sourceJSON","url","_lercDecoder","normalizeCtorArgs","minScale","constructed","declaredClass","maxScale","readVersion","currentVersion","load","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","toLowerCase","expectedType","_fetchImageService","fetchTile","responseType","noDataValue","returnFileInfo","_fetchTileAvailability","getTileUrl","values","pixelData","width","height","maxZError","fileInfo","minValue","maxValue","tilemapCache","supportsBlankTile","parsedUrl","query","blankTile","ElevationQuery","createSampler","fetchAvailability","ssl","hasOverriddenFetchTile","__isDefault__","source","readOnly","service"],"mappings":"kGAAA,yFAIkP,MAAMA,EAAEC,IAAEC,UAAU,kCAAkC,MAAMC,EAAEC,YAAYC,EAAEC,EAAEL,EAAEM,EAAE,IAAIC,KAAKC,YAAYH,EAAEE,KAAKE,WAAW,GAAGF,KAAKG,SAASC,YAAEP,EAAE,IAAIE,EAAEM,SAASZ,IAAIa,MAAMT,IAAI,QAAG,IAASG,KAAKO,QAAQ,CAACP,KAAKO,QAAQV,EAAEG,KAAKG,SAAS,KAAKJ,EAAES,eAAeR,KAAKS,UAAU,GAAG,cAAc,IAAI,MAAMZ,KAAKG,KAAKE,WAAWF,KAAKU,iBAAiBb,QAAQA,EAAEc,WAAWX,KAAKG,SAASS,OAAOd,GAAGN,EAAEqB,MAAO,wBAAuBhB,aAAaC,OAAOgB,GAAGrB,EAAEsB,GAAG,MAAMX,EAAE,CAACY,SAAQ,EAAGC,UAAUxB,EAAEyB,SAASH,EAAEI,aAAa,MAAM,OAAOnB,KAAKE,WAAWkB,KAAKhB,GAAGJ,KAAKU,iBAAiBN,GAAGN,aAAG,KAAKM,EAAEY,SAAQ,EAAGnB,YAAEG,KAAKE,WAAWE,GAAGJ,KAAKO,SAASR,YAAEK,EAAEe,eAAef,EAAEe,aAAaE,YAAYC,UAAUtB,KAAKO,UAAUP,KAAKO,QAAQI,QAAQX,KAAKO,QAAQ,MAAMP,KAAKG,SAAS,KAAKoB,OAAO1B,EAAEC,GAAG,OAAOE,KAAKwB,aAAaxB,KAAKC,YAAYJ,EAAEC,GAAG0B,aAAa3B,EAAEC,EAAEL,GAAG,GAAGO,KAAKO,QAAQ,CAAC,MAAMR,EAAEC,KAAKyB,gBAAgB3B,EAAED,GAAG,OAAOG,KAAKO,QAAQgB,OAAO1B,EAAEC,EAAE,CAAC4B,aAAa3B,EAAE4B,OAAOlC,IAAI,OAAOO,KAAKG,SAASH,KAAKG,SAASG,MAAM,KAAKS,YAAEtB,GAAGO,KAAKwB,aAAa3B,EAAEC,EAAEL,MAAMmC,QAAQC,OAAO,MAAMpB,UAAUZ,EAAEC,GAAG,OAAOE,KAAKO,QAAQqB,QAAQE,IAAI9B,KAAKO,QAAQE,UAAUX,EAAED,IAAIS,MAAM,SAASN,KAAKG,SAASH,KAAKG,SAASG,MAAM,IAAIN,KAAKS,UAAUZ,EAAEC,KAAK8B,QAAQC,SAAaE,cAAU,OAAO/B,KAAKG,SAASO,iBAAiBb,GAAGG,KAAKO,SAASP,KAAKO,QAAQO,GAAGjB,EAAEoB,UAAUpB,EAAEqB,UAAUZ,MAAMR,IAAID,EAAEmB,UAAUnB,EAAEsB,aAAarB,S,iCCJljD,kGAI2c,MAAMkC,EAAE,CAACC,YAAY,IAAI,gCAA+DC,qBAAqB,IAAI,sDAAiDC,gBAAgB,IAAI,sEAAmEC,qBAAqB,IAAI,gCAAgFC,uBAAuB,IAAI,8DAAqEC,mCAAmC,IAAI,8EAAqHC,oBAAoB,IAAI,8EAAuEC,WAAW,IAAI,gCAA6CC,mBAAmB,IAAI,8EAAsEC,iBAAiB,IAAI,gCAAqDC,SAAS,IAAI,6EAAqDC,iBAAiB,IAAI,sDAAoDC,aAAa,IAAI,sDAA+CC,iBAAiB,IAAI,gCAAoDC,gBAAgB,IAAI,8EAA2DC,kBAAkB,IAAI,yDAAmEC,MAAMC,EAAEC,MAAMC,EAAEC,OAAOC,EAAEC,SAASC,EAAEC,UAAUC,EAAEC,GAAGC,GAAGC,IAAE,MAAMC,EAAElE,YAAYC,GAAGG,KAAK+D,OAAO,KAAK/D,KAAKgE,iBAAiB,IAAIC,IAAIjE,KAAKkE,gBAAgB,GAAGlE,KAAKmE,QAAQtE,EAAEG,KAAK+D,OAAO,KAAK/D,KAAKoE,SAASpE,KAAKoE,SAASC,KAAKrE,MAAMoB,KAAKvB,GAAGA,EAAEyE,OAAOT,IAAEV,MAAMnD,KAAKgE,iBAAiBO,IAAI1E,EAAE2E,QAAQxE,KAAKkE,gBAAgB9C,KAAKvB,GAAG,OAAOG,KAAK+D,SAAS/D,KAAK+D,OAAOU,WAAWzE,KAAKoE,SAAS,KAAKM,QAAQ1E,KAAKkE,gBAAgBS,OAAO,EAAE3E,KAAKgE,iBAAiBU,QAAQ1E,KAAK+D,OAAO,KAAKK,WAAWpE,KAAK+D,OAAO,KAAK,IAAI,MAAMlE,KAAKG,KAAKkE,gBAAgBlE,KAAKgE,iBAAiBY,IAAI/E,EAAE2E,QAAQxE,KAAKmE,QAAQtE,GAAGG,KAAKgE,iBAAiBU,QAAQ1E,KAAKkE,gBAAgBS,OAAO,GAAG,MAAME,EAAEjF,YAAYC,EAAEE,GAAGC,KAAK8E,MAAMjF,EAAEG,KAAK+E,SAAS,IAAIC,IAAIhF,KAAKiF,QAAQ,IAAID,IAAIhF,KAAKkF,aAAa,IAAIpB,GAAGjE,GAAGG,KAAKmF,iBAAiBtF,KAAKG,KAAKoF,QAAQrF,EAAEsF,OAAOrF,KAAKsF,WAAWtF,KAAKsF,WAAWjB,KAAKrE,MAAMA,KAAKuF,SAASxF,EAAEyF,QAAQxF,KAAKyF,UAAU1F,EAAEM,SAASL,KAAK8E,MAAMY,iBAAiB,UAAU1F,KAAKsF,YAAYtF,KAAK8E,MAAMa,QAAsB,eAAC9F,GAAG,MAAME,EAAE,IAAI6F,eAAe,IAAI9F,EAAEA,EAAE,mBAAmBD,EAAE,IAAIA,EAAE,YAAYA,GAAG,mBAAmBA,EAAEgG,QAAQ,IAAIhG,EAAEgG,QAAQhG,EAAE,MAAMO,EAAE,IAAIyE,EAAE9E,EAAE+F,MAAM,CAACN,QAAQzF,EAAEsF,OAAOvF,IAAI,MAAM,iBAAiBA,GAAG,iBAAiBA,IAAIA,EAAEiG,aAAa3F,GAAGyE,EAAEmB,QAAQC,IAAI7F,EAAEN,GAAGC,EAAEmG,MAAuB,kBAACrG,GAAG,MAAME,EAAEiC,EAAEnC,GAAG,OAAOE,EAAEA,IAAI6B,QAAQuE,QAAQ,MAAMxF,QAAQX,KAAKoG,MAAM,CAAC9B,KAAKpB,IAAIlD,KAAKqG,SAASC,SAAS,OAAOtG,KAAK+E,SAASwB,KAAK,EAAEhF,OAAO1B,EAAEC,EAAEM,GAAG,MAAMT,EAAES,GAAGA,EAAEuB,OAAO6E,EAAEpG,GAAGA,EAAEsB,aAAa,IAAI1B,KAAK8E,MAAM,OAAOlD,QAAQC,OAAO,IAAI9B,IAAE,qBAAsB,uBAAsBF,sBAAsB,CAAC4G,WAAW5G,EAAE6G,KAAK5G,KAAK,MAAM6G,EAAEC,cAAI,OAAO,IAAIhF,SAAS,CAAC7B,EAAEK,KAAK,MAAMwG,EAAEnH,YAAEE,GAAG,KAAK,IAAIE,EAAE,MAAME,EAAEC,KAAK+E,SAAS8B,IAAIF,GAAG5G,IAAIC,KAAK+E,SAAS+B,OAAOH,GAAG,OAAO9G,EAAEE,EAAEgH,cAAclH,EAAEwB,SAASrB,KAAKoG,MAAM,CAAC9B,KAAKlB,EAAEoB,MAAMmC,IAAIvG,EAAEW,mBAAS8C,EAAE,CAACsC,QAAQpG,EAAE8B,OAAOzB,EAAE2G,YAAYH,EAAEI,UAAUnH,GAAGG,KAAK+E,SAASkB,IAAIU,EAAE9C,GAAG7D,KAAKoG,MAAM,CAAC9B,KAAKhB,EAAEkB,MAAMmC,EAAEF,WAAW5G,EAAEoH,UAAU,MAAMtH,GAAGG,EAAE0G,MAAM1F,GAAGjB,EAAEE,GAAG,MAAMD,EAAE,IAAI8F,eAAe,SAASxF,EAAEP,GAAGE,EAAEF,EAAE6G,MAAM,OAAO1G,KAAK8E,MAAMoC,YAAY,CAAC5C,KAAKT,IAAEF,GAAGwD,UAAUtH,EAAEuH,KAAKtH,EAAEoG,OAAO,CAACpG,EAAEoG,QAAQpG,EAAEgG,MAAMJ,iBAAiB,UAAUtF,GAAGN,EAAEgG,MAAMH,QAAQ,CAACtE,SAASvB,EAAEgG,MAAMoB,YAAY,CAAC5C,KAAKT,IAAEZ,QAAQnD,EAAEgG,MAAMnF,QAAQb,EAAEgG,MAAMuB,oBAAoB,UAAUjH,KAAKkH,WAAW,MAAMzH,EAAE,IAAI+F,eAAe,OAAO5F,KAAKoG,MAAM,CAAC9B,KAAKZ,EAAE0D,KAAKvH,EAAEqG,QAAQrG,EAAEiG,MAAMO,SAASrG,KAAKuF,WAAWvF,KAAKuF,SAAS,MAAMvF,KAAK8E,MAAMuC,oBAAoB,UAAUrH,KAAKsF,YAAYtF,KAAK8E,MAAMnE,QAAQX,KAAK+E,SAASwC,SAAS1H,IAAI,IAAIE,EAAE,OAAOA,EAAEF,EAAEkH,cAAchH,EAAEsB,SAASxB,EAAEgC,OAAOd,YAAG,yCAAwClB,EAAEmH,kBAAkBhH,KAAKiF,QAAQP,QAAQ1E,KAAK+E,SAASL,QAAQ1E,KAAKkF,aAAaR,QAAQ1E,KAAK8E,MAAM9E,KAAKoF,QAAQpF,KAAKyF,UAAU,KAAKH,WAAWzF,GAAGO,YAAEJ,KAAKyF,WAAWzF,KAAKyF,WAAW,IAAIzF,KAAKwH,gBAAgB3H,KAAKG,KAAKwH,gBAAgB3H,GAAG2H,gBAAgB3H,GAAG,MAAME,EAAEP,YAAEK,GAAG,GAAGE,EAAE,OAAOA,EAAEuE,MAAM,KAAKd,EAAExD,KAAKyH,mBAAmB1H,GAAG,MAAM,KAAKuD,EAAEtD,KAAKkF,aAAa9D,KAAKrB,GAAG,MAAM,KAAKqD,EAAEpD,KAAK0H,gBAAgB3H,GAAG,MAAM,KAAKmD,EAAElD,KAAK2H,kBAAkB,MAAM,KAAKjE,EAAE1D,KAAK4H,mBAAmB7H,GAAG,MAAM,KAAK6D,EAAE5D,KAAK6H,aAAa9H,IAAI2H,gBAAgB7H,GAAG,MAAME,EAAEC,KAAKiF,QAAQnF,EAAED,EAAE2E,MAAMpE,EAAEL,EAAE8G,IAAI/G,GAAGE,KAAKkF,aAAa9D,KAAKvB,GAAGO,IAAIA,EAAE0H,YAAY1H,EAAE0H,WAAWC,QAAQhI,EAAE+G,OAAOhH,IAAI6H,kBAAkB,MAAM9H,EAAEG,KAAKoF,QAAQpF,KAAKqG,SAASxG,GAAG,YAAYA,GAAGgF,EAAEmB,QAAQa,IAAI7G,QAAQH,GAAGA,EAAEyB,UAAUuD,EAAEmB,QAAQc,OAAO9G,MAAMH,GAAGA,EAAEkG,eAAelG,EAAEkG,aAAa,MAAMZ,iBAAiBtF,GAAG,MAAM4G,WAAW1G,EAAEyE,MAAM1E,EAAE4G,KAAKtG,EAAE6G,UAAUxH,GAAGI,EAAEkB,EAAEtB,EAAEE,cAAI,KAAKiH,EAAE5G,KAAKiF,QAAQ,IAAIpB,EAAErE,EAAEQ,KAAKoF,QAAQ4C,EAAExI,EAAEO,GAAG,IAAI,IAAIiI,GAAGjI,IAAI,IAAIA,EAAEkI,QAAQ,KAAK,CAAC,MAAMpI,EAAEE,EAAEmI,MAAM,KAAK,IAAI,IAAInI,EAAE,EAAEA,EAAEF,EAAE8E,OAAO,EAAE5E,IAAIP,EAAEA,EAAEK,EAAEE,IAAIiI,EAAExI,EAAEK,EAAEE,EAAE,IAAI,GAAG,mBAAmBiI,EAAE,MAAM,IAAIG,UAAW,GAAEpI,uBAAuB8D,EAAEmE,EAAEI,KAAK5I,EAAEY,EAAE,CAACiF,OAAOrF,KAAK2B,OAAOZ,EAAEA,EAAEY,OAAO,OAAO,MAAM0G,GAAG,YAAYrI,KAAKoG,MAAM,CAAC9B,KAAKd,EAAEgB,MAAM1E,EAAEe,MAAMyH,YAAED,KAAK7B,YAAE3C,IAAI+C,EAAEX,IAAInG,EAAE,CAACgI,WAAW/G,EAAEgB,QAAQ8B,IAAIA,EAAEvD,MAAMT,IAAI+G,EAAEhC,IAAI9E,KAAK8G,EAAEE,OAAOhH,GAAGE,KAAKoG,MAAM,CAAC9B,KAAKd,EAAEgB,MAAM1E,GAAGD,OAAOA,IAAI+G,EAAEhC,IAAI9E,KAAK8G,EAAEE,OAAOhH,GAAG6G,YAAE9G,IAAIG,KAAKoG,MAAM,CAAC9B,KAAKd,EAAEgB,MAAM1E,EAAEe,MAAMyH,YAAEzI,GAAG,CAAC0I,QAAS,+BAA8BxI,aAAaC,KAAKoG,MAAM,CAAC9B,KAAKd,EAAEgB,MAAM1E,GAAG+D,GAAG+D,mBAAmB/H,GAAG,IAAIgF,EAAEhF,EAAEuH,KAAK,CAAC/B,OAAOrF,KAAKoF,UAAUyC,aAAahI,GAAG,MAAMuH,KAAKrH,GAAGF,EAAEO,EAAEJ,KAAKoF,QAAQtE,GAAGjB,EAAEsH,WAAWtH,IAAIE,EAAEmH,YAAYrH,MAAMJ,EAAEK,YAAED,EAAEuH,KAAK,WAAWvH,IAAIL,YAAEK,GAAGyE,OAAOT,IAAEZ,QAAQxD,EAAE4B,SAASjB,EAAEiB,SAAStB,EAAEY,YAAY8G,mBAAmB5H,GAAG,IAAIC,EAAE,MAAM0E,MAAMpE,EAAES,MAAMpB,EAAEiH,KAAK3F,GAAGlB,EAAEF,EAAEK,KAAK+E,SAAS,IAAIpF,EAAEiF,IAAIxE,GAAG,OAAO,MAAMoG,EAAE7G,EAAEkH,IAAIzG,GAAGT,EAAEmH,OAAO1G,GAAG,OAAON,EAAE0G,EAAEO,cAAcjH,EAAEuB,SAAS5B,EAAE+G,EAAE3E,OAAO9B,IAAEyI,SAASC,KAAKC,MAAMjJ,KAAK+G,EAAEL,QAAQpF,GAAGqF,MAAMvG,EAAEE,EAAED,GAAG,OAAOkI,YAAEhI,KAAK8E,MAAMjF,EAAEE,EAAED,IAAI+E,EAAE8D,WAAW,CAACC,SAASP,IAAEQ,QAAQhJ,IAAEiJ,UAAUC,KAAGlE,EAAEmB,QAAQ,IAAIhB,K,iCCJxwM,8KAI6BnF,EAAYC,EAJzC,SAIyCA,EAAmND,IAAIA,EAAE,KAApNC,EAAEkJ,UAAU,GAAG,YAAYlJ,EAAEA,EAAEmJ,KAAK,GAAG,OAAOnJ,EAAEA,EAAEoJ,OAAO,GAAG,SAASpJ,EAAEA,EAAEyD,SAAS,GAAG,WAAWzD,EAAEA,EAAEuD,OAAO,GAAG,SAASvD,EAAEA,EAAEqD,MAAM,GAAG,QAAQrD,EAAEA,EAAEmD,MAAM,GAAG,QAAQnD,EAAEA,EAAE2D,UAAU,GAAG,YAAY3D,EAAEA,EAAE6D,GAAG,GAAG,KAAiB,IAAIlE,EAAE,EAAE,SAASE,IAAI,OAAOF,IAAmF,SAAS+G,EAAE1G,GAAG,OAAOA,EAAE,iBAAiBA,EAAE2I,KAAKU,UAAU,CAACC,KAAK,UAAUb,QAAQzI,IAAIA,EAAEuJ,OAAOZ,KAAKU,UAAUrJ,GAAG2I,KAAKU,UAAU,CAACC,KAAKtJ,EAAEsJ,KAAKb,QAAQzI,EAAEyI,QAAQe,QAAQxJ,EAAEwJ,SAAS,CAACC,MAAMzJ,EAAEyJ,SAAS,KAAK,SAASxI,EAAEjB,EAAEL,EAAEE,EAAE6G,GAAG,GAAG/G,EAAE6E,OAAOzE,EAAE4D,UAAU,YAAY3D,EAAEoH,YAAYzH,EAAE,CAACA,EAAE2H,OAAO,GAAG3H,EAAE6E,OAAOzE,EAAEwD,QAAQ5D,EAAE6E,OAAOzE,EAAE0D,SAAS,YAAYzD,EAAEoH,YAAYzH,GAAG,IAAIsB,GAApb,SAAWjB,GAAG,OAAOA,GAAG,iBAAiBA,IAAI,WAAWA,GAAG,iBAAiBA,GAA0WC,CAAEJ,IAA0CoB,EAAEX,EAAEoG,GAAG/G,EAAEiH,KAAK/G,IAApDoB,EAAEX,EAAET,EAAE+B,cAAcjC,EAAEiH,KAAK/G,EAAE6J,QAA0BzI,EAAEjB,EAAEoH,YAAYzH,EAAEsB,GAAGjB,EAAEoH,YAAYzH,GAAG,SAASmE,EAAE9D,GAAG,IAAIA,EAAE,OAAO,KAAK,MAAMD,EAAEC,EAAE4G,KAAK,OAAO7G,EAAE,iBAAiBA,EAAE4I,KAAKC,MAAM7I,GAAGA,EAAE,KAAK,SAASO,EAAEP,GAAG,IAAIA,IAAIA,EAAE8E,OAAO,OAAO,KAAK,GAAG7E,YAAE,qCAAqC,OAAOD,EAAE,MAAMJ,EAAEI,EAAE4J,QAAQ3J,IAAkC,SAAWA,GAAG,OAAOA,aAAa4J,aAAa5J,GAAGA,EAAEF,aAAa,gBAAgBE,EAAEF,YAAYwJ,KAA7Hd,CAAExI,KAAK,OAAOL,EAAEkF,OAAOlF,EAAE,O,iCCJ7iC,wEAIqL,MAAMA,EAAEK,IAAEJ,UAAU,gCAAgC,MAAMiH,EAAE/G,cAAcI,KAAK2J,SAAS,IAAIC,MAAM5J,KAAK6J,gBAAgB,IAAID,MAAM5J,KAAK8J,WAAW,EAAExI,UAAUtB,KAAKW,QAAYoJ,aAAS,OAAO/J,KAAK2J,WAAW3J,KAAK2J,SAAShF,OAAOqF,KAAKnK,EAAEC,GAAG,OAAO,IAAI8B,SAAS,CAACnC,EAAEkH,KAAK,IAAIvG,GAAE,EAAG,MAAMZ,EAAEK,IAAIkB,YAAEjB,EAAE6B,QAAQvB,IAAIA,GAAE,EAAGP,MAAMG,KAAK2J,SAAShF,OAAO9E,EAAE8E,OAAO3E,KAAK6J,gBAAgBlF,OAAO9E,EAAE8E,OAAO,IAAI,IAAI5D,EAAE,EAAEA,EAAElB,EAAE8E,SAAS5D,EAAE,CAAC,MAAMX,EAAEP,EAAEkB,GAAGhB,YAAEK,GAAGJ,KAAK6J,gBAAgB9I,GAAGX,EAAEE,MAAMT,IAAIG,KAAK2J,SAAS5I,GAAG,IAAIpB,IAAEE,EAAEC,GAAGN,EAAEC,GAAGO,KAAK2J,SAAS5I,MAAM,KAAKvB,EAAEmH,GAAG,SAAS3G,KAAK2J,SAAS5I,GAAG,IAAIpB,IAAES,EAAEN,GAAGE,KAAK6J,gBAAgB9I,GAAGa,QAAQuE,QAAQnG,KAAK2J,SAAS5I,IAAIvB,EAAEC,QAAQgB,UAAUZ,EAAEC,EAAEC,GAAG,MAAMgB,EAAE,IAAI6I,MAAM5J,KAAK6J,gBAAgBlF,QAAQ,IAAI,IAAIhF,EAAE,EAAEA,EAAEK,KAAK6J,gBAAgBlF,SAAShF,EAAE,CAAC,MAAMF,EAAEO,KAAK6J,gBAAgBlK,GAAGoB,EAAEpB,GAAGF,EAAEa,MAAMS,GAAGA,EAAEQ,OAAO1B,EAAEC,EAAEC,KAAK,OAAOgB,EAAEJ,QAAQ,IAAI,MAAMd,KAAKG,KAAK6J,gBAAgBhK,EAAES,MAAMT,GAAGA,EAAEc,UAAUX,KAAK2J,SAAShF,OAAO,EAAE3E,KAAK6J,gBAAgBlF,OAAO,EAAEsF,qBAAqB,IAAIpK,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAEE,KAAK2J,SAAShF,SAAS7E,EAAE,CAAC,MAAMC,EAAEC,KAAK2J,SAAS7J,GAAG,GAAGC,GAAG,IAAIA,EAAEuG,SAAS,OAAO1E,QAAQuE,QAAQpG,QAAQF,EAAEA,GAAG,GAAGA,EAAEuB,KAAKpB,KAAK6J,gBAAgB/J,IAAI,OAAOD,EAAE+B,QAAQsI,KAAKrK,IAAIG,KAAK8J,YAAY9J,KAAK8J,WAAW,GAAG9J,KAAK2J,SAAShF,OAAO/C,QAAQuE,QAAQnG,KAAK2J,SAAS3J,KAAK8J,cAAcvI,OAAO1B,EAAEC,EAAEC,GAAG,IAAIgB,EAAE,KAAK,OAAG6I,MAAMO,QAAQpK,IAAIN,EAAE2K,KAAK,WAAW,4EAA4ErJ,EAAE,CAACW,aAAa3B,IAAIgB,EAAEhB,EAAEC,KAAK+J,OAAcnI,QAAQC,OAAO,IAAIwI,MAAM,sBAA6BrK,KAAKiK,qBAAqB3J,MAAMP,GAAGA,EAAEwB,OAAO1B,EAAEC,EAAEiB,KAAKD,GAAGhB,EAAEC,GAAG,OAAO6B,QAAQE,IAAI9B,KAAK6J,iBAAiBvJ,MAAM,IAAIT,YAAEG,KAAK2J,SAASW,KAAKzK,GAAGA,EAAEiB,GAAGhB,EAAEC,QAAQwK,YAAY,OAAO,IAAI3I,SAAS/B,IAAI,MAAMC,EAAE,IAAI8J,MAAM5J,KAAK6J,gBAAgBlF,QAAQ,IAAI5E,EAAED,EAAE6E,OAAO,IAAI,IAAI5D,EAAE,EAAEA,EAAEf,KAAK6J,gBAAgBlF,SAAS5D,EAAGf,KAAK6J,gBAAgB9I,GAAGT,MAAMX,IAAIG,EAAEiB,GAAGpB,EAAE2H,WAAW,KAAKvH,GAAGF,EAAEC,SAAc0K,WAAO,MAAM,CAACC,WAAWzK,KAAK2J,SAAShF,W,iCCJjiE,gFAIyE,SAAShF,EAAEA,GAAG,MAAMF,EAAEK,YAAE,KAAK,EAAEH,IAAI,OAAO+K,KAAKC,IAAI,EAAED,KAAKE,IAAInL,EAAE,MAAM,SAASA,EAAEK,GAAG,MAAMH,EAAE,EAAEG,EAAE,IAAI,OAAO4K,KAAKC,IAAI,EAAED,KAAKE,IAAIjL,EAAE,M,uECA+OkE,E,6FAAE,IAAI9C,EAAE8C,EAAE,cAAchE,IAA6B,4BAACJ,EAAEI,GAAG,OAAOC,YAAEL,EAAEI,EAAEG,KAAK6K,YAAYC,QAAQ,OAAO,IAAIjH,EAAE,CAACgH,WAAW7K,KAAK6K,WAAWE,MAAM/K,KAAK+K,UAAUtL,YAAE,CAACM,YAAE,CAACuE,KAAK0G,OAAOC,KAAK,CAACC,OAAM,MAAOnK,EAAEoK,UAAU,kBAAa,GAAQ1L,YAAE,CAACM,YAAE,CAACuE,KAAK0G,OAAOC,KAAK,CAACC,OAAM,MAAOnK,EAAEoK,UAAU,aAAQ,GAAQpK,EAAE8C,EAAEpE,YAAE,CAACW,YAAE,8CAA8CW,GAAG,ICA9E4F,EDAkFC,EAAE7F,E,SCAlF,MAAMgI,EAAEtJ,cAAI,CAAC2L,YAAY,gBAAgBC,iBAAiB,qBAAqBC,gBAAgB,oBAAoBC,eAAe,oBAAoBlD,EAAE,IAAIjI,IAAE,CAACoL,KAAK,OAAOC,UAAU,aAAaC,MAAM,SAASC,KAAK,QAAQ,UAAU,UAAUC,KAAK,UAAU,IAAIhF,EAAED,EAAE,cAAc7G,IAAEF,cAAciM,SAASC,WAAW9L,KAAK+L,OAAO,KAAKC,0BAA0BnM,EAAEJ,GAAG,OAAO,MAAMI,EAAEA,EAAEJ,EAAEwM,mBAAmB,IAAIxM,EAAEwM,kBAAkBC,MAAM,CAACrB,WAAW,UAAK,EAAOsB,2BAA2BtM,EAAEJ,EAAEW,EAAEN,GAAGL,EAAEW,GAAGP,EAAEqL,MAAM,KAAKpL,GAAG,MAAMD,EAAEgL,aAAapL,EAAEwM,kBAAkB,CAACC,MAAM,IAAQE,WAAO,MAAML,OAAOlM,EAAEwM,sBAAsB5M,GAAGO,KAAK,OAAOA,KAAKsM,cAAc,QAAQtM,KAAKuM,KAAK,QAAQxM,YAAEF,IAAIJ,EAAE,qBAAqB,gBAAoB2M,SAAKvM,GAAGG,KAAKwM,UAAU,OAAO3M,GAAO4M,SAAK5M,GAAGG,KAAK0M,KAAK,OAAO7M,GAAGqL,MAAMrL,EAAEJ,GAAG,OAAOO,KAAK+L,QAAQ/L,KAAKoM,MAAMpM,KAAKqM,uBAAuBrM,KAAKyM,KAAKZ,MAAMX,MAAMrL,EAAEJ,GAAG,KAAKqL,QAAQ,OAAO,IAAInE,EAAE,CAACyF,KAAKpM,KAAKoM,KAAKL,OAAO/L,KAAK+L,OAAOM,sBAAsBrM,KAAKqM,sBAAsBrM,KAAKqM,sBAAsBvB,aAAQ,EAAO2B,KAAKzM,KAAKyM,SAAS5M,YAAE,CAACkB,YAAE,CAACuD,KAAKkC,EAAEyE,KAAK,CAACC,OAAM,MAAOtE,EAAEuE,UAAU,6BAAwB,GAAQtL,YAAE,CAACF,YAAE,wBAAwB,CAAC,wBAAwB,uBAAuBiH,EAAEuE,UAAU,4BAA4B,MAAMtL,YAAE,CAACyI,YAAE,wBAAwB,CAAC+D,sBAAsB,CAAC/H,KAAKkC,GAAG,0BAA0B,CAAClC,KAAK,CAAC,OAAOsC,EAAEuE,UAAU,6BAA6B,MAAMtL,YAAE,CAACkB,YAAE,CAACuD,KAAKyE,EAAE4D,UAAUC,aAAY,EAAG3B,KAAK,CAAC3G,KAAKyE,EAAE8D,WAAWC,KAAK/D,EAAE+D,KAAK5B,MAAM,CAAC6B,OAAOhE,EAAEmC,MAAM8B,YAAW,OAAQpG,EAAEuE,UAAU,OAAO,MAAMtL,YAAE,CAACkB,YAAE,CAACuD,KAAK2I,OAAOhC,KAAK,CAACC,OAAM,MAAOtE,EAAEuE,UAAU,cAAS,GAAQtL,YAAE,CAACkB,YAAE,CAACuD,KAAKV,IAAEqH,KAAK,CAAC3G,KAAK0G,OAAO8B,KAAKzE,EAAEyE,KAAK5B,MAAM7C,EAAE6C,UAAUtE,EAAEuE,UAAU,OAAO,MAAMvE,EAAED,EAAE9G,YAAE,CAACgE,YAAE,sCAAsC+C,GAAG,IAAIsG,EAAEtG,G,gNCAt1E,MAAM7G,EAAE,G,aCAsC,MAAMJ,EAAEC,cAAc,MAAMC,EAAEsN,SAASC,yBAAyB,CAAC,mBAAmB,gBAAgB,uBAAuB7F,SAASzH,IAAIE,KAAKF,GAAG,IAAIC,IAAIF,EAAEC,MAAMC,OAAO,MAAMK,EAAEP,IAAEwN,kBAAkBxN,IAAEyN,uBAAuB9G,EAAE,WAAW,IAAI1G,EAAE,GAAGD,IAAE0N,SAAS1N,IAAE0N,QAAQC,SAAS1N,EAAEA,IAAID,IAAE0N,QAAQC,SAAS1N,SAAS,GAAGD,IAAE+B,QAAQ9B,EAAEA,IAAID,IAAE+B,QAAQuE,UAAU7F,KAAKR,SAAS,GAAGM,EAAE,CAAC,MAAMP,EAAE,GAAGE,EAAEoN,SAASM,cAAc,OAAO,IAAIrN,GAAG,KAAK,KAAKP,EAAE8E,OAAO,GAAG9E,EAAE6N,OAAF7N,MAAe8N,QAAQ5N,EAAE,CAAC6N,YAAW,IAAK9N,EAAEA,IAAID,EAAEuB,KAAKtB,GAAGC,EAAE8N,aAAa,cAAc,MAAM,OAAO/N,EAA3T,GAAgUiB,EAAE,MAAM,MAAMjB,EAAED,IAAEiO,aAAa,IAAI,IAAIhO,EAAE,UAAU,CAAC4G,KAAK,OAAO,MAAM,MAAM,CAAC7G,EAAEC,EAAE,MAAM,MAAM4G,KAAK3G,EAAEgO,QAAQtO,GAAE,EAAGuO,WAAWrO,GAAE,GAAIG,EAAEM,EAAE+M,SAASc,YAAY,SAAS,OAAO7N,EAAE8N,UAAUrO,EAAEJ,EAAEE,GAAGS,EAAEsG,KAAK3G,EAAEK,GAAG,MAAM,CAACP,EAAEE,IAAI,IAAID,EAAED,EAAEE,IAA7N,GAAoO,MAAMsI,EAAEzI,cAAcI,KAAKmO,YAAY,IAAIxO,EAAEK,KAAKoO,mBAAmB,CAAC9J,KAAKvE,IAAEiJ,YAAYqF,aAAiBC,gBAAY,OAAOtO,KAAKuO,kBAAsBD,cAAUzO,GAAGG,KAAKuO,mBAAmBvO,KAAKqH,oBAAoB,UAAUrH,KAAKuO,mBAAmBvO,KAAKuO,kBAAkB1O,EAAEA,GAAGG,KAAK0F,iBAAiB,UAAU7F,GAAO2O,qBAAiB,OAAOxO,KAAKyO,uBAA2BD,mBAAe3O,GAAGG,KAAKyO,wBAAwBzO,KAAKqH,oBAAoB,eAAerH,KAAKyO,wBAAwBzO,KAAKyO,uBAAuB5O,EAAEA,GAAGG,KAAK0F,iBAAiB,eAAe7F,GAAO6O,cAAU,OAAO1O,KAAK2O,gBAAoBD,YAAQ7O,GAAGG,KAAK2O,iBAAiB3O,KAAKqH,oBAAoB,QAAQrH,KAAK2O,iBAAiB3O,KAAK2O,gBAAgB9O,EAAEA,GAAGG,KAAK0F,iBAAiB,QAAQ7F,GAAGqH,YAAYrH,GAAG2G,GAAG,KAAKxG,KAAK4O,sBAAsB7N,EAAE,UAAU,CAAC2F,KAAK7G,QAAQgP,cAAchP,GAAG,OAAOG,KAAKmO,YAAYU,cAAchP,GAAG6F,iBAAiB7F,EAAEC,EAAEC,GAAGC,KAAKmO,YAAYzI,iBAAiB7F,EAAEC,EAAEC,GAAGsH,oBAAoBxH,EAAEC,EAAEC,GAAGC,KAAKmO,YAAY9G,oBAAoBxH,EAAEC,EAAEC,GAAGqO,mBAAmBvO,GAAG2G,GAAG,KAAKxG,KAAK6O,cAAc9N,EAAE,UAAU,CAAC2F,KAAK7G,QAAmC,4BAACA,GAAG,MAAMF,EAAEF,YAAEI,GAAG,GAAGF,GAAGA,EAAE2E,OAAOvE,IAAEkJ,KAAK,CAAC,MAAM6F,WAAWjP,EAAE2E,MAAM/E,GAAGE,EAAE,IAAIS,QAAQN,IAAEiP,WAAWlP,GAAGO,IAAIA,QAAQ4O,OAGjlEnP,IAAI,MAAM2G,EAAE1G,IAAEmP,QAAQ7O,GAAGJ,KAAKoO,mBAAmB,CAAC9J,KAAKvE,IAAEmJ,OAAO1E,MAAM/E,EAAEiH,KAAKF,M,sBCH2Z,MAAMuC,EAAEhJ,IAAEL,UAAU,sBAAsBsJ,UAAUhH,GAAG2E,IAAw6E,IAAIvD,EAAE5D,EAAE,MAAM0P,EAAE,qEAAqEC,eAAe7L,IAAI,IAAIxD,YAAE,gBAAgB,OAAOoD,EAAE,IAAIU,GAAG,IAAIR,IAAI5D,EAAE,IAAI,MAAMK,EAAtkF,o6EAA0kFuP,QAAQ,oBAAqB,IAAirB,WAAa,IAAIrP,EAAE,GAAG,MAAMN,IAAEoG,QAAQ,CAAC,MAAMhG,EAAE,IAAIJ,YAAUI,EAAEgG,QAAQ9F,EAAE0I,KAAKC,MAAMD,KAAKU,UAAUtJ,SAASE,EAAE0I,KAAKC,MAAMD,KAAKU,UAAU1J,MAAIM,EAAEsP,WAAWtO,YAAEhB,EAAEsP,YAAYtP,EAAEuP,QAAQC,aAAa,GAAGxP,EAAEyP,IAAID,aAAa,GAAGxP,EAAE0P,OAAO7I,cAAI7G,EAAE6E,IAAI,CAAC,mBAAmB9E,YAAE,oBAAoB,iBAAgB,EAAG,uBAAuBA,YAAE,wBAAwB,iCAAiCA,YAAE,kCAAkC,mBAAmBA,YAAE,oBAAoB,mCAAmCA,YAAE,oCAAoC,6CAA6CA,YAAE,8CAA8C,eAAeA,YAAE,gBAAgB,2BAA2BA,YAAE,4BAA4B,mBAAmBA,YAAE,oBAAoB,oCAAoCA,YAAE,qCAAqC,iBAAiB,GAAGC,EAAE2P,QAAQC,YAAY5P,EAAE2P,QAAQC,UAAU5O,YAAEhB,EAAE2P,QAAQC,YAAY5P,EAAE2P,QAAQE,WAAW7P,EAAE2P,QAAQE,WAAW7O,YAAEhB,EAAE2P,QAAQE,YAAY7P,EAAE2P,QAAQE,WAAW7O,YAAElB,YAAE,sCAAsC,MAAM2G,EAAE/G,IAAEiQ,QAAQG,aAAalJ,EFAjtJ,SAAWH,GAAG,IAAI/G,EAAE,MAAME,EAAE,CAACwP,MAAM3I,EAAE2I,MAAMW,QAAQtJ,EAAEsJ,QAAQL,OAAOjJ,EAAEiJ,OAAOM,QAAQvJ,EAAEuJ,QAAQnL,IAAI,IAAI4B,EAAE5B,KAAK0F,IAAI,IAAI9D,EAAE8D,KAAK0F,SAASxJ,EAAEwJ,UAAUxJ,EAAEwJ,SAASC,UAAU,GAAGC,MAAM,IAAI1J,EAAE0J,QAAQ,OAAO1J,EAAE2J,eAAe,WAAWxQ,EAAEwP,OAAM,GAAI3I,EAAE2J,eAAe,aAAaxQ,EAAEmQ,SAAQ,GAAItJ,EAAEuJ,UAAUpQ,EAAEoQ,QAAQhQ,EAAEgQ,SAAS,OAAOtQ,EAAEM,EAAEiQ,WAAWvQ,EAAE8H,SAASf,KAAha,SAAWA,EAAEzG,GAAG,IAAI,MAAMF,KAAK2G,EAAE,GAAG3G,EAAEuJ,OAAOrJ,EAAEqJ,KAAK,OAAO5C,EAAEpF,KAAKrB,GAAkWF,CAAEF,EAAEqQ,SAASxJ,MAAM7G,EEAi2IA,CAAE,CAACoQ,QAAQ,MAAMvJ,OAAE,EAAOA,EAAEuJ,QAAQN,OAAO7I,cAAIhC,IAAI,CAAC,mBAAmB9E,YAAE,oBAAoB,kBAAkB,EAAE,iBAAiB,KAAK,MAAM0G,OAAE,EAAOA,EAAE5B,KAAK0F,IAAI,IAAI,MAAM9D,OAAE,EAAOA,EAAE8D,KAAK4F,MAAM,IAAI,MAAM1J,OAAE,EAAOA,EAAE0J,OAAOF,UAAU,MAAMxJ,OAAE,EAAOA,EAAEwJ,WAAW,KAAKpM,EAAE,CAACiF,QAAQzI,IAAE0I,UAAUT,IAAEO,SAASN,KAAG,OAAOG,KAAKU,UAAU,CAACiH,WAAWrQ,EAAE8P,aAAalJ,EAAEgC,WAAW/E,IAA7kEJ,OAAQJ,EAAEiN,IAAIC,gBAAgB,IAAIC,KAAK,CAAC1Q,GAAG,CAACyE,KAAK,qBAAqB,MAAM7E,GAAGD,EAAEC,GAAG,GAAG,IAAII,EAAE,GAAGuD,EAAE,IAAIvD,EAAE,IAAI2Q,OAAOpN,EAAE,CAACgG,KAAK,eAAeqH,MAAM,MAAMhR,GAAGsJ,EAAEqB,KAAK8E,EAAE1P,GAAGK,EAAE,IAAI+D,OAAOmF,EAAEqB,KAAK8E,EAAE1P,GAAGK,EAAE,IAAI+D,EAAE,OAAOV,EAAErD,GAAGsP,eAAejM,EAAErD,GAAG,OAAO,IAAI+B,SAASnC,IAAI,SAASW,EAAEL,GAAG,MAAMgB,EAAEyF,YAAEzG,GAAGgB,GAAGA,EAAEuD,OAAOtC,IAAInC,EAAEwH,oBAAoB,UAAUjH,GAAGP,EAAEwH,oBAAoB,QAAQvH,GAAGL,EAAEI,IAAI,SAASC,EAAEL,GAAGA,EAAEiR,iBAAiB7Q,EAAEwH,oBAAoB,UAAUjH,GAAGP,EAAEwH,oBAAoB,QAAQvH,GAAGiJ,EAAEqB,KAAK,qEAAqE3K,IAAII,EAAE,IAAI+D,GAAG8B,iBAAiB,UAAUtF,GAAGP,EAAE6F,iBAAiB,QAAQ5F,GAAGD,EAAE6F,iBAAiB,UAAUtF,GAAGP,EAAE6F,iBAAiB,QAAQ5F,MAAy6C,IAAI2Q,EAAE,ECAv2J,MAAMvN,EAAE9C,IAAEV,UAAU,sBAAsByD,MAAM4F,EAAE1F,OAAO2E,EAAEiB,KAAKX,EAAEY,OAAOlH,EAAEuB,SAASG,GAAGkD,IAAE,MAAMhD,EAAEhE,YAAYC,EAAEC,GAAGE,KAAK+E,SAAS,IAAIC,IAAIhF,KAAKiF,QAAQ,IAAID,IAAIhF,KAAK2Q,OAAO9Q,EAAEG,KAAK4Q,GAAG9Q,EAAED,EAAE6F,iBAAiB,UAAU1F,KAAKsF,WAAWjB,KAAKrE,OAAOH,EAAE6F,iBAAiB,SAAS7F,IAAIA,EAAE6Q,iBAAiBxN,EAAErC,MAAMhB,MAAyB,oBAACA,GAAG,MAAMC,QAAQ+D,IAAI,OAAO,IAAID,EAAE9D,EAAED,GAAGwO,YAAYrO,KAAK2Q,OAAOtC,YAAsB,WAACxO,EAAEC,EAAE,IAAI,MAAM6B,OAAOvB,GAAGN,EAAEL,EAAEsB,cAAI,OAAO,IAAIa,SAAS,CAAC9B,EAAEH,KAAK,MAAM6G,EAAE,CAACL,QAAQrG,EAAE+B,OAAOlC,EAAEoH,YAAYhH,YAAEK,GAAG,KAAKJ,KAAK+E,SAAS+B,OAAOrH,GAAGO,KAAKoG,MAAM,CAAC9B,KAAKyE,EAAEvE,MAAM/E,QAAQO,KAAK+E,SAASkB,IAAIxG,EAAE+G,GAAGxG,KAAKoG,MAAM,CAAC9B,KAAKgE,EAAE9D,MAAM/E,EAAEqP,WAAWjP,OAAOyF,WAAWzF,GAAG,MAAMC,EAAE6G,YAAE9G,GAAG,GAAGC,EAAE,OAAOA,EAAEwE,MAAM,KAAKtC,EAAEhC,KAAK6Q,iBAAiB/Q,GAAG,MAAM,KAAK4D,EAAE1D,KAAKyH,mBAAmB3H,GAAG,MAAM,KAAKiJ,EAAE/I,KAAK0H,gBAAgB5H,GAAG,MAAM,KAAKkI,EAAEhI,KAAKmF,iBAAiBrF,IAAI4H,gBAAgB7H,GAAG,MAAMC,EAAEE,KAAKiF,QAAQ7E,EAAEP,EAAE2E,MAAMzE,EAAED,EAAE+G,IAAIzG,GAAGL,IAAIA,EAAE+H,YAAY/H,EAAE+H,WAAWC,QAAQjI,EAAEgH,OAAO1G,IAAI+E,iBAAiBrF,GAAG,MAAM2G,WAAWrG,EAAEoE,MAAMzE,EAAE2G,KAAK3F,EAAEkG,UAAUN,GAAG7G,EAAEN,EAAEmH,EAAElH,cAAI,KAAKmH,EAAE5G,KAAKiF,QAAQpB,EAAEhE,IAAEO,GAAG,IAAI8C,EAAE,IAAI,GAAG,mBAAmBW,EAAE,MAAM,IAAIsE,UAAW,GAAE/H,uBAAuB8C,EAAEW,EAAEuE,KAAK,KAAKrH,EAAE,CAACY,OAAOnC,EAAEA,EAAEmC,OAAO,OAAO,MAAMoH,GAAG,YAAY/I,KAAKoG,MAAM,CAAC9B,KAAKZ,EAAEc,MAAMzE,EAAEc,MAAMwH,YAAEU,KAAKpJ,YAAEuD,IAAI0D,EAAEX,IAAIlG,EAAE,CAAC+H,WAAWtI,EAAEuC,QAAQmB,IAAIA,EAAE5C,MAAMT,IAAI+G,EAAEhC,IAAI7E,KAAK6G,EAAEE,OAAO/G,GAAGC,KAAKoG,MAAM,CAAC9B,KAAKZ,EAAEc,MAAMzE,GAAGF,OAAOA,IAAI+G,EAAEhC,IAAI7E,KAAK6G,EAAEE,OAAO/G,GAAGF,IAAIA,EAAE,CAAC0I,QAAQ,8BAA8BnI,IAAIoG,YAAE3G,IAAIG,KAAKoG,MAAM,CAAC9B,KAAKZ,EAAEc,MAAMzE,EAAEc,MAAMwH,YAAExI,GAAG,CAAC0I,QAAS,+BAA8BnI,aAAaJ,KAAKoG,MAAM,CAAC9B,KAAKZ,EAAEc,MAAMzE,GAAGmD,GAAG2N,iBAAiBhR,GAAG,IAAIC,EAAE,MAAM0E,MAAMpE,EAAEsG,KAAK3G,GAAGF,EAAEJ,EAAEO,KAAK+E,SAAS8B,IAAIzG,GAAGX,IAAIO,KAAK+E,SAAS+B,OAAO1G,GAAG,OAAON,EAAEL,EAAEsH,cAAcjH,EAAEuB,SAAS5B,EAAE0G,QAAQpG,IAAI0H,mBAAmB5H,GAAG,IAAIO,EAAE,MAAMoE,MAAMzE,EAAEc,MAAMpB,EAAEiH,KAAK/G,GAAGE,EAAE2G,EAAExG,KAAK+E,SAAS8B,IAAI9G,GAAGyG,IAAIxG,KAAK+E,SAAS+B,OAAO/G,GAAG,OAAOK,EAAEoG,EAAEO,cAAc3G,EAAEiB,SAAS5B,EAAE+G,EAAE3E,OAAO/B,IAAE0I,SAASC,KAAKC,MAAMjJ,KAAK+G,EAAEL,QAAQxG,IAAIyG,MAAMvG,EAAEC,EAAEM,GAAG,OAAOZ,YAAEQ,KAAK2Q,OAAO9Q,EAAEC,EAAEM,ICAr8D,IAAIoG,EAAE/G,YAAE,sBAAsB,EAAEA,YAAE,gBAAgBqR,UAAUC,oBAAoB,EAAE,EAAEvK,IAAIA,EAAE/G,YAAE,WAAWA,YAAE,QAAQA,YAAE,WAAW,EAAE,GAAG,IAAIkH,EAAE,EAAE,MAAMC,EAAE,GAAG,SAASmC,IAAI/G,IAA2CmN,eAAe7G,EAAExI,EAAEL,GAAG,MAAMI,EAAE,IAAIF,IAAE,aAAaE,EAAEmK,KAAKlK,EAAEL,GAAGI,EAAEsP,eAAetL,EAAEzD,EAAET,EAAE,IAAI,GAAG,iBAAiBS,EAAE,MAAM,IAAIN,IAAE,2BAA2B,yBAAyB,IAAIC,EAAEJ,EAAEqR,UAAU,cAAc,GAAGvR,YAAE,oBAAoBA,YAAE,kBAAkBM,EAAE,SAAS,UAAUA,EAAE,CAAC,IAAID,QAAQiB,IAAEgO,WAAW3O,GAAGN,IAAIA,QAAQkP,OAGt1B5O,IAAIP,YAAEF,EAAEgC,QAAQ,MAAMlC,EAAEE,EAAE0F,QAAQvF,EAAE,OAAOwI,EAAE,CAACvH,IAAEkO,QAAQnP,IAAI,IAAIH,EAAE0F,OAAO5F,IAAI,SAASuC,IAAInC,YAAEF,EAAEgC,QAAQ,cAAc5B,EAAE,CAAC,MAAMD,EAAE6G,IAAIH,EAAE,OAAO8B,EAAE,OAAO1B,EAAE9G,GAAGkK,KAAK5J,EAAET,IAAIA,GAAG,GAAGA,EAAEsR,eAAetR,EAAEsR,cAAc,EAAE,CAAC,MAAMnR,EAAE4K,KAAKE,IAAIjL,EAAEsR,cAAczK,GAAG,GAAG1G,EAAE0G,EAAE,CAAC,MAAM/G,EAAE,IAAImK,MAAM9J,GAAG,IAAI,IAAID,EAAE,EAAEA,EAAEC,IAAID,EAAE,CAAC,MAAMC,EAAE6G,IAAIH,EAAE/G,EAAEI,GAAG+G,EAAE9G,GAAGkK,KAAK5J,EAAET,GAAG,OAAO2I,EAAE7I,EAAEE,IAAI,OAAO2I,EAAE1B,EAAE0D,KAAKxK,GAAGA,EAAEkK,KAAK5J,EAAET,KAAKA,GAAmG,IAAI0I,EAAE7I,EAAE,KAAK2P,eAAenN,IAAI,GAAGxC,EAAE,OAAOA,EAAE6I,EAAEjI,cAAI,MAAMN,EAAE,GAAG,IAAI,IAAIL,EAAE,EAAEA,EAAE+G,EAAE/G,IAAI,CAAC,MAAMI,EAAEE,EAAEmR,OAAOzR,GAAGa,MAAMR,IAAI8G,EAAEnH,GAAGK,EAAEA,KAAKA,EAAEsB,KAAKvB,GAAG,OAAOL,EAAEoC,QAAQE,IAAIhC,GAAGN,I,iCCP1nB,sCAIisB6I,EAJjsB,uGAImsB,MAAMxE,EAAEpE,cAAI,CAAC0R,YAAY,yBAAyBC,uBAAuB,yBAAyBC,YAAY,gBAAgB/I,EAAEzE,EAAEgJ,WAAWyE,QAAQxR,YAAEwI,EAAE,eAAe,MAAMtG,EAAEvC,cAAI,CAACiM,MAAM,SAASF,KAAK,OAAO,UAAU,UAAU,cAAc,cAAc,cAAc,eAAe,cAAc,eAAe,aAAa,cAAc,aAAa,aAAa,cAAc,eAAe,sBAAsB,uBAAuB,cAAc,eAAe,mBAAmB,oBAAoB,kBAAkB,kBAAkB,6BAA6B,8BAA8B,gBAAgB,gBAAgB,iBAAiB,mBAAmB,IAAIzC,EAAEV,EAAE,cAAcjI,IAAER,YAAYC,GAAGgM,MAAMhM,GAAGG,KAAKuR,YAAY,yBAAyBvR,KAAKwR,WAAW,SAASxR,KAAKyR,QAAQ,KAAKC,iBAAiB7R,EAAEC,EAAEL,GAAG,OAAOoE,EAAEqH,MAAMrL,EAAEC,EAAEL,GAAGkS,gBAAgB9R,EAAEC,EAAEL,GAAqB,OAAVoE,EAAEiJ,KAAKjN,KAAcJ,GAAGA,EAAEmS,UAAUnS,EAAEmS,SAASxQ,KAA+4B,SAAWvB,EAAEC,GAAG,OAAO,IAAIH,IAAE,2BAA4B,0BAAyBE,sBAAsBC,GAAl/B8D,CAAE/D,EAAE,CAACgS,QAAQpS,KAAK,MAAMqS,eAAejS,EAAEC,EAAEL,GAAqB,OAAVuC,EAAE8K,KAAKjN,KAAcJ,GAAGA,EAAEmS,UAAUnS,EAAEmS,SAASxQ,KAAKoC,EAAE3D,EAAE,CAACgS,QAAQpS,KAAK,MAAMsS,sBAAsBlS,EAAEC,EAAEL,GAA2B,OAAhBsB,YAAElB,IAAImC,EAAE8K,KAAKjN,KAAcJ,GAAGA,EAAEmS,UAAUnS,EAAEmS,SAASxQ,KAAKoC,EAAE3D,EAAE,CAACgS,QAAQpS,KAAK,MAAMuS,YAAYnS,EAAEC,GAAG,OAAOA,EAAE2R,SAAS3R,EAAEmS,WAAWnS,EAAEoS,MAAMpH,QAAQ,OAAO,IAAIzC,EAAE,CAACkJ,YAAYvR,KAAKuR,YAAYC,WAAWxR,KAAKwR,WAAWC,QAAQzR,KAAKyR,UAAUU,OAAOtS,GAAG,QAAQA,IAAIG,OAAOH,GAAGG,KAAKuR,cAAc1R,EAAE0R,aAAavR,KAAKwR,aAAa3R,EAAE2R,YAAYxR,KAAKyR,UAAU5R,EAAE4R,SAAgC,wBAAC5R,EAAEC,GAAG,MAAML,EAAEM,YAAED,GAAG,OAAO,IAAIuI,EAAE,CAACkJ,YAAY1R,EAAE0R,YAAYC,WAAW/R,EAAEgS,QAAQ5R,EAAE4R,UAAUvG,MAAMrL,EAAEC,GAAG,OAAOA,EAAE,CAACsS,OAAO,eAAetS,GAAG+L,MAAMX,MAAMrL,EAAEC,GAAkB,gBAACD,GAAG,IAAIA,EAAE,OAAO,KAAK,MAAMC,EAAE,IAAIuI,EAAE,OAAOvI,EAAEgN,KAAKjN,EAAE,CAACuS,OAAO,cAActS,IAAI,SAAS0D,EAAE3D,EAAEC,GAAG,OAAO,IAAIH,IAAE,0BAA2B,yBAAwBE,sBAAsBC,GAA8GD,YAAE,CAAC2G,YAAE,CAAClC,KAAKT,EAAE8I,UAAU0F,eAAc,EAAGpH,KAAK,CAACqH,QAAQ,CAAC,YAAY,CAAChO,KAAKgE,EAAEzC,QAAQ,oBAAoBkD,EAAEoC,UAAU,mBAAc,GAAQtL,YAAE,CAACL,YAAE,YAAY,gBAAgBuJ,EAAEoC,UAAU,mBAAmB,MAAMtL,YAAE,CAAC8G,YAAE,CAAC,YAAY,WAAW,gBAAgBoC,EAAEoC,UAAU,kBAAkB,MAAMtL,YAAE,CAAC2G,YAAE,CAAClC,KAAKtC,EAAE2K,UAAU0F,eAAc,EAAGpH,KAAK,CAACqH,QAAQ,CAAC,YAAY,CAAChO,KAAKtC,EAAE6K,WAAW3B,MAAMlJ,EAAEkJ,YAAYnC,EAAEoC,UAAU,kBAAa,GAAQtL,YAAE,CAAC8G,YAAE,YAAY,eAAeoC,EAAEoC,UAAU,iBAAiB,MAAMtL,YAAE,CAAC8G,YAAE,UAAU,eAAeoC,EAAEoC,UAAU,wBAAwB,MAAMtL,YAAE,CAAC2G,YAAE,CAAClC,KAAK0G,OAAOqH,eAAc,EAAGpH,KAAK,CAACqH,QAAQ,CAAC,YAAY,CAACpH,OAAM,QAASnC,EAAEoC,UAAU,eAAU,GAAQtL,YAAE,CAAC8G,YAAE,UAAU,UAAU,CAAC,UAAU,YAAY,WAAWoC,EAAEoC,UAAU,cAAc,MAAMpC,EAAEV,EAAExI,YAAE,CAAC+G,YAAE,kCAAkCmC,GAAG,IAAIzF,EAAEyF,G,iCCJ/4G,mHAIiE,SAASpJ,EAAEA,GAAG,OAAO,MAAMG,IAAEH,GAAG,SAASF,EAAEE,GAAG,OAAO,GAAGG,IAAEH,IAAI,GAAyD,MAAMS,EAA5D,WAAa,MAAMT,EAAE4S,OAAOC,KAAK1S,KAAG,OAAOH,EAAE8S,OAAO9S,EAAUE,I,sQCArE,MAAME,UAAUD,IAAEF,YAAYC,EAAE,MAAMgM,MAAM,aAAa,UAAUhM,EAAE,CAACmR,SAAS,cAAchR,KAAKK,SAASR,EAAEG,KAAK0S,IAAI,EAAEC,OAAO9S,EAAEJ,EAAEK,GAAG,OAAOD,GAAG,IAAIA,EAAE+S,WAAW5S,KAAKuB,OAAO,CAACsR,OAAOhT,EAAEiT,QAAQrT,GAAGK,GAAG8B,QAAQuE,QAAQ,MAAM1E,gBAAgB5B,GAAG,MAAM,CAACA,EAAEgT,QAAQE,YAAY/S,KAAK0S,KAAK,IAAItS,EAAEmH,SAAS,CAAC1H,EAAEJ,KAAKI,IAAIG,MAAMI,EAAE0G,OAAOrH,MAAMO,KAAKsB,YAAY,MAAMlB,EAAE,IAAI4E,ICA2pB,MAAMgO,EAAE5S,IAAEV,UAAU,8BAA8B,IAAIwN,EAAE,cAAc5J,YAAEM,YAAE5B,YAAE6C,YAAE2B,YAAEhD,UAAQ5D,eAAeC,GAAGgM,SAAShM,GAAGG,KAAKiT,UAAU,KAAKjT,KAAKkT,gBAAgB,KAAKlT,KAAKmT,KAAK,KAAKnT,KAAKoT,QAAQ,EAAEpT,KAAKqT,qBAAqB,mCAAmCrT,KAAKsT,WAAW,KAAKtT,KAAKsE,KAAK,YAAYtE,KAAKuT,IAAI,KAAKvT,KAAK6I,QAAQ,KAAK7I,KAAKwT,aDAt+B,SAAW1T,EAAE,MAAM,IAAIH,EAAES,EAAEyG,IAAIhH,YAAEC,IAAI,OAAOH,IAAIF,YAAEK,IAAIH,EAAE,IAAII,GAAGF,GAAGC,EAAEO,SAASR,KAAKO,EAAE6F,IAAInG,EAAEH,KAAKA,EAAE,IAAII,EAAEK,EAAE6F,IAAI,KAAKtG,OAAOA,EAAE+S,IAAI/S,ECAo3BuP,GAAIuE,kBAAkB5T,EAAEJ,GAAG,MAAM,iBAAiBI,EAAE,CAAC0T,IAAI1T,KAAKJ,GAAGI,EAAEyB,UAAUtB,KAAKwT,aAAazS,YAAEf,KAAKwT,cAAkBE,aAAS7T,GAAGG,KAAK2T,aAAaX,EAAE5I,KAAM,GAAEpK,KAAK4T,+DAAmEF,gBAAgBG,aAAShU,GAAGG,KAAK2T,aAAaX,EAAE5I,KAAM,GAAEpK,KAAK4T,+DAAmEC,gBAAYC,YAAYjU,EAAEJ,GAAG,IAAIK,EAAEL,EAAEsU,eAAe,OAAOjU,IAAIA,EAAE,KAAKA,EAAEkU,KAAKnU,GAAG,MAAMJ,EAAEM,YAAEF,GAAGA,EAAE8B,OAAO,KAAK,OAAO3B,KAAKiU,oBAAoBjU,KAAKkU,eAAe,CAACC,eAAe,CAAC,iBAAiBC,cAAa,EAAGC,aAAaxU,IAAI,IAAI,IAAIJ,EAAE,EAAEA,EAAEI,EAAEyU,aAAa3P,OAAOlF,IAAI,GAAG,uBAAuBI,EAAEyU,aAAa7U,GAAG8U,cAAc,OAAM,EAAG,MAAM,IAAIzU,IAAE,iCAAiC,iEAAiE,CAACwE,KAAK,gBAAgBkQ,aAAa,uCAAuC3U,GAAGe,MAAM+F,KAAGrG,MAAM,IAAIN,KAAKyU,mBAAmBhV,MAAMmC,QAAQuE,QAAQnG,MAAM0U,UAAU7U,EAAEC,EAAEM,EAAEW,GAAG,MAAMyF,EAAEzG,aAAGgB,EAAEA,GAAG,CAACY,OAAO,OAAOA,QAAQZ,EAAEY,OAAOZ,EAAEY,OAAOhC,cAAIgC,OAAOgF,EAAE,CAACgO,aAAa,eAAehT,OAAO6E,GAAG3C,EAAE,CAAC+Q,YAAY7T,EAAE6T,YAAYC,gBAAe,GAAI,OAAO7U,KAAKgU,OAAO1T,MAAM,IAAIN,KAAK8U,uBAAuBjV,EAAEC,EAAEM,EAAEW,KAAKT,MAAM,IAAIb,kBAAEO,KAAK+U,WAAWlV,EAAEC,EAAEM,GAAGuG,KAAKrG,MAAMT,GAAGG,KAAKwT,aAAab,OAAO9S,EAAE6G,KAAK7C,EAAE2C,KAAKlG,MAAMT,IAAC,CAAImV,OAAOnV,EAAEoV,UAAUC,MAAMrV,EAAEqV,MAAMC,OAAOtV,EAAEsV,OAAOC,UAAUvV,EAAEwV,SAASD,UAAUR,YAAY/U,EAAE+U,YAAYU,SAASzV,EAAEyV,SAASC,SAAS1V,EAAE0V,aAAaR,WAAWlV,EAAEJ,EAAEK,GAAG,MAAMM,GAAGJ,KAAKwV,cAAcxV,KAAKyV,kBAAkB1U,EAAE6F,YAAE,IAAI5G,KAAK0V,UAAUC,MAAMC,WAAWxV,GAAG,OAAO,MAAO,GAAEJ,KAAK0V,UAAUvC,aAAatT,KAAKJ,KAAKK,IAAIiB,EAAE,IAAIA,EAAE,KAAyB,qBAAClB,EAAEJ,GAAG,MAAMoW,eAAe/V,SAAS,sDAA2C,OAAL+D,YAAEpE,IAAU,IAAIK,GAAG6V,MAAM3V,KAAKH,EAAEJ,GAA+B,6BAACI,EAAEJ,GAAG,MAAMoW,eAAe/V,SAAS,sDAA2C,OAAL+D,YAAEpE,IAAU,IAAIK,GAAGgW,cAAc9V,KAAKH,EAAEJ,GAAGqV,uBAAuBjV,EAAEJ,EAAEK,EAAEM,GAAG,OAAOJ,KAAKwV,aAAaxV,KAAKwV,aAAaO,kBAAkBlW,EAAEJ,EAAEK,EAAEM,GAAGwB,QAAQuE,QAAQ,WAAmC,yBAACtG,GAAG,GAAGG,KAAKsT,WAAW,OAAOtT,KAAKsT,WAAW,MAAMxT,EAAE,CAAC6V,MAAM,CAAC/R,EAAE,UAAU5D,KAAK0V,UAAUC,OAAOhB,aAAa,OAAOhT,OAAO9B,GAAGO,QAAQX,kBAAEO,KAAK0V,UAAUvC,KAAKrT,GAAGM,EAAE4V,MAAMhW,KAAKuT,IAAIvT,KAAKuT,IAAInE,QAAQ,UAAU,WAAWpP,KAAKsT,WAAWlT,EAAEsG,KAAK1G,KAAK8M,KAAK1M,EAAEsG,KAAK,CAAC0L,OAAO,UAAUmB,IAAIvT,KAAK0V,YAAgBO,6BAAyB,OAAOjW,KAAK0U,UAAUwB,gBAAgBrW,YAAE,CAACL,YAAE,CAACyL,KAAK,CAAC6B,KAAK,CAACqJ,OAAO,qBAAqBjJ,EAAE/B,UAAU,iBAAY,GAAQtL,YAAE,CAACL,YAAE,CAAC4W,UAAS,EAAG9R,KAAKgE,OAAK4E,EAAE/B,UAAU,uBAAkB,GAAQtL,YAAE,CAACL,YAAE,CAAC8E,KAAK0G,OAAOC,KAAK,CAACqH,QAAQ,CAAC,YAAY,CAACxF,MAAK,EAAG5B,OAAM,IAAK4B,MAAK,MAAOI,EAAE/B,UAAU,YAAO,GAAQtL,YAAE,CAACL,YAAE,CAAC8E,KAAK,CAAC,OAAO,WAAW4I,EAAE/B,UAAU,gBAAW,GAAQtL,YAAE,CAACL,YAAE,CAACyL,KAAK,CAAC6B,MAAK,EAAG5B,OAAM,EAAGoH,QAAQ,CAAC+D,QAAQ,CAACvJ,MAAK,EAAG5B,OAAM,GAAI,cAAc,CAAC4B,MAAK,EAAG5B,OAAM,GAAI,eAAe,CAAC4B,MAAK,EAAG5B,OAAM,QAASgC,EAAE/B,UAAU,WAAW,MAAMtL,YAAE,CAACL,YAAE,CAACyL,KAAK,CAAC6B,MAAK,EAAG5B,OAAM,EAAGoH,QAAQ,CAAC+D,QAAQ,CAACvJ,MAAK,EAAG5B,OAAM,GAAI,cAAc,CAAC4B,MAAK,EAAG5B,OAAM,GAAI,eAAe,CAAC4B,MAAK,EAAG5B,OAAM,QAASgC,EAAE/B,UAAU,WAAW,MAAMtL,YAAE,CAACL,YAAE,CAACyL,KAAK,CAAC6B,MAAK,EAAG5B,OAAM,EAAGoH,QAAQ,CAAC,eAAe,CAACxF,MAAK,EAAG5B,OAAM,QAASgC,EAAE/B,UAAU,eAAU,GAAQtL,YAAE,CAACL,YAAE,CAAC8E,KAAK,CAAC,uCAAuC4I,EAAE/B,UAAU,4BAAuB,GAAQtL,YAAE,CAACL,eAAK0N,EAAE/B,UAAU,kBAAa,GAAQtL,YAAE,CAACL,YAAE,CAACyL,KAAK,CAAC6B,MAAK,GAAIZ,MAAM,YAAYkK,UAAS,KAAMlJ,EAAE/B,UAAU,YAAO,GAAQtL,YAAE,CAACL,YAAEkE,MAAIwJ,EAAE/B,UAAU,WAAM,GAAQtL,YAAE,CAACL,eAAK0N,EAAE/B,UAAU,eAAU,GAAQtL,YAAE,CAACkJ,YAAE,UAAU,CAAC,oBAAoBmE,EAAE/B,UAAU,cAAc,MAAM+B,EAAErN,YAAE,CAACwI,YAAE,+BAA+B6E,GAAGA,EAAE/B,UAAUuJ,UAAUwB,eAAc,EAAG,IAAIlO,EAAEkF","file":"static/js/44.31d2d221.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import r from\"../Logger.js\";import{isSome as s}from\"../maybe.js\";import{throwIfAborted as i}from\"../promiseUtils.js\";import{open as o}from\"./workers.js\";const h=r.getLogger(\"esri.core.workers.WorkerHandle\");class n{constructor(e,t,r,s={}){this._mainMethod=t,this._listeners=[],this._promise=o(e,{...s,schedule:r}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>h.error(`Failed to initialize ${e} worker: ${t}`)))}on(r,i){const o={removed:!1,eventName:r,callback:i,threadHandle:null};return this._listeners.push(o),this._connectListener(o),t((()=>{o.removed=!0,e(this._listeners,o),this._thread&&s(o.threadHandle)&&o.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,r){if(this._thread){const s=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:s,signal:r})}return this._promise?this._promise.then((()=>(i(r),this.invokeMethod(e,t,r)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{n as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{version as e}from\"../../kernel.js\";import s from\"../Error.js\";import{on as t}from\"../events.js\";import{isSome as o}from\"../maybe.js\";import{onAbortOrThrow as r,createAbortError as i,createAbortController as n,isPromiseLike as a,isAbortError as l}from\"../promiseUtils.js\";import{newJobId as c,MessageType as p,receiveMessage as h,toInvokeError as u,postMessage as _}from\"./utils.js\";import{commitHash as d,buildDate as m}from\"../../support/revision.js\";const g={statsWorker:()=>import(\"../../smartMapping/statistics/support/statsWorker.js\"),geometryEngineWorker:()=>import(\"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(\"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(\"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(\"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),FeatureServiceSnappingSourceWorker:()=>import(\"../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js\"),GeoJSONSourceWorker:()=>import(\"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(\"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(\"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(\"../../views/3d/support/PBFDecoderWorker.js\"),Pipeline:()=>import(\"../../views/2d/layers/features/Pipeline.js\"),PointCloudWorker:()=>import(\"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(\"../../layers/support/RasterWorker.js\"),SceneLayerWorker:()=>import(\"../../views/3d/layers/SceneLayerWorker.js\"),WFSSourceWorker:()=>import(\"../../layers/graphics/sources/WFSSourceWorker.js\"),WorkerTileHandler:()=>import(\"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\")},{CLOSE:b,ABORT:k,INVOKE:v,RESPONSE:y,OPEN_PORT:j,ON:f}=p;class M{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===p.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class S{constructor(e,s){this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new M((e=>this._onInvokeMessage(e))),this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,this._schedule=s.schedule,this._port.addEventListener(\"message\",this._onMessage),this._port.start()}static connect(e){const s=new MessageChannel;let t;t=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const o=new S(s.port1,{channel:s,client:t});return\"object\"==typeof t&&\"remoteClient\"in t&&(t.remoteClient=o),S.clients.set(o,t),s.port2}static loadWorker(e){const s=g[e];return s?s():Promise.resolve(null)}close(){this._post({type:b}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,o){const n=o&&o.signal,a=o&&o.transferList;if(!this._port)return Promise.reject(new s(\"worker:port-closed\",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const l=c();return new Promise(((s,o)=>{const c=r(n,(()=>{var e;const s=this._outJobs.get(l);s&&(this._outJobs.delete(l),null==(e=s.abortHandle)||e.remove(),this._post({type:k,jobId:l}),o(i()))})),p={resolve:s,reject:o,abortHandle:c,debugInfo:e};this._outJobs.set(l,p),this._post({type:v,jobId:l,methodName:e,abortable:null!=n},t,a)}))}on(e,s){const t=new MessageChannel;function o(e){s(e.data)}return this._port.postMessage({type:p.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",o),t.port1.start(),{remove(){t.port1.postMessage({type:p.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",o)}}}openPort(){const e=new MessageChannel;return this._post({type:j,port:e.port2}),e.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{var s;null==(s=e.abortHandle)||s.remove(),e.reject(i(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(e){o(this._schedule)?this._schedule((()=>this._processMessage(e))):this._processMessage(e)}_processMessage(e){const s=h(e);if(s)switch(s.type){case y:this._onResponseMessage(s);break;case v:this._invokeQueue.push(s);break;case k:this._onAbortMessage(s);break;case b:this._onCloseMessage();break;case j:this._onOpenPortMessage(s);break;case f:this._onOnMessage(s)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&S.clients.get(this)===e&&e.destroy(),S.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o,abortable:r}=e,i=r?n():null,c=this._inJobs;let p,h=this._client,_=h[s];try{if(!_&&s&&-1!==s.indexOf(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)h=h[e[s]],_=h[e[s+1]]}if(\"function\"!=typeof _)throw new TypeError(`${s} is not a function`);p=_.call(h,o,{client:this,signal:i?i.signal:null})}catch(d){return void this._post({type:y,jobId:t,error:u(d)})}a(p)?(c.set(t,{controller:i,promise:p}),p.then((e=>{c.has(t)&&(c.delete(t),this._post({type:y,jobId:t},e))}),(e=>{c.has(t)&&(c.delete(t),l(e)||this._post({type:y,jobId:t,error:u(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:y,jobId:t},p)}_onOpenPortMessage(e){new S(e.port,{client:this._client})}_onOnMessage(e){const{port:s}=e,o=this._client.on(e.eventType,(e=>{s.postMessage(e)})),r=t(e.port,\"message\",(e=>{h(e).type===p.CLOSE&&(r.remove(),o.remove(),s.close())}))}_onResponseMessage(e){var t;const{jobId:o,error:r,data:i}=e,n=this._outJobs;if(!n.has(o))return;const a=n.get(o);n.delete(o),null==(t=a.abortHandle)||t.remove(),r?a.reject(s.fromJSON(JSON.parse(r))):a.resolve(i)}_post(e,s,t){return _(this._port,e,s,t)}}S.kernelInfo={revision:d,version:e,buildDate:m},S.clients=new Map;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let r=0;function n(){return r++}function s(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function a(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function i(t,r,n,a){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let i;s(n)?(i=o(n.transferList),r.data=n.result):(i=o(a),r.data=n),i?t.postMessage(r,i):t.postMessage(r)}function f(t){if(!t)return null;const e=t.data;return e?\"string\"==typeof e?JSON.parse(e):e:null}function o(e){if(!e||!e.length)return null;if(t(\"esri-workers-arraybuffer-transfer\"))return e;const r=e.filter((t=>!u(t)));return r.length?r:null}function u(t){return t instanceof ArrayBuffer||t&&t.constructor&&\"ArrayBuffer\"===t.constructor.name}export{e as MessageType,s as isTranferableResult,n as newJobId,i as postMessage,f as receiveMessage,a as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e}from\"../handleUtils.js\";import t from\"../Logger.js\";import{isPromiseLike as s,throwIfAborted as i}from\"../promiseUtils.js\";import n from\"./RemoteClient.js\";const r=t.getLogger(\"esri.core.workers.Connection\");class l{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise(((r,l)=>{let o=!0;const h=e=>{i(t.signal),o&&(o=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length;for(let i=0;i<e.length;++i){const o=e[i];s(o)?this._clientPromises[i]=o.then((e=>(this._clients[i]=new n(e,t),h(r),this._clients[i])),(()=>(h(l),null))):(this._clients[i]=new n(o,t),this._clientPromises[i]=Promise.resolve(this._clients[i]),h(r))}}))}broadcast(e,t,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const r=this._clientPromises[n];i[n]=r.then((i=>i.invoke(e,t,s)))}return i}close(){for(const e of this._clientPromises)e.then((e=>e.close()));this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let e;for(let t=0;t<this._clients.length;++t){const s=this._clients[t];if(s){if(!s.isBusy())return Promise.resolve(s)}else e=e||[],e.push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(e,t,s){let i=null;if(Array.isArray(s)?(r.warn(\"invoke()\",\"The transferList parameter is deprecated, use the options object instead\"),i={transferList:s}):i=s,this.closed)return Promise.reject(new Error(\"Connection closed\"));return this.getAvailableClient().then((s=>s.invoke(e,t,i)))}on(t,s){return Promise.all(this._clientPromises).then((()=>e(this._clients.map((e=>e.on(t,s))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{t[i]=n.openPort(),0==--s&&e(t)}))}}))}get test(){return{numClients:this._clients.length}}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{ensureInteger as t}from\"../../core/accessorSupport/ensureType.js\";function n(n){const r=t(100*(1-n));return Math.max(0,Math.min(r,100))}function r(t){const n=1-t/100;return Math.max(0,Math.min(n,1))}export{n as opacityToTransparency,r as transparencyToOpacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends e{async collectRequiredFields(r,e){return t(r,e,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([s({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([s({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([o(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{strict as r,JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{isSome as s}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as u}from\"../../core/accessorSupport/decorators/writer.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=r()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new o({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends t{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:r}=this;return this._isOverridden(\"mode\")?this._get(\"mode\"):s(e)||r?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([i({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([n(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([u(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([i({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([i({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([i({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([p(\"esri.layers.support.ElevationInfo\")],c);var x=c;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../assets.js\";import\"../has.js\";import\"../urlUtils.js\";let a=null;const s={};function e(a,s){for(const e of a)if(e.name===s.name)return;a.push(s)}function r(a){var r;const n={async:a.async,isDebug:a.isDebug,locale:a.locale,baseUrl:a.baseUrl,has:{...a.has},map:{...a.map},packages:a.packages&&a.packages.concat()||[],paths:{...a.paths}};return a.hasOwnProperty(\"async\")||(n.async=!0),a.hasOwnProperty(\"isDebug\")||(n.isDebug=!1),a.baseUrl||(n.baseUrl=s.baseUrl),null==(r=s.packages)||r.forEach((a=>{e(n.packages,a)})),n}export{a as DEFAULT_LOADER_URL,r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../global.js\";import t from\"./RemoteClient.js\";import{MessageType as s,receiveMessage as r}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((t=>{this[t]=(...s)=>e[t](...s)}))}}const o=e.MutationObserver||e.WebKitMutationObserver,a=function(){let t;if(e.process&&e.process.nextTick)t=t=>{e.process.nextTick(t)};else if(e.Promise)t=t=>{e.Promise.resolve().then(t)};else if(o){const e=[],s=document.createElement(\"div\");new o((()=>{for(;e.length>0;)e.shift()()})).observe(s,{attributes:!0}),t=t=>{e.push(t),s.setAttribute(\"queueStatus\",\"1\")}}return t}(),i=(()=>{const t=e.MessageEvent;try{new t(\"message\",{data:null})}catch{return(e,t={})=>{const{data:s,bubbles:r=!1,cancelable:n=!1}=t,o=document.createEvent(\"Event\");return o.initEvent(e,r,n),o.data=s,o}}return(e,s)=>new t(e,s)})();class d{constructor(){this._dispatcher=new n,this._workerPostMessage({type:s.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(e){a((()=>{this._workerMessageHandler(i(\"message\",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,s){this._dispatcher.addEventListener(e,t,s)}removeEventListener(e,t,s){this._dispatcher.removeEventListener(e,t,s)}_workerPostMessage(e){a((()=>{this.dispatchEvent(i(\"message\",{data:e}))}))}async _workerMessageHandler(e){const n=r(e);if(n&&n.type===s.OPEN){const{modulePath:e,jobId:r}=n;let o=await t.loadWorker(e);o||(o=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\ne));const a=t.connect(o);this._workerPostMessage({type:s.OPENED,jobId:r,data:a})}}}export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import r from\"../../config.js\";import\"../../intl.js\";import{version as o}from\"../../kernel.js\";import t from\"../has.js\";import s from\"../Logger.js\";import{makeAbsolute as i}from\"../urlUtils.js\";import n from\"./loaderConfig.js\";import{receiveMessage as a,MessageType as l}from\"./utils.js\";import f from\"./WorkerFallback.js\";import{getLocale as c}from\"../../intl/locale.js\";import{buildDate as d,commitHash as u}from\"../../support/revision.js\";const m=s.getLogger(\"esri.core.workers\"),{HANDSHAKE:g}=l,p='let globalId=0;const outgoing=new Map,configuration=JSON.parse(\"{CONFIGURATION}\");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener(\"abort\",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}\"function\"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let k,h;const w=\"Failed to create Worker. Fallback to execute module in main thread\";async function v(){if(!t(\"esri-workers\"))return b(new f);if(!k&&!h)try{const e=p.replace('\"{CONFIGURATION}\"',`'${y()}'`);k=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(r){h=r||{}}let e;if(k)try{e=new Worker(k,{name:\"esri-worker-\"+P++})}catch(r){m.warn(w,h),e=new f}else m.warn(w,h),e=new f;return b(e)}async function b(e){return new Promise((r=>{function o(s){const i=a(s);i&&i.type===g&&(e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),r(e))}function t(r){r.preventDefault(),e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),m.warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new f).addEventListener(\"message\",o),e.addEventListener(\"error\",t)}e.addEventListener(\"message\",o),e.addEventListener(\"error\",t)}))}function y(){let s;if(null!=r.default){const e={...r};delete e.default,s=JSON.parse(JSON.stringify(e))}else s=JSON.parse(JSON.stringify(r));s.assetsPath=i(s.assetsPath),s.request.interceptors=[],s.log.interceptors=[],s.locale=c(),s.has={\"csp-restrictions\":t(\"csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":t(\"esri-2d-update-debug\"),\"esri-2d-query-centroid-enabled\":t(\"esri-2d-query-centroid-enabled\"),\"featurelayer-pbf\":t(\"featurelayer-pbf\"),\"featurelayer-simplify-thresholds\":t(\"featurelayer-simplify-thresholds\"),\"featurelayer-simplify-payload-size-factors\":t(\"featurelayer-simplify-payload-size-factors\"),\"esri-atomics\":t(\"esri-atomics\"),\"esri-shared-array-buffer\":t(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":t(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":t(\"esri-workers-arraybuffer-transfer\"),\"host-webworker\":1},s.workers.loaderUrl&&(s.workers.loaderUrl=i(s.workers.loaderUrl)),s.workers.workerPath?s.workers.workerPath=i(s.workers.workerPath):s.workers.workerPath=i(e(\"esri/core/workers/RemoteClient.js\"));const a=r.workers.loaderConfig,l=n({baseUrl:null==a?void 0:a.baseUrl,locale:c(),has:{\"csp-restrictions\":t(\"csp-restrictions\"),\"dojo-test-sniff\":0,\"host-webworker\":1,...null==a?void 0:a.has},map:{...null==a?void 0:a.map},paths:{...null==a?void 0:a.paths},packages:(null==a?void 0:a.packages)||[]}),f={version:o,buildDate:d,revision:u};return JSON.stringify({esriConfig:s,loaderConfig:l,kernelInfo:f})}let P=0;export{v as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{workerMessages as e}from\"../../kernel.js\";import t from\"../Error.js\";import o from\"../Logger.js\";import{onAbortOrThrow as s,createAbortController as r,isPromiseLike as n,isAbortError as a}from\"../promiseUtils.js\";import{newJobId as i,receiveMessage as l,toInvokeError as d,postMessage as h,MessageType as c}from\"./utils.js\";import{createWorker as p}from\"./workerFactory.js\";const b=o.getLogger(\"esri.core.workers\"),{ABORT:m,INVOKE:_,OPEN:u,OPENED:g,RESPONSE:j}=c;class f{constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),b.error(e)}))}static async create(e){const t=await p();return new f(t,e)}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:o}=t,r=i();return new Promise(((t,n)=>{const a={resolve:t,reject:n,abortHandle:s(o,(()=>{this._outJobs.delete(r),this._post({type:m,jobId:r})}))};this._outJobs.set(r,a),this._post({type:u,jobId:r,modulePath:e})}))}_onMessage(e){const t=l(e);if(t)switch(t.type){case g:this._onOpenedMessage(t);break;case j:this._onResponseMessage(t);break;case m:this._onAbortMessage(t);break;case _:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(t){const{methodName:o,jobId:s,data:i,abortable:l}=t,h=l?r():null,c=this._inJobs,p=e[o];let b;try{if(\"function\"!=typeof p)throw new TypeError(`${o} is not a function`);b=p.call(null,i,{signal:h?h.signal:null})}catch(m){return void this._post({type:j,jobId:s,error:d(m)})}n(b)?(c.set(s,{controller:h,promise:b}),b.then((e=>{c.has(s)&&(c.delete(s),this._post({type:j,jobId:s},e))}),(e=>{c.has(s)&&(c.delete(s),e||(e={message:\"Error encountered at method\"+o}),a(e)||this._post({type:j,jobId:s,error:d(e||{message:`Error encountered at method ${o}`})}))}))):this._post({type:j,jobId:s},b)}_onOpenedMessage(e){var t;const{jobId:o,data:s}=e,r=this._outJobs.get(o);r&&(this._outJobs.delete(o),null==(t=r.abortHandle)||t.remove(),r.resolve(s))}_onResponseMessage(e){var o;const{jobId:s,error:r,data:n}=e,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),null==(o=a.abortHandle)||o.remove(),r?a.reject(t.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return h(this.worker,e,t,o)}}export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../Error.js\";import r from\"../has.js\";import{throwIfAborted as e,createAbortController as o}from\"../promiseUtils.js\";import n from\"./Connection.js\";export{default as Connection}from\"./Connection.js\";import i from\"./RemoteClient.js\";export{default as RemoteClient}from\"./RemoteClient.js\";import s from\"./WorkerOwner.js\";let a=r(\"esri-workers-debug\")?1:r(\"host-browser\")?navigator.hardwareConcurrency-1:0;a||(a=r(\"safari\")&&r(\"mac\")||r(\"trident\")?7:2);let l=0;const c=[];function m(){g()}function f(t,r){return u(t,{client:r})}async function u(t,r){const e=new n;return await e.open(t,r),e}async function p(o,n={}){if(\"string\"!=typeof o)throw new t(\"workers:undefined-module\",\"modulePath is missing\");let s=n.strategy||\"distributed\";if(r(\"host-webworker\")&&!r(\"esri-workers\")&&(s=\"local\"),\"local\"===s){let t=await i.loadWorker(o);t||(t=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\no)),e(n.signal);const r=n.client||t;return u([i.connect(t)],{...n,client:r})}if(await g(),e(n.signal),\"dedicated\"===s){const t=l++%a;return u([await c[t].open(o,n)],n)}if(n.maxNumWorkers&&n.maxNumWorkers>0){const t=Math.min(n.maxNumWorkers,a);if(t<a){const r=new Array(t);for(let e=0;e<t;++e){const t=l++%a;r[e]=c[t].open(o,n)}return u(r,n)}}return u(c.map((t=>t.open(o,n))),n)}function w(){h&&(d.abort(),h=null);for(let t=0;t<c.length;t++)c[t]&&c[t].terminate();c.length=0}let d,h=null;async function g(){if(h)return h;d=o();const t=[];for(let r=0;r<a;r++){const e=s.create(r).then((t=>(c[r]=t,t)));t.push(e)}return h=Promise.all(t),h}export{m as initialize,p as open,f as openWithPorts,w as terminate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{removeUnordered as t}from\"../core/arrayUtils.js\";import{strict as r}from\"../core/jsonMap.js\";import{JSONSupport as o}from\"../core/JSONSupport.js\";import{unitFromRESTJSON as i,getVerticalUnitStringForSR as s}from\"../core/unitUtils.js\";import n from\"../core/Warning.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";var d;const p=r()({orthometric:\"gravity-related-height\",gravity_related_height:\"gravity-related-height\",ellipsoidal:\"ellipsoidal\"}),u=p.jsonValues.slice();t(u,\"orthometric\");const g=r()({meter:\"meters\",foot:\"feet\",\"us-foot\":\"us-feet\",\"clarke-foot\":\"clarke-feet\",\"clarke-yard\":\"clarke-yards\",\"clarke-link\":\"clarke-links\",\"sears-yard\":\"sears-yards\",\"sears-foot\":\"sears-feet\",\"sears-chain\":\"sears-chains\",\"benoit-1895-b-chain\":\"benoit-1895-b-chains\",\"indian-yard\":\"indian-yards\",\"indian-1937-yard\":\"indian-1937-yards\",\"gold-coast-foot\":\"gold-coast-feet\",\"sears-1922-truncated-chain\":\"sears-1922-truncated-chains\",\"50-kilometers\":\"50-kilometers\",\"150-kilometers\":\"150-kilometers\"});let m=d=class extends o{constructor(e){super(e),this.heightModel=\"gravity-related-height\",this.heightUnit=\"meters\",this.vertCRS=null}writeHeightModel(e,t,r){return p.write(e,t,r)}readHeightModel(e,t,r){const o=p.read(e);return o||(r&&r.messages&&r.messages.push(f(e,{context:r})),null)}readHeightUnit(e,t,r){const o=g.read(e);return o||(r&&r.messages&&r.messages.push(y(e,{context:r})),null)}readHeightUnitService(e,t,r){const o=i(e)||g.read(e);return o||(r&&r.messages&&r.messages.push(y(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new d({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=s(t);return new d({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:\"web-scene\",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new d;return t.read(e,{origin:\"web-scene\"}),t}};function y(e,t){return new n(\"height-unit:unsupported\",`Height unit of value '${e}' is not supported`,t)}function f(e,t){return new n(\"height-model:unsupported\",`Height model of value '${e}' is not supported`,t)}e([a({type:p.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:u,default:\"ellipsoidal\"}}}})],m.prototype,\"heightModel\",void 0),e([h(\"web-scene\",\"heightModel\")],m.prototype,\"writeHeightModel\",null),e([l([\"web-scene\",\"service\"],\"heightModel\")],m.prototype,\"readHeightModel\",null),e([a({type:g.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:g.jsonValues,write:g.write}}}})],m.prototype,\"heightUnit\",void 0),e([l(\"web-scene\",\"heightUnit\")],m.prototype,\"readHeightUnit\",null),e([l(\"service\",\"heightUnit\")],m.prototype,\"readHeightUnitService\",null),e([a({type:String,constructOnly:!0,json:{origins:{\"web-scene\":{write:!0}}}})],m.prototype,\"vertCRS\",void 0),e([l(\"service\",\"vertCRS\",[\"vertCRS\",\"ellipsoid\",\"geoid\"])],m.prototype,\"readVertCRS\",null),m=d=e([c(\"esri.geometry.HeightModelInfo\")],m);var v=m;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}function e(){const n=Object.keys(t);return n.sort(),n}const o=e();export{r as getMetersPerUnit,o as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{unwrap as e,isSome as r}from\"../../core/maybe.js\";import{WorkerHandle as t}from\"../../core/workers/WorkerHandle.js\";class s extends t{constructor(e=null){super(\"LercWorker\",\"_decode\",e,{strategy:\"dedicated\"}),this.schedule=e,this.ref=0}decode(e,r,t){return e&&0!==e.byteLength?this.invoke({buffer:e,options:r},t):Promise.resolve(null)}getTransferList(e){return[e.buffer]}release(){--this.ref<=0&&(o.forEach(((e,r)=>{e===this&&o.delete(r)})),this.destroy())}}const o=new Map;function n(t=null){let n=o.get(e(t));return n||(r(t)?(n=new s((e=>t.schedule(e))),o.set(t,n)):(n=new s,o.set(null,n))),++n.ref,n}export{n as acquireDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import o from\"../core/Logger.js\";import{releaseMaybe as i,isSome as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as a}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as l,createAbortController as n,throwIfAborted as p}from\"../core/promiseUtils.js\";import{objectToQuery as c}from\"../core/urlUtils.js\";import{property as h}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"../geometry/HeightModelInfo.js\";import y from\"./Layer.js\";import{ArcGISCachedService as v}from\"./mixins/ArcGISCachedService.js\";import{ArcGISService as f}from\"./mixins/ArcGISService.js\";import{OperationalLayer as g}from\"./mixins/OperationalLayer.js\";import{PortalLayer as S}from\"./mixins/PortalLayer.js\";import{url as j}from\"./support/commonProperties.js\";import{acquireDecoder as w}from\"./support/LercDecoder.js\";const T=o.getLogger(\"esri.layers.ElevationLayer\");let x=class extends(v(f(g(S(a(y)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=w()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=i(this._lercDecoder)}set minScale(e){this.constructed&&T.warn(`${this.declaredClass}.minScale support has been removed (since 4.5)`)}get minScale(){}set maxScale(e){this.constructed&&T.warn(`${this.declaredClass}.maxScale support has been removed (since 4.5)`)}get maxScale(){}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=s(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new t(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).catch(l).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,o,i){const a=s((i=i||{signal:null}).signal)?i.signal:i.signal=n().signal,l={responseType:\"array-buffer\",signal:a},p={noDataValue:i.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,o,i))).then((()=>r(this.getTileUrl(e,t,o),l))).then((e=>this._lercDecoder.decode(e.data,p,a))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,r,t){const o=!this.tilemapCache&&this.supportsBlankTile,i=c({...this.parsedUrl.query,blankTile:!o&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");p(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");p(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,o){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,o):Promise.resolve(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},o=await r(this.parsedUrl.path,t);o.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=o.data,this.read(o.data,{origin:\"service\",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile.__isDefault__}};e([h({json:{read:{source:\"copyrightText\"}}})],x.prototype,\"copyright\",void 0),e([h({readOnly:!0,type:u})],x.prototype,\"heightModelInfo\",void 0),e([h({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],x.prototype,\"path\",void 0),e([h({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),e([h({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],x.prototype,\"minScale\",null),e([h({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],x.prototype,\"maxScale\",null),e([h({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],x.prototype,\"opacity\",void 0),e([h({type:[\"ArcGISTiledElevationServiceLayer\"]})],x.prototype,\"operationalLayerType\",void 0),e([h()],x.prototype,\"sourceJSON\",void 0),e([h({json:{read:!1},value:\"elevation\",readOnly:!0})],x.prototype,\"type\",void 0),e([h(j)],x.prototype,\"url\",void 0),e([h()],x.prototype,\"version\",void 0),e([m(\"version\",[\"currentVersion\"])],x.prototype,\"readVersion\",null),x=e([d(\"esri.layers.ElevationLayer\")],x),x.prototype.fetchTile.__isDefault__=!0;var _=x;export{_ as default};\n"],"sourceRoot":""}