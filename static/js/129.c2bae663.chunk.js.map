{"version":3,"sources":["../node_modules/@arcgis/core/core/interatorUtils.js","../node_modules/@arcgis/core/layers/ogc/dateUtils.js","../node_modules/@arcgis/core/layers/ogc/wfsUtils.js","../node_modules/@arcgis/core/layers/support/Domain.js","../node_modules/@arcgis/core/layers/support/CodedValue.js","../node_modules/@arcgis/core/layers/support/CodedValueDomain.js","../node_modules/@arcgis/core/layers/support/InheritedDomain.js","../node_modules/@arcgis/core/layers/support/RangeDomain.js","../node_modules/@arcgis/core/layers/support/Field.js","../node_modules/@arcgis/core/layers/support/domains.js","../node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js","../node_modules/@arcgis/core/layers/ogc/xmlUtils.js"],"names":["n","o","f","s","e","t","u","r","exec","l","groups","year","i","month","d","day","a","hours","c","minutes","m","seconds","g","ms","T","padEnd","substring","N","isUTC","Date","UTC","offsetSign","offsetHours","offsetMinutes","getTime","Number","isNaN","F","S","x","v","C","E","j","A","G","k","async","U","ee","firstElementChild","getAttribute","re","ne","Map","operations","O","featureTypes","Array","from","M","readFeatureTypes","D","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","data","DescribeFeatureType","url","GetFeature","L","I","Set","GetCapabilities","outputFormat","supportsPagination","w","OperationsMetadata","Operation","DCP","HTTP","Get","Parameter","AllowedValues","Value","textContent","has","toLowerCase","Constraint","DefaultValue","FeatureTypeList","FeatureType","get","typeName","name","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","match","wkid","add","Name","prefix","te","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","$","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","push","set","V","W","featureType","h","WGS84","next","value","y","p","X","fields","geometryType","swapXY","objectIdField","geometryField","_","z","error","errors","q","Y","wfsCapabilities","find","type","filter","b","alias","unshift","Promise","all","B","count","K","features","geometry","fromJSON","coordinates","toFixed","element","complexType","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","length","XMLSerializer","serializeToString","Q","H","document","J","TYPENAME","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText","inherited","codedValue","range","constructor","super","this","String","json","write","prototype","code","clone","codedValues","getName","some","maxValue","minValue","read","source","reader","enabled","overridePolicy","target","writer","binary","coordinate","countOrAmount","dateAndTime","locationOrPlaceName","measurement","nameOrTitle","none","orderedOrRanked","percentageOrRatio","typeOrCategory","uniqueIdentifier","defaultValue","domain","editable","valueType","readDescription","readValueType","fieldValueType","allowNull","types","Boolean","key","base","typeMap","_queryEngine","_customParameters","_snapshotFeatures","_getFeatureUrl","_featureType","_getFeatureOutputFormat","fieldsIndex","hasZ","_fieldsIndex","attributes","objectId","destroy","getFeatureUrl","getFeatureOutputFormat","_checkProjection","hasM","timeInfo","featureStore","addMany","fullExtent","_waitSnapshotComplete","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","setCustomParameters","_snapshotTask","abort","promise","then","clear","getLogger","finished","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","P","lengths","coords","crs","properties","RegExp","test","NEGATIVE_INFINITY","id","Object","keys","Math","max","delete","maxObjectId","objectIdFieldName","objectIdFieldType","unknownFields","ignoreUnknown","apiValues","readOnly","jsonValues","default"],"mappings":"0UAIA,SAASA,EAAEA,EAAEC,GAAG,IAAI,MAAMC,KAAKF,EAAE,GAAG,MAAME,GAAGD,EAAEC,GAAG,OAAOA,E,gECAzD,SAASF,EAAEA,GAAG,IAAIG,EAAE,OAAO,OAAOA,EAAyF,SAAWH,GAAG,IAAII,EAAEC,EAAEC,EAAEC,EAAE,MAAMN,EAAEE,EAAEK,KAAKR,GAAG,IAAIC,EAAE,OAAO,KAAK,MAAMQ,EAAER,EAAES,OAAOR,GAAGO,EAAEE,KAAKC,GAAGH,EAAEI,MAAM,EAAEC,GAAGL,EAAEM,IAAIC,IAAI,OAAOZ,EAAEK,EAAEQ,OAAOb,EAAE,KAAKc,IAAI,OAAOb,EAAEI,EAAEU,SAASd,EAAE,KAAKe,IAAI,OAAOd,EAAEG,EAAEY,SAASf,EAAE,KAAK,GAAGU,EAAE,GAAG,OAAO,KAAK,GAAGE,EAAE,GAAG,OAAO,KAAK,GAAGE,EAAE,GAAG,OAAO,KAAK,MAAME,EAAE,OAAOf,EAAEE,EAAEc,IAAIhB,EAAE,IAAIiB,EAAEF,GAAGA,EAAEG,OAAO,EAAE,KAAKC,UAAU,EAAE,GAAG,EAAE,IAAIC,EAAE,GAAGlB,EAAEmB,MAAMD,EAAEE,KAAKC,IAAI5B,EAAEU,EAAEE,EAAEE,EAAEE,EAAEE,EAAEI,QAAQ,GAAGf,EAAEsB,WAAW,CAAC,MAAM/B,GAAGS,EAAEuB,YAAY5B,GAAGK,EAAEwB,cAAcN,EAAE,KAAK,MAAMlB,EAAEsB,YAAY,EAAE,IAAI,GAAG/B,EAAEI,GAAGyB,KAAKC,IAAI5B,EAAEU,EAAEE,EAAEE,EAAEE,EAAEE,EAAEI,QAAQG,EAAE,IAAIE,KAAK3B,EAAEU,EAAEE,EAAEE,EAAEE,EAAEE,EAAEI,GAAGU,UAAU,OAAOC,OAAOC,MAAMT,GAAG,KAAKA,EAAjpBtB,CAAEL,IAAIG,EAAO,SAAWH,GAAG,MAAMI,EAAE,IAAIyB,KAAK7B,GAAGkC,UAAU,OAAOC,OAAOC,MAAMhC,GAAG,KAAKA,EAA7EA,CAAEJ,GAAyoB,MAAMG,EAAE,uN,sCCAoM,MAAMkC,EAAE,aAAaC,EAAE,QAAQC,EAAE,kBAAkBC,EAAE,sCAAsCC,EAAE,0BAA0BC,EAAE,mCAA6IC,EAAE,kCAAkCC,EAAE,+BAA+BC,EAAE,0CAA0CC,EAAE,oCAAoCC,eAAeC,EAAE3C,EAAEE,GAAG,MAAMP,EAA2L,SAAWI,GAAG,MAAMC,EAAE4C,EAAG7C,IAAw/R,SAAYA,GAAG,MAAMG,EAAEH,EAAE8C,kBAAkBC,aAAa,WAAW,GAAG5C,GAAGA,IAAI+B,EAAE,MAAM,IAAIjC,IAAEyC,EAAG,2BAA0BvC,yBAAyB+B,MAAtoSc,CAAG/C,GAAGgD,EAAGhD,GAAG,MAAME,EAAEF,EAAE6C,kBAAkBlD,EAAE,IAAIsD,IAAI,MAAM,CAACC,WAAWC,EAAEjD,GAAOkD,mBAAe,OAAOC,MAAMC,KAAKC,EAAErD,EAAEP,KAAK6D,iBAAiB,IAAID,EAAErD,EAAEP,IAArW8D,QAAS1D,kBAAEC,EAAE,CAAC0D,aAAa,OAAOC,MAAM,CAACC,QAAQ,MAAMC,QAAQ,kBAAkBC,QAAQ7B,KAAK,MAAM/B,OAAE,EAAOA,EAAE6D,kBAAkBC,OAAO,MAAM9D,OAAE,EAAOA,EAAE8D,UAAUC,MAAM,OAAg3C,SAAWlE,EAAEC,GAAGF,YAAEC,KAAKQ,YAAER,EAAEC,EAAEkD,WAAWgB,oBAAoBC,KAAI,KAAMnE,EAAEkD,WAAWgB,oBAAoBC,IAAIlE,YAAED,EAAEkD,WAAWgB,oBAAoBC,MAAM5D,YAAER,EAAEC,EAAEkD,WAAWkB,WAAWD,KAAI,KAAMnE,EAAEkD,WAAWkB,WAAWD,IAAIlE,YAAED,EAAEkD,WAAWkB,WAAWD,OAAzlDE,CAAErE,EAAEL,GAAGA,EAAkL,MAAM2E,EAAE,IAAIC,IAAI,CAAC,OAAO,mBAAmB,UAAU,sCAAsC,SAASpB,EAAEpD,GAAG,IAAIG,GAAE,EAAG,MAAMS,EAAE,CAAC6D,gBAAgB,CAACL,IAAI,IAAID,oBAAoB,CAACC,IAAI,IAAIC,WAAW,CAACD,IAAI,GAAGM,aAAa,KAAKC,oBAAmB,IAAK,GAAGC,YAAE5E,EAAE,CAAC6E,mBAAmB,CAACC,UAAU9E,IAAI,OAAOA,EAAE+C,aAAa,SAAS,IAAI,kBAAkB,MAAM,CAACgC,IAAI,CAACC,KAAK,CAACC,IAAIjF,IAAIY,EAAE6D,gBAAgBL,IAAIpE,EAAE+C,aAAad,OAAO,IAAI,sBAAsB,MAAM,CAAC8C,IAAI,CAACC,KAAK,CAACC,IAAIjF,IAAIY,EAAEuD,oBAAoBC,IAAIpE,EAAE+C,aAAad,OAAO,IAAI,aAAa,MAAM,CAAC8C,IAAI,CAACC,KAAK,CAACC,IAAIjF,IAAIY,EAAEyD,WAAWD,IAAIpE,EAAE+C,aAAad,MAAMiD,UAAUlF,IAAI,GAAG,iBAAiBA,EAAE+C,aAAa,QAAQ,MAAM,CAACoC,cAAc,CAACC,MAAMpF,IAAI,MAAMC,EAAED,EAAEqF,YAAYd,EAAEe,IAAIrF,EAAEsF,iBAAiB3E,EAAEyD,WAAWK,aAAazE,UAAUuF,WAAWxF,IAAI,OAAOA,EAAE+C,aAAa,SAAS,IAAI,cAAc,MAAM,CAAC0C,aAAazF,IAAIG,EAAE,SAASH,EAAEqF,YAAYE,gBAAgB,IAAI,yBAAyB,MAAM,CAACE,aAAazF,IAAIY,EAAEyD,WAAWM,mBAAmB,SAAS3E,EAAEqF,YAAYE,sBAAsBpF,EAAE,MAAM,IAAIF,IAArmD,uCAAymD,6DAA6D,GAAGL,YAAEgB,EAAEyD,WAAWK,cAAc,MAAM,IAAIzE,IAApvD,kCAAwvD,qDAAqD,OAAOW,EAAyP,SAAS4C,EAAExD,EAAEC,GAAG,OAAOiB,YAAElB,EAAE,CAAC0F,gBAAgB,CAACC,YAAY3F,IAAI,GAAGC,EAAEqF,IAAItF,GAAG,OAAOC,EAAE2F,IAAI5F,GAAG,MAAMG,EAAE,CAAC0F,SAAS,sBAAsBC,KAAK,GAAGC,MAAM,GAAGC,YAAY,GAAGC,OAAO,KAAKC,gBAAgB,GAAGC,aAAa,GAAGC,2BAA2B,IAAIxG,EAAE,IAAI4E,IAAI,CAAC,OAAO5D,EAAEZ,IAAI,IAAIC,EAAEE,EAAE,MAAMS,EAAEyF,SAAS,OAAOpG,EAAED,EAAEqF,YAAYiB,MAAM,oBAAoB,OAAOnG,EAAEF,EAAEK,aAAQ,EAAOH,EAAEoG,KAAK,IAAIxE,OAAOC,MAAMpB,IAAIhB,EAAE4G,IAAI5F,IAAI,OAAOgE,YAAE5E,EAAE,CAACyG,KAAKzG,IAAI,MAAM8F,KAAK7F,EAAEyG,OAAO9G,GAAG+G,EAAG3G,EAAEqF,aAAalF,EAAE0F,SAAU,GAAEjG,KAAKK,IAAIE,EAAE2F,KAAK7F,EAAEE,EAAE+F,gBAAgBtG,EAAEO,EAAEgG,aAAanG,EAAE4G,mBAAmBhH,IAAIiH,SAAS7G,IAAIG,EAAE6F,YAAYhG,EAAEqF,aAAayB,MAAM9G,IAAIG,EAAE4F,MAAM/F,EAAEqF,aAAa0B,iBAAiB/G,IAAIG,EAAE8F,OAAkJ,SAAWjG,GAAG,IAAIC,EAAEE,EAAEP,EAAEgB,EAAE,IAAI,MAAMf,KAAKG,EAAEgH,SAAS,OAAOnH,EAAEoH,WAAW,IAAI,eAAehH,EAAEE,GAAGN,EAAEwF,YAAY6B,MAAM,KAAKC,KAAKnH,GAAG+B,OAAOqF,WAAWpH,KAAK,MAAM,IAAI,eAAeJ,EAAEgB,GAAGf,EAAEwF,YAAY6B,MAAM,KAAKC,KAAKnH,GAAG+B,OAAOqF,WAAWpH,KAAK,MAAM,CAACqH,KAAKpH,EAAEqH,KAAKnH,EAAEoH,KAAK3H,EAAE4H,KAAK5G,EAAE6G,iBAAiB3G,KAA7a4G,CAAE1H,IAAI2H,WAAW/G,EAAEgH,WAAWhH,EAAEiH,SAASjH,EAAEkH,SAASlH,IAAIT,EAAE4F,QAAQ5F,EAAE4F,MAAM5F,EAAE2F,MAAM3F,EAAEiG,2BAA2B2B,QAAQnI,GAAGK,EAAE+H,IAAIhI,EAAEG,GAAGA,MAA2S,SAAS8H,EAAEjI,EAAEC,EAAEL,GAAG,OAAOO,EAAEH,GAAGA,GAAGJ,EAAEI,EAAE8F,OAAO7F,GAAGD,EAAEmG,eAAevG,EAAEI,EAAE6F,WAAW5F,GAAGD,EAAE8F,OAAO7F,IAAI0C,eAAeuF,EAAElI,EAAEC,EAAEE,EAAEP,EAAE,IAAI,IAAIgB,EAAE,MAAMuH,YAAYtI,EAAEoG,OAAOlG,SAA4X4C,eAAiB3C,EAAEG,EAAES,EAAEf,EAAE,IAAI,MAAM4H,iBAAiB1H,EAAEqI,IAAEC,OAAOxI,EAAEW,EAAER,EAAEyD,mBAAmBvD,EAAEC,EAAE8H,EAAEzH,EAAEL,EAAES,GAAGJ,EAAE8H,OAAOC,MAAM,GAAG3I,YAAEM,GAAG,MAAMC,EAAE,IAAIF,IAAEqC,EAAG,aAAYnC,wCAAwC,IAAIF,IAAEoC,EAAE,wBAAwB,IAAImG,EAAE,IAAIpH,IAAE,IAAIlB,EAAE+F,OAAOwB,iBAAiB1H,IAAI,IAAIiB,YAAEjB,EAAEe,KAAG,UAAUT,YAAES,IAAEf,OAAE,EAAOF,GAAG2I,EAAEC,YAAED,EAAE1H,KAAG,MAAM,MAAM,IAAIb,IAAEwC,EAAE,4BAA4B,MAAM,CAACwD,OAAOuC,EAAEf,iBAAiB1H,EAAEoI,YAAYjI,GAA/wBwI,CAAE1I,EAAEC,EAAEE,EAAEP,IAAI+I,OAAOnI,EAAEoI,aAAa1I,EAAE2I,OAAOxI,EAAEyI,cAAcL,EAAEM,cAAcjI,SAAusB6B,eAAiB3C,EAAEG,EAAES,EAAE,IAAI,MAAMb,EAAES,SAASX,YAAE,CAACmJ,EAAEhJ,EAAEmD,WAAWgB,oBAAoBC,IAAIjE,EAAES,GAAGqI,EAAEjJ,EAAEG,EAAES,KAAK,GAAGb,EAAEmJ,OAAO1I,EAAE0I,MAAM,MAAM,IAAIjJ,IAAEmC,EAAG,gEAA+DjC,KAAK,CAAC+I,MAAMnJ,EAAEmJ,OAAO1I,EAAE0I,QAAQ,MAAMP,OAAOzI,EAAEiJ,OAAO9I,GAAGN,EAAEwI,MAAME,EAAE1I,EAAEwI,MAAMK,cAAcpI,EAAE+H,MAAMK,aAAa9H,EAAEN,EAAE+H,MAAMM,OAAO,GAAGjJ,YAAE6I,GAAG,MAAM,IAAIxI,IAAEsC,EAAG,uDAAsDpC,IAAI,CAAC0F,SAAS1F,EAAEyI,aAAaH,EAAEE,OAAOzI,EAAEiJ,OAAO9I,IAAI,MAAM,IAAI+I,EAAElJ,GAAG0I,aAAaH,EAAEI,OAAO/H,GAAzqCuI,CAAErJ,EAAEH,EAAEgG,SAASjG,GAAG,MAAM,CAACwE,IAAIpE,EAAEmD,WAAWsB,gBAAgBL,IAAI0B,KAAKjG,EAAEiG,KAAKK,aAAatG,EAAEsG,aAAawC,OAAOnI,EAAEuI,cAAcjI,EAAE8H,aAAa1I,EAAE4I,cAAcL,EAAEhB,iBAAiB,OAAO7G,EAAEhB,EAAE6H,kBAAkB7G,EAAEwH,IAAEC,MAAMpC,OAAOlG,EAAE8I,OAAOxI,EAAEiJ,gBAAgBtJ,EAAEgE,iBAAiBpE,EAAEoE,kBAA+5B,SAASoF,EAAEpJ,GAAG,IAAIC,EAAE,MAAME,EAAEH,EAAEuJ,MAAMvJ,GAAG,aAAaA,EAAEwJ,OAAO,IAAI5J,EAAEI,EAAEuJ,MAAMvJ,GAAG,QAAQA,EAAEwJ,OAAO,OAAOxJ,EAAEA,EAAEyJ,QAAQzJ,GAAG,aAAaA,EAAEwJ,OAAO5J,IAAIA,EAAE,IAAI8J,IAAE,CAAC5D,KAAK3D,EAAEqH,KAAK,MAAMG,MAAMxH,IAAInC,EAAE4J,QAAQhK,IAAI,CAACmJ,cAAc,OAAO9I,EAAE,MAAME,OAAE,EAAOA,EAAE2F,MAAM7F,EAAE,KAAK6I,cAAclJ,EAAEkG,KAAK6C,OAAO3I,GAAG2C,eAAesG,EAAEhJ,EAAEE,EAAEP,EAAE,IAAI,IAAIgB,EAAE,IAAIf,EAAEE,GAAE,EAAG,MAAMS,EAAEN,SAAS2J,QAAQC,IAAI,CAACC,EAAE9J,EAAEkD,WAAWkB,WAAWD,IAAIjE,EAAEF,EAAEkD,WAAWkB,WAAWK,aAAa,IAAI9E,EAAEoK,MAAM,IAAIhK,kBAAEC,EAAEkD,WAAWkB,WAAWD,IAAI,CAACT,aAAa,OAAOC,MAAMqG,EAAE9J,OAAE,EAAO,IAAIP,EAAEoK,MAAM,IAAI/F,OAAO,MAAMrE,OAAE,EAAOA,EAAEqE,WAAW5D,EAAE,sBAAsBG,EAAEgJ,OAAO,OAAO5I,EAAEJ,EAAE0J,SAAS,SAAI,EAAOtJ,EAAEuJ,UAAU,GAAG9J,EAAE,CAAC,IAAIL,EAAE,OAAOH,EAAE2I,IAAE4B,SAAStK,YAAEO,EAAEmJ,OAAOnJ,EAAEmJ,MAAM,IAAI,QAAQxJ,EAAEK,EAAEgK,YAAY,MAAM,IAAI,aAAa,IAAI,aAAarK,EAAEK,EAAEgK,YAAY,GAAG,MAAM,IAAI,kBAAkB,IAAI,UAAUrK,EAAEK,EAAEgK,YAAY,GAAG,GAAG,MAAM,IAAI,eAAerK,EAAEK,EAAEgK,YAAY,GAAG,GAAG,GAAG,MAAMpK,EAAE,uDAAuDG,KAAKF,EAAEgE,MAAM,GAAGjE,EAAE,CAAC,MAAME,EAAEH,EAAE,GAAGsK,QAAQ,GAAG1K,EAAEI,EAAE,GAAGsK,QAAQ,GAAG1J,EAAEwG,WAAWnH,EAAE,IAAIqK,QAAQ,GAAGnK,IAAIiH,WAAWnH,EAAE,IAAIqK,QAAQ,IAAI1K,IAAIgB,IAAIb,GAAE,IAAK,MAAM,CAAC6I,aAAa/I,EAAEgJ,OAAO9I,GAAG4C,eAAeqG,EAAE/I,EAAEE,EAAEP,GAAG,OAAiM,SAAWI,EAAEJ,GAAG,MAAMkG,KAAKjG,GAAG8G,EAAG3G,GAAGD,EAAE8C,EAAGjD,GAAGqD,EAAGlD,GAAG,MAAMS,EAAEL,EAAEe,YAAEnB,EAAE+C,kBAAkB,CAACyH,QAAQvK,IAAC,CAAI8F,KAAK9F,EAAE+C,aAAa,QAAQ8C,SAASc,EAAG3G,EAAE+C,aAAa,SAAS+C,UAAU,EAAEA,KAAK9F,KAAKA,IAAIH,IAAI,GAAGe,YAAEJ,GAAG,CAAC,MAAMR,EAAEG,EAAEe,YAAEnB,EAAE+C,kBAAkB,CAAC0H,YAAYxK,GAAGA,KAAKA,GAAGA,EAAE+C,aAAa,UAAUvC,EAAEqF,WAAW,GAAGjF,YAAEZ,GAAG,OAAuJ,SAAWA,GAAG,IAAIG,EAAEP,EAAE,MAAMgB,EAAE,GAAGf,EAAE,GAAG,IAAIE,EAAE,MAAMS,EAAEU,YAAElB,EAAE,CAACyK,eAAe,CAACC,UAAU,CAACC,SAAS,CAACJ,QAAQvK,GAAGA,OAAO,IAAI,MAAME,KAAKM,EAAE,CAAC,MAAMA,EAAEN,EAAE6C,aAAa,QAAQ,IAAIvC,EAAE,SAAS,IAAIH,EAAEoI,EAAE,GAAGvI,EAAE0K,aAAa,QAAQvK,EAAEsG,EAAGzG,EAAE6C,aAAa,SAAS+C,KAAKlB,YAAE1E,EAAE,CAAC2K,WAAW,CAACC,YAAY9K,IAAIK,EAAEsG,EAAG3G,EAAE+C,aAAa,SAAS+C,KAAK,CAACiF,UAAU/K,IAAIyI,GAAGzI,EAAE+C,aAAa,gBAAgB1C,EAAE,SAAS,MAAMS,EAAE,SAASZ,EAAE6C,aAAa,YAAY,IAAI/B,GAAE,EAAG,OAAOX,EAAEkF,eAAe,IAAI,UAAU,IAAI,qBAAqB,IAAI,kBAAkB,IAAI,OAAO,IAAI,MAAM,IAAI,QAAQ,IAAI,OAAO,IAAI,qBAAqB,IAAI,eAAe,IAAI,cAAc,IAAI,gBAAgB,IAAI,eAAe,IAAI,kBAAkB1F,EAAEkI,KAAK,IAAI2B,IAAE,CAAC5D,KAAKtF,EAAEmJ,MAAMnJ,EAAEgJ,KAAK,UAAUwB,SAASlK,KAAK,MAAM,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAUjB,EAAEkI,KAAK,IAAI2B,IAAE,CAAC5D,KAAKtF,EAAEmJ,MAAMnJ,EAAEgJ,KAAK,SAASwB,SAASlK,KAAK,MAAM,IAAI,UAAU,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,YAAY,IAAI,OAAO,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,mBAAmB,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,SAAS,IAAI,KAAK,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,OAAOjB,EAAEkI,KAAK,IAAI2B,IAAE,CAAC5D,KAAKtF,EAAEmJ,MAAMnJ,EAAEgJ,KAAK,SAASwB,SAASlK,EAAEmK,OAAO,OAAO9K,EAAEsI,GAAGtI,EAAE,OAAO,MAAM,IAAI,WAAW,IAAI,OAAON,EAAEkI,KAAK,IAAI2B,IAAE,CAAC5D,KAAKtF,EAAEmJ,MAAMnJ,EAAEgJ,KAAK,OAAOwB,SAASlK,EAAEmK,OAAO,OAAOrL,EAAE6I,GAAG7I,EAAE,MAAM,MAAM,IAAI,oBAAoBG,EAAE,QAAQiB,GAAE,EAAG,MAAM,IAAI,yBAAyBjB,EAAE,aAAaiB,GAAE,EAAG,MAAM,IAAI,oBAAoB,IAAI,yBAAyB,IAAI,8BAA8BjB,EAAE,WAAWiB,GAAE,EAAG,MAAM,IAAI,sBAAsB,IAAI,2BAA2B,IAAI,2BAA2BjB,EAAE,UAAUiB,GAAE,EAAG,MAAM,IAAI,uBAAuB,IAAI,4BAA4BA,GAAE,EAAGJ,EAAEmH,KAAK,IAAI9H,IAAEsC,EAAG,kBAAiBlC,sBAAsB,CAACmJ,MAAM,IAAI0B,eAAeC,kBAAkBnL,MAAM,MAAM,QAAQY,EAAEmH,KAAK,IAAI9H,IAAEuC,EAAG,uBAAsBnC,KAAK,CAACmJ,MAAM,IAAI0B,eAAeC,kBAAkBnL,MAAMgB,GAAGnB,EAAEkI,KAAK,IAAI2B,IAAE,CAAC5D,KAAKtF,EAAEmJ,MAAMnJ,EAAEgJ,KAAK,WAAWwB,SAASlK,KAAK,IAAI,MAAMb,KAAKJ,EAAE,GAAG,YAAYI,EAAEuJ,OAAOvJ,EAAE+K,UAAUI,EAAE9F,IAAIrF,EAAE6F,KAAKP,eAAe,CAACtF,EAAEuJ,KAAK,MAAM,MAAM,MAAM,CAACZ,aAAa7I,EAAE4I,OAAO9I,EAAEsJ,OAAOvI,GAAvwEyK,CAAErL,GAAG,MAAM,IAAIC,IAAEqC,EAAG,SAAQtC,2BAA2B,CAACsL,UAAU,IAAIJ,eAAeC,kBAAkBpL,KAArlBwL,CAAEpL,SAASH,kBAAEC,EAAE,CAAC0D,aAAa,OAAOC,MAAM,CAACC,QAAQ,MAAMC,QAAQ,sBAAsBC,QAAQ7B,EAAEsJ,SAASrL,KAAK,MAAMP,OAAE,EAAOA,EAAEoE,kBAAkBC,OAAO,MAAMrE,OAAE,EAAOA,EAAEqE,UAAUC,MAAsa,MAAMkH,EAAE,IAAI5G,IAAI,CAAC,WAAW,QAAkoE7B,eAAeoH,EAAE5J,EAAEP,EAAEgB,EAAEf,GAAG,IAAIqE,KAAKnE,SAASC,kBAAEG,EAAE,CAACwD,aAAa,OAAOC,MAAMqG,EAAErK,EAAEgB,EAAEf,GAAGoE,OAAO,MAAMpE,OAAE,EAAOA,EAAEoE,SAASlE,EAAEA,EAAE0L,QAAQ,yBAAyB,cAAc,IAAI,IAAIjL,EAAE,GAAG,MAAMX,GAAG,OAAOW,EAAEX,EAAE6L,aAAalL,EAAEyK,OAAO,CAAC,MAAMjL,EAAE,IAAIwE,IAAI3E,EAAE6L,YAAY,OAAOC,KAAKC,MAAM7L,GAAG,CAACE,EAAEE,IAAIH,EAAEsF,IAAIrF,GAAGS,EAAEP,GAAGA,IAAI,OAAOwL,KAAKC,MAAM7L,GAAG,MAAMG,GAAG,MAAM,IAAID,IAAppR,2BAAwpR,sCAAmC,CAAC4L,SAAS9L,EAAEmJ,MAAMhJ,KAAK,SAAS+J,EAAEjK,EAAEC,EAAEE,GAAG,MAAM,CAAC0D,QAAQ,MAAMC,QAAQ,aAAaC,QAAQ7B,EAAE4J,UAAU9L,EAAE+L,aAAa9L,EAAE+L,QAAQ,YAAYC,WAAW,MAAM9L,OAAE,EAAOA,EAAE+L,WAAWC,MAAM,MAAMhM,OAAE,EAAOA,EAAE6J,SAAS,MAAM7J,OAAE,EAAOA,EAAE6D,kBAAmW,SAASnB,EAAG7C,GAAG,OAAO,IAAIoM,WAAWC,gBAAgBrM,EAAEsM,OAAO,YAAY,SAAS3F,EAAG3G,GAAG,MAAMC,EAAEE,GAAGH,EAAEkH,MAAM,KAAK,MAAM,CAACR,OAAOvG,EAAEF,EAAE,GAAG6F,KAAK,MAAM3F,EAAEA,EAAEF,GAAyJ,SAASgD,EAAGjD,GAAG,IAAIG,EAAEP,EAAE,GAAGgF,YAAE5E,EAAE8C,kBAAkB,CAACyJ,UAAUvM,IAAIG,EAAEH,EAAE+C,aAAa,iBAAiB,CAACyJ,cAAcxM,IAAIJ,EAAEI,EAAEqF,iBAAiBlF,EAAE,MAAM,IAAIF,IAAG,aAAYE,IAAIP,K,iCCJt0V,0GAI2e,MAAMkB,EAAE,IAAIjB,IAAE,CAAC4M,UAAU,YAAYC,WAAW,cAAcC,MAAM,UAAU,IAAI/L,EAAE,cAAcZ,IAAE4M,YAAYzM,GAAG0M,MAAM1M,GAAG2M,KAAKhH,KAAK,KAAKgH,KAAKtD,KAAK,OAAOrJ,YAAE,CAACJ,YAAE,CAACyJ,KAAKuD,OAAOC,KAAK,CAACC,OAAM,MAAOrM,EAAEsM,UAAU,YAAO,GAAQ/M,YAAE,CAACF,YAAEa,IAAIF,EAAEsM,UAAU,YAAO,GAAQtM,EAAET,YAAE,CAACsI,YAAE,+BAA+B7H,GAAG,IAAIJ,EAAEI,G,uECA9aX,E,oEAAE,IAAIwI,EAAExI,EAAE,cAAcJ,IAAE+M,YAAYzM,GAAG0M,MAAM1M,GAAG2M,KAAKhH,KAAK,KAAKgH,KAAKK,KAAK,KAAKC,QAAQ,OAAO,IAAInN,EAAE,CAAC6F,KAAKgH,KAAKhH,KAAKqH,KAAKL,KAAKK,SAAShN,YAAE,CAACH,YAAE,CAACwJ,KAAKuD,OAAOC,KAAK,CAACC,OAAM,MAAOxE,EAAEyE,UAAU,YAAO,GAAQ/M,YAAE,CAACH,YAAE,CAACwJ,KAAK,CAACuD,OAAOhL,QAAQiL,KAAK,CAACC,OAAM,MAAOxE,EAAEyE,UAAU,YAAO,GAAQzE,EAAExI,EAAEE,YAAE,CAACJ,YAAE,mCAAmC0I,GAAG,ICAhMA,EDAoM3H,EAAE2H,E,SCApM,IAAI/H,EAAE+H,EAAE,cAAc3H,IAAE8L,YAAY5M,GAAG6M,MAAM7M,GAAG8M,KAAKO,YAAY,KAAKP,KAAKtD,KAAK,cAAc8D,QAAQtN,GAAG,IAAIH,EAAE,KAAK,GAAGiN,KAAKO,YAAY,CAAC,MAAMlN,EAAE4M,OAAO/M,GAAG8M,KAAKO,YAAYE,MAAMvN,IAAI+M,OAAO/M,EAAEmN,QAAQhN,IAAIN,EAAEG,EAAE8F,QAAQjG,KAAK,OAAOA,EAAEuN,QAAQ,OAAO,IAAI3E,EAAE,CAAC4E,YAAYxN,YAAEiN,KAAKO,aAAavH,KAAKgH,KAAKhH,SAAS9F,YAAE,CAACG,YAAE,CAACqJ,KAAK,CAAC5I,GAAGoM,KAAK,CAACC,OAAM,MAAOvM,EAAEwM,UAAU,mBAAc,GAAQlN,YAAE,CAACD,YAAE,CAAC2M,WAAW,iBAAiBhM,EAAEwM,UAAU,YAAO,GAAQxM,EAAE+H,EAAEzI,YAAE,CAACC,YAAE,yCAAyCS,GAAG,IAAIF,EAAEE,G,iCCJx9B,sCAI+YT,EAJ/Y,2DAIiZ,IAAIwI,EAAExI,EAAE,cAAcF,IAAE6M,YAAYzM,GAAG0M,MAAM1M,GAAG2M,KAAKtD,KAAK,YAAY4D,QAAQ,OAAO,IAAInN,IAAIE,YAAE,CAACN,YAAE,CAAC4M,UAAU,eAAehE,EAAEyE,UAAU,YAAO,GAAQzE,EAAExI,EAAEE,YAAE,CAACH,YAAE,wCAAwCyI,GAAG,IAAI3H,EAAE2H,G,iCCJlmB,sCAIka1I,EAJla,6DAIoa,IAAIH,EAAEG,EAAE,cAAcE,IAAE2M,YAAY5M,GAAG6M,MAAM7M,GAAG8M,KAAKU,SAAS,KAAKV,KAAKW,SAAS,KAAKX,KAAKtD,KAAK,QAAQ4D,QAAQ,OAAO,IAAIrN,EAAE,CAACyN,SAASV,KAAKU,SAASC,SAASX,KAAKW,SAAS3H,KAAKgH,KAAKhH,SAAS9F,YAAE,CAACG,YAAE,CAACqJ,KAAKzH,OAAOiL,KAAK,CAACxD,KAAK,CAACzH,QAAQ2L,KAAK,CAACC,OAAO,QAAQC,OAAO,CAAC5N,EAAEG,IAAIA,EAAEwM,OAAOxM,EAAEwM,MAAM,IAAIM,MAAM,CAACY,SAAQ,EAAGC,iBAAiB,MAAM,CAACD,QAAQ,MAAMf,KAAKU,UAAU,MAAMV,KAAKW,WAAWM,OAAO,QAAQC,OAAOhO,EAAEG,EAAES,GAAGT,EAAES,GAAG,CAACkM,KAAKW,UAAU,EAAEzN,SAASJ,EAAEsN,UAAU,gBAAW,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAKzH,OAAOiL,KAAK,CAACxD,KAAK,CAACzH,QAAQ2L,KAAK,CAACC,OAAO,QAAQC,OAAO,CAAC5N,EAAEG,IAAIA,EAAEwM,OAAOxM,EAAEwM,MAAM,IAAIM,MAAM,CAACc,OAAO,QAAQC,OAAOhO,EAAEG,EAAES,GAAGT,EAAES,GAAG,CAACZ,EAAE8M,KAAKU,UAAU,SAAS5N,EAAEsN,UAAU,gBAAW,GAAQlN,YAAE,CAACY,YAAE,CAAC+L,MAAM,WAAW/M,EAAEsN,UAAU,YAAO,GAAQtN,EAAEG,EAAEC,YAAE,CAACH,YAAE,oCAAoCD,GAAG,IAAIY,EAAEZ,G,iCCJnqC,sCAIwqBM,EAJxqB,kGAI0qB,MAAMY,EAAE,IAAIb,IAAE,CAACgO,OAAO,SAASC,WAAW,aAAaC,cAAc,kBAAkBC,YAAY,gBAAgBpI,YAAY,cAAcqI,oBAAoB,yBAAyBC,YAAY,cAAcC,YAAY,gBAAgBC,KAAK,OAAOC,gBAAgB,oBAAoBC,kBAAkB,sBAAsBC,eAAe,mBAAmBC,iBAAiB,sBAAsB,IAAI5N,EAAEd,EAAE,cAAcL,IAAE+M,YAAY5M,GAAG6M,MAAM7M,GAAG8M,KAAKnD,MAAM,KAAKmD,KAAK+B,kBAAa,EAAO/B,KAAK9G,YAAY,KAAK8G,KAAKgC,OAAO,KAAKhC,KAAKiC,UAAS,EAAGjC,KAAK7B,QAAQ,EAAE6B,KAAKhH,KAAK,KAAKgH,KAAK9B,UAAS,EAAG8B,KAAKtD,KAAK,KAAKsD,KAAKkC,UAAU,KAAKC,gBAAgBjP,GAAGgG,YAAY/F,IAAI,IAAIJ,EAAE,IAAIA,EAAE8L,KAAKC,MAAM3L,GAAG,MAAME,IAAI,OAAON,EAAEA,EAAE0I,MAAM,KAAK2G,cAAclP,GAAGgG,YAAY/F,IAAI,IAAIJ,EAAE,IAAIA,EAAE8L,KAAKC,MAAM3L,GAAG,MAAME,IAAI,OAAON,EAAEiB,EAAEsJ,SAASvK,EAAEsP,gBAAgB,KAAK/B,QAAQ,OAAO,IAAIlN,EAAE,CAACyJ,MAAMmD,KAAKnD,MAAMkF,aAAa/B,KAAK+B,aAAa7I,YAAY8G,KAAK9G,YAAY8I,OAAOhC,KAAKgC,QAAQhC,KAAKgC,OAAO1B,SAAS,KAAK2B,SAASjC,KAAKiC,SAAS9D,OAAO6B,KAAK7B,OAAOnF,KAAKgH,KAAKhH,KAAKkF,SAAS8B,KAAK9B,SAASxB,KAAKsD,KAAKtD,KAAKwF,UAAUlC,KAAKkC,cAAchP,YAAE,CAACG,YAAE,CAACqJ,KAAKuD,OAAOC,KAAK,CAACC,OAAM,MAAOjM,EAAEkM,UAAU,aAAQ,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAK,CAACuD,OAAOhL,QAAQiL,KAAK,CAACC,MAAM,CAACmC,WAAU,OAAQpO,EAAEkM,UAAU,oBAAe,GAAQlN,YAAE,CAACG,eAAKa,EAAEkM,UAAU,mBAAc,GAAQlN,YAAE,CAACJ,YAAE,gBAAgBoB,EAAEkM,UAAU,kBAAkB,MAAMlN,YAAE,CAACG,YAAE,CAACkP,MAAM5G,IAAEuE,KAAK,CAACU,KAAK,CAACE,OAAOvN,KAAG4M,OAAM,MAAOjM,EAAEkM,UAAU,cAAS,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAK8F,QAAQtC,KAAK,CAACC,OAAM,MAAOjM,EAAEkM,UAAU,gBAAW,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAKhJ,IAAEwM,KAAK,CAACC,OAAM,MAAOjM,EAAEkM,UAAU,cAAS,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAKuD,OAAOC,KAAK,CAACC,OAAM,MAAOjM,EAAEkM,UAAU,YAAO,GAAQlN,YAAE,CAACG,YAAE,CAACqJ,KAAK8F,QAAQtC,KAAK,CAACC,OAAM,MAAOjM,EAAEkM,UAAU,gBAAW,GAAQlN,YAAE,CAACY,YAAEF,MAAIM,EAAEkM,UAAU,YAAO,GAAQlN,YAAE,CAACG,eAAKa,EAAEkM,UAAU,iBAAY,GAAQlN,YAAE,CAACJ,YAAE,YAAY,CAAC,iBAAiBoB,EAAEkM,UAAU,gBAAgB,MAAMlM,EAAEd,EAAEF,YAAE,CAACD,YAAE,8BAA8BiB,GAAG,IAAIwH,EAAExH,G,iCCJ/gF,kHAI8X,MAAMpB,EAAE,CAAC2P,IAAI,OAAOC,KAAK3P,IAAE4P,QAAQ,CAAC9C,MAAM/L,IAAE,cAAcZ,IAAEyM,UAAUtM,MAAI,SAASF,EAAEJ,GAAG,IAAIA,IAAIA,EAAE2J,KAAK,OAAO,KAAK,OAAO3J,EAAE2J,MAAM,IAAI,QAAQ,OAAO5I,IAAEwJ,SAASvK,GAAG,IAAI,aAAa,OAAOG,IAAEoK,SAASvK,GAAG,IAAI,YAAY,OAAOM,IAAEiK,SAASvK,GAAG,OAAO,O,iCCJnnB,sKAIuyB,MAAMyC,EAAEsK,cAAcE,KAAK4C,aAAa,KAAK5C,KAAK6C,kBAAkB,KAAK7C,KAAK8C,kBAAkBjN,UAAU,MAAMmG,cAAc7I,GAAG6M,KAAK4C,aAAa3P,QAAQW,YAAEoM,KAAK+C,eAAe/C,KAAKgD,aAAajK,SAASiH,KAAKiD,wBAAwB,CAAC/L,iBAAiB8I,KAAK6C,kBAAkBjE,WAAWoB,KAAK4C,aAAaM,YAAYtE,WAAWvE,KAAKnH,GAAGA,EAAE8F,OAAO7B,OAAOjE,UAAUkB,YAAEnB,GAAGa,YAAEZ,GAAG,MAAMQ,EAAEwI,YAAEjJ,EAAE,CAAC6I,aAAakE,KAAK4C,aAAa9G,aAAaqH,MAAK,EAAGnH,cAAc7I,IAAI,IAAIJ,YAAEiN,KAAK4C,aAAajI,iBAAiBvH,KAAG,IAAI,MAAMU,KAAKJ,EAAEL,YAAES,EAAEuJ,YAAYvJ,EAAEuJ,SAAS1B,YAAEpI,YAAE+H,YAAExH,EAAEuJ,SAAS2C,KAAK4C,aAAa9G,cAAa,GAAG,GAAI1I,IAAE4M,KAAK4C,aAAajI,oBAAoB,IAAI7H,EAAE,EAAE,IAAI,MAAMO,KAAKK,EAAE,CAAC,MAAMR,EAAE,GAAGF,YAAEgN,KAAKoD,aAAalQ,EAAEG,EAAEgQ,WAAW,MAAK,GAAIhQ,EAAEgQ,WAAWnQ,EAAE,MAAMG,EAAEgQ,WAAWlQ,KAAKE,EAAEiQ,SAASjQ,EAAEgQ,WAAWlQ,GAAGL,KAAK,OAAOY,GAAG6P,UAAU,IAAIrQ,EAAE,OAAOA,EAAE8M,KAAK4C,eAAe1P,EAAEqQ,UAAUvD,KAAK4C,aAAa,KAAe,WAAC1P,EAAEC,GAAG,MAAMqQ,cAAcnQ,EAAEoQ,uBAAuB/P,EAAEiH,iBAAiB7H,EAAE+I,OAAO9I,EAAE+I,aAAa1I,EAAEiI,YAAYM,EAAEK,cAAcV,EAAEpE,iBAAiB3D,GAAGL,EAAE8M,KAAKgD,aAAarH,EAAEqE,KAAK6C,kBAAkBtP,EAAEyM,KAAK+C,eAAe1P,EAAE2M,KAAKiD,wBAAwBvP,EAAEsM,KAAKoD,aAAa,IAAItL,IAAE/E,SAASiN,KAAK0D,iBAAiB5Q,GAAGgB,YAAEX,GAAG6M,KAAK4C,aAAa,IAAI5O,IAAE,CAAC6H,OAAO9I,EAAE+I,aAAa1I,EAAEuQ,MAAK,EAAGR,MAAK,EAAGnH,cAAcV,EAAEX,iBAAiB7H,EAAE8Q,SAAS,KAAKC,aAAa,IAAInI,IAAE,CAACI,aAAa1I,EAAEuQ,MAAK,EAAGR,MAAK,MAAO,MAAMjP,QAAQ8L,KAAK8C,kBAAkB7P,YAAEE,EAAEgE,SAAS,OAAO6I,KAAK4C,aAAaiB,aAAaC,QAAQ5P,GAAG,CAACiF,OAAO6G,KAAK4C,aAAamB,YAA4B,mBAAG,MAAM,IAAI7Q,IAAE,mCAAmC,6CAAgE,oBAACA,EAAE,GAAGC,EAAE,IAAI,aAAa6M,KAAKgE,wBAAwBhE,KAAK4C,aAAaqB,aAAa/Q,EAAEC,EAAEgE,QAA+B,wBAACjE,EAAE,GAAGC,EAAE,IAAI,aAAa6M,KAAKgE,wBAAwBhE,KAAK4C,aAAasB,qBAAqBhR,EAAEC,EAAEgE,QAA4B,qBAACjE,EAAE,GAAGC,EAAE,IAAI,aAAa6M,KAAKgE,wBAAwBhE,KAAK4C,aAAauB,mBAAmBjR,EAAEC,EAAEgE,QAAyB,kBAACjE,EAAE,GAAGC,EAAE,IAAI,aAAa6M,KAAKgE,wBAAwBhE,KAAK4C,aAAawB,sBAAsBlR,EAAEC,EAAEgE,QAA2B,oBAACjE,EAAEC,EAAE,IAAI,aAAa6M,KAAKgE,wBAAwBhE,KAAK4C,aAAayB,wBAAwBnR,EAAEC,EAAEgE,QAAQmN,oBAAoBpR,GAAG8M,KAAK6C,kBAAkB3P,EAAe,gBAAG,IAAIG,EAAE,OAAO,OAAOA,EAAE2M,KAAKuE,gBAAgBlR,EAAEmR,QAAQxE,KAAKuE,cAAc7Q,YAAEsM,KAAK8C,mBAAmB9C,KAAKuE,cAAcE,QAAQC,MAAMxR,IAAI8M,KAAK4C,aAAaiB,aAAac,QAAQzR,GAAG8M,KAAK4C,aAAaiB,aAAaC,QAAQ5Q,MAAMG,IAAI2M,KAAK4C,aAAaiB,aAAac,QAAQ7R,YAAEO,IAAIF,IAAEyR,UAAU,wBAAwBxI,MAAM,IAAIlJ,IAAE,6BAA6B,kDAAkD,CAACkJ,MAAM/I,cAAc2M,KAAKgE,wBAAwB,CAAC7K,OAAO6G,KAAK4C,aAAamB,YAAuC,8BAAG,GAAG/D,KAAKuE,gBAAgBvE,KAAKuE,cAAcM,SAAS,CAAC,UAAU7E,KAAKuE,cAAcE,QAAQ,OAAO,OAAOzE,KAAKgE,yBAA+C,uBAAC7Q,GAAG,UAAUe,YAAEd,IAAED,GAAG,MAAM,MAAM,IAAID,IAAE,yBAAyB,2BAA2B,CAACyH,iBAAiBxH,Q,iCCJxyH,sKAI4H,MAAMJ,EAAE,CAAC+R,WAAW,uBAAuBC,gBAAgB,uBAAuBC,WAAW,yBAAyBC,MAAM,oBAAoBC,QAAQ,sBAAsBC,aAAa,uBAAuB,SAAS9R,EAAEH,GAAG,OAAOH,EAAEG,GAAG,SAASQ,EAAER,GAAG,OAAOA,EAAEwJ,MAAM,IAAI,gBAAgBxJ,EAAE,MAAM,IAAI,oBAAoB,IAAI,MAAMC,KAAKD,EAAEkK,SAASjK,UAAUA,IAAI,SAASF,EAAEC,GAAG,IAAIA,EAAE,OAAO,KAAK,OAAOA,EAAEwJ,MAAM,IAAI,cAAcxJ,EAAEqK,YAAY,MAAM,IAAI,aAAa,IAAI,mBAAmBrK,EAAEqK,YAAY,MAAM,IAAI,kBAAkB,IAAI,UAAU,IAAI,MAAMpK,KAAKD,EAAEqK,kBAAkBpK,EAAE,MAAM,IAAI,eAAe,IAAI,MAAMA,KAAKD,EAAEqK,YAAY,IAAI,MAAMrK,KAAKC,QAAQD,GAAsR,SAASE,EAAEF,GAAG,IAAI,MAAMC,KAAKD,EAAE,GAAGC,EAAEgL,OAAO,EAAE,OAAM,EAAG,OAAM,EAAuD,SAASrK,EAAEZ,GAAG,IAAIC,EAAE,EAAE,IAAI,IAAIL,EAAE,EAAEA,EAAEI,EAAEiL,OAAOrL,IAAI,CAAC,MAAMC,EAAEG,EAAEJ,GAAGO,EAAEH,GAAGJ,EAAE,GAAGI,EAAEiL,QAAQhL,GAAGJ,EAAE,GAAGM,EAAE,GAAGA,EAAE,GAAGN,EAAE,GAAG,OAAOI,GAAG,EAAE,SAASuI,EAAExI,GAAG,MAAMC,EAAED,EAAE,GAAGJ,EAAEI,EAAEA,EAAEiL,OAAO,GAAG,OAAOhL,EAAE,KAAKL,EAAE,IAAIK,EAAE,KAAKL,EAAE,IAAIK,EAAE,KAAKL,EAAE,IAAII,EAAE+H,KAAK9H,GAAGD,EAAE,SAASyI,EAAEzI,EAAEC,EAAEL,GAAG,OAAOK,EAAEuJ,MAAM,IAAI,aAAmE,IAAI,aAAa,OAA+N,SAAWxJ,EAAEC,EAAEL,GAAG,OAAOsC,EAAElC,EAAEC,EAAEoK,YAAYzK,GAAGI,EAAtQgB,CAAEhB,EAAEC,EAAEL,GAApE,IAAI,kBAAkB,OAA+L,SAAWI,EAAEC,EAAEL,GAAG,IAAI,MAAMC,KAAKI,EAAEoK,YAAYnI,EAAElC,EAAEH,EAAED,GAAG,OAAOI,EAAvPkB,CAAElB,EAAEC,EAAEL,GAAoC,IAAI,eAAe,OAA4O,SAAWI,EAAEC,EAAEL,GAAG,IAAI,MAAMC,KAAKI,EAAEoK,YAAY,CAACX,EAAE1J,EAAEH,EAAE,GAAGD,GAAG,IAAI,IAAIK,EAAE,EAAEA,EAAEJ,EAAEoL,OAAOhL,IAAIsC,EAAEvC,EAAEH,EAAEI,GAAGL,GAAG,OAAOI,EAA/UoI,CAAEpI,EAAEC,EAAEL,GAAG,IAAI,QAAQ,OAA4T,SAAWI,EAAEC,EAAEL,GAAG,OAAO6C,EAAEzC,EAAEC,EAAEoK,YAAYzK,GAAGI,EAAnW4E,CAAE5E,EAAEC,EAAEL,GAAG,IAAI,UAAU,OAA8U,SAAWI,EAAEC,EAAEL,GAAG,MAAMC,EAAEI,EAAEoK,YAAYX,EAAE1J,EAAEH,EAAE,GAAGD,GAAG,IAAI,IAAIO,EAAE,EAAEA,EAAEN,EAAEoL,OAAO9K,IAAIoC,EAAEvC,EAAEH,EAAEM,GAAGP,GAAG,OAAOI,EAAzakS,CAAElS,EAAEC,EAAEL,IAAqa,SAAS8J,EAAE1J,EAAEC,EAAEL,GAAG,MAAMC,EAAE2I,EAAEvI,IAAn7B,SAAWD,GAAG,OAAOY,EAAEZ,GAA+5BK,CAAER,GAAYqC,EAAElC,EAAEH,EAAED,GAAfqC,EAAEjC,EAAEH,EAAED,GAAY,SAAS2C,EAAEvC,EAAEC,EAAEL,GAAG,MAAMC,EAAE2I,EAAEvI,IAA/8B,SAAWD,GAAG,OAAOY,EAAEZ,GAA27BF,CAAED,GAAYqC,EAAElC,EAAEH,EAAED,GAAfqC,EAAEjC,EAAEH,EAAED,GAAY,SAASsC,EAAElC,EAAEC,EAAEL,GAAG,IAAI,MAAMC,KAAKI,EAAEwC,EAAEzC,EAAEH,EAAED,GAAGI,EAAEmS,QAAQpK,KAAK9H,EAAEgL,QAAQ,SAAShJ,EAAEjC,EAAEC,EAAEL,GAAG,IAAI,IAAIC,EAAEI,EAAEgL,OAAO,EAAEpL,GAAG,EAAEA,IAAI4C,EAAEzC,EAAEC,EAAEJ,GAAGD,GAAGI,EAAEmS,QAAQpK,KAAK9H,EAAEgL,QAAQ,SAASxI,EAAEzC,EAAEC,EAAEL,GAAG,MAAMC,EAAEM,EAAEK,GAAGP,EAAED,EAAEoS,OAAOrK,KAAKlI,EAAEM,GAAGP,EAAEqQ,MAAMjQ,EAAEoS,OAAOrK,KAAKvH,GAAG,GAAG,SAASgD,EAAExD,GAAG,cAAcA,GAAG,IAAI,SAAS,MAAM,sBAAsB,IAAI,SAAS,MAAM,sBAAsB,QAAQ,MAAM,WAAW,SAASuE,EAAEtE,GAAG,IAAIA,EAAE,MAAM,IAAID,IAAE,sBAAsB,yBAAyB,GAAG,YAAYC,EAAEuJ,MAAM,sBAAsBvJ,EAAEuJ,KAAK,MAAM,IAAIxJ,IAAE,2CAA2C,+CAA+C,CAACkE,KAAKjE,IAAI,MAAMoS,IAAIzS,GAAGK,EAAE,IAAIL,EAAE,OAAO,MAAMC,EAAE,iBAAiBD,EAAEA,EAAE,SAASA,EAAE4J,KAAK5J,EAAE0S,WAAWxM,KAAK,SAASlG,EAAE4J,KAAK5J,EAAE0S,WAAWnF,KAAK,KAAKhN,EAAE,IAAIoS,OAAO,oBAAoB,KAAK,IAAI1S,IAAIM,EAAEqS,KAAK3S,GAAG,MAAM,IAAIG,IAAE,gCAAgC,mCAAmC,CAACqS,IAAIzS,IAAI,SAASwB,EAAEpB,EAAEC,EAAE,IAAI,MAAML,EAAE,GAAGC,EAAE,IAAI2E,IAAI1D,EAAE,IAAI0D,IAAI,IAAInE,EAAEP,GAAE,EAAGc,EAAEmB,OAAO0Q,kBAAkBjK,EAAE,KAAKC,GAAE,GAAIG,aAAalI,EAAE,MAAMT,EAAEiB,GAAE,EAAG,IAAI,MAAMkH,KAAK5H,EAAER,GAAG,CAAC,MAAMmK,SAASnK,EAAEsS,WAAWrS,EAAEyS,GAAGlS,GAAG4H,EAAE,KAAIpI,IAAIU,IAAIA,EAAEP,EAAEH,EAAEwJ,OAAOrJ,EAAEH,EAAEwJ,QAAQ9I,MAAQZ,IAAGA,EAAEI,EAAEH,EAAEC,KAAOyI,IAAIA,EAAE,MAAMjI,EAAEiI,IAAIpI,SAASG,EAAE,WAAWH,IAAImI,EAAEmK,OAAOC,KAAK3S,GAAGwJ,QAAQzJ,GAAGC,EAAED,KAAKQ,OAAOiI,GAAG,WAAWpI,GAAG,MAAMG,IAAII,EAAEiS,KAAKC,IAAIlS,EAAEJ,GAAGgI,EAAEyC,OAAO,EAAEzC,EAAEA,EAAEiB,QAAQzJ,GAAGC,EAAED,KAAKQ,IAAI,IAAIgI,EAAEyC,SAASzC,EAAEvI,EAAEuI,EAAE,MAAMhI,EAAEgI,EAAE,MAAMtH,GAAGjB,GAAE,CAAC,IAAID,GAAE,EAAG,IAAI,MAAMG,KAAKF,EAAE,CAAC,GAAGJ,EAAEyF,IAAInF,GAAG,SAAS,MAAMK,EAAEP,EAAEE,GAAG,GAAG,MAAMK,EAAE,CAACR,GAAE,EAAGc,EAAE0F,IAAIrG,GAAG,SAAS,MAAMJ,EAAEyD,EAAEhD,GAAG,YAAYT,GAAGe,EAAEiS,OAAO5S,GAAGN,EAAE2G,IAAIrG,GAAGP,EAAEmI,KAAK,CAACjC,KAAK3F,EAAEwJ,MAAMxJ,EAAEqJ,KAAKzJ,KAAKe,EAAE0F,IAAIrG,GAAGe,EAAElB,GAAI,MAAMgB,EAAEwH,GAAG,IAAIA,EAAEyC,QAAQzC,EAAE,IAAI,KAAK,GAAGxH,EAAE,IAAI,MAAMb,KAAKP,EAAEO,EAAE2F,OAAO9E,IAAIb,EAAEqJ,KAAK,oBAAoB,MAAM,CAACb,OAAO/I,EAAEgJ,aAAalI,EAAEuP,KAAKnQ,EAAEkT,YAAYH,KAAKC,IAAI,EAAElS,GAAGqS,kBAAkBjS,EAAEkS,kBAAkB7S,EAAE8S,cAAc7P,MAAMC,KAAKzC,IAAI,SAAS4B,EAAE1C,EAAEC,GAAG,OAAOqD,MAAMC,KAA7lG,UAAWvD,EAAEH,EAAE,IAAI,MAAM+I,aAAapI,EAAEsI,cAAc/I,GAAGF,EAAE,IAAI,MAAMK,KAAKF,EAAE,CAAC,IAAIc,EAAE,MAAMqJ,SAASnK,EAAEsS,WAAWjS,EAAEqS,GAAG5S,GAAGI,EAAE,GAAGF,GAAGG,EAAEH,EAAEwJ,QAAQhJ,EAAE,SAAS,MAAMI,EAAEP,GAAG,GAAG,IAAImI,EAAE,OAAO1H,EAAEF,EAAEb,IAAIe,EAAE,KAAKf,GAAG,MAAMD,IAAIc,EAAEb,KAAKa,EAAEb,GAAGyI,EAAE1I,GAAG,MAAMY,EAAE,IAAIT,IAAED,EAAEyI,EAAE,IAAI7I,IAAEI,EAAEH,GAAG,KAAKe,EAAE,KAAK4H,SAAS9H,GAAk1FI,CAAEN,EAAER,GAAGC,M,gCCJp3H,sDAIoF,SAASE,EAAEA,EAAEN,EAAE,IAAI,IAAIQ,EAAE,MAAMO,EAAET,aAAaP,IAAEO,EAAE,IAAIP,IAAEO,EAAEN,GAAGI,EAAE,CAACuJ,KAAK,OAAOnJ,EAAE,MAAMR,OAAE,EAAOA,EAAEuT,gBAAgB/S,EAAEO,EAAEyS,UAAUtG,OAAOuG,SAAS,MAAMzT,OAAE,EAAOA,EAAEyT,SAAStG,KAAK,CAACxD,KAAK5I,EAAE2S,WAAW7F,MAAM,MAAM7N,IAAIA,EAAEyT,WAAW,CAAC1F,OAAOhN,EAAE8M,MAAMT,MAAM,CAACe,OAAOpN,EAAEqM,SAAS,YAAO,KAAU,MAAMpN,OAAE,EAAOA,EAAE2T,WAAWvT,EAAE+M,KAAKwG,QAAQ3T,EAAE2T,cAAS,KAAU,MAAM3T,OAAE,EAAOA,EAAEiG,QAAQ7F,EAAE+M,KAAKlH,KAAKjG,EAAEiG,MAAM9F,YAAEC,K,iCCAzd,SAASJ,EAAED,EAAEkB,GAAG,IAAI,MAAMd,KAAKJ,EAAEoH,SAAS,GAAGhH,EAAEiH,aAAanG,EAAE,CAAC,MAAMlB,EAAEkB,EAAEd,EAAEiH,WAAW,GAAG,mBAAmBrH,EAAE,CAAC,MAAMkB,EAAElB,EAAEI,GAAGc,GAAGjB,EAAEG,EAAEc,QAAQjB,EAAEG,EAAEJ,IAAI,SAASA,EAAEC,EAAEiB,GAAG,IAAI,MAAMd,KAAKH,EAAEmH,SAAS,GAAGhH,EAAEiH,aAAanG,EAAE,CAAC,MAAMjB,EAAEiB,EAAEd,EAAEiH,WAAW,mBAAmBpH,QAAQA,EAAEG,SAASJ,EAAEI,EAAEH,IAJnR","file":"static/js/129.c2bae663.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,o){for(const f of n)if(null!=f&&o(f))return f}export{n as find};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n){var s;return null!=(s=t(n))?s:e(n)}function e(n){const e=new Date(n).getTime();return Number.isNaN(e)?null:e}function t(n){var e,t,u,r;const o=s.exec(n);if(!o)return null;const l=o.groups,f=+l.year,i=+l.month-1,d=+l.day,a=+(null!=(e=l.hours)?e:\"0\"),c=+(null!=(t=l.minutes)?t:\"0\"),m=+(null!=(u=l.seconds)?u:\"0\");if(a>23)return null;if(c>59)return null;if(m>59)return null;const g=null!=(r=l.ms)?r:\"0\",T=g?+g.padEnd(3,\"0\").substring(0,3):0;let N;if(l.isUTC)N=Date.UTC(f,i,d,a,c,m,T);else if(l.offsetSign){const n=+l.offsetHours,e=+l.offsetMinutes;N=6e4*(\"+\"===l.offsetSign?-1:1)*(60*n+e)+Date.UTC(f,i,d,a,c,m,T)}else N=new Date(f,i,d,a,c,m,T).getTime();return Number.isNaN(N)?null:N}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{n as parseDate,e as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{find as r}from\"../../core/interatorUtils.js\";import{isNone as n,isSome as a}from\"../../core/maybe.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as s,hasSameOrigin as i,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as l,project as p}from\"../../geometry/projection.js\";import{WGS84 as c,equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as f}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as d}from\"./dateUtils.js\";import{iterateXML as g,visitXML as w}from\"./xmlUtils.js\";import b from\"../support/Field.js\";import h from\"../../geometry/SpatialReference.js\";import T from\"../../geometry/Extent.js\";const F=\"xlink:href\",S=\"2.0.0\",x=\"__esri_wfs_id__\",v=\"wfs-layer:getWFSLayerTypeInfo-error\",C=\"wfs-layer:empty-service\",E=\"wfs-layer:feature-type-not-found\",N=\"wfs-layer:geojson-not-supported\",P=\"wfs-layer:kvp-encoding-not-supported\",R=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",G=\"wfs-layer:unsupported-spatial-reference\",k=\"wfs-layer:unsupported-wfs-version\";async function U(t,r){const n=D((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:S,...null==r?void 0:r.customParameters},signal:null==r?void 0:r.signal})).data);return L(t,n),n}function D(e){const t=ee(e);re(t),ne(t);const r=t.firstElementChild,n=new Map;return{operations:O(r),get featureTypes(){return Array.from(M(r,n))},readFeatureTypes:()=>M(r,n)}}const I=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function O(e){let r=!1;const a={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(w(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{a.GetCapabilities.url=e.getAttribute(F)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{a.DescribeFeatureType.url=e.getAttribute(F)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{a.GetFeature.url=e.getAttribute(F)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;I.has(t.toLowerCase())&&(a.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{a.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(P,\"WFS service doesn't support key/value pair (KVP) encoding\");if(n(a.GetFeature.outputFormat))throw new t(N,\"WFS service doesn't support GeoJSON output format\");return a}function L(e,t){s(e)&&(i(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),i(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e,t){return g(e,{FeatureTypeList:{FeatureType:e=>{if(t.has(e))return t.get(e);const r={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},n=new Set([4326]),a=e=>{var t,r;const a=parseInt(null==(t=e.textContent.match(/(?<wkid>\\d+$)/i))||null==(r=t.groups)?void 0:r.wkid,10);Number.isNaN(a)||n.add(a)};return w(e,{Name:e=>{const{name:t,prefix:n}=te(e.textContent);r.typeName=`${n}:${t}`,r.name=t,r.namespacePrefix=n,r.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{r.description=e.textContent},Title:e=>{r.title=e.textContent},WGS84BoundingBox:e=>{r.extent=$(e)},DefaultSRS:a,DefaultCRS:a,OtherSRS:a,OtherCRS:a}),r.title||(r.title=r.name),r.supportedSpatialReferences.push(...n),t.set(e,r),r}}})}function $(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:c}}function V(e,t,n){return r(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function W(e,t,r,n={}){var a;const{featureType:o,extent:s}=await X(e,t,r,n),{fields:i,geometryType:u,swapXY:l,objectIdField:p,geometryField:c}=await Y(e,o.typeName,n);return{url:e.operations.GetCapabilities.url,name:o.name,namespaceUri:o.namespaceUri,fields:i,geometryField:c,geometryType:u,objectIdField:p,spatialReference:null!=(a=n.spatialReference)?a:h.WGS84,extent:s,swapXY:l,wfsCapabilities:e,customParameters:n.customParameters}}async function X(e,r,a,o={}){const{spatialReference:s=h.WGS84}=o,i=e.readFeatureTypes(),u=r?V(i,r,a):i.next().value;if(n(u))throw r?new t(E,`The type '${r}' could not be found in the service`):new t(C,\"The service is empty\");let y=new T({...u.extent,spatialReference:s});if(!m(s,c))try{await l(c,s,void 0,o),y=p(y,c)}catch{throw new t(G,\"Projection not supported\")}return{extent:y,spatialReference:s,featureType:u}}async function Y(e,r,a={}){const[s,i]=await o([_(e.operations.DescribeFeatureType.url,r,a),z(e,r,a)]);if(s.error||i.error)throw new t(v,`An error occurred while getting info about the feature type '${r}'`,{error:s.error||i.error});const{fields:u,errors:l}=s.value,p=s.value.geometryType||i.value.geometryType,c=i.value.swapXY;if(n(p))throw new t(j,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:p,fields:u,errors:l});return{...q(u),geometryType:p,swapXY:c}}function q(e){var t;const r=e.find((e=>\"geometry\"===e.type));let n=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),n||(n=new b({name:x,type:\"oid\",alias:x}),e.unshift(n)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:n.name,fields:e}}async function z(t,r,n={}){var a;let o,s=!1;const[i,u]=await Promise.all([B(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:K(r,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),l=\"FeatureCollection\"===i.type&&(null==(a=i.features[0])?void 0:a.geometry);if(l){let e;switch(o=y.fromJSON(f(l.type)),l.type){case\"Point\":e=l.coordinates;break;case\"LineString\":case\"MultiPoint\":e=l.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=l.coordinates[0][0];break;case\"MultiPolygon\":e=l.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(s=!0)}}return{geometryType:o,swapXY:s}}async function _(t,r,n){return J(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:S,TYPENAME:r,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}function J(e,n){const{name:o}=te(e),s=ee(n);ne(s);const i=r(g(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:te(e.getAttribute(\"type\")).name})}),(({name:e})=>e===o));if(a(i)){const e=r(g(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(a(e))return H(e)}throw new t(E,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const Q=new Set([\"objectid\",\"fid\"]);function H(e){var r,n;const a=[],o=[];let s;const i=g(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const u of i){const i=u.getAttribute(\"name\");if(!i)continue;let l,p;if(u.hasAttribute(\"type\")?l=te(u.getAttribute(\"type\")).name:w(u,{simpleType:{restriction:e=>(l=te(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!l)continue;const c=\"true\"===u.getAttribute(\"nillable\");let m=!1;switch(l.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":o.push(new b({name:i,alias:i,type:\"integer\",nullable:c}));break;case\"float\":case\"double\":case\"decimal\":o.push(new b({name:i,alias:i,type:\"double\",nullable:c}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":o.push(new b({name:i,alias:i,type:\"string\",nullable:c,length:null!=(r=p)?r:255}));break;case\"datetime\":case\"date\":o.push(new b({name:i,alias:i,type:\"date\",nullable:c,length:null!=(n=p)?n:36}));break;case\"pointpropertytype\":s=\"point\",m=!0;break;case\"multipointpropertytype\":s=\"multipoint\",m=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":s=\"polyline\",m=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":s=\"polygon\",m=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":m=!0,a.push(new t(j,`geometry type '${l}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:a.push(new t(A,`Unknown field type '${l}'`,{type:(new XMLSerializer).serializeToString(e)}))}m&&o.push(new b({name:i,alias:i,type:\"geometry\",nullable:c}))}for(const t of o)if(\"integer\"===t.type&&!t.nullable&&Q.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:s,fields:o,errors:a}}async function B(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:K(n,a,o),signal:null==o?void 0:o.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{var i;if(null!=o&&null!=(i=o.dateFields)&&i.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?d(r):r))}return JSON.parse(s)}catch(u){throw new t(R,\"Error while parsing the response\",{response:s,error:u})}}function K(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count,...null==r?void 0:r.customParameters}}async function Z(t,r,n){const a=ee((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:r,RESULTTYPE:\"hits\",...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data);ne(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function ee(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function te(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:null!=r?r:t}}function re(e){const r=e.firstElementChild.getAttribute(\"version\");if(r&&r!==S)throw new t(k,`Unsupported WFS version ${r}. Supported version: ${S}`)}function ne(e){let r,n;if(w(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{x as WFS_OID_FIELD_NAME,_ as describeFeatureType,V as findFeatureType,U as getCapabilities,B as getFeature,Z as getFeatureCount,X as getFeatureTypeInfo,W as getWFSLayerInfo,J as parseDescribeFeatureTypeResponse,D as parseGetCapabilitiesResponse,q as prepareWFSLayerFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as t}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";const c=new o({inherited:\"inherited\",codedValue:\"coded-value\",range:\"range\"});let a=class extends e{constructor(r){super(r),this.name=null,this.type=null}};r([s({type:String,json:{write:!0}})],a.prototype,\"name\",void 0),r([t(c)],a.prototype,\"type\",void 0),a=r([p(\"esri.layers.support.Domain\")],a);var i=a;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var t;let p=t=class extends o{constructor(r){super(r),this.name=null,this.code=null}clone(){return new t({name:this.name,code:this.code})}};r([e({type:String,json:{write:!0}})],p.prototype,\"name\",void 0),r([e({type:[String,Number],json:{write:!0}})],p.prototype,\"code\",void 0),p=t=r([s(\"esri.layers.support.CodedValue\")],p);var c=p;export{p as CodedValue,c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{clone as o}from\"../../core/lang.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"./CodedValue.js\";import c from\"./Domain.js\";var p;let d=p=class extends c{constructor(e){super(e),this.codedValues=null,this.type=\"coded-value\"}getName(e){let o=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(o=e.name),!!o)))}return o}clone(){return new p({codedValues:o(this.codedValues),name:this.name})}};e([r({type:[a],json:{write:!0}})],d.prototype,\"codedValues\",void 0),e([s({codedValue:\"coded-value\"})],d.prototype,\"type\",void 0),d=p=e([t(\"esri.layers.support.CodedValueDomain\")],d);var i=d;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./Domain.js\";var t;let p=t=class extends s{constructor(r){super(r),this.type=\"inherited\"}clone(){return new t}};r([o({inherited:\"inherited\"})],p.prototype,\"type\",void 0),p=t=r([e(\"esri.layers.support.InheritedDomain\")],p);var c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import t from\"./Domain.js\";var s;let n=s=class extends t{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type=\"range\"}clone(){return new s({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};e([r({type:Number,json:{type:[Number],read:{source:\"range\",reader:(e,r)=>r.range&&r.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:\"range\",writer(e,r,a){r[a]=[this.minValue||0,e]}}}})],n.prototype,\"maxValue\",void 0),e([r({type:Number,json:{type:[Number],read:{source:\"range\",reader:(e,r)=>r.range&&r.range[0]},write:{target:\"range\",writer(e,r,a){r[a]=[e,this.maxValue||0]}}}})],n.prototype,\"minValue\",void 0),e([a({range:\"range\"})],n.prototype,\"type\",void 0),n=s=e([o(\"esri.layers.support.RangeDomain\")],n);var i=n;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONMap as t}from\"../../core/jsonMap.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{types as p,fromJSON as l}from\"./domains.js\";import{kebabDict as d}from\"./fieldType.js\";var u;const c=new t({binary:\"binary\",coordinate:\"coordinate\",countOrAmount:\"count-or-amount\",dateAndTime:\"date-and-time\",description:\"description\",locationOrPlaceName:\"location-or-place-name\",measurement:\"measurement\",nameOrTitle:\"name-or-title\",none:\"none\",orderedOrRanked:\"ordered-or-ranked\",percentageOrRatio:\"percentage-or-ratio\",typeOrCategory:\"type-or-category\",uniqueIdentifier:\"unique-identifier\"});let m=u=class extends o{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let o;try{o=JSON.parse(t)}catch(r){}return o?o.value:null}readValueType(e,{description:t}){let o;try{o=JSON.parse(t)}catch(r){}return o?c.fromJSON(o.fieldValueType):null}clone(){return new u({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};e([r({type:String,json:{write:!0}})],m.prototype,\"alias\",void 0),e([r({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,\"defaultValue\",void 0),e([r()],m.prototype,\"description\",void 0),e([n(\"description\")],m.prototype,\"readDescription\",null),e([r({types:p,json:{read:{reader:l},write:!0}})],m.prototype,\"domain\",void 0),e([r({type:Boolean,json:{write:!0}})],m.prototype,\"editable\",void 0),e([r({type:i,json:{write:!0}})],m.prototype,\"length\",void 0),e([r({type:String,json:{write:!0}})],m.prototype,\"name\",void 0),e([r({type:Boolean,json:{write:!0}})],m.prototype,\"nullable\",void 0),e([a(d)],m.prototype,\"type\",void 0),e([r()],m.prototype,\"valueType\",void 0),e([n(\"valueType\",[\"description\"])],m.prototype,\"readValueType\",null),m=u=e([s(\"esri.layers.support.Field\")],m);var y=m;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"./CodedValueDomain.js\";export{default as CodedValueDomain}from\"./CodedValueDomain.js\";import o from\"./Domain.js\";export{default as DomainBase}from\"./Domain.js\";import r from\"./InheritedDomain.js\";export{default as InheritedDomain}from\"./InheritedDomain.js\";import a from\"./RangeDomain.js\";export{default as RangeDomain}from\"./RangeDomain.js\";const n={key:\"type\",base:o,typeMap:{range:a,\"coded-value\":e,inherited:r}};function t(o){if(!o||!o.type)return null;switch(o.type){case\"range\":return a.fromJSON(o);case\"codedValue\":return e.fromJSON(o);case\"inherited\":return r.fromJSON(o)}return null}export{t as fromJSON,n as types};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{isSome as r,unwrap as s}from\"../../../core/maybe.js\";import{throwIfAborted as a,createTask as i,isAbortError as n}from\"../../../core/promiseUtils.js\";import{equals as o,WGS84 as u}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as p,convertToGeometry as h}from\"../featureConversionUtils.js\";import y from\"../data/FeatureStore.js\";import{project as l,checkProjectionSupport as m}from\"../data/projectionSupport.js\";import c from\"../data/QueryEngine.js\";import{validateGeoJSON as g,createOptimizedFeatures as _}from\"./geojson/geojson.js\";import{mixAttributes as f}from\"./support/sourceUtils.js\";import{getFeature as d}from\"../../ogc/wfsUtils.js\";import w from\"../../support/FieldsIndex.js\";class E{constructor(){this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=async e=>{const{objectIdField:t}=this._queryEngine,s=await d(this._getFeatureUrl,this._featureType.typeName,this._getFeatureOutputFormat,{customParameters:this._customParameters,dateFields:this._queryEngine.fieldsIndex.dateFields.map((e=>e.name)),signal:e});await g(s),a(e);const i=_(s,{geometryType:this._queryEngine.geometryType,hasZ:!1,objectIdField:t});if(!o(this._queryEngine.spatialReference,u))for(const a of i)r(a.geometry)&&(a.geometry=p(l(h(a.geometry,this._queryEngine.geometryType,!1,!1),u,this._queryEngine.spatialReference)));let n=1;for(const r of i){const e={};f(this._fieldsIndex,e,r.attributes,null,!0),r.attributes=e,null==r.attributes[t]&&(r.objectId=r.attributes[t]=n++)}return i}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}async load(e,t){const{getFeatureUrl:r,getFeatureOutputFormat:i,spatialReference:n,fields:o,geometryType:u,featureType:p,objectIdField:h,customParameters:l}=e;this._featureType=p,this._customParameters=l,this._getFeatureUrl=r,this._getFeatureOutputFormat=i,this._fieldsIndex=new w(o),await this._checkProjection(n),a(t),this._queryEngine=new c({fields:o,geometryType:u,hasM:!1,hasZ:!1,objectIdField:h,spatialReference:n,timeInfo:null,featureStore:new y({geometryType:u,hasM:!1,hasZ:!1})});const m=await this._snapshotFeatures(s(t.signal));return this._queryEngine.featureStore.addMany(m),{extent:this._queryEngine.fullExtent}}async applyEdits(){throw new e(\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}setCustomParameters(e){this._customParameters=e}async refresh(){var r;return null==(r=this._snapshotTask)||r.abort(),this._snapshotTask=i(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(r=>{this._queryEngine.featureStore.clear(),n(r)||t.getLogger(\"esri.layers.WFSLayer\").error(new e(\"wfs-layer:getfeature-error\",\"An error occurred during the GetFeature request\",{error:r}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _checkProjection(t){try{await m(u,t)}catch{throw new e(\"unsupported-projection\",\"Projection not supported\",{spatialReference:t})}}}export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";const o={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function r(e){return o[e]}function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*c(e,o={}){const{geometryType:i,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&r(e.type)!==i)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const d=new t(e?p(new n,e,o):null,a,null,y);yield d}}function u(e){for(const t of e)if(t.length>2)return!0;return!1}function l(e){return!a(e)}function f(e){return a(e)}function a(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function p(e,t,n){switch(t.type){case\"LineString\":return d(e,t,n);case\"MultiLineString\":return g(e,t,n);case\"MultiPoint\":return m(e,t,n);case\"MultiPolygon\":return h(e,t,n);case\"Point\":return w(e,t,n);case\"Polygon\":return P(e,t,n)}}function d(e,t,n){return S(e,t.coordinates,n),e}function g(e,t,n){for(const o of t.coordinates)S(e,o,n);return e}function m(e,t,n){return S(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates){b(e,o[0],n);for(let t=1;t<o.length;t++)j(e,o[t],n)}return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){const o=t.coordinates;b(e,o[0],n);for(let r=1;r<o.length;r++)j(e,o[r],n);return e}function b(e,t,n){const o=y(t);l(o)?F(e,o,n):S(e,o,n)}function j(e,t,n){const o=y(t);f(o)?F(e,o,n):S(e,o,n)}function S(e,t,n){for(const o of t)G(e,o,n);e.lengths.push(t.length)}function F(e,t,n){for(let o=t.length-1;o>=0;o--)G(e,t[o],n);e.lengths.push(t.length)}function G(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function M(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],o=new Set,c=new Set;let l,f=!1,a=Number.NEGATIVE_INFINITY,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const h of i(e)){const{geometry:e,properties:t,id:i}=h;if(!e||(d||(d=r(e.type)),r(e.type)===d)){if(!f){f=u(s(e))}if(p||(p=null!=i,p&&(l=typeof i,\"number\"===l&&(y=Object.keys(t).filter((e=>t[e]===i))))),p&&\"number\"===l&&null!=i&&(a=Math.max(a,i),y.length>1?y=y.filter((e=>t[e]===i)):1===y.length&&(y=t[y[0]]===i?y:[])),!g&&t){let e=!0;for(const r in t){if(o.has(r))continue;const i=t[r];if(null==i){e=!1,c.add(r);continue}const s=M(i);\"unknown\"!==s?(c.delete(r),o.add(r),n.push({name:r,alias:r,type:s})):c.add(r)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const r of n)r.name===m&&(r.type=\"esriFieldTypeOID\");return{fields:n,geometryType:d,hasZ:f,maxObjectId:Math.max(0,a),objectIdFieldName:m,objectIdFieldType:l,unknownFields:Array.from(c)}}function k(e,t){return Array.from(c(i(e),t))}export{k as createOptimizedFeatures,r as getGeometryType,T as inferLayerProperties,I as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{JSONMap as n}from\"../../jsonMap.js\";import{property as e}from\"./property.js\";function r(r,o={}){var l;const a=r instanceof n?r:new n(r,o),t={type:null==(l=null==o?void 0:o.ignoreUnknown)||l?a.apiValues:String,readOnly:null==o?void 0:o.readOnly,json:{type:a.jsonValues,read:(null==o||!o.readOnly)&&{reader:a.read},write:{writer:a.write}}};return void 0!==(null==o?void 0:o.default)&&(t.json.default=o.default),void 0!==(null==o?void 0:o.name)&&(t.json.name=o.name),e(t)}export{r as enumeration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction o(n,c){for(const e of n.children)if(e.localName in c){const n=c[e.localName];if(\"function\"==typeof n){const c=n(e);c&&o(e,c)}else o(e,n)}}function*n(o,c){for(const e of o.children)if(e.localName in c){const o=c[e.localName];\"function\"==typeof o?yield o(e):yield*n(e,o)}}export{n as iterateXML,o as visitXML};\n"],"sourceRoot":""}