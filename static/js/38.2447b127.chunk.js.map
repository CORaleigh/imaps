{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/geometry/support/quantizationUtils.js","../node_modules/@arcgis/core/chunks/mat2d.js","../node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js","../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/support/Scheduler.js","../node_modules/@arcgis/core/chunks/quat.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/layers/support/PromiseQueue.js","../node_modules/@arcgis/core/core/byteSizeEstimations.js","../node_modules/@arcgis/core/views/support/debugFlags.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/chunks/mat2df64.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js"],"names":["R","e","t","o","f","x","y","spatialReference","length","z","b","n","h","paths","T","r","a","s","forEach","push","l","M","rings","c","reverse","isSelfIntersecting","i","U","mapToLocalMultiple","Math","round","max","abs","m","map","localToMap","doUnnormalization","u","p","g","d","sqrt","j","center","radius","radiusUnit","O","EventedMixin","w","constructor","super","this","_graphic","defaultZ","geometryType","hasZ","mode","snappingManager","snapToScene","initialize","internalGraphicsLayer","listMode","internal","view","layers","add","drawOperation","makeDrawOperation","handles","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","destroy","_destroyAllVisualisations","remove","_set","canRedo","canUndo","_updateGraphic","interactive","updating","completeCreateOperation","onInputEvent","redo","reset","undo","_createGraphic","geometry","symbol","graphicSymbol","initializeGraphic","notifyChange","V","_","outline","regularVertices","activeVertex","_getCreateOperationGeometry","operationComplete","numVertices","stagedVertex","committedVertices","slice","coordinateHelper","pointToArray","splice","full","type","viewingMode","arrayToPoint","points","v","makeMapPoint","G","resolution","forceUniformSize","centered","PI","cos","sin","isCompleted","sourceLayer","graphicProperties","emit","graphic","onDeactivate","cancel","onOutlineChanged","onRegularVerticesChanged","onActiveVertexChanged","value","prototype","nonNullable","constructOnly","readOnly","data","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","miterLimit","width","color","style","size","E","_visualElementGraphics","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","manipulators","drawingMode","snapToSceneEnabled","drawSurface","hasM","snappingVisualizer","attributes","displayOrder","graphics","sort","clone","originPosition","scale","tolerance","translate","extent","xmin","ymax","I","Array","L","S","N","ymin","xmax","zmin","zmax","mmin","mmax","q","B","C","F","Object","freeze","__proto__","copy","identity","set","invert","determinant","multiply","rotate","fromRotation","fromScaling","fromTranslation","str","frob","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","mul","sub","uid","visible","objectId","centroid","exceededTransferLimit","features","fields","objectIdFieldName","globalIdFieldName","geometryProperties","geohashFieldName","transform","vertexAttributes","position","J","events","action","execute","screenStart","start","screenEnd","screenPoint","pointerType","mapStart","mapEnd","getOriginPoint","move","origin","notifyGeometryChanged","offset","centerAt","geographic","translationX","translationY","translationZ","exclude","toMap","filter","Map","clonePositional","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","D","screenDeltaX","screenDeltaY","toScreen","height","next","getLogger","RESOURCE_CONTROLLER","SLIDE","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","OVERLAY","STAGE","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","LABELER","FEATURE_QUERY_ENGINE","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","SNAPPING","SHADOW_ACCUMULATOR","TEST_PRIO","has","get","A","k","P","performanceInfo","total","tasks","_frameTaskTimes","_budget","_state","_tasks","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","_forceTask","_debug","_debugHandle","nowFunc","keys","_test","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","budget","usedBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","resetRuntimes","_resetRuntimes","getRunning","_getRunning","registerTask","registerIdleStateCallbacks","idleBegin","idleEnd","state","_removeIdleStateCallbacks","forAll","updateBudget","frameDuration","elapsedFrameTime","_updateLoad","_schedule","frame","_runIdle","_runInteracting","_runAnimating","elapsed","stopFrame","madeProgress","removeUnordered","removeTask","name","setPriority","some","SCHEDULED","IDLE","needsUpdate","schedulePriority","READY","WAITING","runtime","_run","reduce","filterInPlace","basePriority","unshift","now","_startFrameTaskTimes","pop","resetProgress","task","runTask","error","priority","console","log","remaining","_recordFrameTaskTimes","record","Scheduler","_scheduler","_basePriority","_queue","running","processQueue","normalizeCtorArgs","schedule","reschedule","done","process","_begin","_didWork","_enabled","run","Budget","performance","enabled","Promise","resolve","reject","Number","MAX_SAFE_INTEGER","acos","W","X","Y","Z","H","K","Q","$","st","at","ot","setAxisAngle","getAxisAngle","rotateX","rotateY","rotateZ","calculateW","slerp","random","conjugate","fromMat3","fromEuler","dot","lerp","len","squaredLength","sqrLen","normalize","rotationTo","sqlerp","setAxes","isArray","extendedSpatialReferenceInfo","clip","cut","contains","crosses","distance","intersects","touches","within","disjoint","overlaps","relate","isSimple","simplify","convexHull","difference","symmetricDifference","intersect","union","buffer","geodesicBuffer","nearestCoordinate","nearestVertex","nearestVertices","Error","fromJSON","flipHorizontal","flipVertical","generalize","densify","geodesicDensify","planarArea","planarLength","geodesicArea","geodesicLength","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","getPointX","getPointY","getPointZ","getPointM","exportPolygon","exportPaths","exportPolyline","exportMultipoint","exportPoints","exportExtent","getXMin","getYMin","getXMax","getYMax","getZExtent","vmin","vmax","getMExtent","shift","signal","abortCallback","callback","then","cancelAll","hasOwnProperty","arguments","SCHEDULER_LOG_SLOW_TASKS","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES","toolState","completed","automaticManipulatorSelection","_creationStartedResolver","_creationFinishedResolver","activeTool","active","attached","_show","_hide","isToolEditable","_updateManipulatorAttachment","onEditableChange","_get","attach","warn","onAttach","onShow","detach","onHide","onDetach","activate","focus","onActivate","deactivate","handleInputEvent","handleInputEventAfter","onInputEventAfter","whenCreationStarted","promise","when","rejectCreation","startToolCreation","finishToolCreation","created","editable","_isToolEditable","_manipulators","_nextManipulatorId","_resourceContexts","manipulator3D","_attached","addMany","id","manipulator","visibilityPredicate","getItemAt","_detachManipulator","removeAll","items","toArray","MAX_VALUE","intersectionDistance","findById","_isManipulatorItemVisible","_attachManipulator","grabbing","dragging","hovering","selected","create","fromValues","createView","Float64Array","main","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","hoverSize","hoverColor","outlineColor","hoverOutlineColor","stagedColor","stagedOutlineColor","vertex","midpoint","line","reshapeGraphics","transformGraphics","createSnapDragEventPipelineStep","predicate","snappingContext","updatingHandles","doneSnapping","frameTask","resourceController","scheduler","context","editGeometryOperations","elevationInfo","pointer","vertexHandle","info","handle","excludeFeature","visualizer","originalPos","snapOrigin","vectorToDehydratedPoint","arrayToVector","update","async","snap","valid","apply","addPromise","mapToLocal","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","fromRenderCoords","graphicsLayer","visualizeIntersectionPoint","_visualizeSnappingIndicator","intersectionPoint","visualizePoint","point","visualizeLine","lineStart","lineEnd","visualizeParallelSign","visualizeRightAngleQuad","previousVertex","centerVertex","nextVertex","toRgb","lineHintWidthTarget","anchorPoint","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","markerGraphics","scaleSymbolsProportionally","respectFrame","rightAngleHintSize","rotation","placeOnEndPoints","rightAngleHintOutlineSize","excludeGraphics","screenToMap","sceneIntersectionHelper","intersectElevationFromScreen","mapToScreen","grabbableForEvent","selectable","cursor","grabbable","_createOperationCompleted","_pointerDownStates","Set","_snappingPipeline","_snappingTask","_stagedVertex","_frameTask","_editGeometryOperations","_activeComponent","components","vertices","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","added","updated","removed","_manipulator","_snappingEnabled","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","options","effectiveEnabled","discardStagedVertex","operation","aborted","commitStagedVertex","appendVertex","pointToVector","pointerId","delete","_onPointerMove","_onHold","_closeOnClickVertexIndex","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","_screenToMapDragEventStep","_getDrawSurface","elevationDrawSurface","getZ","_mapToScreen","mapPoint","stopPropagation","_screenToMap","hasStagedVertex"],"mappings":"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","file":"static/js/38.2447b127.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n}from\"../../core/maybe.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../layers/GraphicsLayer.js\";import{createSquare as c,createRectangle as d,createCircle as u,createEllipse as m,createPolygon as y,createPolyline as g,createMultipoint as v}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as f}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as w}from\"../interactive/InteractiveToolBase.js\";let O=class extends(i(r.EventedMixin(w))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(_.outline),this.handles.remove(_.regularVertices),this.handles.remove(_.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=g([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=u([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?u(i,t,this.centered):m(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=c([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?c(i,t,this.centered):d(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=g([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let r=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(r=new t({geometry:e.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:r,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),_.outline):this.handles.remove(_.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),_.regularVertices):this.handles.remove(_.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),_.activeVertex):this.handles.remove(_.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([l({value:!0})],O.prototype,\"centered\",null),e([l({nonNullable:!0})],O.prototype,\"defaultZ\",void 0),e([l()],O.prototype,\"drawOperation\",void 0),e([l({value:!0})],O.prototype,\"enabled\",null),e([l({value:!0})],O.prototype,\"forceUniformSize\",null),e([l({constructOnly:!0})],O.prototype,\"geometryType\",void 0),e([l()],O.prototype,\"graphic\",null),e([l({constructOnly:!0})],O.prototype,\"graphicProperties\",void 0),e([l()],O.prototype,\"graphicSymbol\",void 0),e([l({constructOnly:!0})],O.prototype,\"hasZ\",void 0),e([l({constructOnly:!0})],O.prototype,\"mode\",void 0),e([l()],O.prototype,\"snappingManager\",void 0),e([l()],O.prototype,\"snapToScene\",void 0),e([l({readOnly:!0})],O.prototype,\"type\",void 0),e([l({readOnly:!0})],O.prototype,\"updating\",null),e([l({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),O=e([p(\"esri.views.draw.DrawGraphicTool\")],O);const V=\"create-operation-graphic\",_={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const G=48;export{O as DrawGraphicTool,x as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../../../symbols.js\";import e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import i from\"../../../../../Graphic.js\";import{makeHandle as t}from\"../../../../../core/handleUtils.js\";import{unwrapOr as r,unwrap as s,isSome as a,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SnappingVisualizer2D as p}from\"../../SnappingVisualizer2D.js\";import{outline as c,regularVertices as h,activeVertex as u}from\"./symbols.js\";import{DrawGraphicTool as m,geometryTypeToDrawOperationGeometryType as v}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as y}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as d}from\"../../../../draw/drawSurfaces.js\";import g from\"../../../../../geometry/Point.js\";import G from\"../../../../../geometry/Multipoint.js\";let E=class extends m{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:r(e.activeLineSymbol,c),regularVertices:r(e.regularVerticesSymbol,h),activeVertex:r(e.activeVertexSymbol,u),fill:s(e.activeFillSymbol)}}initializeGraphic(e){return a(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new y({view:e,manipulators:this.manipulators,geometryType:v(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new d(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new p(this.internalGraphicsLayer)})}onActiveVertexChanged(e){const[r,s]=e,n=new g({x:r,y:s,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new i({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=l(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const r=e.clone();if(\"polyline\"===r.type){const e=r.paths[r.paths.length-1];e.splice(0,e.length-2)}return a(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=r,null):(this._visualElementGraphics.outline=new i({geometry:r,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=l(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const r=new G({points:e,spatialReference:this.drawOperation.spatialReference});return a(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=r,null):(this._visualElementGraphics.regularVertices=new i({geometry:r,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(_),t((()=>{a(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=l(this._visualElementGraphics.regularVertices))})))}};function _(e,i){var t,r,s,a;return(null!=(t=null==(r=e.attributes)?void 0:r.displayOrder)?t:-1/0)-(null!=(s=null==(a=i.attributes)?void 0:a.displayOrder)?s:-1/0)}e([n()],E.prototype,\"activeFillSymbol\",void 0),e([n({readOnly:!0})],E.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([o(\"esri.views.2d.interactive.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as n,isNone as t}from\"../../core/maybe.js\";import{isPoint as r,isPolyline as e,isPolygon as u,isMultipoint as i,isExtent as o}from\"./jsonUtils.js\";function l(n){return n&&\"upperLeft\"===n.originPosition}const a=(n,t,r)=>[t,r],m=(n,t,r)=>[t,r,n[2]],c=(n,t,r)=>[t,r,n[2],n[3]];function s(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function f(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,i,o,a;return l(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),l(t)?(i=t.translate[0],o=t.translate[1],a=t.scale[0]):(i=t.extent.xmin,o=t.extent.ymax,a=t.tolerance),r===i&&e===o&&u===a}function x({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function h({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function I(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=x(n,m[0]),l=h(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=x(n,m[0]),i=h(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function g(n,t,r){return t[0]=x(n,r[0]),t[3]=h(n,r[1]),t[2]=x(n,r[2]),t[1]=h(n,r[3]),t}function p(n,t,r,e){return I(n,r?e?c:m:e?m:a,t)}function N(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function y(n,t,r,e){const u=[],i=r?e?c:m:e?m:a;for(let o=0;o<t.length;o++){const r=I(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function z({scale:n,translate:t},r){return r*n[0]+t[0]}function T({scale:n,translate:t},r){return t[1]-r*n[1]}function M(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=z(n,r[0][0]),l=T(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function E(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=M(n,t,r[u]);return e}function P(n,t,r){return r?(t[0]=z(n,r[0]),t[1]=T(n,r[3]),t[2]=z(n,r[2]),t[3]=T(n,r[1]),t):[z(n,t[0]),T(n,t[3]),z(n,t[2]),T(n,t[1])]}function b(n,t,r,e){return M(n,r?e?c:m:e?m:a,t)}function F(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function V(n,t,r,e){return E(n,r?e?c:m:e?m:a,t)}function Y(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function _(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)Y(n,n,t[r]);return n}function A(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return Y(t,t,n)}function w(n){return _([0,0,0,0],n)}function j(n){return _([0,0,0,0],n)}function G(n,t,r,e,u){return t.xmin=x(n,r.xmin),t.ymin=h(n,r.ymin),t.xmax=x(n,r.xmax),t.ymax=h(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function L(n,t,r,e,u){return t.points=p(n,r.points,e,u),t}function O(n,t,r,e,u){return t.x=x(n,r.x),t.y=h(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function S(n,t,r,e,u){const i=N(n,r.rings,e,u);return i?(t.rings=i,t):null}function d(n,t,r,e,u){const i=y(n,r.paths,e,u);return i?(t.paths=i,t):null}function U(n,t){return n&&t?r(t)?O(n,{},t,!1,!1):e(t)?d(n,{},t,!1,!1):u(t)?S(n,{},t,!1,!1):i(t)?L(n,{},t,!1,!1):o(t)?G(n,{},t,!1,!1):null:null}function k(n,t,r,e,u){return t.xmin=z(n,r.xmin),t.ymin=T(n,r.ymin),t.xmax=z(n,r.xmax),t.ymax=T(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function q(t,r,e,u,i){return n(e)&&(r.points=b(t,e.points,u,i)),r}function v(n,r,e,u,i){return t(e)||(r.x=z(n,e.x),r.y=T(n,e.y),r!==e&&(u&&(r.z=e.z),i&&(r.m=e.m))),r}function B(t,r,e,u,i){return n(e)&&(r.rings=V(t,e.rings,u,i)),r}function C(t,r,e,u,i){return n(e)&&(r.paths=F(t,e.paths,u,i)),r}export{f as equals,Y as getQuantizedBoundsCoordsArray,_ as getQuantizedBoundsCoordsArrayArray,w as getQuantizedBoundsPaths,A as getQuantizedBoundsPoints,j as getQuantizedBoundsRings,g as quantizeBounds,G as quantizeExtent,U as quantizeGeometry,L as quantizeMultipoint,y as quantizePaths,O as quantizePoint,p as quantizePoints,S as quantizePolygon,d as quantizePolyline,N as quantizeRings,x as quantizeX,h as quantizeY,s as toQuantizationTransform,P as unquantizeBounds,M as unquantizeCoordsArray,E as unquantizeCoordsArrayArray,k as unquantizeExtent,q as unquantizeMultipoint,F as unquantizePaths,v as unquantizePoint,b as unquantizePoints,B as unquantizePolygon,C as unquantizePolyline,V as unquantizeRings,z as unquantizeX,T as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function a(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,a,n,s,r,u,o){return t[0]=a,t[1]=n,t[2]=s,t[3]=r,t[4]=u,t[5]=o,t}function r(t,a){const n=a[0],s=a[1],r=a[2],u=a[3],o=a[4],c=a[5];let e=n*u-s*r;return e?(e=1/e,t[0]=u*e,t[1]=-s*e,t[2]=-r*e,t[3]=n*e,t[4]=(r*c-u*o)*e,t[5]=(s*o-n*c)*e,t):null}function u(t){return t[0]*t[3]-t[1]*t[2]}function o(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],c=a[4],e=a[5],i=n[0],h=n[1],M=n[2],f=n[3],b=n[4],l=n[5];return t[0]=s*i+u*h,t[1]=r*i+o*h,t[2]=s*M+u*f,t[3]=r*M+o*f,t[4]=s*b+u*l+c,t[5]=r*b+o*l+e,t}function c(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],c=a[4],e=a[5],i=Math.sin(n),h=Math.cos(n);return t[0]=s*h+u*i,t[1]=r*h+o*i,t[2]=s*-i+u*h,t[3]=r*-i+o*h,t[4]=c,t[5]=e,t}function e(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],c=a[4],e=a[5],i=n[0],h=n[1];return t[0]=s*i,t[1]=r*i,t[2]=u*h,t[3]=o*h,t[4]=c,t[5]=e,t}function i(t,a,n){const s=a[0],r=a[1],u=a[2],o=a[3],c=a[4],e=a[5],i=n[0],h=n[1];return t[0]=s,t[1]=r,t[2]=u,t[3]=o,t[4]=s*i+u*h+c,t[5]=r*i+o*h+e,t}function h(t,a){const n=Math.sin(a),s=Math.cos(a);return t[0]=s,t[1]=n,t[2]=-n,t[3]=s,t[4]=0,t[5]=0,t}function M(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=a[1],t[4]=0,t[5]=0,t}function f(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=a[0],t[5]=a[1],t}function b(t){return\"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"}function l(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function m(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t}function d(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t}function p(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t}function x(t,a,n,s){return t[0]=a[0]+n[0]*s,t[1]=a[1]+n[1]*s,t[2]=a[2]+n[2]*s,t[3]=a[3]+n[3]*s,t[4]=a[4]+n[4]*s,t[5]=a[5]+n[5]*s,t}function y(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]}function q(a,n){const s=a[0],r=a[1],u=a[2],o=a[3],c=a[4],e=a[5],i=n[0],h=n[1],M=n[2],f=n[3],b=n[4],l=n[5];return Math.abs(s-i)<=t*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(r-h)<=t*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(u-M)<=t*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(c-b)<=t*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(e-l)<=t*Math.max(1,Math.abs(e),Math.abs(l))}const _=o,j=d;var v=Object.freeze({__proto__:null,copy:a,identity:n,set:s,invert:r,determinant:u,multiply:o,rotate:c,scale:e,translate:i,fromRotation:h,fromScaling:M,fromTranslation:f,str:b,frob:l,add:m,subtract:d,multiplyScalar:p,multiplyScalarAndAdd:x,exactEquals:y,equals:q,mul:_,sub:j});export{r as a,h as b,v as c,a as d,s as e,M as f,u as g,f as h,n as i,b as j,l as k,m as l,o as m,d as n,p as o,x as p,y as q,c as r,e as s,i as t,q as u,_ as v,j as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{estimateAttributesObjectSize as e}from\"../../core/byteSizeEstimations.js\";import\"../../core/has.js\";import{isSome as t,isNone as s}from\"../../core/maybe.js\";import{estimateSize as r}from\"../../core/typedArrayUtil.js\";import{generateUID as n}from\"../../core/uid.js\";import o from\"../../geometry/SpatialReference.js\";import{create as a,empty as i,expandWithNestedArray as l,expandWithAABB as p}from\"../../geometry/support/aaBoundingBox.js\";import{create as c,empty as u,expandWithNestedArray as h,expand as m}from\"../../geometry/support/aaBoundingRect.js\";import{unquantizePolyline as y,unquantizePolygon as f,unquantizeMultipoint as g,unquantizePoint as d}from\"../../geometry/support/quantizationUtils.js\";import{isFeatureGeometryType as b,featureGeometryTypeKebabDictionary as x}from\"../../geometry/support/typeUtils.js\";import Z from\"../support/Field.js\";export{equals}from\"./dehydratedFeatureComparison.js\";class j{constructor(e,t,s){this.uid=e,this.geometry=t,this.attributes=s,this.visible=!0,this.objectId=null,this.centroid=null}}function M(e){return t(e.geometry)}function k(e){return b(e.type)}class N{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function z(e){const s=x.fromJSON(e.geometryType),r=o.fromJSON(e.spatialReference),n=e.transform,a=e.features.map((o=>{const a=F(o,s,r,e.objectIdFieldName),i=a.geometry;if(t(i)&&n)switch(i.type){case\"point\":a.geometry=d(n,i,i,i.hasZ,i.hasM);break;case\"multipoint\":a.geometry=g(n,i,i,i.hasZ,i.hasM);break;case\"polygon\":a.geometry=f(n,i,i,i.hasZ,i.hasM);break;case\"polyline\":a.geometry=y(n,i,i,i.hasZ,i.hasM);break;case\"extent\":case\"mesh\":a.geometry=i}return a}));return{geometryType:s,features:a,spatialReference:r,fields:e.fields?e.fields.map((e=>Z.fromJSON(e))):null,objectIdFieldName:e.objectIdFieldName,globalIdFieldName:e.globalIdFieldName,geohashFieldName:e.geohashFieldName,geometryProperties:e.geometryProperties,hasZ:e.hasZ,hasM:e.hasM,exceededTransferLimit:e.exceededTransferLimit,transform:null}}function F(e,t,s,r){return{uid:n(),objectId:r&&e.attributes?e.attributes[r]:null,attributes:e.attributes,geometry:I(e.geometry,t,s),visible:!0}}function I(e,t,r){if(s(e))return null;switch(t){case\"point\":{const t=e;return{x:t.x,y:t.y,z:t.z,m:t.m,hasZ:null!=t.z,hasM:null!=t.m,type:\"point\",spatialReference:r}}case\"polyline\":{const t=e;return{paths:t.paths,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"polyline\",spatialReference:r}}case\"polygon\":{const t=e;return{rings:t.rings,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"polygon\",spatialReference:r}}case\"multipoint\":{const t=e;return{points:t.points,hasZ:!!t.hasZ,hasM:!!t.hasM,type:\"multipoint\",spatialReference:r}}}}function v(e,t,s,r){return{x:e,y:t,z:s,hasZ:null!=s,hasM:!1,spatialReference:r,type:\"point\"}}function R(e){if(s(e))return 0;let t=32;switch(e.type){case\"point\":t+=42;break;case\"polyline\":case\"polygon\":{let s=0;const r=2+(e.hasZ?1:0)+(e.hasM?1:0),n=\"polyline\"===e.type?e.paths:e.rings;for(const e of n)s+=e.length;t+=8*s*r+64,t+=128*s,t+=34,t+=32*(n.length+1);break}case\"multipoint\":{const s=2+(e.hasZ?1:0)+(e.hasM?1:0),r=e.points.length;t+=8*r*s+64,t+=128*r,t+=34,t+=32;break}case\"extent\":t+=98,e.hasM&&(t+=32),e.hasZ&&(t+=32);break;case\"mesh\":t+=r(e.vertexAttributes.position),t+=r(e.vertexAttributes.normal),t+=r(e.vertexAttributes.uv),t+=r(e.vertexAttributes.tangent)}return t}function A(t){let s=32;return s+=e(t.attributes),s+=3,s+=8+R(t.geometry),s}function w(e){if(s(e))return 0;switch(e.type){case\"point\":return 1;case\"polyline\":{let t=0;for(const s of e.paths)t+=s.length;return t}case\"polygon\":{let t=0;for(const s of e.rings)t+=s.length;return t}case\"multipoint\":return e.points.length;case\"extent\":return 2;case\"mesh\":{const t=e.vertexAttributes&&e.vertexAttributes.position;return t?t.length/3:0}default:return}}function S(e){if(s(e))return!1;switch(e.type){case\"extent\":case\"point\":return!0;case\"polyline\":for(const t of e.paths)if(t.length>0)return!0;return!1;case\"polygon\":for(const t of e.rings)if(t.length>0)return!0;return!1;case\"multipoint\":return e.points.length>0;case\"mesh\":return!e.loaded||e.vertexAttributes.position.length>0}}function T(e,t){switch(i(t),\"mesh\"===e.type&&(e=e.extent),e.type){case\"point\":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case\"polyline\":for(let s=0;s<e.paths.length;s++)l(t,e.paths[s],e.hasZ);break;case\"polygon\":for(let s=0;s<e.rings.length;s++)l(t,e.rings[s],e.hasZ);break;case\"multipoint\":l(t,e.points,e.hasZ);break;case\"extent\":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax)}}function B(e,t){T(e,P),p(t,P)}function J(e,t){switch(u(t),\"mesh\"===e.type&&(e=e.extent),e.type){case\"point\":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case\"polyline\":for(let s=0;s<e.paths.length;s++)h(t,e.paths[s]);break;case\"polygon\":for(let s=0;s<e.rings.length;s++)h(t,e.rings[s]);break;case\"multipoint\":h(t,e.points);break;case\"extent\":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax}}function L(e,s){t(e)&&(J(e,U),m(s,U,s))}function O(e,t){return null!=e.objectId?e.objectId:e.attributes&&t?e.attributes[t]:null}const P=a(),U=c();export{j as DehydratedFeatureClass,N as DehydratedFeatureSetClass,T as computeAABB,J as computeAABR,R as estimateGeometryObjectSize,A as estimateSize,B as expandAABB,L as expandAABR,z as fromFeatureSetJSON,I as fromJSONGeometry,O as getObjectId,M as hasGeometry,S as hasVertices,k as isFeatureGeometry,v as makeDehydratedPoint,w as numVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e}from\"../../core/maybe.js\";function n(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function t(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function r(e,n){return!!f(e.spatialReference,n.spatialReference)&&(e.x===n.x&&e.y===n.y&&e.z===n.z&&e.m===n.m)}function a(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&t(e.paths,n.paths))}function i(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&t(e.rings,n.rings))}function u(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&(!!f(e.spatialReference,t.spatialReference)&&n(e.points,t.points))}function s(e,n){return e.hasZ===n.hasZ&&e.hasM===n.hasM&&(!!f(e.spatialReference,n.spatialReference)&&(e.xmin===n.xmin&&e.ymin===n.ymin&&e.zmin===n.zmin&&e.xmax===n.xmax&&e.ymax===n.ymax&&e.zmax===n.zmax))}function f(e,n){return e===n||e&&n&&e.equals(n)}function l(n,t){if(n===t)return!0;if(e(n)||e(t))return!1;if(n.type!==t.type)return!1;switch(n.type){case\"point\":return r(n,t);case\"extent\":return s(n,t);case\"polyline\":return a(n,t);case\"polygon\":return i(n,t);case\"multipoint\":return u(n,t);case\"mesh\":return!1;default:return}}function c(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function o(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!l(e.geometry,n.geometry)&&!!c(e.attributes,n.attributes))}export{o as equals,r as pointEquals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as a,unwrap as o}from\"../../core/maybe.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{f as s}from\"../../chunks/vec3f64.js\";import{project as l}from\"../../geometry/projection.js\";import{move as i}from\"../draw/support/drawUtils.js\";function u(t,n){let e=null,o=null;return c=>{if(\"cancel\"===c.action)return void(r(o)&&(o.execute({action:\"cancel\"}),e=null,o=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};\"start\"===c.action&&a(e)&&(e=new b,o=new b,n(t,e,o,c.pointerType,s)),r(e)&&e.execute(s),\"end\"===c.action&&r(e)&&(e=null,o=null)}}function m(t,n){return t.events.on(\"drag\",u(t,n))}function f(n,e){const r=[];for(const t of n)r.push(m(t,e));return t(r)}function p(t,n){const e=[t.x,t.y,t.z],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const c=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(c(t.mapStart),c(t.mapEnd),t)}function y(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=x(t,r.mapStart.spatialReference,n)),a(e))return null;const o=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(o,c,s),{...r,translationX:o,translationY:c,translationZ:s}}}function d(t,n){return a(t)?null:t.spatialReference.equals(n)?t.clone():l(t,n)}function x(t,n,e){const r=t.geometry;if(a(r))return null;if(\"mesh\"===r.type)return E(t,r,n,e);const o=d(r,n),c=r.spatialReference;return a(o)?null:{move:(n,e,r)=>{const a=i(o.clone(),n,e,r);a.spatialReference.equals(c)?t.geometry=a:t.geometry=l(a,c)}}}function E(t,n,e,a){if(r(n.transform))return h(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let o=0,c=0,s=0;return{move:(e,r,l)=>{const i=e-o,u=r-c,m=l-s;if(i||u||m){const f=n.origin.clone().offset(i,u,m);n.centerAt(f,{geographic:1===a}),t.notifyGeometryChanged(),o=e,c=r,s=l}}}}function h(t,n,e,o){const c=d(e.getOriginPoint(n.spatialReference),o),u=n.spatialReference;return a(c)?null:{move:(n,a,o)=>{const m=i(c.clone(),n,a,o);if(m.spatialReference.equals(u))e.origin=s(m.x,m.y,m.z);else{const t=l(m,u);r(t)&&(e.origin=s(t.x,t.y,t.z))}t.notifyGeometryChanged()}}}function g(t,n=null,e){let o=null;const c=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?l(t,n):t:t=>t,s={exclude:[],...e};return n=>{if(\"start\"===n.action&&(o=c(t.toMap(n.screenStart,s))),a(o))return null;const e=c(t.toMap(n.screenEnd,s));return r(e)?{...n,mapStart:o,mapEnd:e}:null}}function S(t,n){const e=t.map((t=>o(y(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function R(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function z(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?j(t,t.geometry):R(t,[\"geometry\"])}function j(t,n){const e=r(n.transform)?n.transform.clone():null,a=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=a,t.notifyGeometryChanged(),r)}function v(t){const n=t.map((t=>o(z(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function w(t){return R(t,[\"symbol\"])}function q(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function D(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let r=null,a=0,o=0;return s=>{if(\"start\"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(a=s.screenStart.x-r.x,o=s.screenStart.y-r.y)),null==r)return null;const l=e(s.screenEnd.x-a,0,t.width),i=e(s.screenEnd.y-o,0,t.height),u=c(l,i);return s.screenStart=r,s.screenEnd=u,s}}class b{constructor(){this.execute=()=>{}}next(t,n=new b){return r(t)&&(this.execute=e=>{const a=t(e);r(a)&&n.execute(a)}),n}}export{b as EventPipeline,q as addMapDelta,D as addScreenDelta,p as constrainToMapAxis,u as createDragEventPipelineCallback,m as createManipulatorDragEventPipeline,f as createManipulatorDragEventPipelineMany,M as dragAtLocation,y as dragGraphic,S as dragGraphicMany,z as resetGraphic,v as resetGraphicMany,R as resetProperties,w as resetSymbol,g as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import s from\"../../core/Logger.js\";import{isNone as r,isSome as i}from\"../../core/maybe.js\";import a from\"../../core/PerformanceSampler.js\";import n from\"../../core/PooledArray.js\";import{isAborted as o,createAbortError as u,when as h}from\"../../core/promiseUtils.js\";import{Milliseconds as _}from\"../../core/time.js\";import{init as d}from\"../../core/watchUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import E from\"../../layers/support/PromiseQueue.js\";import T from\"./debugFlags.js\";const m=s.getLogger(\"esri.views.support.Scheduler\");function g(e){return new U.Scheduler({nowFunc:e})}var p;!function(e){e.RESOURCE_CONTROLLER=\"schedule\",e.SLIDE=\"slide\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.OVERLAY=\"overlay\",e.STAGE=\"stage\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.LABELER=\"labeler\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e.SNAPPING=\"snapping\",e.SHADOW_ACCUMULATOR=\"shadow accumulator\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(p||(p={}));const I=0,R=new Map([[p.RESOURCE_CONTROLLER,I],[p.SLIDE,I],[p.STREAM_DATA_LOADER,I],[p.ELEVATION_QUERY,I],[p.TERRAIN_SURFACE,1],[p.SURFACE_GEOMETRY_UPDATES,1],[p.GRAPHICS_CORE,2],[p.I3S_CONTROLLER,2],[p.POINT_CLOUD_LAYER,2],[p.FEATURE_TILE_FETCHER,2],[p.OVERLAY,4],[p.STAGE,4],[p.GRAPHICS_DECONFLICTOR,4],[p.FILTER_VISIBILITY,4],[p.SCALE_VISIBILITY,4],[p.FRUSTUM_VISIBILITY,4],[p.POINT_OF_INTEREST_FREQUENT,6],[p.POINT_OF_INTEREST_INFREQUENT,30],[p.LABELER,8],[p.FEATURE_QUERY_ENGINE,8],[p.FEATURE_TILE_TREE,16],[p.FEATURE_TILE_TREE_ACTIVE,I],[p.ELEVATION_ALIGNMENT,12],[p.TEXT_TEXTURE_ATLAS,12],[p.TEXTURE_UNLOAD,12],[p.LINE_OF_SIGHT_TOOL,16],[p.LINE_OF_SIGHT_TOOL_INTERACTIVE,I],[p.SNAPPING,I],[p.SHADOW_ACCUMULATOR,30]]);function f(e){return R.has(e)?R.get(e):\"number\"==typeof e?e:1}const A=_(6.5),S=_(1),b=_(30),L=_(1e3/30),k=_(100),O=.9;var U,P;!function(s){let o=class extends t{constructor(e){super(e),this.updating=!0,this.performanceInfo={total:new a(\"total\"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=1,this._tasks=new n,this._runQueue=new n,this._load=0,this._idleStateCallbacks=new n,this._idleUpdatesStartFired=!1,this._maxReschedule=C,this._forceTask=!1,this._debug=!1,this._debugHandle=d(T,\"SCHEDULER_LOG_SLOW_TASKS\",(e=>this._debug=e)),this._budget=new h(e.nowFunc);for(const r of Object.keys(p))this.performanceInfo.tasks.set(p[r],new a(p[r]));let t;const s=this;this._test={get state(){return r(t)?s._state:t},set state(e){t=e},FRAME_SAFETY_BUDGET:A,INTERACTING_BUDGET:L,IDLE_BUDGET:k,get budget(){return s._budget.budget},usedBudget:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,t){const s=f(e),r=new u(this,e,t,s);return this._tasks.push(r),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new a(e)),r}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),2===this.state&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),2===r._state&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get now(){return this.nowFunc()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return r(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=A,s=e.frameDuration,r=S;switch(this.state){case 2:t=_(0),s=_(Math.max(k,e.frameDuration)),r=b;break;case 1:s=_(Math.max(L,e.frameDuration))}return s=_(s-e.elapsedFrameTime-t),2!==this.state&&s<S&&!this._forceTask?(this._forceTask=!0,!1):(s=_(Math.max(s,r)),this._budget.reset(s,this.state),this._maxReschedule=C,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(_(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return P.SCHEDULED;let t=P.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=P.READY:t!==P.READY&&(t=P.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*O+e*(1-O)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===I&&e.needsUpdate&&!this._runQueue.some((t=>t===e))&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.basePriority!==I)switch(e=!0,t=Math.max(t,s.basePriority),s.schedulePriority){case 1:s.schedulePriority=0,this._runQueue.push(s);break;default:--s.schedulePriority}})),!e)return this.updating=!1,!1;this._maxReschedule===C&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(t){m.error(`Exception in task \"${r.name}\"`,t)}r.schedulePriority=r.basePriority;const i=this._budget.now()-s;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",r.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(p))this._frameTaskTimes.set(p[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).record(e))),this.performanceInfo.total.record(e)}get test(){return this._test}};e([l()],o.prototype,\"updating\",void 0),e([l()],o.prototype,\"nowFunc\",void 0),o=e([c(\"esri.views.support.Scheduler\")],o),s.Scheduler=o;let u=class extends t{constructor(e,t,s,r){super({}),this._scheduler=e,this.name=t,this._basePriority=r,this.runtime=0,this._queue=new E,this.updating=!1,this.schedulePriority=this._basePriority,this.task=i(s)?s:{running:!1,runTask:e=>this.processQueue(e)}}normalizeCtorArgs(){return{}}remove(){this.processQueue(F),this._scheduler.removeTask(this),this.schedule=y.schedule,this.reschedule=y.reschedule}get basePriority(){return this._basePriority}setPriority(e){this.name=e;const t=f(e);this._basePriority!==I&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,s){return this.updating=!0,this._queue.push(e,t,s)}reschedule(e,t,s){return this.updating=!0,this._queue.unshift(e,t,s)}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();this.updating=this._queue.length>0}};e([l()],u.prototype,\"updating\",void 0),u=e([c(\"esri.views.support.SchedulerTask\")],u);class h{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}s.Budget=h}(U||(U={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(P||(P={}));const F=(()=>{const e=new U.Budget((()=>performance.now()));return e.enabled=!1,e})();class N{remove(){}processQueue(){}schedule(e,t,s){try{if(o(t)){const e=u();return s?Promise.resolve(s(e)):Promise.reject(e)}return h(e())}catch(r){return Promise.reject(r)}}reschedule(e,t,s){return this.schedule(e,t,s)}}const y=new N,C=Number.MAX_SAFE_INTEGER;export{y as ImmediateTask,p as TaskPriority,P as TaskState,f as getTaskPriority,g as newScheduler,F as noBudget,R as taskPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"./mat3f64.js\";import{a as s}from\"./quatf64.js\";import{c as a,f as n}from\"./vec3f64.js\";import{E as o,R as r}from\"./common.js\";import{d as c,c as e,u,n as i}from\"./vec3.js\";import{c as h,s as M,a as f,b as l,d as m,l as p,e as q,f as d,n as j,g,h as v}from\"./vec4.js\";function x(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function I(t,s){const a=2*Math.acos(s[3]),n=Math.sin(a/2);return n>o?(t[0]=s[0]/n,t[1]=s[1]/n,t[2]=s[2]/n):(t[0]=1,t[1]=0,t[2]=0),a}function P(t,s,a){const n=s[0],o=s[1],r=s[2],c=s[3],e=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+c*e+o*i-r*u,t[1]=o*h+c*u+r*e-n*i,t[2]=r*h+c*i+n*u-o*e,t[3]=c*h-n*e-o*u-r*i,t}function b(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+c*e,t[1]=o*u+r*e,t[2]=r*u-o*e,t[3]=c*u-n*e,t}function y(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*e,t[1]=o*u+c*e,t[2]=r*u+n*e,t[3]=c*u-o*e,t}function E(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*e,t[1]=o*u-n*e,t[2]=r*u+c*e,t[3]=c*u-r*e,t}function _(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function z(t,s,a,n){const r=s[0],c=s[1],e=s[2],u=s[3];let i,h,M,f,l,m=a[0],p=a[1],q=a[2],d=a[3];return h=r*m+c*p+e*q+u*d,h<0&&(h=-h,m=-m,p=-p,q=-q,d=-d),1-h>o?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-n)*i)/M,l=Math.sin(n*i)/M):(f=1-n,l=n),t[0]=f*r+l*m,t[1]=f*c+l*p,t[2]=f*e+l*q,t[3]=f*u+l*d,t}function L(t){const s=r(),a=r(),n=r(),o=Math.sqrt(1-s),c=Math.sqrt(s);return t[0]=o*Math.sin(2*Math.PI*a),t[1]=o*Math.cos(2*Math.PI*a),t[2]=c*Math.sin(2*Math.PI*n),t[3]=c*Math.cos(2*Math.PI*n),t}function k(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],c=a*a+n*n+o*o+r*r,e=c?1/c:0;return t[0]=-a*e,t[1]=-n*e,t[2]=-o*e,t[3]=r*e,t}function w(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function B(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function C(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),c=Math.cos(s),e=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-c*e*i,t[1]=c*e*h+r*u*i,t[2]=c*u*i-r*e*h,t[3]=c*u*h+r*e*i,t}function D(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}const F=h,G=M,O=f,R=P,T=l,W=m,X=p,Y=q,Z=Y,H=d,J=H,K=j,N=g,Q=v;function S(t,s,a){const n=c(s,a);return n<-.999999?(e(U,V,s),u(U)<1e-6&&e(U,$,s),i(U,U),A(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(e(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,K(t,t))}const U=a(),V=n(1,0,0),$=n(0,1,0);function tt(t,s,a,n,o,r){return z(st,s,o,r),z(at,a,n,r),z(t,st,at,2*r*(1-r)),t}const st=s(),at=s();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],K(t,B(t,o))}const ot=t();var rt=Object.freeze({__proto__:null,identity:x,setAxisAngle:A,getAxisAngle:I,multiply:P,rotateX:b,rotateY:y,rotateZ:E,calculateW:_,slerp:z,random:L,invert:k,conjugate:w,fromMat3:B,fromEuler:C,str:D,copy:F,set:G,add:O,mul:R,scale:T,dot:W,lerp:X,length:Y,len:Z,squaredLength:H,sqrLen:J,normalize:K,exactEquals:N,equals:Q,rotationTo:S,sqlerp:tt,setAxes:nt});export{X as A,Z as B,J as C,K as D,Q as E,tt as F,nt as G,F as a,b,w as c,y as d,E as e,W as f,I as g,H as h,k as i,N as j,C as k,Y as l,P as m,x as n,_ as o,z as p,rt as q,S as r,A as s,L as t,B as u,D as v,G as w,O as x,R as y,T as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{G as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Extent.js\";import n from\"../Multipoint.js\";import t from\"../Point.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(e,n,o){const i=e.hasZ(n),r=e.hasM(n),s=new t({x:e.getPointX(n),y:e.getPointY(n),spatialReference:o});return i&&(s.z=e.getPointZ(n)),r&&(s.m=e.getPointM(n)),s.cache._geVersion=n,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,t,o){const i=new n({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:o});return i.cache._geVersion=t,i}function x(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({xmin:n.getXMin(t),ymin:n.getYMin(t),xmax:n.getXMax(t),ymax:n.getYMax(t),spatialReference:o});if(i){const e=n.getZExtent(t);s.zmin=e.vmin,s.zmax=e.vmax}if(r){const e=n.getMExtent(t);s.mmin=e.vmin,s.mmax=e.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isAborted as s,createAbortError as t,isPromise as e}from\"../../core/promiseUtils.js\";class r{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(s,t,e){return new Promise(((r,l)=>this._tasks.push(new a(r,l,s,t,e))))}unshift(s,t,e){return new Promise(((r,l)=>this._tasks.unshift(new a(r,l,s,t,e))))}process(){if(0===this._tasks.length)return!1;const r=this._tasks.shift();try{const a=s(r.signal);if(a&&!r.abortCallback)r.reject(t());else{const s=a?r.abortCallback(t()):r.callback();e(s)?s.then(r.resolve,r.reject):r.resolve(s)}}catch(a){r.reject(a)}return!0}cancelAll(){const s=t();for(const t of this._tasks)if(t.abortCallback){const e=t.abortCallback(s);t.resolve(e)}else t.reject(s);this._tasks.length=0}}class a{constructor(s,t,e,r,a){this.resolve=s,this.reject=t,this.callback=e,this.signal=r,this.abortCallback=a}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n){return 32+n.length}function t(){return 16}function e(e){if(!e)return 0;let r=32;for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];switch(typeof c){case\"string\":r+=n(c);break;case\"number\":r+=t();break;case\"boolean\":r+=4}}return r}function r(n,t){return 32+n.length*t}export{e as estimateAttributesObjectSize,r as estimateFixedArraySize,t as estimateNumberByteSize,n as estimateStringByteSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends r{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};o([s()],t.prototype,\"SCHEDULER_LOG_SLOW_TASKS\",void 0),o([s()],t.prototype,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",void 0),t=o([e(\"esri.views.support.DebugFlags\")],t);const p=new t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as o}from\"../../core/maybe.js\";import{createResolver as a}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{isDOMContainer as n}from\"../DOMContainer.js\";import{ManipulatorCollection as h}from\"./ManipulatorCollection.js\";const l=i.getLogger(\"esri.views.interactive.InteractiveToolBase\");let c=class extends e{constructor(t){super(t),this.toolState=\"pending\",this.completed=!1,this.manipulators=new h,this.updating=!1,this.automaticManipulatorSelection=!0,this._creationStartedResolver=a(),this._creationFinishedResolver=a()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._set(\"visible\",t),t||this.active&&(this.view.activeTool=null),this.attached&&(t?this._show():this._hide())}set editable(t){this._set(\"editable\",t),this.manipulators.isToolEditable=t,this._updateManipulatorAttachment(),this.notifyChange(\"editable\"),this.onEditableChange()}get attached(){return this._get(\"attached\")}get created(){return\"created\"===this.toolState}get cursor(){return null}attach(){this.attached?l.warn(\"Tool is already attached. Ignoring attach request.\"):(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set(\"attached\",!0))}detach(){this.attached?(this.visible&&this.onHide(),this.onDetach(),this.manipulators.detach(),this._set(\"attached\",!1)):l.error(\"Tool isn't currently attached. Ignoring detach request.\")}activate(){o(this.view)?l.error(\"Can't activate tool if view is not defined.\"):this.active?l.warn(\"Tool is already active, ignoring activation request.\"):(n(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.active?this.onDeactivate():l.warn(\"Tool is not active, ignoring deactivation request.\")}handleInputEvent(t){this.attached?this.onInputEvent(t):l.warn(\"handleInputEvent() called on detached tool\")}handleInputEventAfter(t){this.attached?this.onInputEventAfter(t):l.warn(\"handleInputEventAfter() called on detached tool\")}destroy(){this.manipulators.destroy(),this._set(\"view\",null),this._set(\"completed\",!1)}whenCreationStarted(){return this._creationStartedResolver.promise}when(){return this._creationFinishedResolver.promise}rejectCreation(t){\"pending\"!==this.toolState&&\"creating\"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(t)}onActivate(){}onDeactivate(){}onAttach(){}onDetach(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}startToolCreation(){if(\"pending\"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState=\"creating\");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case\"pending\":this.startToolCreation();case\"creating\":this.created||this._creationFinishedResolver.resolve(this),this.toolState=\"created\";break;case\"created\":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}complete(){this.finishToolCreation(),this._set(\"completed\",!0)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.attached&&this.visible&&this.editable?this.manipulators.attach():this.manipulators.detach()}};t([r()],c.prototype,\"toolState\",void 0),t([r({constructOnly:!0})],c.prototype,\"view\",void 0),t([r({readOnly:!0})],c.prototype,\"active\",null),t([r({value:!0})],c.prototype,\"visible\",null),t([r({value:!0})],c.prototype,\"editable\",null),t([r({value:!1,readOnly:!0})],c.prototype,\"attached\",null),t([r({readOnly:!0})],c.prototype,\"created\",null),t([r({readOnly:!0})],c.prototype,\"completed\",void 0),t([r({readOnly:!0})],c.prototype,\"manipulators\",void 0),t([r({readOnly:!0})],c.prototype,\"updating\",void 0),t([r()],c.prototype,\"cursor\",null),t([r()],c.prototype,\"automaticManipulatorSelection\",void 0),c=t([s(\"esri.views.interactive.InteractiveToolBase\")],c);export{c as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isNone as a,isSome as i}from\"../../core/maybe.js\";class r{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=0){return this.addMany([t],a)[0]}addMany(t,a=0){return t.map((t=>{const i=this._nextManipulatorId++,r={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(r),this._attached&&this._updateManipulatorAttachment(r),i}))}remove(t){if(\"number\"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let r=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({id:s,manipulator:o,attached:n})=>{if(!n||!o.interactive)return;const l=o.intersectionDistance(t,a);i(l)&&l<e&&(e=l,r={id:s,manipulator:o})})),r}findById(t){if(a(t))return null;for(const a of this._manipulators.items)if(t===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return 2===t.visibilityPredicate||(this._isToolEditable?0===t.visibilityPredicate:1===t.visibilityPredicate)}}export{r as ManipulatorCollection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1,0,0]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function n(e,r,n,t,a,o){return[e,r,n,t,a,o]}function t(e,r){return new Float64Array(e,r,6)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as o}from\"../dragEventPipeline.js\";import{SnappingContext as i}from\"./SnappingContext.js\";import{TaskPriority as s,ImmediateTask as p}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new o}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,y=null;const f=()=>{x=t(x),d.doneSnapping(),n(y)&&y.frameTask.remove(),y=null};return l.next((e=>(f(),e))),this.next=new o,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(s.SNAPPING):p;y={context:new i({editGeometryOperations:m.editGeometryOperations,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(y)){const t=y.context.coordinateHelper.vectorToDehydratedPoint(y.context.coordinateHelper.arrayToVector([y.originalPos.x,y.originalPos.y,y.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-y.originalPos.x,o=e.mapStart.y-y.originalPos.y,i={...e,action:\"udpate\"},s=y.context,p=d.update(t,y.context);if(e.mapEnd.x=p.x+n,e.mapEnd.y=p.y+o,\"end\"!==e.action){const e=y.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,s,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,p)||(i.mapEnd.x=t.x+n,i.mapEnd.y=t.y+o,this.next.execute(i))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&f(),e}}}export{c as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{px2pt as i}from\"../../../core/screenUtils.js\";import{a as t,g as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{colors as l}from\"../../draw/support/settings.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import c from\"../../../symbols/SimpleLineSymbol.js\";import y from\"../../../symbols/CIMSymbol.js\";import b from\"../../../geometry/Point.js\";import S from\"../../../geometry/Polyline.js\";class h extends p{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,r){return this._visualizeSnappingIndicator(new b({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:r.coordinateHelper.spatialReference}),u)}visualizePoint(e,r){return this._visualizeSnappingIndicator(new b({x:e.point[0],y:e.point[1],spatialReference:r.coordinateHelper.spatialReference}),M)}visualizeLine(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),f)}visualizeParallelSign(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),I)}visualizeRightAngleQuad(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:r.coordinateHelper.spatialReference}),C(e))}_visualizeSnappingIndicator(i,t){const n=new e({geometry:i,symbol:t});return this.graphicsLayer.add(n),r((()=>{this.graphicsLayer.remove(n)}))}}const d=l.main.toArray(),g=[...l.main.toRgb(),100],u=new m({outline:new c({width:1.5,color:d}),size:15,color:[0,0,0,0]}),M=new m({outline:{width:.5,color:[0,0,0,1]},size:10,color:d}),f=new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.lineHintWidthTarget),color:d}]}}}),I=new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),P=e=>new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:i(s.rightAngleHintSize),rotation:e,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.rightAngleHintOutlineSize),color:d},{type:\"CIMSolidFill\",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),x=P(45),v=P(225),C=(()=>{const e=o(),r=o(),i=a();return o=>(t(e,o.centerVertex,o.previousVertex),t(r,o.nextVertex,o.previousVertex),n(i,e,r),i[2]<0?x:v)})();export{h as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as o}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=o(i,this.view,this.elevationInfo)),i}mapToScreen(t){let o=t;return e(this.elevationInfo)&&(o=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(o)}}class c{constructor(e){this.view=e,this.screenToMap=t=>e.toMap(t),this.mapToScreen=t=>e.toScreen(t)}}export{r as ElevationDrawSurface,c as MapDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as r}from\"../../core/lang.js\";import{isNone as s,destroyMaybe as n,removeMaybe as a,isSome as o,abortMaybe as p}from\"../../core/maybe.js\";import{createTask as h}from\"../../core/promiseUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as m}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{DrawManipulator as g}from\"./DrawManipulator.js\";import{defaultDrawingMode as u}from\"./DrawingMode.js\";import{createCoordinateHelper as y}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as v}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as _,Component as x}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as f}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as T}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as V}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{TaskPriority as S,ImmediateTask as w}from\"../support/Scheduler.js\";let M=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new V,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,s(e.elevationInfo)&&(this.elevationInfo={mode:e.hasZ?\"absolute-height\":\"on-the-ground\",offset:0})}initialize(){var e,t;this.coordinateHelper=y(this.hasZ,this.hasM,this.view.spatialReference);const i=\"3d\"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=i?i.registerTask(S.SNAPPING):w;const r=\"viewingMode\"in this.view.state?this.view.state.viewingMode:2,s=\"segment\"===this.geometryType||\"multipoint\"===this.geometryType?\"polyline\":this.geometryType;this._editGeometryOperations=new f(new _(s,this.coordinateHelper,r)),this._activeComponent=new x(this.spatialReference,r),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}}))),this._manipulator=new g({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){this._editGeometryOperations=n(this._editGeometryOperations),this._frameTask=a(this._frameTask)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:u)}get hasStagedVertex(){return o(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(s(e))this.discardStagedVertex();else if(!o(this._stagedVertex)||!m(this._stagedVertex,e)){if(s(this._stagedVertex))this._stagedVertex=r(e);else{if(m(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=p(this._snappingTask),o(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;p(this._snappingTask),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return v(e,((e,t,i,r)=>{const s=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&s&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>s,cancel:i,snappingManager:this.snappingManager,snappingContext:new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:r,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(s&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{s&&o(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}_createManipulatorDragPipelineFreehand(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}_getDrawSurface(){if(s(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_onHold(e){p(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),this.discardStagedVertex(),void this.complete();const r=this._screenToMap(e.screenPoint);if(o(r))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=p(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){if(p(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=c(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(o(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=o(i)?\"crosshair\":null,o(i))if(o(this.snappingManager)){const t=this.snappingManager,r=new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=t.update(i,r),this._snappingTask=h((async e=>{const s=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);s.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=s.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),s(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(r)&&b(r,t,i)}};function b(e,t,i){const r=e.x-t.x,s=e.y-t.y;return r*r+s*s<=i}e([d()],M.prototype,\"defaultZ\",void 0),e([d({value:u})],M.prototype,\"drawingMode\",null),e([d({constructOnly:!0})],M.prototype,\"elevationDrawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"elevationInfo\",void 0),e([d({constructOnly:!0})],M.prototype,\"geometryType\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasM\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasZ\",void 0),e([d({constructOnly:!0})],M.prototype,\"manipulators\",void 0),e([d({constructOnly:!0})],M.prototype,\"drawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingManager\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingVisualizer\",void 0),e([d()],M.prototype,\"snapToSceneEnabled\",void 0),e([d({readOnly:!0})],M.prototype,\"updating\",null),e([d({constructOnly:!0})],M.prototype,\"view\",void 0),M=e([l(\"esri.views.draw.DrawOperation\")],M);export{M as DrawOperation};\n"],"sourceRoot":""}