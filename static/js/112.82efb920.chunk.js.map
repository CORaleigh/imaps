{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/rest/query/operations/zscale.js","../node_modules/@arcgis/core/tasks/geometry/simplify.js","../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","../node_modules/@arcgis/core/tasks/geometry/cut.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/tasks/operations/urlUtils.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","../node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","../node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js","../node_modules/@arcgis/core/core/pbf.js","../node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js","../node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js","../node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js"],"names":["t","constructor","s","e","this","lengths","coords","hasIndeterminateRingOrder","length","forEachVertex","h","clone","slice","l","m","r","i","geometry","o","toJSON","JSON","stringify","geometryType","n","inSR","spatialReference","wkid","groupByFieldsForStatistics","join","objectIds","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","parameterValues","rangeValues","dynamicDataSource","layer","source","timeExtent","start","end","time","async","y","isEmpty","data","features","g","c","Promise","resolve","createFeatureResult","d","a","f","p","count","S","extent","then","hasOwnProperty","Error","responseType","u","query","path","vcsWkid","z","paths","rings","points","hasM","hasZ","sr","geometries","map","fromJSON","getLogger","type","w","R","error","push","Math","sqrt","floor","x","M","P","Array","isArray","offset","L","url","geometryServiceUrl","j","U","k","v","A","isWebMercator","maxX","minX","plus180Line","minus180Line","_normalize","xmin","intersects","xmax","I","X","q","C","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","b","target","cutter","shift","D","valid","102100","WebMercator","4326","WGS84","ceil","outSpatialReference","displayId","geohashX","geohashY","attributes","centroid","objectId","weakClone","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","fields","transform","exceededTransferLimit","uniqueIdField","queryGeometryType","queryGeometry","TextDecoder","byteLength","_tag","_dataType","init","_data","_dataView","_pos","_end","pos","move","nextTag","_decodeVarint","skip","next","empty","tag","getInt32","getInt64","getUInt32","getUInt64","getSInt32","getSInt64","_decodeSVarint","getBool","_skip","getEnum","getFixed64","getUint32","getSFixed64","getDouble","getFloat64","getFixed32","getSFixed32","getFloat","getFloat32","getString","_getLength","_toString","getBytes","_toBytes","getLength","_getLengthUnsafe","processMessageWithArgs","getMessage","release","processMessage","pool","acquire","dataType","skipLen","min","subarray","decode","toString","decodeURIComponent","String","fromCharCode","Uint8Array","buffer","options","geometryTypes","_coordinatePtr","_vertexDimension","prepareFeatures","finishFeatureResult","sourceSpatialReference","addFeature","createFeature","createSpatialReference","createGeometry","addField","allocateCoordinates","reduce","addCoordinate","addCoordinatePoint","addLength","addQueryGeometry","createPointGeometry","name","alias","sqlType","domain","parse","defaultValue","isSystemMaintained","T","F","originPosition","scale","translate","shapeAreaFieldName","shapeLengthFieldName","units","wkt","latestWkid","latestVcsWkid","featureResult","DataView","queryResult"],"mappings":"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","file":"static/js/112.82efb920.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[],s=[],e=!1){this.lengths=null!=t?t:[],this.coords=null!=s?s:[],this.hasIndeterminateRingOrder=e}get isPoint(){return 0===this.lengths.length}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const h=this.lengths[e];for(let e=0;e<h;e++){t(this.coords[2*(e+s)],this.coords[2*(e+s)+1])}s+=h}}clone(){return new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{join as e,urlToObject as r}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import i from\"../../../request.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{applyFeatureSetZUnitScaling as s}from\"./queryZScale.js\";import{mapParameters as u}from\"../../../tasks/operations/urlUtils.js\";import{parsePBFFeatureQuery as a}from\"./pbfQueryUtils.js\";const l=\"Layer does not support extent calculation.\";function m(e,r){const i=e.geometry,o=e.toJSON(),s=o;if(t(i)&&(s.geometry=JSON.stringify(i),s.geometryType=n(i),s.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):i&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(e,r,n,i){const o=t(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(e,r,\"json\",i);return s(r,n,o.data),o}async function c(e,r,n,i){if(t(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(e,r,i),s=o;return s.data=a(o.data,n),s}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,r,\"json\",n,{returnIdsOnly:!0})}function p(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(e,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(n,s,a,l={},y={}){const c=\"string\"==typeof n?r(n):n,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===a?\"array-buffer\":\"json\",o(d,null,l).then((r=>{const n=r&&r[0];t(n)&&((s=s.clone()).geometry=n);const o=u({...c.query,f:a,...y,...m(s,y)});return i(e(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../../core/maybe.js\";import{equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";function t(t,c,l){if(n(c)||n(l)||l.vcsWkid||o(c,l))return null;const u=e(c)/e(l);if(1===u)return null;switch(t){case\"point\":case\"esriGeometryPoint\":return n=>i(n,u);case\"polyline\":case\"esriGeometryPolyline\":return n=>s(n,u);case\"polygon\":case\"esriGeometryPolygon\":return n=>r(n,u);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o)}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o)}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o)}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o)}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e)}function l(n,o,t){if(!n&&!o||!t)return;const i=e(t);u(n,t,i),u(o,t,i)}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e)}function a(n,t,i){if(!n||!n.spatialReference||o(n.spatialReference,t))return;const r=e(n.spatialReference)/i;if(1!==r)if(\"x\"in n)null!=n.z&&(n.z*=r);else if(\"rings\"in n)c(n,n.rings,r);else if(\"paths\"in n)c(n,n.paths,r);else if(\"points\"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r)}export{t as getGeometryZScaler,l as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(e,i,f){const m=\"string\"==typeof e?r(e):e,p=i[0].spatialReference,a=t(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import o from\"../../core/Logger.js\";import s from\"../../core/Error.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as i,webMercatorToGeographic as l}from\"./webMercatorUtils.js\";import f from\"../Polygon.js\";import c from\"../Polyline.js\";import{getGeometryParts as p,cutParams as u,offsetMagnitude as a,updatePolyGeometry as h}from\"./normalizeUtilsCommon.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=o.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,e){if(!(t instanceof c||t instanceof f)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new s(t)}const n=p(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i])}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i])}t.push([i,l])}}return x(t)?new f({rings:o,spatialReference:t.spatialReference}):new c({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=l(e,!0)}return n&&(t=h(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=a(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=a(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=a(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=a(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=p(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*a(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of p(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of p(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(o,s,l){if(!Array.isArray(o))return L([o],s);const p=s?s.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of o)if(e(t))z.push(t);else if(y||(y=t.spatialReference,x=r(y),d=y.isWebMercator,R=d?102100:4326,w=u[R].maxX,j=u[R].minX,U=u[R].plus180Line,k=u[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new f(e):e)}else if(t.extent){const e=t.extent,n=a(e.xmin,j)*(2*w);let o=0===n?t.clone():h(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=a(v,w),X=-90;const q=I,C=new c;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)s.push(r);else{const r=t.shift(),f=o[l];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push(\"simplify\")):s.push(d?i(r):r)}}if(!e.length)return s;const r=await g(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];\"simplify\"!==t?f.push(t):f.push(d?i(r.shift()):r.shift())}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?i(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&r(t.spatialReference);if(!n)return e;const[o,s]=n.valid,i=2*s,{width:l}=e;let f,{xmin:c,xmax:p}=e;if([c,p]=[p,c],\"extent\"===t.type||0===l||l<=s||l>i||c<o||p>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;f=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;f=j(t.paths);break;case\"multipoint\":f=t.points}const u=e.clone();for(let r=0;r<f.length;r++){let t=f[r][0];t<0?(t+=s,p=Math.max(t,p)):(t-=s,c=Math.min(t,c))}return u.xmin=c,u.xmax=p,u.width<l?(u.xmin-=s,u.xmax-=s,u):e}function k(t,e){const n=r(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../SpatialReference.js\";import n from\"../Polyline.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator}),minus180Line:new n({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:e.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:e.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,s={},e,h){this.displayId=0,this.geohashX=0,this.geohashY=0,this.geometry=t,s&&(this.attributes=s),e&&(this.centroid=e),null!=h&&(this.objectId=h)}get hasGeometry(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}weakClone(){const s=new t(this.geometry,this.attributes,this.centroid,this.objectId);return s.displayId=this.displayId,s.geohashX=this.geohashX,s.geohashY=this.geohashY,s}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class n{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),n=t(r,e,s,i);return r.release(),n}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let n=\"\",a=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?a+=\"%\"+e.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(e),a=\"\")}return a.length&&(n+=decodeURIComponent(a)),n}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}n.pool=new e(n,null,(t=>{t._data=null,t._dataView=null}));export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as t}from\"../../../core/unitUtils.js\";import r from\"../../../layers/graphics/OptimizedFeature.js\";import o from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const i=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class n{constructor(e){this.options=e,this.geometryTypes=i,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new o}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(r){if(!r||!r.features||!r.hasZ||!this.options.sourceSpatialReference||!r.spatialReference||e(r.spatialReference,this.options.sourceSpatialReference)||r.spatialReference.vcsWkid)return;const o=t(this.options.sourceSpatialReference)/t(r.spatialReference);if(1!==o)for(const e of r.features){if(!e.geometry||!e.geometry.coords)continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=o}}addFeature(e,t){e.features.push(t)}createFeature(){return new r}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{i as OPTIMIZED_GEOMETRY_TYPES,n as OptimizedFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";import{OPTIMIZED_GEOMETRY_TYPES as a}from\"./pbfOptimizedFeatureSet.js\";import n from\"../../../core/pbf.js\";const o=t.getLogger(\"esri.tasks.operations.pbfFeatureServiceParser\"),i=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeString\",\"esriFieldTypeDate\",\"esriFieldTypeOID\",\"esriFieldTypeGeometry\",\"esriFieldTypeBlob\",\"esriFieldTypeRaster\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",\"esriFieldTypeXML\"],c=[\"sqlTypeBigInt\",\"sqlTypeBinary\",\"sqlTypeBit\",\"sqlTypeChar\",\"sqlTypeDate\",\"sqlTypeDecimal\",\"sqlTypeDouble\",\"sqlTypeFloat\",\"sqlTypeGeometry\",\"sqlTypeGUID\",\"sqlTypeInteger\",\"sqlTypeLongNVarchar\",\"sqlTypeLongVarbinary\",\"sqlTypeLongVarchar\",\"sqlTypeNChar\",\"sqlTypeNVarchar\",\"sqlTypeOther\",\"sqlTypeReal\",\"sqlTypeSmallInt\",\"sqlTypeSqlXml\",\"sqlTypeTime\",\"sqlTypeTimestamp\",\"sqlTypeTimestamp2\",\"sqlTypeTinyInt\",\"sqlTypeVarbinary\",\"sqlTypeVarchar\"],l=[\"upperLeft\",\"lowerLeft\"];function g(e){return e>=i.length?null:i[e]}function p(e){return e>=c.length?null:c[e]}function u(e){return e>=l.length?null:l[e]}function y(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function b(e,t,r){const s=1,a=2,n=3,o=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addCoordinatePoint(o,e.getSInt64(),a++);break}case s:case a:default:e.skip()}return o}function f(e,t,r){const s=1,a=2,n=3,o=t.createGeometry(r),i=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case a:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addLength(o,e.getUInt32(),a++);break}case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(t.allocateCoordinates(o);e.pos()<s;)t.addCoordinate(o,e.getSInt64(),a),a++,a===i&&(a=0);break}case s:default:e.skip()}return o}function k(e){const t=1,r=2,n=3,o=new s;let i=\"esriGeometryPoint\";for(;e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.lengths.push(e.getUInt32());break}case n:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.coords.push(e.getSInt64());break}case t:i=a[e.getEnum()];break;default:e.skip()}return{queryGeometry:o,queryGeometryType:i}}function d(e){const t=1,r=2,s=3,a=4,n=5,o=6,i=7,c=8,l=9;for(;e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case a:return e.getSInt32();case n:return e.getUInt32();case o:return e.getInt64();case i:return e.getUInt64();case c:return e.getSInt64();case l:return e.getBool();default:return e.skip(),null}return null}function m(e){const t=1,s=2,a=3,n=4,i=5,c=6,l={type:g(0)};for(;e.next();)switch(e.tag()){case t:l.name=e.getString();break;case s:l.type=g(e.getEnum());break;case a:l.alias=e.getString();break;case n:l.sqlType=p(e.getEnum());break;case i:try{l.domain=JSON.parse(e.getString())}catch(u){o.error(new r(\"query:parsing-pbf\",\"Failed to parse domain\",{error:u})),l.domain=null}break;case c:l.defaultValue=e.getString();break;default:e.skip()}return l}function h(e){const t=1,r=2,s={};for(;e.next();)switch(e.tag()){case t:s.name=e.getString();break;case r:s.isSystemMaintained=e.getBool();break;default:e.skip()}return s}function T(e,t,r,s){const a=1,n=2,o=4,i=t.createFeature(r);let c=0;for(;e.next();)switch(e.tag()){case a:{const t=s[c++].name;i.attributes[t]=e.processMessage(d);break}case n:i.geometry=e.processMessageWithArgs(f,t,r);break;case o:i.centroid=e.processMessageWithArgs(b,t,r);break;default:e.skip()}return i}function q(e){const t=1,r=2,s=3,a=4,n=[1,1,1,1];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function F(e){const t=1,r=2,s=3,a=4,n=[0,0,0,0];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function I(e){const t=1,r=2,s=3,a={originPosition:u(0)};for(;e.next();)switch(e.tag()){case t:a.originPosition=u(e.getEnum());break;case r:a.scale=e.processMessage(q);break;case s:a.translate=e.processMessage(F);break;default:e.skip()}return a}function S(e){const t=1,r=2,s=3,a={};for(;e.next();)switch(e.tag()){case t:a.shapeAreaFieldName=e.getString();break;case r:a.shapeLengthFieldName=e.getString();break;case s:a.units=e.getString();break;default:e.skip()}return a}function w(e,t){const r=1,s=2,a=3,n=4,o=5,i=t.createSpatialReference();for(;e.next();)switch(e.tag()){case r:i.wkid=e.getUInt32();break;case o:i.wkt=e.getString();break;case s:i.latestWkid=e.getUInt32();break;case a:i.vcsWkid=e.getUInt32();break;case n:i.latestVcsWkid=e.getUInt32();break;default:e.skip()}return i}function D(e,t){const r=1,s=2,a=3,n=4,o=5,i=6,c=7,l=8,g=9,p=10,u=11,b=12,f=13,k=15,d=t.createFeatureResult();d.geometryType=y(t,0);let q=!1;for(;e.next();)switch(e.tag()){case r:d.objectIdFieldName=e.getString();break;case a:d.globalIdFieldName=e.getString();break;case n:d.geohashFieldName=e.getString();break;case o:d.geometryProperties=e.processMessage(S);break;case c:d.geometryType=y(t,e.getEnum());break;case l:d.spatialReference=e.processMessageWithArgs(w,t);break;case p:d.hasZ=e.getBool();break;case u:d.hasM=e.getBool();break;case b:d.transform=e.processMessage(I);break;case g:{const t=e.getBool();d.exceededTransferLimit=t;break}case f:t.addField(d,e.processMessage(m));break;case k:q||(t.prepareFeatures(d),q=!0),t.addFeature(d,e.processMessageWithArgs(T,t,d,d.fields));break;case s:d.uniqueIdField=e.processMessage(h);break;case i:default:e.skip()}return t.finishFeatureResult(d),d}function M(t,r){const s=1,a=2,n=3,o=4,i={};let c=null;for(;t.next();)switch(t.tag()){case o:c=t.processMessageWithArgs(k);break;case s:i.featureResult=t.processMessageWithArgs(D,r);break;case a:case n:default:t.skip()}return e(c)&&i.featureResult&&r.addQueryGeometry(i,c),i}function x(e,t){try{const r=2,s=new n(new Uint8Array(e),new DataView(e)),a={};for(;s.next();)switch(s.tag()){case r:a.queryResult=s.processMessageWithArgs(M,t);break;default:s.skip()}return a}catch(s){throw new r(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s})}}export{x as parseFeatureQuery,g as parseFieldType,I as parseTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{parseFeatureQuery as e}from\"./pbfFeatureServiceParser.js\";function t(t,r){const u=e(t,r),o=u.queryResult.featureResult,s=u.queryResult.queryGeometry,y=u.queryResult.queryGeometryType;if(o&&o.features&&o.features.length&&o.objectIdFieldName){const e=o.objectIdFieldName;for(const t of o.features)t.attributes&&(t.objectId=t.attributes[e])}return o&&(o.queryGeometry=s,o.queryGeometryType=y),o}export{t as parsePBFFeatureQuery};\n"],"sourceRoot":""}