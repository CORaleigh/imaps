{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/draw/support/drawUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/HighlightHelper.js"],"names":["t","constructor","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","preventDefault","S","D","EventedAccessor","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_indicators","_initialDragGeometry","_viewHandles","_manipulators","_layerViews","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","indicatorsEnabled","layer","d","listMode","internal","title","view","initialize","m","_highlightHelper","g","refresh","add","on","_clickHandler","M","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","o","removeAll","destroy","_removeIndicators","map","remove","reset","forEach","highlightsEnabled","_set","state","get","_setup","updateGeometry","set","_setUpIndicators","_setUpHighlights","_setUpManipulators","_syncLayerViews","_findTargetGraphic","E","indexOf","emit","u","f","w","G","H","action","geometry","stopPropagation","origin","l","v","b","k","O","key","toMap","Number","MAX_VALUE","flatMap","Array","from","graphicsViews","hitTest","flat","graphicsView","filter","length","intersectionDistance","Set","_","clone","symbol","_getSymbolForIndicator","push","addMany","removeMany","j","style","size","color","outline","width","xoffset","yoffset","height","Math","max","P","U","prototype","readOnly","value","T","abs","stops","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","xmin","min","ymin","xmax","ymax","intersects","hasZ","z","points","zmin","zmax","paths","rings","transform","inverseTransform","sqrt","atan2","sin","cos","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","elevationInfo","offset","mode","focusedSymbol","_get","_updateGraphicSymbol","grabbableForEvent","grabbing","hovering","selected","_focused","detachSymbolChanged","_resetGraphicSymbol","visible","_intersectDistance2D","_intersectDistance3D","attach","detach","watch","originalPoint","mapPoint","radiusPx","C","toScreen","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","count","handles","isArray","_highlight","_unhighlight","highlight","getObjectId"],"mappings":"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","file":"static/js/175.e8e6c85e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../symbols.js\";import t from\"../../../core/Evented.js\";import e from\"../../../core/Handles.js\";import{clone as s}from\"../../../core/lang.js\";import{destroyMaybe as r,isNone as h,isSome as a}from\"../../../core/maybe.js\";import{watch as o}from\"../../../core/reactiveUtils.js\";import{watch as c,whenOnce as n}from\"../../../core/watchUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import d from\"../../../layers/GraphicsLayer.js\";import{cloneMove as v}from\"./drawUtils.js\";import g from\"./HighlightHelper.js\";import{addUniqueLayer as m,findLayerView as _}from\"./layerUtils.js\";import{GraphicClickEvent as y,GraphicDoubleClickEvent as u,GraphicPointerDownEvent as f,GraphicPointerUpEvent as w,GraphicPointerOutEvent as G,GraphicMoveStartEvent as b,GraphicMoveEvent as k,GraphicMoveStopEvent as O,GraphicPointerOverEvent as H}from\"./input/GraphicMoverEvents.js\";import{ViewEventPriorities as M}from\"../../input/InputManager.js\";import{GraphicManipulator as x}from\"../../interactive/GraphicManipulator.js\";import{createScreenPointFromEvent as E}from\"../../support/screenUtils.js\";import j from\"../../../symbols/SimpleMarkerSymbol.js\";import U from\"../../../symbols/SimpleLineSymbol.js\";import P from\"../../../symbols/SimpleFillSymbol.js\";const S=\"indicator-symbols\";let D=class extends t.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new e,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._viewHandles=new e,this._manipulators=[],this._layerViews=null,this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new d({listMode:\"hide\",internal:!0,title:\"GraphicMover highlight layer\"}),this.view=null}initialize(){m(this.view,this.layer),this._highlightHelper=new g({view:this.view}),this.refresh(),this._handles.add([c(this,[\"graphics\",\"graphics.length\"],(()=>this.refresh())),n(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),M.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),M.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),M.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),M.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),M.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),M.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),M.TOOL)])})),o((()=>this.view),(i=>{this._highlightHelper.removeAll(),this._highlightHelper.view=i}))])}destroy(){var i;this._removeIndicators(),null==(i=this.view.map)||i.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._handles=r(this._handles),this._viewHandles=r(this._viewHandles)}set highlightsEnabled(i){var t,e;(null==(t=this._highlightHelper)||t.removeAll(),this._set(\"highlightsEnabled\",i),i)&&(null==(e=this._highlightHelper)||e.add(this.graphics))}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(i,t){const e=this.graphics[i];e&&(e.set(\"geometry\",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(i){const t=this._findTargetGraphic(E(i));if(t){const e=new y(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(E(i));if(t){const e=new u(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(E(i));if(t){this._activeGraphic=t;const{x:e,y:s}=i,r=new f(t,this.graphics.indexOf(t),e,s,i);this.emit(\"graphic-pointer-down\",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._activeGraphic),r=new w(this._activeGraphic,s,t,e,i);this.emit(\"graphic-pointer-up\",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(E(i));if(t){const{x:e,y:s}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const r=this.graphics.indexOf(this._hoverGraphic),h=new G(this.graphics[r],r,e,s,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",h),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(h)}const r=this.graphics.indexOf(t),h=new H(t,r,e,s,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",h),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(h))}if(this._hoverGraphic){const{x:t,y:e}=i,s=this.graphics.indexOf(this._hoverGraphic),r=new G(this.graphics[s],s,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;\"start\"===i.action&&this._removeIndicators(),i.stopPropagation();const{action:t,x:e,y:r}=i,h=this.graphics.indexOf(this._activeGraphic),a=this._dragEvent?e-this._dragEvent.x:0,o=this._dragEvent?r-this._dragEvent.y:0,c=e-i.origin.x,n=r-i.origin.y,l=\"start\"===t?this._activeGraphic.geometry:this._initialDragGeometry,p=v(l,c,n,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=v(i.geometry,a,o,this.view))})),this._dragEvent=i,\"start\"===t){this._initialDragGeometry=s(l);const t=new b(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this.emit(\"graphic-move-start\",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",l)}else if(\"update\"===t){const t=new k(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=l)}else{const t=new O(this._activeGraphic,this.graphics,h,e,r,a,o,c,n,i);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[h].set(\"geometry\",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){const t=this.view.toMap(i);let e=null,s=Number.MAX_VALUE;this._syncLayerViews();const r=this._layerViews.flatMap((i=>\"graphicsViews\"in i?Array.from(i.graphicsViews(),(i=>i.hitTest(t))).flat():i.graphicsView.hitTest(t))).filter((i=>this.graphics.indexOf(i)>-1));return r.length?r[0]:(this._manipulators.forEach((t=>{const r=t.intersectionDistance(i);a(r)&&r<s&&(s=r,e=t.graphic)})),e)}_syncLayerViews(){this._layerViews=[];const i=new Set;for(const t of this.graphics){const e=_(this.view,t.layer);e&&i.add(e)}this._layerViews=[...i]}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new x({graphic:i,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const i of this.graphics){const t=i.clone();t.symbol=this._getSymbolForIndicator(i),this._indicators.push(t),this._handles.add(o((()=>i.symbol),(()=>this._setUpIndicators())),S)}this.layer.addMany(this._indicators)}}_removeIndicators(){this._handles.remove(S),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((i=>i.destroy())),this._indicators=[])}_getSymbolForIndicator(i){const t=12;if(h(i.symbol))return null;switch(i.symbol.type){case\"cim\":return new j({style:\"circle\",size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:e,height:s,width:r}=i.symbol,h=s===r?r:Math.max(s,r);return new j({xoffset:t,yoffset:e,size:h,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:e,size:s,style:r}=i.symbol;return new j({xoffset:t,yoffset:e,style:\"circle\"===r?\"circle\":\"square\",size:s+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new P({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new U({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:e,yoffset:s}=i.symbol;return new j({xoffset:e,yoffset:s,size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}};i([l()],D.prototype,\"_activeGraphic\",void 0),i([l({readOnly:!0})],D.prototype,\"type\",void 0),i([l()],D.prototype,\"callbacks\",void 0),i([l()],D.prototype,\"enableMoveAllGraphics\",void 0),i([l()],D.prototype,\"graphics\",void 0),i([l({value:!1})],D.prototype,\"highlightsEnabled\",null),i([l()],D.prototype,\"indicatorsEnabled\",void 0),i([l()],D.prototype,\"layer\",void 0),i([l({readOnly:!0})],D.prototype,\"state\",null),i([l()],D.prototype,\"view\",void 0),D=i([p(\"esri.views.draw.support.GraphicMover\")],D);const T=D;export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{rad2deg as t}from\"../../../core/mathUtils.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getRingsOrPathsBounds as e}from\"../../../geometry/support/boundsUtils.js\";import{geometryToCoordinates as o}from\"../../../geometry/support/coordsUtils.js\";function r(t,n,e,r){if(null==r||t.hasZ||(r=void 0),\"point\"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if(\"multipoint\"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l(o[t],n,e,r);return t}if(\"extent\"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin+=r,t.zmax+=r),t;const s=o(t),i=\"polyline\"===t.type?t.paths:t.rings;for(let o=0;o<s.length;o++){const t=s[o];for(let o=0;o<t.length;o++)t[o]=l(t[o],n,e,r)}return\"paths\"in t?t.paths=i:t.rings=i,t}function s(t,n,e,s,i){const a=t.clone(),m=s.resolution;if(\"point\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],i=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(i+e)+o[4],a.y=o[1]*(r+n)+o[3]*(i+e)+o[5]}return a}if(\"multipoint\"===a.type){if(i)r(a,n*m,-e*m);else{const t=a.points,o=s.state.transform,r=s.state.inverseTransform;for(let s=0;s<t.length;s++){const i=t[s],a=o[0]*i[0]+o[2]*i[1]+o[4],m=o[1]*i[0]+o[3]*i[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[s]=x(i,l,p,void 0)}}return a}if(\"extent\"===a.type){if(i)r(a,n*m,-e*m);else{const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],i=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(i+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(i+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5]}return a}if(i)r(a,n*m,-e*m);else{const t=o(a),r=\"polyline\"===a.type?a.paths:a.rings,i=s.state.transform,m=s.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],s=i[0]*o[0]+i[2]*o[1]+i[4],a=i[1]*o[0]+i[3]*o[1]+i[5],l=m[0]*(s+n)+m[2]*(a+e)+m[4],p=m[1]*(s+n)+m[3]*(a+e)+m[5];r[t]=x(o,l,p,void 0)}}\"paths\"in a?a.paths=r:a.rings=r}return a}function i(t,r,s,i){if(\"point\"===t.type){const{x:n,y:e}=t,o=i?i[0]:n,a=i?i[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*s+a;return m.x=l,m.y=x,m}if(\"multipoint\"===t.type){const a=o(t),m=n(),[l,p,y,f]=e(m,[a]),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,i=(e-u)*r+u,a=(o-c)*s+c;g[t]=x(n,i,a,void 0)}return h}if(\"extent\"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=i?i[0]:(n+e)/2,l=i?i[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*s+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*s+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t}return x}const a=o(t),m=n(),[l,p,y,f]=e(m,a),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=\"polyline\"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[i,a]=o,m=(i-u)*r+u,l=(a-c)*s+c;g[n][e]=x(o,m,l,void 0)}}return\"paths\"in h?h.paths=g:h.rings=g,h}function a(t,n,e,o,r,s){const i=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(s-n)*(s-n))/i}function m(n,e,o){const r=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(r),Math.cos(r));return t(s)}function l(t,n,e,o){return x(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}export{s as cloneMove,m as getRotationAngle,a as getScaleRatio,r as move,i as scale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as e}from\"../../../core/HandleOwner.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{findLayerView as o}from\"./layerUtils.js\";import{highlightsSupported as i}from\"../../support/layerViewUtils.js\";let l=class extends e{constructor(r){super(r),this.view=null}get count(){return this.handles.size}add(r){const e=Array.isArray(r)?r:[r];null!=r&&e&&e.length&&e.forEach((r=>this._highlight(r)))}remove(r){const e=Array.isArray(r)?r:[r];null!=r&&e&&e.length&&e.forEach((r=>this._unhighlight(r)))}removeAll(){this.handles.removeAll()}_highlight(r){const e=o(this.view,r.layer);i(e)&&this.handles.add(e.highlight(r),`feature-${r.getObjectId()}`)}_unhighlight(r){r&&this.handles.remove(`feature-${r.getObjectId()}`)}};r([t({readOnly:!0})],l.prototype,\"count\",null),r([t()],l.prototype,\"view\",void 0),r([t()],l.prototype,\"add\",null),l=r([s(\"esri.views.draw.support.HighlightHelper\")],l);const h=l;export{h as default};\n"],"sourceRoot":""}