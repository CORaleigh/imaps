/*! For license information please see 89.48379a50.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[89,201,280],{100:function(e,t,r){"use strict";function n(){return[0,0,0]}function o(e){return[e[0],e[1],e[2]]}function i(e,t,r){return[e,t,r]}function a(e){const t=[0,0,0],r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function s(e,t){return new Float64Array(e,t,3)}function l(){return[0,0,0]}function c(){return i(1,1,1)}function u(){return i(1,0,0)}function d(){return i(0,1,0)}function p(){return i(0,0,1)}r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return i}));const h=[0,0,0],b=c(),f=u(),m=d(),g=p();Object.freeze({__proto__:null,create:n,clone:o,fromValues:i,fromArray:a,createView:s,zeros:l,ones:c,unitX:u,unitY:d,unitZ:p,ZEROS:h,ONES:b,UNIT_X:f,UNIT_Y:m,UNIT_Z:g})},106:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return S})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return j})),r.d(t,"i",(function(){return c})),r.d(t,"j",(function(){return a})),r.d(t,"k",(function(){return f})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return D})),r.d(t,"n",(function(){return b})),r.d(t,"o",(function(){return i})),r.d(t,"p",(function(){return I})),r.d(t,"q",(function(){return v})),r.d(t,"r",(function(){return m})),r.d(t,"s",(function(){return g})),r.d(t,"t",(function(){return k})),r.d(t,"u",(function(){return T})),r.d(t,"v",(function(){return s})),r.d(t,"w",(function(){return _})),r.d(t,"x",(function(){return B})),r.d(t,"y",(function(){return N})),r.d(t,"z",(function(){return C}));var n=r(100),o=r(178);function i(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function l(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function h(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function b(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(r*r+n*n+o*o)}function f(e,t){const r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return r*r+n*n+o*o}function m(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function g(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function v(e,t){const r=t[0],n=t[1],o=t[2];let i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O(e,t,r){const n=t[0],o=t[1],i=t[2],a=r[0],s=r[1],l=r[2];return e[0]=o*l-i*s,e[1]=i*a-n*l,e[2]=n*s-o*a,e}function j(e,t,r,n){const o=t[0],i=t[1],a=t[2];return e[0]=o+n*(r[0]-o),e[1]=i+n*(r[1]-i),e[2]=a+n*(r[2]-a),e}function w(e,t,r){const n=t[0],o=t[1],i=t[2];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12],e[1]=r[1]*n+r[5]*o+r[9]*i+r[13],e[2]=r[2]*n+r[6]*o+r[10]*i+r[14],e}function _(e,t,r){const n=t[0],o=t[1],i=t[2];return e[0]=n*r[0]+o*r[3]+i*r[6],e[1]=n*r[1]+o*r[4]+i*r[7],e[2]=n*r[2]+o*r[5]+i*r[8],e}function k(e,t,r){const n=r[0],o=r[1],i=r[2],a=r[3],s=t[0],l=t[1],c=t[2];let u=o*c-i*l,d=i*s-n*c,p=n*l-o*s,h=o*p-i*d,b=i*u-n*p,f=n*d-o*u;const m=2*a;return u*=m,d*=m,p*=m,h*=2,b*=2,f*=2,e[0]=s+u+h,e[1]=l+d+b,e[2]=c+p+f,e}function S(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}const x=Object(n.e)(),E=Object(n.e)();function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}const T=c,M=u,A=d,C=b,N=f,D=i,B=m;Object.freeze({__proto__:null,length:i,copy:a,set:s,add:l,subtract:c,multiply:u,divide:d,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:p,scaleAndAdd:h,distance:b,squaredDistance:f,squaredLength:m,negate:g,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:v,dot:y,cross:O,lerp:j,hermite:function(e,t,r,n,o,i){const a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,c=a*(i-1),u=a*(3-2*i);return e[0]=t[0]*s+r[0]*l+n[0]*c+o[0]*u,e[1]=t[1]*s+r[1]*l+n[1]*c+o[1]*u,e[2]=t[2]*s+r[2]*l+n[2]*c+o[2]*u,e},bezier:function(e,t,r,n,o,i){const a=1-i,s=a*a,l=i*i,c=s*a,u=3*i*s,d=3*l*a,p=l*i;return e[0]=t[0]*c+r[0]*u+n[0]*d+o[0]*p,e[1]=t[1]*c+r[1]*u+n[1]*d+o[1]*p,e[2]=t[2]*c+r[2]*u+n[2]*d+o[2]*p,e},random:function(e,t){t=t||1;const r=2*Object(o.b)()*Math.PI,n=2*Object(o.b)()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e},transformMat4:w,transformMat3:_,transformQuat:k,rotateX:function(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateY:function(e,t,r,n){const o=[],i=[];return o[0]=t[0]-r[0],o[1]=t[1]-r[1],o[2]=t[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e},rotateZ:S,angle:function(e,t){a(x,e),a(E,t),v(x,x),v(E,E);const r=y(x,E);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:I,equals:function(e,t){const r=e[0],n=e[1],i=e[2],a=t[0],s=t[1],l=t[2];return Math.abs(r-a)<=o.a*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=o.a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=o.a*Math.max(1,Math.abs(i),Math.abs(l))},sub:T,mul:M,div:A,dist:C,sqrDist:N,len:D,sqrLen:B})},1094:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(78)),i=r(82),a=r(142),s=r(118),l=r(285),c=r(81),u=(r(80),r(83),r(84),r(191)),d=r(114),p=r(108),h=r(802),b=(r(110),r(164)),f=r(292),m=r(126),g=r(151),v=r(941),y=(r(85),r(93));let O=class extends y.a{constructor(e){super(e)}get editedBookmark(){const{bookmark:e}=this;return e?this._get("editedBookmark")||e.clone():null}get state(){return this._get("state")}set state(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}};Object(n.a)([Object(i.b)()],O.prototype,"bookmark",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],O.prototype,"editedBookmark",null),Object(n.a)([Object(i.b)()],O.prototype,"state",null),Object(n.a)([Object(i.b)()],O.prototype,"validationState",void 0),Object(n.a)([Object(i.b)()],O.prototype,"loading",void 0),O=Object(n.a)([Object(c.a)("esri.widgets.Bookmarks.UserState")],O);var j=O,w=r(88),_=r(122),k=r(105),S=r(505),x=r(872),E=r(496);const I="esri.widgets.Bookmarks.BookmarksViewModel",T=o.a.getLogger(I),M=k.a.ofType(x.a),A={width:128,height:128,format:"png"},C={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0};let N=class extends(Object(E.a)(_.a.EventedAccessor)){constructor(e){super(e),this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}set bookmarks(e){void 0!==e?this._override("bookmarks",e):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new M}set defaultCreateOptions(e){this._set("defaultCreateOptions",{...C,...e})}get defaultCreateOptions(){return C}set defaultEditOptions(e){this._set("defaultEditOptions",{...C,...e})}get defaultEditOptions(){return C}get state(){const e=this.get("view");return e&&!e.ready?"loading":"ready"}get view(){return this._get("view")}set view(e){e&&"2d"!==e.type&&T.error(new w.a("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e)}async createBookmark(e){const{view:t,defaultCreateOptions:r}=this;if(!t){const e=new w.a("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return T.error(e),Promise.reject(e)}const{takeScreenshot:n,screenshotSettings:o,captureExtent:i,captureViewpoint:a,captureRotation:s,captureScale:l}={...r,...e},c=n?await this._createThumbnail(o):void 0;return new x.a({...c&&{thumbnail:c},...(a||i)&&{viewpoint:this._createViewpoint({view:t,captureScale:l,captureRotation:s})}})}async editBookmark(e,t){const{view:r,defaultEditOptions:n}=this;if(!r){const e=new w.a("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return T.error(e),Promise.reject(e)}const{takeScreenshot:o,screenshotSettings:i,captureExtent:a,captureViewpoint:s,captureRotation:l,captureScale:c}={...n,...t},u=o?await this._createThumbnail(i):void 0;return u&&(e.thumbnail=u),(s||a)&&(e.viewpoint=this._createViewpoint({view:r,captureScale:c,captureRotation:l})),this.emit("bookmark-edit",{bookmark:e}),e}goTo(e){const{view:t}=this;if(!t){const e=new w.a("go-to:invalid-view","Cannot go to a bookmark without a view");return T.error(e),Promise.reject(e)}const r=null==e?void 0:e.viewpoint;if(!r){const t=new w.a("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});return T.error(t),Promise.reject(t)}this._set("activeBookmark",e);const n={target:r},o=this.callGoTo(n);return this.emit("select-bookmark",{bookmark:e}),this.emit("bookmark-select",{bookmark:e}),o.catch((()=>{})).then((()=>this._set("activeBookmark",null))),o}async _createThumbnail(e){const t=await this.view.takeScreenshot({...A,...e});return new h.a({url:t.dataUrl})}_createViewpoint({view:e,captureRotation:t,captureScale:r}){var n,o;const i=null==(n=e.viewpoint)?void 0:n.clone();return new S.a({targetGeometry:null==(o=e.extent)?void 0:o.clone(),rotation:t&&(null==i?void 0:i.rotation)||0,scale:r&&(null==i?void 0:i.scale)||0})}};Object(n.a)([Object(i.b)({readOnly:!0})],N.prototype,"activeBookmark",void 0),Object(n.a)([Object(i.b)({type:M})],N.prototype,"bookmarks",null),Object(n.a)([Object(i.b)()],N.prototype,"defaultCreateOptions",null),Object(n.a)([Object(i.b)()],N.prototype,"defaultEditOptions",null),Object(n.a)([Object(i.b)({readOnly:!0})],N.prototype,"state",null),Object(n.a)([Object(i.b)({value:null})],N.prototype,"view",null),N=Object(n.a)([Object(c.a)(I)],N);var D=N,B=r(819),P=r(918);const F="data-bookmark-uid",L="esri-bookmarks esri-widget--panel",R="esri-bookmarks__loader-container",U="esri-bookmarks__loader",W="esri-bookmarks__list",V="esri-bookmarks__list--sortable",q="esri-bookmarks__bookmark",G="esri-bookmarks__bookmark-button",z="esri-bookmarks__bookmark-image-container",H="esri-bookmarks__bookmark-edit-button",J="esri-bookmarks_bookmark-drag-handle",$="esri-bookmarks_bookmark-drag-handle-icon",Y="esri-bookmarks__bookmark-icon",X="esri-bookmarks__image",K="esri-bookmarks__bookmark-name",Z="esri-bookmarks__bookmark--active",Q="esri-widget__content--empty",ee="esri-bookmarks__no-bookmarks-heading",te="esri-widget__no-bookmark-icon",re="esri-bookmarks__no-bookmarks-description",ne="esri-bookmarks__adding-bookmark",oe="esri-bookmarks__add-bookmark",ie="esri-bookmarks__add-bookmark-button",ae="esri-bookmarks__add-bookmark-icon",se="esri-bookmarks__authoring-card",le="esri-bookmarks__authoring-container",ce="esri-bookmarks__authoring-form",ue="esri-bookmarks__authoring-label",de="esri-bookmarks__authoring-actions",pe="esri-bookmarks__authoring-input--invalid",he="esri-bookmarks__authoring-delete-button",be="esri-bookmarks__authoring-cancel-button",fe="esri-widget",me="esri-widget--disabled",ge="esri-button",ve="esri-button--tertiary",ye="esri-input",Oe="esri-icon-handle-vertical",je="esri-icon-plus",we="esri-icon-edit",_e="esri-icon-handle-horizontal",ke="esri-icon-refresh",Se="esri-icon-link",xe="esri-icon-erase",Ee="esri-icon-bookmark",Ie="esri-widget__heading",Te="esri-icon-loading-indicator",Me="esri-rotating",Ae={addBookmark:!0,thumbnail:!0},Ce=/^https:\/\/.*/i,Ne="esri.widgets.Bookmarks",De=o.a.getLogger(Ne);let Be=class extends g.a{constructor(e,t){super(e,t),this._handles=new d.a,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.goToOverride=null,this.iconClass=Ee,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new D,this.visibleElements={...Ae}}initialize(){this.own([Object(p.a)(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),Object(p.a)(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}get _editMenuItems(){var e,t;const{messages:r,_userState:n}=this,o=null==n||null==(e=n.editedBookmark)||null==(t=e.thumbnail)?void 0:t.url;return[new B.a({label:null==r?void 0:r.menu.refreshThumbnail,iconClass:ke,clickFunction:()=>this._refreshThumbnail()}),new B.a({label:Ce.test(o)?null==r?void 0:r.menu.editImageUrl:null==r?void 0:r.menu.useImageUrl,iconClass:Se,clickFunction:()=>this._startUseImageUrl()}),o?new B.a({label:null==r?void 0:r.menu.removeThumbnail,iconClass:xe,clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:e,messages:t}=this,r=this._get("_editMenu");r&&r.destroy();const n=new P.a({iconClass:_e,label:null==t?void 0:t.menu.label});return n.items=e,n}get bookmarkCreationOptions(){return Object(l.c)(De,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions}set bookmarkCreationOptions(e){void 0!==e.captureExtent&&Object(l.c)(De,"bookmarkCreationOptions.captureExtent",{replacement:"defaultCreateOptions.captureViewpoint",version:"4.17"}),Object(l.c)(De,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions=e}castVisibleElements(e){return{...Ae,...e}}endAddBookmark(){this._userState=null}goTo(e){return this.viewModel.goTo(e)}render(){const{state:e}=this.viewModel,t="loading"===e?this.renderLoading():this.renderBookmarks();return Object(m.a)("div",{class:this.classes(L,fe,{[me]:this.disabled})},t)}startAddBookmark(){this._userState=new j({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return Object(m.a)("div",{class:R,key:"loader"},Object(m.a)("div",{class:U}))}renderNoBookmarksContainer(){const{messages:e}=this;return Object(m.a)("div",{class:Q,key:"no-bookmarks"},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(te,Ee)}),Object(m.a)("h1",{class:this.classes(Ie,ee)},null==e?void 0:e.noBookmarksHeading),Object(m.a)("p",{class:re},null==e?void 0:e.noBookmarksDescription))}renderAddBookmarkLoading(){var e;return Object(m.a)("div",{key:"adding-bookmark",class:ne},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(Te,Me)}),null==(e=this.messages)?void 0:e.addingBookmark)}renderBookmarkItems(e){if(!e)return null;const{_userState:t,editingEnabled:r}=this;return e.map((e=>r&&e&&t&&("edit"===t.state||"edit-thumbnail"===t.state)&&t.bookmark===e?"edit-thumbnail"===t.state?this.renderEditingBookmarkUrl(t.editedBookmark):this.renderEditingBookmark(t.editedBookmark):this.renderBookmark(e))).toArray()}renderBookmarksContainer(e){var t;const{_userState:r,editingEnabled:n}=this,o="add"===(null==r?void 0:r.state),i=n&&!o?this.renderAddBookmarkButton():null,a=n?o&&r.loading?this.renderAddBookmarkLoading():"add"===(null==r?void 0:r.state)?this.renderAddingBookmark():null:null;return[Object(m.a)("ul",{key:"bookmark-list","aria-label":null==(t=this.messages)?void 0:t.widgetLabel,class:this.classes(W,{[V]:this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(e)),i,a]}renderAddBookmarkButton(){var e;return this.visibleElements.addBookmark?Object(m.a)("div",{key:"add-bookmark-item",class:oe},Object(m.a)("button",{class:this.classes(ge,ve,ie),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},Object(m.a)("span",{"aria-hidden":"true",class:this.classes(ae,je)}),null==(e=this.messages)?void 0:e.addBookmark)):null}renderBookmarks(){const{bookmarks:e}=this.viewModel,t=e&&e.filter(Boolean),r=t&&t.length,n=r||this.editingEnabled?this.renderBookmarksContainer(t):null;return[r?null:this.renderNoBookmarksContainer(),n]}renderEditContainer(e){const{messagesCommon:t}=this;return Object(m.a)("div",{key:"edit-container"},Object(m.a)("button",{title:null==t?void 0:t.edit,"aria-label":null==t?void 0:t.edit,"data-bookmark":e,onclick:this._showEditBookmarkForm,bind:this,class:H,type:"button"},Object(m.a)("span",{"aria-hidden":"true",class:we})))}renderDragHandle(e){const{messagesCommon:t}=this,r={[F]:e.uid};return Object(m.a)("div",Object.assign({role:"button",tabIndex:0,key:"drag-handle",bind:this,class:J,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===e.uid?"true":"false","aria-label":null==t?void 0:t.dragHandleLabel,title:null==t?void 0:t.dragHandleTitle},r),Object(m.a)("span",{"aria-hidden":"true",class:this.classes($,Oe)}))}renderBookmarkImageIcon(){return Object(m.a)("span",{"aria-hidden":"true",class:this.classes(Y,Ee)})}renderBookmarkImage(e){const{visibleElements:t}=this,{thumbnail:r}=e,n=r&&r.url||"";return t.thumbnail&&n?Object(m.a)("img",{src:n,alt:"",class:X}):null}renderBookmarkButton(e){const{messagesCommon:t}=this,{name:r}=e,n=r||(null==t?void 0:t.untitled),o=Object(m.a)("div",{class:z},this.renderBookmarkImage(e)||this.renderBookmarkImageIcon());return Object(m.a)("button",{key:"bookmark-button",class:G,bind:this,"data-bookmark":e,onclick:this._goToBookmark,type:"button"},o,Object(m.a)("span",{class:K},n))}renderBookmark(e){const{activeBookmark:t}=this.viewModel,r={[Z]:t===e},n=this.editingEnabled?this.renderEditContainer(e):null,o={[F]:e.uid},i=this.editingEnabled?this.renderDragHandle(e):null;return Object(m.a)("li",Object.assign({key:e,class:this.classes(q,r)},o),i,this.renderBookmarkButton(e),n)}renderEditingBookmarkName(e){const{messages:t,_userState:r}=this,n="name-required"===r.validationState;return Object(m.a)("label",{class:ue},null==t?void 0:t.title,n?Object(m.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(ye,n?pe:null),type:"text",value:e.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":e,"data-node-ref":"_editInputNode",placeholder:null==t?void 0:t.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:e}=this;return Object(m.a)("div",{class:de},Object(m.a)("input",{type:"button",value:null==e?void 0:e.back,class:this.classes(ge,ve),onclick:this._closeUrlEditBookmarkForm,bind:this}),Object(m.a)("input",{class:ge,type:"submit",value:null==e?void 0:e.add}))}renderEditingBookmarkActions(){const{messagesCommon:e}=this,{bookmark:t}=this._userState;return Object(m.a)("div",{class:de},Object(m.a)("input",{type:"button",value:null==e?void 0:e.delete,class:this.classes(ge,ve,he),"data-bookmark":t,onclick:this._deleteBookmark,bind:this}),Object(m.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(ge,ve),onclick:this._closeEditBookmarkForm,bind:this}),Object(m.a)("input",{class:ge,type:"submit",value:null==e?void 0:e.save}))}renderEditingBookmarkUrlInput(e){var t;const{messages:r,_userState:n}=this,o=null==(t=e.thumbnail)?void 0:t.url,i=Ce.test(o)?o:null,a="absolute-url-required"===n.validationState;return Object(m.a)("label",{class:ue},a?Object(m.a)("strong",null,null==r?void 0:r.invalidImageUrl):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(ye,a?pe:null),type:"text",value:i,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":e,"data-node-ref":"_urlEditInputNode",title:null==r?void 0:r.imageUrlTooltip,placeholder:null==r?void 0:r.imageUrlPlaceholder}))}renderEditingBookmarkUrl(e){const t={[F]:e.uid};return Object(m.a)("li",Object.assign({key:"edit-bookmark-url-form",class:se},t),Object(m.a)("form",{class:ce,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(e),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(e){const t={[F]:e.uid};return Object(m.a)("li",Object.assign({key:"edit-bookmark-form",class:se},t),Object(m.a)("form",{class:ce,onsubmit:this._editBookmarkSubmit,bind:this},Object(m.a)("div",{class:le},Object(m.a)("div",{class:z},this.renderBookmarkImage(e),this._editMenu.render()),this.renderEditingBookmarkName(e)),this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:e,messages:t}=this,r="name-required"===e.validationState;return Object(m.a)("label",{class:ue},null==t?void 0:t.title,r?Object(m.a)("strong",null,null==t?void 0:t.invalidTitle):null,Object(m.a)("input",{required:!0,bind:this,class:this.classes(ye,r?pe:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==t?void 0:t.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:e}=this;return Object(m.a)("div",{class:this.classes(de)},Object(m.a)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(ge,ve,be),onclick:this._endAddBookmark.bind(this),bind:this}),Object(m.a)("input",{class:ge,type:"submit",value:null==e?void 0:e.add}))}renderAddingBookmark(){return Object(m.a)("div",{key:"add-bookmark-form",class:se},Object(m.a)("form",{class:ce,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(e){const{_sortableSavedItems:t}=this,r=Object(u.a)(e);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(r))return;const{_sortable:n,_selectedSortUid:o}=this,i=n.toArray(),a=e.target.getAttribute(F),s=i.indexOf(a);if(" "===r||"Enter"===r){const e=o&&o===a;return this._selectedSortUid=e?null:a,this._sortableSavedItems=e?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===r)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===r&&t)return e.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(t,n,a),void this.scheduleRender();if(-1===s||!o)return;const l="ArrowUp"===r?s-1:s+1;l>=i.length||l<=-1||(function(e,t,r){e.splice(r,0,e.splice(t,1)[0])}(i,s,l),this._updateSortItems(i,n,a))}_updateSortItems(e,t,r){t.sort(e),this._sortBookmarks(t),this._focusSortUid=r,this._selectedSortUid=r}_focusDragHandle(e){const{_focusSortUid:t}=this;e&&t&&e.getAttribute(F)===t&&(e.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:e,_sortableNode:t,editingEnabled:r}=this;if(t)if(e)e.option("disabled",!r);else{const e=v.a.create(t,{dataIdAttr:F,handle:`.${J}`,group:"bookmarks",disabled:!r,onSort:()=>this._sortBookmarks(e)});this._sortable=e}}_sortNodeCreated(e){this._sortableNode=e,this._toggleSorting()}_sortBookmarks(e){const{bookmarks:t}=this.viewModel;if(!t)return;const r=e.toArray();t.sort(((e,t)=>{const n=r.indexOf(e.uid),o=r.indexOf(t.uid);return n>o?1:n<o?-1:0}))}_destroySortable(){const{_sortable:e}=this;e&&e.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const e="bookmarks-init",{_handles:t}=this;t.remove(e),t.add(Object(p.b)(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),e)}_bookmarksChanged(){const e="bookmarks-change",{bookmarks:t}=this.viewModel,{_handles:r}=this;r.remove(e);const n=t.map((e=>Object(p.d)(e,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));r.add(n,e),this.scheduleRender()}_showEditBookmarkForm(e){const t=e.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new j({bookmark:t,state:"edit"}),this.viewModel.goTo(t),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(e){e.preventDefault();const{_addInputNode:t,_userState:r}=this,n=t&&t.value.trim();n?(r.loading=!0,this.viewModel.createBookmark().then((e=>{e.name=n,this.viewModel.bookmarks.add(e),this._endAddBookmark()}))):r.validationState="name-required"}async _editBookmarkAndClose(e,t){await this.viewModel.editBookmark(e,t),this._closeEditBookmarkForm()}_editBookmarkSubmit(e){e.preventDefault();const{_editInputNode:t,_userState:r}=this,n=t&&t.value.trim();n?(r.bookmark.name=n,r.bookmark.thumbnail=r.editedBookmark.thumbnail,this._editBookmarkAndClose(r.bookmark,{takeScreenshot:!1})):r.validationState="name-required"}_storeAddBookmarkButton(e){this._addBookmarkButtonNode=e,this._focusAddBookmark()}_storeEditInput(e){this._editInputNode=e,this._focusEditInput()}_storeAddInput(e){this._addInputNode=e,this._focusAddInput()}_storeUrlEditInput(e){this._urlEditInputNode=e,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(e){const t=e.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(t)}_goToBookmark(e){const t=e.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(t)}async _refreshThumbnail(){const{_userState:e,_editMenu:t,viewModel:r}=this;e.validationState=void 0,await r.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureExtent:!1,captureViewpoint:!1,captureRotation:!1,captureScale:!1}),t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:e,_editMenu:t}=this;e.editedBookmark.thumbnail=null,e.validationState=void 0,t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(e){e.preventDefault();const{_urlEditInputNode:t,_userState:r}=this,n=t.value;Ce.test(n)?(n&&(r.editedBookmark.thumbnail=new h.a({url:n})),this._closeUrlEditBookmarkForm()):r.validationState="absolute-url-required"}};Object(n.a)([Object(i.b)({type:j})],Be.prototype,"_userState",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],Be.prototype,"_editMenuItems",null),Object(n.a)([Object(i.b)({readOnly:!0})],Be.prototype,"_editMenu",null),Object(n.a)([Object(i.b)()],Be.prototype,"bookmarkCreationOptions",null),Object(n.a)([Object(a.a)("viewModel.defaultCreateOptions")],Be.prototype,"defaultCreateOptions",void 0),Object(n.a)([Object(a.a)("viewModel.defaultEditOptions")],Be.prototype,"defaultEditOptions",void 0),Object(n.a)([Object(a.a)("viewModel.bookmarks")],Be.prototype,"bookmarks",void 0),Object(n.a)([Object(i.b)()],Be.prototype,"disabled",void 0),Object(n.a)([Object(i.b)()],Be.prototype,"editingEnabled",void 0),Object(n.a)([Object(a.a)("viewModel.goToOverride")],Be.prototype,"goToOverride",void 0),Object(n.a)([Object(i.b)()],Be.prototype,"iconClass",void 0),Object(n.a)([Object(i.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Be.prototype,"label",void 0),Object(n.a)([Object(i.b)(),Object(b.a)("esri/widgets/Bookmarks/t9n/Bookmarks")],Be.prototype,"messages",void 0),Object(n.a)([Object(i.b)(),Object(b.a)("esri/t9n/common")],Be.prototype,"messagesCommon",void 0),Object(n.a)([Object(i.b)(),Object(b.a)("esri/core/t9n/Units")],Be.prototype,"messagesUnits",void 0),Object(n.a)([Object(a.a)("viewModel.view")],Be.prototype,"view",void 0),Object(n.a)([Object(i.b)({type:D}),Object(f.a)(["select-bookmark","bookmark-edit","bookmark-select"])],Be.prototype,"viewModel",void 0),Object(n.a)([Object(i.b)()],Be.prototype,"visibleElements",void 0),Object(n.a)([Object(s.a)("visibleElements")],Be.prototype,"castVisibleElements",null),Object(n.a)([Object(i.b)()],Be.prototype,"endAddBookmark",null),Object(n.a)([Object(i.b)()],Be.prototype,"startAddBookmark",null),Be=Object(n.a)([Object(c.a)(Ne)],Be);var Pe=Be;t.a=Pe},120:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a}));var n=r(89);function o(e,t,r=!1){return l(e,t,r)}function i(e,t){if(null!=t)return t[e]||s(e.split("."),!1,t)}function a(e,t,r){const n=e.split("."),o=n.pop(),i=s(n,!0,r);i&&o&&(i[o]=t)}function s(e,t,r){let n=r;for(const o of e){if(null==n)return;if(!(o in n)){if(!t)return;n[o]={}}n=n[o]}return n}function l(e,t,r){return t?Object.keys(t).reduce((function(e,o){let i=e[o],a=t[o];return i===a?e:void 0===i?(e[o]=Object(n.a)(a),e):(Array.isArray(a)||Array.isArray(e)?(i=i?Array.isArray(i)?e[o]=i.concat():e[o]=[i]:e[o]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach((e=>{-1===i.indexOf(e)&&i.push(e)})):e[o]=a.concat())):a&&"object"==typeof a?e[o]=l(i,a,r):e.hasOwnProperty(o)&&!t.hasOwnProperty(o)||(e[o]=a),e)}),e||{}):e}},136:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c}));var n=r(120);const o=/\{([^\}]+)\}/g;function i(e){return null==e?"":e}function a(e,t){return e.replace(o,"object"==typeof t?(e,r)=>i(Object(n.b)(r,t)):(e,r)=>i(t(r)))}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function l(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},138:function(e,t,r){"use strict";var n=r(150),o=(r(77),r(120)),i=r(188);const a={apiKey:void 0,applicationUrl:n.a.location&&n.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(n.a.esriConfig&&(Object(o.a)(a,n.a.esriConfig,!0),delete a.has),!a.assetsPath){const e="4.19.0";a.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${e}-next.${i.a}/assets`}a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=a},150:function(e,t,r){"use strict";(function(e){const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=r}).call(this,r(171))},162:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(78),r(85),r(82)),a=r(92),s=r(81),l=r(91),c=(r(80),r(83),r(84),r(87)),u=r(166);let d=n=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return p}static get empty(){return h}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new n({end:this.end,start:this.start})}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=this.start?Object(u.e)(this.start,e):null,r=this.end?Object(u.c)(Object(u.e)(this.end,e),1,e):null;return new n({start:t,end:r})}intersection(e){var t,r,o,i,a,s,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const u=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,d=null!=(o=null==(i=this.end)?void 0:i.getTime())?o:1/0,p=null!=(a=null==(s=e.start)?void 0:s.getTime())?a:-1/0,h=null!=(l=null==(c=e.end)?void 0:c.getTime())?l:1/0;let b,f;if(p>=u&&p<=d?b=p:u>=p&&u<=h&&(b=u),d>=p&&d<=h?f=d:h>=u&&h<=d&&(f=h),!isNaN(b)&&!isNaN(f)){const e=new n;return e.start=b===-1/0?null:new Date(b),e.end=f===1/0?null:new Date(f),e}return n.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new n,{start:o,end:i}=this;return o&&(r.start=Object(u.c)(o,e,t)),i&&(r.end=Object(u.c)(i,e,t)),r}equals(e){if(!e)return!1;const t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,n=e.start?e.start.getTime():e.start,o=e.end?e.end.getTime():e.end;return t===n&&r===o}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return p.clone();const t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}};Object(o.a)([Object(i.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(o.a)([Object(a.a)("end")],d.prototype,"readEnd",null),Object(o.a)([Object(l.a)("end")],d.prototype,"writeEnd",null),Object(o.a)([Object(i.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(o.a)([Object(i.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(o.a)([Object(i.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(o.a)([Object(a.a)("start")],d.prototype,"readStart",null),Object(o.a)([Object(l.a)("start")],d.prototype,"writeStart",null),d=n=Object(o.a)([Object(s.a)("esri.TimeExtent")],d);const p=new d,h=new d({start:void 0,end:void 0});var b=d;t.a=b},163:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(79),o=r(82),i=r(81),a=r(93),s=r(114),l=r(294);const c=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new s.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}};return Object(n.a)([Object(o.b)({readOnly:!0})],t.prototype,"handles",null),Object(n.a)([Object(o.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(n.a)([Object(i.a)("esri.core.HandleOwner")],t),t};let u=class extends(c(a.a)){};u=Object(n.a)([Object(i.a)("esri.core.HandleOwner")],u)},166:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return c}));r(77);var n=r(95);function o(e){return e}const i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},a=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function s(e,t,r){const n=new Date(e.getTime());if(t&&r){const e=i[r],{getter:o,setter:a,multiplier:s}=e;n[a](n[o]()+t*s)}return n}const l={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},171:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},175:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(138)),i=r(78),a=(r(85),r(82)),s=r(81),l=r(88),c=r(80),u=(r(83),r(84),r(90)),d=r(94),p=r(98),h=(r(97),r(122)),b=r(204),f=r(99),m=r(156);let g=0;const v=i.a.getLogger("esri.layers.Layer");let y=class extends(h.a.EventedMixin(Object(b.a)(m.a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new p.a(-180,-90,180,90,d.a.WGS84),this.id=Date.now().toString(16)+"-layer-"+g++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=d.a.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e,n=await r.e(181).then(r.bind(null,361));try{return await n.fromUrl(t)}catch(o){throw v.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",o),o}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},n=await r.e(182).then(r.bind(null,339));try{return await n.fromItem(t)}catch(i){const e=t&&t.portalItem,r=e&&e.id||"unset",n=e&&e.portal&&e.portal.url||o.a.portalUrl;throw v.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+r+"')",i),i}}initialize(){this.when().catch((e=>{var t,r;Object(u.m)(e)||i.a.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(t=this.title)?t:"no title"}', id: '${null!=(r=this.id)?r:"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const e=this.url;return e?Object(c.J)(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Object(f.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new l.a("layer:no-attribution-data","Layer does not have attribution data")}};Object(n.a)([Object(a.b)({type:String})],y.prototype,"attributionDataUrl",void 0),Object(n.a)([Object(a.b)({type:p.a})],y.prototype,"fullExtent",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],y.prototype,"hasAttributionData",null),Object(n.a)([Object(a.b)({type:String})],y.prototype,"id",void 0),Object(n.a)([Object(a.b)({type:Boolean,nonNullable:!0})],y.prototype,"legendEnabled",void 0),Object(n.a)([Object(a.b)({type:["show","hide","hide-children"]})],y.prototype,"listMode",void 0),Object(n.a)([Object(a.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],y.prototype,"opacity",void 0),Object(n.a)([Object(a.b)()],y.prototype,"parent",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],y.prototype,"parsedUrl",null),Object(n.a)([Object(a.b)({type:Boolean})],y.prototype,"popupEnabled",void 0),Object(n.a)([Object(a.b)({type:Boolean})],y.prototype,"attributionVisible",void 0),Object(n.a)([Object(a.b)({type:d.a})],y.prototype,"spatialReference",void 0),Object(n.a)([Object(a.b)({type:String})],y.prototype,"title",void 0),Object(n.a)([Object(a.b)({type:String,readOnly:!0,json:{read:!1}})],y.prototype,"type",void 0),Object(n.a)([Object(a.b)()],y.prototype,"url",void 0),Object(n.a)([Object(a.b)({type:Boolean,nonNullable:!0})],y.prototype,"visible",void 0),y=Object(n.a)([Object(s.a)("esri.layers.Layer")],y);var O=y;t.a=O},177:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));r(77);function n(e){}function o(e){return()=>e}},178:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return s}));const n=1e-6,o=Math.random,i=Math.PI/180,a=180/Math.PI;function s(e){return e*i}function l(e){return e*a}Object.freeze({__proto__:null,EPSILON:n,RANDOM:o,toRadian:s,toDegree:l,equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}})},179:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return O}));var n=r(79),o=r(116),i=r(81),a=r(137),s=r(93),l=r(154),c=r(86),u=r(192),d=r(89);class p{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.a),this._values=new Map}clone(e){const t=new p,r=this._originStores[0];r&&r.forEach(((e,r)=>{t.set(r,Object(d.a)(e),0)}));for(let n=2;n<a.a;n++){const r=this._originStores[n];r&&r.forEach(((r,o)=>{e&&e.has(o)||t.set(o,Object(d.a)(r),n)}))}return t}get(e,t){const r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=6){let n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(e,t),!this._values.has(e)||Object(c.d)(this._propertyOriginMap.get(e))<=r){const n=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),n!==t}return!1}delete(e,t=6){const r=this._originStores[t];if(!r)return;const n=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let r=t-1;r>=0;r--){const t=this._originStores[r];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,r);break}}}return n}has(e,t){const r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const r=this._originStores[t],n=r&&r.get(e),o=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,t),o!==n}originOf(e){return this._propertyOriginMap.get(e)||0}forEach(e){this._values.forEach(e)}}var h=p;const b=e=>{let t=class extends e{constructor(...e){super(...e);const t=Object(c.d)(Object(o.a)(this)),r=t.metadatas,n=t.store,i=new h;t.store=i,n.keys().forEach((e=>{i.set(e,n.get(e),0)})),Object.keys(r).forEach((e=>{t.internalGet(e)&&i.set(e,t.internalGet(e),0)}))}read(e,t){Object(u.a)(this,e,t)}getAtOrigin(e,t){const r=f(this),n=Object(a.d)(t);if("string"==typeof e)return r.get(e,n);const o={};return e.forEach((e=>{o[e]=r.get(e,n)})),o}originOf(e){return Object(a.b)(this.originIdOf(e))}originIdOf(e){return f(this).originOf(e)}revert(e,t){const r=f(this),n=Object(a.d)(t),i=Object(o.a)(this);let s;s="string"==typeof e?"*"===e?r.keys(n):[e]:e,s.forEach((e=>{i.propertyInvalidated(e),r.revert(e,n),i.propertyCommitted(e)}))}};return t=Object(n.a)([Object(i.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function f(e){return Object(o.a)(e).store}let m=class extends(b(s.a)){};m=Object(n.a)([Object(i.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],m);const g=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return v(this).delete(e,Object(a.d)(t))}write(e={},t){return Object(l.b)(this,e=e||{},t),e}setAtOrigin(e,t,r){Object(o.a)(this).setAtOrigin(e,t,Object(a.d)(r))}removeOrigin(e){const t=v(this),r=Object(a.d)(e),n=t.keys(r);for(const o of n)t.originOf(o)===r&&t.set(o,t.get(o,r),6)}updateOrigin(e,t){const r=v(this),n=Object(a.d)(t),o=this.get(e);for(let i=n+1;i<a.a;++i)r.delete(e,i);r.set(e,o,n)}toJSON(e){return this.write({},e)}};return t=Object(n.a)([Object(i.a)("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function v(e){return Object(o.a)(e).store}const y=e=>{let t=class extends(g(b(e))){constructor(...e){super(...e)}};return t=Object(n.a)([Object(i.a)("esri.core.MultiOriginJSONSupport")],t),t};let O=class extends(y(s.a)){};O=Object(n.a)([Object(i.a)("esri.core.MultiOriginJSONSupport")],O)},181:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return v}));var n=r(86),o=r(80),i=r(199);const a=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*)\/(\d+)\/?$/i;function u(e){return!!s.test(e)}function d(e){const t=Object(o.J)(e),r=t.path.match(s)||t.path.match(l);if(!r)return null;const[,n,i,a,c]=r,u=i.indexOf("/");return{title:h(-1!==u?i.slice(u+1):i),serverType:a,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function p(e){const t=Object(o.J)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function h(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function b(e,t){const r=[];if(e){const t=d(e);Object(n.k)(t)&&t.title&&r.push(t.title)}if(t){const e=h(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function f(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function m(e,t){return e?Object(o.H)(Object(o.G)(e,t)):e}function g(e){let{url:t}=e;if(!t)return{url:t};t=Object(o.G)(t,e.logger);const r=Object(o.J)(t),i=d(r.path);let a;if(Object(n.k)(i))null!=i.sublayer&&null==e.layer.layerId&&(a=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=p(r.path);Object(n.k)(e)&&(t=e.serviceUrl,a=e.sublayerId)}return{url:Object(o.H)(t),layerId:a}}function v(e,t,r,n,a){Object(i.f)(t,n,"url",a),n.url&&null!=e.layerId&&(n.url=Object(o.y)(n.url,r,e.layerId.toString()))}function y(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),o=-1!==t.indexOf("/imageserver/wmsserver"),i=-1!==t.indexOf("/wmsserver");return r&&(n||o||i)}function O(e){if(!e)return!1;const t=new o.a(Object(o.z)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},188:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));const n="20210407",o="8757c15eef8f55f2af038ec79fa53adf0db975ec"},191:function(e,t,r){"use strict";function n(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function o(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const t of n)e.addEventListener(t,r);return{remove(){for(const t of n)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function i(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=o(e,t,(t=>{i.remove(),r.call(e,t)}));return{remove(){i.remove()}}}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i}));const a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s({key:e}){return a[e]||e}},223:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(78),r(85),r(82)),a=r(81),s=(r(80),r(83),r(84),r(87)),l=r(166);let c=n=class extends s.a{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return this.value*l.b[this.unit]}clone(){return new n({value:this.value,unit:this.unit})}};Object(o.a)([Object(i.b)({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0),Object(o.a)([Object(i.b)({type:l.d.apiValues,json:{type:l.d.jsonValues,read:l.d.read,write:l.d.write},nonNullable:!0})],c.prototype,"unit",void 0),c=n=Object(o.a)([Object(a.a)("esri.TimeInterval")],c);var u=c;t.a=u},236:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=new(r(95).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},290:function(e,t,r){"use strict";function n(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function o(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const n=Math.max(0,r-t),o=new(0,e.constructor)(n);for(let i=0;i<n;i++)o[i]=e[t+i];return o}function i(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function a(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function s(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function l(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function c(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function u(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function d(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function p(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function b(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function f(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}function m(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return a})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return o})),r.d(t,"n",(function(){return f}))},292:function(e,t,r){"use strict";function n(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,n=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);r.push(...n)}}r.d(t,"a",(function(){return n}))},294:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(79),o=r(86),i=r(227),a=r(82),s=r(81),l=r(239),c=r(334),u=r(93),d=r(114),p=r(108);let h=class extends u.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new d.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,n=0){const o=0!=(1&n),i=++this.handleId;o||this.installSyncUpdatingWatch(e,t,i);const a=0!=(2&n)?Object(p.a)(e,t,r,o):e.watch(t,r,o);return this.handles.add(a,i),{remove:()=>{this.handles.remove(i)}}}addOnCollectionPropertyChange(e,t,r,n=0){const o=0!=(2&n),i=++this.handleId;return this.handles.add([Object(p.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(p.b)(e,t,"change",r,o?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],i),{remove:()=>{this.handles.remove(i)}}}addOnCollectionChange(e,t,r=0){const n=0!=(2&r),o=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],o),n&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(o)}}}addPromise(e){if(Object(o.j)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(b)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const n=this.createSyncUpdatingCallback(),o=Object(c.a)((()=>Object(i.c)(e,t)),n);return this.handles.add(o,r),o}createSyncUpdatingCallback(){return()=>{this.handles.remove(b),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(l.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(b))})),b)}}};Object(n.a)([Object(a.b)({readOnly:!0})],h.prototype,"updating",void 0),h=Object(n.a)([Object(s.a)("esri.views.support.WatchUpdatingTracking")],h);const b=-42},316:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return l}));var n=r(103),o=r(100),i=r(106);function a(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],r=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],n=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(Math.max(t,r),n))}function s(e,t,r){r=r||e;const n=Object(i.g)(e,t);Object(i.v)(r,e[0]-n*t[0],e[1]-n*t[1],e[2]-n*t[2]),Object(i.q)(r,r)}function l(e,t,r){Math.abs(e[0])>Math.abs(e[1])?Object(i.v)(t,0,1,0):Object(i.v)(t,1,0,0),Object(i.f)(r,e,t),Object(i.q)(t,t),Object(i.f)(t,r,e),Object(i.q)(r,r)}function c(e,t){const r=Object(i.o)(e),o=Object(n.c)(e[2]/r),a=Math.atan2(e[1]/r,e[0]/r);return Object(i.v)(t,r,o,a),t}function u(e,t,r){const n=r[0]-t[0],o=r[1]-t[1],i=r[2]-t[2];let a=n*n+o*o+i*i;return a?(a=1/Math.sqrt(a),e[0]=n*a,e[1]=o*a,e[2]=i*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}function d(e,t,r,n=Object(o.e)()){const a=Object(i.o)(e),s=Object(i.o)(t),l=Object(i.g)(e,t)/(a*s);if(l<.9999999999999999){const o=Math.acos(l),c=((1-r)*a+r*s)/Math.sin(o),u=c/a*Math.sin((1-r)*o),d=c/s*Math.sin(r*o);return Object(i.d)(O,e,u),Object(i.d)(j,t,d),Object(i.e)(n,O,j)}return Object(i.h)(n,e,t,r)}function p(e,t,r,n=Object(o.e)(),a=Object(o.e)()){const s=Object(i.o)(e),l=Object(i.o)(t),c=Object(i.g)(e,t)/(s*l);if(c<.9999999999999999){const o=Math.acos(c),u=Math.sin(o),d=Math.sin(r*o),p=Math.sin((1-r)*o),h=(1-r)*s+r*l;{const r=h/u,o=r/l*d;Object(i.d)(O,e,r/s*p),Object(i.d)(j,t,o),Object(i.e)(n,O,j)}{const n=1/s*(-Math.cos((1-r)*o)*o*h+p*(-s+l));Object(i.d)(O,e,n);const c=1/l*(Math.cos(r*o)*o*h+d*(-s+l));Object(i.d)(j,t,c),Object(i.e)(a,O,j),Object(i.d)(a,a,1/u)}return a}return Object(i.h)(n,e,t,r),Object(i.i)(a,t,e),Object(i.q)(a,a),a}class h{constructor(e,t){this.min=e,this.max=t,this.range=t-e}ndiff(e,t=0){return Math.ceil((e-t)/this.range)*this.range+t}_normalize(e,t,r,n=0,o=!1){return(r-=n)<e?r+=this.ndiff(e-r):r>t&&(r-=this.ndiff(r-t)),o&&r===t&&(r=e),r+n}normalize(e,t=0,r=!1){return this._normalize(this.min,this.max,e,t,r)}clamp(e,t=0){return Object(n.d)(e-t,this.min,this.max)+t}monotonic(e,t,r){return e<t?t:t+this.ndiff(e-t,r)}minimalMonotonic(e,t,r){return this._normalize(e,e+this.range,t,r)}center(e,t,r){return t=this.monotonic(e,t,r),this.normalize((e+t)/2,r)}diff(e,t,r){return this.monotonic(e,t,r)-e}shortestSignedDiff(e,t){e=this.normalize(e);const r=(t=this.normalize(t))-e,n=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(r)<Math.abs(n)?r:n}contains(e,t,r){return t=this.minimalMonotonic(e,t),(r=this.minimalMonotonic(e,r))>e&&r<t}}function b(e,t,r,n){Object(i.i)(f,t,e),Object(i.i)(m,r,e),Object(i.f)(n,f,m),Object(i.q)(n,n),n[3]=-Object(i.g)(e,n)}const f=Object(o.e)(),m=Object(o.e)();function g(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}g(new h(0,2*Math.PI));const v=g(new h(-Math.PI,Math.PI)),y=g(new h(0,360)),O=(Object(o.e)(),Object(o.e)()),j=Object(o.e)()},397:function(e,t,r){"use strict";var n=r(120);class o{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof o&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";const o=Object(n.b)(r,t),i=null==o?"":o;if(void 0===i)throw new Error(`could not find key "${r}" in template`);return i.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=o},454:function(e,t,r){"use strict";var n=r(150);var o,i=(o=n.a,{setTimeout:(e,t)=>{const r=o.setTimeout(e,t);return{remove:()=>o.clearTimeout(r)}}});t.a=i},493:function(e,t,r){"use strict";var n=r(79),o=r(82),i=r(81),a=r(105),s=r(114);let l=class extends a.a{constructor(e){super(e),this._handles=new s.a,this.root=null}initialize(){this._handles.add(this.rootCollectionNames.map((e=>this.watch("root."+e,(()=>this.updateCollections()),!0)))),this.updateCollections()}destroy(){this.root=null,this.refresh(),this._handles.destroy(),this._handles=null}updateCollections(){this._collections=this.rootCollectionNames.map((e=>this.get("root."+e))).filter((e=>null!=e)),this.refresh()}refresh(){const e=this._handles;e.remove("collections");const t=new Array;let r=0;for(const n of this._collections)r=this._processCollection(t,r,n);this.splice(r,this.length);for(const n of t)e.add(n.on("after-changes",(()=>this.refresh())),"collections")}_createNewInstance(e){return new a.a(e)}_processCollection(e,t,r){return r?(e.push(r),r.forEach((r=>{if(r){if(!this.itemFilterFunction||this.itemFilterFunction(r)){const e=this.indexOf(r,t);e>=0?e!==t&&this.reorder(r,t):this.add(r,t),++t}this.getChildrenFunction&&(t=this._processCollection(e,t,this.getChildrenFunction(r)))}})),t):t}};Object(n.a)([Object(o.b)()],l.prototype,"rootCollectionNames",void 0),Object(n.a)([Object(o.b)()],l.prototype,"root",void 0),Object(n.a)([Object(o.b)()],l.prototype,"getChildrenFunction",void 0),Object(n.a)([Object(o.b)()],l.prototype,"itemFilterFunction",void 0),l=Object(n.a)([Object(i.a)("esri.core.CollectionFlattener")],l);var c=l;t.a=c},496:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(79),o=(r(77),r(78),r(85),r(82)),i=r(81);r(80),r(83),r(84);const a=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return Object(n.a)([Object(o.b)()],t.prototype,"goToOverride",void 0),Object(n.a)([Object(o.b)()],t.prototype,"view",void 0),t=Object(n.a)([Object(i.a)("esri.widgets.support.GoTo")],t),t}},505:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(86)),a=(r(78),r(82)),s=r(118),l=r(81),c=(r(80),r(83),r(84),r(87)),u=r(96),d=r(97),p=r(85),h=r(92),b=r(91),f=r(111),m=r(103),g=r(316);let v=n=class extends c.a{constructor(...e){super(...e),this.position=new f.a([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const o={position:e};return null!=t&&(o.heading=t),null!=r&&(o.tilt=r),null!=n&&(o.fov=n),o}return e}writePosition(e,t,r,n){const o=e.clone();o.x=Object(p.i)(e.x||0),o.y=Object(p.i)(e.y||0),o.z=e.hasZ?Object(p.i)(e.z||0):e.z,t[r]=o.write(null,n)}readPosition(e,t){const r=new f.a;return r.read(e,t),r.x=Object(p.i)(r.x||0),r.y=Object(p.i)(r.y||0),r.z=r.hasZ?Object(p.i)(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}clone(){return new n({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};Object(o.a)([Object(a.b)({type:f.a,json:{write:{isRequired:!0}}})],v.prototype,"position",void 0),Object(o.a)([Object(b.a)("position")],v.prototype,"writePosition",null),Object(o.a)([Object(h.a)("position")],v.prototype,"readPosition",null),Object(o.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(s.a)((e=>g.b.normalize(Object(p.i)(e))))],v.prototype,"heading",void 0),Object(o.a)([Object(a.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(s.a)((e=>Object(m.d)(Object(p.i)(e),-180,180)))],v.prototype,"tilt",void 0),Object(o.a)([Object(a.b)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],v.prototype,"fov",void 0),v=n=Object(o.a)([Object(l.a)("esri.Camera")],v);var y,O=v;let j=y=class extends c.a{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new y({rotation:this.rotation,scale:this.scale,targetGeometry:Object(i.k)(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(i.k)(this.camera)?this.camera.clone():null})}};function w(){return{enabled:!this.camera}}Object(o.a)([Object(a.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],j.prototype,"rotation",void 0),Object(o.a)([Object(s.a)("rotation")],j.prototype,"castRotation",null),Object(o.a)([Object(a.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:w}}}}})],j.prototype,"scale",void 0),Object(o.a)([Object(a.b)({types:d.a,json:{read:u.a,write:!0,origins:{"web-scene":{read:u.a,write:{overridePolicy:w}}}}})],j.prototype,"targetGeometry",void 0),Object(o.a)([Object(a.b)({type:O,json:{write:!0}})],j.prototype,"camera",void 0),j=y=Object(o.a)([Object(l.a)("esri.Viewpoint")],j);var _=j;t.a=_},539:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(78),r(85),r(82)),i=r(81),a=(r(80),r(83),r(84),r(87)),s=r(96);let l=class extends a.a{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(s.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(o.b)()],l.prototype,"geometries",void 0),Object(n.a)([Object(o.b)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),Object(n.a)([Object(o.b)()],l.prototype,"transformation",void 0),Object(n.a)([Object(o.b)()],l.prototype,"transformForward",void 0),l=Object(n.a)([Object(i.a)("esri.tasks.support.ProjectParameters")],l);var c=l;t.a=c},588:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(88);class o{constructor(e,t,r=""){this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}since(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new n.a(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new o(this.major,this.minor,this._context)}static parse(e,t=""){const[r,i]=e.split("."),a=/^\s*\d+\s*$/;if(!r||!r.match||!r.match(a))throw new n.a((t&&t+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!i||!i.match||!i.match(a))throw new n.a((t&&t+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const s=parseInt(r,10),l=parseInt(i,10);return new o(s,l,t)}}},616:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return m}));var n=r(78),o=r(85),i=r(80),a=r(105),s=r(617),l=r(569);const c=n.a.getLogger("esri.support.basemapUtils");function u(){return{}}function d(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function p(e,t){var r;let n;if("string"==typeof e){if(!(e in s.a)){const t=Object.keys(s.a).map((e=>`"${e}"`)).join(", ");return c.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(n=t[e]),n||(n=l.default.fromId(e),t&&(t[e]=n))}else n=Object(o.m)(l.default,e);return null!=(r=n)&&r.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function h(e){let t=null;const r=y(e),n=!r.baseLayers.length;for(const o in s.a){const e=k(r,w(s.a[o]),{mustMatchReferences:n});if("equal"===e){t=o;break}"base-layers-equal"===e&&(t=o)}return t}function b(e,t){return e===t||"equal"===k(y(e),y(t),{mustMatchReferences:!0})}function f(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(m))}function m(e){if(v(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(v(null==r?void 0:r.sourceUrl))return!0}return!1}const g=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function v(e){if(!e)return!1;const t=new i.a(Object(i.z)(e));return g.test(t.authority)}function y(e){return e?!e.loaded&&e.resourceInfo?w(e.resourceInfo.data):{baseLayers:O(e.baseLayers),referenceLayers:O(e.referenceLayers)}:null}function O(e){return(a.a.isCollection(e)?e.toArray():e).map(j)}function j(e){return{type:e.type,url:E("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function w(e){return e?{baseLayers:_(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:_(e.baseMapLayers.filter((e=>e.isReference)))}:null}function _(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:E(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function k(e,t,r){return null!=e!=(null!=t)?"not-equal":e?S(e.baseLayers,t.baseLayers)?S(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function S(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!x(e[r],t[r]))return!1;return!0}function x(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function E(e){return e?Object(i.C)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},618:function(e,t,r){"use strict";function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,"a",(function(){return n}))},651:function(e,t,r){"use strict";function n(e,t){if(!o(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function i(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i}))},669:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(79),o=(r(77),r(78)),i=(r(85),r(82)),a=r(81),s=(r(80),r(83),r(84),r(90)),l=r(105),c=r(291),u=r(175);function d(e){return e&&"group"===e.type}function p(e,t,r){let n,o;if(e)for(let i=0,a=e.length;i<a;i++){if(n=e.getItemAt(i),n[t]===r)return n;if(d(n)&&(o=p(n.layers,t,r),o))return o}}const h=o.a.getLogger("esri.support.LayersMixin"),b=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new l.a;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||h.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},r=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item))),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>r(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",Object(c.b)(e,this._get("layers")))}add(e,t){const r=this.layers;t=r.getNextIndex(t),e instanceof u.a?e.parent===this?this.reorder(e,t):r.add(e,t):Object(s.o)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):h.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const r=this.layers;t=r.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(r.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return p(this.layers,"id",e)}findLayerByUid(e){return p(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return Object(n.a)([Object(i.b)()],t.prototype,"layers",null),t=Object(n.a)([Object(a.a)("esri.support.LayersMixin")],t),t}},670:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(79),o=(r(77),r(78)),i=(r(85),r(82)),a=r(81),s=(r(80),r(83),r(84),r(105)),l=r(291);const c="esri.support.TablesMixin",u=o.a.getLogger(c);function d(e){return e&&"group"===e.type}function p(e,t,r){if(e)for(let n=0,o=e.length;n<o;n++){const o=e.getItemAt(n);if(o[t]===r)return o;if(d(o)){const e=p(o.tables,t,r);if(e)return e}}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new s.a,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&u.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",Object(l.b)(e,this._get("tables")))}findTableById(e){return p(this.tables,"id",e)}findTableByUid(e){return p(this.tables,"uid",e)}};return Object(n.a)([Object(i.b)()],t.prototype,"tables",null),t=Object(n.a)([Object(a.a)(c)],t),t}},671:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(618);function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((e=>{const t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&Object(n.a)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}},761:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(89)),a=(r(78),r(85),r(82)),s=r(81),l=(r(80),r(83),r(84),r(87)),c=r(104);let u=n=class extends l.a{constructor(e){super(e),this.color=new c.a([0,0,0,1])}clone(){return new n(Object(i.a)({color:this.color}))}};Object(o.a)([Object(a.b)({type:c.a,json:{write:!0}})],u.prototype,"color",void 0),u=n=Object(o.a)([Object(s.a)("esri.webmap.background.ColorBackground")],u);var d=u;t.a=d},77:function(e,t,r){"use strict";var n,o,i=r(150);let a;var s,l;function c(e){return"function"==typeof a[e]?a[e]=a[e](i.a):a[e]}a=null!=(n=i.a.dojoConfig)&&n.has||null!=(o=i.a.esriConfig)&&o.has?{...null==(s=i.a.dojoConfig)?void 0:s.has,...null==(l=i.a.esriConfig)?void 0:l.has}:{},c.add=(e,t,r,n)=>((n||void 0===a[e])&&(a[e]=t),r&&c(e)),c.cache=a,c.add("esri-deprecation-warnings",!0),(()=>{c.add("host-webworker",void 0!==i.a.WorkerGlobalScope&&self instanceof i.a.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",e),c.add("host-node","object"==typeof i.a.process&&i.a.process.versions&&i.a.process.versions.node&&i.a.process.versions.v8),c.add("dom",e),c("host-browser")){const e=navigator,t=e.userAgent,r=e.appVersion,n=parseFloat(r);if(c.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),c.add("khtml",r.indexOf("Konqueror")>=0?n:void 0),c.add("edge",parseFloat(t.split("Edge/")[1])||void 0),c.add("opr",parseFloat(t.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(t.split("Android ")[1])||void 0),c.add("safari",!(r.indexOf("Safari")>=0)||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(r.split("Version/")[1])),c.add("mac",r.indexOf("Macintosh")>=0),c.add("quirks","BackCompat"===document.compatMode),!c("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),r=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",n=parseFloat(r.replace(/_/,".").replace(/_/g,""));c.add(e,n),c.add("ios",n)}c.add("trident",parseFloat(r.split("Trident/")[1])||void 0),c.add("svg","undefined"!=typeof SVGAngle),c("webkit")||(t.indexOf("Opera")>=0&&c.add("opera",n>=9.8&&parseFloat(t.split("Version/")[1])||n),!(t.indexOf("Gecko")>=0)||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(i.a.navigator){const e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&c.add("esri-mobile",t),r&&c.add("esri-iPhone",r),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in i.a),c.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in i.a,t=!1===i.a.crossOriginIsolated;return e&&!t})),c.add("esri-atomics","Atomics"in i.a),c.add("esri-workers","Worker"in i.a),c.add("esri-text-decoder","TextDecoder"in i.a),c.add("esri-text-encoder","TextEncoder"in i.a),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("mapview-transitions-duration",200),c.add("mapserver-pbf-enabled",!1),c("host-webworker")||c("host-browser")&&(c.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),c.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{c.add("esri-image-decode",!0,!0,!0)})).catch((()=>{c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(()=>{const e=i.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),c.add("vectortilelayer-max-buffers",(()=>c("ff")?160:Number.POSITIVE_INFINITY)))})(),t.a=c},78:function(e,t,r){"use strict";r(77);var n=r(138),o=r(86),i=r(136);const a={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=s._loggers;return s._loggers=e,t},set throttlingDisabled(e){s._throttlingDisabled=e}}}static getLogger(e){let t=s._loggers[e];return t||(t=new s({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!s._throttlingDisabled){const n=this._argsToKey(r),o=this._loggedMessages[e].get(n);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=s._tickCounter)return;this._loggedMessages[e].set(n,s._tickCounter),s._scheduleTickCounterIncrement()}for(const t of n.a.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){let r=this;for(;Object(o.k)(r);){const t=r[e];if(Object(o.k)(t))return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=n.a.log.level?n.a.log.level:"warn";return a[this._parentWithMember("level",t)]<=a[e]}_argsToKey(...e){return Object(i.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}s._loggers={},s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1,t.a=s},789:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(86)),i=(r(78),r(85),r(82)),a=r(81),s=(r(80),r(83),r(84),r(108)),l=r(407),c=(r(110),r(126)),u=r(151);function d(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function p(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function h(e){var t=p(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b(e){return e instanceof p(e).Element||e instanceof Element}function f(e){return e instanceof p(e).HTMLElement||e instanceof HTMLElement}function m(e){return e?(e.nodeName||"").toLowerCase():null}function g(e){return((b(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return d(g(e)).left+h(e).scrollLeft}function y(e){return p(e).getComputedStyle(e)}function O(e){var t=y(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function j(e,t,r){void 0===r&&(r=!1);var n=g(t),o=d(e),i=f(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(i||!i&&!r)&&(("body"!==m(t)||O(n))&&(a=function(e){return e!==p(e)&&f(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:h(e);var t}(t)),f(t)?((s=d(t)).x+=t.clientLeft,s.y+=t.clientTop):n&&(s.x=v(n))),{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function w(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function _(e){return"html"===m(e)?e:e.assignedSlot||e.parentNode||e.host||g(e)}function k(e){return["html","body","#document"].indexOf(m(e))>=0?e.ownerDocument.body:f(e)&&O(e)?e:k(_(e))}function S(e,t){void 0===t&&(t=[]);var r=k(e),n="body"===m(r),o=p(r),i=n?[o].concat(o.visualViewport||[],O(r)?r:[]):r,a=t.concat(i);return n?a:a.concat(S(_(i)))}function x(e){return["table","td","th"].indexOf(m(e))>=0}function E(e){if(!f(e)||"fixed"===y(e).position)return null;var t=e.offsetParent;if(t){var r=g(t);if("body"===m(t)&&"static"===y(t).position&&"static"!==y(r).position)return r}return t}function I(e){for(var t=p(e),r=E(e);r&&x(r)&&"static"===y(r).position;)r=E(r);return r&&"body"===m(r)&&"static"===y(r).position?t:r||function(e){for(var t=_(e);f(t)&&["html","body"].indexOf(m(t))<0;){var r=y(t);if("none"!==r.transform||"none"!==r.perspective||r.willChange&&"auto"!==r.willChange)return t;t=t.parentNode}return null}(e)||t}var T="top",M="bottom",A="right",C="left",N="auto",D=[T,M,A,C],B="start",P="end",F="viewport",L="popper",R=D.reduce((function(e,t){return e.concat([t+"-"+B,t+"-"+P])}),[]),U=[].concat(D,[N]).reduce((function(e,t){return e.concat([t,t+"-"+B,t+"-"+P])}),[]),W=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function V(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}function q(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function H(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?G:o;return function(e,t,r){void 0===r&&(r=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},G),i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(r){c(),o.options=Object.assign(Object.assign(Object.assign({},i),o.options),r),o.scrollParents={reference:b(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var s=function(e){var t=V(e);return W.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign(Object.assign(Object.assign({},r),t),{},{options:Object.assign(Object.assign({},r.options),t.options),data:Object.assign(Object.assign({},r.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,o.options.modifiers)));return o.orderedModifiers=s.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:n}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,r=e.popper;if(z(t,r)){o.rects={reference:j(t,I(r),"fixed"===o.options.strategy),popper:w(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var i=o.orderedModifiers[n],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,n=-1}}},update:q((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!z(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var J={passive:!0};function $(e){return e.split("-")[0]}function Y(e){return e.split("-")[1]}function X(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?$(o):null,a=o?Y(o):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case T:t={x:s,y:r.y-n.height};break;case M:t={x:s,y:r.y+r.height};break;case A:t={x:r.x+r.width,y:l};break;case C:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?X(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case B:t[c]=t[c]-(r[u]/2-n[u]/2);break;case P:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}var Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(r*n)/n||0}}(i):i,u=c.x,d=void 0===u?0:u,h=c.y,b=void 0===h?0:h,f=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),v=C,y=T,O=window;if(l){var j=I(r);j===p(r)&&(j=g(r)),o===T&&(y=M,b-=j.clientHeight-n.height,b*=s?1:-1),o===C&&(v=A,d-=j.clientWidth-n.width,d*=s?1:-1)}var w,_=Object.assign({position:a},l&&Z);return s?Object.assign(Object.assign({},_),{},((w={})[y]=m?"0":"",w[v]=f?"0":"",w.transform=(O.devicePixelRatio||1)<2?"translate("+d+"px, "+b+"px)":"translate3d("+d+"px, "+b+"px, 0)",w)):Object.assign(Object.assign({},_),{},((t={})[y]=m?b+"px":"",t[v]=f?d+"px":"",t.transform="",t))}var ee={left:"right",right:"left",bottom:"top",top:"bottom"};function te(e){return e.replace(/left|right|bottom|top/g,(function(e){return ee[e]}))}var re={start:"end",end:"start"};function ne(e){return e.replace(/start|end/g,(function(e){return re[e]}))}function oe(e,t){var r,n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&((r=n)instanceof p(r).ShadowRoot||r instanceof ShadowRoot)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ie(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ae(e,t){return t===F?ie(function(e){var t=p(e),r=g(e),n=t.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,s=0;return n&&(o=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:o,height:i,x:a+v(e),y:s}}(e)):f(t)?function(e){var t=d(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ie(function(e){var t=g(e),r=h(e),n=e.ownerDocument.body,o=Math.max(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),i=Math.max(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+v(e),s=-r.scrollTop;return"rtl"===y(n||t).direction&&(a+=Math.max(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:i,x:a,y:s}}(g(e)))}function se(e,t,r){var n="clippingParents"===t?function(e){var t=S(_(e)),r=["absolute","fixed"].indexOf(y(e).position)>=0&&f(e)?I(e):e;return b(r)?t.filter((function(e){return b(e)&&oe(e,r)&&"body"!==m(e)})):[]}(e):[].concat(t),o=[].concat(n,[r]),i=o[0],a=o.reduce((function(t,r){var n=ae(e,r);return t.top=Math.max(n.top,t.top),t.right=Math.min(n.right,t.right),t.bottom=Math.min(n.bottom,t.bottom),t.left=Math.max(n.left,t.left),t}),ae(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function le(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function ce(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function ue(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.boundary,a=void 0===i?"clippingParents":i,s=r.rootBoundary,l=void 0===s?F:s,c=r.elementContext,u=void 0===c?L:c,p=r.altBoundary,h=void 0!==p&&p,f=r.padding,m=void 0===f?0:f,v=le("number"!==typeof m?m:ce(m,D)),y=u===L?"reference":L,O=e.elements.reference,j=e.rects.popper,w=e.elements[h?y:u],_=se(b(w)?w:w.contextElement||g(e.elements.popper),a,l),k=d(O),S=K({reference:k,element:j,strategy:"absolute",placement:o}),x=ie(Object.assign(Object.assign({},j),S)),E=u===L?x:k,I={top:_.top-E.top+v.top,bottom:E.bottom-_.bottom+v.bottom,left:_.left-E.left+v.left,right:E.right-_.right+v.right},C=e.modifiersData.offset;if(u===L&&C){var N=C[o];Object.keys(I).forEach((function(e){var t=[A,M].indexOf(e)>=0?1:-1,r=[T,M].indexOf(e)>=0?"y":"x";I[e]+=N[r]*t}))}return I}function de(e,t,r){return Math.max(e,Math.min(t,r))}function pe(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function he(e){return[T,A,M,C].some((function(t){return e[t]>=0}))}var be=H({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,l=p(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,J)})),s&&l.addEventListener("resize",r.update,J),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,J)})),s&&l.removeEventListener("resize",r.update,J)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,l=void 0===s||s,c={placement:$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),Q(Object.assign(Object.assign({},c),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),Q(Object.assign(Object.assign({},c),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];f(o)&&m(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});f(n)&&m(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=U.reduce((function(e,r){return e[r]=function(e,t,r){var n=$(e),o=[C,T].indexOf(n)>=0?-1:1,i="function"===typeof r?r(Object.assign(Object.assign({},t),{},{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[C,A].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,b=void 0===h||h,f=r.allowedAutoPlacements,m=t.options.placement,g=$(m),v=l||(g===m||!b?[te(m)]:function(e){if($(e)===N)return[];var t=te(e);return[ne(e),t,ne(t)]}(m)),y=[m].concat(v).reduce((function(e,r){return e.concat($(r)===N?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?U:l,u=Y(n),d=u?s?R:R.filter((function(e){return Y(e)===u})):D,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,r){return t[r]=ue(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[$(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:b,allowedAutoPlacements:f}):r)}),[]),O=t.rects.reference,j=t.rects.popper,w=new Map,_=!0,k=y[0],S=0;S<y.length;S++){var x=y[S],E=$(x),I=Y(x)===B,P=[T,M].indexOf(E)>=0,F=P?"width":"height",L=ue(t,{placement:x,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),W=P?I?A:C:I?M:T;O[F]>j[F]&&(W=te(W));var V=te(W),q=[];if(i&&q.push(L[E]<=0),s&&q.push(L[W]<=0,L[V]<=0),q.every((function(e){return e}))){k=x,_=!1;break}w.set(x,q)}if(_)for(var G=function(e){var t=y.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},z=b?3:1;z>0;z--){if("break"===G(z))break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,h=void 0===p||p,b=r.tetherOffset,f=void 0===b?0:b,m=ue(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=$(t.placement),v=Y(t.placement),y=!v,O=X(g),j="x"===O?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,x="function"===typeof f?f(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):f,E={x:0,y:0};if(_){if(i){var N="y"===O?T:C,D="y"===O?M:A,P="y"===O?"height":"width",F=_[O],L=_[O]+m[N],R=_[O]-m[D],U=h?-S[P]/2:0,W=v===B?k[P]:S[P],V=v===B?-S[P]:-k[P],q=t.elements.arrow,G=h&&q?w(q):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[N],J=z[D],K=de(0,k[P],G[P]),Z=y?k[P]/2-U-K-H-x:W-K-H-x,Q=y?-k[P]/2+U+K+J+x:V+K+J+x,ee=t.elements.arrow&&I(t.elements.arrow),te=ee?"y"===O?ee.clientTop||0:ee.clientLeft||0:0,re=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0,ne=_[O]+Z-re-te,oe=_[O]+Q-re,ie=de(h?Math.min(L,ne):L,F,h?Math.max(R,oe):R);_[O]=ie,E[O]=ie-F}if(s){var ae="x"===O?T:C,se="x"===O?M:A,le=_[j],ce=de(le+m[ae],le,le-m[se]);_[j]=ce,E[j]=ce-le}t.modifiersData[n]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=r.elements.arrow,i=r.modifiersData.popperOffsets,a=$(r.placement),s=X(a),l=[C,A].indexOf(a)>=0?"height":"width";if(o&&i){var c=r.modifiersData[n+"#persistent"].padding,u=w(o),d="y"===s?T:C,p="y"===s?M:A,h=r.rects.reference[l]+r.rects.reference[s]-i[s]-r.rects.popper[l],b=i[s]-r.rects.reference[s],f=I(o),m=f?"y"===s?f.clientHeight||0:f.clientWidth||0:0,g=h/2-b/2,v=c[d],y=m-u[l]-c[p],O=m/2-u[l]/2+g,j=de(v,O,y),_=s;r.modifiersData[n]=((t={})[_]=j,t.centerOffset=j-O,t)}},effect:function(e){var t=e.state,r=e.options,n=e.name,o=r.element,i=void 0===o?"[data-popper-arrow]":o,a=r.padding,s=void 0===a?0:a;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&oe(t.elements.popper,i)&&(t.elements.arrow=i,t.modifiersData[n+"#persistent"]={padding:le("number"!==typeof s?s:ce(s,D))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=ue(t,{elementContext:"reference"}),s=ue(t,{altBoundary:!0}),l=pe(a,n),c=pe(s,o,i),u=he(l),d=he(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const fe=["bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","top","top-start","top-end"],me="esri-popover",ge="esri-popover--open",ve={position:"fixed","z-index":"1000"};let ye=class extends u.a{constructor(e,t){super(e,t),this._popper=null,this._contentNode=null,this._renderAttached=!1,this._rootNode=null,this.anchorElement=null,this.offset=[0,0],this.open=!1,this.renderContentFunction=null,this._afterRootCreate=e=>{this._rootNode=e},this._afterContentCreate=e=>{this._contentNode=e},this._updatePosition=()=>{Object(o.k)(this._popper)&&this._popper.update()}}initialize(){this.when((()=>{this._projector.append(document.body,this.render),this._renderAttached=!0})),this.own(Object(s.a)(this,["open","anchorElement"],(()=>this._buildPopper())),Object(s.a)(this,["placement","offset"],(()=>this._setPopperOptions())))}destroy(){this.owner=null,this.anchorElement=null,this.renderContentFunction=null,this._renderAttached&&(this._projector.detach(this.render),this._renderAttached=!1),Object(o.k)(this._rootNode)&&(Object(l.d)(this._rootNode),this._rootNode=null),this._contentNode=null,Object(o.k)(this._popper)&&(this._popper.destroy(),this._popper=null)}set container(e){}set owner(e){this._set("owner",e)}get placement(){return"top"}set placement(e){-1!==fe.indexOf(e)?this._override("placement",e):this._clearOverride("placement")}render(){const{open:e,owner:t,renderContentFunction:r}=this;return Object(c.a)("div",{afterCreate:this._afterRootCreate,class:this.classes(me,e?ge:null),styles:ve},Object(c.a)("div",{afterCreate:this._afterContentCreate,afterUpdate:this._updatePosition},e&&(null==r?void 0:r.call(t))))}_buildPopper(){Object(o.k)(this._popper)&&(this._popper.destroy(),this._popper=null);const e=this._contentNode;if(Object(o.j)(e))return;if(!this.open||!this.renderContentFunction)return;const t=this._getAnchor();t&&(this._popper=be(t,e),this._setPopperOptions())}_setPopperOptions(){const{placement:e,offset:t,_popper:r}=this;Object(o.j)(r)||(r.setOptions({placement:e,modifiers:[{name:"offset",options:{offset:t}}]}),r.forceUpdate())}_getAnchor(){const{anchorElement:e}=this;return Object(l.a)("function"==typeof e?e():e)}};Object(n.a)([Object(i.b)()],ye.prototype,"anchorElement",void 0),Object(n.a)([Object(i.b)()],ye.prototype,"container",null),Object(n.a)([Object(i.b)()],ye.prototype,"offset",void 0),Object(n.a)([Object(i.b)()],ye.prototype,"open",void 0),Object(n.a)([Object(i.b)()],ye.prototype,"owner",null),Object(n.a)([Object(i.b)()],ye.prototype,"placement",null),Object(n.a)([Object(i.b)()],ye.prototype,"renderContentFunction",void 0),ye=Object(n.a)([Object(a.a)("esri.widgets.support.Popover")],ye);var Oe=ye;t.a=Oe},802:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(78),r(85),r(82)),a=r(81),s=(r(80),r(83),r(84),r(87));let l=n=class extends s.a{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}clone(){return new n({url:this.url})}};Object(o.a)([Object(i.b)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"url",void 0),l=n=Object(o.a)([Object(a.a)("esri.webdoc.support.Thumbnail")],l);var c=l;t.a=c},819:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(78),r(82)),a=r(118),s=r(81),l=(r(80),r(83),r(84),r(93));let c=n=class extends l.a{constructor(e){super(e),this.autoCloseMenu=!1,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.selected=!1,this.selectionEnabled=!1,this.clickFunction=null}castItems(e){return e?e.map((e=>e instanceof n?e:new n(e))):null}};Object(o.a)([Object(i.b)()],c.prototype,"autoCloseMenu",void 0),Object(o.a)([Object(i.b)()],c.prototype,"iconClass",void 0),Object(o.a)([Object(i.b)()],c.prototype,"items",void 0),Object(o.a)([Object(a.a)("items")],c.prototype,"castItems",null),Object(o.a)([Object(i.b)()],c.prototype,"label",void 0),Object(o.a)([Object(i.b)()],c.prototype,"open",void 0),Object(o.a)([Object(i.b)()],c.prototype,"selected",void 0),Object(o.a)([Object(i.b)()],c.prototype,"selectionEnabled",void 0),Object(o.a)([Object(i.b)()],c.prototype,"clickFunction",void 0),c=n=Object(o.a)([Object(s.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuItem")],c);var u=c;t.a=u},86:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return o})),r.d(t,"k",(function(){return n})),r.d(t,"l",(function(){return i})),r.d(t,"m",(function(){return f})),r.d(t,"n",(function(){return g})),r.d(t,"o",(function(){return b})),r.d(t,"p",(function(){return p})),r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return c})),r.d(t,"s",(function(){return l}));function n(e){return null!=e}function o(e){return null==e}function i(e){return void 0===e}function a(e,t){return n(e)?t(e):null}function s(e){return e}function l(e,t){if(o(e))throw new Error(t);return e}function c(e,t){return n(e)?e:"function"==typeof t?t():t}function u(e){return n(e)&&e.destroy(),null}function d(e){return n(e)&&e.dispose(),null}function p(e){return n(e)&&e.remove(),null}function h(e){return n(e)&&e.abort(),null}function b(e){return null}function f(e,t){const r=new Array;for(const n of e)r.push(g(n,null,t));return r}function m(e,t){for(const r of e)g(r,null,t)}function g(e,t,r){return n(e)?r(e):t}function v(e,t){return n(e)?t(e):null}function y(e){return e.filter((e=>n(e)))}function O(e,...t){let r=e,n=0;for(;n<t.length&&r;)r=r[t[n++]];return r}function j(e){return e}},872:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(89)),a=r(86),s=r(78),l=r(85),c=r(82),u=r(118),d=r(285),p=r(92),h=r(81),b=r(88),f=(r(80),r(83),r(84),r(87)),m=r(98),g=r(204),v=r(505),y=r(802);const O="esri.webmap.Bookmark",j=s.a.getLogger(O);let w=n=class extends(Object(g.a)(f.a)){constructor(e){super(e),this.name=null,this.thumbnail=new y.a}set extent(e){Object(d.c)(j,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new v.a({targetGeometry:e.clone()})),this._set("extent",e)}castThumbnail(e){return"string"==typeof e?new y.a({url:e}):Object(l.m)(y.a,e)}set viewpoint(e){const t=e.targetGeometry;if(Object(a.j)(t)||"extent"!==t.type){const t=new b.a("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:e});j.error(t)}else this._set("extent",t.clone()),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:r,viewpoint:n}=t;return v.a.fromJSON(n||{targetGeometry:r})}clone(){return new n(Object(i.a)({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))}};Object(o.a)([Object(c.b)({type:m.a,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],w.prototype,"extent",null),Object(o.a)([Object(c.b)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],w.prototype,"name",void 0),Object(o.a)([Object(c.b)({type:y.a,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],w.prototype,"thumbnail",void 0),Object(o.a)([Object(u.a)("thumbnail")],w.prototype,"castThumbnail",null),Object(o.a)([Object(c.b)({type:v.a,nonNullable:!0,json:{write:!0}})],w.prototype,"viewpoint",null),Object(o.a)([Object(p.a)("viewpoint",["extent","viewpoint"])],w.prototype,"readViewpoint",null),w=n=Object(o.a)([Object(h.a)(O)],w);var _=w;t.a=_},88:function(e,t,r){"use strict";var n=r(89),o=r(78),i=r(397);class a extends i.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof a))return new a(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(n.a)(t)}catch(a){return"[object]"}})))}}catch(e){throw o.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new a(e.name,e.message,e.details)}}a.prototype.type="error",t.a=a},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));r(77);var n=r(290);function o(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&o(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function i(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(n.h)(e)||Object(n.k)(e)||Object(n.l)(e)||Object(n.f)(e)||Object(n.i)(e)||Object(n.g)(e)||Object(n.j)(e)||Object(n.d)(e)||Object(n.e)(e))return Object(n.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach(((e,r)=>{t.set(r,i(e))})),t}if(e instanceof Set){const t=new Set;return e.forEach((e=>{t.add(i(e))})),t}let t;const r=e;if("function"==typeof r.clone)t=r.clone();else if("function"==typeof r.map&&"function"==typeof r.forEach)t=r.map(i);else if("function"==typeof r.notifyChange&&"function"==typeof r.watch)t=r.clone();else{t={};for(const r of Object.getOwnPropertyNames(e))t[r]=i(e[r])}return t}function a(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return M})),r.d(t,"h",(function(){return A})),r.d(t,"i",(function(){return T})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return O})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return m})),r.d(t,"q",(function(){return g})),r.d(t,"r",(function(){return k})),r.d(t,"s",(function(){return S})),r.d(t,"t",(function(){return b})),r.d(t,"u",(function(){return d})),r.d(t,"v",(function(){return f})),r.d(t,"w",(function(){return I})),r.d(t,"x",(function(){return v}));var n=r(86),o=(r(78),r(88)),i=r(454),a=r(191);function s(e){return Promise.all(e)}function l(e){return new Promise(((t,r)=>{try{e(t,r)}catch(n){Promise.resolve().then((()=>r(n)))}}))}function c(e="Aborted"){return new o.a("AbortError",e)}function u(){return new AbortController}function d(e){if(h(e))throw c()}function p(e){return Object(n.k)(e)?"aborted"in e?e:e.signal:e}function h(e){const t=p(e);return Object(n.k)(t)&&t.aborted}function b(e){if(y(e))throw e}function f(e){if(!y(e))throw e}function m(e,t){const r=p(e);if(!Object(n.j)(r)){if(!r.aborted)return Object(a.d)(r,"abort",(()=>t()));t()}}function g(e,t){const r=p(e);if(!Object(n.j)(r))return d(r),Object(a.d)(r,"abort",(()=>t(c())))}function v(e,t){const r=p(t);return Object(n.j)(r)?e:new Promise(((r,o)=>{let i=m(t,(()=>o(c())));const a=()=>i=Object(n.p)(i);e.then(a,a),e.then(r,o)}))}function y(e){return e&&"AbortError"===e.name}function O(e){return e.catch((e=>{if(!y(e))throw e}))}function j(){let e=null;const t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function w(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return w(t.map((t=>e[t]))).then((e=>{const r={};return t.forEach(((t,n)=>r[t]=e[n])),r}))}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,r)=>{const n=e[r];return"fulfilled"===n.status?{promise:t,value:n.value}:{promise:t,error:n.reason}}))))}function _(e){return w(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function k(e){return Promise.reject(e)}function S(e){return Promise.resolve(e)}function x(e,t,r){const n=u();return m(r,(()=>n.abort())),new Promise(((r,o)=>{let i=setTimeout((()=>{i=0,r(t)}),e);m(n,(()=>{i&&(clearTimeout(i),o(c()))}))}))}function E(e){return e&&"function"==typeof e.then}function I(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function T(e,t=-1){let r,o,i,a,s=null;const l=(...d)=>{if(r){o=d,a&&a.reject(c()),a=j();const e=Object(n.d)(a.promise);if(s){const e=s;s=null,e.abort()}return e}if(i=a||j(),a=null,t>0){const n=u();r=I(e(...d,n.signal));const o=r;x(t).then((()=>{r===o&&(a?n.abort():s=n)}))}else r=1,r=I(e(...d));const p=()=>{const e=o;o=i=r=s=null,null!=e&&l(...e)},h=r,b=i;return h.then(p,p),h.then(b.resolve,b.reject),Object(n.d)(b.promise)};return l}function M(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n})),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>i.a.setTimeout((()=>n.reject(t)),e),n.promise=r,n}function A(e){let t=u();const r=e(t.signal);let n={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const o=()=>{n&&(n.finished=!0,n=null),t=null};return r.then(o,o),n}},915:function(e,t,r){"use strict";var n,o=r(79),i=(r(77),r(78)),a=r(82),s=r(118),l=r(81),c=(r(80),r(83),r(84),r(93)),u=r(122),d=r(569),p=r(177),h=r(89),b=r(85),f=r(91),m=r(88),g=r(90),v=r(87),y=r(105),O=r(104),j=r(299),w=r(291),_=r(156),k=r(464),S=r(102);let x=n=class extends v.a{constructor(e){super(e),this.type="none"}clone(){return new n({type:this.type})}};var E;Object(o.a)([Object(S.a)({none:"none",stayAbove:"stay-above"})],x.prototype,"type",void 0),x=n=Object(o.a)([Object(l.a)("esri.ground.NavigationConstraint")],x);const I=i.a.getLogger("esri.Ground");let T=E=class extends(Object(v.b)(_.a)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new y.a;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&I.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))}initialize(){this.when().catch((e=>{I.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Object(w.b)(e,this._get("layers")))}writeLayers(e,t,r,n){const o=[];e?(n={...n,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};Object(p.b)(e)().write(t,n)&&o.push(t)}else n&&n.messages&&n.messages.push(new m.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=o):t.layers=o}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(k.a)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:n}=await Promise.all([r.e(10),r.e(44)]).then(r.bind(null,1095));Object(g.u)(t);const o=new n,i=this.layers.filter(M).toArray();return o.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:n}=await Promise.all([r.e(10),r.e(44)]).then(r.bind(null,1095));Object(g.u)(t);const o=new n,i=this.layers.filter(M).toArray();return o.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:Object(h.a)(this.surfaceColor),navigationConstraint:Object(h.a)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new E({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,n){const o=t&&t.origin||"web-scene",i=t&&t.portal||null,a=t&&t.url||null;return r.e(45).then(r.bind(null,860)).then((({populateOperationalLayers:t})=>{Object(g.u)(n);const r=[];if(e.layers&&Array.isArray(e.layers)){const n={context:{origin:o,url:a,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};r.push(t(this.layers,e.layers,n))}return Object(g.j)(r)})).then((()=>{}))}};function M(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}Object(o.a)([Object(a.b)({json:{read:!1}})],T.prototype,"layers",null),Object(o.a)([Object(f.a)("layers")],T.prototype,"writeLayers",null),Object(o.a)([Object(a.b)({readOnly:!0})],T.prototype,"resourceInfo",void 0),Object(o.a)([Object(a.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:b.a,read:{reader:j.b,source:"transparency"},write:{writer:(e,t)=>{t.transparency=Object(j.a)(e)},target:"transparency"}}})],T.prototype,"opacity",void 0),Object(o.a)([Object(a.b)({type:O.a,json:{type:[b.a],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],T.prototype,"surfaceColor",void 0),Object(o.a)([Object(a.b)({type:x,json:{write:!0}})],T.prototype,"navigationConstraint",void 0),T=E=Object(o.a)([Object(l.a)("esri.Ground")],T);var A=T,C=r(493),N=r(616);const D=i.a.getLogger("esri.support.groundUtils"),B={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var P=r(669),F=r(670);const L=i.a.getLogger("esri.Map");let R=class extends(Object(F.a)(Object(P.a)(u.a.EventedMixin(c.a)))){constructor(e){super(e),this.allLayers=new C.a({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:e=>e.layers}),this.allTables=this._createTablesFlattener(this),this.basemap=null,this.ground=new A,this._basemapCache=Object(N.b)()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),Object(N.c)(this._basemapCache),this._basemapCache=null}castBasemap(e){return Object(N.d)(e,this._basemapCache)}castGround(e){return function(e){let t;"string"==typeof e?e in B?t=new A({resourceInfo:{data:{layers:[B[e]]}}}):D.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=Object(b.m)(A,e);return t}(e)||(L.error("Map.ground may not be set to null or undefined"),this._get("ground"))}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}_createTablesFlattener(e){return new C.a({root:e,rootCollectionNames:["tables","layers"],getChildrenFunction:e=>e&&"group"===e.type?this._createTablesFlattener(e):null,itemFilterFunction:e=>this._isMapOrGroupLayer(e.parent)&&e.parent.tables.includes(e)})}_isMapOrGroupLayer(e){return e&&(e===this||this._isGroupLayer(e))}_isGroupLayer(e){return e&&"group"===e.type}};Object(o.a)([Object(a.b)({readOnly:!0,dependsOn:[]})],R.prototype,"allLayers",void 0),Object(o.a)([Object(a.b)({readOnly:!0})],R.prototype,"allTables",void 0),Object(o.a)([Object(a.b)({type:d.default})],R.prototype,"basemap",void 0),Object(o.a)([Object(s.a)("basemap")],R.prototype,"castBasemap",null),Object(o.a)([Object(a.b)({type:A,nonNullable:!0})],R.prototype,"ground",void 0),Object(o.a)([Object(s.a)("ground")],R.prototype,"castGround",null),R=Object(o.a)([Object(l.a)("esri.Map")],R);var U=R;t.a=U},918:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(86)),i=(r(78),r(85),r(82)),a=r(142),s=r(81),l=(r(80),r(83),r(84),r(191)),c=r(108),u=r(163),d=r(110),p=r(126),h=r(151),b=r(118),f=r(93),m=r(819);let g=class extends f.a{constructor(e){super(e),this.items=null,this.open=!1}castItems(e){return e?e.map((e=>e instanceof m.a?e:new m.a(e))):null}};Object(n.a)([Object(i.b)()],g.prototype,"items",void 0),Object(n.a)([Object(b.a)("items")],g.prototype,"castItems",null),Object(n.a)([Object(i.b)()],g.prototype,"open",void 0),g=Object(n.a)([Object(s.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenuViewModel")],g);var v=g,y=r(789);const O="esri-button-menu",j="esri-button-menu__content",w="esri-button-menu__item-wrapper",_="esri-button-menu__icon",k="esri-button-menu__item",S="esri-button-menu__item-label",x="esri-button-menu__item-label-content",E="esri-button-menu__item--selectable",I="esri-button-menu__item--selected",T="esri-button-menu__checkbox",M="esri-button-menu__embedded-content-wrapper",A="esri-button-menu__button",C="esri-button-menu__button--selected",N="esri-icon-menu",D="esri-widget";let B=class extends(Object(u.b)(h.a)){constructor(e,t){super(e,t),this._menuContentNode=null,this._popover=null,this._rootNode=null,this.iconClass=null,this.items=null,this.label=null,this.open=!1,this.viewModel=new v,this._handleOutsideClick=this._handleOutsideClick.bind(this)}postInitialize(){this._popover=new y.a({owner:this,open:!!this.open,placement:Object(d.f)()?"bottom-start":"bottom-end",renderContentFunction:this.renderMenuContent,anchorElement:this._rootNode}),this.handles.add([Object(c.d)(this,"open",(e=>this._popover.set("open",e)))]),document.addEventListener("click",this._handleOutsideClick)}destroy(){var e;null==(e=this._popover)||e.destroy(),this._popover=null,document.removeEventListener("click",this._handleOutsideClick)}_handleOutsideClick(e){var t,r;if(!this.open||!this._rootNode||!this._menuContentNode)return;const n=e.target;null!=(t=this._menuContentNode)&&t.contains(n)||null!=(r=this._rootNode)&&r.contains(n)||(this.open=!1)}render(){return Object(p.a)("div",{afterCreate:this._afterRootNodeCreate,bind:this,"data-node-ref":"_rootNode",class:this.classes(O,D),key:"menu"},this.renderMenuButton())}renderMenuButton(){const{iconClass:e,id:t,label:r,open:n}=this,o=this.classes([A,e||N,n?C:null]);return Object(p.a)("button",{"aria-pressed":n.toString(),"aria-controls":`${t}-menu`,"aria-expanded":n.toString(),"aria-haspopup":"true","aria-label":r,bind:this,class:o,id:`${t}-button`,title:r,selected:n,onclick:this._toggleOpen,tabindex:"0",type:"button"})}renderMenuContent(){var e;const{id:t,open:r}=this;return Object(p.a)("div",{afterCreate:this._afterMenuContentNodeCreate,bind:this,class:j,"data-node-ref":"_menuContentNode",key:"esri-button-menu-content",hidden:!r},Object(p.a)("ul",{"aria-labelledby":`${t}-button`,bind:this,class:w,id:`${t}-menu`,role:"menu"},(null==(e=this.items)?void 0:e.length)&&this.renderItems()))}renderItems(){var e;return null==(e=this.items)?void 0:e.map(((e,t)=>this.renderItem(e,t)))}renderItem(e,t,r){var n;const i=Object(o.k)(r)?`${this.id}-menu-item-${t}-${r}`:`${this.id}-menu-item-${t}`,a=`${i}-label`,s=this.classes(k,e.selectionEnabled?E:null,e.selectionEnabled&&e.selected?I:null);return Object(p.a)("li",{afterCreate:this._afterMenuItemCreate,bind:this,class:s,"data-item-index":t,"data-item-subIndex":r,for:i,key:i,onkeydown:t=>this._handleMenuItemKeydown(t,e),onclick:t=>this._handleMenuItemInteraction(t,e),role:"menuitem",tabindex:"0"},Object(p.a)("input",{disabled:!0,checked:e.selected,class:T,id:i,name:i,tabindex:"-1",type:"checkbox"}),Object(p.a)("label",{bind:this,class:this.classes(A,S),for:i,id:a},Object(p.a)("span",{class:this.classes(_,e.iconClass),"aria-hidden":"true"}),Object(p.a)("span",{class:x},e.label)),Object(p.a)("ul",{"aria-labelledby":a,class:M,id:`${this.id}-submenu`,role:"menu"},null==e||null==(n=e.items)?void 0:n.map(((e,r)=>this.renderItem(e,t,r)))))}_afterRootNodeCreate(e){var t;this._rootNode=e,null==(t=this._popover)||t.set("anchorElement",(()=>e))}_handleMenuItemInteraction(e,t){t.selected=!t.selected,t.open=!(!t.selected||!t.items),t.autoCloseMenu&&this.set("open",!1),t.clickFunction&&t.clickFunction({event:e,item:t}),e.stopPropagation()}_handleMenuItemKeydown(e,t){const r=Object(l.a)(e);"Enter"!==r&&" "!==r||this._handleMenuItemInteraction(e,t),"Escape"===r&&(this.open=!1,e.preventDefault(),e.stopPropagation())}_afterMenuContentNodeCreate(e){this._menuContentNode=e,e.focus()}_toggleOpen(){this.open=!this.open}_afterMenuItemCreate(e){0===e["data-item-index"]&&e.focus()}};Object(n.a)([Object(i.b)()],B.prototype,"iconClass",void 0),Object(n.a)([Object(a.a)("viewModel.items")],B.prototype,"items",void 0),Object(n.a)([Object(i.b)()],B.prototype,"label",void 0),Object(n.a)([Object(a.a)("viewModel.open")],B.prototype,"open",void 0),Object(n.a)([Object(i.b)()],B.prototype,"viewModel",void 0),B=Object(n.a)([Object(s.a)("esri.widgets.FeatureTable.Grid.support.ButtonMenu")],B);var P=B;t.a=P},941:function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),p=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),b=l(/chrome/i)&&l(/android/i),f={capture:!1,passive:!1};function m(e,t,r){e.addEventListener(t,r,!c&&f)}function g(e,t,r){e.removeEventListener(t,r,!c&&f)}function v(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(r){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&v(e,t):v(e,t))||n&&e===r)return e;if(e===r)break}while(e=y(e))}return null}var j,w=/\s+/g;function _(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(w," ")}}function k(e,t,r){var n=e&&e.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=r+("string"===typeof r?"":"px")}}function S(e,t){var r="";if("string"===typeof e)r=e;else do{var n=k(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(r)}function x(e,t,r){if(e){var n=e.getElementsByTagName(t),o=0,i=n.length;if(r)for(;o<i;o++)r(n[o],o);return n}return[]}function E(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,r,n,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,u,d,p;if(e!==window&&e.parentNode&&e!==E()?(a=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,u=i.right,d=i.height,p=i.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(o=o||e.parentNode,!c))do{if(o&&o.getBoundingClientRect&&("none"!==k(o,"transform")||r&&"static"!==k(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(k(o,"border-top-width")),s-=h.left+parseInt(k(o,"border-left-width")),l=a+i.height,u=s+i.width;break}}while(o=o.parentNode);if(n&&e!==window){var b=S(o||e),f=b&&b.a,m=b&&b.d;b&&(l=(a/=m)+(d/=m),u=(s/=f)+(p/=f))}return{top:a,left:s,bottom:l,right:u,width:p,height:d}}}function T(e,t,r){for(var n=D(e,!0),o=I(e)[t];n;){var i=I(n)[r];if(!("top"===r||"left"===r?o>=i:o<=i))return n;if(n===E())break;n=D(n,!1)}return!1}function M(e,t,r){for(var n=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==Fe.ghost&&i[o]!==Fe.dragged&&O(i[o],r.draggable,e,!1)){if(n===t)return i[o];n++}o++}return null}function A(e,t){for(var r=e.lastElementChild;r&&(r===Fe.ghost||"none"===k(r,"display")||t&&!v(r,t));)r=r.previousElementSibling;return r||null}function C(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!v(e,t)||r++;return r}function N(e){var t=0,r=0,n=E();if(e)do{var o=S(e),i=o.a,a=o.d;t+=e.scrollLeft*i,r+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,r]}function D(e,t){if(!e||!e.getBoundingClientRect)return E();var r=e,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var o=k(r);if(r.clientWidth<r.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!r.getBoundingClientRect||r===document.body)return E();if(n||t)return r;n=!0}}}while(r=r.parentNode);return E()}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function P(e,t){return function(){if(!j){var r=arguments,n=this;1===r.length?e.call(n,r[0]):e.apply(n,r),j=setTimeout((function(){j=void 0}),t)}}}function F(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function L(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var R="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==k(e,"display")&&e!==Fe.ghost){t.push({target:e,rect:I(e)});var r=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=S(e,!0);n&&(r.top-=n.f,r.left-=n.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof r&&r());var o=!1,i=0;t.forEach((function(e){var t=0,r=e.target,a=r.fromRect,s=I(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=S(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&B(l,s)&&!B(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}(u,l,c,n.options)),B(s,a)||(r.prevFromRect=a,r.prevToRect=s,t||(t=n.options.animation),n.animate(r,u,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof r&&r()}),i):"function"===typeof r&&r(),t=[]},animate:function(e,t,r,n){if(n){k(e,"transition",""),k(e,"transform","");var o=S(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-r.left)/(i||1),l=(t.top-r.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,k(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),k(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),k(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){k(e,"transition",""),k(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var W=[],V={initializeByDefault:!0},q={mount:function(e){for(var t in V)V.hasOwnProperty(t)&&!(t in e)&&(e[t]=V[t]);W.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),W.push(e)},pluginEvent:function(e,t,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var o=e+"Global";W.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][o]&&t[n.pluginName][o](a({sortable:t},r)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},r)))}))},initializePlugins:function(e,t,r,n){for(var o in W.forEach((function(n){var o=n.pluginName;if(e.options[o]||n.initializeByDefault){var a=new n(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,i(r,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof a&&(e.options[o]=a)}},getEventProperties:function(e,t){var r={};return W.forEach((function(n){"function"===typeof n.eventProperties&&i(r,n.eventProperties.call(t[n.pluginName],e))})),r},modifyOption:function(e,t,r){var n;return W.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(n=o.optionListeners[t].call(e[o.pluginName],r))})),n}};function G(e){var t=e.sortable,r=e.rootEl,n=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,b=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,g=e.extraEventProperties;if(t=t||r&&r[R]){var v,y=t.options,O="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||u?(v=document.createEvent("Event")).initEvent(n,!0,!0):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=s||r,v.from=l||r,v.item=o||r,v.clone=i,v.oldIndex=d,v.newIndex=p,v.oldDraggableIndex=h,v.newDraggableIndex=b,v.originalEvent=f,v.pullMode=m?m.lastPutMode:void 0;var j=a({},g,q.getEventProperties(n,t));for(var w in j)v[w]=j[w];r&&r.dispatchEvent(v),y[O]&&y[O].call(t,v)}}var z=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.evt,o=s(r,["evt"]);q.pluginEvent.bind(Fe)(e,t,a({dragEl:J,parentEl:$,ghostEl:Y,rootEl:X,nextEl:K,lastDownEl:Z,cloneEl:Q,cloneHidden:ee,dragStarted:he,putSortable:ae,activeSortable:Fe.active,originalEvent:n,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:oe,hideGhostForTarget:Ne,unhideGhostForTarget:De,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:n})}},o))};function H(e){G(a({putSortable:ae,cloneEl:Q,targetEl:J,rootEl:X,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:oe},e))}var J,$,Y,X,K,Z,Q,ee,te,re,ne,oe,ie,ae,se,le,ce,ue,de,pe,he,be,fe,me,ge,ve=!1,ye=!1,Oe=[],je=!1,we=!1,_e=[],ke=!1,Se=[],xe="undefined"!==typeof document,Ee=h,Ie=u||c?"cssFloat":"float",Te=xe&&!b&&!h&&"draggable"in document.createElement("div"),Me=function(){if(xe){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ae=function(e,t){var r=k(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=M(e,0,t),i=M(e,1,t),a=o&&k(o),s=i&&k(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(i).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=n&&"none"===r[Ie]||i&&"none"===r[Ie]&&l+c>n)?"vertical":"horizontal"},Ce=function(e){function t(e,r){return function(n,o,i,a){var s=n.options.group.name&&o.options.group.name&&n.options.group.name===o.options.group.name;if(null==e&&(r||s))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"===typeof e)return t(e(n,o,i,a),r)(n,o,i,a);var l=(r?n:o).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},o=e.group;o&&"object"==n(o)||(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},Ne=function(){!Me&&Y&&k(Y,"display","none")},De=function(){!Me&&Y&&k(Y,"display","")};xe&&document.addEventListener("click",(function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1}),!0);var Be=function(e){if(J){var t=function(e,t){var r;return Oe.some((function(n){if(!A(n)){var o=I(n),i=n[R].options.emptyInsertThreshold,a=e>=o.left-i&&e<=o.right+i,s=t>=o.top-i&&t<=o.bottom+i;return i&&a&&s?r=n:void 0}})),r}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[R]._onDragOver(r)}}},Pe=function(e){J&&J.parentNode[R]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[R]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ae(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var n in q.initializePlugins(this,e,r),r)!(n in t)&&(t[n]=r[n]);for(var o in Ce(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Te,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,U())}function Le(e,t,r,n,o,i,a,s){var l,d,p=e[R],h=p.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=n,l.related=o||t,l.relatedRect=i||I(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),h&&(d=h.call(p,l,a)),d}function Re(e){e.draggable=!1}function Ue(){ke=!1}function We(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function Ve(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(be=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,n=this.options,o=n.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(function(e){Se.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var n=t[r];n.checked&&Se.push(n)}}(r),!J&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!p||!s||"SELECT"!==s.tagName.toUpperCase())&&(!(s=O(s,n.draggable,r,!1))||!s.animated)&&Z!==s){if(te=C(s),ne=C(s,n.draggable),"function"===typeof c){if(c.call(this,e,s,this))return H({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:r,fromEl:r}),z("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=O(l,n.trim(),r,!1))return H({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:r,toEl:r}),z("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());n.handle&&!O(l,n.handle,r,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,r){var n,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(r&&!J&&r.parentNode===i){var l=I(r);if(X=i,$=(J=r).parentNode,K=J.nextSibling,Z=r,ie=a.group,Fe.dragged=J,se={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-l.left,pe=se.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",n=function(){z("delayEnded",o,{evt:e}),Fe.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!d&&o.nativeDraggable&&(J.draggable=!0),o._triggerDragStart(e,t),H({sortable:o,name:"choose",originalEvent:e}),_(J,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){x(J,e.trim(),Re)})),m(s,"dragover",Be),m(s,"mousemove",Be),m(s,"touchmove",Be),m(s,"mouseup",o._onDrop),m(s,"touchend",o._onDrop),m(s,"touchcancel",o._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),z("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))n();else{if(Fe.eventCanceled)return void this._onDrop();m(s,"mouseup",o._disableDelayedDrag),m(s,"touchend",o._disableDelayedDrag),m(s,"touchcancel",o._disableDelayedDrag),m(s,"mousemove",o._delayedDragTouchMoveHandler),m(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&m(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(n,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Re(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._disableDelayedDrag),g(e,"touchend",this._disableDelayedDrag),g(e,"touchcancel",this._disableDelayedDrag),g(e,"mousemove",this._delayedDragTouchMoveHandler),g(e,"touchmove",this._delayedDragTouchMoveHandler),g(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(J,"dragend",this),m(X,"dragstart",this._onDragStart));try{document.selection?Ve((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,t){if(ve=!1,X&&J){z("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",Pe);var r=this.options;!e&&_(J,r.dragClass,!1),_(J,r.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Ne();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(J.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]){if(t[R]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);De()}},_onTouchMove:function(e){if(se){var t=this.options,r=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=Y&&S(Y,!0),a=Y&&i&&i.a,s=Y&&i&&i.d,l=Ee&&ge&&N(ge),c=(o.clientX-se.clientX+n.x)/(a||1)+(l?l[0]-_e[0]:0)/(a||1),u=(o.clientY-se.clientY+n.y)/(s||1)+(l?l[1]-_e[1]:0)/(s||1);if(!Fe.active&&!ve){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Y){i?(i.e+=c-(ce||0),i.f+=u-(ue||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");k(Y,"webkitTransform",d),k(Y,"mozTransform",d),k(Y,"msTransform",d),k(Y,"transform",d),ce=c,ue=u,le=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Y){var e=this.options.fallbackOnBody?document.body:X,t=I(J,!0,Ee,!0,e),r=this.options;if(Ee){for(ge=e;"static"===k(ge,"position")&&"none"===k(ge,"transform")&&ge!==document;)ge=ge.parentNode;ge!==document.body&&ge!==document.documentElement?(ge===document&&(ge=E()),t.top+=ge.scrollTop,t.left+=ge.scrollLeft):ge=E(),_e=N(ge)}_(Y=J.cloneNode(!0),r.ghostClass,!1),_(Y,r.fallbackClass,!0),_(Y,r.dragClass,!0),k(Y,"transition",""),k(Y,"transform",""),k(Y,"box-sizing","border-box"),k(Y,"margin",0),k(Y,"top",t.top),k(Y,"left",t.left),k(Y,"width",t.width),k(Y,"height",t.height),k(Y,"opacity","0.8"),k(Y,"position",Ee?"absolute":"fixed"),k(Y,"zIndex","100000"),k(Y,"pointerEvents","none"),Fe.ghost=Y,e.appendChild(Y),k(Y,"transform-origin",de/parseInt(Y.style.width)*100+"% "+pe/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,n=e.dataTransfer,o=r.options;z("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(z("setupClone",this),Fe.eventCanceled||((Q=L(J)).draggable=!1,Q.style["will-change"]="",this._hideClone(),_(Q,this.options.chosenClass,!1),Fe.clone=Q),r.cloneId=Ve((function(){z("clone",r),Fe.eventCanceled||(r.options.removeCloneOnHide||X.insertBefore(Q,J),r._hideClone(),H({sortable:r,name:"clone"}))})),!t&&_(J,o.dragClass,!0),t?(ye=!0,r._loopId=setInterval(r._emulateDragOver,50)):(g(document,"mouseup",r._onDrop),g(document,"touchend",r._onDrop),g(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(r,n,J)),m(document,"drop",r),k(J,"transform","translateZ(0)")),ve=!0,r._dragStartId=Ve(r._dragStarted.bind(r,t,e)),m(document,"selectstart",r),he=!0,p&&k(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,n,o,i=this.el,s=e.target,l=this.options,c=l.group,u=Fe.active,d=ie===c,p=l.sort,h=ae||u,b=this,f=!1;if(!ke){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=O(s,l.draggable,i,!0),P("dragOver"),Fe.eventCanceled)return f;if(J.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||b._ignoreWhileAnimating===s)return U(!1);if(ye=!1,u&&!l.disabled&&(d?p||(n=!X.contains(J)):ae===this||(this.lastPutMode=ie.checkPull(this,u,J,e))&&c.checkPut(this,u,J,e))){if(o="vertical"===this._getDirection(e,s),t=I(J),P("dragOverValid"),Fe.eventCanceled)return f;if(n)return $=X,L(),this._hideClone(),P("revert"),Fe.eventCanceled||(K?X.insertBefore(J,K):X.appendChild(J)),U(!0);var m=A(i,l.draggable);if(!m||function(e,t,r){var n=I(A(r.el,r.options.draggable)),o=10;return t?e.clientX>n.right+o||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+o}(e,o,this)&&!m.animated){if(m===J)return U(!1);if(m&&i===e.target&&(s=m),s&&(r=I(s)),!1!==Le(X,i,J,t,s,r,e,!!s))return L(),i.appendChild(J),$=i,W(),U(!0)}else if(s.parentNode===i){r=I(s);var g,v,y,j=J.parentNode!==i,w=!function(e,t,r){var n=r?e.left:e.top,o=r?e.right:e.bottom,i=r?e.width:e.height,a=r?t.left:t.top,s=r?t.right:t.bottom,l=r?t.width:t.height;return n===a||o===s||n+i/2===a+l/2}(J.animated&&J.toRect||t,s.animated&&s.toRect||r,o),S=o?"top":"left",x=T(s,"top","top")||T(J,"top","top"),E=x?x.scrollTop:void 0;if(be!==s&&(v=r[S],je=!1,we=!w&&l.invertSwap||j),0!==(g=function(e,t,r,n,o,i,a,s){var l=n?e.clientY:e.clientX,c=n?r.height:r.width,u=n?r.top:r.left,d=n?r.bottom:r.right,p=!1;if(!a)if(s&&me<c*o){if(!je&&(1===fe?l>u+c*i/2:l<d-c*i/2)&&(je=!0),je)p=!0;else if(1===fe?l<u+me:l>d-me)return-fe}else if(l>u+c*(1-o)/2&&l<d-c*(1-o)/2)return function(e){return C(J)<C(e)?1:-1}(t);if((p=p||a)&&(l<u+c*i/2||l>d-c*i/2))return l>u+c/2?1:-1;return 0}(e,s,r,o,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,be===s))){var M=C(J);do{M-=g,y=$.children[M]}while(y&&("none"===k(y,"display")||y===Y))}if(0===g||y===s)return U(!1);be=s,fe=g;var N=s.nextElementSibling,D=!1,B=Le(X,i,J,t,s,r,e,D=1===g);if(!1!==B)return 1!==B&&-1!==B||(D=1===B),ke=!0,setTimeout(Ue,30),L(),D&&!N?i.appendChild(J):s.parentNode.insertBefore(J,D?N:s),x&&F(x,0,E-x.scrollTop),$=J.parentNode,void 0===v||we||(me=Math.abs(v-I(s)[S])),W(),U(!0)}if(i.contains(J))return U(!1)}return!1}function P(l,c){z(l,b,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:n,dragRect:t,targetRect:r,canSort:p,fromSortable:h,target:s,completed:U,onMove:function(r,n){return Le(X,i,J,t,r,I(r),e,n)},changed:W},c))}function L(){P("dragOverAnimationCapture"),b.captureAnimationState(),b!==h&&h.captureAnimationState()}function U(t){return P("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(b),b!==h&&(_(J,ae?ae.options.ghostClass:u.options.ghostClass,!1),_(J,l.ghostClass,!0)),ae!==b&&b!==Fe.active?ae=b:b===Fe.active&&ae&&(ae=null),h===b&&(b._ignoreWhileAnimating=s),b.animateAll((function(){P("dragOverAnimationComplete"),b._ignoreWhileAnimating=null})),b!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===J&&!J.animated||s===i&&!s.animated)&&(be=null),l.dragoverBubble||e.rootEl||s===document||(J.parentNode[R]._isOutsideThisEl(e.target),!t&&Be(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function W(){re=C(J),oe=C(J,l.draggable),H({sortable:b,name:"change",toEl:i,newIndex:re,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",Be),g(document,"mousemove",Be),g(document,"touchmove",Be)},_offUpEvents:function(){var e=this.el.ownerDocument;g(e,"mouseup",this._onDrop),g(e,"touchend",this._onDrop),g(e,"pointerup",this._onDrop),g(e,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;re=C(J),oe=C(J,r.draggable),z("drop",this,{evt:e}),$=J&&J.parentNode,re=C(J),oe=C(J,r.draggable),Fe.eventCanceled||(ve=!1,we=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&k(document.body,"user-select",""),k(J,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(X===$||ae&&"clone"!==ae.lastPutMode)&&Q&&Q.parentNode&&Q.parentNode.removeChild(Q),J&&(this.nativeDraggable&&g(J,"dragend",this),Re(J),J.style["will-change"]="",he&&!ve&&_(J,ae?ae.options.ghostClass:this.options.ghostClass,!1),_(J,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==$?(re>=0&&(H({rootEl:$,name:"add",toEl:$,fromEl:X,originalEvent:e}),H({sortable:this,name:"remove",toEl:$,originalEvent:e}),H({rootEl:$,name:"sort",toEl:$,fromEl:X,originalEvent:e}),H({sortable:this,name:"sort",toEl:$,originalEvent:e})),ae&&ae.save()):re!==te&&re>=0&&(H({sortable:this,name:"update",toEl:$,originalEvent:e}),H({sortable:this,name:"sort",toEl:$,originalEvent:e})),Fe.active&&(null!=re&&-1!==re||(re=te,oe=ne),H({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){z("nulling",this),X=J=$=Y=K=Q=Z=ee=se=le=he=re=oe=te=ne=be=fe=ae=ie=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,n=0,o=r.length,i=this.options;n<o;n++)O(e=r[n],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||We(e));return t},sort:function(e,t){var r={},n=this.el;this.toArray().forEach((function(e,t){var o=n.children[t];O(o,this.options.draggable,n,!1)&&(r[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(n.removeChild(r[e]),n.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var n=q.modifyOption(this,e,t);r[e]="undefined"!==typeof n?n:t,"group"===e&&Ce(r)},destroy:function(){z("destroy",this);var e=this.el;e[R]=null,g(e,"mousedown",this._onTapStart),g(e,"touchstart",this._onTapStart),g(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(e,"dragover",this),g(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(z("hideClone",this),Fe.eventCanceled)return;k(Q,"display","none"),this.options.removeCloneOnHide&&Q.parentNode&&Q.parentNode.removeChild(Q),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(z("showClone",this),Fe.eventCanceled)return;J.parentNode!=X||this.options.group.revertClone?K?X.insertBefore(Q,K):X.appendChild(Q):X.insertBefore(Q,J),this.options.group.revertClone&&this.animate(J,Q),k(Q,"display",""),ee=!1}}else this._hideClone()}},xe&&m(document,"touchmove",(function(e){(Fe.active||ve)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:m,off:g,css:k,find:x,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:P,closest:O,toggleClass:_,clone:L,index:C,nextTick:Ve,cancelNextTick:qe,detectDirection:Ae,getChild:M},Fe.get=function(e){return e[R]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=a({},Fe.utils,e.utils)),q.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.13.0";var Ge,ze,He,Je,$e,Ye,Xe=[],Ke=!1;function Ze(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function Qe(){clearInterval(Ye)}var et=P((function(e,t,r,n){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=E(),u=!1;ze!==r&&(ze=r,Ze(),Ge=t.scroll,o=t.scrollFn,!0===Ge&&(Ge=D(r,!0)));var d=0,p=Ge;do{var h=p,b=I(h),f=b.top,m=b.bottom,g=b.left,v=b.right,y=b.width,O=b.height,j=void 0,w=void 0,_=h.scrollWidth,S=h.scrollHeight,x=k(h),T=h.scrollLeft,M=h.scrollTop;h===c?(j=y<_&&("auto"===x.overflowX||"scroll"===x.overflowX||"visible"===x.overflowX),w=O<S&&("auto"===x.overflowY||"scroll"===x.overflowY||"visible"===x.overflowY)):(j=y<_&&("auto"===x.overflowX||"scroll"===x.overflowX),w=O<S&&("auto"===x.overflowY||"scroll"===x.overflowY));var A=j&&(Math.abs(v-i)<=s&&T+y<_)-(Math.abs(g-i)<=s&&!!T),C=w&&(Math.abs(m-a)<=s&&M+O<S)-(Math.abs(f-a)<=s&&!!M);if(!Xe[d])for(var N=0;N<=d;N++)Xe[N]||(Xe[N]={});Xe[d].vx==A&&Xe[d].vy==C&&Xe[d].el===h||(Xe[d].el=h,Xe[d].vx=A,Xe[d].vy=C,clearInterval(Xe[d].pid),0==A&&0==C||(u=!0,Xe[d].pid=setInterval(function(){n&&0===this.layer&&Fe.active._onTouchMove($e);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,r=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"===typeof o&&"continue"!==o.call(Fe.dragged.parentNode[R],r,t,e,$e,Xe[this.layer].el)||F(Xe[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=D(p,!1)));Ke=u}}),30),tt=function(e){var t=e.originalEvent,r=e.putSortable,n=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=r||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(i("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function rt(){}function nt(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=M(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:tt},i(rt,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:tt},i(nt,{pluginName:"removeOnSpill"});Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),Qe(),Ze(),clearTimeout(j),j=void 0},nulling:function(){$e=ze=Ge=Ke=Ye=He=Je=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,n=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(n,o);if($e=e,t||u||c||p){et(e,this.options,i,t);var a=D(i,!0);!Ke||Ye&&n===He&&o===Je||(Ye&&Qe(),Ye=setInterval((function(){var i=D(document.elementFromPoint(n,o),!0);i!==a&&(a=i,Ze()),et(e,r.options,i,t)}),10),He=n,Je=o)}else{if(!this.options.bubbleScroll||D(i,!0)===E())return void Ze();et(e,this.options,D(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(nt,rt),t.a=Fe},978:function(e,t,r){"use strict";var n=r(79),o=(r(77),r(86)),i=r(78),a=r(85),s=r(82),l=r(92),c=r(81),u=r(91),d=r(88),p=r(80),h=(r(83),r(84),r(206)),b=r(90),f=r(192),m=r(94),g=r(155),v=r(105),y=r(152),O=r(228),j=r(156),w=r(180),_=r(464),k=r(232),S=r(568),x=r(616),E=r(915),I=r(505),T=r(179),M=r(108),A=r(671),C=r(181),N=r(651),D=r(87);let B=class extends D.a{constructor(e){super(e),this.layerId=null,this.facilityIdField=null,this.siteIdField=null,this.nameField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"facilityIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"siteIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"nameField",void 0),B=Object(n.a)([Object(c.a)("esri.layers.support.FacilityLayerInfo")],B);var P=B;let F=class extends D.a{constructor(e){super(e),this.layerId=null,this.levelIdField=null,this.facilityIdField=null,this.longNameField=null,this.shortNameField=null,this.levelNumberField=null,this.verticalOrderField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"levelIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"facilityIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"longNameField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"shortNameField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"levelNumberField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],F.prototype,"verticalOrderField",void 0),F=Object(n.a)([Object(c.a)("esri.layers.support.LevelLayerInfo")],F);var L=F;let R=class extends D.a{constructor(e){super(e),this.layerId=null,this.siteIdField=null,this.nameField=null}};Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"layerId",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"siteIdField",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"nameField",void 0),R=Object(n.a)([Object(c.a)("esri.layers.support.SiteLayerInfo")],R);var U=R;let W=class extends D.a{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};Object(n.a)([Object(s.b)({type:L,json:{write:!0,origins:{"web-scene":{write:!1}}}})],W.prototype,"levelLayer",void 0),Object(n.a)([Object(s.b)({type:P,json:{write:!0,origins:{"web-scene":{write:!1}}}})],W.prototype,"facilityLayer",void 0),Object(n.a)([Object(s.b)({type:U,json:{write:!0,origins:{"web-scene":{write:!1}}}})],W.prototype,"siteLayer",void 0),W=Object(n.a)([Object(c.a)("esri.support.MapFloorInfo")],W);var V,q=W,G=r(539),z=r(89);let H=V=class extends D.a{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new V(Object(z.a)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};Object(n.a)([Object(s.b)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],H.prototype,"activeRange",void 0),Object(n.a)([Object(s.b)({type:[Number],json:{write:!0}})],H.prototype,"currentRangeExtent",void 0),Object(n.a)([Object(s.b)({type:[Number],json:{write:!0}})],H.prototype,"fullRangeExtent",void 0),H=V=Object(n.a)([Object(c.a)("esri.webdoc.RangeInfo")],H);var J,$=H;let Y=J=class extends D.a{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new J(Object(z.a)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Y.prototype,"enabled",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Y.prototype,"longNames",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Y.prototype,"minimized",void 0),Object(n.a)([Object(s.b)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Y.prototype,"pinnedLevels",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Y.prototype,"site",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Y.prototype,"facility",void 0),Object(n.a)([Object(s.b)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Y.prototype,"level",void 0),Y=J=Object(n.a)([Object(c.a)("esri.webdoc.widgets.FloorFilter")],Y);var X,K=Y;const Z=new(r(95).a)({slider:"slider",picker:"picker"});let Q=X=class extends D.a{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new X({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};Object(n.a)([Object(s.b)({type:Z.apiValues,nonNullable:!0,json:{type:Z.jsonValues,default:null,read:{reader:Z.read},write:{isRequired:!0,writer:Z.write}}})],Q.prototype,"interactionMode",void 0),Object(n.a)([Object(s.b)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],Q.prototype,"numStops",void 0),Object(n.a)([Object(s.b)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],Q.prototype,"stopInterval",void 0),Q=X=Object(n.a)([Object(c.a)("esri.webdoc.widgets.Range")],Q);var ee,te=Q,re=r(120),ne=r(162),oe=r(223);let ie=ee=class extends D.a{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,r=null!=e[1]?new Date(e[1]):null;return new ne.a({start:t,end:r})}writeCurrentTimeExtent(e,t,r){e&&Object(re.c)(r,[e.start?e.start.getTime():null,e.end?e.end.getTime():null],t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const n=null!=r.endTime?new Date(r.endTime):null,o=null!=r.startTime?new Date(r.startTime):null;return new ne.a({start:o,end:n})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},n=e.end,o=e.start;n&&(r.endTime=n?n.getTime():null),o&&(r.startTime=o?o.getTime():null)}readStopInterval(e,t,r){return e?oe.a.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,r,n){if(!e)return;const o=e.toJSON(n);Object(re.c)(r,{interval:o.value,units:o.unit},t)}readStops(e){return e&&e.length?e.map((e=>new Date(e))):null}writeStops(e,t,r){e&&e.length&&Object(re.c)(r,e.map((e=>e.getTime())),t)}clone(){return new ee(Object(z.a)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};Object(n.a)([Object(s.b)({type:ne.a,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],ie.prototype,"currentTimeExtent",void 0),Object(n.a)([Object(l.a)("currentTimeExtent")],ie.prototype,"readCurrentTimeExtent",null),Object(n.a)([Object(u.a)("currentTimeExtent")],ie.prototype,"writeCurrentTimeExtent",null),Object(n.a)([Object(s.b)({type:ne.a,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],ie.prototype,"fullTimeExtent",void 0),Object(n.a)([Object(l.a)("fullTimeExtent")],ie.prototype,"readFullTimeExtent",null),Object(n.a)([Object(u.a)("fullTimeExtent")],ie.prototype,"writeFullTimeExtent",null),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],ie.prototype,"loop",void 0),Object(n.a)([Object(s.b)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var e;const t=!!this.stopInterval,r=!(null==(e=this.stops)||!e.length),n=!(t||r);return{enabled:n,isRequired:n}}}}})],ie.prototype,"numStops",void 0),Object(n.a)([Object(s.b)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],ie.prototype,"numThumbs",void 0),Object(n.a)([Object(s.b)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],ie.prototype,"stopDelay",void 0),Object(n.a)([Object(s.b)({type:oe.a,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){var e;const t=null!=this.numStops,r=!(null==(e=this.stops)||!e.length);return{enabled:!r,isRequired:!(t||r)}}}}})],ie.prototype,"stopInterval",void 0),Object(n.a)([Object(l.a)("stopInterval")],ie.prototype,"readStopInterval",null),Object(n.a)([Object(u.a)("stopInterval")],ie.prototype,"writeStopInterval",null),Object(n.a)([Object(s.b)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],ie.prototype,"stops",void 0),Object(n.a)([Object(l.a)("stops")],ie.prototype,"readStops",null),Object(n.a)([Object(u.a)("stops")],ie.prototype,"writeStops",null),ie=ee=Object(n.a)([Object(c.a)("esri.webdoc.widgets.TimeSlider")],ie);var ae,se=ie;let le=ae=class extends D.a{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new ae(Object(z.a)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};Object(n.a)([Object(s.b)({type:te,json:{write:!0}})],le.prototype,"range",void 0),Object(n.a)([Object(s.b)({type:se,json:{write:!0}})],le.prototype,"timeSlider",void 0),Object(n.a)([Object(s.b)({type:K,json:{write:!0}})],le.prototype,"floorFilter",void 0),le=ae=Object(n.a)([Object(c.a)("esri.webdoc.Widgets")],le);var ce=le;const ue={width:600,height:400},de=1.5;function pe(e){return{enabled:!(null==e||!e.length)}}var he,be=r(102),fe=r(236);let me=he=class extends D.a{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new he({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],me.prototype,"exactMatch",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],me.prototype,"name",void 0),Object(n.a)([Object(be.a)(fe.a)],me.prototype,"type",void 0),me=he=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchLayerField")],me);var ge,ve=me;let ye=ge=class extends D.a{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new ge(Object(z.a)({field:this.field,id:this.id,subLayer:this.subLayer}))}};Object(n.a)([Object(s.b)({type:ve,json:{write:{isRequired:!0}}})],ye.prototype,"field",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{isRequired:!0}}})],ye.prototype,"id",void 0),Object(n.a)([Object(s.b)({type:a.a,json:{write:!0}})],ye.prototype,"subLayer",void 0),ye=ge=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchLayer")],ye);var Oe,je=ye;let we=Oe=class extends D.a{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new Oe({exactMatch:this.exactMatch,type:this.type,name:this.name})}};Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],we.prototype,"exactMatch",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],we.prototype,"name",void 0),Object(n.a)([Object(be.a)(fe.a)],we.prototype,"type",void 0),we=Oe=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchTableField")],we);var _e,ke=we;let Se=_e=class extends D.a{constructor(e){super(e),this.field=null,this.id=null}clone(){return new _e(Object(z.a)({field:this.field,id:this.id}))}};Object(n.a)([Object(s.b)({type:ke,json:{write:{isRequired:!0}}})],Se.prototype,"field",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{isRequired:!0}}})],Se.prototype,"id",void 0),Se=_e=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.SearchTable")],Se);var xe,Ee=Se;const Ie=v.a.ofType(je),Te=v.a.ofType(Ee);let Me=xe=class extends D.a{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new Ie,this.tables=new Te}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,r){t[r]=!e}clone(){return new xe(Object(z.a)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Me.prototype,"addressSearchEnabled",void 0),Object(n.a)([Object(l.a)("addressSearchEnabled")],Me.prototype,"readAddressSearchEnabled",null),Object(n.a)([Object(u.a)("addressSearchEnabled")],Me.prototype,"writeAddressSearchEnabled",null),Object(n.a)([Object(s.b)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Me.prototype,"enabled",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],Me.prototype,"hintText",void 0),Object(n.a)([Object(s.b)({type:Ie,json:{write:{overridePolicy:pe},origins:{"web-scene":{write:{isRequired:!0}}}}})],Me.prototype,"layers",void 0),Object(n.a)([Object(s.b)({type:Te,json:{read:!0,write:{overridePolicy:pe},origins:{"web-scene":{read:!1,write:!1}}}})],Me.prototype,"tables",void 0),Me=xe=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.Search")],Me);var Ae,Ce=Me;let Ne=Ae=class extends D.a{constructor(e){super(e),this.search=null}clone(){return new Ae(Object(z.a)({search:this.search}))}};Object(n.a)([Object(s.b)({type:Ce,json:{write:!0}})],Ne.prototype,"search",void 0),Ne=Ae=Object(n.a)([Object(c.a)("esri.webdoc.applicationProperties.Viewing")],Ne);var De,Be=Ne;let Pe=De=class extends D.a{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new De(Object(z.a)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};Object(n.a)([Object(s.b)({json:{write:!0}})],Pe.prototype,"editing",void 0),Object(n.a)([Object(s.b)({json:{write:!0}})],Pe.prototype,"offline",void 0),Object(n.a)([Object(s.b)({type:Be,json:{write:!0}})],Pe.prototype,"viewing",void 0),Pe=De=Object(n.a)([Object(c.a)("esri.webmap.ApplicationProperties")],Pe);var Fe,Le=Pe,Re=r(872),Ue=r(761),We=r(93);let Ve=Fe=class extends We.a{constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null}clone(){return new Fe(Object(z.a)({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};Object(n.a)([Object(s.b)({type:Ue.a})],Ve.prototype,"background",void 0),Object(n.a)([Object(s.b)({type:$})],Ve.prototype,"rangeInfo",void 0),Object(n.a)([Object(s.b)({type:m.a})],Ve.prototype,"spatialReference",void 0),Object(n.a)([Object(s.b)({type:I.a})],Ve.prototype,"viewpoint",void 0),Ve=Fe=Object(n.a)([Object(c.a)("esri.webmap.InitialViewProperties")],Ve);var qe=Ve,Ge=r(588);class ze extends Ge.a{constructor(e,t){super(e,t,"webmap")}}const He=new ze(2,20),Je="Web Map",$e=v.a.ofType(Re.a),Ye=i.a.getLogger("esri.WebMap"),Xe=new Map;Xe.set("image/jpeg","jpeg"),Xe.set("image/jpg","jpg"),Xe.set("image/png","png"),Xe.set("image/gif","gif");const Ke="ArcGIS API for JavaScript",Ze="CollectorDisabled",Qe="Collector",et="Data Editing",tt="OfflineDisabled",rt="Offline",nt="Workforce Project",ot="Workforce Worker",it="Workforce Dispatcher",at="DeveloperBasemap",st=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((e=>e.toLowerCase()));let lt=class extends(Object(T.a)(j.a.LoadableMixin(Object(O.b)(E.a)))){constructor(e){super(e),this.applicationProperties=null,this.bookmarks=new $e,this.floorInfo=null,this.initialViewProperties=new qe,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){const e=this.portalItem;this.portalItem=null,null==e||e.destroy()}initialize(){if(this.when().catch((e=>{Ye.error("#load()","Failed to load web map",e)})),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(e){return void this.addResolvingPromise(Promise.reject(e))}this.read(t)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=Ke}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,t){e&&this._isAuthoringAppVersionSetByUser?t.authoringAppVersion=e:t.authoringAppVersion=y.d}readInitialViewProperties(e,t){var r;const n=new qe;t.background&&(n.background=Ue.a.fromJSON(t.background));const o=null==(r=t.initialState)?void 0:r.viewpoint;return o&&(o.rotation&&ze.parse(t.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===t.authoringApp&&(o.rotation*=-1),n.viewpoint=I.a.fromJSON(o)),t.mapRangeInfo&&(n.rangeInfo=$.fromJSON(t.mapRangeInfo)),t.spatialReference&&(n.spatialReference=m.a.fromJSON(t.spatialReference)),n}writeInitialViewProperties(e,t,r,n){if(!e)return;const o=e.background;o&&o.color&&(t.background=o.write(null,n)),e.viewpoint&&(t.initialState={viewpoint:e.viewpoint.write(null,n)}),e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(n)),e.spatialReference&&(t.spatialReference=e.spatialReference.write(null,n))}writeLayers(e,t,r,n){t[r]=this._writeLayers(e,n,"operational-layers")}readSourceVersion(e,t){const[r,n]=t.version.split(".");return new ze(parseInt(r,10),parseInt(n,10))}writeSourceVersion(e,t,r){t[r]=`${He.major}.${He.minor}`}writeTables(e,t,r,n){const o=this._writeLayers(e,n,"tables");o.length&&(t[r]=o)}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}load(e){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return Object(_.a)(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables)}))}read(e,t){t={...t,origin:"web-map"};const r=this._getAuthoringPropsState();Object(f.b)(this,e,(t=>super.read(e,t)),t),this._restoreAuthoringPropsFromState(r)}write(e,t){if("loaded"!==this.loadStatus){const e=new d.a("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Ye.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){e=e||{},this._validateItem(),await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),this._validateMap();const t=this.portalItem,r={origin:"web-map",messages:[],writtenProperties:[],url:t.itemUrl&&Object(p.J)(t.itemUrl),portal:t.portal||w.a.getDefault()},n=this.write(null,r);return this._validateJSONForWriting(r,e),await this._updateItemProperties(t),await this._updateItem(t,n,r),await this._updateItemThumbnail(),t}async saveAs(e,t){t=t||{};const r=this._getPortalItem(e);await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),this._validateMap();const n={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:r.portal},o=this.write(null,n);this._validateJSONForWriting(n,t),await this._updateItemPropertiesForSaveAs(r);const i=this._getThumbnailState();return await this._createItem(r,o,n,t),this._restoreThumbnailFromState(i),await this._updateItemThumbnail(),r}async updateFrom(e,t){const r=this._updateFromInternal(e,t);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){var t,r,n,o;const i=this.resourceInfo;return this._collectAllLayersJSON(Object(h.d)([null==i||null==(t=i.baseMap)?void 0:t.baseMapLayers,null==i?void 0:i.operationalLayers,null==(r=this.basemap)||null==(n=r.resourceInfo)||null==(o=n.data)?void 0:o.baseMapLayers])).find((t=>t.id===e.id))}_collectAllLayersJSON(e){return e.reduce(((e,t)=>(e.push(t),"GroupLayer"===t.layerType&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e)),[])}_writeLayers(e,t,r){return t={...t,layerContainerType:r},e.map((e=>Object(o.q)(Object(S.a)(e,"tables"===r?null:this.getLayerJSONFromResourceInfo(e),t)))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(e){return e.load().catch((e=>{throw new d.a("webmap:load-portal-item","Failed to load portal item",{error:e})})).then((()=>{if("Web Map"!==e.type)throw new d.a("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:e.type})})).then((()=>e.fetchData())).then((t=>(this.resourceInfo=t,this._readAndLoadFromJSON(t,{origin:"web-map",portal:e.portal||w.a.getDefault()})))).then((()=>this._computeInitialViewpoint()))}_readAndLoadFromJSON(e,t){const r=this._validateJSON(e);return this.read(r,t),this._loadFromJSON(r,t)}_validateJSON(e){const t=ze.parse(e.version||"","webmap");return He.validate(t),e.version=`${t.major}.${t.minor}`,e}_loadFromJSON(e,t){const n={context:{...t,layerContainerType:"operational-layers"}};return this.portalItem&&(n.context.portal=this.portalItem.portal||w.a.getDefault()),r.e(45).then(r.bind(null,860)).then((({populateOperationalLayers:t})=>{const r=[],o=e.operationalLayers;o&&o.length&&r.push(t(this.layers,o,n));const i={...n,context:{...n.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},a=e.tables;return a&&a.length&&r.push(t(this.tables,a,i)),Object(b.j)(r).then((()=>{}))}))}async _computeInitialViewpoint(){var e,t;let r=this.initialViewProperties;if(null==(e=r)||null==(t=e.viewpoint)?void 0:t.targetGeometry)return;const n=await this._getExtentFromItem();n&&(r=r?r.clone():new qe,r.viewpoint=new I.a,r.viewpoint.targetGeometry=n,this.initialViewProperties=r)}async _getExtentFromItem(){var e,t;const n=null==(e=this.initialViewProperties)?void 0:e.spatialReference,o=null==(t=this.portalItem)?void 0:t.extent;return n&&o?n.isWGS84?o.clone():n.isWebMercator?Object(g.b)(o):(await r.e(31).then(r.bind(null,1008))).create(this.portalItem).then((e=>{const t=new G.a;return t.geometries=[o],t.outSpatialReference=n,e.project(t)})).then((e=>e[0])).catch((e=>(Ye.error("Error projecting item's extent:",e),null))):null}_removeDanglingLayerRefs(){const e=this.applicationProperties,t=e&&e.viewing&&e.viewing.search,r=e=>!!this.allLayers.find((t=>t.id===e));t&&t.layers&&(t.layers=t.layers.filter((e=>r(e.id)))),t&&t.tables&&(t.tables=t.tables.filter((e=>!!this.tables.find((t=>t.id===e.id)))));const n=e&&e.editing&&e.editing.locationTracking;n&&n.info&&!r(n.info.layerId)&&(e.editing=null);const o=this.presentation&&this.presentation.slides;o&&o.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>r(e.id))))}))}_validateMap(){if(!this.basemap||!this.basemap.baseLayers.length)throw new d.a("webmap:save","Map does not have a valid basemap with a base layer.")}_validateItem(){if(!this.portalItem)throw Ye.error("save: requires the portalItem property to be set"),new d.a("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem)}_validateItemType(e){if(e.type!==Je)throw new d.a("webmap:portal-item-wrong-type",`Portal item needs to have type "${Je}"`)}_loadLayerContainers(){const e=[];return this.basemap&&e.push(this.basemap.load()),this.ground&&e.push(this.ground.load()),Object(b.j)(e).then((()=>{}))}_loadAllLayers(){const e=this._getAllLayersAndTables().map((e=>e.load()));return Object(b.j)(e).then((()=>{}))}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(e,t){let r=e.messages.filter((e=>"error"===e.type)).map((e=>new d.a(e.name,e.message,e.details)));if(t.ignoreUnsupported&&(r=r.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name))),r.length>0)throw new d.a("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}async _updateItemProperties(e){e.extent=await this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry),await this._updateTypeKeywords(e)}async _updateItemPropertiesForSaveAs(e){Object(N.c)(e,Ze),Object(N.c)(e,tt),Object(N.c)(e,nt),Object(N.c)(e,ot),Object(N.c)(e,it),Object(N.c)(e,"Offline Map Areas"),Object(N.c)(e,"FieldMapsDisabled"),await this._updateItemProperties(e)}async _getWGS84Extent(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return this._projectToWGS84(r)}async _projectToWGS84(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Object(g.e)(e);const n=await r.e(31).then(r.bind(null,1008)),o=await n.create(this.portalItem),i=new G.a;return i.geometries=[e],i.outSpatialReference=m.a.WGS84,(await o.project(i))[0]}async _updateTypeKeywords(e){Object(N.a)(e,Ke),await this._loadAllLayers(),this._evalCollectorKeyword(e),this._evalDataEditingKeyword(e),this._evalOfflineKeyword(e),this._evalDeveloperBasemapKeyword(e),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}_evalCollectorKeyword(e){Object(N.b)(e,Ze)||Object(N.b)(e,nt)||Object(N.b)(e,ot)||Object(N.b)(e,it)||!this._hasEditableFeatureLayer()?Object(N.c)(e,Qe):Object(N.a)(e,Qe)}_evalDataEditingKeyword(e){this._hasEditableFeatureLayer()?Object(N.a)(e,et):Object(N.c)(e,et)}_evalOfflineKeyword(e){!Object(N.b)(e,tt)&&this._isOfflineCapableMap()?Object(N.a)(e,rt):Object(N.c)(e,rt)}_evalDeveloperBasemapKeyword(e){Object(x.f)(this.basemap)?Object(N.a)(e,at):Object(N.c)(e,at)}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some((e=>e.loaded&&this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled))}_isFeatureServiceLayer(e){return!("feature"!==e.type||!e.source||"feature-layer"!==e.source.type)}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter((e=>"group"!==e.type)).every((e=>e.loaded&&this._isOfflineCapableLayer(e)))}_isOfflineCapableLayer(e){return this._isFeatureServiceLayer(e)&&e.capabilities.operations.supportsSync||("tile"===e.type||"vector-tile"===e.type)&&(e.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(e)||Object(x.g)(e))&&e.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(e){return"tile"===e.type&&Object(C.d)(e.url)&&st.some((t=>e.url.toLowerCase().indexOf("/"+t+"/")>-1))}async _updateItem(e,t,r){await e.update({data:t}),this._syncUpInstanceWithItem(e,t,r)}async _createItem(e,t,r,n){const o=this.portalItem,i=!!(o&&o.id&&o.portal.user),a=e.portal;if(await a._signIn(),!await this._canCopyItem(o,i,a))throw new d.a("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");await a.user.addItem({item:e,folder:n.folder,data:t}),this.portalItem=e,this._syncUpInstanceWithItem(e,t,r)}async _canCopyItem(e,t,r){return!(Object(o.k)(e)&&e.id&&e.typeKeywords&&e.typeKeywords.indexOf("useOnly")>-1)||e.portal.portalHostname===r.portalHostname&&(t||await e.reload(),"admin"===e.itemControl||"update"===e.itemControl)}_syncUpInstanceWithItem(e,t,r){T.b.prototype.read.call(this,{version:t.version,authoringApp:t.authoringApp,authoringAppVersion:t.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:e.itemUrl&&Object(p.J)(e.itemUrl)}),Object(A.a)(r),this.resourceInfo=t}async _updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}_getPortalItem(e){let t=k.default.from(e);return t.id&&(t=t.clone(),t.id=null),t.type||(t.type=Je),t.portal||(t.portal=w.a.getDefault()),this._validateItemType(t),t}async _updateFromInternal(e,t){t=t||{},await Object(M.l)(e,"ready"),this._updateInitialViewProperties(e,t),await this._updateThumbnailUrl(e,t)}_updateInitialViewProperties(e,t){var r;if(t.backgroundExcluded||(this.initialViewProperties.background=null==(r=e.background)?void 0:r.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),t.viewpointExcluded||(this.initialViewProperties.viewpoint=new I.a({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(const n of e.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(e){const t=e.center.clone().normalize(),r=e.extent.clone(),n=r.width/2;return r.xmin=t.x-n,r.xmax=t.x+n,r}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;const r=function(e,t){t=t||ue;let{width:r,height:n}=t;const o=r/n;return o<de?n=r/de:o>de&&(r=n*de),r>e.width&&(n*=e.width/r,r=e.width),n>e.height&&(r*=e.height/n,n=e.height),{width:Math.round(r),height:Math.round(n)}}(e,t.thumbnailSize),n=await e.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(n.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if(Object(p.u)(e)){const t=Object(p.i)(e),r=t&&t.mediaType,n=r&&Xe.get(r.toLowerCase())||null,o=`thumbnail${Date.now()}`;return n?`${o}.${n}`:o}return null}_getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:Object(p.d)(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}_restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(e){const t=e;if(!t)throw new d.a("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:t})}};lt.VERSION=He,Object(n.a)([Object(s.b)({type:Le,json:{write:!0}})],lt.prototype,"applicationProperties",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],lt.prototype,"authoringApp",null),Object(n.a)([Object(u.a)("authoringApp")],lt.prototype,"writeAuthoringApp",null),Object(n.a)([Object(s.b)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],lt.prototype,"authoringAppVersion",null),Object(n.a)([Object(u.a)("authoringAppVersion")],lt.prototype,"writeAuthoringAppVersion",null),Object(n.a)([Object(s.b)({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],lt.prototype,"basemap",void 0),Object(n.a)([Object(s.b)({type:$e,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],lt.prototype,"bookmarks",void 0),Object(n.a)([Object(s.b)({type:q,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],lt.prototype,"floorInfo",void 0),Object(n.a)([Object(s.b)({type:qe,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:Ue.a},"initialState.viewpoint":{type:I.a},mapRangeInfo:{type:$},spatialReference:{type:m.a}}}}})],lt.prototype,"initialViewProperties",void 0),Object(n.a)([Object(l.a)("initialViewProperties")],lt.prototype,"readInitialViewProperties",null),Object(n.a)([Object(u.a)("initialViewProperties")],lt.prototype,"writeInitialViewProperties",null),Object(n.a)([Object(s.b)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],lt.prototype,"layers",void 0),Object(n.a)([Object(u.a)("layers")],lt.prototype,"writeLayers",null),Object(n.a)([Object(s.b)({type:k.default})],lt.prototype,"portalItem",void 0),Object(n.a)([Object(s.b)({json:{write:!0}})],lt.prototype,"presentation",void 0),Object(n.a)([Object(s.b)()],lt.prototype,"resourceInfo",void 0),Object(n.a)([Object(s.b)({readOnly:!0,type:ze,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],lt.prototype,"sourceVersion",void 0),Object(n.a)([Object(l.a)("sourceVersion")],lt.prototype,"readSourceVersion",null),Object(n.a)([Object(u.a)("sourceVersion")],lt.prototype,"writeSourceVersion",null),Object(n.a)([Object(s.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],lt.prototype,"tables",void 0),Object(n.a)([Object(u.a)("tables")],lt.prototype,"writeTables",null),Object(n.a)([Object(s.b)()],lt.prototype,"thumbnailUrl",null),Object(n.a)([Object(s.b)({type:ce,json:{write:!0}})],lt.prototype,"widgets",void 0),lt=Object(n.a)([Object(c.a)("esri.WebMap")],lt);var ct=lt;t.a=ct}}]);
//# sourceMappingURL=89.48379a50.chunk.js.map