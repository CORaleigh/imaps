(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[11],{1e3:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));class n{constructor(t,e,i){this.editGeometry=t,this.vertices=e,this.operation=i,this.undone=!1}apply(){this.vertices.forEach((t=>this.operation.apply(t))),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:this.undone?"redo":"apply",updatedVertices:this.vertices})}undo(){this.vertices.forEach((t=>this.operation.undo(t))),this.editGeometry.notifyChanges({operation:"undo",updatedVertices:this.vertices}),this.undone=!0}canAccumulate(t){if(this.undone||t.vertices.length!==this.vertices.length)return!1;for(let e=0;e<t.vertices.length;++e)if(t.vertices[e]!==this.vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(t){return!!(t instanceof n&&this.canAccumulate(t))&&(this.vertices.forEach((e=>this.operation.accumulate(e,t.operation))),this.operation.accumulateParams(t.operation),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:"apply",updatedVertices:this.vertices}),!0)}}var r;!function(t){t[t.CUMULATIVE=0]="CUMULATIVE",t[t.REPLACE=1]="REPLACE"}(r||(r={}))},1145:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t[t.NEW_STEP=0]="NEW_STEP",t[t.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"}(n||(n={}))},1218:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t,e,i,n){this.helper=t,this.dx=e,this.dy=i,this.dz=n}_move(t,e,i,n){this.helper.addDelta(t.pos,e,i,n)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(t){return t instanceof n}accumulate(t,e){this._move(t,e.dx,e.dy,e.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}},1219:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return p}));var n=i(116),r=i(85),s=i(151),c=i(219),o=i(117),a=i(109),h=i(423),u=i(526),d=i(740);class l{constructor(t,e,i,n=0,r=g.IMMEDIATE){this.helper=t,this.planeType=e,this.edge=i,this.distance=n,this._plane=Object(h.d)(),this._offsetPlane=Object(h.d)(),this._minDistance=-1/0,this._maxDistance=1/0,r===g.IMMEDIATE&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var t,e,i,n;const r=this._toXYZ(this.edge.leftVertex.pos),s=this._toXYZ(null==(t=this.edge.leftVertex.leftEdge)||null==(e=t.leftVertex)?void 0:e.pos),c=this._toXYZ(this.edge.rightVertex.pos),h=this._toXYZ(null==(i=this.edge.rightVertex.rightEdge)||null==(n=i.rightVertex)?void 0:n.pos);this._edgeDirection=Object(o.v)(Object(a.f)(),r,c),this._left=this._computeNeighbor(r,s,this._edgeDirection),this._right=this._computeNeighbor(c,h,this._edgeDirection)}_toXYZ(t){return Object(r.k)(t)?this.helper.toXYZ(t):null}_computeNeighbor(t,e,i){if(Object(r.j)(e))return{start:t,end:e,direction:Object(a.h)(-i[1],i[0],0),isOriginalDirection:!0};const n=Object(o.v)(Object(a.f)(),t,e),s=!this._passesBisectingAngleThreshold(n,i);return{start:t,end:e,direction:s?this._bisectVectorsPerpendicular(i,n):n,isOriginalDirection:!s}}_passesBisectingAngleThreshold(t,e){const i=Math.abs(Object(u.a)(e,t));return i>=f&&i<=Math.PI-f}_bisectVectorsPerpendicular(t,e){const i=Object(o.h)(t,e)<0?t:Object(o.s)(Object(a.f)(),t),n=Math.abs(Object(o.h)(i,e));if(!(n<.001||n>.999))return this._bisectDirection(i,e);const r=Object(o.g)(Object(a.f)(),i,[0,0,1]);return Object(o.r)(r,r)}_bisectDirection(t,e){const i=Object(o.f)(Object(a.f)(),t,e);return Object(o.r)(i,i)}_initializePlane(){const t=this._computeNormalDirection(this._left),e=this._computeNormalDirection(this._right);Object(o.h)(t,e)<0&&Object(o.s)(e,e),Object(h.g)(this._left.start,this._bisectDirection(t,e),this._plane)}_computeNormalDirection(t){const e=Object(o.g)(Object(a.f)(),t.direction,this._edgeDirection);Object(o.r)(e,e);const i=Object(o.g)(Object(a.f)(),this._edgeDirection,e);return this.planeType===p.XY&&(i[2]=0),Object(o.r)(i,i)}_initializeDistanceConstraints(){Object(r.k)(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(Object(h.t)(this._plane,this._left.end)),Object(r.k)(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(Object(h.t)(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const e=Object(h.q)(t),i=this._edgeDirection,n=Object(o.f)(Object(a.f)(),this._left.start,this._left.direction),r=Object(o.f)(Object(a.f)(),this._right.start,this._right.direction),u=this._pointInBasis2D(Object(c.a)(),e,i,this._left.start),l=this._pointInBasis2D(Object(c.a)(),e,i,n),f=this._pointInBasis2D(Object(c.a)(),e,i,this._right.start),p=this._pointInBasis2D(Object(c.a)(),e,i,r),[g]=Object(d.d)({start:l,end:u,type:d.a.LINE},{start:p,end:f,type:d.a.LINE});if(!g)return;const b=Object(s.f)(Object(c.a)(),u,l);Object(s.i)(b,b);const m=Object(s.f)(Object(c.a)(),g,l),j=Object(s.k)(b,m),O=Object(o.f)(Object(a.f)(),n,Object(o.e)(Object(a.f)(),this._left.direction,-j)),_=Object(h.t)(t,O);this._updateDistanceConstraint(_)}_pointInBasis2D(t,e,i,n){return t[0]=Object(u.d)(e,n),t[1]=Object(u.d)(i,n),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),Object(h.c)(this._offsetPlane,this._plane),this._offsetPlane[3]-=e;const i=(t,e,i)=>Object(r.k)(e)&&Object(h.j)(this._offsetPlane,t,Object(o.f)(Object(a.f)(),t,e),i),n=Object(a.f)();(t===this.edge.leftVertex?i(this._left.start,this._left.direction,n):i(this._right.start,this._right.direction,n))&&this.helper.copy(this.helper.fromXYZ(n,void 0,this.helper.getM(t.pos)),t.pos)}signedDistanceToPoint(t){return Object(h.t)(this.plane,this.helper.toXYZ(this.helper.pointToVector(t)))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof l&&this.edge.leftVertex.index===t.edge.leftVertex.index&&this.edge.rightVertex.index===t.edge.rightVertex.index&&this.edge.component===t.edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&Object(o.C)(Object(h.q)(this._plane),Object(h.q)(t._plane))}accumulate(t,e){const i=this._plane[3]-e._plane[3]+e.distance;this._offset(t,i)}accumulateParams(t){const e=t.distance-t._plane[3];this.distance=e+this._plane[3]}clone(){const t=new l(this.helper,this.planeType,this.edge,this.distance,g.DEFERRED);return Object(h.c)(t._plane,this._plane),Object(h.c)(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=Object(o.k)(Object(a.f)(),this._edgeDirection),t}_maybeEqualsVec3(t,e){return Object(r.j)(t)&&Object(r.j)(e)||Object(r.k)(t)&&Object(r.k)(e)&&Object(o.C)(t,e)}_cloneNeighbor({start:t,end:e,direction:i,isOriginalDirection:n}){return{start:Object(o.k)(Object(a.f)(),t),end:Object(r.k)(e)?Object(o.k)(Object(a.f)(),e):null,direction:Object(o.k)(Object(a.f)(),i),isOriginalDirection:n}}}const f=Object(n.g)(15);var p,g,b;(b=p||(p={}))[b.XYZ=0]="XYZ",b[b.XY=1]="XY",function(t){t[t.IMMEDIATE=0]="IMMEDIATE",t[t.DEFERRED=1]="DEFERRED"}(g||(g={}))},1220:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i(84),r=i(151),s=i(1e3);class c{constructor(t,e,i=s.a.CUMULATIVE){this.origin=t,this.angle=e,this.accumulationType=i}_rotate(t,e){Object(r.r)(t.pos,t.pos,this.origin,e)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(t){return t instanceof c&&Object(n.c)(this.origin,t.origin)}accumulate(t,e){const i=e.accumulationType===s.a.REPLACE;this._rotate(t,i?e.angle-this.angle:e.angle)}accumulateParams(t){const e=t.accumulationType===s.a.REPLACE;this.angle=e?t.angle:this.angle+t.angle}}},1221:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(84),r=i(219),s=i(151),c=i(1e3);class o{constructor(t,e,i,n,s=c.a.CUMULATIVE){this.origin=t,this.axis1=e,this.factor1=i,this.factor2=n,this.accumulationType=s,this.axis2=Object(r.e)(e[1],-e[0])}_scale(t,e,i){Object(s.q)(t.pos,t.pos,this.origin,this.axis1,e),Object(s.q)(t.pos,t.pos,this.origin,this.axis2,i)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(t){return t instanceof o&&Object(n.c)(this.origin,t.origin)&&Object(n.c)(this.axis1,t.axis1)}accumulate(t,e){e.accumulationType===c.a.REPLACE?this._scale(t,e.factor1/this.factor1,e.factor2/this.factor2):this._scale(t,e.factor1,e.factor2)}accumulateParams(t){const e=t.accumulationType===c.a.REPLACE;this.factor1=e?t.factor1:this.factor1*t.factor1,this.factor2=e?t.factor2:this.factor2*t.factor2}}},200:function(t,e,i){"use strict";function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function s(t,e,i,n,r,s,c,o,a,h,u,d,l,f,p,g){return[t,e,i,n,r,s,c,o,a,h,u,d,l,f,p,g]}function c(t,e){return new Float64Array(t,e,16)}i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return s}));const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:c,IDENTITY:o})},257:function(t,e,i){"use strict";function n(){return[0,0,0,0]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e,i,n){return[t,e,i,n]}function c(t){const e=[0,0,0,0],i=Math.min(4,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function o(t,e){return new Float64Array(t,e,4)}function a(){return[0,0,0,0]}function h(){return s(1,1,1,1)}function u(){return s(1,0,0,0)}function d(){return s(0,1,0,0)}function l(){return s(0,0,1,0)}function f(){return s(0,0,0,1)}i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return s}));const p=[0,0,0,0],g=h(),b=u(),m=d(),j=l(),O=f();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,fromArray:c,createView:o,zeros:a,ones:h,unitX:u,unitY:d,unitZ:l,unitW:f,ZEROS:p,ONES:g,UNIT_X:b,UNIT_Y:m,UNIT_Z:j,UNIT_W:O})},272:function(t,e,i){"use strict";var n;function r(t){return t===n.Global?"global":"local"}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"}(n||(n={}))},288:function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return g}));var n=i(409),r=i(337),s=i(367),c=i(200),o=i(462),a=i(219),h=i(109),u=i(257);class d{constructor(t,e,i){this.itemByteSize=t,this.itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(i/this.itemByteSize)}get(){0===this._itemsPtr&&Object(r.a)((()=>this._reset()));const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this.itemCreate(t,e*this.itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(t=l){return new d(16,a.c,t)}static createVec3f64(t=l){return new d(24,h.e,t)}static createVec4f64(t=l){return new d(32,u.c,t)}static createMat3f64(t=l){return new d(72,s.a,t)}static createMat4f64(t=l){return new d(128,c.b,t)}static createQuatf64(t=l){return new d(32,o.d,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const l=4*n.a.KILOBYTES,f=d.createVec2f64(),p=d.createVec3f64(),g=d.createVec4f64(),b=(d.createMat3f64(),d.createMat4f64()),m=d.createQuatf64()},360:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return a}));i(84);var n=i(485),r=i(117),s=i(109),c=i(288);function o(t){return t?{origin:Object(s.d)(t.origin),direction:Object(s.d)(t.direction)}:{origin:Object(s.f)(),direction:Object(s.f)()}}function a(t,e){const i=p.get();return i.origin=t,i.direction=e,i}function h(t,e=o()){return d(t.origin,t.direction,e)}function u(t,e,i=o()){return Object(r.k)(i.origin,t),Object(r.j)(i.direction,e,t),i}function d(t,e,i=o()){return Object(r.k)(i.origin,t),Object(r.k)(i.direction,e),i}function l(t,e){const i=Object(r.g)(c.d.get(),Object(r.r)(c.d.get(),t.direction),Object(r.j)(c.d.get(),e,t.origin));return Object(r.h)(i,i)}function f(t,e,i){const n=Object(r.h)(t.direction,Object(r.j)(i,e,t.origin));return Object(r.f)(i,t.origin,Object(r.e)(i,t.direction,n)),i}const p=new n.a((function(){return{origin:null,direction:null}}))},367:function(t,e,i){"use strict";function n(){return[1,0,0,0,1,0,0,0,1]}function r(t,e){return new Float64Array(t,e,9)}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},fromValues:function(t,e,i,n,r,s,c,o,a){return[t,e,i,n,r,s,c,o,a]},createView:r})},423:function(t,e,i){"use strict";i.d(e,"a",(function(){return A})),i.d(e,"b",(function(){return I})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return d})),i.d(e,"i",(function(){return v})),i.d(e,"j",(function(){return V})),i.d(e,"k",(function(){return T})),i.d(e,"l",(function(){return M})),i.d(e,"m",(function(){return E})),i.d(e,"n",(function(){return w})),i.d(e,"o",(function(){return P})),i.d(e,"p",(function(){return y})),i.d(e,"q",(function(){return z})),i.d(e,"r",(function(){return D})),i.d(e,"s",(function(){return x})),i.d(e,"t",(function(){return C})),i.d(e,"u",(function(){return h}));var n=i(116),r=i(85),s=i(117),c=i(109),o=(i(498),i(288));function a(t=N){return[t[0],t[1],t[2],t[3]]}function h(t,e,i,n){return d(t,e,i,n,o.e.get())}function u(t,e){return d(e[0],e[1],e[2],e[3],t)}function d(t,e,i,n,r=a()){return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}function l(t,e,i){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return i[0]=e[0]*r,i[1]=e[1]*r,i[2]=e[2]*r,i[3]=-(i[0]*t[0]+i[1]*t[1]+i[2]*t[2]),i}function f(t,e,i,n=a()){const r=i[0]-e[0],s=i[1]-e[1],c=i[2]-e[2],o=t[0]-e[0],h=t[1]-e[1],u=t[2]-e[2],d=s*u-c*h,l=c*o-r*u,f=r*h-s*o,p=d*d+l*l+f*f,g=Math.abs(p-1)>1e-5&&p>1e-12?1/Math.sqrt(p):1;n[0]=d*g,n[1]=l*g,n[2]=f*g,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2])}function p(t,e,i,n,r){if(t.count<3)return!1;t.getVec(i,b);let c=n,o=!1;for(;c<t.count-1&&!o;)t.getVec(c,m),c++,o=!Object(s.o)(b,m);if(!o)return!1;for(c=Math.max(c,r),o=!1;c<t.count&&!o;)t.getVec(c,j),c++,Object(s.j)(O,b,m),Object(s.r)(O,O),Object(s.j)(_,m,j),Object(s.r)(_,_),o=!Object(s.o)(b,j)&&!Object(s.o)(m,j)&&Math.abs(Object(s.h)(O,_))<g;return o?(f(b,m,j,e),!0):(0!==i||1!==n||2!==r)&&p(t,e,0,1,2)}const g=.99619469809,b=Object(c.f)(),m=Object(c.f)(),j=Object(c.f)(),O=Object(c.f)(),_=Object(c.f)();function x(t,e,i){return e!==t&&u(t,e),t[3]=-Object(s.h)(t,i),t}function y(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function v(t,e,i,n){return Object(s.g)(j,e,t),l(i,j,n)}function V(t,e,i,n){return R(t,e,Object(s.j)(o.d.get(),i,e),S,n)}function E(t,e,i){return!!Object(r.k)(e)&&R(t,e.origin,e.direction,X,i)}function T(t,e,i){return R(t,e.origin,e.vector,Z.NONE,i)}function M(t,e,i){return R(t,e.origin,e.vector,Z.CLAMP,i)}function P(t,e){return C(t,e)>=0}function w(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],c=e[4],o=e[5];return t[0]*(t[0]>0?i:s)+t[1]*(t[1]>0?n:c)+t[2]*(t[2]>0?r:o)+t[3]>=0}function A(t,e){const i=Object(s.h)(t,e.ray.direction),n=-C(t,e.ray.origin);if(n<0&&i>=0)return!1;if(i>-1e-6&&i<1e-6)return n>0;if((n<0||i<0)&&!(n<0&&i<0))return!0;const r=n/i;return i>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function I(t,e){const i=Object(s.h)(t,e.ray.direction),n=-C(t,e.ray.origin);if(i>-1e-6&&i<1e-6)return n>0;const r=n/i;return i>0?r<e.c1&&(e.c1=r):r>e.c0&&(e.c0=r),e.c0<=e.c1}function D(t,e,i){const n=Object(s.e)(o.d.get(),t,-t[3]),r=function(t,e,i){const n=Object(s.e)(o.d.get(),t,Object(s.h)(t,e));return Object(s.j)(i,e,n),i}(t,Object(s.j)(o.d.get(),e,n),o.d.get());return Object(s.f)(i,r,n),i}function C(t,e){return Object(s.h)(t,e)+t[3]}function R(t,e,i,r,c){const o=Object(s.h)(t,i);if(0===o)return!1;let a=-(Object(s.h)(t,e)+t[3])/o;return r&Z.CLAMP&&(a=Object(n.e)(a,0,1)),!(!(r&Z.INFINITE_MIN)&&a<0||!(r&Z.INFINITE_MAX)&&a>1)&&(Object(s.f)(c,e,Object(s.e)(c,i,a)),!0)}function z(t){return t}const N=[0,0,1,0];var Z,k;(k=Z||(Z={}))[k.NONE=0]="NONE",k[k.CLAMP=1]="CLAMP",k[k.INFINITE_MIN=4]="INFINITE_MIN",k[k.INFINITE_MAX=8]="INFINITE_MAX";const S=Z.INFINITE_MIN|Z.INFINITE_MAX,X=Z.INFINITE_MAX},462:function(t,e,i){"use strict";function n(){return[0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e){return new Float64Array(t,e,4)}i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return s}));const c=[0,0,0,1];Object.freeze({__proto__:null,create:n,clone:r,fromValues:function(t,e,i,n){return[t,e,i,n]},createView:s,IDENTITY:c})},485:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(337);class r{constructor(t){this.allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&Object(n.a)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this.allocator())}}const s=1024},498:function(t,e,i){"use strict";i.d(e,"a",(function(){return O})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return b})),i.d(e,"d",(function(){return y})),i.d(e,"e",(function(){return x})),i.d(e,"f",(function(){return E})),i.d(e,"g",(function(){return R})),i.d(e,"h",(function(){return j}));i(82);var n=i(87),r=i(116),s=i(85),c=i(147),o=i(117),a=i(109),h=i(271),u=i(257),d=i(584),l=i(360),f=i(526),p=i(288);const g=n.a.getLogger("esri.geometry.support.sphere");function b(){return Object(u.e)()}function m(t,e=b()){return Object(h.c)(e,t)}function j(t){return t}function O(t){t[0]=t[1]=t[2]=t[3]=0}function _(t){return Array.isArray(t)?t[3]:t}function x(t){return Array.isArray(t)?t:D}function y(t,e,i,n){return Object(u.g)(t,e,i,n)}function v(t,e,i){if(Object(s.j)(e))return!1;const{origin:n,direction:r}=e,c=V;c[0]=n[0]-t[0],c[1]=n[1]-t[1],c[2]=n[2]-t[2];const o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],a=2*(r[0]*c[0]+r[1]*c[1]+r[2]*c[2]),h=a*a-4*o*(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]-t[3]*t[3]);if(h<0)return!1;const u=Math.sqrt(h);let d=(-a-u)/(2*o);const l=(-a+u)/(2*o);return(d<0||l<d&&l>0)&&(d=l),!(d<0)&&(i&&(i[0]=n[0]+r[0]*d,i[1]=n[1]+r[1]*d,i[2]=n[2]+r[2]*d),!0)}const V=Object(a.f)();function E(t,e){return v(t,e,null)}function T(t,e,i){const n=p.d.get(),r=p.a.get();Object(o.g)(n,e.origin,e.direction);const s=_(t);Object(o.g)(i,n,e.origin),Object(o.e)(i,i,1/Object(o.p)(i)*s);const a=P(t,e.origin),h=Object(f.a)(e.origin,i);return Object(c.d)(r,h+a,n),Object(o.q)(i,i,r),i}function M(t,e,i){const n=Object(o.j)(p.d.get(),e,x(t)),r=Object(o.e)(p.d.get(),n,t[3]/Object(o.p)(n));return Object(o.f)(i,r,x(t))}function P(t,e){const i=Object(o.j)(p.d.get(),e,x(t)),n=Object(o.p)(i),s=_(t),c=s+Math.abs(s-n);return Object(r.b)(s/c)}const w=Object(a.f)();function A(t,e,i,n){const s=Object(o.j)(w,e,x(t));switch(i){case d.a.X:{const t=Object(r.d)(s,w)[2];return Object(o.w)(n,-Math.sin(t),Math.cos(t),0)}case d.a.Y:{const t=Object(r.d)(s,w),e=t[1],i=t[2],c=Math.sin(e);return Object(o.w)(n,-c*Math.cos(i),-c*Math.sin(i),Math.cos(e))}case d.a.Z:return Object(o.r)(n,s);default:return}}function I(t,e){const i=Object(o.j)(C,e,x(t));return Object(o.p)(i)-t[3]}const D=Object(a.f)(),C=Object(a.f)(),R=Object.freeze({__proto__:null,create:b,copy:m,fromCenterAndRadius:function(t,e){return Object(u.g)(t[0],t[1],t[2],e)},wrap:j,clear:O,fromRadius:function(t){return t},getRadius:_,getCenter:x,fromValues:y,elevate:function(t,e,i){return t!==i&&Object(o.k)(i,t),i[3]=t[3]+e,i},setExtent:function(t,e,i){return g.error("sphere.setExtent is not yet supported"),t===i?i:m(t,i)},intersectRay:v,intersectsRay:E,intersectRayClosestSilhouette:function(t,e,i){if(v(t,e,i))return i;const n=T(t,e,p.d.get());return Object(o.f)(i,e.origin,Object(o.e)(p.d.get(),e.direction,Object(o.m)(e.origin,n)/Object(o.p)(e.direction))),i},closestPointOnSilhouette:T,closestPoint:function(t,e,i){return v(t,e,i)?i:(Object(l.a)(e,x(t),i),M(t,i,i))},projectPoint:M,distanceToSilhouette:function(t,e){const i=Object(o.j)(p.d.get(),e,x(t)),n=Object(o.t)(i),r=t[3]*t[3];return Math.sqrt(Math.abs(n-r))},angleToSilhouette:P,axisAt:A,altitudeAt:I,setAltitudeAt:function(t,e,i,n){const r=I(t,e),s=A(t,e,d.a.Z,C),c=Object(o.e)(C,s,i-r);return Object(o.f)(n,e,c)}})},526:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return o}));var n=i(116),r=i(117),s=i(109);function c(t,e,i){const n=Object(r.h)(t,e)/Object(r.h)(t,t);return Object(r.e)(i,t,n)}function o(t,e){return Object(r.h)(t,e)/Object(r.p)(t)}function a(t,e){const i=Object(r.h)(t,e)/(Object(r.p)(t)*Object(r.p)(e));return-Object(n.b)(i)}function h(t,e,i){Object(r.r)(u,t),Object(r.r)(d,e);const s=Object(r.h)(u,d),c=Object(n.b)(s),o=Object(r.g)(u,u,d);return Object(r.h)(o,i)<0?2*Math.PI-c:c}const u=Object(s.f)(),d=Object(s.f)()},584:function(t,e,i){"use strict";var n;i.d(e,"a",(function(){return n})),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(n||(n={}))},700:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return h}));var n=i(116),r=i(118),s=i(215),c=i(294);function o(t,e,i,n){if(null==n||t.hasZ||(n=void 0),"point"===t.type)return t.x+=e,t.y+=i,t.hasZ&&null!=n&&(t.z+=n),t;if("multipoint"===t.type){const r=t.points;for(let t=0;t<r.length;t++)r[t]=l(r[t],e,i,n);return t}if("extent"===t.type)return t.xmin+=e,t.xmax+=e,t.ymin+=i,t.ymax+=i,null!=n&&(t.zmin+=n,t.zmax+=n),t;const r=Object(c.b)(t),s="polyline"===t.type?t.paths:t.rings;for(let c=0;c<r.length;c++){const t=r[c];for(let r=0;r<t.length;r++)t[r]=l(t[r],e,i,n)}return"paths"in t?t.paths=s:t.rings=s,t}function a(t,e,i,n,r){const s=t.clone(),a=n.resolution;if("point"===s.type){if(r)o(s,e*a,-i*a);else{const t=n.state.transform,r=n.state.inverseTransform,c=t[0]*s.x+t[2]*s.y+t[4],o=t[1]*s.x+t[3]*s.y+t[5];s.x=r[0]*(c+e)+r[2]*(o+i)+r[4],s.y=r[1]*(c+e)+r[3]*(o+i)+r[5]}return s}if("multipoint"===s.type){if(r)o(s,e*a,-i*a);else{const t=s.points,r=n.state.transform,c=n.state.inverseTransform;for(let n=0;n<t.length;n++){const s=t[n],o=r[0]*s[0]+r[2]*s[1]+r[4],a=r[1]*s[0]+r[3]*s[1]+r[5],h=c[0]*(o+e)+c[2]*(a+i)+c[4],u=c[1]*(o+e)+c[3]*(a+i)+c[5];t[n]=f(s,h,u,void 0)}}return s}if("extent"===s.type){if(r)o(s,e*a,-i*a);else{const t=n.state.transform,r=n.state.inverseTransform,c=t[0]*s.xmin+t[2]*s.ymin+t[4],o=t[1]*s.xmin+t[3]*s.ymin+t[5],a=t[0]*s.xmax+t[2]*s.ymax+t[4],h=t[1]*s.xmax+t[3]*s.ymax+t[5];s.xmin=r[0]*(c+e)+r[2]*(o+i)+r[4],s.ymin=r[1]*(c+e)+r[3]*(o+i)+r[5],s.xmax=r[0]*(a+e)+r[2]*(h+i)+r[4],s.ymax=r[1]*(a+e)+r[3]*(h+i)+r[5]}return s}if(r)o(s,e*a,-i*a);else{const t=Object(c.b)(s),r="polyline"===s.type?s.paths:s.rings,o=n.state.transform,a=n.state.inverseTransform;for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++){const n=r[t],s=o[0]*n[0]+o[2]*n[1]+o[4],c=o[1]*n[0]+o[3]*n[1]+o[5],h=a[0]*(s+e)+a[2]*(c+i)+a[4],u=a[1]*(s+e)+a[3]*(c+i)+a[5];r[t]=f(n,h,u,void 0)}}"paths"in s?s.paths=r:s.rings=r}return s}function h(t,e,i,n){if("point"===t.type){const{x:r,y:s}=t,c=n?n[0]:r,o=n?n[1]:s,a=t.clone(),h=(r-c)*e+c,u=(s-o)*i+o;return a.x=h,a.y=u,a}if("multipoint"===t.type){const o=Object(c.b)(t),a=Object(r.l)(),[h,u,d,l]=Object(s.d)(a,[o]),p=n?n[0]:(h+d)/2,g=n?n[1]:(l+u)/2,b=t.clone(),m=b.points;for(let t=0;t<m.length;t++){const n=m[t],[r,s]=n,c=(r-p)*e+p,o=(s-g)*i+g;m[t]=f(n,c,o,void 0)}return b}if("extent"===t.type){const{xmin:r,xmax:s,ymin:c,ymax:o}=t,a=n?n[0]:(r+s)/2,h=n?n[1]:(o+c)/2,u=t.clone();if(u.xmin=(r-a)*e+a,u.ymax=(o-h)*i+h,u.xmax=(s-a)*e+a,u.ymin=(c-h)*i+h,u.xmin>u.xmax){const t=u.xmin,e=u.xmax;u.xmin=e,u.xmax=t}if(u.ymin>u.ymax){const t=u.ymin,e=u.ymax;u.ymin=e,u.ymax=t}return u}const o=Object(c.b)(t),a=Object(r.l)(),[h,u,d,l]=Object(s.d)(a,o),p=n?n[0]:(h+d)/2,g=n?n[1]:(l+u)/2,b=t.clone(),m="polyline"===b.type?b.paths:b.rings;for(let r=0;r<o.length;r++){const t=o[r];for(let n=0;n<t.length;n++){const s=t[n],[c,o]=s,a=(c-p)*e+p,h=(o-g)*i+g;m[r][n]=f(s,a,h,void 0)}}return"paths"in b?b.paths=m:b.rings=m,b}function u(t,e,i,n,r,s){const c=Math.sqrt((i-t)*(i-t)+(n-e)*(n-e));return Math.sqrt((r-t)*(r-t)+(s-e)*(s-e))/c}function d(t,e,i){const r=Math.atan2(e.y-i.y,e.x-i.x)-Math.atan2(t.y-i.y,t.x-i.x),s=Math.atan2(Math.sin(r),Math.cos(r));return Object(n.n)(s)}function l(t,e,i,n){return f(t,t[0]+e,t[1]+i,null!=t[2]&&null!=n?t[2]+n:void 0)}function f(t,e,i,n){const r=[e,i];return t.length>2&&r.push(null!=n?n:t[2]),t.length>3&&r.push(t[3]),r}},712:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.visualizer=t.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}},735:function(t,e,i){"use strict";i.d(e,"a",(function(){return O}));var n=i(138),r=i(85),s=i(736),c=i(1145);class o{constructor(t,e,i){this.editGeometry=t,this.component=e,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let t="redo";Object(r.j)(this.addedVertex)&&(t="apply",this.addedVertex=new s.d(this.component));const e=this.component.getLastVertex();if(Object(r.j)(e))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let t=null;e.rightEdge&&(this.originalEdge=e.rightEdge,t=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,Object(r.j)(this.left)&&(this.left=new s.b(this.component,e,this.addedVertex)),this.component.edges.push(this.left),e.rightEdge=this.left,Object(r.k)(this.originalEdge)&&Object(r.k)(t)&&(Object(r.j)(this.right)&&(this.right=new s.b(this.component,this.addedVertex,t)),this.component.edges.push(this.right),t.leftEdge=this.right),this.component.updateVertexIndex(this.addedVertex,e.index+1)}this.editGeometry.notifyChanges({operation:t,addedVertices:[this.addedVertex]})}undo(){if(Object(r.j)(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),Object(r.k)(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null),Object(r.k)(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null),Object(r.k)(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge),Object(r.k)(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0),this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.addedVertex]})}accumulate(){return!1}}var a=i(1e3);class h{constructor(t,e,i=0){this.editGeometry=t,this.vertices=e,this.minNumberOfVertices=i,this.removedVertices=null}apply(){let t="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const e=this._removeVertex(t);Object(r.k)(e)&&this.removedVertices.push(e)})),t="apply"):this.removedVertices.forEach((t=>{this._removeVertex(t.removedVertex)})),this.editGeometry.notifyChanges({operation:t,removedVertices:this.vertices})}undo(){this.removedVertices.forEach((t=>{this._undoRemoveVertex(t)})),this.editGeometry.notifyChanges({operation:"undo",addedVertices:this.vertices})}accumulate(){return!1}_removeVertex(t){const e=t.component;if(e.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:t,createdEdge:null},n=t.leftEdge,r=t.rightEdge;return e.vertices.splice(e.vertices.indexOf(t),1),n&&(e.edges.splice(e.edges.indexOf(n),1),n.leftVertex.rightEdge=null),r&&(e.edges.splice(e.edges.indexOf(r),1),r.rightVertex.leftEdge=null),0===t.index&&r&&this.vertices.length>0&&e.swapVertices(e.vertices.indexOf(r.rightVertex),0),n&&r&&(i.createdEdge=new s.b(e,n.leftVertex,r.rightVertex),e.edges.push(i.createdEdge)),r&&e.updateVertexIndex(r.rightVertex,r.rightVertex.index-1),i}_undoRemoveVertex(t){const e=t.removedVertex,i=t.removedVertex.component,n=e.leftEdge,r=e.rightEdge;t.createdEdge&&i.edges.splice(i.edges.indexOf(t.createdEdge),1),i.vertices.push(e),n&&(i.edges.push(n),n.leftVertex.rightEdge=n),r&&(i.edges.push(r),r.rightVertex.leftEdge=r),i.updateVertexIndex(e,e.index)}}class u{constructor(t,e,i){this.editGeometry=t,this.edge=e,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let t="redo";const e=this.edge,i=e.component,n=e.leftVertex,c=e.rightVertex;i.edges.splice(i.edges.indexOf(e),1),Object(r.j)(this.createdVertex)&&(t="apply",this.createdVertex=new s.d(e.component)),i.vertices.push(this.createdVertex),this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(e.leftVertex.pos,e.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector()),Object(r.j)(this.left)&&(this.left=new s.b(i,n,this.createdVertex)),this.left.leftVertex.leftEdge?i.edges.push(this.left):i.edges.unshift(this.left),n.rightEdge=this.left,Object(r.j)(this.right)&&(this.right=new s.b(i,this.createdVertex,c)),i.edges.push(this.right),c.leftEdge=this.right,i.updateVertexIndex(this.createdVertex,n.index+1),this.editGeometry.notifyChanges({operation:t,addedVertices:[this.createdVertex]})}undo(){if(Object(r.j)(this.createdVertex)||Object(r.j)(this.left)||Object(r.j)(this.right))return null;const t=this.edge,e=t.component,i=this.createdVertex.leftEdge,n=this.createdVertex.rightEdge,s=i.leftVertex,c=n.rightVertex;e.vertices.splice(e.vertices.indexOf(this.createdVertex),1),e.edges.splice(e.edges.indexOf(this.left),1),e.edges.splice(e.edges.indexOf(this.right),1),this.edge.leftVertex.leftEdge?e.edges.push(this.edge):e.edges.unshift(this.edge),s.rightEdge=t,c.leftEdge=t,e.updateVertexIndex(s,s.index),this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}class d{constructor(t,e,i){this.editGeometry=t,this.vertex=e,this.pos=i}apply(){const t=Object(r.j)(this.originalPosition);t&&(this.originalPosition=this.vertex.pos),this._apply(t?"apply":"redo")}undo(){this.vertex.pos=Object(r.s)(this.originalPosition),this.editGeometry.notifyChanges({operation:"undo",updatedVertices:[this.vertex]})}accumulate(t){return t instanceof d&&t.vertex===this.vertex&&(this.pos=t.pos,this._apply("apply"),!0)}_apply(t){this.vertex.pos=this.pos,this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:t,updatedVertices:[this.vertex]})}}var l=i(84);class f{constructor(t,e){this.editGeometry=t,this.component=e,this.createdEdge=null}apply(){let t="redo";if(Object(r.j)(this.createdEdge)){t="apply";const e=this.component.getFirstVertex(),i=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||Object(r.j)(e)||Object(r.j)(i))return;this.createdEdge=new s.b(this.component,i,e)}this.createdEdge.leftVertex.rightEdge=this.createdEdge,this.createdEdge.rightVertex.leftEdge=this.createdEdge,this.component.edges.push(this.createdEdge),this.editGeometry.notifyChanges({operation:t})}undo(){Object(r.j)(this.createdEdge)||(Object(l.h)(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}var p=i(1218),g=i(1219),b=i(1220),m=i(1221);class j{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const t of this.operations)t.apply()}undo(){for(let t=this.operations.length-1;t>=0;t--)this.operations[t].undo()}accumulate(t){if(this.closed)return!1;const e=this.operations.length?this.operations[this.operations.length-1]:null;return e&&e.accumulate(t)||(this.operations.push(t),t.apply()),!0}}class O extends n.a{constructor(t){super(),this.data=t,this.undoStack=[],this.redoStack=[],this.listener=this.data.on("change",(t=>{t.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:t.addedVertices,operation:t.operation}),t.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:t.removedVertices,operation:t.operation}),t.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:t.updatedVertices,operation:t.operation})}))}destroy(){this.listener.remove()}splitEdge(t,e){return this._apply(new u(this.data,t,e))}updateVertices(t,e,i=c.a.ACCUMULATE_STEPS){return this._apply(new a.b(this.data,t,e),i)}moveVertices(t,e,i,n,r=c.a.ACCUMULATE_STEPS){return this.updateVertices(t,new p.a(this.data.coordinateHelper,e,i,n),r)}scaleVertices(t,e,i,n,r,s=c.a.ACCUMULATE_STEPS,o=a.a.CUMULATIVE){return this.updateVertices(t,new m.a(e,i,n,r,o),s)}rotateVertices(t,e,i,n=c.a.ACCUMULATE_STEPS,r=a.a.CUMULATIVE){return this.updateVertices(t,new b.a(e,i,r),n)}removeVertices(t){return this._apply(new h(this.data,t,this._minNumVerticesPerType))}appendVertex(t){return 0===this.data.components.length?null:this._apply(new o(this.data,this.data.components[0],t))}setVertexPosition(t,e){return this._apply(new d(this.data,t,e))}offsetEdge(t,e,i,n=c.a.ACCUMULATE_STEPS){return this.updateVertices([e.leftVertex,e.rightVertex],new g.a(this.data.coordinateHelper,t,e,i),n)}closeComponent(t){return this.data.components.includes(t)?this._apply(new f(this.data,t)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const t=new j;return this._apply(t),{remove:()=>t.close()}}undo(){if(this.undoStack.length>0){const t=this.undoStack.pop();return t.undo(),this.redoStack.push(t),t}return null}redo(){if(this.redoStack.length>0){const t=this.redoStack.pop();return t.apply(),this.undoStack.push(t),t}return null}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(t,e=c.a.ACCUMULATE_STEPS){return e!==c.a.NEW_STEP&&!Object(r.j)(this.lastOperation)&&this.lastOperation.accumulate(t)||(t.apply(),this.undoStack.push(t),this.redoStack=[]),t}static fromGeometry(t,e){return new O(s.c.fromGeometry(t,e))}}},736:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return d}));var n=i(84),r=i(138),s=i(85),c=i(135),o=i(140),a=i(891),h=i(110),u=i(272);class d{constructor(t){this.component=t,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class l{constructor(t,e,i){this.component=t,this.leftVertex=e,this.rightVertex=i,this.type="edge",e.rightEdge=this,i.leftEdge=this}}class f{constructor(t,e){this.spatialReference=t,this.viewingMode=e,this.vertices=[],this.edges=[]}unnormalizeVertexPositions(){this.vertices.length<=1||function(t,e){if(!e.supported)return;let i=1/0,n=-1/0;const r=e.upperBoundX-e.lowerBoundX;t.forEach((t=>{let s=t.pos[0];for(;s<e.lowerBoundX;)s+=r;for(;s>e.upperBoundX;)s-=r;i=Math.min(i,s),n=Math.max(n,s),t.pos[0]=s}));const s=n-i;r-s<s&&t.forEach((t=>{t.pos[0]<0&&(t.pos[0]+=r)}))}(this.vertices,function(t,e){const i=Object(h.e)(t);return e===u.a.Global&&i?{supported:!0,lowerBoundX:i.valid[0],upperBoundX:i.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}(this.spatialReference,this.viewingMode))}updateVertexIndex(t,e){if(0===this.vertices.length)return;const i=this.vertices[0];let n=null,r=t,s=e;do{n=r,n.index=s++,r=n.rightEdge?n.rightEdge.rightVertex:null}while(null!=r&&r!==i);n.leftEdge&&n!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(n),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(t,e){const i=this.vertices[t];this.vertices[t]=this.vertices[e],this.vertices[e]=i}iterateVertices(t){if(0===this.vertices.length)return;const e=this.vertices[0];let i=e;do{t(i,i.index),i=Object(s.k)(i.rightEdge)?i.rightEdge.rightVertex:null}while(i!==e&&null!=i)}}class p extends r.a{constructor(t,e,i){super(),this.type=t,this.coordinateHelper=e,this.viewingMode=i,this._geometry=null,this.dirty=!0,this.components=[]}get geometry(){if(this.dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon()}this.dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(t){this.dirty=!0,this.emit("change",t)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const t=[],e=this.coordinateHelper.vectorToArray;return this.components.forEach(((i,n)=>{const r=[];let s=i.vertices.find((t=>null==t.leftEdge));const c=s;do{r.push(e(s.pos)),s=s.rightEdge?s.rightEdge.rightVertex:null}while(s&&s!==c);t.push(r)})),new o.a({paths:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const t=[],e=this.coordinateHelper.vectorToArray;return this.components.forEach(((i,n)=>{const r=[],c=i.vertices[0];let o=c;const a=o;do{r.push(e(o.pos)),o=Object(s.k)(o.rightEdge)?o.rightEdge.rightVertex:null}while(o&&o!==a);i.isClosed()&&r.push(e(c.pos)),t.push(r)})),new c.a({rings:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,e){const i=t.spatialReference,r=Object(a.a)(t.hasZ,t.hasM,i),s=new p(t.type,r,e);switch(t.type){case"polygon":{const c=t.rings;for(let t=0;t<c.length;++t){const o=c[t],a=new f(i,e),h=o.length>2&&Object(n.c)(o[0],o[o.length-1]),u=h?o.length-1:o.length;for(let t=0;t<u;++t){const e=r.arrayToVector(o[t]),i=new d(a);a.vertices.push(i),i.pos=e,i.index=t}const p=a.vertices.length-1;for(let t=0;t<p;++t){const e=a.vertices[t],i=a.vertices[t+1],n=new l(a,e,i);a.edges.push(n)}if(h){const t=new l(a,a.vertices[a.vertices.length-1],a.vertices[0]);a.edges.push(t)}s.components.push(a)}break}case"polyline":for(const n of t.paths){const t=new f(i,e),c=n.length;for(let e=0;e<c;++e){const i=r.arrayToVector(n[e]),s=new d(t);t.vertices.push(s),s.pos=i,s.index=e}const o=t.vertices.length-1;for(let e=0;e<o;++e){const i=t.vertices[e],n=t.vertices[e+1],r=new l(t,i,n);t.edges.push(r)}s.components.push(t)}break;case"point":{const n=new f(i,e),c=new d(n);c.index=0,c.pos=r.pointToVector(t),n.vertices.push(c),s.components.push(n);break}}return s}}},890:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i(347),r=i(575);class s extends r.a{constructor(t){super(),this.point=t}equals(t){return t instanceof s&&Object(n.e)(this.point,t.point)}}},891:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n,r,s=i(151),c=i(219),o=i(117),a=i(109),h=i(271),u=i(257),d=i(113);(r=n||(n={}))[r.Z=0]="Z",r[r.M=1]="M";class l{constructor(t){this.spatialReference=t}createVector(){return this._tag(Object(c.a)())}pointToVector(t){return this._tag(Object(c.e)(t.x,t.y))}arrayToVector(t){return this._tag(Object(c.e)(t[0],t[1]))}vectorToArray(t){return[t[0],t[1]]}pointToArray(t){return[t.x,t.y]}vectorToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=void 0,e.m=void 0,e.spatialReference=this.spatialReference,e}arrayToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=void 0,e.m=void 0,e.spatialReference=this.spatialReference,e}vectorToDehydratedPoint(t,e={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return e.x=t[0],e.y=t[1],e.z=void 0,e.m=void 0,e.hasZ=!1,e.hasM=!1,e.spatialReference=this.spatialReference,e}lerp(t,e,i,n){return Object(s.o)(n,t,e,i)}addDelta(t,e,i){t[0]+=e,t[1]+=i}distance(t,e){return Object(s.b)(t,e)}getZ(t,e){return e}hasZ(){return!1}getM(t,e){return e}hasM(){return!1}clone(t){return this._tag(Object(c.d)(t))}copy(t,e){return Object(s.c)(e,t)}fromXYZ(t){return this._tag(Object(c.e)(t[0],t[1]))}toXYZ(t,e=0){return Object(a.h)(t[0],t[1],e)}_tag(t){return t}}class f{constructor(t,e){this.valueType=t,this.spatialReference=e}createVector(){return this._tag(Object(a.f)())}pointToVector(t){return this._tag(Object(a.h)(t.x,t.y,this.valueType===n.Z?t.z:t.m))}arrayToVector(t){return this._tag(Object(a.h)(t[0],t[1],t[2]||0))}vectorToArray(t){return[t[0],t[1],t[2]]}pointToArray(t){return this.valueType===n.Z?[t.x,t.y,t.z]:[t.x,t.y,t.m]}vectorToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=this.valueType===n.Z?t[2]:void 0,e.m=this.valueType===n.M?t[2]:void 0,e.spatialReference=this.spatialReference,e}arrayToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=this.valueType===n.Z?t[2]:void 0,e.m=this.valueType===n.M?t[2]:void 0,e.spatialReference=this.spatialReference,e}vectorToDehydratedPoint(t,e={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const i=this.valueType===n.Z,r=this.valueType===n.M;return e.x=t[0],e.y=t[1],e.z=i?t[2]:void 0,e.m=r?t[2]:void 0,e.hasZ=i,e.hasM=r,e.spatialReference=this.spatialReference,e}lerp(t,e,i,n){return Object(o.i)(n,t,e,i)}addDelta(t,e,i,r){t[0]+=e,t[1]+=i,this.valueType===n.Z&&(t[2]+=r)}distance(t,e){return this.valueType===n.Z?Object(o.m)(t,e):Object(s.b)(t,e)}getZ(t,e){return this.valueType===n.Z?t[2]:e}hasZ(){return this.valueType===n.Z}getM(t,e){return this.valueType===n.M?t[2]:e}hasM(){return this.valueType===n.M}clone(t){return this._tag(Object(a.g)(t))}copy(t,e){return Object(o.k)(e,t)}fromXYZ(t,e=0,i=0){return this._tag(Object(a.h)(t[0],t[1],this.valueType===n.Z?t.length>2?t[2]:e:i))}toXYZ(t,e=0){return this._tag(Object(a.h)(t[0],t[1],this.valueType===n.Z?t[2]:e))}_tag(t){return t}}class p{constructor(t){this.spatialReference=t}createVector(){return this._tag(Object(u.e)())}pointToVector(t){return this._tag(Object(u.g)(t.x,t.y,t.z,t.m))}arrayToVector(t){return this._tag(Object(u.g)(t[0],t[1],t[2]||0,t[3]||0))}vectorToArray(t){return[t[0],t[1],t[2],t[3]]}pointToArray(t){return[t.x,t.y,t.z,t.m]}vectorToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=t[2],e.m=t[3],e.spatialReference=this.spatialReference,e}arrayToPoint(t,e=new d.a){return e.x=t[0],e.y=t[1],e.z=t[2],e.m=t[3],e.spatialReference=this.spatialReference,e}vectorToDehydratedPoint(t,e={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return e.x=t[0],e.y=t[1],e.z=t[2],e.m=t[3],e.hasZ=!0,e.hasM=!0,e.spatialReference=this.spatialReference,e}lerp(t,e,i,n){return Object(h.j)(n,t,e,i)}addDelta(t,e,i,n){t[0]+=e,t[1]+=i,t[2]+=n}distance(t,e){return Object(o.m)(t,e)}getZ(t){return t[2]}hasZ(){return!0}getM(t){return t[3]}hasM(){return!0}clone(t){return this._tag(Object(u.f)(t))}copy(t,e){return Object(h.c)(e,t)}fromXYZ(t,e=0,i=0){return this._tag(Object(u.g)(t[0],t[1],t.length>2?t[2]:e,i))}toXYZ(t){return Object(a.h)(t[0],t[1],t[2])}_tag(t){return t}}function g(t,e,i){return t&&e?new p(i):e?new f(n.M,i):t?new f(n.Z,i):new l(i)}},999:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(183),r=i(926),s=i(706),c=i(924),o=i(890),a=i(846);class h{draw(t,e){const i=this._getUniqueHints(t),h=[];for(const n of i)n instanceof r.a&&h.push(this.visualizeIntersectionPoint(n,e)),n instanceof s.a&&h.push(this.visualizeLine(n,e)),n instanceof c.a&&h.push(this.visualizeParallelSign(n,e)),n instanceof a.a&&h.push(this.visualizeRightAngleQuad(n,e)),n instanceof o.a&&h.push(this.visualizePoint(n,e));return Object(n.b)(h)}_getUniqueHints(t){const e=[];for(const i of t){let t=!0;for(const n of e)if(i.equals(n)){t=!1;break}t&&e.push(i)}return e}}}}]);
//# sourceMappingURL=11.66d71fb0.chunk.js.map