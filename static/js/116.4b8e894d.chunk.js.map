{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/rest/utils.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/tasks/operations/urlUtils.js","../node_modules/@arcgis/core/tasks/Task.js","../node_modules/@arcgis/core/core/pbf.js","../node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js","../node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js","../node_modules/@arcgis/core/layers/support/exifUtils.js","../node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js","../node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js","../node_modules/@arcgis/core/rest/query/operations/queryAttachments.js","../node_modules/@arcgis/core/rest/query/executeAttachmentQuery.js","../node_modules/@arcgis/core/rest/query/executeForCount.js","../node_modules/@arcgis/core/rest/query/executeForExtent.js","../node_modules/@arcgis/core/rest/query/executeForIds.js","../node_modules/@arcgis/core/rest/query/executeQueryJSON.js","../node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js","../node_modules/@arcgis/core/rest/query/executeQueryPBF.js","../node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js","../node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js","../node_modules/@arcgis/core/tasks/QueryTask.js"],"names":["e","l","data","Promise","t","r","a","FileReader","readAsDataURL","onload","result","onerror","F","Set","R","h","constructor","super","arguments","this","type","load","s","signal","addResolvingPromise","_fetchService","resolve","capabilities","query","supportsFormatPBF","parsedUrl","dynamicDataSource","gdbVersion","spatialReference","o","fieldsIndex","i","layer","u","f","url","path","format","sourceSpatialReference","addAttachment","attributes","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","c","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","updateAttachment","attachmentId","updateAttachmentResult","applyEdits","addFeatures","map","_serializeFeature","updateFeatures","_getFeatureIds","deleteFeatures","globalIdUsed","p","deleteAttachments","addAttachments","push","_serializeAttachment","updateAttachments","n","length","adds","updates","deletes","method","JSON","stringify","join","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","attachments","d","_createEditsResult","attachmentIds","deleteAttachmentResults","fetchRecomputedExtents","then","returnUpdates","layerId","id","extent","fullExtent","timeExtent","fromJSON","y","start","end","queryAttachments","get","objectIds","all","parentObjectId","attachmentInfos","m","queryTask","executeAttachmentQuery","queryFeatures","execute","customParameters","queryFeaturesJSON","executeJSON","queryObjectIds","executeForIds","queryFeatureCount","executeForCount","queryExtent","executeForExtent","queryRelatedFeatures","executeRelationshipQuery","queryRelatedFeaturesCount","executeRelationshipQueryForCount","sourceJSON","returnAdvancedSymbols","_patchServiceJSON","has","geometryType","drawingInfo","renderer","defaultSymbol","g","geometry","toJSON","feature","attachment","globalId","name","contentType","uploadId","parentGlobalId","globalIdField","b","mediaType","File","_canUseGlobalIds","_getGlobalIdsFromFeatureIdentifier","_getObjectIdsFromFeatureIdentifier","_getIdsFromFeatures","objectId","addFeatureResults","addResults","updateFeatureResults","updateResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","success","error","code","description","details","messages","message","httpStatus","messageCode","FormData","elements","set","append","source","responseType","prototype","constructOnly","readOnly","q","Array","isArray","inSR","wkid","groupByFieldsForStatistics","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","parameterValues","rangeValues","time","isEmpty","features","createFeatureResult","count","S","hasOwnProperty","Error","clone","requestOptions","normalizeCtorArgs","_parseUrl","_encode","String","TextDecoder","byteLength","_tag","_dataType","init","_data","_dataView","_pos","_end","pos","move","nextTag","_decodeVarint","skip","next","empty","tag","getInt32","getInt64","getUInt32","getUInt64","getSInt32","getSInt64","_decodeSVarint","getBool","_skip","getEnum","getFixed64","getUint32","getSFixed64","getDouble","getFloat64","getFixed32","getSFixed32","getFloat","getFloat32","getString","_getLength","_toString","getBytes","_toBytes","getLength","_getLengthUnsafe","processMessageWithArgs","getMessage","release","processMessage","pool","acquire","dataType","skipLen","Math","min","subarray","decode","toString","decodeURIComponent","fromCharCode","Uint8Array","buffer","options","geometryTypes","_coordinatePtr","_vertexDimension","prepareFeatures","hasZ","hasM","finishFeatureResult","vcsWkid","coords","addFeature","createFeature","createSpatialReference","createGeometry","addField","fields","allocateCoordinates","lengths","reduce","addCoordinate","addCoordinatePoint","addLength","addQueryGeometry","queryGeometry","queryGeometryType","createPointGeometry","rotation","mirrored","exifInfo","keywords","size","exifName","tagName","find","tags","value","json","read","queryResult","featureResult","objectIdFieldName","getLogger","k","alias","sqlType","domain","parse","defaultValue","isSystemMaintained","T","centroid","I","originPosition","scale","translate","shapeAreaFieldName","shapeLengthFieldName","units","w","wkt","latestWkid","latestVcsWkid","D","globalIdFieldName","geohashFieldName","geometryProperties","transform","exceededTransferLimit","uniqueIdField","M","x","DataView","attachmentTypes","globalIds","from","attachmentGroups","previousCoordinate","applyTransform","currentLengthIndex","toAddInCurrentPath","vertexDimension","coordinateBuffer","coordinateBufferPtr","AttributesConstructor","deriveApplyTransform","addCoordinatePolygon","createPolygonGeometry","addCoordinatePolyline","createPolylineGeometry","addCoordinateMultipoint","createMultipointGeometry","z","transformPathLikeValue","dehydratedAddPointsCoordinate","paths","rings","points","outSpatialReference","relatedRecordGroups","relatedRecords","Object","keys","forEach","j","_normalizeQuery","_normalizeFields","assign"],"mappings":"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","file":"static/js/116.4b8e894d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/has.js\";import{fixJson as r}from\"../../../core/lang.js\";import{setDeepValue as a}from\"../../../core/object.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../core/Error.js\";import{dataComponents as l}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import d from\"../../../geometry/Extent.js\";import c from\"../../../request.js\";import h from\"../../../core/Loadable.js\";import y from\"../../../TimeExtent.js\";import{unapplyEditsZUnitScaling as p}from\"../../../rest/query/operations/zscale.js\";import{processAttachmentQueryResult as m}from\"../../../rest/query/operations/queryAttachments.js\";import f from\"../../../tasks/QueryTask.js\";import{createDrawingInfo as g}from\"./support/clientSideDefaults.js\";async function b(e){if(\"string\"==typeof e){const t=l(e);return t||{data:e}}return new Promise(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(l(a.result)),a.onerror=e=>r(e)}))}const F=new Set([\"Feature Layer\",\"Table\"]);let R=class extends h{constructor(){super(...arguments),this.type=\"feature-layer\"}load(e){const t=s(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:r,dynamicDataSource:a,gdbVersion:s,spatialReference:o,fieldsIndex:i}=this.layer,u=t(\"featurelayer-pbf\")&&e?\"pbf\":\"json\";return new f({url:r.path,format:u,fieldsIndex:i,dynamicDataSource:a,gdbVersion:s,sourceSpatialReference:o})}async addAttachment(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/addAttachment\",s=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,s.query);try{const e=await c(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(i){throw this._createAttachmentErrorResult(r,i)}}async updateAttachment(e,t,r){await this.load();const a=e.attributes[this.layer.objectIdField],s=this.layer.parsedUrl.path+\"/\"+a+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),i=this._getFormDataForAttachment(r,o.query);try{const e=await c(s,{body:i});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const r=e.addFeatures.map(this._serializeFeature,this),a=e.updateFeatures.map(this._serializeFeature,this),s=this._getFeatureIds(e.deleteFeatures,null==t?void 0:t.globalIdUsed);p(r,a,this.layer.spatialReference);const o=[],i=[],u=[...e.deleteAttachments];for(const c of e.addAttachments)o.push(await this._serializeAttachment(c));for(const c of e.updateAttachments)i.push(await this._serializeAttachment(c));const n=o.length||i.length||u.length?{adds:o,updates:i,deletes:u}:null,l=this._getLayerRequestOptions({method:\"post\",query:{adds:r.length?JSON.stringify(r):null,updates:a.length?JSON.stringify(a):null,deletes:s.length?null!=t&&t.globalIdUsed?JSON.stringify(s):s.join(\",\"):null,gdbVersion:(null==t?void 0:t.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==t?void 0:t.rollbackOnFailureEnabled,useGlobalIds:null==t?void 0:t.globalIdUsed,attachments:n&&JSON.stringify(n)}}),d=await c(this.layer.parsedUrl.path+\"/applyEdits\",l);return this._createEditsResult(d)}async deleteAttachments(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/deleteAttachments\";try{return(await c(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(s){throw this._createAttachmentErrorResult(r,s)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:a}=this.layer,{data:s}=await c(`${a}/${r}`,t),{id:o,extent:i,fullExtent:u,timeExtent:n}=s,l=i||u;return{id:o,fullExtent:l&&d.fromJSON(l),timeExtent:n&&y.fromJSON({start:n[0],end:n[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:r}=this.layer,a=r.path;await this.load();const s=this._getLayerRequestOptions(t);if(!this.layer.get(\"capabilities.operations.supportsQueryAttachments\")){const{objectIds:t}=e,r=[];for(const e of t){const t=a+\"/\"+e+\"/attachments\";r.push(c(t,s))}return Promise.all(r).then((e=>t.map(((t,r)=>({parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}))))).then((e=>m(e,a)))}return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async _fetchService(e){let r=this.layer.sourceJSON;if(!r){const{data:a}=await c(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:t(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:e}));r=a}this.sourceJSON=this._patchServiceJSON(r);const a=r.type;if(!F.has(a))throw new n(\"feature-layer-source:unsupported-type\",`Source type \"${a}\" is not supported`)}_patchServiceJSON(e){var t;if(\"Table\"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){const t=g(e.geometryType).renderer;a(\"drawingInfo.renderer\",t,e)}return e}_serializeFeature(e){const{geometry:t,attributes:r}=e;return o(t)?{attributes:r}:\"mesh\"===t.type||\"extent\"===t.type?null:{geometry:t.toJSON(),attributes:r}}async _serializeAttachment(e){const{feature:t,attachment:r}=e,{globalId:a,name:s,contentType:o,data:i,uploadId:u}=r,n={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(n.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),u)n.uploadId=u;else if(i){const e=await b(i);n.contentType=e.mediaType,n.data=e.data,i instanceof File&&(n.name=i.name)}return s&&(n.name=s),o&&(n.contentType=o),n}_getFeatureIds(e,t){const r=e[0];return r?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):\"objectId\"in r?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&\"globalId\"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){const t=e.data,r=e.data&&e.data.attachments;return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:r&&r.addResults?r.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:r&&r.updateResults?r.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:r&&r.deleteResults?r.deleteResults.map(this._createFeatureEditResult,this):[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new n(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const r=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new n(\"feature-layer-source:attachment-failure\",r,{code:a})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const a in t){const e=t[a];null!=e&&(r.set?r.set(a,e):r.append(a,e))}return r}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:a,dynamicDataSource:s}=this.layer;return{...e,query:r({gdbVersion:a,layer:s?JSON.stringify({source:s}):void 0,...t.query,f:\"json\",...this.layer.customParameters,...null==e?void 0:e.query}),responseType:\"json\"}}};e([i()],R.prototype,\"type\",void 0),e([i({constructOnly:!0})],R.prototype,\"layer\",void 0),e([i({readOnly:!0})],R.prototype,\"queryTask\",null),R=e([u(\"esri.layers.graphics.sources.FeatureLayerSource\")],R);var q=R;export default q;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../core/urlUtils.js\";function e(t,e){let r={query:t};return e&&(r={...e,...r},r.query={...r.query,...e.query}),r}function r(e){return\"string\"==typeof e?t(e):e}function n(t,e,r){const o={};for(const i in t){if(\"declaredClass\"===i)continue;const f=t[i];if(null!=f&&\"function\"!=typeof f)if(Array.isArray(f)){o[i]=[];for(let t=0;t<f.length;t++)o[i][t]=n(f[t])}else if(\"object\"==typeof f)if(f.toJSON){const t=f.toJSON(r&&r[i]);o[i]=e?t:JSON.stringify(t)}else o[i]=e?f:JSON.stringify(f);else o[i]=f}return o}export{e as asValidOptions,n as encode,r as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{join as e,urlToObject as r}from\"../../../core/urlUtils.js\";import{getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import i from\"../../../request.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{applyFeatureSetZUnitScaling as s}from\"./queryZScale.js\";import{mapParameters as u}from\"../../../tasks/operations/urlUtils.js\";import{parsePBFFeatureQuery as a}from\"./pbfQueryUtils.js\";const l=\"Layer does not support extent calculation.\";function m(e,r){const i=e.geometry,o=e.toJSON(),s=o;if(t(i)&&(s.geometry=JSON.stringify(i),s.geometryType=n(i),s.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):i&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(e,r,n,i){const o=t(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(e,r,\"json\",i);return s(r,n,o.data),o}async function c(e,r,n,i){if(t(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(e,r,i),s=o;return s.data=a(o.data,n),s}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,r,\"json\",n,{returnIdsOnly:!0})}function p(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,r,n){return t(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(e,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(n,s,a,l={},y={}){const c=\"string\"==typeof n?r(n):n,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===a?\"array-buffer\":\"json\",o(d,null,l).then((r=>{const n=r&&r[0];t(n)&&((s=s.clone()).geometry=n);const o=u({...c.query,f:a,...y,...m(s,y)});return i(e(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{urlToObject as e}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import t from\"../core/Accessor.js\";let i=class extends t{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,o){return\"string\"!=typeof r?r:{url:r,...o}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?e(r):null}_encode(r,o,s){const e={};for(const t in r){if(\"declaredClass\"===t)continue;const i=r[t];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){e[t]=[];for(let r=0;r<i.length;r++)e[t][r]=this._encode(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(s&&s[t]);e[t]=o?r:JSON.stringify(r)}else e[t]=o?i:JSON.stringify(i);else e[t]=i}return e}};r([o({readOnly:!0})],i.prototype,\"parsedUrl\",null),r([o()],i.prototype,\"requestOptions\",void 0),r([o({type:String})],i.prototype,\"url\",void 0),i=r([s(\"esri.tasks.Task\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class n{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),n=t(r,e,s,i);return r.release(),n}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let n=\"\",a=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?a+=\"%\"+e.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(e),a=\"\")}return a.length&&(n+=decodeURIComponent(a)),n}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}n.pool=new e(n,null,(t=>{t._data=null,t._dataView=null}));export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as t}from\"../../../core/unitUtils.js\";import r from\"../../../layers/graphics/OptimizedFeature.js\";import o from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const i=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class n{constructor(e){this.options=e,this.geometryTypes=i,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new o}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(r){if(!r||!r.features||!r.hasZ||!this.options.sourceSpatialReference||!r.spatialReference||e(r.spatialReference,this.options.sourceSpatialReference)||r.spatialReference.vcsWkid)return;const o=t(this.options.sourceSpatialReference)/t(r.spatialReference);if(1!==o)for(const e of r.features){if(!e.geometry||!e.geometry.coords)continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=o}}addFeature(e,t){e.features.push(t)}createFeature(){return new r}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{i as OPTIMIZED_GEOMETRY_TYPES,n as OptimizedFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{Integer as t}from\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import{getExifValue as s}from\"../../../layers/support/exifUtils.js\";var n;const p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let l=n=class extends i{constructor(o){super(o),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:o}=this,t=s({exifName:\"Exif IFD0\",tagName:\"Orientation\",exifInfo:o});return p[t]||null}clone(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};o([r({type:String})],l.prototype,\"contentType\",void 0),o([r()],l.prototype,\"exifInfo\",void 0),o([r({readOnly:!0})],l.prototype,\"orientationInfo\",null),o([r({type:t})],l.prototype,\"id\",void 0),o([r({type:String})],l.prototype,\"globalId\",void 0),o([r({type:String})],l.prototype,\"keywords\",void 0),o([r({type:String})],l.prototype,\"name\",void 0),o([r({json:{read:!1}})],l.prototype,\"parentGlobalId\",void 0),o([r({json:{read:!1}})],l.prototype,\"parentObjectId\",void 0),o([r({type:t})],l.prototype,\"size\",void 0),o([r({json:{read:!1}})],l.prototype,\"url\",void 0),l=n=o([e(\"esri.layers.support.AttachmentInfo\")],l);var d=l;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n){const{exifInfo:e,exifName:a,tagName:u}=n;if(!e||!a||!u)return null;const f=e.find((n=>n.name===a));return f?t({tagName:u,tags:f.tags}):null}function t(n){const{tagName:t,tags:e}=n;if(!e||!t)return null;const a=e.find((n=>n.name===t));return a&&a.value||null}export{n as getExifValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{parseFeatureQuery as e}from\"./pbfFeatureServiceParser.js\";function t(t,r){const u=e(t,r),o=u.queryResult.featureResult,s=u.queryResult.queryGeometry,y=u.queryResult.queryGeometryType;if(o&&o.features&&o.features.length&&o.objectIdFieldName){const e=o.objectIdFieldName;for(const t of o.features)t.attributes&&(t.objectId=t.attributes[e])}return o&&(o.queryGeometry=s,o.queryGeometryType=y),o}export{t as parsePBFFeatureQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";import{OPTIMIZED_GEOMETRY_TYPES as a}from\"./pbfOptimizedFeatureSet.js\";import n from\"../../../core/pbf.js\";const o=t.getLogger(\"esri.tasks.operations.pbfFeatureServiceParser\"),i=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeString\",\"esriFieldTypeDate\",\"esriFieldTypeOID\",\"esriFieldTypeGeometry\",\"esriFieldTypeBlob\",\"esriFieldTypeRaster\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",\"esriFieldTypeXML\"],c=[\"sqlTypeBigInt\",\"sqlTypeBinary\",\"sqlTypeBit\",\"sqlTypeChar\",\"sqlTypeDate\",\"sqlTypeDecimal\",\"sqlTypeDouble\",\"sqlTypeFloat\",\"sqlTypeGeometry\",\"sqlTypeGUID\",\"sqlTypeInteger\",\"sqlTypeLongNVarchar\",\"sqlTypeLongVarbinary\",\"sqlTypeLongVarchar\",\"sqlTypeNChar\",\"sqlTypeNVarchar\",\"sqlTypeOther\",\"sqlTypeReal\",\"sqlTypeSmallInt\",\"sqlTypeSqlXml\",\"sqlTypeTime\",\"sqlTypeTimestamp\",\"sqlTypeTimestamp2\",\"sqlTypeTinyInt\",\"sqlTypeVarbinary\",\"sqlTypeVarchar\"],l=[\"upperLeft\",\"lowerLeft\"];function g(e){return e>=i.length?null:i[e]}function p(e){return e>=c.length?null:c[e]}function u(e){return e>=l.length?null:l[e]}function y(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function b(e,t,r){const s=1,a=2,n=3,o=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addCoordinatePoint(o,e.getSInt64(),a++);break}case s:case a:default:e.skip()}return o}function f(e,t,r){const s=1,a=2,n=3,o=t.createGeometry(r),i=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case a:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addLength(o,e.getUInt32(),a++);break}case n:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(t.allocateCoordinates(o);e.pos()<s;)t.addCoordinate(o,e.getSInt64(),a),a++,a===i&&(a=0);break}case s:default:e.skip()}return o}function k(e){const t=1,r=2,n=3,o=new s;let i=\"esriGeometryPoint\";for(;e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.lengths.push(e.getUInt32());break}case n:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.coords.push(e.getSInt64());break}case t:i=a[e.getEnum()];break;default:e.skip()}return{queryGeometry:o,queryGeometryType:i}}function d(e){const t=1,r=2,s=3,a=4,n=5,o=6,i=7,c=8,l=9;for(;e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case a:return e.getSInt32();case n:return e.getUInt32();case o:return e.getInt64();case i:return e.getUInt64();case c:return e.getSInt64();case l:return e.getBool();default:return e.skip(),null}return null}function m(e){const t=1,s=2,a=3,n=4,i=5,c=6,l={type:g(0)};for(;e.next();)switch(e.tag()){case t:l.name=e.getString();break;case s:l.type=g(e.getEnum());break;case a:l.alias=e.getString();break;case n:l.sqlType=p(e.getEnum());break;case i:try{l.domain=JSON.parse(e.getString())}catch(u){o.error(new r(\"query:parsing-pbf\",\"Failed to parse domain\",{error:u})),l.domain=null}break;case c:l.defaultValue=e.getString();break;default:e.skip()}return l}function h(e){const t=1,r=2,s={};for(;e.next();)switch(e.tag()){case t:s.name=e.getString();break;case r:s.isSystemMaintained=e.getBool();break;default:e.skip()}return s}function T(e,t,r,s){const a=1,n=2,o=4,i=t.createFeature(r);let c=0;for(;e.next();)switch(e.tag()){case a:{const t=s[c++].name;i.attributes[t]=e.processMessage(d);break}case n:i.geometry=e.processMessageWithArgs(f,t,r);break;case o:i.centroid=e.processMessageWithArgs(b,t,r);break;default:e.skip()}return i}function q(e){const t=1,r=2,s=3,a=4,n=[1,1,1,1];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function F(e){const t=1,r=2,s=3,a=4,n=[0,0,0,0];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function I(e){const t=1,r=2,s=3,a={originPosition:u(0)};for(;e.next();)switch(e.tag()){case t:a.originPosition=u(e.getEnum());break;case r:a.scale=e.processMessage(q);break;case s:a.translate=e.processMessage(F);break;default:e.skip()}return a}function S(e){const t=1,r=2,s=3,a={};for(;e.next();)switch(e.tag()){case t:a.shapeAreaFieldName=e.getString();break;case r:a.shapeLengthFieldName=e.getString();break;case s:a.units=e.getString();break;default:e.skip()}return a}function w(e,t){const r=1,s=2,a=3,n=4,o=5,i=t.createSpatialReference();for(;e.next();)switch(e.tag()){case r:i.wkid=e.getUInt32();break;case o:i.wkt=e.getString();break;case s:i.latestWkid=e.getUInt32();break;case a:i.vcsWkid=e.getUInt32();break;case n:i.latestVcsWkid=e.getUInt32();break;default:e.skip()}return i}function D(e,t){const r=1,s=2,a=3,n=4,o=5,i=6,c=7,l=8,g=9,p=10,u=11,b=12,f=13,k=15,d=t.createFeatureResult();d.geometryType=y(t,0);let q=!1;for(;e.next();)switch(e.tag()){case r:d.objectIdFieldName=e.getString();break;case a:d.globalIdFieldName=e.getString();break;case n:d.geohashFieldName=e.getString();break;case o:d.geometryProperties=e.processMessage(S);break;case c:d.geometryType=y(t,e.getEnum());break;case l:d.spatialReference=e.processMessageWithArgs(w,t);break;case p:d.hasZ=e.getBool();break;case u:d.hasM=e.getBool();break;case b:d.transform=e.processMessage(I);break;case g:{const t=e.getBool();d.exceededTransferLimit=t;break}case f:t.addField(d,e.processMessage(m));break;case k:q||(t.prepareFeatures(d),q=!0),t.addFeature(d,e.processMessageWithArgs(T,t,d,d.fields));break;case s:d.uniqueIdField=e.processMessage(h);break;case i:default:e.skip()}return t.finishFeatureResult(d),d}function M(t,r){const s=1,a=2,n=3,o=4,i={};let c=null;for(;t.next();)switch(t.tag()){case o:c=t.processMessageWithArgs(k);break;case s:i.featureResult=t.processMessageWithArgs(D,r);break;case a:case n:default:t.skip()}return e(c)&&i.featureResult&&r.addQueryGeometry(i,c),i}function x(e,t){try{const r=2,s=new n(new Uint8Array(e),new DataView(e)),a={};for(;s.next();)switch(s.tag()){case r:a.queryResult=s.processMessageWithArgs(M,t);break;default:s.skip()}return a}catch(s){throw new r(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:s})}}export{x as parseFeatureQuery,g as parseFieldType,I as parseTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{addProxy as t}from\"../../../core/urlUtils.js\";import{addTokenParameter as o}from\"../../../kernel.js\";import e from\"../../../request.js\";import r from\"../support/AttachmentInfo.js\";import{mapParameters as s}from\"../../../tasks/operations/urlUtils.js\";function n(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(e,s){const n={};for(const a of e){const{parentObjectId:e,parentGlobalId:c,attachmentInfos:i}=a;for(const a of i){const{id:i}=a,m=t(o(`${s}/${e}/attachments/${i}`)),p=r.fromJSON(a);p.set({url:m,parentObjectId:e,parentGlobalId:c}),n[e]?n[e].push(p):n[e]=[p]}}return n}function c(t,o,r){let a={query:s({...t.query,f:\"json\",...n(o)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),e(t.path+\"/queryAttachments\",a)}export{c as executeAttachmentQuery,a as processAttachmentQueryResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../tasks/support/AttachmentQuery.js\";import{parseUrl as r}from\"../utils.js\";import{executeAttachmentQuery as e,processAttachmentQueryResult as o}from\"./operations/queryAttachments.js\";async function s(s,a,m){const n=r(s);return e(n,t.from(a),{...m}).then((t=>o(t.data.attachmentGroups,n.path)))}export{s as executeAttachmentQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../tasks/support/Query.js\";import{parseUrl as r}from\"../utils.js\";import{executeQueryForCount as t}from\"./operations/query.js\";async function s(s,n,m){const p=r(s);return t(p,o.from(n),{...m}).then((o=>o.data.count))}export{s as executeForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../geometry/Extent.js\";import\"../../geometry.js\";import o from\"../../tasks/support/Query.js\";import{parseUrl as r}from\"../utils.js\";import{executeQueryForExtent as e}from\"./operations/query.js\";async function m(m,n,s){const p=r(m);return e(p,o.from(n),{...s}).then((o=>({count:o.data.count,extent:t.fromJSON(o.data.extent)})))}export{m as executeForExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../tasks/support/Query.js\";import{parseUrl as r}from\"../utils.js\";import{executeQueryForIds as t}from\"./operations/query.js\";async function s(s,e,m){const n=r(s);return t(n,o.from(e),{...m}).then((o=>o.data.objectIds))}export{s as executeForIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../tasks/support/FeatureSet.js\";import t from\"../../tasks/support/Query.js\";import{parseUrl as o}from\"../utils.js\";import{executeQuery as s}from\"./operations/query.js\";async function a(t,o,s){const a=await e(t,o,s);return r.fromJSON(a)}async function e(r,a,e){const n=o(r),i={...e},p=t.from(a),{data:u}=await s(n,p,p.sourceSpatialReference,i);return u}export{a as executeQueryJSON,e as executeRawQueryJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{unquantizeOptimizedGeometry as t,convertToGeometry as r}from\"../../../layers/graphics/featureConversionUtils.js\";import{getGeometryZScaler as s}from\"./zscale.js\";function i(e,t){return t}function o(e,t,r,s){switch(r){case 0:return u(e,t+s,0);case 1:return\"lowerLeft\"===e.originPosition?u(e,t+s,1):d(e,t+s,1)}}function n(e,t,r,s){switch(r){case 2:return u(e,t,2);default:return o(e,t,r,s)}}function a(e,t,r,s){switch(r){case 2:return u(e,t,3);default:return o(e,t,r,s)}}function h(e,t,r,s){switch(r){case 3:return u(e,t,3);default:return n(e,t,r,s)}}function u({translate:e,scale:t},r,s){return e[s]+r*t[s]}function d({translate:e,scale:t},r,s){return e[s]-r*t[s]}class l{constructor(e){this.options=e,this.geometryTypes=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=i,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(e){if(this.options.applyTransform&&(e.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!e.hasZ)return;const t=s(e.geometryType,this.options.sourceSpatialReference,e.spatialReference);if(t)for(const r of e.features)t(r.geometry)}createSpatialReference(){return{}}addField(e,t){e.fields.push(t);const r=e.fields.map((e=>e.name));this.AttributesConstructor=function(){for(const e of r)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this.deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case\"esriGeometryPoint\":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case\"esriGeometryPolygon\":this.addCoordinate=(e,t,r)=>this.addCoordinatePolygon(e,t,r),this.createGeometry=e=>this.createPolygonGeometry(e);break;case\"esriGeometryPolyline\":this.addCoordinate=(e,t,r)=>this.addCoordinatePolyline(e,t,r),this.createGeometry=e=>this.createPolylineGeometry(e);break;case\"esriGeometryMultipoint\":this.addCoordinate=(e,t,r)=>this.addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this.createMultipointGeometry(e);break;default:e(t.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}allocateCoordinates(){}addLength(e,t,r){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}addQueryGeometry(e,s){const{queryGeometry:i,queryGeometryType:o}=s,n=t(i.clone(),i,!1,!1,this.transform),a=r(n,o,!1,!1);e.queryGeometryType=o,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,r){switch(t=this.applyTransform(this.transform,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:\"z\"in e?e.z=t:e.m=t;break;case 3:e.m=t}}transformPathLikeValue(e,t){let r=0;return t<=1&&(r=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,r)}addCoordinatePolyline(e,t,r){this.dehydratedAddPointsCoordinate(e.paths,t,r)}addCoordinatePolygon(e,t,r){this.dehydratedAddPointsCoordinate(e.rings,t,r)}addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this.transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const s=this.transformPathLikeValue(t,r),i=e[e.length-1];0===r&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),i.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=s}deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?h:t?n:r?a:o}}export{l as JSONFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../tasks/support/FeatureSet.js\";import t from\"../../tasks/support/Query.js\";import{parseUrl as e}from\"../utils.js\";import{executeQueryPBF as o}from\"./operations/query.js\";import{JSONFeatureSetParserContext as a}from\"./operations/pbfJSONFeatureSet.js\";async function s(t,e,o){const a=await n(t,e,o);return r.fromJSON(a)}async function n(r,s,n){const p=e(r),i={...n},u=t.from(s),m=!u.quantizationParameters,{data:f}=await o(p,u,new a({sourceSpatialReference:u.sourceSpatialReference,applyTransform:m}),i);return f}export{s as executeQueryPBF,n as executeRawQueryPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../../tasks/operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),!o.outFields||null!=t&&t.returnCountOnly?delete o.outFields:-1!==o.outFields.indexOf(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"),o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,i={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)i[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(i[s[t]]=e)}return{...r,data:i}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../tasks/support/FeatureSet.js\";import r from\"../../tasks/support/RelationshipQuery.js\";import{parseUrl as e}from\"../utils.js\";import{executeRelationshipQuery as o,executeRelationshipQueryForCount as s}from\"./operations/queryRelatedRecords.js\";async function n(s,n,a){n=r.from(n);const u=e(s);return o(u,n,a).then((r=>{const e=r.data,o={};return Object.keys(e).forEach((r=>o[r]=t.fromJSON(e[r]))),o}))}async function a(t,o,n){o=r.from(o);const a=e(t);return s(a,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,a as executeRelationshipQueryForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/has.js\";import{isSome as t}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./support/FeatureSet.js\";import{DataLayerSource as u}from\"../layers/support/source/DataLayerSource.js\";import a from\"./support/Query.js\";import n from\"./support/RelationshipQuery.js\";import{executeAttachmentQuery as c}from\"../rest/query/executeAttachmentQuery.js\";import{executeForCount as m}from\"../rest/query/executeForCount.js\";import{executeForExtent as p}from\"../rest/query/executeForExtent.js\";import{executeForIds as h}from\"../rest/query/executeForIds.js\";import{executeRawQueryJSON as l}from\"../rest/query/executeQueryJSON.js\";import{executeRawQueryPBF as y}from\"../rest/query/executeQueryPBF.js\";import{executeRelationshipQuery as d,executeRelationshipQueryForCount as f}from\"../rest/query/executeRelationshipQuery.js\";import S from\"./Task.js\";let j=class extends S{constructor(e){super(e),this.dynamicDataSource=null,this.format=\"json\",this.gdbVersion=null,this.sourceSpatialReference=null}execute(e,r){return this.executeJSON(e,r).then((e=>i.fromJSON(e)))}async executeJSON(e,t){var o;const s={...this.requestOptions,...t},i=this._normalizeQuery(e),u=null!=(null==(o=e.outStatistics)?void 0:o[0]),a=r(\"featurelayer-pbf-statistics\"),n=!u||a;let c;if(\"pbf\"===this.format&&n)try{c=await y(this.url,i,s)}catch(m){if(\"query:parsing-pbf\"!==m.name)throw m;this.format=\"json\"}return\"json\"!==this.format&&n||(c=await l(this.url,i,s)),this._normalizeFields(c.fields),c}executeForCount(e,r){const t={...this.requestOptions,...r},o=this._normalizeQuery(e);return m(this.url,o,t)}executeForExtent(e,r){const t={...this.requestOptions,...r},o=this._normalizeQuery(e);return p(this.url,o,t)}executeForIds(e,r){const t={...this.requestOptions,...r},o=this._normalizeQuery(e);return h(this.url,o,t)}executeRelationshipQuery(e,r){e=n.from(e);const t={...this.requestOptions,...r};return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),d(this.url,e,t)}executeRelationshipQueryForCount(e,r){e=n.from(e);const t={...this.requestOptions,...r};return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),f(this.url,e,t)}executeAttachmentQuery(e,r){const t={...this.requestOptions,...r};return c(this.url,e,t)}_normalizeQuery(e){const r=a.from(e);if(r.sourceSpatialReference=r.sourceSpatialReference||this.sourceSpatialReference,!this.gdbVersion&&!this.dynamicDataSource)return r;const t=r===e?r.clone():r;return t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?u.from(e.dynamicDataSource):this.dynamicDataSource,t}_normalizeFields(e){if(t(this.fieldsIndex)&&t(e))for(const r of e){const e=this.fieldsIndex.get(r.name);e&&Object.assign(r,e.toJSON())}}};e([o({type:u})],j.prototype,\"dynamicDataSource\",void 0),e([o()],j.prototype,\"fieldsIndex\",void 0),e([o()],j.prototype,\"format\",void 0),e([o()],j.prototype,\"gdbVersion\",void 0),e([o()],j.prototype,\"sourceSpatialReference\",void 0),j=e([s(\"esri.tasks.QueryTask\")],j);var x=j;export default x;\n"],"sourceRoot":""}