{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/core/devEnvironmentUtils.js"],"names":["t","e","s","o","n","r","m","origin","type","symbol","error","write","messages","push","declaredClass","context","i","b","h","portal","a","getDefault","url","user","username","load","then","l","disableExtraQuery","query","D","R","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","owner","styleName","j","fetchData","data","baseUrl","itemUrl","g","styleUrl","P","d","Promise","reject","w","name","q","replace","N","y","E","U","p","items","find","symbolName","cimRef","formatInfos","href","webRef","S","thumbnail","imageData","f","c","u","styleOrigin","$","test","responseType","clone","fromCIMSymbol","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","fromSimpleFillSymbol","fromTextSymbol","id","symbolLayers","length","getItemAt","_ignoreDrivers","location","hostname","match"],"mappings":"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","file":"static/js/159.8ebd4241.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import s from\"../Symbol3D.js\";import o from\"../WebStyleSymbol.js\";import{readSymbol as n}from\"../../symbols.js\";import{to3D as r}from\"./symbolConversion.js\";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(n,t,m){if(!n)return null;if(m&&\"web-scene\"===m.origin&&!(n instanceof s)&&!(n instanceof o)){const s=\"cim\"!==n.type?r(n):{symbol:null,error:new e(\"symbol-conversion:unsupported-cim-symbol\",\"CIM symbol is unsupported in web scenes\",{symbol:n})};return s.symbol?s.symbol.write(t,m):(m.messages&&m.messages.push(new e(\"symbol:unsupported\",`Symbols of type '${n.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:n,context:m,error:s.error})),null)}return m&&\"web-map\"===m.origin&&\"web-style\"===n.type?(m.messages&&m.messages.push(new e(\"symbol:unsupported\",`Symbols of type '${n.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:n,context:m})),null):n.write(t,m)}function i(e,s){return n(e,null,s)}export{i as fromJSON,t as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";function o(o){return!!e(`enable-feature:${o}`)}const r=()=>o(\"force-wosr\"),t=()=>o(\"disable-context-navigation\");export{t as disableContextNavigation,r as enableWebStyleForceWOSR,o as hasEnableFeature};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{normalize as t,removeFile as r,urlToObject as o}from\"../../core/urlUtils.js\";import{f as s}from\"../../chunks/persistableUrlUtils.js\";import n from\"../../request.js\";import l from\"../../portal/PortalQueryParams.js\";import a from\"../../portal/Portal.js\";import i from\"./StyleOrigin.js\";import m from\"./Thumbnail.js\";import{isSymbol3D as u}from\"../../symbols.js\";import{fromJSON as y}from\"./jsonUtils.js\";import{isDevEnvironment as f,adjustStaticAGOUrl as c}from\"../../core/devEnvironmentUtils.js\";import{enableWebStyleForceWOSR as p}from\"../../support/featureFlags.js\";const b={};function d(e,t){return P(e,t).then((t=>({data:t.data,baseUrl:r(e),styleUrl:e})))}function h(e,t,r){const o=t.portal||a.getDefault();let s;const n=`${o.url} - ${o.user&&o.user.username} - ${e}`;return b[n]||(b[n]=j(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),b[n]}function j(t,r,o){return r.load(o).then((()=>{const e=new l({disableExtraQuery:!0,query:`owner:${D} AND type:${R} AND typekeywords:\"${t}\"`});return r.queryItems(e,o)})).then((({results:r})=>{let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r))for(const e of r){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===R&&e.owner===D){s=e;break}}if(!s)throw new e(\"symbolstyleutils:style-not-found\",`The style '${t}' could not be found`,{styleName:t});return s.load(o)}))}function g(t,r,o){return t.styleUrl?d(t.styleUrl,o):t.styleName?h(t.styleName,r,o):Promise.reject(new e(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function w(t,r,o,s){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?E(t,r,s):g(t,r,s).then((e=>U(e,t.name,r,o,s))):Promise.reject(new e(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function U(t,n,l,a,p){const b=t.data,d={portal:l.portal,url:o(t.baseUrl),origin:\"portal-item\"},h=b.items.find((e=>e.name===n));if(!h){const t=`The symbol name '${n}' could not be found`;return Promise.reject(new e(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:n}))}let j=s(S(h,a),d),g=h.thumbnail&&h.thumbnail.href;const w=h.thumbnail&&h.thumbnail.imageData;f()&&(j=c(j),g=c(g));const U={portal:l.portal,url:o(r(j)),origin:\"portal-item\"};return P(j,p).then((e=>{const r=\"cimRef\"===a?N(e.data):e.data,o=y(r,U);if(o&&u(o)){if(g){const e=s(g,d);o.thumbnail=new m({url:e})}else w&&(o.thumbnail=new m({url:`data:image/png;base64,${w}`}));t.styleUrl?o.styleOrigin=new i({portal:l.portal,styleUrl:t.styleUrl,name:n}):t.styleName&&(o.styleOrigin=new i({portal:l.portal,styleName:t.styleName,name:n}))}return o}))}function N(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function S(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!p())for(const r of e.formatInfos)if(\"gltf\"===r.type)return r.href;return e.webRef}function $(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function E(e,t,s){const n=q.replace(/\\{SymbolName\\}/gi,e.name);return P(n,s).then((e=>{const s=N(e.data);return y(s,{portal:t.portal,url:o(r(n)),origin:\"portal-item\"})}))}function P(e,r){const o={responseType:\"json\",query:{f:\"json\"},...r};return n(t(e),o)}const D=\"esri_en\",R=\"Style\",q=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{g as fetchStyle,U as fetchSymbolFromStyle,w as resolveWebStyleSymbol,$ as styleNameFromItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../core/Error.js\";import m from\"../SimpleLineSymbol.js\";import r from\"../LabelSymbol3D.js\";import e from\"../LineSymbol3D.js\";import l from\"../PictureMarkerSymbol.js\";import i from\"../PointSymbol3D.js\";import s from\"../PolygonSymbol3D.js\";import t from\"../SimpleFillSymbol.js\";import f from\"../SimpleMarkerSymbol.js\";import y from\"../TextSymbol.js\";import n from\"../WebStyleSymbol.js\";import{isSymbol3D as b}from\"../../symbols.js\";function p(p,S=!1,a=!1,c=!0){if(!p)return{symbol:null};let j;if(b(p)||p instanceof n)j=p.clone();else if(\"cim\"===p.type)j=i.fromCIMSymbol(p);else if(p instanceof m)j=e.fromSimpleLineSymbol(p);else if(p instanceof f)j=i.fromSimpleMarkerSymbol(p);else if(p instanceof l)j=i.fromPictureMarkerSymbol(p);else if(p instanceof t)j=s.fromSimpleFillSymbol(p);else{if(!(p instanceof y))return{error:new o(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};j=c?r.fromTextSymbol(p):i.fromTextSymbol(p)}if(S&&(j.id=p.id),a&&b(j))for(let o=0;o<j.symbolLayers.length;++o)j.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:j}}export{p as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport c from\"./global.js\";function a(a){return a=a||c.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||c.location.hostname)?null!=t.match(r)||null!=t.match(m)?a.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(n)||null!=t.match(s)?a.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):a:a}function o(a){a=a||c.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(e).some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}const r=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,e=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,r,n,/^jsapps.esri.com$/,m,s];export{t as adjustStaticAGOUrl,a as isDevEnvironment,o as isTelemetryDevEnvironment};\n"],"sourceRoot":""}