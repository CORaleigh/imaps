{"version":3,"sources":["../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","n","stops","length","r","s","size","filter","type","map","maxSize","minSize","o","f","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","a","i","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","m","x","p","y","c","l","xmin","min","ymin","xmax","ymax","toMap","intersects","j","getLogger","C","constructor","super","this","layer","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","geometry","_set","attachSymbolChanged","error","graphic","elevationInfo","v","offset","b","mode","_get","_updateGraphicSymbol","grabbableForEvent","emit","action","destroy","detachSymbolChanged","_resetGraphicSymbol","intersectionDistance","visible","view","_intersectDistance2D","_intersectDistance3D","attach","add","detach","remove","watch","focusedSymbol","_focused","S","originalPoint","g","clone","mapPoint","radiusPx","h","G","toScreen","_","include","d","w","renderSpatialReference","u","state","camera","eye","constructOnly","nonNullable","prototype","readOnly","value","index","viewEvent","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","preventDefault","k","EventedAccessor","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","initialize","_setUpManipulators","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","removeAll","get","updateGeometry","set","_findTargetGraphic","indexOf","stopPropagation","origin","key","Number","MAX_VALUE"],"mappings":"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","file":"static/js/161.03244493.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n"],"sourceRoot":""}