{"version":3,"sources":["../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/renderers/support/numberUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js","../node_modules/@arcgis/core/chunks/vec3f64.js","../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/chunks/common.js","../node_modules/@arcgis/core/core/asyncUtils.js","../node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","../node_modules/@arcgis/core/symbols/support/ElevationInfo.js","../node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","../node_modules/@arcgis/core/symbols/cim/utils.js","../node_modules/@arcgis/core/core/ItemCache.js","../node_modules/@arcgis/core/symbols/support/utils.js","../node_modules/@arcgis/core/symbols/support/gfxUtils.js","../node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js","../node_modules/@arcgis/core/symbols/support/symbolUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js"],"names":["o","e","r","type","n","t","Number","toFixed","i","l","u","previous","s","next","String","match","integer","split","length","fractional","toLowerCase","indexOf","Math","abs","floor","slice","tolerance","strictBounds","indexes","c","map","sort","a","f","m","g","maximumFractionDigits","I","U","A","push","async","stops","value","some","label","Promise","all","color","getColor","reverse","getOpacity","startIndex","endIndex","weight","blendColors","HH","HL","LL","LH","2","3","4","symbolLayers","getItemAt","style","H","top","bottom","left","right","p","S","legendOptions","customValues","symbol","classBreakInfos","uniqueValueInfos","k","clone","j","L","V","y","b","d","minSize","maxSize","h","v","target","minDataValue","maxDataValue","getSizeRangeAtScale","O","D","C","authoringInfo","univariateTheme","E","z","T","q","w","M","x","size","outlineSize","visualVariables","forEach","material","resource","href","outline","width","ceil","getSize","scale","view","shape","declaredClass","height","font","getLogger","X","K","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","Q","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","Y","Z","ee","te","le","se","ne","re","ie","ae","de","ce","ye","he","pe","be","ve","we","Re","path","Fe","Te","constructor","super","this","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","layer","legendElements","parent","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","initialize","notifyChange","add","_","added","removed","uid","remove","destroy","opacity","_getParentLayerOpacity","_isGroupActive","featureReduction","renderer","get","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_get","_e","_getRendererLegendElements","featureSet","features","layerDefinition","drawingInfo","read","geometryType","name","warn","then","ge","fe","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","Se","_constructLegendElementsForSublayers","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","infos","allSettled","catch","_constructLegendElementsForWMTSlayer","ready","expression","valueExpression","minScale","maxScale","sublayers","loaded","source","sourceJSON","layers","id","mapLayerId","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","on","toArray","visible","legendEnabled","_generateSymbolTableElementForWMSSublayer","unshift","filter","_generateSymbolTableElementForLegendUrl","responseType","data","preview","resolve","_legendRequest","dynamicLayers","exportImageServiceParameters","renderingRule","JSON","stringify","toJSON","bandIds","join","raster","viewId","url","replace","version","substring","$","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","originIdOf","load","_generateSymbolTableElementForSublayer","R","hasDynamicLayers","set","layerId","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","min","max","values","splice","me","ue","oe","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","field","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","F","colorUniqueValueInfos","reduce","concat","_getSymbolPreview","symbolConfig","applyColorModulation","colorModulation","_getElementInfoForDotDensity","backgroundColor","dotSize","has","calculateDotValue","unit","round","attributes","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","Ie","Ce","findIndex","colorStops","ratio","B","focus","numClasses","field1","field2","normalizationField","_getFieldAlias","normField","angle","fill","colors","labels","rotation","_getDomainName","defaultSymbol","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","tileType","_getServerSideLegend","Le","_constructTileImageryStretchRendererElements","Ee","statistics","outputMin","outputMax","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","bandCount","_getStretchLegendElements","BandName","_createSymbolTableElementMultiBand","format","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","_getAllInfos","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","rasterInfo","pixelType","Array","from","keys","colorRamps","toColor","fromColor","colorRamp","colorName","bandName","axis","_effectiveRenderer","find","featuresTilingScheme","getClosestInfoForScale","level","levels","clusterMinSize","clusterMaxSize","showLegend","_getMedianColor","_fetchSymbol","prototype","apply","_applySymbolToRenderer","reject","portal","user","username","styleName","styleUrl","fetchCIMSymbol","fetchSymbol","toRgba","_applyColorTo3dSymbol","_getRampTitle","getField","P","_getClusterTitle","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","readOnly","dependsOn","Ve","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","state","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","sqrt","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","stroke","transform","markerStart","markerEnd","x1","y1","x2","y2","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","layout","messages","messagesCommon","own","_watchForSectionChanges","render","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","marginTop","marginLeft","display","flexDirection","justifyContent","afterCreate","isBright","background","textShadow","border","_renderImage","alt","_renderSizeRampLines","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","marginRight","cloneNode","offset","N","alignItems","verticalAlign","_getStretchStopLabel","notation","iconClass","viewModel","_refreshActiveLayerInfos","castStyle","_renderOnActiveLayerInfoChange","scheduleRender","aliasOf","overridable","Float64Array","freeze","__proto__","create","fromValues","fromArray","createView","zeros","ones","unitX","unitY","unitZ","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","json","origins","reader","screenSizePerspective","originOf","store","write","ignoreOrigin","writer","disablePopup","enabled","isRequired","service","origin","transparency","timeInfo","timeExtent","useViewTime","intersection","isEmpty","timeOffset","equals","fromJSON","spatialReference","random","PI","EPSILON","RANDOM","toRadian","toDegree","ok","error","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","arguments","readFeatureExpressionInfo","featureExpression","writeFeatureExpressionInfo","featureExpressionInfo","_isOverridden","_override","_set","mode","apiValues","nonNullable","jsonValues","charAt","substr","toUpperCase","_storage","registerRemoveFunc","put","pop","clear","clearAll","styleOrigin","resourceSize","symbolSize","computeObjectLayerResourceSize","depth","tilt","roll","xscale","yscale","xoffset","yoffset","naturalWidth","naturalHeight","fillStyle","fillRect","globalCompositeOperation","drawImage","toDataURL","cap","miterLimit","effects","preserveOutlineWidth","offsetX","offsetY","separation","markerPlacement","customEndingOffset","offsetAlongLine","placementTemplate","maxRandomOffset","startPointOffset","beginPosition","endPosition","stepX","stepY","anchorPoint","anchorPointUnits","markerGraphics","scaleSymbolsProportionally","beginCut","endCut","middleCut","dashTemplate","radius","fromWidth","toWidth","amplitude","period","colorLocked","swatchSize","toCss","lineWidth","strokeRect","Image","gradient","createLinearGradient","addColorStop","previewWebStyleSymbol","previewSymbol3D","previewSymbol2D","previewCIMSymbol","sourceLayer","ignoreGraphicSymbol","abortOptions","getSymbolAsync","arcadeRequiredForVisualVariables","arcade","getAllSizes","getRotationAngle","flatten","gdbVersion","toHex","disableUpsampling","thumbnail","G","cx","cy","command","J","node","profile","pathSymbol3DLayer","pattern","W","definitionExpression","labelingInfo","labelsVisible","visibleSublayers","toExportImageJSON","serviceSublayers","handles","allSublayers","propertyName","commitProperty","dpi","imageFormat","transparent","imageTransparency","layerDefs"],"mappings":"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","file":"static/js/107.d61e0071.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import e from\"../../core/Error.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(e){return r(e)||\"simple\"===e.type||\"unique-value\"===e.type||\"class-breaks\"===e.type||\"dictionary\"===e.type}function s(n){if(r(n))return null;if(!o(n))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatNumber as t}from\"../../intl/number.js\";import\"../../intl.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatDate as A,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";const g=\"<\",w=\">\",I=a(\"short-date\");function U(a,U,e,i){let o=\"\";0===U?o=`${g} `:U===e&&(o=`${w} `);let r=null;return r=i?A(a,I):t(a),o+r}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];export{e as RGB_IMG_SOURCE,U as createStopLabel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as o,getFill as e}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const e=o(t);return e&&e.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const e=o(t);return e&&e.color}return e(t)}function H(t,o){const e=o.HH.label,r=o.LL.label,s=o.HL.label,l=o.LH.label;switch(t){case\"HH\":return{top:e,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:e};case\"LL\":return{top:r,bottom:e,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:e,right:r};default:return{top:e,bottom:r,left:s,right:l}}}function i(o,e){const r=[],s=o.length**.5,l=t(o),n=(e||\"HH\").split(\"\"),H=n[0],i=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());i&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function L(t){const{focus:o,infos:e,numClasses:r}=t,s=l[r],i={};e.forEach((t=>{i[t.value]={label:t.label,fill:n(t.symbol)}}));const L=[];for(let l=0;l<r;l++){const t=[];for(let o=0;o<r;o++){const e=i[s[l][o]];t.push(e.fill)}L.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:o,colors:L,labels:H(o,i),rotation:f(o)}}function f(t){let o=s[t];return t&&null==o&&(o=s.HH),o||0}export{i as getRelationshipRampColors2D,L as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{applyCIMSymbolColor as t}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as n,getSymbolOutlineSize as i}from\"../../../symbols/support/utils.js\";import{round as o,numDigits as s,percentChange as r}from\"../../../renderers/support/numberUtils.js\";import{createStopLabel as a}from\"./utils.js\";const u=30,c=12,m=[255,255,255],f=[200,200,200],p=[128,128,128],y=20,b=5;function d(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function h(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function w(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function S(e,l,t,s,r,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=V(e,t),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=n(p);let S=null,k=null,j=null;k=g&&!h?o([l.minDataValue,l.maxDataValue]):f||await C(l,p,s,r);const L=null==e?void 0:e.authoringInfo,O=\"univariate-color-size\"===(null==L?void 0:L.type),D=O&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!k&&h&&(k=l.stops.map((e=>e.value)),S=l.stops.some((e=>!!e.label)),S&&(j=l.stops.map((e=>e.label)))),g&&(null==(u=k)?void 0:u.length)>2&&!D&&(k=[k[0],k[k.length-1]]),!k)return null;O&&5!==(null==(c=k)?void 0:c.length)&&(k=I({minSize:k[0],maxSize:k[k.length-1]}));const E=g?z(e,k):null,T=i(p),q=S?null:w(k,a);return(await Promise.all(k.map((async(t,n)=>{const i=g?E[n]:await M(l,p,t,s,r);return{value:t,symbol:U(D&&\"class-breaks\"===e.type?x(e,n):p,i),label:S?j[n]:q[n],size:i,outlineSize:T}})))).reverse()}function z(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let i=[c,u];if(n){const e=l[0],t=l[l.length-1],n=c,o=u;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&i.reverse(),i}function x(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.indexOf(\"3d\")>-1?j(i):L(i)),i}function V(e,l){let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||k(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?j(t):L(t)),t)}function k(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function j(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:p}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:f}:(e.material={color:m},e.outline={color:p,size:1.5})}))}function L(l){\"cim\"===l.type?t(l,new e(f)):-1!==l.type.indexOf(\"line\")?l.color=p:(l.color=m,\"simple-marker\"===l.type&&(l.outline={color:p,width:1.5}))}async function C(e,l,t,n){const i=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,t,n),s=i&&I(i);if(!i&&!s)return;let r=s.map((l=>O(l,e,i)));r=o(r);for(let o=1;o<r.length-1;o++){const i=await D(e,l,r[o],r[o-1],t,n);i&&(r[o]=i[0],s[o]=i[1])}return r}function I(e){const l=e.minSize,t=e.maxSize,n=b,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function O(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function D(e,l,t,n,i,a){const u=await M(e,l,t,i,a),c=await M(e,l,n,i,a),m=s(t),f=m.fractional,p=y;let b=m.integer,d=null,h=null;t>0&&t<1&&(d=10**f,b=s(t*=d).integer);for(let s=b-1;s>=0;s--){const n=10**s;let m=Math.floor(t/n)*n,f=Math.ceil(t/n)*n;null!=d&&(m/=d,f/=d);let y=(m+f)/2;[,y]=o([m,y,f],{indexes:[1]});const b=await M(e,l,m,i,a),v=await M(e,l,f,i,a),g=await M(e,l,y,i,a),w=r(u,b,c,null),S=r(u,v,c,null),z=r(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,b]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function M(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function U(e,t){const i=e.clone();if(l(i))n(i)||i.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(d(i))i.size=t;else if(h(i)){const e=i.width,l=i.height;i.height=t,i.width=t*(e/l)}else v(i)?i.width=t:g(i)&&i.font&&(i.font.size=t);return i}export{u as REAL_WORLD_MAX_SIZE,c as REAL_WORLD_MIN_SIZE,S as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,isSome as l}from\"../../../core/maybe.js\";import s from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{JSONMap as r}from\"../../../core/jsonMap.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{objectToQuery as a}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{eachAlways as o,debounce as u}from\"../../../core/promiseUtils.js\";import d from\"../../../core/Accessor.js\";import c from\"../../../core/Collection.js\";import{isDateField as y}from\"../../../layers/support/fieldUtils.js\";import h from\"../../../Color.js\";import{px2pt as m}from\"../../../core/screenUtils.js\";import{addTokenParameter as p}from\"../../../kernel.js\";import f from\"../../../request.js\";import g from\"../../../symbols/SimpleFillSymbol.js\";import b from\"../../../symbols/SimpleMarkerSymbol.js\";import\"../../../symbols.js\";import S from\"../../../core/Handles.js\";import{on as _,init as v,watch as w}from\"../../../core/watchUtils.js\";import L from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as E}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as I}from\"../../../symbols/support/utils.js\";import{fromJSON as C}from\"../../../renderers/support/jsonUtils.js\";import{ExportImageParameters as R}from\"../../../layers/support/ExportImageParameters.js\";import{renderColorRampPreviewHTML as F,renderDotDensityPreviewHTML as T,renderPreviewHTML as V}from\"../../../symbols/support/symbolUtils.js\";import{isSupportedRenderer3D as z}from\"../../../renderers/support/rendererConversion.js\";import{getClusterSizeVariable as x}from\"./clusterUtils.js\";import{RGB_IMG_SOURCE as j}from\"./utils.js\";import{getColorFromPointCloudStops as M,getRampStopsForPointCloud as D,getStrectchRampStops as O,getRampStops as P}from\"./colorRampUtils.js\";import{getHeatmapRampStops as B}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as U,getRelationshipRampElement as k}from\"./relationshipRampUtils.js\";import{getRampStops as A,REAL_WORLD_MAX_SIZE as N,REAL_WORLD_MIN_SIZE as W}from\"./sizeRampUtils.js\";const q=s.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),$=\"https://utility.arcgis.com/sharing/tools/legend\",G=\"esri.layers.ImageryLayer\",J=\"esri.layers.ImageryTileLayer\",H=\"esri.layers.WCSLayer\",X=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,K=new r({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),Q={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Y=new b({size:6,outline:{color:[128,128,128,.5],width:.5}}),Z=new g({style:\"solid\"});function ee(e){return\"vector-field\"===e.type}function te(e){return\"raster-colormap\"===e.type}function le(e){return\"raster-stretch\"===e.type}function se(e){return\"raster-shaded-relief\"===e.type}function ne(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function re(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function ie(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function ae(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function oe(e){return de(e)||ce(e)||ye(e)||ue(e)}function ue(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function de(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function ce(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function ye(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function he(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function me(e,t){return ne(e)||re(e)||ie(e)||ae(e)||he(e)?\"2d\"===t.type||z(e):le(e)||te(e)||se(e)||de(e)||ce(e)||ye(e)||ee(e)}function pe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function fe(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function ge(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function be(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function Se(e){return\"esri.layers.TileLayer\"===e.declaredClass}function _e(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function ve(e){return e.declaredClass===G}function we(e){return e.declaredClass===J}function Le(e){return e.declaredClass===H}function Ee(e){return\"stretch-ramp\"===e.type}function Ie(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Ce(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const Re=new b({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Fe={},Te=class extends d{constructor(e){super(e),this._handles=new S,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new c,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([_(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,n=this._handles;l.map((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;n.add(v(t,\"ready\",e),l)})),s.forEach((e=>n.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Fe={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Fe=null)}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,n=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=n?n*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(X.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){const t=e.map((e=>{if(_e(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&C(l.renderer),n=K.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:n}):(q.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await o(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){q.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=await this._getRendererLegendElements(e);this.legendElements=t,this.notifyChange(\"ready\")}catch(t){q.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;ge(e)?this._constructLegendElementsForWMTSlayer():fe(e)?await this._constructLegendElementsForWMSSublayers():pe(e)?await this._constructLegendElementsForBuildingSceneLayer():be(e)||Se(e)||pe(e)?await this._constructLegendElementsForSublayers():(this._handles.remove(\"imageryLayers-watcher\"),await this._getLegendLayers(`${e.uid}-default`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(ve(e)||we(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>u((async()=>{Fe.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(ve(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await Promise.allSettled(l)})).catch((e=>{q.warn(\"Request to server for legend has failed!\",e)})))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||X.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&be(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(w(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(w(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const n of s){const e=n.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),n.visible&&n.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(n,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let s=e.legendUrl;if(!s)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(s+=\"?\"+a(t));let r=null;const i=null==(l=e.layer)?void 0:l.opacity;try{r=(await f(s,{responseType:\"image\"})).data,r&&(r.style.opacity=i)}catch{}return n.infos.push({src:s,preview:r,opacity:i}),n}_getLegendLayers(e,t){const l=Fe&&Fe[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return Fe[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(ve(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId){const{raster:e,viewId:s}=t;l={raster:e,viewId:s,...l}}}let s=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=s.indexOf(\"?\");e>-1?s=s.substring(0,e)+\"/legend\"+s.substring(e):s+=\"/legend\"}else{const e=s.toLowerCase().indexOf(\"/rest/\"),t=s.substring(0,e)+s.substring(e+5,s.length);s=$+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return f(s,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(w(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){q.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const n of s){const e=n.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),n.visible){const e=n&&null!=n.opacity?n.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===n.type){const e={type:\"symbol-table\",title:n.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(n.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(n.renderer){l=[...await this._getRendererLegendElements(n.renderer,{title:n.title,opacity:s,sublayer:n}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(w(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){q.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let n=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let r=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(r=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of r){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),i.visible&&i.legendEnabled&&(!this.respectLayerVisibility||this._isSublayerInScale(i))){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>2){await i.load();n=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...n]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&n.unshift(e)}}}return n.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=new R({layer:this.layer}),s=t.hasDynamicLayers?t.dynamicLayers:null;t.destroy();const n=s||`${this.layer.uid}-${e.id}-default`;(await this._getLegendLayers(n,s)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if(!s&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const n=null==t?void 0:t.renderer;let r=(null==t?void 0:t.title)||e.layerName;if(n&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>2)){const e=(null==t?void 0:t.title)||this._getRendererTitle(n,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const n={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=n.infos)?void 0:s.length)>0&&i.infos.push(n)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let s=e.url;if(e.imageData&&e.imageData.length>0)s=`data:image/png;base64,${e.imageData}`;else{if(0===s.indexOf(\"http\"))return null;s=p(`${this.layer.url}/${t}/images/${s}`)}return{label:e.label,src:s,opacity:null==l?this.opacity:l,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,n=null,r=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(n=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,n=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||n>this.scale)&&(r=!1),r}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let n=null,r=null;return s&&e.some(((e,t)=>(e.values||(n=t,r=e,r.label||(r.label=\"others\")),null!=r))),l?\"unique-value\"===l.type?r&&(e.splice(n,1),e.push(r)):\"class-breaks\"===l.type&&(r&&e.splice(n,1),e.reverse(),r&&e.push(r)):r&&(e.splice(n,1),e.push(r)),e}async _getRendererLegendElements(e,t={}){return me(e,this.view)?oe(e)?this._constructPointCloudRendererLegendElements(e,t):he(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):(q.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let n=null,r=null;if(de(e))n={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{n.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(Y,e.color)})}));else if(ce(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=M(e+(l-e)/2,t)}}n={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Y,s||Y.color)}]};const i=D(e.stops);r={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:F(i.map((e=>e.color)))}}else ye(e)&&(n={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{n.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(Y,e.color)})})));n&&n.infos.length&&s.push(n),r&&r.infos.length&&s.push(r);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return o(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:n}=e,r=n+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON())),i=this._dotDensityUrlCache,a=i.has(r)?i.get(r):T(e,t);return i.set(r,a),{opacity:1,src:a.src,preview:a,width:a.width,height:a.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,l={}){const{title:s,sublayer:n}=l,r=n||this.layer;let i=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const a=await this._getVisualVariableLegendElements(i,r)||[],u={type:\"symbol-table\",title:s||this._getRendererTitle(i,r),infos:[]};let d=null,c=!1;const y=new Set;if(Ie(i)){let e=s;const t=Ce(i)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",l=a.findIndex((e=>\"color-ramp\"===e.type)),n=a.splice(l,1)[0],r=a.findIndex((e=>\"size-ramp\"===e.type)),o=a.splice(r,1)[0],u=[];n&&(e=n.title,u.push(n)),o&&(e=o.title,u.push(o)),u.length>0&&a.push({type:t,title:e,infos:u})}else if(ae(i)){const e=B(i);a.push({type:\"heatmap-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))})}else if(ie(i)){const e=i&&i.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:n}=e;if(l&&s&&n){const e=[s,n];let o=U(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=Re.clone();i.angle=o,u.infos.push({label:n,symbol:i}),y.add(i),o+=90}const d=k({focus:t,numClasses:l,infos:i.uniqueValueInfos});a.unshift(d)}}else{const e=i.field;i.uniqueValueInfos.forEach((t=>{t.symbol&&u.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}i.defaultSymbol&&(u.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(re(i)){d=this._isUnclassedRenderer(i);(!d||!this._hasSizeRamp)&&(i.classBreakInfos.forEach((e=>{e.symbol&&u.infos.unshift({label:e.label||(d?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),d&&(u.title=null),this._updateInfosforClassedSizeRenderer(i,u.infos)),i.defaultSymbol&&!d&&(u.infos.push({label:i.defaultLabel||\"others\",symbol:i.defaultSymbol}),c=!0)}else if(le(i)){var h,m;if(we(this.layer)&&\"Map\"===(null==(h=this.layer)||null==(m=h.raster)?void 0:m.tileType))this._getServerSideLegend();else if(we(this.layer)||Le(this.layer)){const e=this._constructTileImageryStretchRendererElements(i);Ee(e)?a.push(e):u.infos=e}else{const e=this.layer;let l,s;var p,f;if(i.statistics&&i.statistics.length)l=null!=i.statistics[0].min?i.statistics[0].min:i.statistics[0][0],s=null!=i.statistics[0].max?i.statistics[0].max:i.statistics[0][1];else l=null==(p=i)?void 0:p.outputMin,s=null==(f=i)?void 0:f.outputMax;let n=[];const r=t(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties;1===r.bandCount?(l=null!=l?l:r.statistics&&r.statistics[0].min,s=null!=s?s:r.statistics&&r.statistics[0].max,l||s?a.push(this._getStretchLegendElements(i,{min:l,max:s})):this._getServerSideLegend()):e.bandIds&&1===e.bandIds.length?(l=null!=l?l:r.statistics&&r.statistics[e.bandIds[0]].min,s=null!=s?s:r.statistics&&r.statistics[e.bandIds[0]].max,l||s?a.push(this._getStretchLegendElements(i,{min:l,max:s})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(n=e.bandIds.map((e=>o[e].BandName)),u.infos=this._createSymbolTableElementMultiBand(n)):\"lerc\"===e.format?(n=[0,1,2].map((e=>o[e].BandName)),u.infos=this._createSymbolTableElementMultiBand(n)):this._getServerSideLegend():\"lerc\"===e.format?(n=[\"band1\",\"band2\",\"band3\"],u.infos=this._createSymbolTableElementMultiBand(n)):this._getServerSideLegend():this._getServerSideLegend()}}else if(te(i))i.colormapInfos.forEach((e=>{u.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(Z,e.color)})}));else if(ne(i)){let e=i.symbol;switch(l.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}i.symbol&&!this._hasSizeRamp&&u.infos.push({label:i.label,symbol:e})}else if(ee(i)){i.outputUnit&&(this.title=\"(\"+i.toJSON().outputUnit+\")\"),u.title=i.attributeField;const e=i.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{u.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):u.infos.push({label:i.attributeField,symbol:i.getDefaultSymbol()})}else se(i)&&a.push(this._getStretchLegendElements(i,{min:0,max:255}));const g=i.defaultSymbol;!g||c||ne(i)||d&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||a.push({type:\"symbol-table\",infos:[{label:i.defaultLabel||\"others\",symbol:g}]}),u.infos.length&&a.unshift(u);const b=null==l.opacity?this.opacity:l.opacity,S=this._isTallSymbol(\"visualVariables\"in i&&i.visualVariables),_=ve(this.layer)||we(this.layer),v=a.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(!e||!e.symbol))).map((e=>this._getSymbolPreview(e,b,{applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:S,isSquareFill:_}})));return i=null,await o(v),a}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,n=s.rasterInfo,r=n.bandCount||e.statistics.length;let i,a,o=[];const u=n.keyProperties&&n.keyProperties.BandProperties,d=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==n?void 0:n.statistics;if(d)i=void 0!==d[0].min?d[0].min:d[0][0],a=d[0].max||d[0][1];else{const e=Q[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(1===n.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function c(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(n.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=r?c(u):c(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=O(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:F(s.map((e=>e.color)))}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:j[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>I(e.symbol)));if(l&&s){const l=N,s=W,n=e.classBreakInfos.length,r=(l-s)/(n>1?n-1:n);t.forEach(((e,t)=>{e.size=l-r*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const n=e[s];\"size\"===n.type&&(\"height\"===n.axis&&(t=!0),\"width-and-depth\"===n.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null==e.size&&this._hasSizeRamp?m(22):e.size;if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return V(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var l,s;const n=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const i=\"visualVariables\"in e&&(null==(l=e.visualVariables)?void 0:l.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!X.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!i&&\"featureReduction\"in r&&\"cluster\"===(null==(s=r.featureReduction)?void 0:s.type)){const l=this.layerView._effectiveRenderer,s=t(x(l,this.view));if(s){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:l}=t;s.legendOptions=new L({showLegend:e!==l})}const l=e.visualVariables||[];e.visualVariables=l.concat([s]),this._hasClusterSizeVariable=!0}}const a=await this._getMedianColor(e);if(re(e)||ie(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,a).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(n,t)}return n.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:a).then((t=>{this._applySymbolToRenderer(e,t,ne(e))})).catch((()=>{this._applySymbolToRenderer(e,null,ne(e))}))),o(n).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}async _getMedianColor(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const t=e.visualVariables.find((e=>\"color\"===e.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const n=l+(s-l)/2,{getColor:r}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return r(t,n)}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,n=l&&l.user&&l.user.username,r=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+n,i=this._webStyleSymbolCache;return i.has(r)||(\"2d\"===this.view.type?i.set(r,e.fetchCIMSymbol()):i.set(r,e.fetchSymbol())),i.get(r).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>(q.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const l=e.clone(),s=t&&t.toRgba();return l.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(l,s):\"cim\"===l.type?E(l,t):l.color&&(l.color=new h(s||l.color)),l}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new h(t))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,n=[],r=[],i=[];for(const l of s)\"color\"===l.type?n.push(l):\"size\"===l.type?r.push(l):\"opacity\"===l.type&&i.push(l);const a=[...n,...r,...i];let o,u;if(0===n.length&&re(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];o=t&&t.symbol}if(0===n.length&&ne(e)&&(o=e.symbol),o)if(o.type.indexOf(\"3d\")>-1){const e=o.symbolLayers.getItemAt(0);\"water\"===e.type?l(e.color)&&(u=e.color):l(e.material)&&l(e.material.color)&&(u=e.material.color)}else o.url||(u=o.color);return(await Promise.all(a.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=this._getRampTitle(l,t);let n=null;const r=\"getField\"in t&&t.getField&&t.getField(l.field),i=r&&y(r);if(\"color\"===l.type){const e=await P(l,null,i);n={type:\"color-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))},this._hasColorRamp||(this._hasColorRamp=!(null==n.infos||!n.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)X.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(n={type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(l):s,infos:await A(e,l,await this._getMedianColor(e),this.scale,this.view.type,i)},this._hasSizeRamp||(this._hasSizeRamp=!(null==n.infos||!n.infos.length)));else if(\"opacity\"===l.type){const e=await P(l,u,i);n={type:\"opacity-ramp\",title:s,infos:e,preview:F(e.map((e=>e.color)))},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==n.infos||!n.infos.length))}return n&&n.infos?n:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),n=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return n&&\"coded-value\"===n.type?n.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,n=s&&s.fieldInfos;if(n)for(const t of n)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,n=!1,r=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){n=!0;break}if(\"percent\"===l.style){r=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:n,ratioPercent:r,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,n=null,r=null;re(l)&&(n=l.normalizationField,r=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,n=\"function\"==typeof n?null:n;let i=null;return(s||n)&&(i={field:s&&this._getFieldAlias(s,t),normField:n&&this._getFieldAlias(n,t),normByPct:r}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let n=null;s&&s.some((t=>e===t.fieldName&&(n=t,!0)));let r=null;\"getField\"in t&&t.getField?r=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(r=t.fieldsIndex.get(e));const i=n||r;let a=null;return i&&(a=n&&n.label||r&&r.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return re(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([n()],Te.prototype,\"children\",void 0),e([n()],Te.prototype,\"layerView\",void 0),e([n()],Te.prototype,\"layer\",void 0),e([n()],Te.prototype,\"legendElements\",void 0),e([n({readOnly:!0})],Te.prototype,\"opacity\",null),e([n()],Te.prototype,\"parent\",void 0),e([n({readOnly:!0,dependsOn:[]})],Te.prototype,\"ready\",null),e([n()],Te.prototype,\"keepCacheOnDestroy\",void 0),e([n()],Te.prototype,\"respectLayerVisibility\",void 0),e([n({readOnly:!0})],Te.prototype,\"scale\",null),e([n()],Te.prototype,\"sublayerIds\",void 0),e([n({readOnly:!0})],Te.prototype,\"isScaleDriven\",null),e([n()],Te.prototype,\"title\",void 0),e([n({readOnly:!0,dependsOn:[\"ready\"],value:0})],Te.prototype,\"version\",null),e([n()],Te.prototype,\"view\",void 0),Te=e([i(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Te);var Ve=Te;export default Ve;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import t from\"../../core/Collection.js\";import{onLocaleChange as a}from\"../../intl/locale.js\";import\"../../intl.js\";import n from\"../../core/Handles.js\";import{init as o,watch as l,whenTrue as y}from\"../../core/watchUtils.js\";import d from\"./support/ActiveLayerInfo.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=t.ofType(d),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",p=\"view.basemapView.referenceLayerViews\",v=[_,f,\"view.layerViews\",p];let u=class extends s{constructor(e){super(e),this._handles=new n,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new t,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(o(this,\"view\",this._viewHandles),h.view),this._handles.add(a((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(o(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(l(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const s=r.layer.parent,t=s&&\"uid\"in s&&this._layerViewByLayerId[s.uid],a=t&&this._activeLayerInfosByLayerViewId[t.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const s=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-s}))}_generateLayerViews(){const e=[];return v.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===p),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=s=>(s&&s.forEach((s=>{i.push(s),r(s[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return L.indexOf(e.layer.declaredClass)>-1&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(l(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,s=e.uid,t=this._layerInfosByLayerViewId[s];let a=this._activeLayerInfosByLayerViewId[s];if(!a){const i=t&&void 0!==t.title&&t.layer.uid===r.uid;a=new d({layer:r,layerView:e,title:i?t.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:t&&t.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[s]=a}const n=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(a.parent=this._activeLayerInfosByLayerViewId[null==n?void 0:n.uid],!this._handles.has(s)){const i=[l(r,\"title\",(e=>this._titleHandle(e,a))),l(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(a))),y(this.view,\"stationary\",(()=>this._scaleHandle(a))),l(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(a)))];if(this.respectLayerVisibility){const s=l(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,a))),t=l(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,a)));i.push(s,t)}this._handles.add(i,s)}a.isScaleDriven||this._constructLegendElements(a),this._addActiveLayerInfo(a)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){e.isScaleDriven&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var s;const i=null==(s=this.layerInfos)?void 0:s.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,s=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],t=this._activeLayerInfosByLayerViewId[null==s?void 0:s.uid];t&&(e.push(i),i.parent=t)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([i({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([i()],u.prototype,\"basemapLegendVisible\",void 0),e([i()],u.prototype,\"groundLegendVisible\",void 0),e([i()],u.prototype,\"keepCacheOnDestroy\",void 0),e([i()],u.prototype,\"respectLayerVisibility\",void 0),e([i()],u.prototype,\"layerInfos\",void 0),e([i({readOnly:!0})],u.prototype,\"state\",null),e([i()],u.prototype,\"view\",void 0),u=e([r(\"esri.widgets.Legend.LegendViewModel\")],u);var I=u;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{classes as e}from\"../../../support/widgetUtils.js\";import{j as a}from\"../../../../chunks/index.js\";import{generateFillAttributes as r,generateStrokeAttributes as l,renderDef as t,renderShape as s,getBoundingBox as i,computeBBox as o,getTransformMatrix as n}from\"../../../../symbols/support/svgUtils.js\";const d=\"http://www.w3.org/2000/svg\",m={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function u(r,l,t){const{focus:s,labels:i}=r,o=!!s,n=p(r,l,t);return o?a(\"div\",{class:m.diamondContainer},a(\"div\",{class:m.diamondLeftCol},i.left),a(\"div\",{class:m.diamondMidCol},a(\"div\",{class:m.diamondMidColLabel},i.top),n,a(\"div\",{class:m.diamondMidColLabel},i.bottom)),a(\"div\",{class:m.diamondRightCol},i.right)):a(\"div\",{class:m.squareTable},a(\"div\",{class:m.squareTableRow},a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightBottom)},i.left),a(\"div\",{class:m.squareTableCell}),a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftBottom)},i.top)),a(\"div\",{class:m.squareTableRow},a(\"div\",{class:m.squareTableCell}),n,a(\"div\",{class:m.squareTableCell})),a(\"div\",{class:m.squareTableRow},a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightTop)},i.bottom),a(\"div\",{class:m.squareTableCell}),a(\"div\",{class:e(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftTop)},i.right)))}function b(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function p(e,u,p,c=60){const{focus:h,numClasses:k,colors:q,rotation:f}=e,T=!!h,_=Math.sqrt(c**2+c**2)+(T?0:5);let L=null;null!=p&&(L=`opacity: ${p}`);const g=[],C=[],v=[],w=(c||75)/k;for(let a=0;a<k;a++){const e=a*w;for(let o=0;o<k;o++){const n=o*w,d=r(q[a][o]),m=l(null),u={type:\"rect\",x:n,y:e,width:w,height:w};g.push(t(d)),C.push(s(u,d.fill,m,null)),v.push(i(u))}}const x=10,y=15,R=15,$=10;let E=null;T||(E=\"margin: -15px -15px -18px -15px\");const M=b(\"left\",h,u),S=b(\"right\",h,u),j=o(v),B=n(j,_,_,0,!1,f,!1),H=n(j,_,_,0,!1,T?-45:null,!1);return a(\"div\",{style:L,class:T?m.diamondMidColRamp:m.squareTableCell},a(\"svg\",{xmlns:d,width:_,height:_,style:E},a(\"defs\",null,a(\"marker\",{id:`${u}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},a(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),a(\"marker\",{id:`${u}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},a(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),g),a(\"g\",{transform:B},C),a(\"g\",{transform:H},a(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":M.markerStart,\"marker-end\":M.markerEnd,x1:-x,y1:c-y,x2:-x,y2:y}),a(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:R,y1:c+$,x2:c-R,y2:c+$}))))}export{u as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{j as o}from\"../../../../chunks/index.js\";import{renderColorRampPreviewHTML as i}from\"../../../../symbols/support/symbolUtils.js\";const l=t(),r=10,n=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?o(\"svg\",{height:\"4\",width:\"10\"},o(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):o(\"svg\",{height:\"10\",width:\"10\"},o(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${n}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",l){t.infos.forEach(((t,r)=>{if(l&&2===r)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),r=l?t.preview:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,l||r.appendChild(t.preview),t.preview=r}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const o=e.infos.map((e=>e.color)),l=i(\"full\"===t.type?o:\"above\"===t.type?o.slice(0,3):o.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=m;v<=u;v++)if(i&&v===p)c+=\"horizontal\"===l?r:n;else{c+=e(f[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===l?n:r:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.filter((({type:e})=>\"size-ramp\"===e))[0],r=i.filter((({type:e})=>\"color-ramp\"===e))[0];var n;(l&&(l={...l},l.infos=[...l.infos]),r&&(r={...r},r.infos=[...r.infos]),m(l,t,o,!0),\"horizontal\"===o)&&(l.infos.reverse(),null==(n=r)||n.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.filter((({type:e})=>\"size-ramp\"===e))[0],l=o.filter((({type:e})=>\"color-ramp\"===e))[0];var r;(i&&(i={...i},i.infos=[...i.infos]),l&&(l={...l},l.infos=[...l.infos]),m(i,null,t,!1),\"horizontal\"===t)&&(i.infos.reverse(),null==(r=l)||r.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{substitute as e}from\"../../../intl/substitute.js\";import\"../../../intl.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{pt2px as i}from\"../../../core/screenUtils.js\";import{substitute as r}from\"../../../intl/substitute.js\";import\"../../../intl.js\";import a from\"../../../core/Handles.js\";import\"../../support/widgetUtils.js\";import{accessibleHandler as o}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as l}from\"../../support/decorators/messageBundle.js\";import{j as n}from\"../../../chunks/index.js\";import c from\"../../Widget.js\";import{renderSVG as d}from\"../../../symbols/support/svgUtils.js\";import{renderRelationshipRamp as p}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as m,getUnivariateSizeRampSize as h,getUnivariateColorRampSize as y,getUnivariateColorRampPreview as g,getUnivariateColorRampMargin as _,getUnivariateColorSizeRampElements as v}from\"./support/univariateUtils.js\";import{getTitle as u,attachToNode as b,isImageryStretchedLegend as f}from\"../support/styleUtils.js\";const w={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\",header:\"esri-widget__heading\"},L=25,C=25,x=768,S=100,z=\"#ddd\",R=window.devicePixelRatio;function $(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function I(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let k=class extends c{constructor(e,t){super(e,t),this._handles=new a,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=\"auto\"===this.layout&&this.view.container.clientWidth<=x||\"stack\"===this.layout;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=r(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return n(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(w.indicator,{[w.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),a=this._hasIndicators&&s>1?n(\"div\",{class:w.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,l={[w.stacked]:this._hasIndicators};return n(\"div\",{class:this.classes(w.base,l)},o||n(\"div\",{class:w.message},this.messages.noLegend),a)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return n(\"div\",{key:e.layer.uid,class:this.classes(w.service,w.groupLayer)},n(\"div\",{class:w.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[w.groupLayerChild]:!!e.parent};return n(\"div\",{key:e.layer.uid,class:this.classes(w.service,r)},n(\"div\",{class:w.serviceCaptionContainer},n(\"div\",{class:w.serviceCaptionText},e.title)),n(\"div\",{class:w.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer,c=e.title;let d=null;if(\"string\"==typeof c)d=c;else if(c){const e=u(this.messages,c,r||a);d=c.title?`${c.title} (${e})`:e}const m=this._getSectionName(l,e,s),h=this._hasIndicators?n(\"div\",null,n(\"h3\",{class:this.classes(w.header,w.carouselTitle)},t.title),n(\"h4\",{class:this.classes(w.header,w.layerCaption)},d)):d?n(\"h4\",{class:this.classes(w.header,w.layerCaption)},d):null;let y=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[w.symbolRow],t={[w.labelContainer]:!e&&!i,[w.relationshipLabelContainer]:i};y=n(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?y=this._renderLegendForRamp(e,l.opacity):o?y=this._renderSizeRamp(e,l.opacity):\"relationship-ramp\"===e.type?y=p(e,this.id,l.opacity):\"univariate-above-and-below-ramp\"===e.type?y=this._renderUnivariateAboveAndBelowRamp(e,l.opacity):\"univariate-color-size-ramp\"===e.type&&(y=this._renderUnivariateColorSizeRamp(e,l.opacity));if(!y)return null;const g=n(\"div\",{key:m,class:w.section,id:`${m}-panel`,role:\"tabpanel\",\"aria-labelledby\":m,tabIndex:0},[h,y]);return this._sectionMap.set(m,g),g}_renderUnivariateAboveAndBelowRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=m(e,t,\"horizontal\"),r=h(s,\"full\",!0,\"horizontal\"),a=y(s,\"above\",!0,\"horizontal\"),o=y(s,\"below\",!0,\"horizontal\"),l=12,c=g(i,{width:a,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"above\"}),d=g(i,{width:o,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"below\"}),p=_(s,\"card\"),v=s.infos.map((e=>e.label)),u=v.length-1,f=v.map(((e,t)=>0===t||t===u?n(\"div\",{key:t},e):null)),L={display:\"flex\",flexDirection:\"column\"},C={display:\"flex\",flexDirection:\"row\"},x={marginTop:\"3px\",marginLeft:`${p}px`,display:\"flex\"},S={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return n(\"div\",{class:w.layerRow,key:\"size-ramp-preview\",styles:L},n(\"div\",{class:this.classes(w.symbolContainer,w.sizeRampHorizontal),styles:C},s.infos.map(((e,t)=>n(\"div\",{key:t,class:w.symbol,bind:e.preview,afterCreate:b})))),c?n(\"div\",{class:w.univariateAboveAndBelowColorRamp,styles:x,key:\"color-ramp-preview\"},n(\"div\",{bind:c,afterCreate:b}),n(\"div\",{bind:d,afterCreate:b})):null,n(\"div\",{class:w.layerInfo},n(\"div\",{class:w.rampLabelsContainer,styles:S},f)))}_renderUnivariateColorSizeRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=v(e,\"horizontal\"),r=h(s,\"full\",!1,\"horizontal\"),a=y(s,\"full\",!1,\"horizontal\"),o=g(i,{width:a,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\"}),l=_(s,\"card\"),c=s.infos.length-1,d=s.infos.map(((e,t)=>0===t||t===c?n(\"div\",{key:t},e.label):null)),p={display:\"flex\",flexDirection:\"column\"},m={display:\"flex\",flexDirection:\"row\"},u={marginTop:\"3px\",marginLeft:`${l}px`,display:\"flex\"},f={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return n(\"div\",{class:w.layerRow,key:\"size-ramp-preview\",styles:p},n(\"div\",{class:this.classes(w.symbolContainer,w.sizeRampHorizontal),styles:m},s.infos.map(((e,t)=>n(\"div\",{key:t,class:w.symbol,bind:e.preview,afterCreate:b})))),n(\"div\",{class:w.univariateAboveAndBelowColorRamp,styles:u,key:\"color-ramp-preview\"},n(\"div\",{bind:o,afterCreate:b})),n(\"div\",{class:w.layerInfo},n(\"div\",{class:w.rampLabelsContainer,styles:f},d)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=f(r,s);if(e.preview){var o,l;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return n(\"div\",{key:i,bind:e.preview,afterCreate:b});const t={[w.symbolCell]:this._hasIndicators};return n(\"div\",{key:i,class:this.classes(w.layerRow,{[w.symbolRow]:this._hasIndicators})},n(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:b}),n(\"div\",{class:this.classes(w.imageLabel,{[w.labelCell]:this._hasIndicators})},u(this.messages,e.label,!1)||\"\"))}let t=255,s=255,a=255,c=0,d=255,p=255,m=255,h=0;const y=e.symbol.color&&e.symbol.color.a,g=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;y&&(t=e.symbol.color.r,s=e.symbol.color.g,a=e.symbol.color.b,c=e.symbol.color.a*r.opacity),g&&(d=e.symbol.outline.color.r,p=e.symbol.outline.color.g,m=e.symbol.outline.color.b,h=e.symbol.outline.color.a*r.opacity);const _=null==(o=null==(l=e.symbol.color)?void 0:l.isBright)||o,v=_?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",f={background:y?`rgba(${t}, ${s}, ${a}, ${c})`:\"none\",color:_?\"black\":\"white\",textShadow:`-1px -1px 0 ${v},\\n                                              1px -1px 0 ${v},\\n                                              -1px 1px 0 ${v},\\n                                              1px 1px 0 ${v}`,border:g?`1px solid rgba(${d}, ${p}, ${m}, ${h})`:\"none\"};return n(\"div\",{key:i,class:w.layerRow},n(\"div\",{class:w.labelElement,styles:f},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return n(\"div\",{key:i,class:w.layerRow},t,n(\"div\",{class:w.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[w.imageryLayerStretchedImage]:s,[w.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return n(\"img\",{alt:u(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,s=t[0],r=t[t.length-1],a=s.symbol,o=this._hasIndicators,l=i(s.size+s.outlineSize)*R,c=i(r.size+r.outlineSize)*R,d=o?l:l+50*R,p=o?l/2+50*R:l,m=I(a),h=$(a),y=document.createElement(\"canvas\");y.width=d,y.height=p,y.style.width=y.width/R+\"px\",y.style.height=y.height/R+\"px\";const g=y.getContext(\"2d\");if(o){g.beginPath();const e=0,t=0,s=d/2-c/2,i=p;g.moveTo(e,t),g.lineTo(s,i);const r=d,a=0,o=d/2+c/2,l=p;g.moveTo(r,a),g.lineTo(o,l)}else{g.beginPath();const e=0,t=p/2-c/2,s=d,i=0;g.moveTo(e,t),g.lineTo(s,i);const r=0,a=p/2+c/2,o=d,l=p;g.moveTo(r,a),g.lineTo(o,l)}return g.strokeStyle=z,g.stroke(),n(\"div\",{bind:y,afterCreate:b,styles:o?{display:\"flex\",marginTop:`-${m?0:h?l/2:0}px`,marginBottom:`-${m?c:h?c/2:0}px`}:{display:\"flex\",marginRight:`-${m?0:h?l/2:0}px`,marginLeft:`-${m?0:h?c/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,c={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const d={opacity:null!=t?`${t}`:\"\"};return n(\"div\",{class:this.classes(w.layerRow,{[w.sizeRampRow]:l})},n(\"div\",{class:w.rampLabel},l?i:r),n(\"div\",{class:w.sizeRampContainer,styles:c},n(\"div\",{bind:a,afterCreate:b,class:w.sizeRampPreview,styles:d}),this._renderSizeRampLines(e),n(\"div\",{bind:o,afterCreate:b,class:w.sizeRampContainer,styles:d})),n(\"div\",{class:w.rampLabel},l?r:i))}_renderLegendForRamp(e,t){const s=e.infos,i=\"heatmap-ramp\"===e.type,r=s.length-1,a=C,o=r>2&&!i?L*r:S,l=o+20,c=10,p=s.slice(0).reverse();p.forEach(((e,t)=>{e.offset=i?e.ratio:t/r}));const m=p.length-1,h=p.length%2!=0&&p[p.length/2|0],y=h&&n(\"div\",{class:w.intervalSeparatorsContainer},n(\"div\",{class:w.intervalSeparator},\"|\"),n(\"div\",{class:w.rampLabel},h.label)),g=s[s.length-1].label,_=s[0].label;let v=null;null!=t&&(v=`opacity: ${t}`);const u=[[{shape:{type:\"path\",path:`M0 ${a/2} L${c} 0 L${c} ${a} Z`},fill:p[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:c,y:0,width:o,height:a},fill:{type:\"linear\",x1:c,y1:0,x2:o+c,y2:0,colors:p},stroke:{width:0}},{shape:{type:\"path\",path:`M${o+c} 0 L${l} ${a/2} L${o+c} ${a} Z`},fill:p[m].color,stroke:{width:0}}]],b=d(u,l,a),{messages:f}=this;return n(\"div\",{class:w.layerRow},n(\"div\",{class:w.rampLabel},i?f[g]:g),n(\"div\",{class:w.symbolContainer},n(\"div\",{style:v},b),y),n(\"div\",{class:w.rampLabel},i?f[_]:_))}};e([t()],k.prototype,\"activeLayerInfos\",void 0),e([t()],k.prototype,\"layout\",void 0),e([t(),l(\"esri/widgets/Legend/t9n/Legend\")],k.prototype,\"messages\",void 0),e([t(),l(\"esri/t9n/common\")],k.prototype,\"messagesCommon\",void 0),e([t({readOnly:!0})],k.prototype,\"type\",void 0),e([t()],k.prototype,\"view\",void 0),e([o()],k.prototype,\"_selectSection\",null),k=e([s(\"esri.widgets.Legend.styles.Card\")],k);var N=k;export default N;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{formatNumber as a}from\"../../../intl/number.js\";import\"../../../intl.js\";import\"../../support/widgetUtils.js\";import{messageBundle as s}from\"../../support/decorators/messageBundle.js\";import{j as i}from\"../../../chunks/index.js\";import t from\"../../Widget.js\";import{renderRelationshipRamp as n}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as o,getUnivariateColorRampSize as p,getUnivariateColorRampPreview as d,getUnivariateColorRampMargin as m,getUnivariateColorSizeRampElements as y}from\"./support/univariateUtils.js\";import{getTitle as c,isRendererTitle as g,attachToNode as v,isImageryStretchedLegend as h}from\"../support/styleUtils.js\";const b={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",u=24,f={display:\"flex\",alignItems:\"flex-start\"},L={marginLeft:\"3px\"},w={display:\"table-cell\",verticalAlign:\"middle\"};let C=class extends t{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return i(\"div\",null,r&&r.length?r:i(\"div\",{class:b.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?i(\"h3\",{class:this.classes(b.header,b.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return i(\"div\",{key:l,class:this.classes(b.service,b.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer))).filter((e=>!!e));if(!s.length)return null;const t={[b.groupLayerChild]:!!e.parent};return i(\"div\",{key:l,class:this.classes(b.service,t),tabIndex:0},a,i(\"div\",{class:b.layer},s))}}_renderLegendForElement(e,r,l){const a=\"color-ramp\"===e.type,s=\"opacity-ramp\"===e.type,t=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||t){const l=e.infos.map((l=>this._renderLegendForElementInfo(l,r,t,e.legendType))).filter((e=>!!e));l.length&&(o=i(\"div\",{class:b.layerBody},l))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=n(e,this.id,r.opacity):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity));if(!o)return null;const p=e.title;let d=null;if(\"string\"==typeof p)d=p;else if(p){const e=c(this.messages,p,a||s);d=g(p,a||s)&&p.title?`${p.title} (${e})`:e}const m=l?b.layerChildTable:b.layerTable,y=d?i(\"div\",{class:b.layerCaption},d):null,v={[b.layerTableSizeRamp]:t||!l};return i(\"div\",{class:this.classes(m,v)},y,o)}_renderUnivariateAboveAndBelowRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=o(e,r),s=p(l,\"above\",!0),t=p(l,\"below\",!0),n=12,y=d(a,{width:n,height:s,rampAlignment:\"vertical\",opacity:r,type:\"above\"}),c=d(a,{width:n,height:t,rampAlignment:\"vertical\",opacity:r,type:\"below\"}),g=m(l),h=l.infos.map((e=>e.label)),_=h.map(((e,r)=>{const l=2===r;return 0===r?i(\"div\",{key:r,class:e?y?b.univariateAboveAndBelowLabel:b.rampLabel:null},e):l?i(\"div\",null):null})),u=h.length-1,C=Math.floor(h.length/2),R=h.map(((e,r)=>r===C||r===u?i(\"div\",{key:r,class:e?y?b.univariateAboveAndBelowLabel:b.rampLabel:null},e):null)),A={display:\"table-cell\",verticalAlign:\"middle\"},S={marginTop:`${g}px`},j={height:`${s}px`},I={height:`${t}px`};return i(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:f},i(\"div\",{class:b.layerBody},l.infos.map(((e,r)=>i(\"div\",{class:this.classes(b.layerRow,b.sizeRamp)},i(\"div\",{class:b.symbol,styles:A,bind:e.preview,afterCreate:v}),y||r%2!=0?null:i(\"div\",{class:b.layerInfo},h[r]))))),y?i(\"div\",{styles:S,key:\"color-ramp-preview\"},i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:y,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:j},_))),i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:c,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:I},R)))):null)}_renderUnivariateColorSizeRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=y(e),s=m(l),t=12,n=p(l,\"full\",!1),o=d(a,{width:t,height:n,rampAlignment:\"vertical\",opacity:r,type:\"full\"}),c=l.infos.length-1,g=l.infos.map(((e,r)=>0===r||r===c?i(\"div\",{key:r,class:e.label?a?b.univariateAboveAndBelowLabel:b.rampLabel:null},e.label):null)),h={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${s}px`},u={height:`${n}px`};return i(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:f},i(\"div\",{class:b.layerBody},l.infos.map((e=>i(\"div\",{class:this.classes(b.layerRow,b.sizeRamp)},i(\"div\",{class:b.symbol,styles:h,bind:e.preview,afterCreate:v}))))),i(\"div\",{styles:_,key:\"color-ramp-preview\"},i(\"div\",{styles:L},i(\"div\",{styles:w},i(\"div\",{class:b.rampContainer,bind:o,afterCreate:v})),i(\"div\",{styles:w},i(\"div\",{class:b.rampLabelsContainer,styles:u},g)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,n=e.preview,o=a?b.opacityRamp:\"\";n.className=`${b.colorRamp} ${o}`,null!=r&&(n.style.opacity=r.toString());const p=l.map((e=>i(\"div\",{class:e.label?b.rampLabel:null},s?this.messages[e.label]:t?this._getStretchStopLabel(e):e.label))),d={width:`${u}px`},m={height:n.style.height};return i(\"div\",{class:b.layerRow},i(\"div\",{class:b.symbolContainer,styles:d},i(\"div\",{class:b.rampContainer,bind:n,afterCreate:v})),i(\"div\",{class:b.layerInfo},i(\"div\",{class:b.rampLabelsContainer,styles:m},p)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+a(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"}):\"\"}_renderLegendForElementInfo(e,r,l,a){if(e.type)return this._renderLegendForElement(e,r,!0);let s=null;const t=h(r,a);if(e.preview?s=i(\"div\",{class:b.symbol,bind:e.preview,afterCreate:v}):e.src&&(s=this._renderImage(e,r,t)),!s)return null;const n={[b.imageryLayerInfoStretched]:t},o={[b.imageryLayerInfoStretched]:t,[b.sizeRamp]:!t&&l};return i(\"div\",{class:b.layerRow},i(\"div\",{class:this.classes(b.symbolContainer,o)},s),i(\"div\",{class:this.classes(b.layerInfo,n)},c(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,n={[b.imageryLayerStretchedImage]:l,[b.symbol]:!l},o={opacity:`${null!=t?t:r.opacity}`};return i(\"img\",{alt:c(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(n),styles:o})}};e([r()],C.prototype,\"activeLayerInfos\",void 0),e([r(),s(\"esri/widgets/Legend/t9n/Legend\")],C.prototype,\"messages\",void 0),e([r({readOnly:!0})],C.prototype,\"type\",void 0),C=e([l(\"esri.widgets.Legend.styles.Classic\")],C);var R=C;export default R;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as t}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as r}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Handles.js\";import{on as n,init as a}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{messageBundle as d}from\"./support/decorators/messageBundle.js\";import{j as l}from\"../chunks/index.js\";import c from\"./Widget.js\";import p from\"./Legend/LegendViewModel.js\";import h from\"./Legend/styles/Card.js\";import y from\"./Legend/styles/Classic.js\";const v={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends c{constructor(e,s){super(e,s),this._handles=new o,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=v.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new y,this.view=null,this.viewModel=new p}initialize(){this.own(n(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),a(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view))})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof h||e instanceof y)return e;if(\"string\"==typeof e)return\"card\"===e?new h:new y;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?h:y)(s)}return new y}render(){return l(\"div\",{class:this.classes(v.base,v.widget,this.style instanceof y?v.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=a(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const t=n(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(t,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([t(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([t(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([t(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([t(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([t(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([s()],f.prototype,\"iconClass\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([t(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([s(),d(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([s()],f.prototype,\"style\",void 0),e([r(\"style\")],f.prototype,\"castStyle\",null),e([t(\"viewModel.view\")],f.prototype,\"view\",void 0),e([s()],f.prototype,\"viewModel\",void 0),f=e([i(\"esri.widgets.Legend\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0,0]}function r(n){return[n[0],n[1],n[2]]}function t(n,r,t){return[n,r,t]}function e(r){const t=n(),e=Math.min(3,r.length);for(let n=0;n<e;++n)t[n]=r[n];return t}function u(n,r){return new Float64Array(n,r,3)}function a(){return n()}function o(){return t(1,1,1)}function s(){return t(1,0,0)}function c(){return t(0,1,0)}function i(){return t(0,0,1)}const f=a(),l=o(),_=s(),N=c(),O=i();var U=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,fromArray:e,createView:u,zeros:a,ones:o,unitX:s,unitY:c,unitZ:i,ZEROS:f,ONES:l,UNIT_X:_,UNIT_Y:N,UNIT_Z:O});export{l as O,_ as U,f as Z,u as a,r as b,n as c,e as d,s as e,t as f,c as g,N as h,O as i,o,i as u,U as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as r}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as i}from\"../../core/accessorSupport/write.js\";import n from\"../../geometry/SpatialReference.js\";import t from\"../../geometry/Extent.js\";import{transparencyToOpacity as o}from\"../../webdoc/support/opacityUtils.js\";import a from\"../../TimeExtent.js\";import s from\"../../symbols/support/ElevationInfo.js\";const l={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(r,i){if(null!=i.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return i.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,r,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||i(this,\"screenSizePerspectiveEnabled\",{},t))&&(r[n]=e)}}}}}},c={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},p={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:r}}},d={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},m={value:null,type:s,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function u(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const y={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},g={...y,json:{...y.json,origins:{\"web-document\":{...y.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?o(r.layerDefinition.drawingInfo.transparency):void 0:o(r.drawingInfo.transparency)}}},w={type:a,readOnly:!0,get(){var e,r;if(null==(e=this.layer)||!e.timeInfo)return null;const i=null==(r=this.view)?void 0:r.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?i&&n?i.intersection(n):i||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,a=o?t.offset(-o.value,o.unit):t,s=this._get(\"timeExtent\");return a.equals(s)?s:a}},v={type:t,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,r)=>{const i=t.fromJSON(e);return null!=r.spatialReference&&\"object\"==typeof r.spatialReference&&(i.spatialReference=n.fromJSON(r.spatialReference)),i}}}},read:!1}},b={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}};export{w as combinedViewLayerTimeExtentProperty,m as elevationInfo,b as id,p as labelsVisible,d as legendEnabled,S as maxScale,j as minScale,y as opacity,g as opacityDrawingInfo,c as popupEnabled,u as readOnlyService,v as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst a=1e-6,t=Math.random,e=Math.PI/180,n=180/Math.PI;function r(a){return a*e}function s(a){return a*n}function o(t,e){return Math.abs(t-e)<=a*Math.max(1,Math.abs(t),Math.abs(e))}var u=Object.freeze({__proto__:null,EPSILON:a,RANDOM:t,toRadian:r,toDegree:s,equals:o});export{a as E,t as R,s as a,u as c,o as e,r as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{eachAlways as r,throwIfAbortError as t}from\"./promiseUtils.js\";function n(t,n,e){return r(t.map(((r,t)=>n.apply(e,[r,t]))))}function e(t,n,e){return r(t.map(((r,t)=>n.apply(e,[r,t])))).then((r=>r.map((r=>r.value))))}function o(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>({ok:!1,error:r})))}function u(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>{t(r);return{ok:!1,error:r}}))}function a(r){if(!0===r.ok)return r.value;throw r.error}export{a as assertResult,n as forEach,e as map,o as result,u as resultOrAbort};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:o}=this;return this._isOverridden(\"mode\")?this._get(\"mode\"):r(e)||o?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}function e(){const n=Object.keys(t);return n.sort(),n}const o=e();export{r as getMetersPerUnit,o as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t){return\"function\"==typeof t}function e(e,r,n,a){return t(e)?e(r,n,a):e}function r(t){return[t.r,t.g,t.b,t.a]}function n(t,e,r){const n=\" /-,\\n\",i=t=>{let e=t.length;for(;e--;)if(-1===n.indexOf(t.charAt(e)))return!1;return!0},l=[];let o=0,c=-1;do{if(c=e.indexOf(\"[\",o),c>=o){if(c>o){const t=e.substr(o,c-o);l.push([t,null,i(t)])}if(o=c+1,c=e.indexOf(\"]\",o),c>=o){if(c>o){const r=t[e.substr(o,c-o)];r&&l.push([null,r,!1])}o=c+1}}}while(-1!==c);if(o<e.length-1){const t=e.substr(o);l.push([t,null,i(t)])}return t=>{let e=\"\",n=null;for(const r of l){const[a,i,l]=r;if(a)l?n=a:(n&&(e+=n,n=null),e+=a);else{const r=t.attributes[i];r&&(n&&(e+=n,n=null),e+=r)}}return a(e,r)}}function a(t,e){switch(\"string\"!=typeof t&&(t=String(t)),e){case\"LowerCase\":return t.toLowerCase();case\"Allcaps\":return t.toUpperCase();default:return t}}function i(t,e,r,n,a,i,l=!0){const o=e/a,c=r/i,u=Math.ceil(o/2),M=Math.ceil(c/2);for(let s=0;s<i;s++)for(let r=0;r<a;r++){const f=4*(r+(l?i-s-1:s)*a);let p=0,C=0,y=0,I=0,h=0,k=0,d=0;const P=(s+.5)*c;for(let n=Math.floor(s*c);n<(s+1)*c;n++){const a=Math.abs(P-(n+.5))/M,i=(r+.5)*o,l=a*a;for(let c=Math.floor(r*o);c<(r+1)*o;c++){let r=Math.abs(i-(c+.5))/u;const a=Math.sqrt(l+r*r);a>=-1&&a<=1&&(p=2*a*a*a-3*a*a+1,p>0&&(r=4*(c+n*e),d+=p*t[r+3],y+=p,t[r+3]<255&&(p=p*t[r+3]/250),I+=p*t[r],h+=p*t[r+1],k+=p*t[r+2],C+=p))}}n[f]=I/C,n[f+1]=h/C,n[f+2]=k/C,n[f+3]=d/y}}function l(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function o(t){var e;return null==(e=t.data)?void 0:e.symbol}function c(t){return\"CIMVectorMarker\"===t.type||\"CIMPictureMarker\"===t.type||\"CIMBarChartMarker\"===t.type||\"CIMCharacterMarker\"===t.type||\"CIMPieChartMarker\"===t.type||\"CIMStackedBarChartMarker\"===t.type}function u(t){return\"CIMGradientStroke\"===t.type||\"CIMPictureStroke\"===t.type||\"CIMSolidStroke\"===t.type}function M(t){return\"CIMGradientFill\"===t.type||\"CIMHatchFill\"===t.type||\"CIMPictureFill\"===t.type||\"CIMSolidFill\"===t.type||\"CIMWaterFill\"===t.type}function s(t){return\"CIMMarkerPlacementAlongLineRandomSize\"===t.type||\"CIMMarkerPlacementAlongLineSameSize\"===t.type||\"CIMMarkerPlacementAlongLineVariableSize\"===t.type||\"CIMMarkerPlacementAtExtremities\"===t.type||\"CIMMarkerPlacementAtMeasuredUnits\"===t.type||\"CIMMarkerPlacementAtRatioPositions\"===t.type||\"CIMMarkerPlacementOnLine\"===t.type||\"CIMMarkerPlacementOnVertices\"===t.type}export{a as _adjustTextCase,r as colorToArray,n as createLabelOverrideFunction,e as evaluateValueOrFunction,l as fromCIMColor,M as isCIMFill,c as isCIMMarker,s as isCIMMarkerStrokePlacement,u as isCIMStroke,i as resampleHermite,o as toCIMSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e){this._storage.put(t,e,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/has.js\";import{isSome as t,unwrap as r,get as o,isNone as n}from\"../../core/maybe.js\";import i from\"../../Color.js\";import{px2pt as l}from\"../../core/screenUtils.js\";import s from\"./Symbol3DMaterial.js\";import{isSymbol3D as c,isSymbol2D as u}from\"../../symbols.js\";import{forEach as a}from\"../../core/asyncUtils.js\";import{O as f}from\"../../chunks/vec3f64.js\";import{getStroke as m}from\"./gfxUtils.js\";const y=/\\/resource\\/(.*?)\\.svg$/,p=new i(\"white\");function h(e){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const r=e.symbolLayers.getItemAt(t-1);return\"outline\"in r?o(r,\"outline\",\"size\"):void 0}function b(e){if(!e)return 0;if(c(e)){const r=h(e);return t(r)?r:0}const r=m(e);return r&&l(r.width)||0}function w(e){if(!e||!e.symbolLayers)return!1;switch(e.type){case\"point-3d\":return e.symbolLayers.some((e=>\"object\"===e.type));case\"line-3d\":return e.symbolLayers.some((e=>\"path\"===e.type));case\"polygon-3d\":return e.symbolLayers.some((e=>\"object\"===e.type||\"extrude\"===e.type));default:return!1}}function d(t,r){const o=r.resource.href;return!e(\"esri-canvas-svg-support\")&&t.styleOrigin&&y.test(o)?o.replace(y,\"/resource/png/$1.png\"):o}function g(e,t){if(!e)return null;let r=null;return c(e)?r=j(e):u(e)&&(r=e.color?new i(e.color):null),r?k(r,t):null}function j(e){const o=e.symbolLayers;if(!o)return null;let n=null;return o.forEach((e=>{\"object\"===e.type&&null!=e.resource.href||(n=\"water\"===e.type?r(e.color):t(e.material)?r(e.material.color):null)})),n?new i(n):null}function k(e,t){if(null==t)return e;const r=e.toRgba();return r[3]=r[3]*t,new i(r)}function L(e,r,o){const i=e.symbolLayers;if(!i)return;const l=e=>{const n=t(e)?e:null;return k(r=r||n||null!=o&&p,o)};i.forEach((e=>{if(\"object\"!==e.type||null==e.resource.href||r)if(\"water\"===e.type)e.color=l(e.color);else{const r=t(e.material)?e.material.color:null,i=l(r);n(e.material)?e.material=new s({color:i}):e.material.color=i,null!=o&&\"outline\"in e&&t(e.outline)&&t(e.outline.color)&&(e.outline.color=k(e.outline.color,o))}}))}function z(e,t,r){(t=t||e.color)&&(e.color=k(t,r)),null!=r&&\"outline\"in e&&e.outline&&e.outline.color&&(e.outline.color=k(e.outline.color,r))}function v(e,t,r){e&&(t||null!=r)&&(t&&(t=new i(t)),c(e)?L(e,t,r):u(e)&&z(e,t,r))}async function x(e,t){const r=e.symbolLayers;r&&await a(r,(async e=>S(e,t)))}async function S(e,t){switch(e.type){case\"extrude\":O(e,t);break;case\"icon\":case\"line\":case\"text\":U(e,t);break;case\"path\":$(e,t);break;case\"object\":await R(e,t)}}function U(e,r){const o=E(r);t(o)&&(e.size=o)}function E(e){for(const t of e)if(\"number\"==typeof t)return t;return null}function O(e,t){e.size=\"number\"==typeof t[2]?t[2]:0}async function R(e,t){const{resourceSize:r,symbolSize:o}=await C(e),n=A(t,r,o);e.width=D(t[0],o[0],r[0],n),e.depth=D(t[1],o[1],r[1],n),e.height=D(t[2],o[2],r[2],n)}function $(e,t){const r=A(t,f,[e.width,void 0,e.height]);e.width=D(t[0],e.width,1,r),e.height=D(t[2],e.height,1,r)}function A(e,t,r){for(let o=0;o<3;o++){const n=e[o];switch(n){case\"symbol-value\":return null!=r[o]?r[o]/t[o]:1;case\"proportional\":break;default:if(n&&t[o])return n/t[o]}}return 1}async function C(e){const t=await import(\"./symbolLayerUtils.js\"),r=await t.computeObjectLayerResourceSize(e,10),{width:o,height:n,depth:i}=e,l=[o,i,n];let s=1;for(let c=0;c<3;c++)if(null!=l[c]){s=l[c]/r[c];break}for(let c=0;c<3;c++)null==l[c]&&(l[c]=r[c]*s);return{resourceSize:r,symbolSize:l}}function D(e,t,r,o){switch(e){case\"proportional\":return r*o;case\"symbol-value\":return null!=t?t:r;default:return e}}function I(e,t){const r=E(t);if(!n(r))switch(e.type){case\"simple-marker\":e.size=r;break;case\"picture-marker\":{const t=e.width/e.height;t>1?(e.width=r,e.height=r*t):(e.width=r*t,e.height=r);break}case\"simple-line\":e.width=r;break;case\"text\":e.font.size=r}}async function M(e,t){if(e&&t)return c(e)?x(e,t):void(u(e)&&I(e,t))}function q(e,t,r){if(e&&null!=t)if(c(e)){const o=e.symbolLayers;o&&o.forEach((e=>{if(e&&\"object\"===e.type)switch(r){case\"tilt\":e.tilt=t;break;case\"roll\":e.roll=t;break;default:e.heading=t}}))}else u(e)&&(\"simple-marker\"!==e.type&&\"picture-marker\"!==e.type&&\"text\"!==e.type||(e.angle=t))}export{v as applyColorToSymbol,k as applyOpacityToColor,q as applyRotationToSymbol,M as applySizesToSymbol,g as getColorFromSymbol,d as getIconHref,b as getSymbolOutlineSize,w as isVolumetricSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{pt2px as e}from\"../../core/screenUtils.js\";import r from\"../../request.js\";import{getAssetUrl as o}from\"../../assets.js\";import n from\"../../core/ItemCache.js\";import{getCIMSymbolColor as i}from\"./cimSymbolUtils.js\";const s=\"picture-fill\",l=\"simple-fill\",c=\"simple-line\",a=\"simple-marker\",m=\"text\",u=\"cim\",p={left:\"start\",center:\"middle\",right:\"end\",justify:\"start\"},f={top:\"text-before-edge\",middle:\"central\",baseline:\"alphabetic\",bottom:\"text-after-edge\"},d=new n(1e3);function h(t){let e=t.horizontalAlignment;return e=e&&p[e.toLowerCase()]||\"middle\",e}function g(t){const e=t.verticalAlignment;return e&&f[e.toLowerCase()]||\"alphabetic\"}function y(t){return\"bottom\"===t.verticalAlignment?\"super\":null}function b(t){const r=t.style;let n=null;if(t)switch(t.type){case a:\"cross\"!==r&&\"x\"!==r&&(n=t.color);break;case l:\"solid\"===r?n=t.color:\"none\"!==r&&(n={type:\"pattern\",x:0,y:0,src:o(`esri/symbols/patterns/${r}.png`),width:5,height:5});break;case s:n={type:\"pattern\",src:t.url,width:e(t.width)*t.xscale,height:e(t.height)*t.yscale,x:e(t.xoffset),y:e(t.yoffset)};break;case m:n=t.color;break;case u:n=i(t)}return n}function w(t,e){const o=t+\"-\"+e;return void 0!==d.get(o)?Promise.resolve(d.get(o)):r(t,{responseType:\"image\"}).then((t=>{const r=t.data,n=r.naturalWidth,i=r.naturalHeight,s=document.createElement(\"canvas\");s.width=n,s.height=i;const l=s.getContext(\"2d\");l.fillStyle=e,l.fillRect(0,0,n,i),l.globalCompositeOperation=\"destination-in\",l.drawImage(r,0,0);const c=s.toDataURL();return d.put(o,c),c}))}function j(t){if(!t)return null;let r;switch(t.type){case l:case s:case a:r=j(t.outline);break;case c:{const o=e(t.width);\"none\"!==t.style&&0!==o&&(r={color:t.color,style:x(t.style),width:o,cap:t.cap,join:\"miter\"===t.join?e(t.miterLimit):t.join});break}default:r=null}return r}const x=function(){const t={};return function(e){if(t[e])return t[e];const r=e.replace(/-/g,\"\");return t[e]=r,r}}(),k=new t([128,128,128]);export{k as defaultThematicColor,b as getFill,w as getPatternUrlWithColor,h as getSVGAlign,g as getSVGBaseline,y as getSVGBaselineShift,j as getStroke};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{toCIMSymbolJSON as t,isCIMMarker as o,isCIMStroke as a,isCIMFill as r,isCIMMarkerStrokePlacement as c,fromCIMColor as s}from\"../cim/utils.js\";function n(e){const c=t(e);if(\"CIMTextSymbol\"===c.type)return c.height;let s=0;if(c.symbolLayers)for(const t of c.symbolLayers)o(t)&&t.size>s?s=t.size:a(t)&&t.width>s?s=t.width:r(t);return s}function i(e,o,a){const r=t(e),c=n(e);if(0===c)return void l(r,o);f(r,o/c,!1,a)}function l(e,t){if(\"CIMTextSymbol\"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":o.size=t;break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":o.width=t}}else e.height=t}function f(e,t,o,a){if(\"CIMTextSymbol\"!==e.type){if(o&&e.effects)for(const o of e.effects)y(o,t);if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case\"CIMPictureMarker\":case\"CIMVectorMarker\":m(o,t,a);break;case\"CIMPictureStroke\":case\"CIMSolidStroke\":null!=a&&a.preserveOutlineWidth||(o.width*=t);break;case\"CIMPictureFill\":o.height*=t,o.offsetX*=t,o.offsetY*=t;break;case\"CIMHatchFill\":f(o.lineSymbol,t,!0,{...a,preserveOutlineWidth:!1}),o.offsetX*=t,o.offsetY*=t,o.separation*=t}}else e.height*=t}function m(e,t,o){if(e.markerPlacement&&M(e.markerPlacement,t),e.offsetX*=t,e.offsetY*=t,e.anchorPoint&&\"Absolute\"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,\"CIMVectorMarker\"===e.type&&e.markerGraphics)for(const a of e.markerGraphics)e.scaleSymbolsProportionally||f(a.symbol,t,!0,o)}function M(e,t){switch(c(e)&&(e.offset*=t),e.type){case\"CIMMarkerPlacementAlongLineRandomSize\":case\"CIMMarkerPlacementAlongLineSameSize\":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementAlongLineVariableSize\":if(e.maxRandomOffset*=t,e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case\"CIMMarkerPlacementOnLine\":e.startPointOffset*=t;break;case\"CIMMarkerPlacementAtExtremities\":e.offsetAlongLine*=t;break;case\"CIMMarkerPlacementAtMeasuredUnits\":case\"CIMMarkerPlacementOnVertices\":break;case\"CIMMarkerPlacementAtRatioPositions\":e.beginPosition*=t,e.endPosition*=t;break;case\"CIMMarkerPlacementPolygonCenter\":e.offsetX*=t,e.offsetY*=t;break;case\"CIMMarkerPlacementInsidePolygon\":e.offsetX*=t,e.offsetY*=t,e.stepX*=t,e.stepY*=t}}function y(e,t){switch(e.type){case\"CIMGeometricEffectArrow\":case\"CIMGeometricEffectDonut\":e.width*=t;break;case\"CIMGeometricEffectBuffer\":e.size*=t;break;case\"CIMGeometricEffectCut\":e.beginCut*=t,e.endCut*=t,e.middleCut*=t;break;case\"CIMGeometricEffectDashes\":if(e.customEndingOffset*=t,e.offsetAlongLine*=t,e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case\"CIMGeometricEffectExtension\":case\"CIMGeometricEffectJog\":case\"CIMGeometricEffectRadial\":e.length*=t;break;case\"CIMGeometricEffectMove\":e.offsetX*=t,e.offsetY*=t;break;case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectOffsetTangent\":e.offset*=t;break;case\"CIMGeometricEffectRegularPolygon\":e.radius*=t;break;case\"CIMGeometricEffectTaperedPolygon\":e.fromWidth*=t,e.length*=t,e.toWidth*=t;break;case\"CIMGeometricEffectWave\":e.amplitude*=t,e.period*=t}}function C(o){const a=[];return k(t(o),a),a.length?new e(s(a[0])):null}function k(e,t){let r;r=\"CIMTextSymbol\"===e.type?e.symbol:e;const s=\"CIMPolygonSymbol\"===e.type;if(r.symbolLayers)for(const n of r.symbolLayers)if(!(n.colorLocked||s&&(a(n)||o(n)&&n.markerPlacement&&c(n.markerPlacement))))switch(n.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":break;case\"CIMVectorMarker\":n.markerGraphics.forEach((e=>{k(e.symbol,t)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":b(t,n.color);break;case\"CIMHatchFill\":k(n.lineSymbol,t)}}function b(e,t){for(const o of e)if(o.join(\".\")===t.join(\".\"))return;e.push(t)}function I(o,a){a instanceof e||(a=new e(a));p(t(o),a)}function p(e,t){let r;r=\"CIMTextSymbol\"===e.type?e.symbol:e;const s=\"CIMPolygonSymbol\"===e.type;if(r.symbolLayers)for(const n of r.symbolLayers){if(n.colorLocked)continue;if(s&&(a(n)||o(n)&&n.markerPlacement&&c(n.markerPlacement)))continue;const e=t.toArray(0);switch(n.type){case\"CIMPictureMarker\":case\"CIMPictureStroke\":case\"CIMPictureFill\":break;case\"CIMVectorMarker\":n.markerGraphics.forEach((e=>{p(e.symbol,t)}));break;case\"CIMSolidStroke\":case\"CIMSolidFill\":n.color=e;break;case\"CIMHatchFill\":p(n.lineSymbol,t)}}}function u(e,o=!1){const a=t(e);return\"CIMTextSymbol\"===a.type||\"CIMPointSymbol\"===a.type?o&&0!==a.angle?360-a.angle:a.angle||0:0}function h(e,a,r=!1){const c=t(e);if(r&&0!==a&&(a=360-a),\"CIMTextSymbol\"!==c.type){if(\"CIMPointSymbol\"===c.type&&c.symbolLayers){const e=a-(c.angle||0);for(const t of c.symbolLayers)if(o(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}c.angle=a}}else c.angle=a}export{I as applyCIMSymbolColor,h as applyCIMSymbolRotation,C as getCIMSymbolColor,u as getCIMSymbolRotation,n as getCIMSymbolSize,m as scaleCIMMarker,i as scaleCIMSymbolTo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isSome as e,isNone as t,unwrap as l}from\"../../core/maybe.js\";import{loadArcade as a}from\"../../support/arcadeOnDemand.js\";import{applyColorToSymbol as i,applySizesToSymbol as r,applyRotationToSymbol as s,getColorFromSymbol as o,applyOpacityToColor as n}from\"./utils.js\";let c=null;function u(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function y(e,t,l){const{backgroundColor:a,outline:i,dotSize:r}=e,s=l&&l.swatchSize||22,o=.8,n=Math.round(s*s/r**2*o),y=window.devicePixelRatio,p=document.createElement(\"canvas\"),h=s*y;p.width=h,p.height=h,p.style.width=p.width/y+\"px\",p.style.height=p.height/y+\"px\";const b=p.getContext(\"2d\");if(a&&(b.fillStyle=a.toCss(!0),b.fillRect(0,0,h,h),b.fill()),b.fillStyle=t.toCss(!0),c&&c.length/2===n)for(let u=0;u<2*n;u+=2){const e=c[u],t=c[u+1];b.fillRect(e,t,r*y,r*y),b.fill()}else{c=[];for(let e=0;e<2*n;e+=2){const e=u(0,h),t=u(0,h);c.push(e,t),b.fillRect(e,t,r*y,r*y),b.fill()}}i&&(i.color&&(b.strokeStyle=i.color.toCss(!0)),b.lineWidth=i.width,b.strokeRect(0,0,h,h));const f=new Image(s,s);return f.src=p.toDataURL(),f}function p(e,t={}){const l=24,a=75,i=\"horizontal\"===t.align,r=i?a:l,s=i?l:a,{width:o=r,height:n=s,gradient:c=!0}=t,u=window.devicePixelRatio,y=o*u,p=n*u,h=document.createElement(\"canvas\");h.width=y,h.height=p,h.style.width=`${o}px`,h.style.height=`${n}px`;const b=h.getContext(\"2d\"),f=i?y:0,m=i?0:p;if(c){const t=b.createLinearGradient(0,0,f,m),l=1/(e.length-1);e.forEach(((e,a)=>t.addColorStop(a*l,e.toString()))),b.fillStyle=t,b.fillRect(0,0,y,p)}else{const t=i?y/e.length:y,l=i?p:p/e.length;let a=0,r=0;for(const s of e)b.fillStyle=s.toString(),b.fillRect(a,r,t,l),a=i?a+t:0,r=i?0:r+l}const d=document.createElement(\"div\");return d.style.width=`${o}px`,d.style.height=`${n}px`,d.appendChild(h),d}async function h(e,t){switch(e.type){case\"web-style\":{const{previewWebStyleSymbol:l}=await import(\"./previewWebStyleSymbol.js\");return l(e,h,t)}case\"label-3d\":case\"line-3d\":case\"mesh-3d\":case\"point-3d\":case\"polygon-3d\":{const{previewSymbol3D:l}=await import(\"./previewSymbol3D.js\");return l(e,t)}case\"simple-marker\":case\"simple-line\":case\"simple-fill\":case\"picture-marker\":case\"picture-fill\":case\"text\":{const{previewSymbol2D:l}=await import(\"./previewSymbol2D.js\");return l(e,t)}case\"cim\":{const{previewCIMSymbol:l}=await import(\"./previewCIMSymbol.js\");return l(e,t)}default:return}}function b(e){return e&&\"opacity\"in e?e.opacity*b(e.parent):1}async function f(o,n){if(!o)return;const c=b(o.layer||o.sourceLayer);if(e(o.symbol)&&(!e(n)||!0!==n.ignoreGraphicSymbol)){const t=\"web-style\"===o.symbol.type?await o.symbol.fetchSymbol(e(n)?n.abortOptions:null):o.symbol.clone();return i(t,null,c),t}const u=e(n)&&n.renderer||o.get(\"layer.renderer\")||o.get(\"sourceLayer.renderer\");let y=await u.getSymbolAsync(o,n);if(!y)return;if(y=\"web-style\"===y.type?await y.fetchSymbol(e(n)?n.abortOptions:null):y.clone(),!(\"visualVariables\"in u)||\"visualVariables\"in u&&!u.visualVariables||\"visualVariables\"in u&&u.visualVariables&&!u.visualVariables.length)return y;if(u.arcadeRequiredForVisualVariables&&(t(n)||t(n.arcade))){const e={...l(n)};e.arcade=await a(),n=e}const p=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),h=[],f=[],m=[],d=[];for(const e of u.visualVariables)switch(e.type){case\"color\":h.push(e);break;case\"opacity\":f.push(e);break;case\"rotation\":d.push(e);break;case\"size\":e.target||m.push(e)}const g=!!h.length&&h[h.length-1],w=g?p.getColor(g,o,n):null,v=!!f.length&&f[f.length-1];let S=v?p.getOpacity(v,o,n):null;if(null!=c&&(S=null!=S?S*c:c),i(y,w,S),m.length){const e=p.getAllSizes(m,o,n);await r(y,e)}for(const e of d)s(y,p.getRotationAngle(e,o,n),e.axis);return y}async function m(i,r){var s;if(!i)return;const c=b(i.layer||i.sourceLayer);if(e(i.symbol)&&(!e(r)||!0!==r.ignoreGraphicSymbol)){const t=\"web-style\"===i.symbol.type?await i.symbol.fetchSymbol(e(r)?r.abortOptions:null):i.symbol.clone();return o(t,c)}const u=e(r)&&r.renderer||i.get(\"layer.renderer\")||i.get(\"sourceLayer.renderer\");let y=await u.getSymbolAsync(i,r);if(!y)return;y=\"web-style\"===y.type?await y.fetchSymbol(e(r)?r.abortOptions:null):y.clone();const p=o(y,c);if(!(\"visualVariables\"in u)||\"visualVariables\"in u&&!u.visualVariables||\"visualVariables\"in u&&(null==(s=u.visualVariables)||!s.length))return p;if(u.arcadeRequiredForVisualVariables&&(t(r)||t(r.arcade))){const e={...l(r)};e.arcade=await a(),r=e}const h=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),f=[],m=[];for(const e of u.visualVariables)switch(e.type){case\"color\":f.push(e);break;case\"opacity\":m.push(e)}const d=f.length>0?f[f.length-1]:null,g=d?h.getColor(d,i,r):p,w=m.length>0?m[m.length-1]:null;let v=w?h.getOpacity(w,i,r):null;return null!=c&&(v=null!=v?v*c:c),g?n(g,v):null}export{m as getDisplayedColor,f as getDisplayedSymbol,p as renderColorRampPreviewHTML,y as renderDotDensityPreviewHTML,h as renderPreviewHTML};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){if(n.flatten((({sublayers:e})=>e)).length!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:t}of e){for(;i<o&&r[i]!==t;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e,isSome as t}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import r from\"../../core/Error.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{pt2px as a}from\"../../core/screenUtils.js\";import{defaultPrimitive as l}from\"./IconSymbol3DLayerResource.js\";import{getAssetUrl as n}from\"../../assets.js\";import{defaultPrimitive as i}from\"./ObjectSymbol3DLayerResource.js\";import{toHSV as c,toRGB as h}from\"../../core/colorUtils.js\";import{resolveWebStyleSymbol as u}from\"./styleUtils.js\";import{getPatternUrlWithColor as p,defaultThematicColor as m}from\"./gfxUtils.js\";import{isVolumetricSymbol as f,getIconHref as y}from\"./utils.js\";import{adjustColorComponentBrightness as d,getPathSymbolShapes as b,shapes as v,getTetrahedronShapes as g,getDiamondShapes as k,getCylinderShapes as w,getCubeShapes as x,getInvertedConeShapes as M,getConeShapes as L,getWaterSymbolShapes as j,getExtrudeSymbolShapes as z}from\"./previewUtils.js\";import{renderSymbol as P,tintImageWithColor as S}from\"./renderUtils.js\";const U=22,D=120,O=80,I=40,R=20,E=s.getLogger(\"esri.symbols.support.previewSymbol3D\");function C(s){const r=s.outline,o=t(s.material)?s.material.color:null,l=t(o)?o.toHex():null;if(e(r))return\"fill\"===s.type&&\"#ffffff\"===l?{color:\"#bdc3c7\",width:.75}:null;const n=a(r.size)||0;return{color:\"rgba(\"+(t(r.color)?r.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(n,O)}}function Z(e,t){const s=t&&t.resource,r=s&&s.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(r&&\"object\"!==t.type)return Promise.resolve(y(e,t));const o=n(\"esri/images/Legend/legend3dsymboldefault.png\");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?u(e.styleOrigin,{portal:e.styleOrigin.portal},\"webRef\").catch((e=>e)).then((e=>{var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||o})):Promise.resolve(o)}function q(e,t=1){const s=e.a,r=c(e),o=r.h,a=r.s/t,l=100-(100-r.v)/t,{r:n,g:i,b:u}=h({h:o,s:a,v:l});return[n,i,u,s]}function A(t){return\"water\"===t.type?e(t.color)?null:t.color:e(t.material)||e(t.material.color)?null:t.material.color}function H(e,t=0){const s=A(e);if(!s){if(\"fill\"===e.type)return null;const s=m.r,r=d(s,t);return[r,r,r,100]}const r=s.toRgba();for(let o=0;o<3;o++)r[o]=d(r[o],t);return r}async function N(e,t){const s=e.style;if(\"none\"===s)return null;return{type:\"pattern\",x:0,y:0,src:await p(n(`esri/symbols/patterns/${s}.png`),t.toCss(!0)),width:5,height:5}}function T(e){return e.outline?C(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function $(e,t){const s=A(e);if(!s)return null;let r=\"rgba(\";return r+=d(s.r,t)+\",\",r+=d(s.g,t)+\",\",r+=d(s.b,t)+\",\",r+s.a+\");\"}function B(e,t){const s=$(e,t);if(!s)return{};return{color:s,width:Math.min(e.size?a(e.size):.75,O)}}function F(e,t,s){const r=.75*s;return{type:\"linear\",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function G(e){const t=e.depth,s=e.height,r=e.width;return r&&t&&s&&r===t&&r<s}function J(e,t,s){const r=[];if(!e)return r;switch(e.type){case\"icon\":{const s=0,o=0,a=t,n=t;switch(e.resource&&e.resource.primitive||l){case\"circle\":r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:H(e,0),stroke:C(e)});break;case\"square\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[s,o]},{command:\"L\",values:[a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"triangle\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"cross\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*a,o]},{command:\"L\",values:[.5*a,n]},{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[a,.5*n]}]},stroke:T(e)});break;case\"x\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,o]},{command:\"L\",values:[a,n]},{command:\"M\",values:[a,o]},{command:\"L\",values:[s,n]}]},stroke:T(e)});break;case\"kite\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,.5*n]},{command:\"L\",values:[.5*a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)})}break}case\"object\":switch(e.resource&&e.resource.primitive||i){case\"cone\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=L(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o});break}case\"inverted-cone\":{const s=H(e,0),o=F(s,H(e,-.6),t),a=M(t);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:s});break}case\"cube\":{const o=x(t,s);r.push({shape:o[0],fill:H(e,0)}),r.push({shape:o[1],fill:H(e,-.3)}),r.push({shape:o[2],fill:H(e,-.5)});break}case\"cylinder\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=w(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o}),r.push({shape:a[2],fill:H(e,0)});break}case\"diamond\":{const s=k(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.3)}),r.push({shape:s[3],fill:H(e,-.7)});break}case\"sphere\":{const s=F(H(e,0),H(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:s});break}case\"tetrahedron\":{const s=g(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.6)});break}}break}return r}function K(e){return\"icon\"===e.type?\"multiply\":\"tint\"}function Q(e,t){const s=t&&t.size?a(t.size):null,r=t&&t.maxSize?a(t.maxSize):null,l=t&&t.disableUpsampling,n=e.symbolLayers,i=[];let c=0,h=0;const u=n.getItemAt(n.length-1);let p;return u&&\"icon\"===u.type&&(p=u.size&&a(u.size)),n.forEach((o=>{if(\"icon\"!==o.type&&\"object\"!==o.type)return;const n=\"icon\"===o.type?o.size&&a(o.size):0,u=s||n?Math.ceil(Math.min(s||n,r||D)):U;if(o&&o.resource&&o.resource.href){const t=Z(e,o).then((function(e){const t=o.get(\"material.color\"),s=K(o);return S(e,u,t,s,l)})).then((function(e){const t=e.width,s=e.height;return c=Math.max(c,t),h=Math.max(h,s),[{shape:{type:\"image\",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));i.push(t)}else{var m;let e=u;\"icon\"===o.type&&p&&s&&(e=u*(n/p));const r=\"tall\"===(null==t?void 0:t.symbolConfig)||(null==t||null==(m=t.symbolConfig)?void 0:m.isTall)||\"object\"===o.type&&G(o);c=Math.max(c,r?R:e),h=Math.max(h,e),i.push(Promise.resolve(J(o,e,r)))}})),o(i).then((function(e){const s=[];return e.forEach((function(e){e.value?s.push(e.value):e.error&&E.warn(\"error while building swatchInfo!\",e.error)})),P(s,[c,h],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function V(e,t){const s=e.symbolLayers,r=[],o=f(e),l=t&&t.size?a(t.size):null,n=(t&&t.maxSize?a(t.maxSize):null)||O;let i,c=0,h=0;return s.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const s=[];switch(e.type){case\"line\":{const r=B(e,0),o=r&&r.width||0;0===t&&(i=o);const a=Math.min(l||o,n),u=0===t?a:l?a*(o/i):a,p=u>I/2?2*u:I;h=Math.max(h,u),c=Math.max(c,p),r.width=u,s.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*h]},{command:\"L\",values:[c,.5*h]}]},stroke:r});break}case\"path\":{const t=Math.min(l||U,n),r=H(e,0),i=H(e,-.2),u=$(e,-.4),p=u?{color:u,width:1}:{};if(\"quad\"===e.profile){var o,a;const t=null!=(o=e.width)?o:e.size,l=null!=(a=e.height)?a:e.size,n=b(t&&l?t/l:1,0===l,0===t),c={...p,join:\"bevel\"};s.push({shape:n[0],fill:i,stroke:c}),s.push({shape:n[1],fill:i,stroke:c}),s.push({shape:n[2],fill:r,stroke:c})}else s.push({shape:v.pathSymbol3DLayer[0],fill:i,stroke:p}),s.push({shape:v.pathSymbol3DLayer[1],fill:r,stroke:p});h=Math.max(h,t),c=h}}r.push(s)})),Promise.resolve(P(r,[c,h],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}async function W(e,s){const r=\"mesh-3d\"===e.type,o=e.symbolLayers,l=s&&s.size?a(s.size):null,n=s&&s.maxSize?a(s.maxSize):null,i=l||U,c=[];let h=0,u=0,p=!1;for(let a=0;a<o.length;a++){const e=o.getItemAt(a),s=[];if(r&&\"fill\"!==e.type)continue;const l=v.fill[0];switch(e.type){case\"fill\":{const o=C(e),a=Math.min(i,n||D);h=Math.max(h,a),u=Math.max(u,a),p=!0;let c=H(e,0);const m=\"pattern\"in e&&e.pattern,f=A(e);!r&&t(m)&&\"style\"===m.type&&\"solid\"!==m.style&&f&&(c=await N(m,f)),s.push({shape:l,fill:c,stroke:o});break}case\"line\":{const t={stroke:B(e,0),shape:l};h=Math.max(h,U),u=Math.max(u,U),s.push(t);break}case\"extrude\":{const t={join:\"round\",...B(e,-.4)},r=H(e,0),o=H(e,-.2),a=Math.min(i,n||D),l=z(a);t.width=1,s.push({shape:l[0],fill:o,stroke:t}),s.push({shape:l[1],fill:o,stroke:t}),s.push({shape:l[2],fill:r,stroke:t});const c=U,p=.7*U+.5*a;h=Math.max(h,c),u=Math.max(u,p);break}case\"water\":{const t=A(e),r=q(t),o=q(t,2),a=q(t,3),l=j();p=!0,s.push({shape:l[0],fill:r}),s.push({shape:l[1],fill:o}),s.push({shape:l[2],fill:a});const c=Math.min(i,n||D);h=Math.max(h,c),u=Math.max(u,c);break}}c.push(s)}return Promise.resolve(P(c,[h,u],{node:s&&s.node,scale:p,opacity:s&&s.opacity}))}function X(e,t){if(0===e.symbolLayers.length)return Promise.reject(new r(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));let s=null;switch(e.type){case\"point-3d\":s=Q(e,t);break;case\"line-3d\":s=V(e,t);break;case\"polygon-3d\":case\"mesh-3d\":s=W(e,t)}return s||Promise.reject(new r(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{N as getPatternDescriptor,H as getSymbolLayerFill,X as previewSymbol3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"../../core/Accessor.js\";import{combinedViewLayerTimeExtentProperty as i}from\"./commonProperties.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";import{isExportDynamic as o}from\"./sublayerUtils.js\";const l={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let n=class extends(a(t)){constructor(e){super(e),this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&o(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(l[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,r)=>(e[r.id]=r.definitionExpression,e)),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,a=0===r.minScale||t<=r.minScale,o=0===r.maxScale||t>=r.maxScale;r.visible&&(i||a&&o)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([r({readOnly:!0})],n.prototype,\"dynamicLayers\",null),e([r({readOnly:!0})],n.prototype,\"hasDynamicLayers\",null),e([r()],n.prototype,\"layer\",null),e([r({readOnly:!0})],n.prototype,\"layers\",null),e([r({readOnly:!0})],n.prototype,\"layerDefs\",null),e([r({type:Number})],n.prototype,\"scale\",void 0),e([r(i)],n.prototype,\"timeExtent\",void 0),e([r({readOnly:!0})],n.prototype,\"version\",null),e([r({readOnly:!0})],n.prototype,\"visibleSublayers\",null),n=e([s(\"esri.layers.mixins.ExportImageParameters\")],n);export{n as ExportImageParameters};\n"],"sourceRoot":""}