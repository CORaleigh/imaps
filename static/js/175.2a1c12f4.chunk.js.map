{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/core/devEnvironmentUtils.js"],"names":["t","e","s","o","n","r","m","origin","type","symbol","error","write","messages","push","declaredClass","context","i","p","S","a","c","j","clone","fromCIMSymbol","l","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","f","y","fromSimpleFillSymbol","b","fromTextSymbol","id","symbolLayers","length","getItemAt","_ignoreDrivers","h","portal","getDefault","url","user","username","load","then","disableExtraQuery","query","D","R","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","owner","styleName","fetchData","data","baseUrl","itemUrl","g","styleUrl","P","d","Promise","reject","w","name","q","replace","N","E","U","u","items","find","symbolName","cimRef","formatInfos","href","webRef","thumbnail","imageData","styleOrigin","$","test","responseType","location","hostname","match"],"mappings":"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","file":"static/js/175.2a1c12f4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import s from\"../../core/Error.js\";import o from\"../Symbol3D.js\";import n from\"../WebStyleSymbol.js\";import{to3D as r}from\"./symbolConversion.js\";function t(e,s,o,n){const r=m(e,{},n);r&&(s[o]=r)}function m(e,t,m){if(!e)return null;if(m&&\"web-scene\"===m.origin&&!(e instanceof o)&&!(e instanceof n)){const o=\"cim\"!==e.type?r(e):{symbol:null,error:new s(\"symbol-conversion:unsupported-cim-symbol\",\"CIM symbol is unsupported in web scenes\",{symbol:e})};return o.symbol?o.symbol.write(t,m):(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:m,error:o.error})),null)}return m&&\"web-map\"===m.origin&&\"web-style\"===e.type?(m.messages&&m.messages.push(new s(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:m})),null):e.write(t,m)}function i(s,o){return e(s,null,o)}export{i as fromJSON,t as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import m from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import e from\"../PointSymbol3D.js\";import l from\"../SimpleLineSymbol.js\";import i from\"../LineSymbol3D.js\";import s from\"../SimpleMarkerSymbol.js\";import t from\"../PictureMarkerSymbol.js\";import f from\"../SimpleFillSymbol.js\";import y from\"../PolygonSymbol3D.js\";import n from\"../TextSymbol.js\";import b from\"../LabelSymbol3D.js\";function p(p,S=!1,a=!1,c=!0){if(!p)return{symbol:null};let j;if(o(p)||p instanceof r)j=p.clone();else if(\"cim\"===p.type)j=e.fromCIMSymbol(p);else if(p instanceof l)j=i.fromSimpleLineSymbol(p);else if(p instanceof s)j=e.fromSimpleMarkerSymbol(p);else if(p instanceof t)j=e.fromPictureMarkerSymbol(p);else if(p instanceof f)j=y.fromSimpleFillSymbol(p);else{if(!(p instanceof n))return{error:new m(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};j=c?b.fromTextSymbol(p):e.fromTextSymbol(p)}if(S&&(j.id=p.id),a&&o(j))for(let o=0;o<j.symbolLayers.length;++o)j.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:j}}export{p as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as r,adjustStaticAGOUrl as o}from\"../../core/devEnvironmentUtils.js\";import s from\"../../core/Error.js\";import{normalize as n,removeFile as l,urlToObject as a}from\"../../core/urlUtils.js\";import i from\"../../portal/Portal.js\";import m from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as u}from\"../../support/featureFlags.js\";import{f as y}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as f}from\"./jsonUtils.js\";import c from\"./StyleOrigin.js\";import p from\"./Thumbnail.js\";const b={};function d(e,t){return P(e,t).then((t=>({data:t.data,baseUrl:l(e),styleUrl:e})))}function h(e,t,r){const o=t.portal||i.getDefault();let s;const n=`${o.url} - ${o.user&&o.user.username} - ${e}`;return b[n]||(b[n]=j(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),b[n]}function j(e,t,r){return t.load(r).then((()=>{const o=new m({disableExtraQuery:!0,query:`owner:${D} AND type:${R} AND typekeywords:\"${e}\"`});return t.queryItems(o,r)})).then((({results:t})=>{let o=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===R&&e.owner===D){o=e;break}}if(!o)throw new s(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return o.load(r)}))}function g(e,t,r){return e.styleUrl?d(e.styleUrl,r):e.styleName?h(e.styleName,t,r):Promise.reject(new s(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function w(e,t,r,o){return e.name?e.styleName&&\"Esri2DPointSymbolsStyle\"===e.styleName?E(e,t,o):g(e,t,o).then((s=>U(s,e.name,t,r,o))):Promise.reject(new s(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function U(e,n,i,m,u){const b=e.data,d={portal:i.portal,url:a(e.baseUrl),origin:\"portal-item\"},h=b.items.find((e=>e.name===n));if(!h){const e=`The symbol name '${n}' could not be found`;return Promise.reject(new s(\"symbolstyleutils:symbol-name-not-found\",e,{symbolName:n}))}let j=y(S(h,m),d),g=h.thumbnail&&h.thumbnail.href;const w=h.thumbnail&&h.thumbnail.imageData;r()&&(j=o(j),g=o(g));const U={portal:i.portal,url:a(l(j)),origin:\"portal-item\"};return P(j,u).then((r=>{const o=\"cimRef\"===m?N(r.data):r.data,s=f(o,U);if(s&&t(s)){if(g){const e=y(g,d);s.thumbnail=new p({url:e})}else w&&(s.thumbnail=new p({url:`data:image/png;base64,${w}`}));e.styleUrl?s.styleOrigin=new c({portal:i.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(s.styleOrigin=new c({portal:i.portal,styleName:e.styleName,name:n}))}return s}))}function N(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function S(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!u())for(const r of e.formatInfos)if(\"gltf\"===r.type)return r.href;return e.webRef}function $(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function E(e,t,r){const o=q.replace(/\\{SymbolName\\}/gi,e.name);return P(o,r).then((e=>{const r=N(e.data);return f(r,{portal:t.portal,url:a(l(o)),origin:\"portal-item\"})}))}function P(t,r){const o={responseType:\"json\",query:{f:\"json\"},...r};return e(n(t),o)}const D=\"esri_en\",R=\"Style\",q=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{g as fetchStyle,U as fetchSymbolFromStyle,w as resolveWebStyleSymbol,$ as styleNameFromItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";const a=()=>!!e(\"enable-feature:force-wosr\"),r=()=>!!e(\"enable-feature:disable-context-navigation\"),t=()=>!!e(\"enable-feature:direct-3d-object-feature-layer-display\"),o=()=>!!e(\"enable-feature:enable-clouds\"),n=()=>!!e(\"enable-feature:new-atmosphere\");export{r as disableContextNavigation,o as enableClouds,t as enableDirect3DObjectFeatureLayerDisplay,n as enableNewAtmosphere,a as enableWebStyleForceWOSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport c from\"./global.js\";function a(a){return a=a||c.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||c.location.hostname)?null!=t.match(r)||null!=t.match(m)?a.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(n)||null!=t.match(s)?a.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):a:a}function o(a){a=a||c.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(e).some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}const r=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,e=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,r,n,/^jsapps.esri.com$/,m,s];export{t as adjustStaticAGOUrl,a as isDevEnvironment,o as isTelemetryDevEnvironment};\n"],"sourceRoot":""}