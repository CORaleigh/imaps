{"version":3,"sources":["../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js"],"names":["e","t","r","i","length","u","o","n","l","Array","next","prev","y","p","c","v","s","f","x","Math","min","max","a","z","steiner","h","push","index","m","k","w","M","prevZ","nextZ","B","sort","b","abs","g","q","d","A","Z","j","constructor","this","fragment","include","uniforms","add","code","bindUniforms","shadowMappingEnabled","shadowMap","bind","bindView","origin","bindViewCustomOrigin","output","receiveShadows","varyings","vertex","pbrMode","useCustomDTRExponentForWater","cache","Map","dispose","forEach","texture","clear","acquire","patternId","get","refCount","patternToTextureData","width","height","internalFormat","pixelFormat","dataType","wrapMode","bindTexture","set","release","delete","swap","join","reduce","Uint8Array","slice","setUniform1i","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","byteLength","Uint32Array","minReduction","originalIndices","componentOffsets","U","floor","ceil","sqrt","buffer","indices","uniqueCount","linearDepth","attributes","multipassTerrainEnabled","float","OITEnabled","Object","freeze","__proto__","build","highStepCount","lastFrameColorTextureUnit","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","camera","projectionMatrix","ssrEnabled","linearDepthTextureUnit","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","setUniform1f","viewingMode","super","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","applyProps","setGeometryFromExtent","view","spatialReference","renderCoordsHelper","toRenderCoords","geometry","setGeometryFromFrustum","lines","endpoint","setGeometryFromSegment","endRenderSpace","transform","points","createRenderGeometry","setGeometryFromSegments","map","_updateMaterial","_geometry","recreateGeometry","recreate","createExternalResources","_material","_","materialParameters","destroyExternalResources","createGeometries","_createLineGeometries","addGeometry","forEachExternalMaterial","color","stippleOffColor","stipplePattern","isClosed","falloff","innerColor","innerWidth","stippleIntegerRepeats","polygonOffset","renderOccluded","writeDepth","attached","setParameterValues","Float64Array","attributeData","position","removeDuplicateStartEnd","pathLengths","count","holeIndices","polygons","outlines","intensity","direction","castShadows","sh","S","I","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","E","prototype","T","id","_renderTarget","colorTarget","depthStencilTarget","target","samplingMode","hasMipmap","maxAnisotropy","getTexture","colorTexture","isValid","resize","bindFramebuffer","generateMipMap","descriptor","generateMipmap","disposeRenderTargetMemory","getGpuMemoryUsage","vec3","extent","resolution","renderLocalOrigin","pixelRatio","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawRenderTargets","drawPass","computeRenderTargetValidityBitfield","validateUsage","collectUnusedMemory","_uniforms","proj","uShadowMapDistance","viewportPixelSz","lightingMainDirection","getPrograms","subscribeProgram","hasUniform","unsubscribeProgram","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","key","acquireAndReleaseExisting","frameUpdate","size","getProgramsUsingUniform","commonUniformStore","async","shader","reload","Promise","all","name","find","getLogger","refCnt","glMaterial","incRefCnt","decRefCnt","getRefCnt","getGLMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","material","techniqueRep","textureRep","materialChanged","updateParameters","materialRepository","error","ROOT_ORIGIN_ID","_origins","_gridSize","getOrigin","testOrigin","random","round","_drawOriginBox","window","_stage","_object","isPickable","castShadow","Uint16Array","WebMercator","O","data","exclusive","console","log","rctx","offscreenRenderingHelper","scenelightingData","ssaoHelper","sliceHelper","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","resetRenderOccludedMask","adds","removes","updates","allocator","deallocator","renderGeometry","prune","indexCount","_array","Float32Array","_size","subarray","append","erase","waterTextureRepository","initializeProgram","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","useSSR","cullAboveGround","generateSource","ensureResource","ready","updating","loadTextures","bindPass","bindProjectionMatrix","program","inverseViewport","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindDraw","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","setPipelineState","blending","transparent","depthTest","func","depthWrite","colorWrite","enableOffset","initializePipeline","P","isDraped","getTechniqueConfig","beginSlot","params","setElapsedTimeUniform","animation","time","animationSpeed","_updateShadowState","_updateSSRState","ensureResources","ensureParameters","bindProgram","from","to","isVisible","hasHighlights","transformation","transformationNormal","first","drawCalls","triangles","hasHiddenInstances","R","begin","end","D","type","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","modify","updateGeometries","addAndRemoveGeometries","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","toAdd","toRemove","elementCount","H","createData","array","removeAndRebuild","removeByErasing","vertexBuffers","byteSize","setData","setSubData","drawCommandsDirty","updateType","instances","instanceParameters","visible","highlights","occludees","write","invTranspTransformation","createView","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","drawCommandsShadowHighlightRest","stats","default","shadowHighlightRest","layout","C","values","updateLogic","update","render","getTechnique","getPipelineState","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","glMaterials","_pendingAddsRemoves","_changes","_materialRenderers","_sortedMaterialRenderers","_hasWater","rendersOccluded","stopAnimationsAtTime","forAll","stopAtTime","commitChanges","updateAddsRemoves","hasWater","updateSortedMaterialRenderers","notifyChange","remove","pushNew","materialRenderer","draw","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","sphericalHarmonics","main","PI","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setLightDirectionUniform","setUniform3fv","_info","groundLightingFactor","globalFactor","setUniform3f","lights","V","_overlays","_rendersOccluded","_lighting","F","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","globalUnitScale","longitudeCyclical","initialize","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","K","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","X","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","terrainLinearDepthTexture","geometryLinearDepthTexture","multipassGeometryEnabled","scheduler","registerTask","STAGE","destroy","_temporaryRenderTarget","_debugPatternTexture","_quadVAO","forEachOverlay","ensureOverlays","disposeOverlays","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","addGeometries","boundingSphere","ensureLayerRenderer","notifyGraphicGeometryChanged","removeGeometries","notifyGraphicVisibilityChanged","warn","graphicUid","updateHighlights","L","updateLayerOrder","numViews","_screenToWorldRatio","views","viewport","hasNonZeroSizedView","setClearColor","clearSafe","setViewParameters","drawDebugTexture","N","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","composite","hotReload","intersect","intersectRenderGeometry","range","Y","getShaderTransformation","addIntersectionResult","layerUid","calculateShaderTransformation","metadata","results","ground","dist","normal","intersector","drapedLayerOrder","options","store","ray","watch","allLayerViews","keys","Set","near","far","setGLViewport","fullViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","W","layerRenderers","G","constructOnly","Boolean","readOnly","relativeElevation","mapPosition","colorFeature","sizeFeature","opacityFeature","uniformSize","rings","paths","hasZ","projectionSuccess","sampledElevation","constants"],"mappings":"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","file":"static/js/14.bf4fee30.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const i=t&&t.length,u=i?t[0]*r:e.length;let o=n(e,0,u,r,!0);const l=new Array;if(!o||o.next===o.prev)return l;let y,p,c,v,s;if(i&&(o=f(e,t,o,r)),e.length>80*r){y=c=e[0],p=v=e[1];for(let n=r;n<u;n+=r){const t=e[n],x=e[n+1];y=Math.min(y,t),p=Math.min(p,x),c=Math.max(c,t),v=Math.max(v,x)}s=Math.max(c-y,v-p),s=0!==s?1/s:0}return x(o,l,r,y,p,s),l}function n(e,n,t,x,r){let i;if(r===a(e,n,t,x)>0)for(let o=n;o<t;o+=x)i=u(o,e[o],e[o+1],i);else for(let o=t-x;o>=n;o-=x)i=u(o,e[o],e[o+1],i);return i&&z(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!z(x,x.next)&&0!==h(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,y,p=0){if(!e)return;!p&&y&&(e=c(e,l,f,y));let v=e;for(;e.prev!==e.next;){const c=e.prev,s=e.next;if(y?i(e,l,f,y):r(e))n.push(c.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){p?1===p?x(e=m(e,n,u),n,u,l,f,y,2):2===p&&k(e,n,u,l,f,y):x(t(e),n,u,l,f,y,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(h(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,w(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&h(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(h(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=M(o,l,n,t,x),c=M(f,y,n,t,x);let v=e.prevZ,s=e.nextZ;for(;v&&v.z>=p&&s&&s.z<=c;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;s&&s.z<=c;){if(s!==e.prev&&s!==e.next&&w(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&h(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t,x){const r=new B(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,x,r,i){const u=new Array;for(let t=0,o=x.length;t<o;t++){const r=n(e,x[t]*i,t<o-1?x[t+1]*i:e.length,i,!1);r===r.next&&(r.steiner=!0),u.push(l(r))}u.sort(b);for(const n of u)y(n,r),r=t(r,r.next);return r}function y(e,n){if(n=p(e,n)){const x=q(n,e);t(x,x.next)}}function p(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;for(t=i.next;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&w(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&g(t,e)&&(i=t,p=y)),t=t.next;return i}function c(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=M(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,c(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,v(e)}function v(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}function s(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(a(e,0,i,t));if(r)for(let l=0,f=n.length;l<f;l++){const x=n[l]*t,r=l<f-1?n[l+1]*t:e.length;u-=Math.abs(a(e,x,r,t))}let o=0;for(let l=0;l<x.length;l+=3){const n=x[l]*t,r=x[l+1]*t,i=x[l+2]*t;o+=Math.abs((e[n]-e[i])*(e[r+1]-e[n+1])-(e[n]-e[r])*(e[i+1]-e[n+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function h(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function d(e,n,t,x){return!!(z(e,n)&&z(t,x)||z(e,x)&&z(t,n))||h(e,n,t)>0!=h(e,n,x)>0&&h(t,x,e)>0!=h(t,x,n)>0}function Z(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&d(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function a(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function w(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function g(e,n){return h(e.prev,e,e.next)<0?h(e,n,e.next)>=0&&h(e,e.prev,n)>=0:h(e,n,e.prev)<0||h(e,e.next,n)<0}function M(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function z(e,n){return e.x===n.x&&e.y===n.y}function b(e,n){return e.x-n.x}function m(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!z(r,i)&&d(r,x,x.next,i)&&g(r,i)&&g(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function k(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&A(l,e)){let f=q(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function A(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!Z(e,n)&&g(e,n)&&g(n,e)&&j(e,n)}function j(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}function q(e,n){const t=new B(e.index,e.x,e.y),x=new B(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class B{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{s as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/checkWebGLError.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=2,o=this.patternToTextureData(e,2),u=o.length/s,c={refCount:1,texture:null,bind:(e,n)=>(t(c.texture)&&(c.texture=new r(e,{width:o.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},o)),e.bindTexture(c.texture,n),u)};return this.cache.set(n,c),c.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const o of e){for(let e=0;e<o*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){function t(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}e.bindUniforms=t}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){var u;const c=n.byteLength/(4*f),s=new Uint32Array(n,0,c*f);let a=new Uint32Array(c);const h=null!=(u=null==i?void 0:i.minReduction)?u:0,d=(null==i?void 0:i.originalIndices)||null,g=d?d.length:0,y=(null==i?void 0:i.componentOffsets)||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=c;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!d,b=m?g:c,p=m?new Uint32Array(g):null,v=1.96;let M=0!==h?Math.ceil(4*v*v/(h*h)*h*(1-h)):b,q=1,x=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+v*Math.sqrt(n*(1-n)/t)<h)return null;M*=2}if(t===x){for(let t=0;t<2*w;t++)o[t]=0;if(d)for(let t=y[q-1];t<y[q];t++)p[t]=a[d[t]];x=y[++q]}const n=m?d[t]:t,l=n*f,i=r(s,l,f);let u=i%w,c=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(s,l,t*f,f)){c=a[t];break}}u++,u>=w&&(u-=w)}c===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),a[n]=c}if(0!==h&&1-A/c<h)return null;if(m){for(let t=y[q-1];t<p.length;t++)p[t]=a[d[t]];a=p}const j=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(a[t]===A){l(s,(m?d[t]:t)*f,j,A*f,f),A++}if(d&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=a[d[n]];a=t}return{buffer:j.buffer,indices:a,uniqueCount:A}}function e(t,n,e,l){for(let r=0;r<l;r++)if(t[n+r]!==t[e+r])return!1;return!0}function l(t,n,e,l,r){for(let o=0;o<r;o++)e[l+o]=t[n+o]}function r(t,n,e){let l=0;for(let r=0;r<e;r++)l=t[n+r]+l|0,l=l+(l<<11)+(l>>>2)|0;return l>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{OutputHighlight as n}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function p(p){const u=new a;return u.include(r,{linearDepth:!1}),u.attributes.add(\"position\",\"vec3\"),u.attributes.add(\"uv0\",\"vec2\"),u.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),u.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==p.output&&7!==p.output||(u.include(c,p),u.include(g,p),u.varyings.add(\"vuv\",\"vec2\"),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vnormal\",\"vec3\"),u.varyings.add(\"vtbnMatrix\",\"mat3\"),p.multipassTerrainEnabled&&u.varyings.add(\"depth\",\"float\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        ${p.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===p.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),p.multipassTerrainEnabled&&(u.fragment.include(t),u.include(l,p)),7===p.output&&(u.include(i,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n          ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===p.output&&(u.include(v,p),u.include(i,p),p.receiveShadows&&u.include(s,p),u.include(m,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),u.fragment.include(o),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${p.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${p.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===p.output&&(u.include(c,p),u.include(v,p),u.include(i,p),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vuv\",\"vec2\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"timeElapsed\",\"float\"),u.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===p.output&&(u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(d)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===p.output&&(u.include(n),u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(d)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),u.include(i,p),u.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),u}var u=Object.freeze({__proto__:null,build:p});export{u as W,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){function o(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureUnit),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureUnit),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}r.bindUniforms=o}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.fragment.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){function t(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureUnit),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureUnit),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}e.bindUniforms=t}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{Z as r,c as s}from\"../../../../chunks/vec3f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{i as o,t as n}from\"../../../../chunks/mat4.js\";import{a as l}from\"../../../../chunks/mat4f64.js\";import{g as a,c as h}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{RibbonLineMaterial as _}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{Object3DVisualElement as m}from\"./Object3DVisualElement.js\";class u extends m{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=s(),o=s(),n=100,l=[];i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[2],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[3],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),i(r,e[0],e[1],n),this.view.renderCoordsHelper.toRenderCoords(r,t,o),l.push([o[0],o[1],o[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;o(g),n(g,g,t),this.transform=g;const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r]}setGeometryFromSegments(e,t=r){o(g),n(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){a(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&a(r,this._innerColor)||(this._innerColor=h(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!a(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new _(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=l();export{u as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=l(n.rings,n.hasZ,1),s=[];let i=0,c=0;for(const e of o.polygons){const n=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*n),h=e.holeIndices.map((n=>n-r)),f=new Uint32Array(t(l,h,3));s.push({position:l,faces:f}),i+=l.length,c+=f.length}const h=r(s,i,c),f=e(h.position.buffer,6,{originalIndices:h.faces});return h.position=new Float64Array(f.buffer),h.faces=f.indices,h}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),c=new Array(o);let h=0,f=0,g=0,a=0;for(let s=0;s<o;++s)a+=n[s].length;const u=new Float64Array(3*a);let p=0;for(let d=o-1;d>=0;d--){const a=n[d],y=1===e&&i(a);if(y&&1!==o)r[h++]=a;else{let n=a.length;for(let t=0;t<h;++t)n+=r[t].length;const e={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=a.length,a.length>0&&(c[g++]={index:p,count:a.length}),p=y?s(a,a.length-1,-1,u,p,a.length,t):s(a,0,1,u,p,a.length,t);for(let o=0;o<h;++o){const n=r[o];e.holeIndices[o]=p,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}h=0,e.count>0&&(l[f++]=e)}}for(let i=0;i<h;++i){const n=r[i];n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}return f<o&&(l.length=f),g<o&&(c.length=g),{position:u,polygons:l,outlines:c}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(t){return!n(t,!1,!1)}export{l as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED=!0,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const T=new S;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{disposeMaybe as e}from\"../../../core/maybe.js\";import\"../../../core/mathUtils.js\";import{generateUID as r}from\"../../../core/uid.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/checkWebGLError.js\";import{getGpuMemoryUsage as t}from\"../../webgl/Util.js\";import i from\"../../webgl/FramebufferObject.js\";class s{constructor(e,t){this.id=r(),this._renderTarget=null,this._renderTarget=new i(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:t,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget=e(this._renderTarget)}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let e=0;return this._renderTarget&&(e+=t(this._renderTarget)),e}}export{s as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{removeUnordered as r}from\"../../../../../core/arrayUtils.js\";class s{constructor(){this._uniforms={proj:[],uShadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(r){return this._uniforms[r]||[]}subscribeProgram(r){for(const s in this._uniforms)r.hasUniform(s)&&this._uniforms[s].push(r)}unsubscribeProgram(s){for(const i in this._uniforms)r(this._uniforms[i],s)}}export{s as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";class t{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class r{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,r){const s=r.key;let n=this._perConstructorInstances.get(e);n||(n=new Map,this._perConstructorInstances.set(e,n));let o=n.get(s);return void 0===o&&(o=new t(new e(this._context,r)),n.set(s,o)),++o.refCount,o.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(t){if(e(t))return;const r=this._perConstructorInstances.get(t.constructor).get(t.key);r.refCount-=1,0===r.refCount&&(r.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))};e.push(s(t,r))})),await Promise.all(e)}}export{r as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}class n{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as r}from\"../../../../chunks/vec3.js\";import{projectBuffer as o}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{Geometry as n}from\"./Geometry.js\";import{Object3D as a}from\"./Object3D.js\";import{fromValues as h}from\"./localOrigin.js\";import{WebGLLayer as c}from\"./WebGLLayer.js\";import{RibbonLineMaterial as m}from\"../materials/RibbonLineMaterial.js\";let _=0;const d=\"rg_\";class g{constructor(){this.ROOT_ORIGIN_ID=d+\"root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const s=this._origins.get(this.ROOT_ORIGIN_ID);if(null==s){if(t(g.testOrigin)){const t=g.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,h(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const s=h(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,s),s}r(l,i,s.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);const o=this._gridSize;if(l[0]<o&&l[1]<o&&l[2]<o)return s;const e=Math.round(i[0]/o),n=Math.round(i[1]/o),a=Math.round(i[2]/o),c=`${d}${e}/${n}/${a}`;let m=this._origins.get(c);return m||(m=h(e*o,n*o,a*o,c),this._origins.set(c,m)),m}_drawOriginBox(t){const s=window.view,r=s._stage;if(null==this._object){this._material=new m({width:2,color:[0,1,0,1]}),r.add(this._material);const t=new c({isPickable:!1});this._object=new a({castShadow:!1}),r.add(this._object),t.add(this._object),r.add(t)}const h=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=h.length,d=new Array(3*_),g=new Uint16Array(2*(_-1)),l=.5*this._gridSize;for(let i=0;i<_;i++)d[3*i+0]=t[0]+(1&h[i]?l:-l),d[3*i+1]=t[1]+(2&h[i]?l:-l),d[3*i+2]=t[2]+(4&h[i]?l:-l),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);o(d,i.WebMercator,0,d,s.spatialReference,0,_);const O=new n([[\"position\",{size:3,data:d,exclusive:!0}]],[[\"position\",g]],2);r.add(O),this._object.addGeometry(O,this._material,e),console.log(this._origins.size,t)}}const l=s();!function(t){t.testOrigin=null}(g||(g={}));var O=g;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";class e{constructor(e,i,h,r,a,l){this.rctx=e,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l,this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=t,this.hasOccludees=!1}resetRenderOccludedMask(){this.renderOccludedMask=t}get isHighlightPass(){return 5===this.pass}}const t=13;export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";class r{constructor(){this.adds=new e,this.removes=new e,this.updates=new e({allocator:e=>e||new s,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}}class s{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}export{r as ChangeSet,t as MaterialChangeSet,s as RenderGeometryUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";function r(r){const n=new Map,a=r=>{let t=n.get(r);return t||(t=new e,n.set(r,t)),t};return r.adds.forAll((e=>{t(e)&&a(e.material).adds.push(e)})),r.removes.forAll((e=>{t(e)&&a(e.material).removes.push(e)})),r.updates.forAll((e=>{t(e.renderGeometry)&&a(e.renderGeometry.material).updates.push(e)})),n}function t(e){return e.data.indexCount>=1}export{r as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as l}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as h}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as c}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as m,OITBlending as g,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as T}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as v}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as w}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as S}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as j}from\"../../../../chunks/WaterSurface.glsl.js\";class x extends t{constructor(r,e){super(r,e),this.waterTextureRepository=r.waterTextureRepository}initializeProgram(r){const e=x.shader.get(),t=this.configuration,i=e.build({OITEnabled:0===t.transparencyPassType,output:t.output,viewingMode:r.viewingMode,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:t.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:t.useSSR,highStepCount:!0,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new a(r.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(r){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(r),this.waterTextureRepository.ready?2:1}bindPass(r,e,t){l.bindProjectionMatrix(this.program,t.camera.projectionMatrix),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),T(this.program,r,t)),0===this.configuration.output&&(t.lighting.setUniforms(this.program,!1),w.bindUniforms(this.program,r,t)),0!==this.configuration.output&&2!==this.configuration.output||(S.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(r)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&c.bindOutputHighlight(r,this.program,t)}bindDraw(r){l.bindView(this.program,r),0!==this.configuration.output&&7!==this.configuration.output||l.bindCamPosition(this.program,r.origin,r.camera.viewInverseTransposeMatrix),0===this.configuration.output&&v.bindUniforms(this.program,r,h.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,r)}setPipelineState(r){const e=this.configuration,t=3===r,i=2===r;return n({blending:2!==e.output&&4!==e.output&&e.transparent?t?m:g(r):null,depthTest:{func:f(r)},depthWrite:t?e.writeDepth&&p:b(r),colorWrite:u,polygonOffset:t||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}x.shader=new e(j,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class P extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}r([o({count:8})],P.prototype,\"output\",void 0),r([o()],P.prototype,\"receiveShadows\",void 0),r([o()],P.prototype,\"slicePlaneEnabled\",void 0),r([o()],P.prototype,\"transparent\",void 0),r([o()],P.prototype,\"enableOffset\",void 0),r([o()],P.prototype,\"writeDepth\",void 0),r([o()],P.prototype,\"useSSR\",void 0),r([o()],P.prototype,\"isDraped\",void 0),r([o({count:4})],P.prototype,\"transparencyPassType\",void 0),r([o()],P.prototype,\"multipassTerrainEnabled\",void 0),r([o()],P.prototype,\"cullAboveGround\",void 0);export{x as WaterTechnique,P as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as d,setMatrixTranslation3 as l}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as g,calculateTransformRelToOrigin as f}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as w}from\"../WaterGLMaterial.js\";import{Instance as b,sortInstancesAccordingToRange as C,addOrMerge as y}from\"./Instance.js\";import{addToRenderStats as _}from\"../../statistics/RendererPerformanceInfo.js\";class v{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){g(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof w))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.updates),this.addAndRemoveGeometries(e.adds,e.removes),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=H(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)d(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=R,g=h.buffer.size,f=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,f,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=g)):(c.begin=g,c.end=g);const w=B;l(w,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,w,c);const b=h.vao.vertexBuffers.geometry;if(b.byteSize!==h.buffer.array.buffer.byteLength)b.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;b.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.id);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;f(i,D,j),t.write({transformation:D,invTranspTransformation:j},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),d(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));const e=e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.drawCommandsShadowHighlightRest=null,e.stats={default:0,highlight:0,occludees:0,shadowHighlightRest:0},0===e.instances.size)return;if(!O(e)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0,shadowHighlightRest:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[],e.drawCommandsShadowHighlightRest=[];for(const a of t)a.isVisible&&(a.hasOccludees?y(e.drawCommandsOccludees,a):y(e.drawCommandsDefault,a),a.hasHighlights?y(e.drawCommandsHighlight,a):y(e.drawCommandsShadowHighlightRest,a));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees),shadowHighlightRest:s(e.drawCommandsShadowHighlightRest)}};this._dataByOrigin.forEach((t=>{t.drawCommandsDirty&&(e(t),t.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),d=5===a.pass||7===a.pass,l=6===a.pass,h=!(d||l);let m=s;if(3===a.pass&&null===m&&(m=22),!o||2!==o.ensureResources(n)||null!=m&&!o.beginSlot(m)||d&&!this._hasHighlights)return!1;o.ensureParameters(i);const u=o.getTechnique(),c=o.getPipelineState(m,!1);n.setPipelineState(c),o.bind(n,i);let g=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees)&&e(s.drawCommandsShadowHighlightRest))return;if(d&&!s.hasHighlights)return;i.origin=s.origin,u.bindDraw(i),u.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=u.primitiveType;let f=d?s.drawCommandsHighlight:l&&O(s)?s.drawCommandsShadowHighlightRest:s.drawCommandsDefault;const p=d?s.stats.highlight:l&&O(s)?s.stats.shadowHighlightRest:s.stats.default;if(t(f)&&(this.renderCommands(n,a,f),_(f.length,p,r),g=!0),h&&(f=s.drawCommandsOccludees,t(f))){const e=o.getPipelineState(m,!0);n.setPipelineState(e),this.renderCommands(n,a,f),n.setPipelineState(c),_(f.length,s.stats.occludees,r),g=!0}})),g}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,drawCommandsShadowHighlightRest:null,stats:{default:0,highlight:0,occludees:0,shadowHighlightRest:0}}}removeAndRebuild(e,t,s,a,i){for(const h of t){const t=h.id,a=e.instances.get(t);e.optimalCount-=(a.to-a.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,d=-1,l=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==d&&d!==t?(n.set(a.subarray(o,d),l),l+=d-o,o=t):-1===o&&(o=t),d=i,e.from=r/s,r+=h,e.to=r/s})),o!==d&&n.set(a.subarray(o,d),l),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.id,o=e.instances.get(t),d=o.from*s,l=o.to*s;i!==r&&r!==d?(e.buffer.erase(i,r),i=d):-1===i&&(i=d),r=l,e.instances.delete(t),e.optimalCount-=l-d,d<a.begin&&(a.begin=d),l>a.end&&(a.end=l)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,l){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(D,o,m.transformation):o;a(j,r),i(j,j);const u=l.end;h.write({transformation:r,invTranspTransformation:j},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),l.end/n);const c=h.elementCount(m.data)*n,g=u+c;d(null==e.instances.get(m.id));const f=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&f,w=!!m.instanceParameters.occludees,C=new b(u/n,g/n,f,p,w);e.instances.set(m.id,C),e.optimalCount+=c,l.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}function H(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let d=i.get(n.id);null==d&&(d={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,d));const l=t.elementCount(s.data)*r;a?(d.optimalCount+=l,d.sparseCount+=l,d.toAdd.push(s)):(d.optimalCount-=l,d.toRemove.push(s))};for(const o of s)n(o,!0);for(const o of a)n(o,!1);return i}function O(e){return e.hasOccludees||e.hasHighlights||e.hasHiddenInstances}const R={begin:0,end:0},B=n(),D=n(),j=n();export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as r}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as o}from\"../../../../core/MapUtils.js\";import{materialPredicate as n}from\"./Material.js\";import{ChangeSet as d}from\"./ChangeSet.js\";import{splitRenderGeometryChangeSetByMaterial as h}from\"./rendererUtils.js\";import l from\"../materials/renderers/MergedRenderer.js\";let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._changes=new d,this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._changes.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._changes.updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return o(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((t=>r(t.material.animation,(r=>r.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const r=h(this._changes);let t=!1,s=!1;return r.forEach(((r,i)=>{let a=this._materialRenderers.get(i);if(!a&&r.adds.length>0&&(a=new l(this.rctx,this.materialRepository,i),this._materialRenderers.set(i,a),e=!0,t=!0,s=!0),!a)return;const o=t||a.hasHighlights,n=s||a.hasWater;a.modify(r),t=t||o!==a.hasHighlights,s=s||n!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(i),a.dispose(),e=!0)})),this._changes.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),t&&(this._hasHighlights=o(this._materialRenderers,(e=>e.hasHighlights))),s&&(this._hasWater=o(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const r=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);r&&this.notifyChange(\"updating\")}remove(e){const r=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}r&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=s,e.updateType=r}t&&this._changes.updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let r=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:t})=>{t.updateLogic&&t.updateLogic(e)&&(r=!0)})),r}draw(e,r){for(let t=0;t<this._sortedMaterialRenderers.length;t++){const s=this._sortedMaterialRenderers.data[t];n(s.material,e)&&s.materialRenderer.render(null,e,r,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((r,t)=>{t.insertOrder=e++,this._sortedMaterialRenderers.push({material:t,materialRenderer:r})})),this._sortedMaterialRenderers.sort(((e,r)=>{const t=r.material.renderPriority-e.material.renderPriority;return 0!==t?t:e.material.insertOrder-r.material.insertOrder}))}updateAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._pendingAddsRemoves.forEach(((e,r)=>{switch(e){case 0:this._changes.adds.push(r);break;case 1:this._changes.removes.push(r)}}));let e=0;for(;e<this._changes.updates.length;){const r=this._changes.updates.data[e].renderGeometry;this._pendingAddsRemoves.has(r)?this._changes.updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([t()],p.prototype,\"rctx\",void 0),e([t()],p.prototype,\"materialRepository\",void 0),e([t()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let o=0;o<i;o++)s.r[o]=s.g[o]=s.b[o]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const s of n)s instanceof r&&!h?(o(i.main.direction,s.direction),i.main.intensity[0]=s.intensity[0],i.main.intensity[1]=s.intensity[1],i.main.intensity[2]=s.intensity[2],i.main.castShadows=s.castShadows,h=!0):s instanceof r||s instanceof e?f.push(s):s instanceof c?u.push(s):s instanceof a&&l.push(s);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const s of l)m(i.sphericalHarmonics.sh.r,s.sh.r),m(i.sphericalHarmonics.sh.g,s.sh.g),m(i.sphericalHarmonics.sh.b,s.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i(),g=.4;class l{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",g);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const l=r(h,this._oldSunlight.diffuse.color);s(l,l,g*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,l)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{l as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{disposeMaybe as r,isSome as t,isNone as i,unwrap as s}from\"../../../core/maybe.js\";import n from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import h from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{generateUID as d}from\"../../../core/uid.js\";import{f as u,c as p}from\"../../../chunks/vec3f64.js\";import c from\"../../../core/Handles.js\";import{init as g}from\"../../../core/watchUtils.js\";import{o as m,i as y,t as _}from\"../../../chunks/mat4.js\";import{Task as f}from\"../../support/Scheduler.js\";import{someMap as R}from\"../../../core/MapUtils.js\";import{a as w}from\"../../../chunks/vec2f64.js\";import b from\"../../webgl/Texture.js\";import{vertexCount as x}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as T,createQuadVAO as v}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as C}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as O}from\"../webgl-engine/lib/intersectorUtils.js\";import j from\"../webgl-engine/lib/Camera.js\";import L from\"../support/debugFlags.js\";import{AutoDisposableMixin as V,autoDispose as G}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as S}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as E}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as A}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import P from\"../webgl-engine/lib/GLMaterialRep.js\";import M from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import D from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as H}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as W,TextureTechnique as q}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as F}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as k}from\"../webgl-engine/materials/lineStippleUtils.js\";const z=n.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let B=class extends(V(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new F,this._localOrigins=new M,this._handles=new c,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new h,this._geometries=new Map,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new D(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new k,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new A({rctx:this._rctx,viewingMode:2,commonUniformStore:new E,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),g(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new P(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&K)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new C(u(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:T(this._rctx),camera:X,inverseViewport:w(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureUnit:0,lastFrameColorTexture:null,lastFrameColorTextureUnit:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3,terrainLinearDepthTexture:null,geometryLinearDepthTexture:null,multipassTerrainEnabled:!1,cullAboveGround:!0,multipassGeometryEnabled:!1},this._handles.add(this.scheduler.registerTask(f.STAGE,(()=>this.commitChanges()),(()=>this.updating)))}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture=r(this._bindParameters.highlightDepthTexture),this._shaderTechniqueRepository=r(this._shaderTechniqueRepository),this._temporaryRenderTarget=r(this._temporaryRenderTarget),this._debugPatternTexture=r(this._debugPatternTexture),this._quadVAO=r(this._quadVAO)}get updating(){return this._sortedLayerRenderersDirty||R(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(i(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e),new U(e)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((r,t)=>{r.commitChanges()&&(e=!0),r.isEmpty&&(this._layerRenderers.delete(t),this._sortedLayerRenderersDirty=!0,this._handles.remove(t))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,r,t){for(const s of e)null==s.origin&&(s.origin=this._localOrigins.getOrigin(s.boundingSphere)),i(s.id)&&(s.id=d()),this._geometries.set(s.id,s);this.ensureLayerRenderer(r).add(e),2===t&&this.notifyGraphicGeometryChanged(e,r)}removeGeometries(e,r,t){for(const n of e)this._geometries.delete(s(n.id));const i=this._layerRenderers.get(r);i&&(i.remove(e),2===t&&this.notifyGraphicGeometryChanged(e,r))}updateGeometries(e,r,t){const i=this._layerRenderers.get(r);if(i)switch(i.modify(e,t),t){case 4:case 2:return this.notifyGraphicGeometryChanged(e,r);case 1:return this.notifyGraphicVisibilityChanged(e,r)}else z.warn(\"Attempted to update geometry for nonexistent layer\")}notifyGraphicGeometryChanged(e,r){if(i(r.notifyGraphicGeometryChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicGeometryChanged(e),t=e)}}notifyGraphicVisibilityChanged(e,r){if(i(r.notifyGraphicVisibilityChanged))return;let t;for(const i of e){const e=i.graphicUid;e!==t&&(r.notifyGraphicVisibilityChanged(e),t=e)}}updateHighlights(e,r){const t=this._layerRenderers.get(r);t?t.modify(e,8):z.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!L.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let r=!1;return this._layerRenderers.forEach((t=>{t.updateLogic(e)&&(r=!0)})),r}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const h=this._rctx;if(X.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(h),h.setClearColor(0,0,0,0),h.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=K),L.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let t=0;t<i.numViews;t++)this.setViewParameters(i.views[t],X),this.drawDebugTexture(o,a,N[i.index%N.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:l,renderer:d})=>{if(2===n&&t(l)&&0===l.drapeSourceType)return;const u=t(l)&&t(l.fullOpacity)&&l.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),h.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],X),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(h),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(l).fullOpacity)))})),h.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,r,t){i(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new S(e,!1)),this._temporaryRenderTarget.resize(r,t),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,r,t){let i=0;this._geometries.forEach((s=>{if(t&&!t(s))return;this.intersectRenderGeometry(s,r,0,e,i);const n=this.longitudeCyclical;n&&(s.boundingSphere[0]-s.boundingSphere[3]<n.min&&this.intersectRenderGeometry(s,r,n.range,e,i),s.boundingSphere[0]+s.boundingSphere[3]>n.max&&this.intersectRenderGeometry(s,r,-n.range,e,i)),i++}))}intersectRenderGeometry(e,r,i,s,n){if(!e.instanceParameters.visible)return;let o=0;t(e.transformation)&&(i+=e.transformation[12],o=e.transformation[13]),Y[0]=r[0]-i,Y[1]=r[1]-o,Y[2]=1,Z[0]=r[0]-i,Z[1]=r[1]-o,Z[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),s,Y,Z,((r,t,i)=>{this.addIntersectionResult(i,e.material.renderPriority,n,s,e.layerUid,e.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,r,t,i,s,n){const o={type:\"external\",metadata:{layerUid:s,graphicUid:n}},a=s=>{s.set(o,null,i.results.ground.dist,i.results.ground.normal,i.results.ground.transformation,r,null,null,e,t),s.intersector=\"OverlayRenderer\"};if((null==i.results.min.drapedLayerOrder||r>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&a(i.results.min),0!==i.options.store&&(null==i.results.max.drapedLayerOrder||r<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&a(i.results.max),2===i.options.store){const e=new O(i.ray);a(e),i.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((r=>r.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let r=this._layerRenderers.get(e);return r||(r=new H({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,r),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(g(r,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),r}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),r=new Set(this._layerRenderers.values());e.forEach((e=>{const t=e,i=this._layerRenderers.get(t);i&&(this._sortedLayerRenderers.push(new I(t,i)),r.delete(i))})),r.forEach((e=>{this._sortedLayerRenderers.push(new I(null,e))}))}setViewParameters(e,r){r.viewport=e.viewport;const t=e.extent;m(r.projectionMatrix,0,t[2]-t[0],0,t[3]-t[1],r.near,r.far),y(r.viewMatrix),_(r.viewMatrix,r.viewMatrix,[-e.extent[0],-e.extent[1],0]),r.setGLViewport(this._rctx),this._renderContext.camera=r,this._bindParameters.camera=r,this._bindParameters.inverseViewport[0]=1/r.fullViewport[2],this._bindParameters.inverseViewport[1]=1/r.fullViewport[3]}hasNonZeroSizedView(e){for(let r=0;r<e.numViews;r++){const t=e.views[r];if(t.extent[0]!==t.extent[2]&&t.extent[1]!==t.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=R(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=R(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=R(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,r,t){const i=this._rctx;this.ensureDebugPatternResources(e,r);const s=this._debugTextureTechnique.program;i.bindProgram(s),i.setPipelineState(this._debugTextureTechnique.pipeline),s.setUniform4f(\"color\",t[0],t[1],t[2],1),s.setUniform1i(\"tex\",0),i.bindTexture(this._debugPatternTexture,0),i.bindVAO(this._quadVAO),i.drawArrays(5,0,x(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,r){if(this._debugPatternTexture)return;const t=new Uint8Array(e*r*4);let i=0;for(let n=0;n<r;n++)for(let s=0;s<e;s++){const o=Math.floor(s/10),a=Math.floor(n/10);o<2||a<2||10*o>e-20||10*a>r-20?(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=255):(t[i++]=255,t[i++]=255,t[i++]=255,t[i++]=1&o&&1&a?1&s^1&n?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new b(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:r},t);const s=new W;s.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(q,s,this._debugTextureTechnique),this._quadVAO=v(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([G()],B.prototype,\"_shaderTechniqueRepository\",void 0),e([G()],B.prototype,\"_stippleTextureRepository\",void 0),e([o(),G()],B.prototype,\"waterTextureRepository\",void 0),e([o({constructOnly:!0})],B.prototype,\"renderView\",void 0),e([o({constructOnly:!0})],B.prototype,\"scheduler\",void 0),e([o()],B.prototype,\"globalUnitScale\",void 0),e([o({type:Boolean,readOnly:!0})],B.prototype,\"updating\",null),B=e([a(\"esri.views.3d.terrain.OverlayRenderer\")],B);class I{constructor(e,r){this.layerView=e,this.renderer=r}}const N=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],X=new j;X.near=1,X.far=1e4,X.relativeElevation=null;const Y=p(),Z=p(),J=-2,K=4;export{J as DRAPED_Z,B as OverlayRenderer,K as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as o,isSome as e,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s,n as a,d as u,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{applyPerVertexElevationAlignment as h}from\"./elevationAlignmentUtils.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as y}from\"./constants.js\";function b(t){const o=[],e=[];j(t,e,o);const n=e[0][1].data,r=o[0][1].length,i=new Uint16Array(r);return A(t,e,o),F(t,e,o,i),w(t,e,o,i),v(t,e,o,i),D(t,e,o,i),P(t,e,o,i),U(t,e,o,n),new f(e,o,2)}function g(t,o,e,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:s,outlines:a}=l(i,t.hasZ,r),u=new Float64Array(s.length),c=h(s,t.spatialReference,0,u,0,s,0,s.length/3,o,e,n),p=null!=c;return{lines:p?d(a,s,u):[],projectionSuccess:p,sampledElevation:c}}function d(t,o,e){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,s=t+3*i;n.push({position:o.subarray(t,s),mapPosition:e?e.subarray(t,s):void 0})}return n}function z(t,o){const e=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,e),s=p(r,t.spatialReference,0,r,o,0,r.length/3);for(let a=2;a<r.length;a+=3)r[a]=m;return{lines:s?d(i,r):[],projectionSuccess:s}}function j(o,e,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=o,s=M(r)&&1===i,a=r.length/3-(s?1:0),u=new Uint32Array(2*(a-1)),c=s?t(r,0,r.length-3):r;let p=0;for(let t=0;t<a-1;t++)u[p++]=t,u[p++]=t+1;e.push([\"position\",{size:3,data:c,exclusive:s}]),n.push([\"position\",u])}function A(t,e,n){const r=t.attributeData.mapPosition;o(r)||(n.push([\"mapPos\",n[0][1]]),e.push([\"mapPos\",{size:3,data:r}]))}function F(t,o,r,i){if(e(t.attributeData.colorFeature))return;const s=t.attributeData.color;o.push([\"color\",{size:4,data:n(s,y)}]),r.push([\"color\",i])}function v(t,e,n,r){const i=t.attributeData.colorFeature;o(i)||(e.push([\"colorFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"color\",r]))}function w(t,o,r,i){if(e(t.attributeData.sizeFeature))return;const s=t.attributeData.size;o.push([\"size\",{size:1,data:[n(s,1)]}]),r.push([\"size\",i])}function D(t,e,n,r){const i=t.attributeData.sizeFeature;o(i)||(e.push([\"sizeFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"sizeFeatureAttribute\",r]))}function P(t,e,n,r){const i=t.attributeData.opacityFeature;o(i)||(e.push([\"opacityFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"opacityFeatureAttribute\",r]))}function U(t,o,e,i){if(\"round\"!==t.join)return;const p=i.length/3,l=new Float32Array(p),f=S,h=R;s(f,0,0,0);const m=n(t.uniformSize,1);for(let n=-1;n<p;++n){const t=n<0?p+n:n,o=(n+1)%p;if(s(h,i[3*o+0]-i[3*t+0],i[3*o+1]-i[3*t+1],i[3*o+2]-i[3*t+2]),a(h,h),n>=0){const t=1*((Math.PI-r(u(f,h)))*k)*x(m);l[n]=Math.max(Math.floor(t),0)}c(f,h,-1)}o.push([\"subdivisions\",{size:1,data:l}]),e.push([\"subdivisions\",e[0][1]])}function x(t){return 1.863798+-2.0062872/(1+t/18.2313)**.8856294}function M(t){const o=t.length;return t[0]===t[o-3]&&t[1]===t[o-2]&&t[2]===t[o-1]}const S=i(),R=i(),k=4/Math.PI;export{b as createGeometry,g as geometryToRenderInfo,z as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]).add(\"fresnelMaterial\",\"vec2\",[.02,.1]).add(\"roughness\",\"float\",.015).add(\"foamIntensityExternal\",\"float\",1.7).add(\"ssrIntensity\",\"float\",.65).add(\"ssrHeightFadeStart\",\"float\",3e5).add(\"ssrHeightFadeEnd\",\"float\",5e5).add(\"waterDiffusion\",\"float\",.775).add(\"waterSeeColorMod\",\"float\",.8).add(\"correctionViewingPowerFactor\",\"float\",.4).add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]).add(\"skyColor\",\"vec3\",[.67,.79,.9]),a.fragment.code.add(e`\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n"],"sourceRoot":""}