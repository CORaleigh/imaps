(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[141,276],{1216:function(e,t,n){"use strict";n.r(t),n.d(t,"DirectLineMeasurement3DController",(function(){return y}));var r=n(82),a=(n(80),n(89)),i=(n(81),n(88),n(85)),s=n(84),c=(n(83),n(86),n(87),n(97)),o=n(141),u=n(110),d=n(104),h=n(111),l=n(115),f=n(108),p=n(173),v=n(223),g=n(909),m=n(612),M=n(502),b=n(980),y=class extends c.a{constructor(e){super(e),this._tempStartPosition=Object(d.e)(),this._tempEndPosition=Object(d.e)(),this._tempCornerPosition=Object(d.e)(),this._unitNormalizer=new b.a,this._handles=new l.a}initialize(){this._handles.add(Object(f.j)(this.view,"ready",(()=>this._initialize()),!0))}_initialize(){var e=this.view.spatialReference,t=Object(p.g)(e),n=t===p.a?p.d:t;this._sphericalPCPF=n;var r=Object(v.b)(e,n);this._unitNormalizer.spatialReference=r?n:e,this._handles.add([this.dataObject.watch("startPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("endPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("settings",(()=>this._updateMeasurement()),!0)],"model"),this._updateMeasurement()}_updateMeasurement(){var e=this.dataObject.startPoint,t=this.dataObject.endPoint;if(Object(a.j)(e)||Object(a.j)(t))this.dataObject.measurement=null;else{var n=this._euclideanDistances(e,t),r=this._exactGeodesicDistanceAndAngle(e,t,n.horizontal.value);this.dataObject.measurement={directDistance:n.direct,horizontalDistance:n.horizontal,verticalDistance:n.vertical,geodesicDistance:r.distance,geodesicAngle:r.angle}}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);var n=e.clone();n.z=t.z;var r=this._tempStartPosition,a=this._tempEndPosition,i=this._tempCornerPosition,s=this.view.spatialReference,c=this._sphericalPCPF,o=Object(v.b)(s,c)?c:s;Object(v.o)(e,r,o),Object(v.o)(t,a,o),Object(v.o)(n,i,o);var u=Object(h.n)(r,a),d=Object(h.n)(i,a),l=Math.abs(t.z-e.z),f=e=>this._unitNormalizer.normalizeDistance(e),p=f(u),m=f(d),M=f(l);return{direct:new g.a(p,"meters"),horizontal:new g.a(m,"meters"),vertical:new g.a(M,"meters")}}_exactGeodesicDistanceAndAngle(e,t,n){var r=e.spatialReference,a=new o.a({paths:[e,t],spatialReference:r}),i=r.isGeographic&&Object(m.f)(r)?Object(m.d)([a],"meters")[0]:r.isWebMercator?Object(M.geodesicLength)(a,"meters"):void 0,{distance:s,angle:c}=i?{distance:i,angle:this._fallbackGeodesicAngle(i,r)}:this._fallbackGeodesicDistance(e,t,n);return{distance:new g.a(s,"meters"),angle:new g.a(c,"degrees")}}_fallbackGeodesicAngle(e,t){return e/Object(p.e)(t).metersPerDegree}_fallbackGeodesicDistance(e,t,n){if(Object(v.p)(e,A)){Object(v.p)(t,j);var r=Object(u.f)(A[0]),a=Object(u.f)(A[1]),i=Object(u.f)(j[0]),s=Object(u.f)(j[1]),c=Math.abs(i-r),o=Object(u.b)(Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos(c)),d=Object(u.q)(o),h={distance:0};return Object(m.e)(h,[A[0],A[1]],[j[0],j[1]]),{distance:h.distance,angle:d}}var l=e.spatialReference,f=n;return{distance:f,angle:this._fallbackGeodesicAngle(f,l)}}};Object(r.a)([Object(i.b)()],y.prototype,"view",void 0),Object(r.a)([Object(i.b)()],y.prototype,"dataObject",void 0),y=Object(r.a)([Object(s.a)("esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DController")],y);var A=Object(d.e)(),j=Object(d.e)()},485:function(e,t,n){"use strict";n.r(t),n.d(t,"hydratedAdapter",(function(){return o}));var r=n(113),a=n(103),i=n(225),s=n(130),c=n(141),o={convertToGEGeometry:function(e,t){if(null==t)return null;var n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){var a=e.hasZ(t),i=e.hasM(t),s=new r.a({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return a&&(s.z=e.getPointZ(t)),i&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,n){var r=new s.a({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){var r=new c.a({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){var r=new i.a({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){var r=e.hasZ(t),i=e.hasM(t),s=new a.a({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(r){var c=e.getZExtent(t);s.zmin=c.vmin,s.zmax=c.vmax}if(i){var o=e.getMExtent(t);s.mmin=o.vmin,s.mmax=o.vmax}return s.cache._geVersion=t,s}}},502:function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return R})),n.d(t,"clip",(function(){return c})),n.d(t,"contains",(function(){return u})),n.d(t,"convexHull",(function(){return A})),n.d(t,"crosses",(function(){return d})),n.d(t,"cut",(function(){return o})),n.d(t,"densify",(function(){return k})),n.d(t,"difference",(function(){return j})),n.d(t,"disjoint",(function(){return g})),n.d(t,"distance",(function(){return h})),n.d(t,"equals",(function(){return l})),n.d(t,"extendedSpatialReferenceInfo",(function(){return s})),n.d(t,"flipHorizontal",(function(){return S})),n.d(t,"flipVertical",(function(){return G})),n.d(t,"generalize",(function(){return V})),n.d(t,"geodesicArea",(function(){return C})),n.d(t,"geodesicBuffer",(function(){return z})),n.d(t,"geodesicDensify",(function(){return U})),n.d(t,"geodesicLength",(function(){return L})),n.d(t,"intersect",(function(){return O})),n.d(t,"intersects",(function(){return f})),n.d(t,"isSimple",(function(){return b})),n.d(t,"nearestCoordinate",(function(){return P})),n.d(t,"nearestVertex",(function(){return D})),n.d(t,"nearestVertices",(function(){return E})),n.d(t,"offset",(function(){return x})),n.d(t,"overlaps",(function(){return m})),n.d(t,"planarArea",(function(){return Z})),n.d(t,"planarLength",(function(){return I})),n.d(t,"relate",(function(){return M})),n.d(t,"rotate",(function(){return q})),n.d(t,"simplify",(function(){return y})),n.d(t,"symmetricDifference",(function(){return w})),n.d(t,"touches",(function(){return p})),n.d(t,"union",(function(){return _})),n.d(t,"within",(function(){return v}));var r=n(503),a=n(485);function i(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function s(e){return r.a.extendedSpatialReferenceInfo(e)}function c(e,t){return r.a.clip(a.hydratedAdapter,i(e),e,t)}function o(e,t){return r.a.cut(a.hydratedAdapter,i(e),e,t)}function u(e,t){return r.a.contains(a.hydratedAdapter,i(e),e,t)}function d(e,t){return r.a.crosses(a.hydratedAdapter,i(e),e,t)}function h(e,t,n){return r.a.distance(a.hydratedAdapter,i(e),e,t,n)}function l(e,t){return r.a.equals(a.hydratedAdapter,i(e),e,t)}function f(e,t){return r.a.intersects(a.hydratedAdapter,i(e),e,t)}function p(e,t){return r.a.touches(a.hydratedAdapter,i(e),e,t)}function v(e,t){return r.a.within(a.hydratedAdapter,i(e),e,t)}function g(e,t){return r.a.disjoint(a.hydratedAdapter,i(e),e,t)}function m(e,t){return r.a.overlaps(a.hydratedAdapter,i(e),e,t)}function M(e,t,n){return r.a.relate(a.hydratedAdapter,i(e),e,t,n)}function b(e){return r.a.isSimple(a.hydratedAdapter,i(e),e)}function y(e){return r.a.simplify(a.hydratedAdapter,i(e),e)}function A(e,t=!1){return r.a.convexHull(a.hydratedAdapter,i(e),e,t)}function j(e,t){return r.a.difference(a.hydratedAdapter,i(e),e,t)}function w(e,t){return r.a.symmetricDifference(a.hydratedAdapter,i(e),e,t)}function O(e,t){return r.a.intersect(a.hydratedAdapter,i(e),e,t)}function _(e,t=null){return r.a.union(a.hydratedAdapter,i(e),e,t)}function x(e,t,n,s,c,o){return r.a.offset(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function R(e,t,n,s=!1){return r.a.buffer(a.hydratedAdapter,i(e),e,t,n,s)}function z(e,t,n,s,c,o){return r.a.geodesicBuffer(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function P(e,t,n=!0){return r.a.nearestCoordinate(a.hydratedAdapter,i(e),e,t,n)}function D(e,t){return r.a.nearestVertex(a.hydratedAdapter,i(e),e,t)}function E(e,t,n,s){return r.a.nearestVertices(a.hydratedAdapter,i(e),e,t,n,s)}function N(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function q(e,t,n){var a;if(null==e)throw new Error("Illegal Argument Exception");var i=e.spatialReference;if(null==(n=null!=(a=n)?a:N(e)))throw new Error("Illegal Argument Exception");var s=e.constructor.fromJSON(r.a.rotate(e,t,n));return s.spatialReference=i,s}function S(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");var a=e.spatialReference;if(null==(t=null!=(n=t)?n:N(e)))throw new Error("Illegal Argument Exception");var i=e.constructor.fromJSON(r.a.flipHorizontal(e,t));return i.spatialReference=a,i}function G(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");var a=e.spatialReference;if(null==(t=null!=(n=t)?n:N(e)))throw new Error("Illegal Argument Exception");var i=e.constructor.fromJSON(r.a.flipVertical(e,t));return i.spatialReference=a,i}function V(e,t,n,s){return r.a.generalize(a.hydratedAdapter,i(e),e,t,n,s)}function k(e,t,n){return r.a.densify(a.hydratedAdapter,i(e),e,t,n)}function U(e,t,n,s=0){return r.a.geodesicDensify(a.hydratedAdapter,i(e),e,t,n,s)}function Z(e,t){return r.a.planarArea(a.hydratedAdapter,i(e),e,t)}function I(e,t){return r.a.planarLength(a.hydratedAdapter,i(e),e,t)}function C(e,t,n){return r.a.geodesicArea(a.hydratedAdapter,i(e),e,t,n)}function L(e,t,n){return r.a.geodesicLength(a.hydratedAdapter,i(e),e,t,n)}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l}));var r=n(93),a=n(99),i=(n(113),n(130)),s=n(141),c=(n(101),n(117)),o=n(529);function u(e){if(!e)return null;if(e.isGeographic&&e.wkid){var t=o.c[e.wkid];if(t)return t}if(e.wkt){var n=o.a.exec(e.wkt);if(!n||2!==n.length)return null;var r=n[1].split(",");if(!r||r.length<3)return null;var a=parseFloat(r[1]),i=parseFloat(r[2]);return isNaN(a)||isNaN(i)?null:{a:a,f:0===i?0:1/i}}return null}function d(e){var t=u(e||a.a.WGS84);if(function(e){return"b"in e&&"eSq"in e&&"radius"in e}(t))return t;var n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-Math.pow(n/t.a,2),radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function h(e,t,n){var r,{a:a,eSq:i}=d(n),s=Math.sqrt(i),c=Math.sin(t[1]*o.d),u=a*t[0]*o.d;return r=i>0?a*((1-i)*(c/(1-i*(c*c))-1/(2*s)*Math.log((1-s*c)/(1+s*c))))*.5:a*c,e[0]=u,e[1]=r,e}function l(e){return null!==u(e)}function f(e,t="square-meters"){if(e.some((e=>!l(e.spatialReference))))throw new r.a("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var n=[],a=0;a<e.length;a++){var i=e[a],s=i.spatialReference,{radius:o,densificationRatio:u}=d(s),f=o*u;n.push(v(i,f))}for(var p=[],g=[0,0],m=[0,0],M=0;M<n.length;M++){for(var{rings:b,spatialReference:y}=n[M],A=0,j=0;j<b.length;j++){var w=b[j];h(g,w[0],y),h(m,w[w.length-1],y);for(var O=m[0]*g[1]-g[0]*m[1],_=0;_<w.length-1;_++)h(g,w[_+1],y),h(m,w[_],y),O+=m[0]*g[1]-g[0]*m[1];A+=O}A=Object(c.c)(A,"square-meters",t),p.push(A/-2)}return p}function p(e,t="meters"){var n=e,a=e;if(!n&&!a)throw new r.a("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(n?n.some((e=>!l(e.spatialReference))):a.some((e=>!l(e.spatialReference))))throw new r.a("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var i=[],s=0;s<e.length;s++){for(var o=e[s],{spatialReference:u}=o,d="polyline"===o.type?o.paths:o.rings,h=0,f=0;f<d.length;f++){for(var p=d[f],v=0,g=1;g<p.length;g++){var M=p[g-1][0],b=p[g][0],y=p[g-1][1],A=p[g][1];if(y!==A||M!==b){var j={distance:null};m(j,[M,y],[b,A],u),v+=j.distance}}h+=v}h=Object(c.c)(h,"meters",t),i.push(h)}return i}function v(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new r.a("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var{spatialReference:n}=e;if(!l(n))throw new r.a("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var a="polyline"===e.type?e.paths:e.rings,c=[],o=[0,0],u={distance:null};for(var d of a){var h=[];c.push(h),h.push([d[0][0],d[0][1]]);for(var f=void 0,p=void 0,v=d[0][0],M=d[0][1],b=0;b<d.length-1;b++)if(f=d[b+1][0],p=d[b+1][1],v!==f||M!==p){var y=[v,M];m(u,[v,M],[f,p],n);var{azimuth:A,distance:j}=u,w=j/t;if(w>1){for(var O=1;O<=w-1;O++)g(o,y,A,O*t,n),h.push(o.slice(0));g(o,y,A,(j+Math.floor(w-1)*t)/2,n),h.push(o.slice(0))}g(o,y,A,j,n),h.push(o.slice(0)),v=o[0],M=o[1]}}return"polyline"===e.type?new s.a({paths:c,spatialReference:n}):new i.a({rings:c,spatialReference:n})}function g(e,t,n,r,a){for(var i,s,c,u=t[0],h=t[1],l=u*o.d,f=h*o.d,p=n*o.d,{a:v,b:g,f:m}=d(a),M=Math.sin(p),b=Math.cos(p),y=(1-m)*Math.tan(f),A=1/Math.sqrt(1+y*y),j=y*A,w=Math.atan2(y,b),O=A*M,_=O*O,x=1-_,R=x*(v*v-g*g)/(g*g),z=1+R/16384*(4096+R*(R*(320-175*R)-768)),P=R/1024*(256+R*(R*(74-47*R)-128)),D=r/(g*z),E=2*Math.PI;Math.abs(D-E)>1e-12;)c=Math.cos(2*w+D),E=D,D=r/(g*z)+P*(i=Math.sin(D))*(c+P/4*((s=Math.cos(D))*(2*c*c-1)-P/6*c*(4*i*i-3)*(4*c*c-3)));var N=j*i-A*s*b,q=Math.atan2(j*s+A*i*b,(1-m)*Math.sqrt(_+N*N)),S=Math.atan2(i*M,A*s-j*i*b),G=m/16*x*(4+m*(4-3*x)),V=q/o.d,k=(l+(S-(1-G)*m*O*(D+G*i*(c+G*s*(2*c*c-1)))))/o.d;return e[0]=k,e[1]=V,e}function m(e,t,n,r){var a,i,s,c,u,h,l,f,p,v,g=t[0]*o.d,m=t[1]*o.d,M=n[0]*o.d,b=n[1]*o.d,{a:y,b:A,f:j,radius:w}=d(r),O=M-g,_=Math.atan((1-j)*Math.tan(m)),x=Math.atan((1-j)*Math.tan(b)),R=Math.sin(_),z=Math.cos(_),P=Math.sin(x),D=Math.cos(x),E=1e3,N=O;do{if(l=Math.sin(N),f=Math.cos(N),0===(s=Math.sqrt(D*l*(D*l)+(z*P-R*D*f)*(z*P-R*D*f))))return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;u=R*P+z*D*f,h=Math.atan2(s,u),c=u-2*R*P/(i=1-(p=z*D*l/s)*p),isNaN(c)&&(c=0),a=N,N=O+(1-(v=j/16*i*(4+j*(4-3*i))))*j*p*(h+v*s*(c+v*u*(2*c*c-1)))}while(Math.abs(N-a)>1e-12&&--E>0);if(0===E){var q=w,S=Math.acos(Math.sin(m)*Math.sin(b)+Math.cos(m)*Math.cos(b)*Math.cos(M-g))*q,G=M-g,V=Math.sin(G)*Math.cos(b),k=Math.cos(m)*Math.sin(b)-Math.sin(m)*Math.cos(b)*Math.cos(G),U=Math.atan2(V,k);return e.azimuth=U/o.d,e.distance=S,e.reverseAzimuth=void 0,e}var Z=i*(y*y-A*A)/(A*A),I=Z/1024*(256+Z*(Z*(74-47*Z)-128)),C=A*(1+Z/16384*(4096+Z*(Z*(320-175*Z)-768)))*(h-I*s*(c+I/4*(u*(2*c*c-1)-I/6*c*(4*s*s-3)*(4*c*c-3)))),L=Math.atan2(D*Math.sin(N),z*P-R*D*Math.cos(N)),F=Math.atan2(z*Math.sin(N),z*P*Math.cos(N)-R*D);return e.azimuth=L/o.d,e.distance=C,e.reverseAzimuth=F/o.d,e}},909:function(e,t,n){"use strict";var r=n(117);class a{constructor(e,t){this.measure=Object(r.o)(t),this.value=e,this.unit=t}get isBaseUnit(){return Object(r.k)(this.unit)}toUnit(e){return new a(Object(r.c)(this.value,this.unit,e),e)}toBaseUnit(){return this.toUnit(Object(r.b)(this.unit))}}t.a=a},980:function(e,t,n){"use strict";var r=n(117);t.a=class{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=Object(r.f)(this._spatialReference,1),this._metersPerElevationUnit=Object(r.f)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}}}]);
//# sourceMappingURL=141.0a6889fc.chunk.js.map