{"version":3,"sources":["../node_modules/@arcgis/core/core/workers/utils.js","../node_modules/@arcgis/core/core/workers/registry.js","../node_modules/@arcgis/core/core/workers/RemoteClient.js","../node_modules/@arcgis/core/core/workers/Connection.js","../node_modules/@arcgis/core/core/workers/loaderConfig.js","../node_modules/@arcgis/core/core/workers/WorkerFallback.js","../node_modules/@arcgis/core/core/workers/workerFactory.js","../node_modules/@arcgis/core/core/workers/WorkerOwner.js","../node_modules/@arcgis/core/core/workers/workers.js","../node_modules/@arcgis/core/views/support/Scheduler.js","../node_modules/@arcgis/core/layers/support/PromiseQueue.js","../node_modules/@arcgis/core/views/support/debugFlags.js"],"names":["e","t","geometryEngineWorker","CSVSourceWorker","EdgeProcessingWorker","ElevationSamplerWorker","GeoJSONSourceWorker","LercWorker","MemorySourceWorker","PBFDecoderWorker","Pipeline","PointCloudWorker","RasterWorker","SceneLayerWorker","WorkerTileHandler","FeatureServiceSnappingSourceWorker","HANDSHAKE","OPEN","OPENED","RESPONSE","INVOKE","ABORT","CLOSE","OPEN_PORT","ON","r","n","a","JSON","stringify","name","message","toJSON","details","stack","i","type","s","o","data","transferList","result","postMessage","port","f","parse","length","filter","ArrayBuffer","constructor","u","v","M","k","y","j","I","m","w","this","_timer","_cancelledJobIds","Set","_invokeMessages","_invoke","_process","bind","push","add","jobId","setTimeout","clear","has","J","_port","_outJobs","Map","_inJobs","_invokeQueue","_onInvokeMessage","_messageQueue","Array","_client","client","_onMessage","_channel","channel","scheduler","_frameTask","registerTask","p","REMOTE_CLIENT","_update","addEventListener","start","MessageChannel","default","port1","remoteClient","clients","set","port2","Promise","resolve","close","_post","_close","isBusy","size","invoke","signal","reject","methodName","l","d","h","get","delete","abortHandle","remove","c","debugInfo","abortable","on","eventType","removeEventListener","openPort","forEach","_processMessage","g","_onResponseMessage","_onAbortMessage","_onCloseMessage","_onOpenPortMessage","_onOnMessage","controller","abort","destroy","_","indexOf","split","TypeError","call","error","b","promise","then","fromJSON","done","shift","madeProgress","kernelInfo","revision","version","buildDate","getLogger","_clients","_clientPromises","_clientIdx","open","broadcast","getAvailableClient","race","isArray","warn","closed","Error","all","map","openPorts","numClients","async","isDebug","locale","baseUrl","packages","concat","paths","hasOwnProperty","document","createDocumentFragment","MutationObserver","WebKitMutationObserver","process","nextTick","createElement","observe","attributes","setAttribute","MessageEvent","bubbles","cancelable","createEvent","initEvent","_dispatcher","_workerPostMessage","terminate","_onmessageHandler","_onmessageerrorHandler","_onerrorHandler","_workerMessageHandler","dispatchEvent","modulePath","loadWorker","import","connect","replace","URL","createObjectURL","Blob","Worker","P","preventDefault","assetsPath","request","interceptors","log","workers","loaderUrl","workerPath","loaderConfig","esriConfig","worker","id","_onOpenedMessage","navigator","hardwareConcurrency","strategy","maxNumWorkers","Math","min","create","SLIDE","STAGE","STREAM_DATA_LOADER","ELEVATION_QUERY","TERRAIN_SURFACE","SURFACE_GEOMETRY_UPDATES","GRAPHICS_CORE","I3S_CONTROLLER","POINT_CLOUD_LAYER","FEATURE_TILE_FETCHER","LABELER","GRAPHICS_DECONFLICTOR","FILTER_VISIBILITY","FEATURE_QUERY_ENGINE","SCALE_VISIBILITY","FRUSTUM_VISIBILITY","POINT_OF_INTEREST_FREQUENT","POINT_OF_INTEREST_INFREQUENT","FEATURE_TILE_TREE","FEATURE_TILE_TREE_ACTIVE","ELEVATION_ALIGNMENT","TEXT_TEXTURE_ATLAS","TEXTURE_UNLOAD","OVERLAY_MANAGER","LINE_OF_SIGHT_TOOL","LINE_OF_SIGHT_TOOL_INTERACTIVE","ELEVATION_PROFILE","SNAPPING","TEST_PRIO","L","A","super","updating","performanceInfo","total","tasks","_budget","_state","_tasks","_runQueue","_load","_idleStateCallbacks","_idleUpdatesStartFired","_maxReschedule","_forceTask","_debug","_debugHandle","nowFunc","F","_test","FRAME_SAFETY_BUDGET","INTERACTING_BUDGET","IDLE_BUDGET","budget","usedBudget","updateTask","_updateTask","getState","_getState","getRuntime","_getRuntime","resetRuntimes","_resetRuntimes","getRunning","_getRunning","E","registerIdleStateCallbacks","idleBegin","idleEnd","state","_removeIdleStateCallbacks","forAll","updateBudget","frameDuration","max","elapsedFrameTime","reset","_updateLoad","_schedule","frame","_runIdle","_runInteracting","_runAnimating","elapsed","removeUnordered","removeTask","setPriority","some","SCHEDULED","IDLE","needsUpdate","schedulePriority","READY","WAITING","runtime","_run","reduce","priority","filterInPlace","unshift","now","pop","resetProgress","update","task","console","remaining","_recordFrameTaskTimes","record","prototype","Scheduler","_scheduler","_needsUpdateCB","_priority","_queue","normalizeCtorArgs","processQueue","U","schedule","O","reschedule","_begin","_didWork","_enabled","run","Budget","performance","enabled","Number","MAX_SAFE_INTEGER","callback","cancelAll","arguments","SCHEDULER_LOG_SLOW_TASKS","FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES"],"mappings":"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","file":"static/js/12.f190544f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let r=0;function n(){return r++}function s(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function a(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function i(t,r,n,a){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let i;s(n)?(i=o(n.transferList),r.data=n.result):(i=o(a),r.data=n),i?t.postMessage(r,i):t.postMessage(r)}function f(t){if(!t)return null;const e=t.data;return e?\"string\"==typeof e?JSON.parse(e):e:null}function o(e){if(!e||!e.length)return null;if(t(\"esri-workers-arraybuffer-transfer\"))return e;const r=e.filter((t=>!u(t)));return r.length?r:null}function u(t){return t instanceof ArrayBuffer||t&&t.constructor&&\"ArrayBuffer\"===t.constructor.name}export{e as MessageType,s as isTranferableResult,n as newJobId,i as postMessage,f as receiveMessage,a as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst e={geometryEngineWorker:()=>import(\"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(\"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(\"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(\"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),GeoJSONSourceWorker:()=>import(\"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(\"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(\"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(\"../../views/3d/support/PBFDecoderWorker.js\"),Pipeline:()=>import(\"../../views/2d/layers/features/Pipeline.js\"),PointCloudWorker:()=>import(\"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(\"../../layers/support/RasterWorker.js\"),SceneLayerWorker:()=>import(\"../../views/3d/layers/SceneLayerWorker.js\"),WorkerTileHandler:()=>import(\"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\"),FeatureServiceSnappingSourceWorker:()=>import(\"../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js\")};export{e as registry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{commitHash as e,buildDate as s}from\"../../support/revision.js\";import{isSome as t,removeMaybe as o}from\"../maybe.js\";import n from\"../Error.js\";import{on as r}from\"../events.js\";import{onAbortOrThrow as i,createAbortError as a,createAbortController as l,isPromiseLike as h,isAbortError as c}from\"../promiseUtils.js\";import{version as _}from\"../../kernel.js\";import{Task as p}from\"../../views/support/Scheduler.js\";import{registry as u}from\"./registry.js\";import{newJobId as d,MessageType as m,receiveMessage as g,toInvokeError as b,postMessage as f}from\"./utils.js\";const{CLOSE:v,ABORT:M,INVOKE:k,RESPONSE:y,OPEN_PORT:j,ON:I}=m;class w{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===m.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class J{constructor(e,s){this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new w((e=>this._onInvokeMessage(e))),this._messageQueue=new Array,this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,t(s.scheduler)&&(this._frameTask=s.scheduler.registerTask(p.REMOTE_CLIENT,(e=>this._update(e)),(()=>this._messageQueue.length>0))),this._port.addEventListener(\"message\",this._onMessage),this._port.start()}static connect(e){const s=new MessageChannel;let t;t=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const o=new J(s.port1,{channel:s,client:t});return\"object\"==typeof t&&\"remoteClient\"in t&&(t.remoteClient=o),J.clients.set(o,t),s.port2}static loadWorker(e){const s=u[e];return s?s():Promise.resolve(null)}close(){this._post({type:v}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,s,t){const o=t&&t.signal,r=t&&t.transferList;if(!this._port)return Promise.reject(new n(\"worker:port-closed\",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:s}));const l=d();return new Promise(((t,n)=>{const h=i(o,(()=>{var e;const s=this._outJobs.get(l);s&&(this._outJobs.delete(l),null==(e=s.abortHandle)||e.remove(),this._post({type:M,jobId:l}),n(a()))})),c={resolve:t,reject:n,abortHandle:h,debugInfo:e};this._outJobs.set(l,c),this._post({type:k,jobId:l,methodName:e,abortable:null!=o},s,r)}))}on(e,s){const t=new MessageChannel;function o(e){s(e.data)}return this._port.postMessage({type:m.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",o),t.port1.start(),{remove(){t.port1.postMessage({type:m.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",o)}}}openPort(){const e=new MessageChannel;return this._post({type:j,port:e.port2}),e.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{var s;null==(s=e.abortHandle)||s.remove(),e.reject(a(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask=o(this._frameTask)}_onMessage(e){t(this._frameTask)?this._messageQueue.push(e):this._processMessage(e)}_processMessage(e){const s=g(e);if(s)switch(s.type){case y:this._onResponseMessage(s);break;case k:this._invokeQueue.push(s);break;case M:this._onAbortMessage(s);break;case v:this._onCloseMessage();break;case j:this._onOpenPortMessage(s);break;case I:this._onOnMessage(s)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&J.clients.get(this)===e&&e.destroy(),J.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o,abortable:n}=e,r=n?l():null,i=this._inJobs;let a,_=this._client,p=_[s];try{if(!p&&s&&-1!==s.indexOf(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)_=_[e[s]],p=_[e[s+1]]}if(\"function\"!=typeof p)throw new TypeError(`${s} is not a function`);a=p.call(_,o,{client:this,signal:r?r.signal:null})}catch(u){return void this._post({type:y,jobId:t,error:b(u)})}h(a)?(i.set(t,{controller:r,promise:a}),a.then((e=>{i.has(t)&&(i.delete(t),this._post({type:y,jobId:t},e))}),(e=>{i.has(t)&&(i.delete(t),c(e)||this._post({type:y,jobId:t,error:b(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:y,jobId:t},a)}_onOpenPortMessage(e){new J(e.port,{client:this._client})}_onOnMessage(e){const{port:s}=e,t=this._client.on(e.eventType,(e=>{s.postMessage(e)})),o=r(e.port,\"message\",(e=>{g(e).type===m.CLOSE&&(o.remove(),t.remove(),s.close())}))}_onResponseMessage(e){var s;const{jobId:t,error:o,data:r}=e,i=this._outJobs;if(!i.has(t))return;const a=i.get(t);i.delete(t),null==(s=a.abortHandle)||s.remove(),o?a.reject(n.fromJSON(JSON.parse(o))):a.resolve(r)}_update(e){for(;!e.done&&this._messageQueue.length>0;)this._processMessage(this._messageQueue.shift()),e.madeProgress()}_post(e,s,t){return f(this._port,e,s,t)}}J.kernelInfo={revision:e,version:_,buildDate:s},J.clients=new Map;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Logger.js\";import{handlesGroup as t}from\"../handleUtils.js\";import{isPromiseLike as s,throwIfAborted as i}from\"../promiseUtils.js\";import n from\"./RemoteClient.js\";const r=e.getLogger(\"esri.core.workers.Connection\");class l{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise(((r,l)=>{let o=!0;const h=e=>{i(t.signal),o&&(o=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length;for(let i=0;i<e.length;++i){const o=e[i];s(o)?this._clientPromises[i]=o.then((e=>(this._clients[i]=new n(e,t),h(r),this._clients[i])),(()=>(h(l),null))):(this._clients[i]=new n(o,t),this._clientPromises[i]=Promise.resolve(this._clients[i]),h(r))}}))}broadcast(e,t,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const r=this._clientPromises[n];i[n]=r.then((i=>i.invoke(e,t,s)))}return i}close(){for(const e of this._clientPromises)e.then((e=>e.close()));this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let e;for(let t=0;t<this._clients.length;++t){const s=this._clients[t];if(s){if(!s.isBusy())return Promise.resolve(s)}else e=e||[],e.push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(e,t,s){let i=null;if(Array.isArray(s)?(r.warn(\"invoke()\",\"The transferList parameter is deprecated, use the options object instead\"),i={transferList:s}):i=s,this.closed)return Promise.reject(new Error(\"Connection closed\"));return this.getAvailableClient().then((s=>s.invoke(e,t,i)))}on(e,s){return Promise.all(this._clientPromises).then((()=>t(this._clients.map((t=>t.on(e,s))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{t[i]=n.openPort(),0==--s&&e(t)}))}}))}get test(){return{numClients:this._clients.length}}}export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../has.js\";import\"../urlUtils.js\";import\"../../assets.js\";let a=null;const s={};function e(a,s){for(const e of a)if(e.name===s.name)return;a.push(s)}function r(a){var r;const t={async:a.async,isDebug:a.isDebug,locale:a.locale,baseUrl:a.baseUrl,has:{...a.has},map:{...a.map},packages:a.packages&&a.packages.concat()||[],paths:{...a.paths}};return a.hasOwnProperty(\"async\")||(t.async=!0),a.hasOwnProperty(\"isDebug\")||(t.isDebug=!1),a.baseUrl||(t.baseUrl=s.baseUrl),null==(r=s.packages)||r.forEach((a=>{e(t.packages,a)})),t}export default r;export{a as DEFAULT_LOADER_URL};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../global.js\";import{MessageType as t,receiveMessage as r}from\"./utils.js\";import s from\"./RemoteClient.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((t=>{this[t]=(...r)=>e[t](...r)}))}}const o=e.MutationObserver||e.WebKitMutationObserver,a=function(){let t;if(e.process&&e.process.nextTick)t=t=>{e.process.nextTick(t)};else if(e.Promise)t=t=>{e.Promise.resolve().then(t)};else if(o){const e=[],r=document.createElement(\"div\");new o((()=>{for(;e.length>0;)e.shift()()})).observe(r,{attributes:!0}),t=t=>{e.push(t),r.setAttribute(\"queueStatus\",\"1\")}}return t}(),i=(()=>{const t=e.MessageEvent;try{new t(\"message\",{data:null})}catch{return(e,t={})=>{const{data:r,bubbles:s=!1,cancelable:n=!1}=t,o=document.createEvent(\"Event\");return o.initEvent(e,s,n),o.data=r,o}}return(e,r)=>new t(e,r)})();class d{constructor(){this._dispatcher=new n,this._workerPostMessage({type:t.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(e){a((()=>{this._workerMessageHandler(i(\"message\",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,r){this._dispatcher.addEventListener(e,t,r)}removeEventListener(e,t,r){this._dispatcher.removeEventListener(e,t,r)}_workerPostMessage(e){a((()=>{this.dispatchEvent(i(\"message\",{data:e}))}))}async _workerMessageHandler(e){const n=r(e);if(n&&n.type===t.OPEN){const{modulePath:e,jobId:r}=n;let o=await s.loadWorker(e);o||(o=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\ne));const a=s.connect(o);this._workerPostMessage({type:t.OPENED,jobId:r,data:a})}}}export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../has.js\";import{buildDate as r,commitHash as o}from\"../../support/revision.js\";import t from\"../../config.js\";import s from\"../Logger.js\";import{makeAbsolute as n}from\"../urlUtils.js\";import{getLocale as i}from\"../../intl/locale.js\";import{version as a}from\"../../kernel.js\";import{getAssetUrl as l}from\"../../assets.js\";import\"../../intl.js\";import{receiveMessage as f,MessageType as c}from\"./utils.js\";import d from\"./loaderConfig.js\";import u from\"./WorkerFallback.js\";const g=s.getLogger(\"esri.core.workers\");e.add(\"esri-workers-arraybuffer-transfer\",!e(\"safari\")||e(\"safari\")>=12);const{HANDSHAKE:m}=c,p='let globalId=0;const outgoing=new Map,configuration=JSON.parse(\"{CONFIGURATION}\");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener(\"abort\",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}\"function\"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let k,h;const w=\"Failed to create Worker. Fallback to execute module in main thread\";async function v(){if(!e(\"esri-workers\"))return b(new u);if(!k&&!h)try{const e=p.replace('\"{CONFIGURATION}\"',`'${y()}'`);k=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(o){h=o||{}}let r;if(k)try{r=new Worker(k,{name:\"esri-worker-\"+P++})}catch(o){g.warn(w,h),r=new u}else g.warn(w,h),r=new u;return b(r)}async function b(e){return new Promise((r=>{function o(s){const n=f(s);n&&n.type===m&&(e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),r(e))}function t(r){r.preventDefault(),e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),g.warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new u).addEventListener(\"message\",o),e.addEventListener(\"error\",t)}e.addEventListener(\"message\",o),e.addEventListener(\"error\",t)}))}function y(){let s;if(null!=t.default){const e={...t};delete e.default,s=JSON.parse(JSON.stringify(e))}else s=JSON.parse(JSON.stringify(t));s.assetsPath=n(s.assetsPath),s.request.interceptors=[],s.log.interceptors=[],s.locale=i(),s.has={\"csp-restrictions\":e(\"csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":e(\"esri-2d-update-debug\"),\"esri-2d-query-centroid-enabled\":e(\"esri-2d-query-centroid-enabled\"),\"featurelayer-pbf\":e(\"featurelayer-pbf\"),\"featurelayer-snapshot-point-threshold\":e(\"featurelayer-snapshot-point-threshold\"),\"esri-atomics\":e(\"esri-atomics\"),\"esri-shared-array-buffer\":e(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":e(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":e(\"esri-workers-arraybuffer-transfer\"),\"host-webworker\":1},s.workers.loaderUrl&&(s.workers.loaderUrl=n(s.workers.loaderUrl)),s.workers.workerPath?s.workers.workerPath=n(s.workers.workerPath):s.workers.workerPath=n(l(\"esri/core/workers/RemoteClient.js\"));const f=t.workers.loaderConfig,c=d({baseUrl:null==f?void 0:f.baseUrl,locale:i(),has:{\"csp-restrictions\":e(\"csp-restrictions\"),\"dojo-test-sniff\":0,\"host-webworker\":1,...null==f?void 0:f.has},map:{...null==f?void 0:f.map},paths:{...null==f?void 0:f.paths},packages:(null==f?void 0:f.packages)||[]}),u={version:a,buildDate:r,revision:o};return JSON.stringify({esriConfig:s,loaderConfig:c,kernelInfo:u})}let P=0;export{v as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Logger.js\";import t from\"../Error.js\";import{onAbortOrThrow as o,createAbortController as s,isPromiseLike as r,isAbortError as n}from\"../promiseUtils.js\";import{workerMessages as a}from\"../../kernel.js\";import{newJobId as i,receiveMessage as l,toInvokeError as d,postMessage as h,MessageType as c}from\"./utils.js\";import{createWorker as p}from\"./workerFactory.js\";const b=e.getLogger(\"esri.core.workers\"),{ABORT:m,INVOKE:_,OPEN:u,OPENED:g,RESPONSE:j}=c;class f{constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),b.error(e)}))}static async create(e){const t=await p();return new f(t,e)}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:s}=t,r=i();return new Promise(((t,n)=>{const a={resolve:t,reject:n,abortHandle:o(s,(()=>{this._outJobs.delete(r),this._post({type:m,jobId:r})}))};this._outJobs.set(r,a),this._post({type:u,jobId:r,modulePath:e})}))}_onMessage(e){const t=l(e);if(t)switch(t.type){case g:this._onOpenedMessage(t);break;case j:this._onResponseMessage(t);break;case m:this._onAbortMessage(t);break;case _:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(e){const{methodName:t,jobId:o,data:i,abortable:l}=e,h=l?s():null,c=this._inJobs,p=a[t];let b;try{if(\"function\"!=typeof p)throw new TypeError(`${t} is not a function`);b=p.call(null,i,{signal:h?h.signal:null})}catch(m){return void this._post({type:j,jobId:o,error:d(m)})}r(b)?(c.set(o,{controller:h,promise:b}),b.then((e=>{c.has(o)&&(c.delete(o),this._post({type:j,jobId:o},e))}),(e=>{c.has(o)&&(c.delete(o),e||(e={message:\"Error encountered at method\"+t}),n(e)||this._post({type:j,jobId:o,error:d(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:j,jobId:o},b)}_onOpenedMessage(e){var t;const{jobId:o,data:s}=e,r=this._outJobs.get(o);r&&(this._outJobs.delete(o),null==(t=r.abortHandle)||t.remove(),r.resolve(s))}_onResponseMessage(e){var o;const{jobId:s,error:r,data:n}=e,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),null==(o=a.abortHandle)||o.remove(),r?a.reject(t.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return h(this.worker,e,t,o)}}export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";import r from\"../Error.js\";import{throwIfAborted as e,createAbortController as o}from\"../promiseUtils.js\";import n from\"./RemoteClient.js\";export{default as RemoteClient}from\"./RemoteClient.js\";import i from\"./Connection.js\";export{default as Connection}from\"./Connection.js\";import s from\"./WorkerOwner.js\";let a=t(\"esri-workers-debug\")?1:t(\"host-browser\")?navigator.hardwareConcurrency-1:0;a||(a=t(\"safari\")&&t(\"mac\")||t(\"trident\")?7:2);let l=0;const c=[];function m(){g()}function f(t,r){return u(t,{client:r})}async function u(t,r){const e=new i;return await e.open(t,r),e}async function p(o,i={}){if(\"string\"!=typeof o)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let s=i.strategy||\"distributed\";if(t(\"host-webworker\")&&!t(\"esri-workers\")&&(s=\"local\"),\"local\"===s){let t=await n.loadWorker(o);t||(t=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\no)),e(i.signal);const r=i.client||t;return u([n.connect(t)],{...i,client:r})}if(await g(),e(i.signal),\"dedicated\"===s){const t=l++%a;return u([await c[t].open(o,i)],i)}if(i.maxNumWorkers&&i.maxNumWorkers>0){const t=Math.min(i.maxNumWorkers,a);if(t<a){const r=new Array(t);for(let e=0;e<t;++e){const t=l++%a;r[e]=c[t].open(o,i)}return u(r,i)}}return u(c.map((t=>t.open(o,i))),i)}function w(){h&&(d.abort(),h=null);for(let t=0;t<c.length;t++)c[t]&&c[t].terminate();c.length=0}let d,h=null;async function g(){if(h)return h;d=o();const t=[];for(let r=0;r<a;r++){const e=s.create(r).then((t=>(c[r]=t,t)));t.push(e)}return h=Promise.all(t),h}export{m as initialize,p as open,f as openWithPorts,w as terminate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isNone as t}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/PerformanceSampler.js\";import n from\"../../core/PooledArray.js\";import{when as u}from\"../../core/promiseUtils.js\";import o from\"../../core/Accessor.js\";import{init as h}from\"../../core/watchUtils.js\";import _ from\"../../layers/support/PromiseQueue.js\";import d from\"./debugFlags.js\";const l=s.getLogger(\"esri.views.support.Scheduler\");function E(e){return new L.Scheduler({nowFunc:e})}var c;!function(e){e.REMOTE_CLIENT=\"worker messages\",e.SLIDE=\"slide\",e.STAGE=\"stage\",e.STREAM_DATA_LOADER=\"stream loader\",e.ELEVATION_QUERY=\"elevation query\",e.TERRAIN_SURFACE=\"terrain\",e.SURFACE_GEOMETRY_UPDATES=\"surface geometry updates\",e.GRAPHICS_CORE=\"Graphics3D\",e.I3S_CONTROLLER=\"I3S\",e.POINT_CLOUD_LAYER=\"point cloud\",e.FEATURE_TILE_FETCHER=\"feature fetcher\",e.LABELER=\"labeler\",e.GRAPHICS_DECONFLICTOR=\"graphics deconflictor\",e.FILTER_VISIBILITY=\"Graphics3D filter visibility\",e.FEATURE_QUERY_ENGINE=\"feature query\",e.SCALE_VISIBILITY=\"Graphics3D scale visibility\",e.FRUSTUM_VISIBILITY=\"Graphics3D frustum visibility\",e.POINT_OF_INTEREST_FREQUENT=\"POI frequent\",e.POINT_OF_INTEREST_INFREQUENT=\"POI infrequent\",e.FEATURE_TILE_TREE=\"feature tile tree\",e.FEATURE_TILE_TREE_ACTIVE=\"fast feature tile tree\",e.ELEVATION_ALIGNMENT=\"elevation alignment\",e.TEXT_TEXTURE_ATLAS=\"text texture atlas\",e.TEXTURE_UNLOAD=\"texture unload\",e.OVERLAY_MANAGER=\"overlay manager\",e.LINE_OF_SIGHT_TOOL=\"line of sight tool\",e.LINE_OF_SIGHT_TOOL_INTERACTIVE=\"interactive line of sight tool\",e.ELEVATION_PROFILE=\"elevation profile\",e.SNAPPING=\"snapping\",e[e.TEST_PRIO=1]=\"TEST_PRIO\"}(c||(c={}));const T=0,p={[c.REMOTE_CLIENT]:T,[c.SLIDE]:T,[c.STREAM_DATA_LOADER]:T,[c.ELEVATION_QUERY]:T,[c.STAGE]:1,[c.TERRAIN_SURFACE]:1,[c.SURFACE_GEOMETRY_UPDATES]:1,[c.GRAPHICS_CORE]:2,[c.I3S_CONTROLLER]:2,[c.POINT_CLOUD_LAYER]:2,[c.FEATURE_TILE_FETCHER]:2,[c.LABELER]:8,[c.GRAPHICS_DECONFLICTOR]:4,[c.FILTER_VISIBILITY]:4,[c.FEATURE_QUERY_ENGINE]:8,[c.SCALE_VISIBILITY]:4,[c.FRUSTUM_VISIBILITY]:4,[c.POINT_OF_INTEREST_FREQUENT]:6,[c.POINT_OF_INTEREST_INFREQUENT]:30,[c.FEATURE_TILE_TREE]:16,[c.FEATURE_TILE_TREE_ACTIVE]:T,[c.ELEVATION_ALIGNMENT]:12,[c.TEXT_TEXTURE_ATLAS]:12,[c.TEXTURE_UNLOAD]:12,[c.OVERLAY_MANAGER]:12,[c.LINE_OF_SIGHT_TOOL]:16,[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]:T,[c.SNAPPING]:T};function g(e){return e in p?p[e]:\"number\"==typeof e?e:1}const m=6.5,I=1,R=30,A=1e3/30,f=100,S=.9;var L,b;!function(s){let u=class extends o{constructor(e){super(e),this.updating=!0,this.performanceInfo={total:new a(\"total\"),tasks:new Array},this._budget=null,this._state=1,this._tasks=new n,this._runQueue=new n,this._load=0,this._idleStateCallbacks=new n,this._idleUpdatesStartFired=!1,this._maxReschedule=k,this._forceTask=!1,this._debug=!1,this._debugHandle=h(d,\"SCHEDULER_LOG_SLOW_TASKS\",(e=>this._debug=e)),this._budget=new p(e.nowFunc),y.length=0;for(const t in c)F.set(c[t],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new a(c[t])),y.push(0);let s;const r=this;this._test={get state(){return t(s)?r._state:s},set state(e){s=e},FRAME_SAFETY_BUDGET:m,INTERACTING_BUDGET:A,IDLE_BUDGET:f,get budget(){return r._budget.budget},usedBudget:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,t,s){const r=g(e),i=new E(this,e,t,s,r);return this._tasks.push(i),i}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),2===this.state&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),2===r._state&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get now(){return this.nowFunc()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return t(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=m,s=e.frameDuration,r=I;switch(this.state){case 2:t=0,s=Math.max(f,e.frameDuration),r=R;break;case 1:s=Math.max(A,e.frameDuration)}return s-=e.elapsedFrameTime+t,2!==this.state&&s<I&&!this._forceTask?(this._forceTask=!0,!1):(s=Math.max(s,r),this._budget.reset(s,this.state),this._maxReschedule=k,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return b.SCHEDULED;let t=b.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=b.READY:t!==b.READY&&(t=b.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t=\"\";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*S+e*(1-S)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.priority,!1))),this._tasks.forAll((e=>{e.priority===T&&e.needsUpdate&&!this._runQueue.some((t=>t===e))&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.priority!==T)switch(e=!0,t=Math.max(t,s.priority),s.schedulePriority){case 1:s.schedulePriority=0,this._runQueue.push(s);break;default:--s.schedulePriority}})),!e)return this.updating=!1,!1;this._maxReschedule===k&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();for(let s=0;s<y.length;++s)y[s]=0;do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.update(this._budget)}catch(t){l.error(`Exception in task \"${r.name}\"`,t)}r.schedulePriority=r.priority;const i=this._budget.now()-s;if(r.runtime+=i,y[F.get(r.task)]+=i,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log(\"Task\",r.name,\"used\",this._budget.elapsed,\"of max\",this._budget.budget,\"ms\"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(y,this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(y,this._budget.now()-e)}_recordFrameTaskTimes(e,t){for(let s=0;s<e.length;++s)this.performanceInfo.tasks[s].record(e[s]);this.performanceInfo.total.record(t)}get test(){return this._test}};e([r()],u.prototype,\"updating\",void 0),e([r()],u.prototype,\"nowFunc\",void 0),u=e([i(\"esri.views.support.Scheduler\")],u),s.Scheduler=u;let E=class extends o{constructor(e,t,s,r,i){super({}),this._scheduler=e,this.name=t,this.update=s,this._needsUpdateCB=r,this._priority=i,this.runtime=0,this._queue=new _,this.updating=!1,this.schedulePriority=this._priority}normalizeCtorArgs(){return{}}remove(){this.processQueue(U),this._scheduler.removeTask(this),this.schedule=O.schedule,this.reschedule=O.reschedule}get priority(){return this._priority}setPriority(e){this.name=e;const t=g(e);this._priority!==T&&0===this.schedulePriority||(this.schedulePriority=t),this._priority=t}get task(){return this.name}set task(e){this.setPriority(e)}get needsUpdate(){return this.updating||this._needsUpdateCB()}schedule(e,t){return this.updating=!0,this._queue.push(e,t)}reschedule(e,t){return this.updating=!0,this._queue.unshift(e,t)}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();this.updating=this._queue.length>0}};e([r()],E.prototype,\"updating\",void 0),E=e([i(\"esri.views.support.SchedulerTask\")],E);class p{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}s.Budget=p}(L||(L={})),function(e){e.SCHEDULED=\"s\",e.READY=\"r\",e.WAITING=\"w\",e.IDLE=\"i\"}(b||(b={}));const U=(()=>{const e=new L.Budget((()=>performance.now()));return e.enabled=!1,e})();class N{remove(){}processQueue(){}schedule(e){return u(e())}reschedule(e){return u(e())}}const O=new N,k=Number.MAX_SAFE_INTEGER,F=new Map,y=new Array;export{O as ImmediateTask,c as Task,b as TaskState,g as getTaskPriority,E as newScheduler,U as noBudget,p as taskPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as t,createAbortError as s}from\"../../core/promiseUtils.js\";class e{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(t,s){return new Promise(((e,n)=>this._tasks.push(new r(e,n,t,s))))}unshift(t,s){return new Promise(((e,n)=>this._tasks.unshift(new r(e,n,t,s))))}process(){if(0===this._tasks.length)return!1;const s=this._tasks.shift();try{t(s.signal);const e=s.callback();e&&\"object\"==typeof e&&\"then\"in e&&\"function\"==typeof e.then?e.then(s.resolve,s.reject):s.resolve(e)}catch(e){s.reject(e)}return!0}cancelAll(){const t=s();for(const s of this._tasks)s.reject(t);this._tasks.length=0}}class r{constructor(t,s,e,r){this.resolve=t,this.reject=s,this.callback=e,this.signal=r}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../../core/Accessor.js\";let t=class extends e{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};o([r()],t.prototype,\"SCHEDULER_LOG_SLOW_TASKS\",void 0),o([r()],t.prototype,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",void 0),t=o([s(\"esri.views.support.DebugFlags\")],t);const p=new t;export default p;\n"],"sourceRoot":""}