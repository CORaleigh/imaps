{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/renderers/support/lengthUtils.js","../node_modules/@arcgis/core/core/asyncUtils.js","../node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","../node_modules/@arcgis/core/symbols/support/ElevationInfo.js","../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","../node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","../node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","../node_modules/@arcgis/core/layers/mixins/BlendLayer.js","../node_modules/@arcgis/core/core/loadAll.js","../node_modules/@arcgis/core/webdoc/support/writeUtils.js","../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/support/LayersMixin.js","../node_modules/@arcgis/core/support/TablesMixin.js"],"names":["l","type","Boolean","value","json","origins","read","source","reader","r","i","screenSizePerspective","this","originOf","e","store","set","write","ignoreOrigin","target","writer","n","t","c","name","disablePopup","enabled","p","f","String","isRequired","d","service","m","s","u","readOnly","y","Number","default","g","opacity","origin","drawingInfo","transparency","layerDefinition","o","w","a","get","layer","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","_get","equals","v","fromJSON","spatialReference","b","j","S","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","map","apply","then","ok","catch","error","expression","clone","title","prototype","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","constructor","super","arguments","readFeatureExpressionInfo","featureExpression","writeFeatureExpressionInfo","featureExpressionInfo","_isOverridden","_override","_set","mode","apiValues","nonNullable","jsonValues","x","getLogger","resourceReferences","portalItem","paths","destroy","removeOrigin","readPortalItem","itemId","id","portal","writePortalItem","load","instance","supportedTypes","validateItem","supportsData","warn","getDefault","restUrl","messages","push","minScale","maxScale","Object","keys","sort","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","writeListMode","layerContainerType","writeOperationalLayerType","layerType","writeTitle","operationalLayerType","declaredClass","filter","length","url","beforeSave","allowNull","blendMode","effect","async","Array","isArray","isCollection","forEach","isLoadable","loadAll","loadError","Set","restrictedWebMapWriting","has","visibility","visible","featureCollection","showLegend","legendEnabled","h","_visibilityHandles","fullExtent","_visibilityWatcher","bind","initialize","_enforceVisibility","visibilityMode","watch","_visibleWatcher","_writeLayers","webmap","getLayerJSONFromResourceInfo","layers","addResolvingPromise","loadFromPortal","Promise","resolve","layerAdded","_turnOffOtherLayers","uid","layerRemoved","remove","initialized","find","getItemAt","_isAnyLayerVisible","some","parent","on","item","removeAll","add","getNextIndex","reorder","destroyed","addMany","slice","findLayerById","findLayerByUid","removeMany","tables","findTableById","findTableByUid"],"mappings":"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","file":"static/js/37.112e4b6f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as r}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as i}from\"../../core/accessorSupport/write.js\";import n from\"../../geometry/SpatialReference.js\";import t from\"../../geometry/Extent.js\";import{transparencyToOpacity as o}from\"../../webdoc/support/opacityUtils.js\";import a from\"../../TimeExtent.js\";import s from\"../../symbols/support/ElevationInfo.js\";const l={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(r,i){if(null!=i.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return i.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,r,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||i(this,\"screenSizePerspectiveEnabled\",{},t))&&(r[n]=e)}}}}}},c={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},p={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:r}}},d={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},m={value:null,type:s,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function u(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const y={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},g={...y,json:{...y.json,origins:{\"web-document\":{...y.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?o(r.layerDefinition.drawingInfo.transparency):void 0:o(r.drawingInfo.transparency)}}},w={type:a,readOnly:!0,get(){var e,r;if(null==(e=this.layer)||!e.timeInfo)return null;const i=null==(r=this.view)?void 0:r.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?i&&n?i.intersection(n):i||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,a=o?t.offset(-o.value,o.unit):t,s=this._get(\"timeExtent\");return a.equals(s)?s:a}},v={type:t,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,r)=>{const i=t.fromJSON(e);return null!=r.spatialReference&&\"object\"==typeof r.spatialReference&&(i.spatialReference=n.fromJSON(r.spatialReference)),i}}}},read:!1}},b={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}};export{w as combinedViewLayerTimeExtentProperty,m as elevationInfo,b as id,p as labelsVisible,d as legendEnabled,S as maxScale,j as minScale,y as opacity,g as opacityDrawingInfo,c as popupEnabled,u as readOnlyService,v as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{eachAlways as r,throwIfAbortError as t}from\"./promiseUtils.js\";function n(t,n,e){return r(t.map(((r,t)=>n.apply(e,[r,t]))))}function e(t,n,e){return r(t.map(((r,t)=>n.apply(e,[r,t])))).then((r=>r.map((r=>r.value))))}function o(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>({ok:!1,error:r})))}function u(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>{t(r);return{ok:!1,error:r}}))}function a(r){if(!0===r.ok)return r.value;throw r.error}export{a as assertResult,n as forEach,e as map,o as result,u as resultOrAbort};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:o}=this;return this._isOverridden(\"mode\")?this._get(\"mode\"):r(e)||o?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l,isAbortError as m}from\"../../core/promiseUtils.js\";import c from\"../../portal/Portal.js\";import n from\"../../portal/PortalItem.js\";const d=r.getLogger(\"esri.layers.mixins.PortalLayer\"),u=r=>{let u=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new n({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw m(e)||d.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:n})],u.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],u.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],u.prototype,\"writePortalItem\",null),t([e()],u.prototype,\"resourceReferences\",void 0),u=t([s(\"esri.layers.mixins.PortalLayer\")],u),u};export{u as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return r([e({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),r([e({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),r([e({readOnly:!0})],t.prototype,\"scaleRangeId\",null),t=r([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}function e(){const n=Object.keys(t);return n.sort(),n}const o=e();export{r as getMetersPerUnit,o as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const t=t=>{let s=class extends t{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return o([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],s.prototype,\"blendMode\",void 0),o([r()],s.prototype,\"effect\",void 0),s=o([e(\"esri.layers.mixins.BlendLayer\")],s),s};export{t as BlendLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as o}from\"./maybe.js\";import r from\"./Collection.js\";import a from\"./Loadable.js\";import{map as t,result as l}from\"./asyncUtils.js\";async function n(o,r){return await o.load(),i(o,r)}async function i(n,i){const f=[],c=(...t)=>{for(const l of t)o(l)||(Array.isArray(l)?c(...l):r.isCollection(l)?l.forEach((o=>c(o))):a.isLoadable(l)&&f.push(l))};i(c);let e=null;if(await t(f,(async o=>{!1!==(await l(s(o)?o.loadAll():o.load())).ok||e||(e=o)})),e)throw e.loadError;return n}function s(o){return\"loadAll\"in o&&\"function\"==typeof o.loadAll}export default n;export{n as loadAll,i as loadAllChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import{getDeepValue as t}from\"../../core/object.js\";import{isSome as n}from\"../../core/maybe.js\";import{numberToJSON as r}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import i from\"../../core/Error.js\";const o=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\"]),l=new Set([\"csv\",\"feature\",\"geo-rss\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"map-image\",\"map-notes\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function c(e){return\"basemap\"===e.layerContainerType?o:\"operational-layers\"===e.layerContainerType?l:null}function p(e){return!(\"feature\"!==e.type||e.url||!e.source||\"memory\"!==e.source.type)}function u(e,t){if(t.restrictedWebMapWriting){const r=c(t);return!n(r)||r.has(e.type)&&!p(e)}return!0}function m(e,n){if(p(e)){const r=t(\"featureCollection.layers\",n),i=r&&r[0]&&r[0].layerDefinition;i&&d(e,i)}else if(\"stream\"===e.type){d(e,n.layerDefinition=n.layerDefinition||{})}else\"group\"!==e.type&&d(e,n)}function d(e,t){\"maxScale\"in e&&(t.maxScale=r(e.maxScale)),\"minScale\"in e&&(t.minScale=r(e.minScale))}function y(e,t){if(m(e,t),\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=r(e.opacity),t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type)if(p(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(t,r,o){if(!(\"write\"in t)||!t.write)return o&&o.messages&&o.messages.push(new i(\"layer:unsupported\",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(u(t,o)){const e={};return t.write(e,o)?e:null}return n(r)&&y(t,r=e(r)),r}export{s as disableRestrictedWriting,a as enableRestrictedWriting,f as getLayerJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as e}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{getProperties as t}from\"../core/accessorSupport/utils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{loadAll as l}from\"../core/loadAll.js\";import{getLayerJSON as a}from\"../webdoc/support/writeUtils.js\";import p from\"./Layer.js\";import{LayersMixin as n}from\"../support/LayersMixin.js\";import{TablesMixin as y}from\"../support/TablesMixin.js\";import{MultiOriginJSONMixin as c}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as h}from\"./mixins/OperationalLayer.js\";import{BlendLayer as d}from\"./mixins/BlendLayer.js\";import{PortalLayer as m}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as u}from\"./mixins/ScaleRangeLayer.js\";let v=class extends(d(u(h(m(y(n(c(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,t,s,r){const o=[];if(!i)return o;i.forEach((i=>{const t=a(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);e(t)&&t.layerType&&o.push(t)})),t.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return l(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!t(this).initialized)return;const s=this.layers;let r=s.find((i=>i.visible));switch(i){case\"exclusive\":s.length&&!r&&(r=s.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":s.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([s()],v.prototype,\"fullExtent\",void 0),i([s({json:{read:!1,write:{ignoreOrigin:!0}}})],v.prototype,\"layers\",void 0),i([o(\"layers\")],v.prototype,\"_writeLayers\",null),i([s({type:[\"GroupLayer\"]})],v.prototype,\"operationalLayerType\",void 0),i([s({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],v.prototype,\"portalItem\",null),i([s()],v.prototype,\"spatialReference\",void 0),i([s({json:{read:!1},readOnly:!0,value:\"group\"})],v.prototype,\"type\",void 0),i([s({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],v.prototype,\"visibilityMode\",null),v=i([r(\"esri.layers.GroupLayer\")],v);var b=v;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import i from\"../core/Collection.js\";import{referenceSetter as a}from\"../core/collectionUtils.js\";import n from\"../layers/Layer.js\";function l(e){return e&&\"group\"===e.type}function d(e,r,t){let s,o;if(e)for(let i=0,a=e.length;i<a;i++){if(s=e.getItemAt(i),s[r]===t)return s;if(l(s)&&(o=d(s.layers,r,t),o))return o}}const y=r.getLogger(\"esri.support.LayersMixin\"),p=r=>{let l=class extends r{constructor(...e){super(...e),this.layers=new i;const r=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},t=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||y.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},s=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on(\"before-add\",(e=>r(e.item))),this.layers.on(\"after-add\",(e=>t(e.item))),this.layers.on(\"after-remove\",(e=>s(e.item)))}destroy(){const e=this.layers.removeAll();for(const r of e)this.layerRemoved(r),r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",a(e,this._get(\"layers\")))}add(e,r){const t=this.layers;r=t.getNextIndex(r),e instanceof n?e.parent===this?this.reorder(e,r):t.add(e,r):o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):y.error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;r=t.getNextIndex(r),e.slice().forEach((e=>{e.parent!==this?(t.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([t()],l.prototype,\"layers\",null),l=e([s(\"esri.support.LayersMixin\")],l),l};export{p as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Collection.js\";import{referenceSetter as i}from\"../core/collectionUtils.js\";const n=\"esri.support.TablesMixin\",a=e.getLogger(n);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=e=>{let l=class extends e{constructor(...t){super(...t),this.tables=new o,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",i(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([r()],l.prototype,\"tables\",null),l=t([s(n)],l),l};export{c as TablesMixin};\n"],"sourceRoot":""}