{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/layers/Layer.js","../node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","../node_modules/@arcgis/core/symbols/support/ElevationInfo.js","../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","../node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","../node_modules/@arcgis/core/layers/mixins/ArcGISService.js","../node_modules/@arcgis/core/geometry/HeightModelInfo.js"],"names":["l","type","Boolean","value","json","origins","read","source","reader","r","i","screenSizePerspective","this","originOf","e","store","set","write","ignoreOrigin","target","writer","n","t","c","name","disablePopup","enabled","p","f","String","isRequired","d","service","m","s","u","readOnly","y","Number","default","g","opacity","origin","drawingInfo","transparency","layerDefinition","o","w","a","get","layer","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","_get","equals","v","fromJSON","spatialReference","b","j","S","h","getLogger","EventedMixin","constructor","super","arguments","attributionDataUrl","fullExtent","WGS84","id","Date","now","toString","legendEnabled","listMode","parent","popupEnabled","attributionVisible","title","url","visible","fromUrl","error","portalItem","fromItem","portal","portalUrl","initialize","when","catch","declaredClass","destroy","layers","includes","remove","tables","baseLayers","referenceLayers","hasAttributionData","query","responseType","data","prototype","nonNullable","range","min","max","expression","clone","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","readFeatureExpressionInfo","featureExpression","writeFeatureExpressionInfo","featureExpressionInfo","_isOverridden","_override","_set","mode","apiValues","jsonValues","x","resourceReferences","paths","removeOrigin","readPortalItem","itemId","writePortalItem","load","instance","supportedTypes","validateItem","supportsData","warn","getDefault","restUrl","messages","push","Object","keys","sort","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","writeListMode","layerContainerType","writeOperationalLayerType","layerType","writeTitle","operationalLayerType","filter","length","beforeSave","allowNull","orthometric","gravity_related_height","ellipsoidal","slice","heightModel","heightUnit","vertCRS","writeHeightModel","readHeightModel","context","readHeightUnit","readHeightUnitService","readVertCRS","ellipsoid","geoid","constructOnly"],"mappings":"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","file":"static/js/14.c310a52d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as r}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as i}from\"../../core/accessorSupport/write.js\";import n from\"../../geometry/SpatialReference.js\";import t from\"../../geometry/Extent.js\";import{transparencyToOpacity as o}from\"../../webdoc/support/opacityUtils.js\";import a from\"../../TimeExtent.js\";import s from\"../../symbols/support/ElevationInfo.js\";const l={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(r,i){if(null!=i.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return i.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,r,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||i(this,\"screenSizePerspectiveEnabled\",{},t))&&(r[n]=e)}}}}}},c={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},p={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:r}}},d={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},m={value:null,type:s,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function u(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const y={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},g={...y,json:{...y.json,origins:{\"web-document\":{...y.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?o(r.layerDefinition.drawingInfo.transparency):void 0:o(r.drawingInfo.transparency)}}},w={type:a,readOnly:!0,get(){var e,r;if(null==(e=this.layer)||!e.timeInfo)return null;const i=null==(r=this.view)?void 0:r.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?i&&n?i.intersection(n):i||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,a=o?t.offset(-o.value,o.unit):t,s=this._get(\"timeExtent\");return a.equals(s)?s:a}},v={type:t,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,r)=>{const i=t.fromJSON(e);return null!=r.spatialReference&&\"object\"==typeof r.spatialReference&&(i.spatialReference=n.fromJSON(r.spatialReference)),i}}}},read:!1}},b={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}};export{w as combinedViewLayerTimeExtentProperty,m as elevationInfo,b as id,p as labelsVisible,d as legendEnabled,S as maxScale,j as minScale,y as opacity,g as opacityDrawingInfo,c as popupEnabled,u as readOnlyService,v as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../config.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import p from\"../geometry/SpatialReference.js\";import n from\"../geometry/Extent.js\";import\"../geometry.js\";import y from\"../core/Evented.js\";import{IdentifiableMixin as u}from\"../core/Identifiable.js\";import c from\"../request.js\";import d from\"../core/Loadable.js\";let m=0;const h=e.getLogger(\"esri.layers.Layer\");let f=class extends(y.EventedMixin(u(d))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new n(-180,-90,180,90,p.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=p.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=\"string\"==typeof t?{url:t}:t,e=await import(\"./support/arcgisLayers.js\");try{return await e.fromUrl(r)}catch(o){throw h.error(\"#fromArcGISServerUrl({ url: '\"+r.url+\"'})\",\"Failed to create layer from arcgis server url\",o),o}}static async fromPortalItem(t){const e=\"portalItem\"in t?t:{portalItem:t},o=await import(\"../portal/support/portalLayers.js\");try{return await o.fromItem(e)}catch(i){const t=e&&e.portalItem,o=t&&t.id||\"unset\",a=t&&t.portal&&t.portal.url||r.portalUrl;throw h.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+a+\"', id: '\"+o+\"')\",i),i}}initialize(){this.when().catch((t=>{var r,o;l(t)||e.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${null!=(r=this.title)?r:\"no title\"}', id: '${null!=(o=this.id)?o:\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,r=this.parent;\"layers\"in r&&r.layers.includes(t)?r.layers.remove(t):\"tables\"in r&&r.tables.includes(t)?r.tables.remove(t):\"baseLayers\"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):\"baseLayers\"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?s(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await c(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new a(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([o({type:String})],f.prototype,\"attributionDataUrl\",void 0),t([o({type:n})],f.prototype,\"fullExtent\",void 0),t([o({readOnly:!0})],f.prototype,\"hasAttributionData\",null),t([o({type:String})],f.prototype,\"id\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"legendEnabled\",void 0),t([o({type:[\"show\",\"hide\",\"hide-children\"]})],f.prototype,\"listMode\",void 0),t([o({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,\"opacity\",void 0),t([o()],f.prototype,\"parent\",void 0),t([o({readOnly:!0})],f.prototype,\"parsedUrl\",null),t([o({type:Boolean})],f.prototype,\"popupEnabled\",void 0),t([o({type:Boolean})],f.prototype,\"attributionVisible\",void 0),t([o({type:p})],f.prototype,\"spatialReference\",void 0),t([o({type:String})],f.prototype,\"title\",void 0),t([o({type:String,readOnly:!0,json:{read:!1}})],f.prototype,\"type\",void 0),t([o()],f.prototype,\"url\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"visible\",void 0),f=t([i(\"esri.layers.Layer\")],f);var b=f;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:o}=this;return this._isOverridden(\"mode\")?this._get(\"mode\"):r(e)||o?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l,isAbortError as m}from\"../../core/promiseUtils.js\";import c from\"../../portal/Portal.js\";import n from\"../../portal/PortalItem.js\";const d=r.getLogger(\"esri.layers.mixins.PortalLayer\"),u=r=>{let u=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new n({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw m(e)||d.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:n})],u.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],u.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],u.prototype,\"writePortalItem\",null),t([e()],u.prototype,\"resourceReferences\",void 0),u=t([s(\"esri.layers.mixins.PortalLayer\")],u),u};export{u as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}function e(){const n=Object.keys(t);return n.sort(),n}const o=e();export{r as getMetersPerUnit,o as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{parse as i,sanitizeUrl as l}from\"../support/arcgisLayerUrl.js\";const p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",l(t,e.getLogger(this.declaredClass)))}};return t([s()],c.prototype,\"title\",null),t([s({type:String})],c.prototype,\"url\",null),c=t([o(\"esri.layers.mixins.ArcGISService\")],c),c};export{p as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{strict as r}from\"../core/jsonMap.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import i from\"../core/Warning.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"../core/accessorSupport/decorators/writer.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{removeUnordered as a}from\"../core/arrayUtils.js\";import{JSONSupport as l}from\"../core/JSONSupport.js\";import{unitFromRESTJSON as c,getVerticalUnitStringForSR as h}from\"../core/unitUtils.js\";var p;const d=r()({orthometric:\"gravity-related-height\",gravity_related_height:\"gravity-related-height\",ellipsoidal:\"ellipsoidal\"}),u=d.jsonValues.slice();a(u,\"orthometric\");const g=r()({meter:\"meters\",foot:\"feet\",\"us-foot\":\"us-feet\",\"clarke-foot\":\"clarke-feet\",\"clarke-yard\":\"clarke-yards\",\"clarke-link\":\"clarke-links\",\"sears-yard\":\"sears-yards\",\"sears-foot\":\"sears-feet\",\"sears-chain\":\"sears-chains\",\"benoit-1895-b-chain\":\"benoit-1895-b-chains\",\"indian-yard\":\"indian-yards\",\"indian-1937-yard\":\"indian-1937-yards\",\"gold-coast-foot\":\"gold-coast-feet\",\"sears-1922-truncated-chain\":\"sears-1922-truncated-chains\",\"50-kilometers\":\"50-kilometers\",\"150-kilometers\":\"150-kilometers\"});let m=p=class extends l{constructor(e){super(e),this.heightModel=\"gravity-related-height\",this.heightUnit=\"meters\",this.vertCRS=null}writeHeightModel(e,t,r){return d.write(e,t,r)}readHeightModel(e,t,r){const o=d.read(e);return o||(r&&r.messages&&r.messages.push(f(e,{context:r})),null)}readHeightUnit(e,t,r){const o=g.read(e);return o||(r&&r.messages&&r.messages.push(y(e,{context:r})),null)}readHeightUnitService(e,t,r){const o=c(e)||g.read(e);return o||(r&&r.messages&&r.messages.push(y(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new p({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=h(t);return new p({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:\"web-scene\",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new p;return t.read(e,{origin:\"web-scene\"}),t}};function y(e,t){return new i(\"height-unit:unsupported\",`Height unit of value '${e}' is not supported`,t)}function f(e,t){return new i(\"height-model:unsupported\",`Height model of value '${e}' is not supported`,t)}e([t({type:d.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:u,default:\"ellipsoidal\"}}}})],m.prototype,\"heightModel\",void 0),e([n(\"web-scene\",\"heightModel\")],m.prototype,\"writeHeightModel\",null),e([o([\"web-scene\",\"service\"],\"heightModel\")],m.prototype,\"readHeightModel\",null),e([t({type:g.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:g.jsonValues,write:g.write}}}})],m.prototype,\"heightUnit\",void 0),e([o(\"web-scene\",\"heightUnit\")],m.prototype,\"readHeightUnit\",null),e([o(\"service\",\"heightUnit\")],m.prototype,\"readHeightUnitService\",null),e([t({type:String,constructOnly:!0,json:{origins:{\"web-scene\":{write:!0}}}})],m.prototype,\"vertCRS\",void 0),e([o(\"service\",\"vertCRS\",[\"vertCRS\",\"ellipsoid\",\"geoid\"])],m.prototype,\"readVertCRS\",null),m=p=e([s(\"esri.geometry.HeightModelInfo\")],m);var v=m;export default v;\n"],"sourceRoot":""}