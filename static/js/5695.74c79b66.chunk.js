"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[5695],{67077:(t,e,n)=>{function o(){return[0,0,0,0]}function a(t){return[t[0],t[1],t[2],t[3]]}function r(t,e,n,o){return[t,e,n,o]}function i(t){const e=[0,0,0,0],n=Math.min(4,t.length);for(let o=0;o<n;++o)e[o]=t[o];return e}function l(t,e){return new Float64Array(t,e,4)}function s(){return[0,0,0,0]}function u(){return r(1,1,1,1)}function c(){return r(1,0,0,0)}function f(){return r(0,1,0,0)}function m(){return r(0,0,1,0)}function d(){return r(0,0,0,1)}n.d(e,{O:()=>h,Z:()=>p,a:()=>l,b:()=>i,c:()=>o,d:()=>a,f:()=>r});const p=[0,0,0,0],h=u(),y=c(),v=f(),I=m(),g=d();Object.freeze(Object.defineProperty({__proto__:null,create:o,clone:a,fromValues:r,fromArray:i,createView:l,zeros:s,ones:u,unitX:c,unitY:f,unitZ:m,unitW:d,ZEROS:p,ONES:h,UNIT_X:y,UNIT_Y:v,UNIT_Z:I,UNIT_W:g},Symbol.toStringTag,{value:"Module"}))},27811:(t,e,n)=>{n.d(e,{AJ:()=>u,If:()=>p,QM:()=>m,hy:()=>d,k0:()=>s,nu:()=>l,uI:()=>f,wx:()=>h});var o=n(16889),a=n(17842),r=n(90045),i=n(67077);const l=2.4;function s(t){return(0,a.Wz)(t*l)}function u(t){return(0,a.F2)(t)/l}function c(t,e,n,a){let{color:i,ratio:l}=e,{color:s,ratio:u}=n;if(u===l){const t=1e-6;1===u?l-=t:u+=t}const c=(0,o.uZ)((a-l)/(u-l),0,1);(0,r.l)(t,i.toArray(),s.toArray(),c)}function f(t){const e=new Uint8ClampedArray(2048);if(t=t.filter((t=>{let{ratio:e}=t;return e>=0&&e<=1})).sort(((t,e)=>t.ratio-e.ratio)).map((t=>{let{color:e,ratio:n}=t;return{color:e,ratio:Math.max(n,.001)}})),t.length<1)return e;let n=t[0],o=t[0],a=1;const r=(0,i.c)();for(let i=0;i<512;i++){const l=(i+.5)/512;for(;l>o.ratio&&a<t.length;)n=o,o=t[a++];c(r,n,o,l),e.set(r,4*i)}return e}function m(t,e,n,o){const{radius:r,fieldOffset:i,field:l}=e,s=Math.round((0,a.F2)(r)),u=new Float64Array(n*o);let c,f=Number.NEGATIVE_INFINITY;const m=function(t,e){return null!=t?"string"==typeof e?e=>-1*+e.readAttribute(t):n=>+n.readAttribute(t)+e:t=>1}(l,i),d=new Set;for(const a of t){const t=a.getCursor();for(;t.next();){const e=t.getObjectId();if(d.has(e))continue;d.add(e);const a=t.readLegacyPointGeometry(),r=128;if(a.x<-r||a.x>=n+r||a.y<-r||a.y>o+r)continue;const i=+m(t),l=Math.max(0,Math.round(a.x)-s),h=Math.max(0,Math.round(a.y)-s),y=Math.min(o,Math.round(a.y)+s),v=Math.min(n,Math.round(a.x)+s);for(let t=h;t<y;t++)for(let e=l;e<v;e++){const o=t*n+e,r=p(a.x-e,a.y-t,s);c=u[o]+=r*i,c>f&&(f=c)}}}return{matrix:u.buffer,max:f}}function d(t,e,n,a,r,i){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const l=t.getImageData(0,0,e,e);n&&a&&l.data.set(new Uint8ClampedArray(function(t,e,n,a,r){const i=new Uint32Array(t*t),l="buffer"in e?e:new Float64Array(e),s="buffer"in n?new Uint32Array(n.buffer):new Uint32Array(new Uint8Array(n).buffer),u=s.length/(r-a);for(let c=0;c<l.length;c++){const t=l[c],e=Math.floor((t-a)*u);i[c]=s[(0,o.uZ)(e,0,s.length-1)]}return i.buffer}(e,n,a,r,i))),t.putImageData(l,0,0)}function p(t,e,n){const o=Math.sqrt(t**2+e**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function h(t,e){return"function"==typeof t?t:t?"string"==typeof e?e=>-1*+e[t]:n=>+n[t]+e:()=>1}},32970:(t,e,n)=>{n.d(e,{Z:()=>d});var o,a=n(27366),r=n(51995),i=n(84652),l=n(49861),s=n(25243),u=n(27135),c=n(69912),f=n(55661);let m=o=class extends f.Z{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new o({fromColor:(0,i.d9)(this.fromColor),toColor:(0,i.d9)(this.toColor),algorithm:this.algorithm})}};(0,a._)([(0,u.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],m.prototype,"algorithm",void 0),(0,a._)([(0,l.Cb)({type:r.Z,json:{type:[s.z8],write:!0}})],m.prototype,"fromColor",void 0),(0,a._)([(0,l.Cb)({type:r.Z,json:{type:[s.z8],write:!0}})],m.prototype,"toColor",void 0),(0,a._)([(0,l.Cb)({type:["algorithmic"]})],m.prototype,"type",void 0),m=o=(0,a._)([(0,c.j)("esri.rest.support.AlgorithmicColorRamp")],m);const d=m},55661:(t,e,n)=>{n.d(e,{Z:()=>s});var o=n(27366),a=n(46784),r=n(49861),i=(n(63780),n(93169),n(25243),n(69912));let l=class extends a.wq{constructor(t){super(t),this.type=null}};(0,o._)([(0,r.Cb)({readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=(0,o._)([(0,i.j)("esri.rest.support.ColorRamp")],l);const s=l},58169:(t,e,n)=>{n.d(e,{Z:()=>f});var o,a=n(27366),r=n(84652),i=n(49861),l=(n(25243),n(69912)),s=n(32970),u=n(55661);let c=o=class extends u.Z{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new o({colorRamps:(0,r.d9)(this.colorRamps)})}};(0,a._)([(0,i.Cb)({type:[s.Z],json:{write:!0}})],c.prototype,"colorRamps",void 0),(0,a._)([(0,i.Cb)({type:["multipart"]})],c.prototype,"type",void 0),c=o=(0,a._)([(0,l.j)("esri.rest.support.MultipartColorRamp")],c);const f=c},57634:(t,e,n)=>{n.d(e,{V:()=>i,i:()=>l});var o=n(32970),a=n(55661),r=n(58169);const i={key:"type",base:a.Z,typeMap:{algorithmic:o.Z,multipart:r.Z}};function l(t){return t&&t.type?"algorithmic"===t.type?o.Z.fromJSON(t):"multipart"===t.type?r.Z.fromJSON(t):null:null}},57663:(t,e,n)=>{n.r(e),n.d(e,{classBreaks:()=>y,heatmapStatistics:()=>I,histogram:()=>v,summaryStatistics:()=>p,uniqueValues:()=>h});n(59486),n(10064);var o=n(92026),a=n(17842),r=n(78952),i=n(58971),l=n(92975),s=(n(37270),n(27811)),u=n(15903),c=n(819),f=n(7882);let m=null;async function d(t,e){if(!e)return[];const n=t.field,o=t.valueExpression,a=t.normalizationType,i=t.normalizationField,l=t.normalizationTotal,s=[],f=t.viewInfoParams;let d=null,p=null;if(o){if(!m){const{arcadeUtils:t}=await(0,c.LC)();m=t}d=m.createFunction(o),p=f&&m.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new r.Z(f.spatialReference)})}const h=t.fieldInfos,y=e[0]&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass||!h?null:{fields:h};return e.forEach((t=>{const e=t.attributes;let r;if(o){const e=y?{...t,layer:y}:t,n=m.createExecContext(e,p);r=m.executeFunction(d,n)}else e&&(r=e[n]);if(a&&isFinite(r)){const t=e&&parseFloat(e[i]);r=(0,u.fk)(r,a,t,l)}s.push(r)})),s}async function p(t){const{attribute:e,features:n}=t,{normalizationType:o,normalizationField:a,minValue:r,maxValue:i,fieldType:l}=e,s=await d({field:e.field,valueExpression:e.valueExpression,normalizationType:o,normalizationField:a,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),c=(0,u.S5)({normalizationType:o,normalizationField:a,minValue:r,maxValue:i}),f={value:.5,fieldType:l},m="esriFieldTypeString"===l?(0,u.H0)({values:s,supportsNullCount:c,percentileParams:f}):(0,u.i5)({values:s,minValue:r,maxValue:i,useSampleStdDev:!o,supportsNullCount:c,percentileParams:f});return(0,u.F_)(m,"esriFieldTypeDate"===l)}async function h(t){const{attribute:e,features:n}=t,o=await d({field:e.field,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),a=(0,u.eT)(o);return(0,u.Qm)(a,e.domain,e.returnAllCodedValues)}async function y(t){const{attribute:e,features:n}=t,{field:o,normalizationType:a,normalizationField:r,normalizationTotal:i,classificationMethod:l}=e,s=await d({field:o,valueExpression:e.valueExpression,normalizationType:a,normalizationField:r,normalizationTotal:i,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n),c=(0,u.G2)(s,{field:o,normalizationType:a,normalizationField:r,normalizationTotal:i,classificationMethod:l,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return(0,u.DL)(c,l)}async function v(t){const{attribute:e,features:n}=t,{field:o,normalizationType:a,normalizationField:r,normalizationTotal:i,classificationMethod:l}=e,s=await d({field:o,valueExpression:e.valueExpression,normalizationType:a,normalizationField:r,normalizationTotal:i,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},n);return(0,u.oF)(s,{field:o,normalizationType:a,normalizationField:r,normalizationTotal:i,classificationMethod:l,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function I(t){const{attribute:e,features:n}=t,{field:r,radius:u,fieldOffset:c,transform:m,spatialReference:d,size:p}=e,h=function(t,e,n,a){const r=(0,l.MP)(n)?(0,l.C5)(n):null,s=r?Math.round((r.valid[1]-r.valid[0])/e.scale[0]):null;return t.map((t=>{const n=new f.Z((0,o.Wg)(t.geometry));return(0,i.RF)(e,n,n,n.hasZ,n.hasM),t.geometry=r?function(t,e,n){return t.x<0?t.x+=e:t.x>n&&(t.x-=e),t}(n,s,a[0]):n,t}))}(n,m,d,p),{count:y,min:v,max:I,mean:g,stdDev:x}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;const l=new Float64Array(r*i);e=Math.round((0,a.F2)(e));let u=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,f=0,m=0,d=0,p=0;const h=(0,s.wx)(o,n);for(const{geometry:a,attributes:v}of t){const{x:t,y:n}=a,o=Math.max(0,t-e),y=Math.max(0,n-e),I=Math.min(i,n+e),g=Math.min(r,t+e),x=+h(v);for(let a=y;a<I;a++)for(let i=o;i<g;i++){const o=a*r+i,h=(0,s.If)(i-t,a-n,e),y=l[o];f=l[o]+=h*x;const v=f-y;m+=v,d+=v*v,f<u&&(u=f),f>c&&(c=f),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const y=(c-u)/2;return{mean:m/p,stdDev:Math.sqrt((d-m*m/p)/p),min:u,max:c,mid:y,count:p}}(h,u,c,r,p[0],p[1]);return{count:y,min:v,max:I,avg:g,stddev:x}}}}]);
//# sourceMappingURL=5695.74c79b66.chunk.js.map