"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[7019],{41691:(e,t,i)=>{i.d(t,{p:()=>d,r:()=>c});var s=i(27366),n=i(85015),r=i(100),l=i(49861),a=i(69912),o=i(61826);const d=e=>{let t=class extends e{destroy(){this.destroyed||(this._get("handles")?.destroy(),this._get("updatingHandles")?.destroy())}get handles(){return this._get("handles")||new r.Z}get updatingHandles(){return this._get("updatingHandles")||new o.t}};return(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,s._)([(0,a.j)("esri.core.HandleOwner")],t),t};let c=class extends(d(n.Z)){};c=(0,s._)([(0,a.j)("esri.core.HandleOwner")],c)},79056:(e,t,i)=>{i.d(t,{IG:()=>l});var s=i(27366),n=i(69912);let r=0;const l=e=>{let t=class extends e{constructor(){super(...arguments),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+r++})}};return t=(0,s._)([(0,n.j)("esri.core.Identifiable")],t),t};let a=class extends(l(class{})){};a=(0,s._)([(0,n.j)("esri.core.Identifiable")],a)},8025:(e,t,i)=>{i.d(t,{B:()=>n});var s=i(49861);function n(e,t){const i=t?{...t,source:e}:e;return(0,s.Cb)({aliasOf:i})}},61826:(e,t,i)=>{i.d(t,{t:()=>h});var s=i(27366),n=i(85015),r=i(100),l=i(92026),a=i(94172),o=i(99346),d=i(49861),c=i(69912);let h=class extends n.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new r.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,i,a.YP)}addWhen(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,i,a.gx)}addOnCollectionChange(e,t){let{initial:i=!1,final:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=++this.handleId;return this.handles.add([(0,a.on)(e,"after-changes",this._createSyncUpdatingCallback(),a.Z_),(0,a.on)(e,"change",t,{onListenerAdd:i?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:s?e=>t({added:[],removed:e.toArray()}):void 0})],n),{remove:()=>this.handles.remove(n)}}addPromise(e){if((0,l.Wi)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(u)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const i=()=>this.handles.remove(t);return e.then(i,i),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;const n=++this.handleId;i.sync||this._installSyncUpdatingWatch(e,n);const r=s(e,t,i);return this.handles.add(r,n),{remove:()=>this.handles.remove(n)}}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),s=(0,a.YP)(e,i,{sync:!0,equals:()=>!1});return this.handles.add(s,t),s}_createSyncUpdatingCallback(){return()=>{this.handles.remove(u),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,o.Os)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(u))})),u)}}};(0,s._)([(0,d.Cb)({readOnly:!0})],h.prototype,"updating",void 0),h=(0,s._)([(0,c.j)("esri.core.support.WatchUpdatingTracking")],h);const u=-42;var p;!function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"}(p||(p={}))},57976:(e,t,i)=>{i.d(t,{Z:()=>c});var s,n=i(27366),r=i(85015),l=i(79056),a=i(49861),o=(i(63780),i(93169),i(25243),i(69912));let d=s=class extends((0,l.IG)(r.Z)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,n._)([(0,a.Cb)()],d.prototype,"active",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"className",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"disabled",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"id",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"indicator",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"title",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"type",void 0),(0,n._)([(0,a.Cb)()],d.prototype,"visible",void 0),d=s=(0,n._)([(0,o.j)("esri.support.actions.ActionBase")],d);const c=d},6945:(e,t,i)=>{i.d(t,{Z:()=>d});var s,n=i(27366),r=i(49861),l=(i(63780),i(93169),i(25243),i(69912)),a=i(57976);let o=s=class extends a.Z{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,n._)([(0,r.Cb)()],o.prototype,"image",void 0),o=s=(0,n._)([(0,l.j)("esri.support.Action.ActionButton")],o);const d=o},9676:(e,t,i)=>{i.d(t,{Z:()=>d});var s,n=i(27366),r=i(49861),l=(i(63780),i(93169),i(25243),i(69912)),a=i(57976);let o=s=class extends a.Z{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,n._)([(0,r.Cb)()],o.prototype,"image",void 0),(0,n._)([(0,r.Cb)()],o.prototype,"value",void 0),o=s=(0,n._)([(0,l.j)("esri.support.Action.ActionToggle")],o);const d=o},47019:(e,t,i)=>{i.d(t,{Z:()=>Ue});var s=i(27366),n=i(40281),r=i(98928),l=i(100),a=i(93169),o=i(94172),d=i(8025),c=(i(63780),i(89125)),h=i(49861),u=i(69912),p=i(69407),y=i(69735),_=i(95781),g=i(9309),m=i(78088),b=i(80532),v=i(93531),f=i(67005),C=(i(80975),i(70281));function I(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const w=n.Z.ofType(_.Z),A="data-sort-filter",L="data-layer-uid",S="esri-layer-list esri-widget esri-widget--panel",k="esri-layer-list--new-ui",P="esri-layer-list__no-items",M="esri-layer-list__list",N="esri-layer-list__list--root",x="esri-layer-list__list--exclusive",O="esri-layer-list__list--inherited",E="esri-layer-list__list--independent",T="esri-layer-list__item",V="esri-layer-list__item--has-message",Z="esri-layer-list__item--invisible",F="esri-layer-list__item--invisible-at-scale",R="esri-layer-list__item--updating",U="esri-layer-list__item--has-children",Y="esri-layer-list__item--selectable",$="esri-layer-list__item-container",H="esri-layer-list__item-actions-menu",j="esri-layer-list__item-actions-menu-item",B="esri-layer-list__item-actions-menu-item--active",W="esri-layer-list__item-actions",z="esri-layer-list__item-actions-list",D="esri-layer-list__item-action",G="esri-layer-list__item-action-icon",K="esri-layer-list__item-action-image",Q="esri-layer-list__item-action-title",q="esri-layer-list__action-toggle",X="esri-layer-list__action-toggle--on",J="esri-layer-list__item-label",ee="esri-layer-list__item-message",te="esri-layer-list__item-title",ie="esri-layer-list__connection-status",se="esri-layer-list__connection-status--disconnected",ne="esri-layer-list__connection-status--connected",re="esri-layer-list__item-toggle",le="esri-layer-list__item-toggle-icon",ae="esri-layer-list__item-toggle-icon",oe="esri-layer-list__item-radio-icon",de="esri-layer-list__child-toggle",ce="esri-layer-list__child-toggle--open",he="esri-layer-list__child-toggle-icon--opened",ue="esri-layer-list__child-toggle-icon--closed",pe="esri-layer-list__child-toggle-icon--closed-rtl",ye="esri-layer-list--chosen",_e="esri-disabled",ge="esri-disabled-element",me="esri-hidden",be="esri-rotating",ve="esri-icon-handle-horizontal",fe="esri-icon-visible",Ce="esri-icon-non-visible",Ie="esri-icon-radio-checked",we="esri-icon-radio-unchecked",Ae="esri-icon-notice-triangle",Le="esri-icon-down-arrow",Se="esri-icon-right-triangle-arrow",ke="esri-icon-left-triangle-arrow",Pe="esri-icon-loading-indicator",Me="esri-icon-default-action",Ne="esri-icon-layers",xe="actions",Oe="action-section",Ee="items",Te={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function Ve(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>Ve(e)))}const Ze="root",Fe={statusIndicators:!0};let Re=class extends p.Z{constructor(e,t){super(e,t),this._handles=new l.Z,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=(0,a.Z)("esri-layerlist-new-ui"),this._tooltipReferenceMap=new Map,this.visibleItems=null,this.iconClass=Ne,this.label=void 0,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new w,this.view=null,this.viewModel=new y.Z,this.visibleElements={...Fe},this._onSortableSort=e=>{let{to:t,from:i,item:s,newIndex:n}=e;i&&t&&(i===t?this._sortLayers(this._sortableMap.get(i.dataset.group)):this._moveLayerFromChildList({to:t,from:i,item:s,newIndex:n}))},this._sortableCanSort=(e,t)=>!(!e.el.dataset.group||!t.el.dataset.group),this._sortableCanPull=(e,t,i)=>{const{listItemCanGiveFunction:s}=this,n={selected:i["data-item"],from:t.el["data-item"],to:e.el["data-item"]};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,n)},this._sortableCanPut=(e,t,i)=>{const{listItemCanReceiveFunction:s}=this,n={selected:i["data-item"],from:t.el["data-item"],to:e.el["data-item"]};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,n)},this._onSortableEnd=e=>{let{oldIndex:t,from:i,to:s,item:n}=e;i!==s&&i.insertBefore(n,i.children[t])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own([(0,o.on)((()=>this.operationalItems),"change",(()=>this._itemsChanged(e))),(0,o.YP)((()=>this.errorsVisible),(()=>this._itemsChanged(e))),(0,o.YP)((()=>this.selectionEnabled),(()=>this._toggleAllSorting()),o.nn)])}loadDependencies(){return Promise.all([Promise.all([i.e(8478),i.e(6674)]).then(i.bind(i,46674))])}destroy(){this._destroySortables(),this._tooltipReferenceMap.clear(),this._handles.destroy(),this._handles=null}castVisibleElements(e){return{...Fe,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){const{visibleItems:e,_newUI:t}=this,i=this.viewModel?.state,s={[k]:t,[me]:"loading"===i,[_e]:"disabled"===i},n=this.renderItemTooltips(),r=this.renderItems();return(0,f.u)("div",{class:this.classes(S,s)},e?.length?[n,r]:this.renderNoItems())}renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:i}=this;return e?(0,f.u)("calcite-tooltip",{label:i.layerIncompatible,referenceElement:t.get(e.uid)},i.layerIncompatibleTooltip):null}renderItemTooltipNodes(e){const{incompatible:t,children:i}=e;return[t?this.renderItemTooltip(e):null,...t?[]:i?.toArray().map((e=>this.renderItemTooltipNodes(e)))]}renderItemTooltips(){return this.visibleItems.toArray().map((e=>this.renderItemTooltipNodes(e)))}renderNoItems(){return(0,f.u)("div",{class:P},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return(0,f.u)("ul",{"aria-label":i.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":Ze,bind:this,class:this.classes(M,N,E)},e?.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messagesCommon:i}=this,s={[B]:e.actionsOpen};return(0,f.u)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(j,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":i.options,title:i.options},(0,f.u)("span",{"aria-hidden":"true",class:ve}))}renderActionsMenu(e,t,i,s){const{panel:n}=e,r=n&&n.visible?this.renderPanelButton(n):null,l=1===i&&this._getSingleActionButton(t),a=l?this.renderAction({item:e,action:l,singleAction:!0}):null,o=!l&&i?this.renderActionsMenuIcon(e,s):null;return o||r||l?(0,f.u)("div",{key:"actions-menu",class:H},r,a,o):null}renderChildList(e,t){const{selectionEnabled:i}=this,{visibilityMode:s,children:n}=e,r=this._hasChildren(e),l=!r&&i&&"group"===e.layer?.type,{exclusive:a,inherited:o}=Te,d={[x]:s===a,[O]:s===o,[E]:s!==o&&s!==a};return r||l?(0,f.u)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(M,d),"aria-expanded":e.open?"true":"false",role:i?"listbox":s===a?"radiogroup":"group",hidden:!e.open&&!l||null},n?.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:i}=this,s=this._hasChildren(e),n={[ce]:e.open},r=e.open?i.collapse:i.expand;return s?(0,f.u)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(de,n),tabindex:"0",role:"button","aria-controls":t,"aria-label":r,title:r},(0,f.u)("span",{"aria-hidden":"true",class:this.classes(ue,Se)}),(0,f.u)("span",{"aria-hidden":"true",class:this.classes(he,Le)}),(0,f.u)("span",{"aria-hidden":"true",class:this.classes(pe,ke)})):null}renderItemMessage(e){return e.error?(0,f.u)("div",{key:"esri-layer-list__error",class:ee,role:"alert"},(0,f.u)("span",{"aria-hidden":"true",class:Ae}),this.messages.layerError):e.incompatible?(0,f.u)("div",{key:"esri-layer-list__incompatible",class:ee,role:"alert"},(0,f.u)("span",{bind:this,tabIndex:0,"aria-hidden":"true",class:Ae,afterCreate:t=>this._setTooltipReference(t,e)}),this.messages.layerIncompatible):null}renderItemContent(e,t,i){const{id:s}=this,n=`${s}_${e.uid}`,r=`${n}_actions`,l=`${n}__list`,{panel:a}=e,o=this._filterActions(e.actionsSections),d=this._countActions(o);return[(0,f.u)("div",{key:"list-item-container",class:$},this.renderChildrenToggle(e,l),this.renderLabel(e,t,i),this.renderActionsMenu(e,o,d,r)),this.renderItemMessage(e),d?this.renderActionsSections(e,o,r):null,a&&a.open?a.render():null,this.renderChildList(e,l)]}renderItem(e,t){const{_newUI:i,id:s,selectionEnabled:n,selectedItems:r,visibleElements:l}=this,a=`${s}_${e.uid}__title`,o=this._hasMessage(e),d=this._hasChildren(e),c={[U]:d,[V]:!!o,[R]:e.updating&&!t&&l.statusIndicators,[Z]:i&&!e.visible,[F]:!e.visibleAtCurrentScale,[Y]:n};if(n){const i={[L]:e.layer?.uid,[A]:(!e.sortable).toString()};return(0,f.u)("li",{key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(T,c),"aria-labelledby":a,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:Ze,tabIndex:0,"aria-selected":(0,g.jt)(e,r)?"true":"false",role:"option",...i},this.renderItemContent(e,t,a))}return(0,f.u)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(T,c),"aria-labelledby":a},this.renderItemContent(e,t,a))}renderItemConnectionStatus(e){const{connectionStatus:t}=e;return t?(0,f.u)("span",{class:this.classes({[ie]:!0,[se]:"disconnected"===t,[ne]:"connected"===t}),key:"layer-connection-status"}):null}renderItemTitle(e,t){const{messages:i}=this;if(!e)return null;const s=e.title||i.untitledLayer,n=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return(0,f.u)("span",{key:"layer-title-container",id:t,title:n,"aria-label":n,class:te},s)}renderItemToggleIcon(e,t){const{_newUI:i}=this,{exclusive:s}=Te,n=t&&t.visibilityMode,r={[le]:i,[ae]:i&&n!==s,[oe]:i&&n===s,[Ie]:n===s&&e.visible,[we]:n===s&&!e.visible,[fe]:n!==s&&e.visible,[Ce]:n!==s&&!e.visible};return(0,f.u)("span",{key:"item-toggle-icon",class:this.classes(r),"aria-hidden":"true"})}renderItemToggle(e,t,i){const{selectionEnabled:s,messages:n}=this,{exclusive:r}=Te,l=t&&t.visibilityMode,a=l===r?"radio":"switch";return(0,f.u)("span",s?{key:"item-toggle-selection-enabled",class:re,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":l,tabIndex:0,title:e.visible?n.hideLayer:n.showLayer,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":i}:{key:"item-toggle",class:re},this.renderItemToggleIcon(e,t))}renderLabel(e,t,i){const{selectionEnabled:s,_newUI:n,messages:r}=this,{inherited:l,exclusive:a}=Te,o=t?.visibilityMode,d=o===a?"radio":"switch",c=[this.renderItemToggle(e,t,i),this.renderItemConnectionStatus(e),this.renderItemTitle(e,i)];n&&c.reverse();const h=(0,f.u)("div",s?{key:`item-label-no-selection-${e.uid}`,class:J}:{key:`item-label-with-selection-${e.uid}`,class:J,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":o,tabIndex:0,"aria-checked":e.visible?"true":"false",title:e.visible?r.hideLayer:r.showLayer,role:d,"aria-labelledby":i},c);return o===l||e.error?(0,f.u)("div",{key:`item-label-container-${e.uid}`,class:J},this.renderItemTitle(e,i)):h}renderPanelButton(e){const{className:t,open:i,title:s,image:n}=e,r=n||t?t:Me,l=this._getIconImageStyles(e),a={[B]:i},o={[K]:!!l["background-image"]};return r&&(o[r]=!!r),(0,f.u)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(j,a),role:"button",tabindex:"0",title:s,"aria-label":s},(0,f.u)("span",{class:this.classes(o),styles:l}))}renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>(0,f.u)("ul",{key:`${e}-action-section-${i}`,class:z},this.renderActionSection(e,t))));return(0,f.u)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:i,class:W,hidden:!e.actionsOpen||null},s)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),n="button"!==e.type||e.image||i?i:Me,r={[K]:!t&&!!s["background-image"],[Pe]:t,[be]:t};return n&&!t&&(r[n]=!0),(0,f.u)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(G,r),styles:s})}renderActionTitle(e,t){return t?null:(0,f.u)("span",{key:"action-title",class:Q},e)}renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:n,disabled:r,title:l}=i,a={[j]:s&&"button"===i.type,[D]:n||!s&&"toggle"!==i.type,[q]:!n&&"toggle"===i.type,[X]:!n&&"toggle"===i.type&&i.value,[ge]:r},o=[this.renderActionIcon(i),this.renderActionTitle(l,s)];return s?(0,f.u)("div",{bind:this,"data-item":t,"data-action":i,role:"button",key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",title:l,"aria-label":l},o):(0,f.u)("li",{bind:this,"data-item":t,"data-action":i,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",role:"button",title:l,"aria-label":l},o)}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.uid,e),this.scheduleRender()}_hasMessage(e){return!!e.error||e.incompatible}_hasChildren(e){return!!e.children.length&&!this._hasMessage(e)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,s=t.get(i);s&&s.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList(e){let{to:t,from:i,item:s,newIndex:n}=e;const r=s["data-item"],l=t["data-item"],a=i["data-item"];this.viewModel.moveListItem(r,a,l,n)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],i=e.toArray();t?(0,g.YO)(t,i):(0,g.Cl)(this.view?.map?.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:s}=this,n=i.get(t),r=e["data-item"],l=(t===Ze||r.childrenSortable&&(0,g.xA)(r))&&s;if(n)n.option("disabled",!l);else if(l){const s=C.ZP.create(e,{dataIdAttr:L,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${A}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!l,chosenClass:ye});i.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=e?.filter((e=>!e.hidden&&(this.errorsVisible||!e.error)))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){const{_focusSortUid:t}=this;e&&t&&e["data-item"].layer?.uid===t&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const i=Oe+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),i),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const i=xe+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add((0,o.YP)((()=>[e?.className,e?.image,e?.id,e?.title,e?.visible]),(()=>this.scheduleRender()),o.nn),i):this._handles.add((0,o.YP)((()=>[e?.className,e?.id,e?.title,e?.visible,e?.value,e?.displayValueEnabled,e?.max,e?.min,e?.step]),(()=>this.scheduleRender()),o.nn),i):this._handles.add((0,o.YP)((()=>[e?.className,e?.image,e?.id,e?.title,e?.visible,e?.value]),(()=>this.scheduleRender()),o.nn),i)}_renderOnItemChanges(e){const t=e.uid,i=Ee+t;this._handles.add([(0,o.YP)((()=>[e?.actionsOpen,e?.visible,e?.open,e?.updating,e?.title,e?.visibleAtCurrentScale,e?.error,e?.visibilityMode,e?.panel,e?.panel?.title,e?.panel?.content,e?.panel?.className,e?.sortable,e?.childrenSortable]),(()=>this.scheduleRender()),o.tX),(0,o.YP)((()=>[e?.hidden,e?.error]),(()=>this._setVisibleItems(this.operationalItems))),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],i),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._tooltipReferenceMap.clear(),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=(0,r.kK)(e);if(!["ArrowDown","ArrowUp"].includes(t))return void this._toggleSelection(e);e.stopPropagation();const i=e.currentTarget,s=i["data-item"],{_sortableMap:n,selectedItems:l}=this,a=i.dataset.group,o=n.get(a);if(!o)return;const d=(0,g.jt)(s,l),c=o.toArray(),h=e.target,u=c.indexOf(h.dataset.layerUid);if(-1!==u){if("ArrowDown"===t){const e=u+1;if(e>=c.length)return;d?(I(c,u,e),o.sort(c),this._sortLayers(o),this._focusSortUid=s.layer?.uid):(this._focusSortUid=s.layer?.uid,this.scheduleRender())}if("ArrowUp"===t){const e=u-1;if(e<=-1)return;d?(I(c,u,e),o.sort(c),this._sortLayers(o),this._focusSortUid=s.layer?.uid):(this._focusSortUid=s.layer?.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:i}=t,s=!i;s&&this.operationalItems.forEach((e=>Ve(e))),t.actionsOpen=s,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,i=t["data-action"],s=t["data-item"];"toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,s),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),s=t["data-item"];i===Te.exclusive&&s.visible||(s.visible=!s.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=e.currentTarget["data-item"],n=(0,g.jt)(s,i),{length:r}=i;if(!t)return!r||n&&1===r?void(n?i.remove?.(n):i.add(s)):(i.removeAll(),void i.add(s));n?i.remove?.(n):i.add(s)}};(0,s._)([(0,h.Cb)()],Re.prototype,"visibleItems",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"iconClass",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"errorsVisible",void 0),(0,s._)([(0,h.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Re.prototype,"label",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"listItemCanGiveFunction",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"listItemCanReceiveFunction",void 0),(0,s._)([(0,d.B)("viewModel.listItemCreatedFunction")],Re.prototype,"listItemCreatedFunction",void 0),(0,s._)([(0,h.Cb)(),(0,b.H)("esri/widgets/LayerList/t9n/LayerList")],Re.prototype,"messages",void 0),(0,s._)([(0,h.Cb)(),(0,b.H)("esri/t9n/common")],Re.prototype,"messagesCommon",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"multipleSelectionEnabled",void 0),(0,s._)([(0,d.B)("viewModel.operationalItems")],Re.prototype,"operationalItems",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"selectionEnabled",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"selectedItems",void 0),(0,s._)([(0,d.B)("viewModel.view")],Re.prototype,"view",void 0),(0,s._)([(0,v.s)("trigger-action"),(0,h.Cb)({type:y.Z})],Re.prototype,"viewModel",void 0),(0,s._)([(0,h.Cb)()],Re.prototype,"visibleElements",void 0),(0,s._)([(0,c.p)("visibleElements")],Re.prototype,"castVisibleElements",null),(0,s._)([(0,d.B)("viewModel.triggerAction")],Re.prototype,"triggerAction",null),(0,s._)([(0,m.h)()],Re.prototype,"_toggleActionsOpen",null),(0,s._)([(0,m.h)()],Re.prototype,"_triggerPanel",null),(0,s._)([(0,m.h)()],Re.prototype,"_triggerAction",null),(0,s._)([(0,m.h)()],Re.prototype,"_toggleVisibility",null),(0,s._)([(0,m.h)()],Re.prototype,"_toggleChildrenClick",null),(0,s._)([(0,m.h)()],Re.prototype,"_toggleSelection",null),Re=(0,s._)([(0,u.j)("esri.widgets.LayerList")],Re);const Ue=Re},69735:(e,t,i)=>{i.d(t,{Z:()=>f});var s=i(27366),n=i(40281),r=i(91505),l=i(100),a=i(94172),o=i(49861),d=(i(63780),i(93169),i(25243),i(69912)),c=i(95781),h=i(9309);const u="view",p="view-layers",y="map-layers",_="layer-views",g="layer-list-mode",m="children",b=n.Z.ofType(c.Z);let v=class extends r.Z.EventedAccessor{constructor(e){super(e),this._handles=new l.Z,this.listItemCreatedFunction=null,this.operationalItems=new b,this.view=null}initialize(){this._handles.add([(0,a.YP)((()=>[this.view,this.view?.ready]),(()=>this._viewHandles()),a.nn),(0,a.YP)((()=>this.listItemCreatedFunction),(()=>this._listItemCreatedFunctionChanged()))],u)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,i,s){const n=e?.layer;if(!n)return;const r=this.view?.map?.layers,l=t?(0,h.Hh)(t):r,a=i?(0,h.Hh)(i):r;if(!l||!a)return;const{operationalItems:o}=this,d=t?.children||o,c=i?.children||o,u=a.length-s;e.parent=i||null,d.includes(e)&&d.remove(e),l.includes(n)&&l.remove(n),c.includes(e)||c.add(e,u),a.includes(n)||a.add(n,u)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(_),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),_)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(y),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),y)}_createListItem(e){const{view:t,listItemCreatedFunction:i}=this;return new c.Z({layer:e,listItemCreatedFunction:i,view:t})}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`${m}-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==(0,h.aV)(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(g),e&&e.forEach((e=>{"listMode"in e&&t.add((0,a.YP)((()=>e.listMode),(()=>this._compileList())),g)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{_handles:t,operationalItems:i}=this,s=[];i.forEach((i=>{i&&e&&e.includes(i.layer)||(t.remove(`${m}-${i.uid}`),s.push(i))})),i.removeMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,i)=>{const s=e.indexOf(t.layer),n=e.indexOf(i.layer);return s>n?-1:s<n?1:0}))}_listItemCreatedFunctionChanged(){this._removeAllItems(),this._compileList()}_viewHandles(){const{_handles:e,view:t}=this;e.remove([y,_,p]),this._compileList(),t&&t.ready&&e.add([(0,a.YP)((()=>this.view?.map?.allLayers),(e=>this._createMapLayerHandles(e)),a.nn),(0,a.YP)((()=>this.view?.allLayerViews),(e=>this._createLayerViewHandles(e)),a.nn)],p)}};(0,s._)([(0,o.Cb)()],v.prototype,"listItemCreatedFunction",void 0),(0,s._)([(0,o.Cb)({type:b})],v.prototype,"operationalItems",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],v.prototype,"state",null),(0,s._)([(0,o.Cb)()],v.prototype,"view",void 0),v=(0,s._)([(0,d.j)("esri.widgets.LayerList.LayerListViewModel")],v);const f=v},95781:(e,t,i)=>{i.d(t,{Z:()=>R});var s,n=i(27366),r=i(85015),l=i(40281),a=i(41691),o=i(79056),d=i(94172),c=i(8025),h=(i(63780),i(93169),i(89125)),u=i(49861),p=i(69912),y=i(57976),_=i(6945);i(25243);let g=s=class extends y.Z{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};(0,n._)([(0,u.Cb)()],g.prototype,"displayValueEnabled",void 0),(0,n._)([(0,u.Cb)()],g.prototype,"max",void 0),(0,n._)([(0,u.Cb)()],g.prototype,"min",void 0),(0,n._)([(0,u.Cb)()],g.prototype,"step",void 0),(0,n._)([(0,u.Cb)()],g.prototype,"value",void 0),g=s=(0,n._)([(0,p.j)("esri.support.Action.ActionSlider")],g);const m=g;var b=i(9676),v=i(100),f=i(69407),C=i(9309),I=i(53963),w=i(67005);const A="esri-layer-list-panel",L="esri-layer-list-panel__content",S="esri-layer-list-panel__content--legend",k="esri-layer-list-panel__content--string",P="esri-layer-list-panel__content--html-element",M="esri-layer-list-panel__content--widget";let N=class extends((0,o.IG)(f.Z)){constructor(e,t){super(e,t),this._legend=null,this._handles=new v.Z,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([(0,d.YP)((()=>this.content),(e=>this._createLegend(e)),d.nn)])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return(0,w.u)("div",{class:A},this._renderContents())}_renderContent(e){const{_legend:t,listItem:i}=this;return e?"legend"===e?i&&i.view&&i.layer&&t?(0,w.u)("div",{class:this.classes(L,S),key:t},t.render()):null:"string"==typeof e?(0,w.u)("div",{class:this.classes(L,k),key:e,innerHTML:e}):(0,I.Qd)(e)?(0,w.u)("div",{class:this.classes(L,M),key:e},e.render()):e instanceof HTMLElement?(0,w.u)("div",{class:this.classes(L,P),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(){const{listItem:e}=this;if(!e)return{};const{layer:t,view:i}=e;return t&&i?{view:i,layerInfos:[(0,C.yN)(t)]}:{}}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([i.e(4226),i.e(5592),i.e(1508),i.e(4055),i.e(7111),i.e(3798),i.e(9014),i.e(6739),i.e(2927),i.e(6828),i.e(2151),i.e(3070)]).then(i.bind(i,65349)).then((e=>{let{default:t}=e;const{_handles:i,listItem:s}=this,n=new t(this._getLegendOptions());this._legend=n,this.notifyChange("className"),this.notifyChange("title");const r=(0,d.YP)((()=>[s?.view,s?.layer,s?.layer?.source,s?.layer?.parent]),(()=>this._updateLegend(n)),d.nn);i.add(r,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.includes(t)}_attachToNode(e){e.appendChild(this)}_updateLegend(e){e.set(this._getLegendOptions()),this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:(0,I.Qd)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const i=this._getWidget(e);return i&&(t=i),!!i})),t}return this._getWidget(e)}};(0,n._)([(0,u.Cb)()],N.prototype,"className",null),(0,n._)([(0,u.Cb)()],N.prototype,"content",void 0),(0,n._)([(0,u.Cb)()],N.prototype,"image",void 0),(0,n._)([(0,u.Cb)()],N.prototype,"listItem",void 0),(0,n._)([(0,u.Cb)()],N.prototype,"title",null),(0,n._)([(0,u.Cb)()],N.prototype,"open",void 0),(0,n._)([(0,u.Cb)()],N.prototype,"visible",void 0),N=(0,n._)([(0,p.j)("esri.widgets.LayerList.ListItemPanel")],N);const x=N;var O;const E=l.Z.ofType({key:"type",defaultKeyValue:"button",base:y.Z,typeMap:{button:_.Z,toggle:b.Z,slider:m}}),T=l.Z.ofType(E),V="layer",Z="child-list-mode";let F=O=class extends((0,o.IG)((0,a.p)(r.Z))){constructor(e){super(e),this.actionsSections=new T,this.actionsOpen=!1,this.children=new(l.Z.ofType(O)),this.childrenSortable=!0,this.error=null,this.hidden=!1,this.layer=null,this.layerView=null,this.listItemCreatedFunction=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){if(this.handles.add([(0,d.YP)((()=>this.layer),(e=>this._watchLayerProperties(e)),d.nn),(0,d.YP)((()=>this.view),(e=>this._updateChildren(e)),d.nn),(0,d.YP)((()=>this.panel),(e=>this._setListItemOnPanel(e)),d.nn),(0,d.YP)((()=>[this.layer,this.view]),(()=>this._getLayerView()),d.nn)]),"function"==typeof this.listItemCreatedFunction){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.view=null}get connectionStatus(){const{layerView:e}=this;if(e&&"connectionStatus"in e)return e.connectionStatus}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new x(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const{layerView:e,connectionStatus:t}=this;return!t&&(e?e.updating:this._isLayerUpdating(this.layer))}get visibleAtCurrentScale(){return!(0,C.zb)(this.layer,this.get("view.scale"))}get visibilityMode(){return(0,C.sT)(this.layer)}clone(){return new O({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(Z),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add((0,d.YP)((()=>t.listMode),(()=>this._addChildren(e))),Z)}));const t=e.filter((e=>"hide"!==(0,C.aV)(e)));this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),V)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map((e=>(0,C.gF)(e)?new O({layer:e,listItemCreatedFunction:this.listItemCreatedFunction,parent:this,view:this.view}):null)).reverse()}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(V),this.handles.remove(Z),!e)return;if(this.handles.add((0,d.YP)((()=>e.listMode),(()=>this._watchLayerProperties(e))),V),"hide-children"===(0,C.aV)(e))return void this.children.removeAll();const t=(0,C.Ff)(e);t&&this.handles.add((0,d.YP)((()=>e[t]),(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])}),d.nn),V)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=await t.whenLayerView(e);if(i.layer!==this.layer)return;this._set("layerView",i)}catch{}}_isLayerUpdating(e){return e&&"loading"===e.loadStatus}};(0,n._)([(0,u.Cb)({type:T})],F.prototype,"actionsSections",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"actionsOpen",void 0),(0,n._)([(0,u.Cb)({type:l.Z})],F.prototype,"children",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"childrenSortable",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"connectionStatus",null),(0,n._)([(0,c.B)("layer.loadError?")],F.prototype,"error",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"hidden",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"incompatible",null),(0,n._)([(0,u.Cb)()],F.prototype,"layer",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"layerView",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"listItemCreatedFunction",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"open",void 0),(0,n._)([(0,u.Cb)({type:x})],F.prototype,"panel",void 0),(0,n._)([(0,h.p)("panel")],F.prototype,"castPanel",null),(0,n._)([(0,u.Cb)()],F.prototype,"parent",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"sortable",void 0),(0,n._)([(0,u.Cb)()],F.prototype,"title",null),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"updating",null),(0,n._)([(0,u.Cb)({value:null})],F.prototype,"view",void 0),(0,n._)([(0,c.B)("layer.visible")],F.prototype,"visible",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"visibleAtCurrentScale",null),(0,n._)([(0,u.Cb)({readOnly:!0})],F.prototype,"visibilityMode",null),F=O=(0,n._)([(0,p.j)("esri.widgets.LayerList.ListItem")],F);const R=F},9309:(e,t,i)=>{i.d(t,{Cl:()=>h,Ff:()=>a,Hh:()=>p,YO:()=>u,aV:()=>r,gF:()=>d,jt:()=>y,sT:()=>l,xA:()=>o,yN:()=>_,zb:()=>c});const s="hide",n="hide-children";function r(e){if(e)return null!=e.listMode?e.listMode:void 0}function l(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const i=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof i?i?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}function a(e){if(e)return"type"in e?e.listMode!==n&&"wmts"!==e.type?"group"===e.type?"layers":"sublayers":void 0:"sublayers"}function o(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const i=t.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof i||i}function d(e){return r(e)!==s}function c(e,t){if(!e||isNaN(t))return!1;const i=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),s=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),n=!isNaN(i)&&i>0&&t>i,r=!isNaN(s)&&s>0&&t<s;return n||r}function h(e,t){e&&e.sort(((e,i)=>{const s=t.indexOf(e.uid),n=t.indexOf(i.uid);return s>n?-1:s<n?1:0}))}function u(e,t){const i=e?.layer;if(!i)return;const s=a(i);s&&h(i.get(s),t)}function p(e){const t=e?.layer;return t&&"group"===t.type?t.layers:null}function y(e,t){const i=e.layer?.uid;return i&&t.find((e=>e.layer?.uid===i))}function _(e){const t=function(e){return!!e?.layer}(e)?e:null,i=e?.parent,s="map-image"===i?.type&&t.source;return s&&i?{layer:i,title:"",sublayerIds:[s.mapLayerId]}:{layer:e,title:""}}},78088:(e,t,i)=>{i.d(t,{h:()=>n});var s=i(80975);function n(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:l(e[t])}}}function r(e){const{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}function l(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),l=1;l<i;l++)n[l-1]=arguments[l];r(t)?(0,s.pf)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...n)}}},53963:(e,t,i)=>{i.d(t,{Qd:()=>s,o:()=>n});i(78088),i(67005),i(80975);function s(e){return e&&"function"==typeof e.render}function n(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}}}]);
//# sourceMappingURL=7019.c228dff7.chunk.js.map