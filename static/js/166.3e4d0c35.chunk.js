(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[166,282],{143:function(e,t,r){"use strict";r.r(t);var n=r(81),o=(r(79),r(88)),i=(r(80),r(87),r(84)),s=r(93),c=r(96),a=r(83),l=r(94),u=(r(82),r(85),r(86),r(89)),f=r(97),p=r(98),y=r(99),h=r(120),b=r(152);const d=new s.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let m=class extends u.a{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=f.a.fromJSON(t.spatialReference),n=[];for(let i=0;i<e.length;i++){const t=e[i],s=h.a.fromJSON(t),c=t.geometry&&t.geometry.spatialReference;Object(o.k)(s.geometry)&&!c&&(s.geometry.spatialReference=r),n.push(s)}return n}writeGeometryType(e,t,r,n){if(e)return void d.write(e,t,r,n);const{features:i}=this;if(i)for(const s of i)if(s&&Object(o.k)(s.geometry))return void d.write(s.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=Object(p.a)(e);return!r&&t.spatialReference&&(n.spatialReference=f.a.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const n of r)if(n&&Object(o.k)(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e&&e[r];n.geometry=t&&t.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=this.features,c=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((i-e)/r)));for(let a=0,l=s.length;a<l;a++)c(Object(o.q)(s[a].geometry))||(s.splice(a,1),a--,l--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,c]}=r,a=this._getHydrationFunction(e,(e=>e*s+n),(e=>i-e*c));for(const{geometry:l}of t)Object(o.k)(l)&&a(l);return this.transform=null,this}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,c=e.length;s<c;s++){const c=e[s];if(s>0){const e=t(c[0]),s=r(c[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(c[0]),o=r(c[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=Object(p.g)(e)?e.rings:e.paths,o=[];for(let i=0,s=n.length;i<s;i++){const e=n[i],s=this._quantizePoints(e,t,r);s&&o.push(s)}return o.length>0?(Object(p.g)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const n=Object(p.g)(e)?e.rings:e.paths;let o,i;for(let s=0,c=n.length;s<c;s++){const e=n[s];for(let n=0,s=e.length;n<s;n++){const s=e[n];n>0?(o+=s[0],i+=s[1]):(o=s[0],i=s[1]),s[0]=t(o),s[1]=r(i)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const n=e.points;let o,i;for(let s=0,c=n.length;s<c;s++){const e=n[s];s>0?(o+=e[0],i+=e[1]):(o=e[0],i=e[1]),e[0]=t(o),e[1]=r(i)}}:void 0}};Object(n.a)([Object(i.b)({type:String,json:{write:!0}})],m.prototype,"displayFieldName",void 0),Object(n.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"exceededTransferLimit",void 0),Object(n.a)([Object(i.b)({type:[h.a],json:{write:!0}})],m.prototype,"features",void 0),Object(n.a)([Object(c.a)("features")],m.prototype,"readFeatures",null),Object(n.a)([Object(i.b)({type:[b.a],json:{write:!0}})],m.prototype,"fields",void 0),Object(n.a)([Object(i.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:d.read}}})],m.prototype,"geometryType",void 0),Object(n.a)([Object(l.a)("geometryType")],m.prototype,"writeGeometryType",null),Object(n.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"hasM",void 0),Object(n.a)([Object(i.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],m.prototype,"hasZ",void 0),Object(n.a)([Object(i.b)({types:y.a,json:{write:!0}})],m.prototype,"queryGeometry",void 0),Object(n.a)([Object(c.a)("queryGeometry")],m.prototype,"readQueryGeometry",null),Object(n.a)([Object(i.b)({type:f.a,json:{write:!0}})],m.prototype,"spatialReference",void 0),Object(n.a)([Object(l.a)("spatialReference")],m.prototype,"writeSpatialReference",null),Object(n.a)([Object(i.b)({json:{write:!0}})],m.prototype,"transform",void 0),m=Object(n.a)([Object(a.a)("esri.tasks.support.FeatureSet")],m),m.prototype.toJSON.isDefaultToJSON=!0,m||(m={});var O=m;t.default=O},209:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}));var n=r(88),o=r(110),i=r(115);function s(e,t,r){if(Object(n.j)(t)||Object(n.j)(r)||r.vcsWkid||Object(o.c)(t,r))return null;const s=Object(i.g)(t)/Object(i.g)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}(e,s);default:return null}}function c(e,t,r){if(null==e.hasM||e.hasZ)for(const n of t)for(const e of n)e.length>2&&(e[2]*=r)}function a(e,t,r){if(!e&&!t||!r)return;const n=Object(i.g)(r);l(e,r,n),l(t,r,n)}function l(e,t,r){if(e)for(const n of e)u(n.geometry,t,r)}function u(e,t,r){if(!e||!e.spatialReference||Object(o.c)(e.spatialReference,t))return;const n=Object(i.g)(e.spatialReference)/r;if(1!==n)if("x"in e)null!=e.z&&(e.z*=n);else if("rings"in e)c(e,e.rings,n);else if("paths"in e)c(e,e.paths,n);else if("points"in e&&(null==e.hasM||e.hasZ))for(const o of e.points)o.length>2&&(o[2]*=n)}},239:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return O}));var n=r(88),o=r(82),i=r(255);const s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=/(.*)\/(\d+)\/?$/i;function u(e){return!!c.test(e)}function f(e){const t=Object(o.J)(e),r=t.path.match(c)||t.path.match(a);if(!r)return null;const[,n,i,s,l]=r,u=i.indexOf("/");return{title:y(-1!==u?i.slice(u+1):i),serverType:s,sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:n}}}function p(e){const t=Object(o.J)(e).path.match(l);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function y(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,t){const r=[];if(e){const t=f(e);Object(n.k)(t)&&t.title&&r.push(t.title)}if(t){const e=y(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function b(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function d(e,t){return e?Object(o.H)(Object(o.G)(e,t)):e}function m(e){let{url:t}=e;if(!t)return{url:t};t=Object(o.G)(t,e.logger);const r=Object(o.J)(t),i=f(r.path);let s;if(Object(n.k)(i))null!=i.sublayer&&null==e.layer.layerId&&(s=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=p(r.path);Object(n.k)(e)&&(t=e.serviceUrl,s=e.sublayerId)}return{url:Object(o.H)(t),layerId:s}}function O(e,t,r,n,s){Object(i.f)(t,n,"url",s),n.url&&null!=e.layerId&&(n.url=Object(o.y)(n.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),o=-1!==t.indexOf("/imageserver/wmsserver"),i=-1!==t.indexOf("/wmsserver");return r&&(n||o||i)}function j(e){if(!e)return!1;const t=new o.a(Object(o.z)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},267:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(209);function o(e,t,r){if(!r||!r.features||!r.hasZ)return;const o=Object(n.a)(r.geometryType,t,e.outSpatialReference);if(o)for(const n of r.features)o(n.geometry)}}}]);
//# sourceMappingURL=166.3e4d0c35.chunk.js.map