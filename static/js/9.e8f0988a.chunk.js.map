{"version":3,"sources":["../node_modules/@arcgis/core/chunks/NativeLine.glsl.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js"],"names":["n","p","o","include","i","linearDepth","s","a","vertex","uniforms","add","attributes","varyings","code","e","stippleEnabled","stippleIntegerRepeatsEnabled","output","t","r","fragment","attributeColor","float","l","Object","freeze","__proto__","build","extensions","d","multipassTerrainEnabled","OITEnabled","g","x","y","spatialReference","length","z","R","points","j","paths","b","forEach","push","c","rings","reverse","isSelfIntersecting","f","T","mapToLocalMultiple","Math","round","max","abs","M","map","localToMap","doUnnormalization","U","w","m","h","sqrt","u","center","radius","radiusUnit","PI","cos","sin","main","selected","staged","outline","selectedOutline","clone","this","color","height","coneHeight","coneWidth","width","renderOccluded","size","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","extensionType","W","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","visualElements","reshapeManipulators","zManipulator","data","material","layerUid","graphicUid","boundingSphere","instanceParameters","highlights","occludees","visible","shaderTransformationDirty","boundingInfo","origin","transformation","calculateShaderTransformation","updateTransformation","castShadow","computeBoundingSphere","getCenter","getBSRadius","primitiveType","shaderTransformation","computeAttachmentOrigin","indices","get","vertexAttributes","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","layerView","view","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","renderer","removeGeometries","geometries","addGeometries","drapeSourceType","constructOnly","prototype","readOnly","E","_attachmentOrigin","_","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","P","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","D","console","error","destroy","updateAttached","laserlineAttached","isDraped","laserlineEnabled","updateMaterial","isClosed","A","renderCoordsHelper","fromRenderCoords","materialParameters","geometry","type","join","stippleIntegerRepeats","polygonOffset","normalizedRenderOccluded","createRenderGeometries","addGeometry","emit","O","lines","position","attributeData","removeDuplicateStartEnd","G","Float64Array","elevationProvider","v","fromElevationInfo","elevationInfo","mapPosition","pathVerticalPlane","_vertices","_spatialReference","colorToVec4","_size","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","screenSize","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","projectionSuccess","sampledElevation","vertexGeometry","vertexOutlineGeometry","writeDepth","cullFace","screenSizeEnabled","shadingEnabled","createSphereGeometry","offset","tracking","displaying","EventedAccessor","drawOperation","_createGraphic","_createGraphicState","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","hasZ","defaultZ","snapToScene","snappingManager","mode","geometryType","_internalGraphicsLayer","listMode","internal","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","elevationDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","remove","_set","onInputEvent","hasStagedVertex","slice","splice","regularVertices","stagedVertices","full","viewingMode","coordinateHelper","createPointFromArray","makeMapPoint","I","resolution","forceUniformSize","centered","S","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","handles","_getCreateGeometry","apply","V","symbol","createGraphicSymbol","maskOccludee","graphic","trackGraphicState","notifyChange","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","EventedMixin","nonNullable","value","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","watch","visualElement","writeDepthEnabled","angleCutoff","L","update","setStartEndFromWorldDownAtLocation","renderLocation","heightManifoldTarget","attachmentOrigin","toRenderCoords","onManipulatorsChanged","extent","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","ceil","action","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","atan2","_available","forEachManipulator3D","location","elevationAlignedLocation","available","someManipulator","dragging","_handles","_arrowManipulatorInfos","Array","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_radius","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","transform","createExtrudedTriangle","transformInPlace","renderObjects","stateMask","_createArrowManipulator","displayScale","modelTransform","autoScaleRenderObjects","worldOriented","focusMultiplier","touchMultiplier","collisionType","direction","arrowManipulators","k","lastDragEvent","_enabled","mapEnd","snap","screenEnd","mapStart","screenStart","execute","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","selectable","cursor","collisionPriority","applyObjectTransform","state","camera","eye","computeRenderPixelSizeAtDist","worldUpAtPosition","fullWidth","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","focused","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","X","dx","dy","Y","graphics","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","buildSnappingPipelineSteps","destroyed","toScreen","pointer","fromGeometry","visualizer","excludeFeature","snapOrigin","fromPoint","createSnapDragEventPipelineStep","snappingContext","Z","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","H","_snappingPipelineHandle","_vertexLaserLineVisualElement","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","q","editGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","N","info","F","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","grabbable","_watchAndUpdateGrabState","_clearSelection","predicate","_updateMoveManipulationPosition","Vertex","Edge","layer","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","indexOf","toPoint","K","splitEdge","createdVertex","component","coordinates","componentIndex","index","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","scale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","allLayerViews","find","heading","getSymbolLayerSize","ct","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","fromPositionAndNormal","normal","plane","renderStart","renderEnd","shortestSignedDiff","lt","onScaleChanged","gt","B","wrap","distance2","ht","xScale","yScale","applySymbolData","startAnimation","dt","ut","updateDelayedFocusedState","updateStateEnabled","createPathExtrusionGeometry","$","et","st","concat","enforceNonZeroSize","depth","computeRenderPixelSizeAt","projectToRenderScreen","mt","renderToScreen","pt","min","enableRotation","enableScaling","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","stippleTextureBind","stippleTextureRepository","shader","configuration","vertexColors","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","stippleOffColorEnabled","stippleUVMaxEnabled","rctx","generateSource","release","bindProjectionMatrix","program","projectionMatrix","swap","pixelRatio","setUniform1i","setUniform1f","setUniform2f","fullViewport","setUniform4fv","setUniform4f","bindOutputHighlight","bindView","bindUniformsWithOrigin","blending","depthTest","depthWrite","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","_occludeePipelineState","pipeline","arguments","count","getLogger","techniqueConfig","params","intersectLineGeometry","options","selectionMode","point","unprojectFromRenderScreen","fromPoints","J","Q","Number","MAX_VALUE","signedDistance","frustum","rayBeginPoint","rayEndPoint","closestLineSegmentPoint","vec3f","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","hasOccludees","_updateOccludeeState","bindProgram","bindPass","getPassParameters","getPipelineState","vertexBufferLayout","createBuffer","invTranspTransformation","writeAuxpos1","getField","typedBufferStride","typedBuffer","create","backgroundColor","gridColor","gridWidth","func","constructionContext","transparencyPassType","cullAboveGround","opacity","setUniform2fv","nearFar","inverseViewport","culling","face","enableOffset","setPipelineState","supportsEdges","relativeElevation","updateTexture","textureId","bindTexture","bindTextureScale","initTextureTransparent","tilt","equals","json","read","write","range","normalize","Be","basis","basis1","basis2","qe","He","We","Xe","createPolylineGeometry","ye","idHint","Ye","padding","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","part","Ze","tubeRadius","tubeFocusMultiplier","flat","thickness","_e","tt","adjustScaleFactors","factor1","factor2","operation","dz","axis1","axis2","ft","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","reshapeHelper","graphicMoveManipulation","_createMoveXYGraphicDragPipeline","ke","addCap","ee","updateManipulatorAvailability","_createMoveZDragPipeline","_onResizeGrab","_createResizeDragPipeline","addMany","rotateManipulatorTexture","mipmap","preMultiplyAlpha","_stage","Oe","id","Uint32Array","exclusive","ie","_onRotateGrab","_createRotateDragPipeline","updateDisplayBounds","updateAllManipulatorAvailability","graphicDrapedChanged","pointsOfInterest","focus","Mt","bt","pixelSizeAt","POSITIVE_INFINITY","NEGATIVE_INFINITY","copy","updateUnboundedPlane","displayBoundsMargin","updateManipulators","St","applyGraphicMoveSteps","_moveDragUpdateGeometry","yt","_calculatePickRay","screenPoint","intersectRay","_resizeDragRenderPlaneToFactors","_resizeDragUpdateGeometry","it","Bt","scaleVertices","fromXYZ","at","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","fromScreen","updateZMoveHandle","ot","lastOperation","vt","activeTool","xoffset","yoffset","stops","maxSize","minSize","floor","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","_focused","originalPoint","mapPoint","radiusPx","renderSpatialReference","origins","String","url","writer","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","then","itemRelativeUrl","catch","toAdd","content","finish","Blob","JSON","stringify","toJSON","default","responseType"],"mappings":"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","file":"static/js/9.e8f0988a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{LineStipple as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";function n(n){const p=new o;return p.include(i,{linearDepth:!1}),p.include(s,n),p.include(a,n),p.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),p.attributes.add(\"position\",\"vec3\"),p.varyings.add(\"vpos\",\"vec3\"),p.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      gl_Position = transformPosition(proj, view, vpos);\n  `),n.stippleEnabled&&(p.attributes.add(\"auxpos1\",\"vec3\"),p.vertex.uniforms.add(\"ndcToPixel\",\"vec2\"),p.vertex.code.add(e`\n    vec4 vpos2 = transformPosition(proj, view, auxpos1);\n    float lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);\n\n    stipplePatternUv = lineSegmentPixelSize * stipplePatternPixelSizeInv;\n    ${n.stippleIntegerRepeatsEnabled?\"stipplePatternUv = floor(stipplePatternUv + 0.5);\":\"\"}\n\n    // Cancel out perspective correct interpolation because we want this length the really represent\n    // the screen distance\n    stipplePatternUv *= gl_Position.w;\n    `)),p.vertex.code.add(e`\n  }\n  `),4===n.output&&p.include(t),p.include(r,n),p.fragment.uniforms.add(\"constantColor\",\"vec4\").add(\"alphaCoverage\",\"float\"),p.fragment.code.add(e`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${n.attributeColor?\"vColor\":\"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${e.float(l)}) {\n      discard;\n    }\n\n    ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${4===n.output?e`outputHighlight();`:\"\"}\n  }\n  `),p}var p=Object.freeze({__proto__:null,build:n});export{p as N,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`\n    void main(void) {\n      vUV = uv0;\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`\n    void main() {\n      const float LINE_WIDTH = 1.0;\n\n      vec2 uvScaled = vUV * gridWidth;\n      vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\n      vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\n\n      // mask aliasing along edges\n      grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\n      grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\n\n      float gridFade = max(grid.x, grid.y);\n\n      float gridAlpha = gridColor.a * gridFade;\n\n      // premultiply alpha in output\n      gl_FragColor =\n        vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\n        vec4(gridColor.rgb, 1.0) * gridAlpha;\n    }\n  `),r}var a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{defaultMaskAlphaCutoff as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";function s(s){const n=new a;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(i,s),s.multipassTerrainEnabled&&(n.fragment.include(d),n.include(l,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(o),n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}var n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{isSome as t,filterNones as o,isNone as n}from\"../../../core/maybe.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{isValid as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import s from\"../../../geometry/Point.js\";import i from\"../../../geometry/Multipoint.js\";import{unnormalizeGeometryOnDatelineCrossing as l,isClockwise as y,unnormalizeVerticesOnDatelineCrossing as c}from\"../../../geometry/support/coordsUtils.js\";import p from\"../../../geometry/Polygon.js\";import x from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as m}from\"../../../core/unitUtils.js\";import u from\"../../../geometry/Circle.js\";import{simplify as f,distance as h}from\"../../../geometry/geometryEngine.js\";import{makeSurfacePoint as M}from\"./surfaceCoordinateSystems.js\";function g(e,o,n=null){return t(n)?[e,o,n]:[e,o]}function d(e,t){const o=new s({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function R(e,t){return new i({points:e,spatialReference:t})}function j(e,t,o){const n=new x({paths:e,spatialReference:t});return o&&l(n),n}function b(t,o,n,s=!0){const i=e(t);i.forEach((e=>{const t=e[0],o=e[e.length-1];r(t,o)&&1!==e.length||e.push(e[0])}));let c=new p({rings:i,spatialReference:o});return c.rings.forEach((e=>{y(e,!1,!1)||e.reverse()})),n&&l(c),s&&c.isSelfIntersecting&&a(o)&&(c=f(c)),c}function T(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(M(e.x,t.y),M(t.x,t.y),M(t.x,e.y),M(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(M(s.x,s.y),M(e.x,s.y),M(e.x,e.y),M(s.x,e.y))}return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function U(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[M(t.x-e,t.y+e),M(t.x+e,t.y-e),M(t.x+e,t.y-e),M(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(M(s.x-e,s.y-t),M(i.x,s.y-t),M(i.x,i.y),M(s.x-e,i.y))}else a.push(M(s.x,s.y),M(i.x,s.y),M(i.x,i.y),M(s.x,i.y));return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,o,r){const s=t.mapToLocalMultiple(e);let i=null,l=null;if(o)i=s[0],l=s[1];else{const e=s[0],t=s[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));i=M(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),l=M(Math.abs(o)>Math.abs(n)?i.x-r/2:i.x,Math.abs(o)>Math.abs(n)?i.y:i.y-r/2)}const y=t.localToMap(i),p=t.localToMap(l);if(n(y)||n(p))return null;t.doUnnormalization&&c([[y,p]],t.spatialReference);const x=d(y,t.spatialReference),f=d(p,t.spatialReference),g=m(t.spatialReference);let R=0;if(a(t.spatialReference))R=g*h(x,f,null);else{const e=i.x-l.x,t=i.y-l.y;R=g*Math.sqrt(e*e+t*t)*(r||1)}const j=new u({center:x,radius:R,radiusUnit:\"meters\",spatialReference:t.spatialReference});return b(j.rings,j.spatialReference,!1)}function z(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=M(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,m=[],u=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*u),t=Math.sin(o*u),n=M(c*e+y.x,p*t+y.y);m.push(n)}return m.push(m[0]),b([o(m.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{w as createCircle,z as createEllipse,R as createMultipoint,d as createPoint,b as createPolygon,j as createPolyline,U as createRectangle,T as createSquare,g as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,i){const e=t.clone();return e.a*=i,e}function h(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,i){if(i)for(const e in i)t[e]=i[e]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:b(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),c(this,t)}}class p{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class g{constructor(t){this.outline=new p({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new p({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class C{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class m extends p{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new g,this.pointGraphics=new C,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new m({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class O{constructor(t){this.visualElements=new W,this.reshapeManipulators=new u,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(i){return o(t.toUnitRGBA(i))}const z=new O;export{s as colors,z as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{a as h}from\"../../../../chunks/vec4f64.js\";import{computeAttachmentOriginTriangles as m}from\"./geometryDataUtils.js\";import{Object3DStateID as u}from\"./Object3DStateID.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";class c{constructor(t,i,r=null,s=null,a,n,e,o,m){this.data=t,this.material=i,this.layerUid=r,this.graphicUid=s,this.boundingSphere=h(),this.instanceParameters={highlights:null,occludees:null,visible:!0},this.shaderTransformationDirty=!0,this.boundingInfo=a,this.material=i,this.origin=null,this.transformation=null,this.calculateShaderTransformation=e,n&&this.updateTransformation(n,o),this.castShadow=m}updateTransformation(t,i){this.transformation=t,this.shaderTransformationDirty=!0,this.computeBoundingSphere(t,i,this.boundingSphere)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}computeBoundingSphere(i,r,n){t(this.boundingInfo)||(r=r||a(i),s(n,this.boundingInfo.getCenter(),i),n[3]=this.boundingInfo.getBSRadius()*r)}get hasShaderTransformation(){return i(this.calculateShaderTransformation)}get primitiveType(){return this.data.primitiveType}getShaderTransformation(){return t(this.calculateShaderTransformation)?r(this.transformation,e):(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(r(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0);const r=this.indices.get(\"position\"),a=this.vertexAttributes.get(\"position\");return!!m(a,r,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0)}get indices(){return this.data.indices}get vertexAttributes(){return this.data.vertexAttributes}addHighlight(){const t=new u(0),i=this.instanceParameters;return i.highlights=d(i.highlights,t),t}removeHighlight(t){const i=this.instanceParameters;i.highlights=f(i.highlights,t)}}export{c as RenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as o,a as n}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c,s as d}from\"../../../../chunks/vec4.js\";import{empty as u,expandWithBuffer as p,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{f,a as g}from\"../../../../chunks/vec4f32.js\";import{makeDehydratedPoint as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as y}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as v}from\"../../layers/graphics/ElevationContext.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{RenderGeometry as w}from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as C,createGeometry as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{LaserlineVisualElement as D}from\"./LaserlineVisualElement.js\";import{VisualElementResources as j}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class E{constructor(e){this.view=null,this._attachmentOrigin=_(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=f(1,0,1,1),this._innerWidth=0,this._innerColor=f(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new j({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new D({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?g(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(M,0,0,0);let s=0;for(const e of r){const r=e.vertexAttributes.get(\"position\"),i=e.indices.get(\"position\"),a=t(this.resources.resources).material.isClosed(r.data,i);y(r,i,a,A)&&(o(M,M,A),s++)}return 0===s?null:(n(M,M,1/s),this.view.renderCoordsHelper.fromRenderCoords(M,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new O(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new O(this.materialParameters);return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=C(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:r}of s.lines){const t={attributeData:{position:r},removeDuplicateStartEnd:this.isClosed?1:0},s=new w(R(t),e),a=u(G);p(a,r),d(s.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);l(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),p(e,i)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,v.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:r,mapPosition:a}of t.lines){const e={attributeData:{position:r,mapPosition:a},removeDuplicateStartEnd:this.isClosed?1:0};s.push(R(e)),i.push(r)}return this._laserline.pathVerticalPlane=i,s}}const G=m(),A=i(),M=i();export{E as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{Object3D as c}from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h){const j=n?n.length:0,y=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(y)&&!s(y,u))return null;const v=t.renderCoordsHelper.spatialReference;o(r,u,v);const w=t.localOriginFactory.getOrigin(u),x=new c({castShadow:!1,metadata:{layerUid:g,graphicUid:d,usesVerticalDistanceToGround:!0}});for(let e=0;e<j;e++){const t=l?l[e]:i;x.addGeometry(n[e],a[e],t,m,w,h)}return{object:x,sampledElevation:p(x,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import{ShadedColorMaterial as c}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as h}from\"../editingTools/settings.js\";class u extends n{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=h.colorToVec4(h.reshapeManipulators.vertex.color),this._size=h.reshapeManipulators.vertex.size,this._outlineColor=h.colorToVec4(h.reshapeManipulators.vertex.outlineColor),this._outlineSize=h.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=.5,s=.5,a=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),n=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const t=r(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,t),l=p(s,t);n.push({vertexGeometry:a,vertexOutlineGeometry:l})}return n}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new c({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new c({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=t();function p(e,t){return a.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import o from\"../../../../../Graphic.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{HandleOwnerMixin as h}from\"../../../../../core/HandleOwner.js\";import p from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as u}from\"../../../../../support/elevationInfoUtils.js\";import{DrawOperation as d}from\"./DrawOperation.js\";import{SceneDrawSurface as m,ElevationDrawSurface as y}from\"./drawSurfaces.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{createViewAlignedCoordinateSystem as g}from\"../../../../draw/support/surfaceCoordinateSystems.js\";import{settings as _}from\"../settings.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as V}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as w}from\"../../../layers/graphics/GraphicState.js\";import{createSquare as G,createRectangle as E,createCircle as O,createEllipse as S,createPolygon as b,createPolyline as j}from\"../../../../draw/support/createUtils.js\";let C=class extends(h(l.EventedMixin(v))){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingManager=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new p({elevationInfo:e,listMode:\"hide\",internal:!0}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new d({view:this.view,manipulators:this.manipulators,geometryType:x(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new m(this.view,e,[this._internalGraphicsLayer]),elevationDrawSurface:new y(e,this.defaultZ,this.view,this._internalGraphicsLayer),hasM:!1,elevationInfo:e,snappingManager:this.snappingManager}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,l=n.slice(),o=[];i(r)&&(l.splice(r,1),o.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=l,c.stagedVertices=o,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=j([n],a,h));break;case\"polygon\":c.regularVertices=l,c.stagedVertices=o,n.length>0&&(c.full=b([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=O([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?O(s,e,this.centered):S(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=g(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+I*this.view.resolution,t[1]);c.full=G([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?G(s,e,this.centered):E(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=j([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=b([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=b(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null),this._createGraphicState=null,this.handles.remove(T)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo;i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new f({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:i(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===u(this.hasZ,a),attached:!1}),_.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),_.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new V({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:_.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=_.colorToVec4(_.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new o({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this._createGraphicState=new w({graphic:this._createGraphic}),this.handles.add([this.view.trackGraphicState(this._createGraphicState),c(this._createGraphicState,\"isDraped\",(e=>{i(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))],T),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new o({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([a()],C.prototype,\"createGraphicSymbol\",void 0),e([a()],C.prototype,\"createGraphic\",null),e([a({value:!0})],C.prototype,\"enabled\",null),e([a({value:!0})],C.prototype,\"centered\",null),e([a({value:!0})],C.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],C.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],C.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],C.prototype,\"elevationInfo\",void 0),e([a()],C.prototype,\"snapToScene\",void 0),e([a()],C.prototype,\"snappingManager\",void 0),e([a({constructOnly:!0})],C.prototype,\"mode\",void 0),e([a({constructOnly:!0})],C.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],C.prototype,\"type\",void 0),C=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],C);const I=48,T=\"create-graphic\";export{C as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as g}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as f}from\"./ManipulatorState.js\";function v(e){const{view:a,graphic:n}=e,i=new g({graphic:n}),l=y(e,i),s=[l,E(e,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>t(s).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(e,l,s){const{graphic:o,view:r}=e,h=[],d=c(o),g=\"on-the-ground\"===d.mode||!d.offset&&\"absolute-height\"!==d.mode,v=new f,y=new m({view:r,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(y);const E=i(u.visualElements.heightPlaneAngleCutoff),j=new p({view:r,attached:!1,angleCutoff:E});u.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(e),!s.displaying||g&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,u.visualElements.lineGraphics.shadowStyle.apply(l,e),u.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,u.visualElements.heightPlane.apply(j,e))}w(y,v),b(e,l,j,v)};u.visualElements.zVerticalLine.apply(y),h.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),a(y),a(j));const D=[],C=()=>{t(D).remove(),D.length=0,e.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),e.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),h.push(e.onManipulatorsChanged(C),n((()=>t(D)))),t(h)}function w(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}function b(t,a,n,i){if(i.numSelected>0){s(j,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(j,j,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(j,j,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,j)?(n.heightManifoldTarget=j,n.attached=!0):n.attached=!1}}function S(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const j=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{GraphicState as j}from\"../../layers/graphics/GraphicState.js\";import{ManipulatorState as b}from\"./ManipulatorState.js\";function x(e){const{view:n,graphic:o}=e,i=new j({graphic:o}),r=[],a=L(e,i,r);return S(e,i,r,a),r.push(n.trackGraphicState(i)),{visualElement:a,remove(){t(r).remove()}}}function S(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),j=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(j);const x=g(e.graphic),S=f.fromElevationInfo(x),L=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,P=new b;let A=1,C=1;const D=()=>{P.update(e);const n=L&&(t.isDraped||!M(l)||!l.geometry.hasZ);let o=!0;if(!n&&M(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,S,s.renderCoordsHelper);a(R,e.x,e.y,t),p(R,e.spatialReference,R,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(R),m.intersectsWorldUpAtLocation=R}else o=!1;const i=2&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;i!==A&&(A=i,w.visualElements.heightPlane.apply(j,i));const g=h(U);!n&&t.displaying&&r.calculateMapBounds(g)&&p(u(g,R),s.spatialReference,R,s.renderCoordsHelper.spatialReference)?(j.heightManifoldTarget=R,j.attached=!0):j.attached=!1;const f=4&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;f!==C&&(C=f,w.visualElements.pointGraphics.shadowStyle.apply(m,f));const v=o&&t.displaying&&!n;m.attached=v,c.attached=v};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(j)),D()}function L(e,t,o){const{view:i,graphic:r}=e,a=new E({view:i,geometry:M(r)?r.geometry:null,elevationInfo:g(r),attached:!1});return P(e,a,t,o),o.push(n(a)),a}function P(e,t,n,o){const i=()=>t.attached=n.displaying;A(e,t,n,o),w.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function A(t,n,i,r){const{view:a,graphic:s}=t;let l=null;const p=()=>{e(l)&&(l.remove(),l=null),i.isDraped&&M(s)&&(l=C(a,s.geometry,(()=>{n.geometry=s.geometry})))},c=()=>{p(),n.geometry=M(s)?s.geometry:null};r.push(i.on(\"changed\",c),o((()=>l))),c()}function C(e,t,n){const o=e.elevationProvider.spatialReference;c(t,R,o);const i=R[0],r=R[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}function M(t){return e(t.geometry)&&\"point\"===t.geometry.type}const R=r(),U=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a){const c=t.graphic,i=(t,e)=>r({action:t,graphic:c,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const o=r.next((t=>(\"start\"===t.action&&i(\"start\",t),t))).next(e(c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&i(\"update\",t);break;case\"end\":i(\"end\",t)}return t}));return a.next(n(c)).next((()=>{i(\"end\",{screenDeltaX:0,screenDeltaY:0})})),o}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as M}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as w,dragAtLocation as v,constrainToMapAxis as j,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as A}from\"../dragEventPipeline3D.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{colors as T}from\"../settings.js\";import{DISC_RADIUS as b,DISC_HEIGHT as x,DISC_TRANSLATE_ARROW_OFFSET as D,DISC_TRANSLATE_ARROW_SIZE as P}from\"./config.js\";import{Manipulation as k}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as E}from\"./moveUtils.js\";class S extends k{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=b,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r,e){const i=r.graphic,o=d(i),s=t(i.geometry).spatialReference;return E(r,e,(t=>this.createDragPipeline(((r,e,i,o,s)=>t(r,a(r,e,i,o,s),i)),o,s,i)))}createDragPipeline(t,r,e,i){return a(this._arrowManipulatorInfos.map((({manipulator:a},o)=>w(a,((a,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(v(this._view,a.elevationAlignedLocation)).next(A(this._view,a.elevationAlignedLocation,r,e,i)).next(j(a.location,this.angle+(o+1)*Math.PI*.5)).next(y());t(a,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/b,i=P*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,x);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0))),t.renderObjects=[{geometry:h,material:this._opaqueMaterial,stateMask:2},{geometry:h,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const m=l(_.get());p(m,r*Math.PI/2);const c=l(_.get());n(c,o(f.get(),0,D*e,0)),u(a,m,c)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const i of this._arrowManipulatorInfos){const t=u(_.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new I({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(T.main);return a[3]*=t,new M({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{S as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as m,dragAtLocation as h,addScreenDelta as d}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as _}from\"../dragEventPipeline3D.js\";import{Manipulator3D as f}from\"../../Manipulator3D.js\";import{colors as g}from\"../settings.js\";import{DISC_RADIUS as M,DISC_HEIGHT as j,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as y}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as v}from\"./moveUtils.js\";import{SnapToScene as w}from\"../snapping/SnapToScene.js\";class b extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new w,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=M,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i,a){const r=i.graphic,s=n(r),o=t(r.geometry).spatialReference;return v(i,a,(t=>this.createDragPipeline(((i,a,r,s,o)=>t(i,e(i,a,r,s,o),r)),s,o,r)))}createDragPipeline(t,e,i,a){const r=this._view;return m(this._manipulator,((s,o,n,l,p)=>{const c=o.next(h(r,s.elevationAlignedLocation)).next(_(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(d());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new f({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=c.createCylinderGeometry(j,1,S,i(0,0,1),i(0,0,0)),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=y*(this._radius/M)}_createMaterial(t=1){const i=e.toUnitRGBA(g.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{darken as u}from\"../../../../../core/colorUtils.js\";import{t as h,e as d,s as f}from\"../../../../../chunks/mat4.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as g,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as j}from\"../dragEventPipeline3D.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w}from\"../../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{DISC_RADIUS as z}from\"./config.js\";import{Manipulation as b}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as P}from\"./moveUtils.js\";class x extends b{constructor(t){super(),this._handles=new c,this._radius=z,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r,a){const i=t(r.graphic.geometry).spatialReference;return P(r,a,(t=>this.createDragPipeline(((r,a,i,o,s)=>t(r,e(r,a,i,o,s),i)),i)))}createDragPipeline(t,e){const r=this._view;return g(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(j(r,a.renderLocation,e)).next(y());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/z,e=k.zManipulator.height*t,r=k.zManipulator.coneHeight*t,a=k.zManipulator.coneWidth*t,o=k.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=_.createTubeGeometry(s,o/2,16,!1),l=_.createConeGeometry(r,a/2,16,!1),m=[i(0,0,0),i(0,0,e+r)],p=(t=>{const r=M();if(h(r,r,[0,0,e]),d(r,r,Math.PI/2),t){const e=1+2*t/a;f(r,r,[e,e,e])}return r})(0),c=(t,e)=>{const r=u(k.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,k.zManipulator.color.a*t]},g=w(c(1,.25),1),y=w(c(1,0),1),j=w(c(.7,0),k.zManipulator.renderOccluded),v=w(c(.85,0),k.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:l,transform:p,material:g,stateMask:1},{geometry:n,material:g,stateMask:1},{geometry:l,transform:p,material:y,stateMask:2},{geometry:n,material:y,stateMask:2},{geometry:l,transform:p,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:l,transform:p,material:v,stateMask:2},{geometry:n,material:v,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[m]}}createManipulator(){const t=new v({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(E,a,e.eye);n(u,u);const h=O;this._view.renderCoordsHelper.worldUpAtPosition(D,h);const d=Math.abs(l(u,h)),f=m(E,u,h),M=m(E,f,h),_=r(d,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/z,j=k.zManipulator.width*y;p(M,n(M,M),(1/g-1)*i+c*j),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}}const D=a(),E=a(),O=a();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a,e){return t([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),a,e)])}createDragPipeline(i,a,e,n){return t([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),a,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),a,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as n}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import l from\"../../../../../core/Collection.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h,getConvertedElevation as c}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as m}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{EditGeometry as u}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as d}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as g}from\"../../../../interactive/snapping/SnappingContext.js\";import{dragGraphicMany as v,resetGraphicMany as f}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as y}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as M}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as w}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as j}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as _}from\"./isSupportedGraphic.js\";import{canMoveZ as b}from\"../manipulatorUtils.js\";import{OutlineVisualElement as x}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{DISC_RADIUS as P}from\"../manipulations/config.js\";import{shapeOrientation as A}from\"../manipulations/moveUtils.js\";import{MoveManipulation as D}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as G}from\"../manipulations/MoveXYGraphicManipulation.js\";class z{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class X{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class Y{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let O=class extends(r.EventedMixin(w)){constructor(t){super(t),this.graphics=new l,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new p,this._handles=new p,this.snappingPipeline=new y}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===_(t))).map((t=>new R(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new G({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new D({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?D.radiusForSymbol(t[0].graphic.symbol):P});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const n=t[t.length-1];this._handles.add(n.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(n)))),this._handles.add(i.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),h(n.graphic),e(n.graphic.geometry).spatialReference,n.graphic)),this.updateMoveManipulationAngle(n)}createVisualElements(t){for(const e of t){const i=e.graphic,a=S({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>n()});e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof x&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(a)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>A(t.graphic.geometry)}updateMoveManipulation(t){const e=m(0,0,0,this.view.spatialReference);let a=0,n=!1;const o=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&b(t)&&(n=!0);const o=s.geometryRepresentation instanceof x&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:j(this.view,t);i(o)&&(e.x+=o.x,e.y+=o.y,e.z+=o.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,o.location=e,o.xyManipulation.available=!0,o.xyAxisManipulation.available=!0,o.zManipulation.available=n):o.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let l=null,p=null;const c=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,l=null,p=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,h(e),a,n,o)}const m=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,l=v(r),p=f(r),this.emit(\"graphic-move-start\",new z(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>l(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new X(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()}}));return n.next((t=>p(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new Y(r)),this.destroyed)return null;c()})),m}buildSnappingPipelineSteps(t,e,i,n,o){const s=t.geometry;if(a(s)||\"point\"!==s.type)return i;const r=new g({elevationInfo:e,pointer:o,geometry:new d(u.fromGeometry(s,this.view.viewingMode),\"point\"),visualizer:new M,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{const i=s.clone();i.z=c(this.view,i,h(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:r.coordinateHelper.fromPoint(i)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:r,snappingManager:l,cancel:n}),this.snappingPipeline.next)}};t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),t([o({readOnly:!0})],O.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],O.prototype,\"enableZ\",void 0),t([o({constructOnly:!0})],O.prototype,\"snappingManager\",void 0),t([o({readOnly:!0})],O.prototype,\"type\",void 0),O=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],O);class R{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new E({graphic:t})}get graphic(){return this.state.graphic}}export{X as GraphicMoveEvent,z as GraphicMoveStartEvent,Y as GraphicMoveStopEvent,O as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{e as h,s as u,b as c,a as d}from\"../../../../../chunks/vec3.js\";import m from\"../../../../../core/Handles.js\";import{init as g}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as v}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as M}from\"../../../support/stack.js\";import f from\"../../../webgl-engine/lib/GeometryUtil.js\";import{EditGeometry as y}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as x}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as b}from\"../../../../interactive/snapping/SnappingContext.js\";import{addMapDelta as G,createManipulatorDragEventPipeline as S,dragAtLocation as E}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingPipeline as H}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as I}from\"../../SnappingVisualizer3D.js\";import{screenToMapXYForGraphicAtLocation as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as P}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w,createManipulatorOutlineMaterial as V,placeAtGraphic as D}from\"../../manipulatorUtils.js\";import{canMoveZ as j}from\"../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{OutlineVisualElement as A}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as U}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as L}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as C}from\"../manipulations/config.js\";import{shapeOrientation as T}from\"../manipulations/moveUtils.js\";import{MoveManipulation as z}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as F}from\"../manipulations/MoveXYGraphicManipulation.js\";let Z=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.vertex.color),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.outlineColor),k.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.vertex.hoverOutlineColor),k.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.edge.color),k.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.edge.outlineColor),k.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=w(k.colorToVec4(k.reshapeManipulators.selected.color),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.outlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=V(k.colorToVec4(k.reshapeManipulators.selected.hoverOutlineColor),k.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new m,this._manipulatorHandles=new m,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new H,this._snappingPipelineHandle=new H,this._vertexLaserLineVisualElement=null}initialize(){const e=new U({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=i(this._reshapeHelper),this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;i(this._reshapeHelper),this._reshapeHelper=new q(y.fromGeometry(e,this.view.viewingMode),e.type);const t=_(this.graphic);for(const i of this._reshapeHelper.editGeometry.components){for(const e of i.vertices)this._createPerVertexManipulator(e,t);for(const e of i.edges)this._createPerVertexManipulator(e,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),o=1===e&&a,n=r(this._reshapeHelper);for(const l of this._manipulatorInfos)\"vertex\"===l.handle.type&&(l.manipulator.grabbing||o&&!l.manipulator.selected||(r(n).moveVertices([l.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(l.handle.pos),this._updateManipulatorPosition(l)));if(0===i.length)return;let s=0;for(const r of this._manipulatorInfos)\"vertex\"===r.handle.type&&s++;this.outputGeometry=n.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)N(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const o=[];for(const r of this._manipulatorInfos)N(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&o.push(r);const n=r(this._reshapeHelper);for(const r of o)n.moveVertices([r.handle],t,i,a);this.outputGeometry=n.geometry;for(const r of o)this._updateManipulatorPosition(r);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new F({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new z({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&j(this.graphic),snapToScene:!1,radius:z.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=r(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(((t,i,a,o,n)=>{const s=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>N(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:o,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:e,pointer:n,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipelineHandle.next).next(G()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return o.next(this._cancelDragOperation()),s}),e,i,this.graphic),g(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),g(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const a=L({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=a.visualElement instanceof A?a.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(a)}_createPerVertexManipulator(e,t=_(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=k.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=k.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=f.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=f.createSphereGeometry(r,16,16)}const i=new P({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|W.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|W.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|W.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|W.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|W.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const n=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(n),this.manipulators.add(i),this._updateManipulatorPosition(n),\"edge\"===n.type){const e=this._getManipulatorInfoFromHandle(n.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n))),t=this._getManipulatorInfoFromHandle(n.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n)));n.locationUpdateHandle=o([e,t]),this._manipulatorHandles.add(n.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const s=S(i,((e,i,a,o)=>{i.next((e=>this._trackNumDragging(e))).next((e=>{if(X(n)){const t=this._splitEdgeManipulator(n);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:n,snapOrigin:n.handle.pos}})).next(E(this.view,e.elevationAlignedLocation)).next(O(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new b({geometry:r(this._reshapeHelper),elevationInfo:t,pointer:o,excludeFeature:this.graphic,visualizer:new I})}),this._snappingPipeline.next).next(G()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(s,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,n))),i.events.on(\"select-changed\",(()=>{n.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,t(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=W.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=k.reshapeManipulators.vertex.size/2+k.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=W.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=k.reshapeManipulators.edge.size/2+k.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=r(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.editGeometry.coordinateHelper.toPoint(e.handle.pos,Y),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,r=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,o=r.location,n=.5,s=t.x+n*(o.x-t.x),l=t.y+n*(o.y-t.y),p=t.hasZ&&o.hasZ?0:void 0;e.manipulator.location=v(s,l,p,i.geometry.spatialReference)}else h(K,a.renderLocation,r.renderLocation,.5),e.manipulator.renderLocation=K}}_splitEdgeManipulator(e){const t=r(this._reshapeHelper),i=r(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const o=_(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,o),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const n=this._updateEventState(2),s=t.editGeometry.coordinateHelper.toArray(a.handle.pos),l=t.editGeometry.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:r(i.index)}],added:s}),n&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=M.get();u(e,0,0,0);let i=0,o=!1,n=null,s=null;for(const t of this._manipulatorInfos)N(t)&&(t.manipulator.selected?(i++,c(e,e,t.manipulator.renderLocation),a(n)||t.selectedIndex>n.selectedIndex?(s=n,n=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):o=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&j(this.graphic)}if(0!==i){let e=0;if(t(n)){const i=n.handle.pos,a=t(s)?s.handle.pos:n.handle.left&&n.handle.left.left?n.handle.left.left.pos:null,r=!t(s)&&n.handle.right&&n.handle.right.right?n.handle.right.right.pos:null;a&&r?this._moveManipulation.xyAxisManipulation.available=!1:a?e=R(a,i):r&&(e=R(i,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=C}else this._moveManipulation.angleDeferred=()=>T(r(this.graphic.geometry)),this._moveManipulation.radius=z.radiusForSymbol(this.graphic.symbol);0!==i&&o?(d(e,e,1/i),Y.spatialReference=r(this._reshapeHelper).geometry.spatialReference,Y.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,Y),this._moveManipulation.elevationAlignedLocation=Y):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:D(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=r(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=r(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.editGeometry.components.indexOf(e.component);return{coordinates:i.editGeometry.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:r(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),X(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function R(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function N(e){return\"vertex\"===e.handle.type}function X(e){return\"edge\"===e.handle.type}e([n({constructOnly:!0})],Z.prototype,\"tool\",void 0),e([n()],Z.prototype,\"inputGeometry\",null),e([n()],Z.prototype,\"outputGeometry\",void 0),Z=e([s(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],Z);const Y=v(0,0,null,null),K=p();var W;!function(e){e.Vertex=16,e.Edge=32}(W||(W={}));class q extends x{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}export{q as ReshapeGeometryHelper,Z as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{destroyMaybe as t,isSome as r,isNone as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import a from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as h}from\"../../../../interactive/InteractiveToolBase.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as l}from\"./ReshapeOperation.js\";let m=class extends(a.EventedMixin(h)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingManager=null}destroy(){this._handles.removeAll(),this._reshapeOperation=t(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!r(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){o(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new l({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),n(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){r(this.snappingManager)&&this.snappingManager.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZ\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMoveGraphic\",void 0),e([i({readOnly:!0})],m.prototype,\"type\",void 0),e([i({constructOnly:!0})],m.prototype,\"snappingManager\",void 0),m=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],m);export{m as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o,rad2deg as s}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{b as l,f as c,c as h}from\"../../../../../chunks/vec3f64.js\";import{a as g}from\"../../../../../chunks/common.js\";import{s as d,f as u,l as m,h as p,c as f,b as D}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as M}from\"../../../support/mathUtils.js\";import S from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as b,r as R,p as v,m as k,s as w}from\"../../../../../chunks/mat4.js\";import{a as _}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as j}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as A,sm4d as F}from\"../../../support/stack.js\";import{plane as I,ray as E}from\"../../../support/geometryUtils.js\";import P from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as x}from\"../dragEventPipeline3D.js\";import{Manipulator3D as O}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new S,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,r=T(a,((a,r,n)=>{this._scaleRotateDragData=null;const c=ct(this.tool.view,i);if(e(c))return this.updateDragState(),null;const h={mode:\"none\",origin:l(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:c};this._scaleRotateDragData=h,this.updateDragState();const g=A.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,g),r.next(x(this.tool.view,I.fromPositionAndNormal(a.renderLocation,g))).next((e=>{const a=I.normal(e.plane),r=z(e.renderStart,e.renderEnd,h.origin,a),n=M.shortestSignedDiff(h.angle,r);h.angleDir=o(h.angleDir+n,-N,N),h.angle=r;const l=lt(h,e),c=l-h.scale;if(h.scaleDir=o(h.scaleDir+c,-Z,Z),h.scale=l,this.onScaleChanged(),\"none\"===h.mode){const a=this.mode||ht(e,e.plane,h.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,xScale:h.scale,yScale:h.scale})}h.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(h.mode){default:case\"none\":break;case\"scale\":a=h.scale;break;case\"rotate\":e=h.angle}this.applySymbolData(t,h.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,xScale:h.scale,yScale:h.scale})}break;case\"end\":switch(h.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(h.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:h.scale,yScale:h.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),n.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:s(this._scaleRotateDragData.startAngle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,xScale:1,yScale:1})}this.startAnimation(dt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(r),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ut(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=b(F.get()),e=this.tool.symbolRotationAngle;R(t,t,e,c(0,0,1));const a=this.getScale(),i=v(F.get(),d(A.get(),a,a,a)),o=b(F.get());k(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(c(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]],i=(t,e)=>P.createPathExtrusionGeometry(a(e),t,[],[],!1),o=e(Y),s=i(o,q),r={left:[],right:[]},n=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-$,o=e+a,s=e+Math.PI/2-a,l=t(o,s,tt),h=i(l,Q);n.push(l),n.push(t(o,s,et-q/2)),r.left.push(h),r.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=_();if(e){w(a,a,[1,-1,1]),R(a,a,-o,[0,0,1]);const t=Math.round(W*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{R(a,a,s,[0,0,1]);const t=Math.round((1-W)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=P.createExtrudedTriangle(H,0,V,G);P.transformInPlace(i,a),(e?r.left:r.right).push(i)}}const l=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-st,o=e+a,s=e+Math.PI/2-a,r=t(o,s,et);l.push(i(r,Q))}const h=e(Y+at),g=e(Y+it),d=i(h,Q),u=i(g,Q),m=e(Y-at),p=e(Y-it),f=i(m,Q),D=i(p,Q),M=this.createMaterial(),S=this.createMaterial(.66),y=this.createMaterial(.5),b=this.createMaterial(.33);let v=[{geometry:s,material:M,stateMask:rt.DelayedFocused},{geometry:s,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(v=v.concat([{geometry:l,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:u,material:b,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:D,material:b,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(v=v.concat([{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:r.left,material:M,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:r.right,material:M,stateMask:rt.DelayedFocused|rt.RotateRight}]));const k=[o,...n];return new O({view:this.tool.view,renderObjects:v,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:j(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:k,direction:c(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2})}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-g(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e){const a=u(A.get(),e.renderStart,t.origin),i=u(A.get(),e.renderEnd,t.origin),o=m(a),s=m(i);return 0===o?0:s/o}function ct(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}function ht(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=gt(o,i,A.get()),n=gt(s,i,A.get());if(p(r,n)<B*B)return null;const l=u(A.get(),o,a),c=f(A.get(),l,e),h=o,g=D(A.get(),h,c),d=gt(a,i,A.get()),m=r,M=gt(g,i,A.get()),S=u(A.get(),M,m),y=u(A.get(),r,d),b=E.wrap(m,S),R=E.wrap(d,y);return E.distance2(b,n)<E.distance2(R,n)?\"rotate\":\"scale\"}function gt(t,e,a){const i=e.projectToRenderScreen(t,r(mt)),o=e.renderToScreen(i,pt);return d(a,o[0],o[1],0)}function dt(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}function ut(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}const mt=h(),pt=n();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as i,destroyMaybe as e,isNone as a}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Evented.js\";import{t as l}from\"../../../../../chunks/common.js\";import p from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{EditGeometry as c}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as m}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as u}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as g}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{InteractiveToolBase as v}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as y}from\"../../manipulatorUtils.js\";import{canMoveZ as M}from\"../manipulatorUtils.js\";import{GraphicState as f}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as S}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as b}from\"../manipulations/config.js\";import{MoveManipulation as j}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as w}from\"./GraphicScaleRotateTransform.js\";let R=class extends(r.EventedMixin(v)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new p,this.scaleRotate=null,this.snappingPipeline=new g}initialize(){this.graphicState=new f({graphic:this.graphic}),this.moveManipulation=new j({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&M(this.graphic),radius:j.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,o,n,s)=>(i(t)&&\"point\"===t.type&&0===e&&(o=o.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new u({elevationInfo:h(this.graphic),pointer:s,geometry:new m(c.fromGeometry(t,this.view.viewingMode),\"point\"),visualizer:new d,excludeFeature:this.graphic}),snappingManager:this.snappingManager,cancel:n}),this.snappingPipeline.next)),o)),this.graphicState,(t=>{const{action:i,graphic:e,dxScreen:a,dyScreen:o}=t,n={graphic:e,dxScreen:a,dyScreen:o};switch(i){case\"start\":this.emit(\"graphic-translate-start\",n);break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new w({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([S({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>o()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),i(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((i=>i.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&M(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),this.scaleRotate=e(this.scaleRotate),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const i=t.symbolLayers.find((t=>\"object\"===t.type)),e=i&&i.heading||0;return l(-e)}return 0}reset(){}onDetach(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){i(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(a(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<b?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){y(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:i(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"view\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"graphic\",void 0),t([n({constructOnly:!0,nonNullable:!0})],R.prototype,\"enableZ\",void 0),t([n()],R.prototype,\"enableRotation\",void 0),t([n()],R.prototype,\"enableScaling\",void 0),t([n({value:!1})],R.prototype,\"snapToScene\",null),t([n({constructOnly:!0})],R.prototype,\"snappingManager\",void 0),t([n({readOnly:!0})],R.prototype,\"type\",void 0),R=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],R);export{R as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i}from\"../../../../core/maybe.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{separateBlendingParams as a,makePipelineState as u,defaultColorWriteParams as d,defaultDepthWriteParams as h}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{depthCompareLess as g,stencilWriteMaskOn as b,stencilToolMaskBaseParams as x,stencilBaseAllZerosParams as P}from\"../lib/StencilUtils.js\";import{N as E}from\"../../../../chunks/NativeLine.glsl.js\";class T extends s{constructor(e,t){super(e,t),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=T.shader.get(),i=this.configuration,r=t.build({output:i.output,attributeColor:i.vertexColors,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:!1,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),p)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,r,s){if(c.bindProjectionMatrix(this.program,s.camera.projectionMatrix),this.stipplePattern!==r.stipplePattern){const e=r.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.configuration.stippleEnabled){const i=t(this.stippleTextureBind)?this.stippleTextureBind(e,0)*s.camera.pixelRatio:1;this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/i),this.program.setUniform2f(\"ndcToPixel\",s.camera.fullViewport[2]/2,s.camera.fullViewport[3]/2)}if(this.program.setUniform4fv(\"constantColor\",r.color),this.program.setUniform1f(\"alphaCoverage\",Math.min(1,r.width*s.camera.pixelRatio)),this.configuration.stippleOffColorEnabled){const e=i(r.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",e[0],e[1],e[2],e.length>3?e[3]:1)}4===this.configuration.output&&f.bindOutputHighlight(e,this.program,s)}bindDraw(e){c.bindView(this.program,e),m.bindUniformsWithOrigin(this.program,this.configuration,e)}initializePipeline(){const e=this.configuration,t=a(770,1,771,771),i=(t,i=null,r=null)=>u({blending:i,depthTest:g,depthWrite:r,colorWrite:d,stencilWrite:e.sceneHasOcludees?b:null,stencilTest:e.sceneHasOcludees?t?x:P:null});return 0===e.output?(this._occludeePipelineState=i(!0,e.transparent||e.stippleEnabled?t:null,h),i(!1,e.transparent||e.stippleEnabled?t:null,h)):i(!1)}get primitiveType(){return 1}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}T.shader=new r(E,(()=>import(\"./NativeLine.glsl.js\")));class v extends o{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.vertexColors=!1,this.transparent=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.sceneHasOcludees=!1}}e([l({count:8})],v.prototype,\"output\",void 0),e([l()],v.prototype,\"slicePlaneEnabled\",void 0),e([l()],v.prototype,\"vertexColors\",void 0),e([l()],v.prototype,\"transparent\",void 0),e([l()],v.prototype,\"stippleEnabled\",void 0),e([l()],v.prototype,\"stippleOffColorEnabled\",void 0),e([l()],v.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([l()],v.prototype,\"sceneHasOcludees\",void 0);export{T as NativeLineTechnique,v as NativeLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/Logger.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as n,f as o,d as a,a as c,b as u,g as l,l as p,k as m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec2.js\";import{BufferViewVec3f as h}from\"../../support/buffer/BufferView.js\";import{plane as d,lineSegment as g}from\"../../support/geometryUtils.js\";import{isTranslationMatrix as P}from\"../lib/Util.js\";import{computeAttachmentOriginLines as b}from\"../lib/geometryDataUtils.js\";import{isInstanceHidden as j}from\"./renderers/utils.js\";import q from\"../lib/GLMaterial.js\";import{intersectDrapedRenderLineGeometry as v}from\"./internal/MaterialUtil.js\";import{Material as C,materialParametersDefaults as x}from\"../lib/Material.js\";import{writeDefaultAttributes as y}from\"./internal/bufferWriterUtils.js\";import{PositionColorLayout as L,PositionLayout as O,DefaultBufferWriter as w}from\"./internal/DefaultBufferWriter.js\";import{NativeLineTechniqueConfiguration as D,NativeLineTechnique as S}from\"../shaders/NativeLineTechnique.js\";const A=s.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\");class B extends C{constructor(e){super(e,T),this.techniqueConfig=new D}getTechniqueConfig(t){this.techniqueConfig.output=t,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.transparent=this.params.color[3]<1||this.params.width<1;const s=e(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=s,this.techniqueConfig.stippleOffColorEnabled=s&&e(this.params.stippleOffColor),this.techniqueConfig.stippleIntegerRepeatsEnabled=s&&this.params.stippleIntegerRepeats,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,s,r,i,n,o,a,c){c?v(e,r,n,1,o):this.intersectLineGeometry(e,t,s,r,o)}intersectLineGeometry(e,t,s,r,i){if(!r.options.selectionMode||j(t))return;if(!P(s))return void A.error(\"intersection assumes a translation-only matrix\");const h=e.vertexAttributes.get(\"position\").data,b=r.camera,q=F;f(q,r.point);const v=2;n(X[0],q[0]-v,q[1]+v,0),n(X[1],q[0]+v,q[1]+v,0),n(X[2],q[0]+v,q[1]-v,0),n(X[3],q[0]-v,q[1]-v,0);for(let n=0;n<4;n++)if(!b.unprojectFromRenderScreen(X[n],z[n]))return;d.fromPoints(b.eye,z[0],z[1],J),d.fromPoints(b.eye,z[1],z[2],K),d.fromPoints(b.eye,z[2],z[3],Q),d.fromPoints(b.eye,z[3],z[0],Y);let C=Number.MAX_VALUE;for(let n=0;n<h.length-5;n+=3){if(M[0]=h[n]+s[12],M[1]=h[n+1]+s[13],M[2]=h[n+2]+s[14],U[0]=h[n+3]+s[12],U[1]=h[n+4]+s[13],U[2]=h[n+5]+s[14],d.signedDistance(J,M)<0&&d.signedDistance(J,U)<0||d.signedDistance(K,M)<0&&d.signedDistance(K,U)<0||d.signedDistance(Q,M)<0&&d.signedDistance(Q,U)<0||d.signedDistance(Y,M)<0&&d.signedDistance(Y,U)<0)continue;if(b.projectToRenderScreen(M,G),b.projectToRenderScreen(U,N),G[2]<0&&N[2]>0){o(H,M,U);const e=b.frustum,t=-d.signedDistance(e[4],M)/a(H,d.normal(e[4]));c(H,H,t),u(M,M,H),b.projectToRenderScreen(M,G)}else if(G[2]>0&&N[2]<0){o(H,U,M);const e=b.frustum,t=-d.signedDistance(e[4],U)/a(H,d.normal(e[4]));c(H,H,t),u(U,U,H),b.projectToRenderScreen(U,N)}else if(G[2]<0&&N[2]<0)continue;G[2]=0,N[2]=0;const e=g.distance2(g.fromPoints(G,N,I),q);e<C&&(C=e,l(V,M),l(_,U))}const x=r.rayBeginPoint,y=r.rayEndPoint;if(C<v*v){let e=Number.MAX_VALUE;if(g.closestLineSegmentPoint(g.fromPoints(V,_,I),g.fromPoints(x,y,W),k)){o(k,k,x);const t=p(k);c(k,k,1/t),e=t/m(x,y)}i(e,k)}}computeAttachmentOrigin(e,t){const s=e.vertexAttributes;if(!s)return!1;const r=s.get(\"position\");return b(r,null,!1,t)}createBufferWriter(){const e=this.params.vertexColors?L:O;return t(this.params.stipplePattern)?new w(e):new R(e.clone().vec3f(\"auxpos1\"))}getGLMaterial(e){return 0===e.output||4===e.output?new E(e):void 0}}class E extends q{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output),this.technique)}beginSlot(e){return 3===e}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters())}ensureParameters(e){0===this.output&&this._updateOccludeeState(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}class R{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,s,r){y(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,s,r),this.writeAuxpos1(e,t,s,r)}writeAuxpos1(e,t,s,r){const i=s.getField(\"auxpos1\",h),n=t.indices.get(\"position\"),o=t.vertexAttributes.get(\"position\").data,a=e.transformation,c=i.typedBufferStride,u=i.typedBuffer;r*=c;for(let l=0;l<n.length;l+=2){const e=3*n[l],t=o[e],s=o[e+1],i=o[e+2],p=a[0]*t+a[4]*s+a[8]*i+a[12],m=a[1]*t+a[5]*s+a[9]*i+a[13],f=a[2]*t+a[6]*s+a[10]*i+a[14];for(let n=0;n<2;++n)u[r]=p,u[r+1]=m,u[r+2]=f,r+=c}}}const T={color:[1,1,1,1],vertexColors:!1,slicePlaneEnabled:!1,width:1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,sceneHasOcludees:!1,...x},M=i(),U=i(),H=i(),k=i(),G=r(),N=r(),V=i(),_=i(),I=g.create(),W=g.create(),F=i(),X=[r(),r(),r(),r()],z=[i(),i(),i(),i()],J=d.create(),K=d.create(),Q=d.create(),Y=d.create();export{B as NativeLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=4,F=1,G=.3,H=6,I=4,J=12,K=40,L=27,N=1600,O=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,n as HANDLE_COLOR,l as HANDLE_OPACITY,i as INITIAL_DEPTH_OFFSET_FRAC,O as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,N as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,H as RESIZE_HANDLE_CORNER_INPUT_RADIUS,E as RESIZE_HANDLE_CORNER_WIDTH,I as RESIZE_HANDLE_EDGE_INPUT_RADIUS,G as RESIZE_HANDLE_EDGE_PADDING_FRAC,F as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,L as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,K as ROTATE_HEADING_OFFSET_DISTANCE,J as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as t,separateBlendingParams as a,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";import{View as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{S as l}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";class m extends e{initializeProgram(r){const e=m.shader.get().build();return new o(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),i)}bindPass(r,e,i){s.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){s.bindView(this.program,r)}initializePipeline(){return t({blending:a(1,1,771,771),depthTest:{func:513},colorWrite:n})}}m.shader=new r(l,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{m as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{autoDispose as t}from\"../lib/AutoDisposable.js\";import e from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as i}from\"./internal/MaterialUtil.js\";import{Material as o,materialParametersDefaults as s}from\"../lib/Material.js\";import{DefaultBufferWriter as a,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{SlicePlaneMaterialTechnique as u}from\"../shaders/SlicePlaneMaterialTechnique.js\";class l extends o{constructor(r){super(r,m)}intersect(r,t,e,o,s,a,n){return i(r,t,o,s,a,void 0,n)}createBufferWriter(){return new a(n)}getGLMaterial(r){return 0===r.output?new c(r):void 0}}class c extends e{constructor(r){super(r),this.technique=new u(this.techniqueRep.constructionContext,null),this.updateParameters()}updateParameters(){}beginSlot(r){return 8===r}bind(r,t){r.bindProgram(this.technique.program),this.technique.bindPass(r,this.material.params,t)}}r([t()],c.prototype,\"technique\",void 0);const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...s};export{l as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec4.js\";import{f as t}from\"../../../../chunks/vec4f32.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{Object3DVisualElement as a}from\"./Object3DVisualElement.js\";import{SlicePlaneMaterial as s}from\"../../webgl-engine/materials/SlicePlaneMaterial.js\";class d extends a{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=t(1,0,0,1),this._backgroundColor=t(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){e(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){e(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new s(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){r(this._material)&&e(this._material)}createGeometries(e){if(r(this._material)){const r=i.createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){r(this._material)&&this._material.setParameterValues(this.materialParameters)}}export{d as SlicePlaneVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as l,defaultColorWriteParams as p,simpleBlendingParams as c}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OITBlending as h,OITDepthTest as m,OITDepthWrite as f,getOITPolygonOffset as b}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as g}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as y,stencilToolMaskBaseParams as P,stencilBaseAllZerosParams as T}from\"../lib/StencilUtils.js\";import{I as v}from\"../../../../chunks/ImageMaterial.glsl.js\";class j extends r{initializeProgram(e){const t=j.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new o(e.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),a)}bindPass(e,t,r){u.bindProjectionMatrix(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",t.opacity),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),g(this.program,e,r))}bindDraw(e){u.bindView(this.program,e),d.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e,a=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return n({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?S:h(e),culling:a(r.cullFace),depthTest:{func:m(e)},depthWrite:i?r.writeDepth&&l:f(e),colorWrite:p,stencilWrite:r.sceneHasOcludees?y:null,stencilTest:r.sceneHasOcludees?t?P:T:null,polygonOffset:i||s?null:b(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}j.shader=new t(v,(()=>import(\"./ImageMaterial.glsl.js\")));const S=c(1,771);class w extends i{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],w.prototype,\"output\",void 0),e([s({count:3})],w.prototype,\"cullFace\",void 0),e([s()],w.prototype,\"slicePlaneEnabled\",void 0),e([s()],w.prototype,\"transparent\",void 0),e([s()],w.prototype,\"enableOffset\",void 0),e([s()],w.prototype,\"writeDepth\",void 0),e([s()],w.prototype,\"sceneHasOcludees\",void 0),e([s({count:4})],w.prototype,\"transparencyPassType\",void 0),e([s()],w.prototype,\"multipassTerrainEnabled\",void 0),e([s()],w.prototype,\"cullAboveGround\",void 0);export{j as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as o}from\"../../core/lang.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import{ensureNumber as i}from\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as h}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import n from\"../../geometry/Point.js\";import\"../../geometry.js\";import{cyclicalDeg as m}from\"../../views/3d/support/mathUtils.js\";var l;let c=l=class extends a{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new l({position:o(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&e(this.position)&&e(t.position)&&this.position.equals(t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:n}),h()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"height\",void 0),c=l=t([p(\"esri.widgets.Slice.SlicePlane\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterialTexture.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as i,materialParametersDefaults as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as r,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{ImageMaterialTechniqueConfiguration as u,ImageMaterialTechnique as h}from\"../shaders/ImageMaterialTechnique.js\";class c extends i{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new u}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}intersect(e,i,a,s,r,n,u){t(e,i,s,r,n,void 0,u)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new l(e):void 0}createBufferWriter(){return new r(n)}}class l extends e{constructor(e){super({...e,...e.material.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=this.techniqueRep.acquireAndReleaseExisting(h,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;return e===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}ensureParameters(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{c as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../core/compilerUtils.js\";import{isSome as t,isNone as i}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Logger.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import{rad2deg as r,deg2rad as n}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{b as c,c as l,f as m}from\"../../../../../chunks/vec3f64.js\";import{a as d,g,d as u,c as p,n as f,b,l as h,f as w,o as y,s as j}from\"../../../../../chunks/vec3.js\";import{g as M,i as k,s as P,m as v,e as O,t as R,q as U}from\"../../../../../chunks/mat4.js\";import{a as T}from\"../../../../../chunks/mat4f64.js\";import{r as A}from\"../../../../../chunks/quat.js\";import{sv3d as L,sm4d as S,sq4d as E}from\"../../../support/stack.js\";import{b as F}from\"../../../../../chunks/vector.js\";import{plane as G,boundedPlane as C,ray as I}from\"../../../support/geometryUtils.js\";import{Geometry as x}from\"../../../webgl-engine/lib/Geometry.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as V}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import{NativeLineMaterial as D}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{ColorMaterial as B}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as N}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as q}from\"../../manipulatorUtils.js\";import{LineVisualElement as H}from\"../../visualElements/LineVisualElement.js\";import{SMALL_ANGLE_DOT_THRESHOLD as W,RESIZE_HANDLE_EDGE_PADDING_FRAC as $,PLANE_MIN_BASIS_SCREEN_LEN2 as J,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as K,SHIFT_RESTART_OFFSET_DISTANCE as Q,SHIFT_RESTART_ARROW_TIP_COLOR as X,SHIFT_RESTART_ARROW_CAP_COLOR as Y,SHIFT_RESTART_TUBE_COLOR as Z,SHIFT_RESTART_OUTLINE_COLOR as _,SHIFT_RESTART_CALLOUT_COLOR as ee,SHIFT_RESTART_TIP_RADIUS as te,ROTATE_HEADING_CALLOUT_COLOR as ie,PLANE_OUTLINE_COLOR as se,PLANE_OUTLINE_WIDTH as oe,PLANE_BACKGROUND_COLOR as re,GRID_COLOR as ne,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ae,RESIZE_HANDLE_EDGE_INPUT_RADIUS as ce,ROTATE_HEADING_TIP_LENGTH as le,VERTICAL_DOT_THRESHOLD as me,SHIFT_RESTART_TUBE_RADIUS as de,SHIFT_RESTART_TIP_LENGTH as ge,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as ue,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as pe,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as fe,ROTATE_HEADING_OFFSET_DISTANCE as be,ROTATE_HEADING_DISC_RADIUS as he,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as we,HANDLE_COLOR as ye,DISPLAY_FOCUS_MULTIPLIER as je,RESIZE_HANDLE_EDGE_WIDTH as Me,SHIFT_RESTART_ARROW_LENGTH as ke,RESIZE_HANDLE_CORNER_WIDTH as Pe}from\"./sliceToolConfig.js\";import{SlicePlaneVisualElement as ve}from\"../../visualElements/SlicePlaneVisualElement.js\";import{ImageMaterial as Oe}from\"../../../webgl-engine/materials/ImageMaterial.js\";import Re from\"../../../../../widgets/Slice/SlicePlane.js\";const Ue=s.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Te(e,t,i,s,o,r,n,a){return Ae(t,n.worldUpAtPosition(e,L.get()),o,r,a.basis1,a.basis2),d(a.basis1,a.basis1,i),d(a.basis2,a.basis2,s),g(a.origin,e),G.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,a.plane),a}function Ae(e,t,i,s,o,r){const n=u(e,t),a=L.get(),c=L.get();switch(0===s?Math.abs(n)>me?1:2:s){case 2:{const s=Math.abs(n)<=W?e:i.viewUp;p(a,s,t),g(c,t);break}case 1:p(a,i.viewUp,t),p(c,t,a);break;case 3:{const s=Math.abs(n)<=W?t:i.viewUp;p(a,s,e),p(c,e,a);break}}const l=p(L.get(),a,c);u(l,i.viewForward)>0&&d(c,c,-1),f(o,a),f(r,c)}function Le(e,t,i){const s=t.worldUpAtPosition(e.origin,L.get()),o=e.basis1,r=tt(e,s),n=Math.round(r/ct)*ct;return C.rotate(e,n-r,o,i)}function Se(e,t,i,s,o,r){const n=g(L.get(),o.origin);b(n,n,d(L.get(),o.basis1,e.direction[0]<0?1:-1)),b(n,n,d(L.get(),o.basis2,e.direction[1]<0?1:-1));const a=h(o.basis1),c=h(o.basis2),l=w(L.get(),i,n),m=w(L.get(),t,n);let p=0,f=0;if(We(e)){const t=He(o),i=He(r);p=a-.5*e.direction[0]*u(o.basis1,m)/a,f=c-.5*e.direction[1]*u(o.basis2,m)/c;const s=i/t;p*=s,f*=s}const y=p+.5*e.direction[0]*u(o.basis1,l)/a,j=f+.5*e.direction[1]*u(o.basis2,l)/c,M=d(L.get(),o.basis1,y/a),k=d(L.get(),o.basis2,j/c);(y<=0||Ne(r.origin,M,s)<=J)&&g(M,r.basis1),(j<=0||Ne(r.origin,k,s)<=J)&&g(k,r.basis2);const P=g(L.get(),n);return b(P,P,d(L.get(),M,e.direction[0]<0?-1:1)),b(P,P,d(L.get(),k,e.direction[1]<0?-1:1)),C.fromValues(P,M,k,r)}function Ee(e,t){return K*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Fe(e,t,i,s){const o=p(L.get(),t,i);return p(o,o,t),G.fromPositionAndNormal(e,o,s)}function Ge(e,t){return q(e.basis1,e.basis2,e.origin,t)}function Ce(e,t,i,s){const o=t.worldUpAtPosition(e.origin,L.get()),r=L.get();switch(i){case 1:g(r,o);break;case 2:g(r,e.basis1)}return G.fromPositionAndNormal(e.origin,r,s)}function Ie(e,t,i,s){const o=Be(i,2),r=S.get();M(r,t,o.edge*Math.PI/2);const n=f(L.get(),o.basis);let l=d(L.get(),n,o.direction*s.computeScreenPixelSizeAt(o.position)*Q);b(l,l,o.position);const m=s.projectToRenderScreen(l,a(L.get())),g=xe(s,m);I.fromRender(s,m,at),f(at.direction,at.direction);const u=L.get();!g&&C.intersectRay(i,at,u)&&(l=u),r[12]=0,r[13]=0,r[14]=0,e.modelTransform=r,e.renderLocation=c(l),g?e.state|=nt:e.state&=~nt}function xe(e,t){const[i,s,o,r]=e.viewport,n=Math.min(o,r)/16;let a=!0;return t[0]<i+n?(t[0]=i+n,a=!1):t[0]>i+o-n&&(t[0]=i+o-n,a=!1),t[1]<s+n?(t[1]=s+n,a=!1):t[1]>s+r-n&&(t[1]=s+r-n,a=!1),a}function ze(e,t,i,s){const o=h(s.basis1),r=h(s.basis2),n=qe(s),a=He(s),c=j(L.get(),0,0,0);b(c,d(L.get(),s.basis1,t.direction[0]),d(L.get(),s.basis2,t.direction[1])),b(c,s.origin,c);let l=0,m=1;if(We(t))1===t.direction[0]&&-1===t.direction[1]?l=ct:1===t.direction[0]&&1===t.direction[1]?l=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(l=3*Math.PI/2),m=a;else{const e=0!==t.direction[0]?1:2;l=1===e?ct:0,m=(1===e?r:o)-n}const g=k(S.get());M(g,g,l),P(g,g,j(L.get(),m,m,m)),v(g,i,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=c}function Ve(e,t,i,s){const o=s.worldUpAtPosition(i.origin,L.get()),r=Be(i,0),n=k(S.get());M(n,n,r.edge*Math.PI/2),O(n,n,-tt(i,o)),v(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=r.position}function De(e,t,i){const s=Be(i,1),o=k(S.get());M(o,o,s.edge*Math.PI/2),O(o,o,ct),v(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=s.position}function Be(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:b(L.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:b(L.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:w(L.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:w(L.get(),e.origin,e.basis2),edge:t}}}function Ne(e,t,i){const s=i.projectToRenderScreen(b(L.get(),e,t),a(L.get())),o=i.projectToRenderScreen(w(L.get(),e,t),a(L.get()));return y(w(s,s,o))}function qe(e){const t=h(e.basis1),i=h(e.basis2);return $*Math.min(t,i)}function He(e){return qe(e)}function We(e){return 0!==e.direction[0]&&0!==e.direction[1]}function $e(e,t=1){const i=0===t?Q:0,s=[m(i,0,-ke/2),m(i,0,ke/2)],o=_e(s,!0),r=(e,t)=>Ye(s,s,{tubeRadius:de,tipRadius:te,tipLength:ge,tubeFocusMultiplier:ue,tipFocusMultiplier:pe,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),n=r(0,!1),a=r(fe,!0),c=new B({color:X,cullFace:2,renderOccluded:16}),l=new B({color:Y,cullFace:2,renderOccluded:16}),d=new B({color:Z,cullFace:2,renderOccluded:16}),g=new B({color:_,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),u=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),p=z.createPolylineGeometry([[i,0,0],[i-Q,0,0]]),f=new D({color:ee,renderOccluded:4});return new N({view:e,renderObjects:[...n.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:1|rt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:1|rt}))),{geometry:u,material:f,stateMask:1|rt|nt},...n.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:d,transform:i,stateMask:2|rt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:2|rt}))),{geometry:p,material:f,stateMask:2|rt|nt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[o]},collisionPriority:1,radius:te,state:rt})}function Je(e,t){const i=new Oe({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),s=be,o=he,r=o*we,n=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new x([[\"position\",{size:3,data:[s-e,-e,0,s+e,-e,0,s+e,e,0,s-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=z.createPolylineGeometry([[0,0,0],[s-o,0,0]]),c=z.createPolylineGeometry([[0,0,0],[s-r,0,0]]),l=new D({color:ie,renderOccluded:4}),m=[{geometry:n(o),material:i,stateMask:1|rt},{geometry:a,material:l,stateMask:1|rt},{geometry:n(r),material:i,stateMask:2|rt},{geometry:c,material:l,stateMask:2|rt}];return new N({view:e,renderObjects:m,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:o/2,state:rt})}function Ke(e){return new H({view:e,attached:!0,color:se,width:oe,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function Qe(e){return new ve({view:e,attached:!0,backgroundColor:[...re],gridColor:ne,gridWidth:4,renderOccluded:4})}function Xe(e,t){const i=We(t),s=i?[m(1,0,0),m(0,0,0),m(0,1,0)]:[m(1,0,0),m(-1,0,0)],o=z.createPolylineGeometry(s),r=[...ye,1],n=e=>new V({color:r,width:e,renderOccluded:4}),a=()=>new D({color:r,renderOccluded:4}),c=i?Pe:Me,l=c*je,d=Me,g=e=>e>1?n(e):a(),u=[{geometry:o,material:g(c),stateMask:1|lt},{geometry:o,material:g(l),stateMask:2|lt},{geometry:o,material:g(d),stateMask:mt}],p=new N({view:e,renderObjects:u,collisionType:{type:\"line\",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?ae:ce,idHint:i?1:2});return p.state=lt,p}function Ye(e,i,s){const o=o=>{const r=(o?i:e).slice(0),n=w(L.get(),r[0],r[1]);f(n,n);const a=w(L.get(),r[r.length-1],r[r.length-2]);if(f(a,a),s.padding>0){const e=d(l(),a,-s.padding);if(r[r.length-1]=b(e,e,r[r.length-1]),s.bothEnds){const e=d(l(),n,-s.padding);r[0]=b(e,e,r[0])}}const c=o?s.tipFocusMultiplier:1,g=s.tipLength*(s.focusTipLength?c:1),u=s.tipRadius*c,p=k(S.get());if(s.padding>0){const e=g/4,t=j(L.get(),0,e,0),i=1+s.padding/e;R(p,p,t),P(p,p,j(L.get(),i,i,i)),R(p,p,d(t,t,-1/i))}const h=k(T()),y=m(0,1,0),M=U(T(),A(E.get(),y,a));M[12]=r[r.length-1][0],M[13]=r[r.length-1][1],M[14]=r[r.length-1][2],v(M,M,p);const O=[{part:\"tube\",geometry:Ze(s.tubeRadius*(o?s.tubeFocusMultiplier:1)+s.padding,s.flat,r),transform:h}];let F,G;if(t(s.flat)?F=z.createExtrudedTriangle(g,u,u,s.flat.thickness):(F=z.createConeGeometry(g,u,24,!1,!1,!0),G=z.createConeGeometry(g,u,24,!1,!0,!1)),O.push({part:\"tip\",geometry:F,transform:M}),G&&O.push({part:\"cap\",geometry:G,transform:M}),s.bothEnds){const e=U(T(),A(E.get(),y,n));e[12]=r[0][0],e[13]=r[0][1],e[14]=r[0][2],v(e,e,p),O.push({part:\"tip\",geometry:F,transform:e}),G&&O.push({part:\"cap\",geometry:G,transform:e})}return O};return{normal:o(!1),focused:o(!0)}}function Ze(e,i,s){const o=[];if(t(i))o.push([e,i.thickness/2],[-e,i.thickness/2],[-e,-i.thickness/2],[e,-i.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;o.push([Math.cos(s)*e,Math.sin(s)*e])}}return z.createPathExtrusionGeometry(o,s,[],[],!1)}function _e(e,t){const i=w(l(),e[e.length-1],e[e.length-2]);if(f(i,i),d(i,i,le),b(i,i,e[e.length-1]),t){const t=w(l(),e[0],e[1]);return f(t,t),d(t,t,le),b(t,t,e[0]),[t,...e,i]}return[...e,i]}function et(e,s,n,a=new Re){if(i(e))return null;const c=t(a.position)?a.position:new o;s.fromRenderCoords(e.origin,c,n),a.position=c;const l=s.worldUpAtPosition(e.origin,L.get()),m=s.worldBasisAtPosition(e.origin,1,L.get());return a.width=2*h(e.basis1),a.height=2*h(e.basis2),a.tilt=r(tt(e,l)),a.heading=r(it(e,l,m)),a}function tt(e,t){return F(t,e.basis2,e.basis1)+ct}function it(e,t,i){return F(e.basis1,i,t)-ct}function st(e,t,s=C.create()){return i(e)||i(e.position)?null:t.toRenderCoords(e.position,s.origin)?(t.worldBasisAtPosition(s.origin,0,s.basis1),t.worldBasisAtPosition(s.origin,1,s.basis2),G.fromVectorsAndPoint(s.basis2,s.basis1,s.origin,s.plane),C.rotate(s,-n(e.heading),C.normal(s),s),C.rotate(s,n(e.tilt),s.basis1,s),d(s.basis1,s.basis1,e.width/2),d(s.basis2,s.basis2,e.height/2),C.updateUnboundedPlane(s),s):(Ue.error(`Failed to project slice plane position, projection from ${e.position.spatialReference.wkid} is not supported`),null)}function ot(t){switch(t.type){case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"unknown\":case\"unsupported\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const rt=16,nt=32,at=I.create(),ct=Math.PI/2,lt=16,mt=32;export{rt as DidPointerMoveRecentlyFlag,nt as IsShiftEdgeOnScreenFlag,_e as addArrowTips,Ge as calculateBoundedPlaneTranslateRotate,He as calculateDiagonalResizeHandleScale,Ee as calculatePlaneHalfSize,qe as calculateResizeHandlePadding,Ne as calculateScreenSpaceBasisLength2,Ye as createArrowGeometry,Qe as createGridVisualElement,Ke as createOutlineVisualElement,Te as createPlane,Xe as createResizeManipulator,Je as createRotateManipulator,Ce as createRotatePlane,$e as createShiftManipulator,Fe as createShiftPlane,Le as forceHorizontalOrVertical,ot as isAlwaysDrapedLayer,We as isDiagonalResizeHandle,Ae as normalToBases,et as planeToShape,lt as resizeNormal,mt as resizeOutlineOnly,Se as resizePlane,st as shapeToPlane,ze as updateResizeHandle,Ve as updateRotateHeadingHandle,De as updateRotateTiltHandle,Ie as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";import{isDiagonalResizeHandle as e}from\"../../analysisTools/slice/sliceToolUtils.js\";class s{constructor(){this.lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const a=e(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-a:a,t.factor2=t.factor2<0?-a:a}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{f as s,Z as o}from\"../../../../chunks/vec3f64.js\";import{b as i,E as t,a as n,f as r,e as a,c as e,n as c,d as g,l as b}from\"../../../../chunks/vec3.js\";import{d as f,a as p,g as u,p as m,s as d,u as I,w as N,h as j}from\"../../../../chunks/vec2.js\";import{sv2d as E,sv3d as T}from\"../../../3d/support/stack.js\";import{boundedPlane as V}from\"../../../3d/support/geometryUtils.js\";import{UpdateVertices as x}from\"../operations/UpdateVertices.js\";import{MoveVertex as h}from\"../operations/MoveVertex.js\";import{RotateVertex as l}from\"../operations/RotateVertex.js\";import{ScaleVertex as R}from\"../operations/ScaleVertex.js\";function v(s,o){return k(s,o,!1)}function C(s,o){return k(s,o,!0)}function k(s,o,i){if(s instanceof x){if(s.operation instanceof h)return F(s.operation,o,i),!0;if(s.operation instanceof l)return Y(s.operation,o,i),!0;if(s.operation instanceof R)return _(s.operation,o,i),!0}return!1}function F(o,t,n=!1){const r=n?-1:1,a=s(r*o.dx,r*o.dy,r*o.dz);i(t.origin,t.origin,a)}function Y(s,i,n=!1){const r=n?-s.angle:s.angle;t(i.basis1,i.basis1,o,r),t(i.basis2,i.basis2,o,r)}function _(s,o,i=!1){const t=i?1/s.factor1:s.factor1,r=i?1/s.factor2:s.factor2;n(o.basis1,o.basis1,t),n(o.basis2,o.basis2,r),P(o.origin,s.origin,s.axis1,t),P(o.origin,s.origin,s.axis2,r)}function P(s,o,i,t){const n=E.get(),r=f(n,s,o),a=p(n,i,u(i,r));m(s,s,a,t-1)}function S(s,o,i,t){t||(t=V.create());const n=d(E.get(),s[1],-s[0]),r=d(E.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),a=d(E.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),e=E.get();o.components.forEach((o=>o.vertices.forEach((o=>{const i=o.pos;d(e,u(s,i),u(n,i)),I(r,r,e),N(a,a,e)}))));const c=1e-6,g=d(E.get(),a[0]-r[0]<c?i/2:0,a[1]-r[1]<c?i/2:0);return f(r,r,g),j(a,a,g),p(t.basis1,s,(a[0]-r[0])/2),p(t.basis2,n,(a[1]-r[1])/2),d(t.origin,r[0]*s[0]+r[1]*n[0],r[0]*s[1]+r[1]*n[1]),j(t.origin,t.origin,t.basis1),j(t.origin,t.origin,t.basis2),t}function U(s,o,t,f=0,p){p||(p=V.create()),o.toRenderCoords(s.origin,t,p.origin);const u=T.get();i(u,s.origin,s.basis1),i(u,u,s.basis2),o.toRenderCoords(u,t,u);const m=T.get();i(m,s.origin,s.basis1),r(m,m,s.basis2),o.toRenderCoords(m,t,m);const d=T.get();r(d,s.origin,s.basis1),r(d,d,s.basis2),o.toRenderCoords(d,t,d);const I=T.get();r(I,s.origin,s.basis1),i(I,I,s.basis2),o.toRenderCoords(I,t,I);const N=a(T.get(),u,m,.5);r(N,N,p.origin);const j=a(T.get(),d,I,.5);r(j,p.origin,j),a(p.basis1,N,j,.5);const E=a(T.get(),I,u,.5);r(E,E,p.origin);const x=a(T.get(),m,d,.5);r(x,p.origin,x),a(p.basis2,E,x,.5);const h=e(T.get(),p.basis1,p.basis2),l=e(h,h,p.basis1);return c(l,l),n(p.basis2,l,g(p.basis2,l)),n(p.basis1,p.basis1,1+f/b(p.basis1)),n(p.basis2,p.basis2,1+f/b(p.basis2)),V.updateUnboundedPlane(p),p}export{v as apply,S as calculateOrientedBounds,U as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as e,unwrapOr as i,isNone as a,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import p from\"../../../../../core/Evented.js\";import{rad2deg as h}from\"../../../../../core/mathUtils.js\";import{screenPointObjectToArray as l}from\"../../../../../core/screenUtils.js\";import{b as c,c as d}from\"../../../../../chunks/vec3f64.js\";import{s as u,g as m,D as g,f as y,n as v,l as f,d as M}from\"../../../../../chunks/vec3.js\";import S from\"../../../../../core/Handles.js\";import{getMetersPerUnitForSR as b}from\"../../../../../core/unitUtils.js\";import{init as B}from\"../../../../../core/watchUtils.js\";import{g as w}from\"../../../../../chunks/mat4.js\";import{containsXY as x}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a as D}from\"../../../../../chunks/vec2f64.js\";import{d as j,e as R,s as _}from\"../../../../../chunks/vec2.js\";import{getGraphicEffectiveElevationInfo as E}from\"../../../../../support/elevationInfoUtils.js\";import{sv2d as H,sv3d as G,sm4d as A}from\"../../../support/stack.js\";import{boundedPlane as P,plane as z,ray as U}from\"../../../support/geometryUtils.js\";import{evaluateElevationAlignmentAtPoint as T}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as k}from\"../../../layers/graphics/ElevationContext.js\";import{Texture as Z}from\"../../../webgl-engine/lib/Texture.js\";import{EditGeometry as O}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{createManipulatorDragEventPipeline as C,addScreenDelta as V,addMapDelta as X}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as Y}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToZConstrained as I,screenToRenderPlane as L}from\"../dragEventPipeline3D.js\";import{getGraphicAttachmentOrigin as N,calculateInputRotationTransform as F}from\"../../manipulatorUtils.js\";import{canMoveZ as q}from\"../manipulatorUtils.js\";import{createShiftManipulator as J,IsShiftEdgeOnScreenFlag as K,createResizeManipulator as Q,createRotateManipulator as W,resizeNormal as $,resizeOutlineOnly as tt,isDiagonalResizeHandle as et,calculateDiagonalResizeHandleScale as it,createRotatePlane as at,calculateBoundedPlaneTranslateRotate as st,updateRotateHeadingHandle as rt,updateResizeHandle as ot}from\"../../analysisTools/slice/sliceToolUtils.js\";import nt from\"../../analysisTools/slice/images/heading-rotate-png.js\";import{OutlineVisualElement as pt}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as ht}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as lt}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as ct}from\"../manipulations/MoveXYGraphicManipulation.js\";import{ReshapeGeometryHelper as dt}from\"../reshapeGraphic/ReshapeOperation.js\";import{PreserveAspectRatio as ut}from\"./PreserveAspectRatio.js\";import{calculateOrientedBounds as mt,mapPlaneToRenderPlane as gt,apply as yt,unapply as vt}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let ft=class extends(p.EventedMixin(Y)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new ut,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new S,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=P.create(),this.mapBoundsStart=P.create(),this.displayBounds=P.create(),this.displayBoundsStart=P.create(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new ht({graphic:this.graphic});const t=this.graphic.geometry;this.reshapeHelper=new dt(O.fromGeometry(t,this.view.viewingMode),t.type),this.graphicMoveManipulation=new ct({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=J(this.view,0),this.moveZManipulator.state|=K,this.handles.add(this.watch(\"enableZ\",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this._createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=Q(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this.handles.add(this._createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=new Z(nt,{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0}),this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture),this.rotateManipulator=W(this.view,this.rotateManipulatorTexture),this.handles.add(this.watch(\"enableRotation\",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds(this.mapBounds);const i=lt({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>r()});this.outlineVisualElement=i.visualElement instanceof pt?i.visualElement:null,e(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this.updateDisplayBounds(this.mapBounds)))),this.handles.add(i),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this.updateAllManipulatorAvailability())),B(this.graphicState,\"isDraped\",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const a=this.view.pointsOfInterest;a&&this.handles.add(a.focus.watch(\"location\",(()=>this.updateDisplayBounds(this.mapBounds))));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s),this.graphicMoveManipulation.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{1===e&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.graphicMoveManipulation.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability()}graphicDrapedChanged(){this.handles.remove(Mt),this.updateDisplayBounds(this.mapBounds),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{e(this.attachmentOrigin)&&x(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds(this.mapBounds)})),Mt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.graphicState.displaying,a=this.grabbing&&!t.grabbing;t.interactive=!a;const s=this.enableZ&&q(this.graphic);switch(e){case 3:t.available=i&&this.enableRotation;break;case 2:t.available=i&&(this.enableScaling||this.enableRotation||s),t.interactive=!a&&this.enableScaling,t.state=this.enableScaling?$:tt;break;case 0:t.available=i&&s;break;default:t.available=i}}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.reshapeHelper.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds(this.mapBounds)}calculateMapBounds(){const t=this.graphic.geometry,e=this.reshapeHelper.editGeometry,a=e.components[0].edges[0],s=j(H.get(),a.left.pos,a.right.pos);R(s,s);const r=i(N(this.view,this.graphic),t.extent.center);let o=bt*this.view.pixelSizeAt(r);const n=this.view.spatialReference;n!==t.spatialReference&&(o*=b(n)/b(t.spatialReference)),mt(s,e,o,this.mapBounds)}updateDisplayBounds(t){const a=this.graphic.geometry,s=e(this.outlineVisualElement)&&!this.graphicState.isDraped&&e(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:N(this.view,this.graphic);this.attachmentOrigin=i(s,a.extent.center);const r=e(s)?s.z:T(t.origin,this.view.elevationProvider,k.fromElevationInfo(E(this.graphic)),this.view.renderCoordsHelper),o=P.copy(t);u(o.origin,t.origin[0],t.origin[1],r),gt(o,this.view.renderCoordsHelper,a.spatialReference,this.displayBoundsMargin(),this.displayBounds),this.updateManipulators()}displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.focus.location:this.reshapeHelper.geometry.extent.center;return St*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}_createMoveZDragPipeline(){const t=this.view,e=this.reshapeHelper.geometry.spatialReference;return C(this.moveZManipulator,((i,a,s)=>{const r=c(i.renderLocation),o=a.next(I(t,r,e)).next(V());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,i){const a=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},P.copy(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(X()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return i.next((()=>{e(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),a}_moveDragUpdateGeometry(){return t=>{if(a(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const a of this.reshapeHelper.editGeometry.components)e.push(...a.vertices);const i=\"start\"===t.action?0:1,s=this.reshapeHelper.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);z.intersectRay(this.displayBounds.plane,e,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin(),this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,i){return C(t,((t,s,r)=>{a(this.inputState)||(s.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(L(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:i}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),r.next((()=>{e(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin(),s=this.displayBoundsMarginStart,r=m(G.get(),e.origin);g(r,r,e.basis1,-i[0]),g(r,r,e.basis2,-i[1]);const o=y(G.get(),t.renderEnd,r),n=y(G.get(),t.renderStart,r),p=et(t.handle),h=it(e),l=it(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=f(e),r=.5*t*M(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*M(e,n)/i)*h*l}const c=i<1.5*s?1:Bt;return i=Math.max(i-s,Bt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin);g(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),g(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=_(D(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);R(i,i);const a=[];for(const o of this.reshapeHelper.editGeometry.components)a.push(...o.vertices);const s=\"start\"===t.action?0:1,r=this.reshapeHelper.scaleVertices(a,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),i,t.factor1,t.factor2,s,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(r,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=at(this.displayBounds,this.view.renderCoordsHelper,1,z.create()),i=this._calculatePickRay(t.screenPoint);z.intersectRay(e,i,G.get())&&(P.copy(this.displayBounds,this.displayBoundsStart),P.copy(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return C(t,((t,i,s)=>{const r=this.inputState;a(r)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(L(this.view,r.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(r)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:h(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),s.next((()=>{e(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=z.normal(t.rotatePlane),a=F(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=m(d(),this.mapBoundsStart.origin),i=[];for(const r of this.reshapeHelper.editGeometry.components)i.push(...r.vertices);const a=\"start\"===t.action?0:1,s=this.reshapeHelper.rotateVertices(i,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(e),t.rotateAngle,a,1);return P.copy(this.mapBoundsStart,this.mapBounds),yt(s,this.mapBounds),this.graphic.geometry=this.reshapeHelper.geometry,t}}_calculatePickRay(t){const e=U.create(),i=l(t);return U.fromScreen(this.view.state.camera,i,e),v(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=st(this.displayBounds,A.get());rt(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{ot(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:y(G.get(),i.origin,i.basis1),edge:2},s=A.get();w(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.reshapeHelper.editGeometry.lastOperation;a(t)||(this.reshapeHelper.undo(),this.graphic.geometry=this.reshapeHelper.geometry,vt(t,this.mapBounds),this.updateDisplayBounds(this.mapBounds),this.inputState=null)}canUndo(){return this.reshapeHelper.canUndo}undo(){if(e(this.inputState))this.view.activeTool=null;else if(this.canUndo()){const t=this.reshapeHelper.undo();this.graphic.geometry=this.reshapeHelper.geometry,vt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}canRedo(){return this.reshapeHelper.canRedo}redo(){if(this.canRedo()){const t=this.reshapeHelper.redo();this.graphic.geometry=this.reshapeHelper.geometry,yt(s(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}};t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],ft.prototype,\"enableZ\",void 0),t([o()],ft.prototype,\"enableRotation\",void 0),t([o()],ft.prototype,\"enableScaling\",void 0),t([o()],ft.prototype,\"preserveAspectRatio\",null),t([o()],ft.prototype,\"grabbing\",void 0),t([o()],ft.prototype,\"inputState\",void 0),t([o({readOnly:!0})],ft.prototype,\"type\",void 0),ft=t([n(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],ft);const Mt=\"draped-elevation-changes\",St=10,bt=80,Bt=1e-6;export{Bt as EPSILON,ft as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar A=\"data:image/png;base64,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\";export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return _(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{getOwnPropertyMetadata as o}from\"../metadata.js\";import{propertyJSONMeta as i}from\"./property.js\";import{isMultiOriginJSONMixin as n}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as s,isBlobProtocol as u,join as p,getPathExtension as a}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{nameToId as l}from\"../PropertyOrigin.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const n=w(r,t,o);for(const r of e){const e=i(t,r,o);for(const t in n)e[t]=n[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,i,p){const a=o(i,p);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return a.type===String?o:\"function\"==typeof a.type?new a.type({url:o}):void 0},write:{writer(o,i,c,f){if(!f||!f.resources)return\"string\"==typeof o?void(i[c]=y(o,f)):void(i[c]=o.write({},f));const m=P(o),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=a.type!==String&&(!n(this)||f&&f.origin&&this.originIdOf(p)>l(f.origin));f&&f.portalItem&&t(d)&&!s(d)?g?j(this,p,o,d,i,c,f,e):I(d,i,c,f):f&&f.portalItem&&(r(d)||t(h(d))||u(d)||g)?U(this,p,o,d,i,c,f,e):i[c]=d}}}}function U(t,r,o,i,n,s,a,l){const m=c(),y=S(o,i,a),h=p(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=a.portalItem.resourceFromPath(d);u(i)&&a.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===a(p.path)?(O(t,r,p,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,u)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n"],"sourceRoot":""}