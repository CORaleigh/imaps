{"version":3,"sources":["../node_modules/@arcgis/core/layers/Layer.js","../node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","../node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","../node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","../node_modules/@arcgis/core/layers/UnknownLayer.js"],"names":["m","h","e","getLogger","f","y","EventedMixin","u","d","constructor","super","arguments","this","attributionDataUrl","fullExtent","n","p","WGS84","id","Date","now","toString","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","title","type","url","visible","t","r","fromUrl","o","error","portalItem","fromItem","i","a","portal","portalUrl","initialize","when","catch","l","declaredClass","destroy","layers","includes","remove","tables","baseLayers","referenceLayers","s","hasAttributionData","c","query","responseType","data","String","prototype","readOnly","Boolean","nonNullable","Number","range","min","max","json","read","b","_propertyOriginMap","Map","_originStores","Array","_values","clone","forEach","set","has","get","keys","delete","revert","originOf","metadatas","store","Object","internalGet","getAtOrigin","originIdOf","propertyInvalidated","propertyCommitted","clear","write","setAtOrigin","removeOrigin","updateOrigin","toJSON","isDefaultToJSON","O","resourceReferences","paths","_get","_set","readPortalItem","itemId","writePortalItem","load","instance","supportedTypes","validateItem","supportsData","warn","layer","getDefault","restUrl","messages","push","resourceInfo","addResolvingPromise","Promise","layerType","value"],"mappings":"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","file":"static/js/158.d5483b7f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../config.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import p from\"../geometry/SpatialReference.js\";import n from\"../geometry/Extent.js\";import\"../geometry.js\";import y from\"../core/Evented.js\";import{IdentifiableMixin as u}from\"../core/Identifiable.js\";import c from\"../request.js\";import d from\"../core/Loadable.js\";let m=0;const h=e.getLogger(\"esri.layers.Layer\");let f=class extends(y.EventedMixin(u(d))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new n(-180,-90,180,90,p.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=p.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=\"string\"==typeof t?{url:t}:t,e=await import(\"./support/arcgisLayers.js\");try{return await e.fromUrl(r)}catch(o){throw h.error(\"#fromArcGISServerUrl({ url: '\"+r.url+\"'})\",\"Failed to create layer from arcgis server url\",o),o}}static async fromPortalItem(t){const e=\"portalItem\"in t?t:{portalItem:t},o=await import(\"../portal/support/portalLayers.js\");try{return await o.fromItem(e)}catch(i){const t=e&&e.portalItem,o=t&&t.id||\"unset\",a=t&&t.portal&&t.portal.url||r.portalUrl;throw h.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+a+\"', id: '\"+o+\"')\",i),i}}initialize(){this.when().catch((t=>{var r,o;l(t)||e.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${null!=(r=this.title)?r:\"no title\"}', id: '${null!=(o=this.id)?o:\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,r=this.parent;\"layers\"in r&&r.layers.includes(t)?r.layers.remove(t):\"tables\"in r&&r.tables.includes(t)?r.tables.remove(t):\"baseLayers\"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):\"baseLayers\"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?s(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await c(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new a(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([o({type:String})],f.prototype,\"attributionDataUrl\",void 0),t([o({type:n})],f.prototype,\"fullExtent\",void 0),t([o({readOnly:!0})],f.prototype,\"hasAttributionData\",null),t([o({type:String})],f.prototype,\"id\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"legendEnabled\",void 0),t([o({type:[\"show\",\"hide\",\"hide-children\"]})],f.prototype,\"listMode\",void 0),t([o({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,\"opacity\",void 0),t([o()],f.prototype,\"parent\",void 0),t([o({readOnly:!0})],f.prototype,\"parsedUrl\",null),t([o({type:Boolean})],f.prototype,\"popupEnabled\",void 0),t([o({type:Boolean})],f.prototype,\"attributionVisible\",void 0),t([o({type:p})],f.prototype,\"spatialReference\",void 0),t([o({type:String})],f.prototype,\"title\",void 0),t([o({type:String,readOnly:!0,json:{read:!1}})],f.prototype,\"type\",void 0),t([o()],f.prototype,\"url\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"visible\",void 0),f=t([i(\"esri.layers.Layer\")],f);var b=f;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const e of o)t.originOf(e)===s&&t.set(e,t.get(e,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let e=i+1;e<o;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l,isAbortError as m}from\"../../core/promiseUtils.js\";import c from\"../../portal/Portal.js\";import n from\"../../portal/PortalItem.js\";const d=r.getLogger(\"esri.layers.mixins.PortalLayer\"),u=r=>{let u=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new n({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw m(e)||d.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:n})],u.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],u.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],u.prototype,\"writePortalItem\",null),t([e()],u.prototype,\"resourceReferences\",void 0),u=t([s(\"esri.layers.mixins.PortalLayer\")],u),u};export{u as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{schedule as t}from\"../core/scheduling.js\";import p from\"./Layer.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{PortalLayer as n}from\"./mixins/PortalLayer.js\";let c=class extends(n(i(p))){constructor(r){super(r),this.resourceInfo=null,this.type=\"unknown\"}initialize(){this.addResolvingPromise(new Promise(((r,o)=>{t((()=>{const r=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let e=\"Unknown layer type\";r&&(e+=\" \"+r),o(new s(\"layer:unknown-layer-type\",e,{layerType:r}))}))})))}read(r,o){super.read({resourceInfo:r},o)}write(){return null}};r([o({readOnly:!0})],c.prototype,\"resourceInfo\",void 0),r([o({type:[\"show\",\"hide\"]})],c.prototype,\"listMode\",void 0),r([o({json:{read:!1},readOnly:!0,value:\"unknown\"})],c.prototype,\"type\",void 0),c=r([e(\"esri.layers.UnknownLayer\")],c);var u=c;export default u;\n"],"sourceRoot":""}