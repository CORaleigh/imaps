(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[164],{180:function(e,a,r){"use strict";r.d(a,"a",(function(){return i})),r.d(a,"b",(function(){return t}));r(80);function i(e){}function t(e){return()=>e}},193:function(e,a,r){"use strict";r.d(a,"a",(function(){return n}));var i=r(139),t=r(117),n={inches:Object(t.c)(1,"meters","inches"),feet:Object(t.c)(1,"meters","feet"),"us-feet":Object(t.c)(1,"meters","us-feet"),yards:Object(t.c)(1,"meters","yards"),miles:Object(t.c)(1,"meters","miles"),"nautical-miles":Object(t.c)(1,"meters","nautical-miles"),millimeters:Object(t.c)(1,"meters","millimeters"),centimeters:Object(t.c)(1,"meters","centimeters"),decimeters:Object(t.c)(1,"meters","decimeters"),meters:Object(t.c)(1,"meters","meters"),kilometers:Object(t.c)(1,"meters","kilometers"),"decimal-degrees":1/Object(t.m)(1,"meters",i.a.radius)}},233:function(e,a,r){"use strict";function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function t(e){return null!=e&&!isNaN(e)&&isFinite(e)}function n(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function s(e,a){var r=a||n(e),i=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(a,"a",(function(){return n})),r.d(a,"b",(function(){return s})),r.d(a,"c",(function(){return i})),r.d(a,"d",(function(){return t}))},277:function(e,a,r){"use strict";r.r(a),r.d(a,"getAllSizes",(function(){return g})),r.d(a,"getColor",(function(){return p})),r.d(a,"getOpacity",(function(){return b})),r.d(a,"getRotationAngle",(function(){return m})),r.d(a,"getSize",(function(){return h})),r.d(a,"getSizeForValue",(function(){return w})),r.d(a,"getSizeFromNumberOrVariable",(function(){return V})),r.d(a,"getSizeRangeAtScale",(function(){return j})),r.d(a,"getVisualVariableValues",(function(){return y})),r.d(a,"viewScaleRE",(function(){return v}));var i=r(180),t=r(89),n=r(81),s=r(109),l=r(123),c=r(193),u=r(233),o=n.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),f=new l.a,d=Math.PI,v=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function p(e,a,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(i)if("esri.renderers.visualVariables.ColorVariable"===i.declaredClass){var n="number"==typeof a,l=n?null:a,c=l&&l.attributes,u=n?a:null,f=i.field,{ipData:d,hasExpression:v}=i.cache,p=i.cache.compiledFunc;if(!f&&!v){var b=i.stops;return b&&b[0]&&b[0].color}if("number"!=typeof u)if(v){if(!Object(t.k)(r)||!Object(t.k)(r.arcade))return void o.error("Use of arcade expressions requires an arcade context");var m={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,V=h.getViewInfo(m),x=h.createExecContext(l,V);if(!p){var w=h.createSyntaxTree(i.valueExpression);p=h.createFunction(w),i.cache.compiledFunc=p}u=h.executeFunction(p,x)}else c&&(u=c[f]);var j=i.normalizationField,y=c?parseFloat(c[j]):void 0;if(null!=u&&(!j||n||!isNaN(y)&&0!==y)){isNaN(y)||n||(u/=y);var g=O(u,d);if(g){var z=g[0],S=g[1],k=z===S?i.stops[z].color:s.a.blendColors(i.stops[z].color,i.stops[S].color,g[2],Object(t.k)(r)?r.color:void 0);return new s.a(k)}}}else o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function b(e,a,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(i)if("esri.renderers.visualVariables.OpacityVariable"===i.declaredClass){var n="number"==typeof a,s=n?null:a,l=s&&s.attributes,c=n?a:null,u=i.field,{ipData:f,hasExpression:d}=i.cache,v=i.cache.compiledFunc;if(!u&&!d){var p=i.stops;return p&&p[0]&&p[0].opacity}if("number"!=typeof c)if(d){if(Object(t.j)(r)||Object(t.j)(r.arcade))return void o.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,h=m.getViewInfo(b),V=m.createExecContext(s,h);if(!v){var x=m.createSyntaxTree(i.valueExpression);v=m.createFunction(x),i.cache.compiledFunc=v}c=m.executeFunction(v,V)}else l&&(c=l[u]);var w=i.normalizationField,j=l?parseFloat(l[w]):void 0;if(null!=c&&(!w||n||!isNaN(j)&&0!==j)){isNaN(j)||n||(c/=j);var y=O(c,f);if(y){var g=y[0],z=y[1];if(g===z)return i.stops[g].opacity;var S=i.stops[g].opacity;return S+(i.stops[z].opacity-S)*y[2]}}}else o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function m(e,a,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(i){if("esri.renderers.visualVariables.RotationVariable"===i.declaredClass){var n=i.axis||"heading",s="heading"===n&&"arithmetic"===i.rotationType?90:0,l="heading"===n&&"arithmetic"===i.rotationType?-1:1,c="number"==typeof a?null:a,u=c&&c.attributes,f=i.field,{hasExpression:d}=i.cache,v=i.cache.compiledFunc,p=0;if(!f&&!d)return p;if(d){if(Object(t.j)(r)||Object(t.j)(r.arcade))return void o.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,h=m.getViewInfo(b),V=m.createExecContext(c,h);if(!v){var x=m.createSyntaxTree(i.valueExpression);v=m.createFunction(x),i.cache.compiledFunc=v}p=m.executeFunction(v,V)}else u&&(p=u[f]||0);return p="number"!=typeof p||isNaN(p)?null:s+l*p}o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function h(e,a,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(i){if("esri.renderers.visualVariables.SizeVariable"===i.declaredClass){var n=w(function(e,a,r){var i="number"==typeof a,n=i?null:a,s=n&&n.attributes,l=i?a:null,{isScaleDriven:c}=e.cache,f=e.cache.compiledFunc;if(c){var d=Object(t.k)(r)?r.scale:void 0,v=Object(t.k)(r)?r.view:void 0;l=null==d||"3d"===v?function(e){var a=null,r=null,i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}(e):d}else if(!i)switch(e.inputValueType){case"expression":if(Object(t.j)(r)||Object(t.j)(r.arcade))return void o.error("Use of arcade expressions requires an arcade context");var p={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,m=b.getViewInfo(p),h=b.createExecContext(n,m);if(!f){var V=b.createSyntaxTree(e.valueExpression);f=b.createFunction(V),e.cache.compiledFunc=f}l=b.executeFunction(f,h);break;case"field":s&&(l=s[e.field]);break;case"unknown":l=null}if(!Object(u.d)(l))return null;if(i||!e.normalizationField)return l;var x=s?parseFloat(s[e.normalizationField]):null;return Object(u.d)(x)&&0!==x?l/x:null}(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function V(e,a,r){return null==e?null:Object(u.c)(e)?h(e,a,r):Object(u.d)(e)?e:null}function x(e,a,r){return Object(u.d)(r)&&e>r?r:Object(u.d)(a)&&e<a?a:e}function w(e,a,r,i,n){switch(a.transformationType){case"additive":return function(e,a,r,i){return e+(V(a.minSize,r,i)||a.minDataValue)}(e,a,r,i);case"constant":return function(e,a,r){var i=e.stops,t=i&&i.length&&i[0].size;return null==t&&(t=e.minSize),V(t,a,r)}(a,r,i);case"clamped-linear":return function(e,a,r,i){var n=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=V(a.minSize,r,i),l=V(a.maxSize,r,i),c=Object(t.k)(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return l;if("area"===a.scaleBy&&c){var u="circle"===c,o=u?d*Math.pow(s/2,2):s*s,f=o+n*((u?d*Math.pow(l/2,2):l*l)-o);return u?2*Math.sqrt(f/d):Math.sqrt(f)}return s+n*(l-s)}(e,a,r,i);case"proportional":return function(e,a,r,i){var n=Object(t.k)(i)?i.shape:void 0,s=e/a.minDataValue,l=V(a.minSize,r,i),c=V(a.maxSize,r,i);return x("circle"===n?2*Math.sqrt(s*Math.pow(l/2,2)):"square"===n||"diamond"===n||"image"===n?Math.sqrt(s*Math.pow(l,2)):s*l,l,c)}(e,a,r,i);case"stops":return function(e,a,r,i,t){var[n,s,l]=O(e,t);if(n===s)return V(a.stops[n].size,r,i);var c=V(a.stops[n].size,r,i);return c+(V(a.stops[s].size,r,i)-c)*l}(e,a,r,i,n);case"real-world-size":return function(e,a,r,i){var n=(Object(t.k)(i)&&i.resolution?i.resolution:1)*c.a[a.valueUnit],s=V(a.minSize,r,i),l=V(a.maxSize,r,i),{valueRepresentation:u}=a;return x("area"===u?2*Math.sqrt(e/d)/n:"radius"===u||"distance"===u?2*e/n:e/n,s,l)}(e,a,r,i);case"identity":return e;case"unknown":return null}}function j(e,a,r){var{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||a))return null;var t={scale:a,view:r},n=V(e.minSize,f,t),s=V(e.maxSize,f,t);if(null!=n||null!=s){if(n>s){var l=s;s=n,n=l}return{minSize:n,maxSize:s}}}function y(e,a,r){if(e.visualVariables){var i=[],t=[],n=[],s=[],l=[];for(var c of e.visualVariables)switch(c.type){case"color":t.push(c);break;case"opacity":n.push(c);break;case"rotation":l.push(c);break;case"size":s.push(c)}return t.forEach((e=>{var t=p(e,a,r);i.push({variable:e,value:t})})),n.forEach((e=>{var t=b(e,a,r);i.push({variable:e,value:t})})),l.forEach((e=>{var t=m(e,a,r);i.push({variable:e,value:t})})),s.forEach((e=>{var t=h(e,a,r);i.push({variable:e,value:t})})),i.filter((e=>null!=e.value))}}function O(e,a){if(a){var r=0,i=a.length-1;return a.some(((a,t)=>e<a?(i=t,!0):(r=t,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}}function g(e,a,r){var t=["proportional","proportional","proportional"];for(var n of e){var s=n.useSymbolValue?"symbol-value":h(n,a,r);switch(n.axis){case"width":t[0]=s;break;case"depth":t[1]=s;break;case"height":t[2]=s;break;case"width-and-depth":t[0]=s,t[1]=s;break;case"all":case void 0:case null:t[0]=s,t[1]=s,t[2]=s;break;default:Object(i.a)(n.axis)}}return t}}}]);
//# sourceMappingURL=164.7e7bb5d2.chunk.js.map