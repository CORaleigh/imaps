(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[116,55,231,245],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return ee})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return F})),n.d(t,"r",(function(){return k})),n.d(t,"s",(function(){return K})),n.d(t,"t",(function(){return C})),n.d(t,"u",(function(){return A})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return D})),n.d(t,"x",(function(){return J})),n.d(t,"y",(function(){return y})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return H}));var r=n(88),i=n(85),o=n(116),s=n(164),a=n(153);const c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function l(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(f(c,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)f(u,e,t)}function f(e,t,n){if(e)for(const r of e){const e=Object(o.b)(r,t),i=e&&"function"!=typeof e&&n.get(e);i&&Object(o.c)(r,i.name,t)}}function d(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=n&&n.name||null,e.endField=r&&r.name||null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=r&&r.name||null}}const h=new Set;function p(e,t){return e&&t?(h.clear(),m(h,e,t),Array.from(h).sort()):[]}function m(e,t,n){var r;if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of n)g(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function g(e,t,n){if("string"==typeof n)if(t){const r=t.get(n);r&&e.add(r.name)}else e.add(n)}function y(e,t){return Object(i.j)(t)||Object(i.j)(e)?[]:t.includes("*")?e.fields.map((e=>e.name)):t}async function b(e,t,n){var r;if(!n)return;const{arcadeUtils:i}=await Object(a.e)(),o=i.extractFieldNames(n,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const s of o)g(e,t,s)}async function O(e,t,i){if(i&&"1=1"!==i){const o=(await Promise.all([n.e(11),n.e(245)]).then(n.bind(null,346))).WhereClause.create(i,t);if(!o.isStandardized)throw new r.a("fieldUtils:collectFilterFields","Where clause is not standardized");m(e,t,o.fieldNames)}}function x({displayField:e,fields:t}){return e||(t&&t.length?j(t,"name-or-title")||j(t,"unique-identifier")||j(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function j(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}async function w(e,t){if(!t)return;const n=Object(o.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,t.fieldsIndex):void 0}async function M(e,t,n){var r;if(!t||!n||"cluster"!==n.type)return;const i=[];null!=(r=n.popupTemplate)&&r.expressionInfos&&i.push(...n.popupTemplate.expressionInfos.map((n=>b(e,t.fieldsIndex,n.expression)))),n.fields&&i.push(...n.fields.map((n=>async function(e,t,n){n.outStatistic.onStatisticValueExpression?b(e,t,n.outStatistic.onStatisticValueExpression):e.add(n.outStatistic.onStatisticField)}(e,t.fieldsIndex,n)))),await Promise.all(i)}async function v(e,t,n){t&&(t.timeInfo&&Object(i.k)(n)&&n.timeExtent&&m(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&m(e,t.fieldsIndex,[t.floorInfo.floorField]),Object(i.k)(n)&&Object(i.k)(n.where)&&await O(e,t.fieldsIndex,n.where))}async function _(e,t,n){t&&n&&await Promise.all(n.map((n=>async function(e,t,n){t&&n&&(n.valueExpression?await b(e,t.fieldsIndex,n.valueExpression):n.field&&g(e,t.fieldsIndex,n.field))}(e,t,n))))}function I(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?p(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function F(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?p(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function S(e,t){const{labelingInfo:n,fieldsIndex:r}=t;n&&n.length&&await Promise.all(n.map((t=>async function(e,t,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if("arcade"===r.type)await b(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{g(e,t,n.slice(1,-1))}))}await O(e,t,i)}(e,r,t))))}function k(e){const t=e.defaultValue;return void 0!==t&&L(e,t)?t:e.nullable?null:void 0}function N(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function T(e){return null===e||N(e)}const R="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function q(e){return null===e||R(e)}function P(e){return null!=e&&"string"==typeof e}function z(e){return null===e||P(e)}function E(){return!0}function L(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?q:R;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?T:N;break;case"string":case"esriFieldTypeString":n=e.nullable?z:P;break;default:n=E}return 1===arguments.length?n:n(t)}const D=["integer","small-integer","single","double"],G=new Set([...D,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function A(e){return null!=e&&G.has(e.type)}function U(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function C(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var V,$;function J(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function Z(e,t){return e.nullable&&null===t?null:A(e)&&!function(e,t){const n="string"==typeof e?W(e):e;return!!n&&(n.isInteger?R(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?V.OUT_OF_RANGE:L(e,t)?e.domain?Object(s.e)(e.domain,t):null:$.INVALID_TYPE}function K(e){return Object(s.c)(e.domain)||(A(e)?W(e.type):void 0)}function W(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Y;case"esriFieldTypeInteger":case"integer":return Q;case"esriFieldTypeSingle":case"single":return X;case"esriFieldTypeDouble":case"double":return B}}(V||(V={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}($||($={}));const Y={min:-32768,max:32767,isInteger:!0},Q={min:-2147483648,max:2147483647,isInteger:!0},X={min:-34e37,max:12e37,isInteger:!1},B={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function H(e,t,n){switch(e){case s.a.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case s.a.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case $.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case V.OUT_OF_RANGE:{const{min:e,max:r}=W(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function ee(e,t){return!function(e,t,n){if(!t||!t.attributes||!e){if(Object(i.k)(n))for(const t of e)n.add(t);return!0}const r=t.attributes;let o=!1;for(const s of e)if(!(s in r)){if(o=!0,!Object(i.k)(n))break;n.add(s)}return o}(e,t,null)}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"m",(function(){return I})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return c})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return M})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return l})),n.d(t,"w",(function(){return m}));n(79),n(108);var r=n(85),i=n(99);function o(e=k){return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function c(e,t,n,r,i=o()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function u(e,t=o()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new i.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function f(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function d(e,t,n){if(Object(r.j)(t))a(n,e);else if("length"in t)F(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax);break;case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}}function h(e,t,n=e){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3];for(let c=0;c<r;c++){const e=t[c];i=Math.min(i,e[0]),o=Math.min(o,e[1]),s=Math.max(s,e[0]),a=Math.max(a,e[1])}return n[0]=i,n[1]=o,n[2]=s,n[3]=a,n}function p(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function m(e){return Object(r.j)(e)||e[0]>=e[2]?0:e[2]-e[0]}function g(e){return e[1]>=e[3]?0:e[3]-e[1]}function y(e){return m(e)*g(e)}function b(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function O(e,t){return j(e,t[0],t[1])}function x(e,t){return j(e,t.x,t.y)}function j(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function w(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function M(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function v(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function _(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function I(e){return e?a(e,S):o(S)}function F(e){return null!=e&&4===e.length}const S=[1/0,1/0,-1/0,-1/0],k=[0,0,0,0]},1364:function(e,t,n){"use strict";n.r(t),n.d(t,"csvLatitudeFieldNames",(function(){return N})),n.d(t,"csvLongitudeFieldNames",(function(){return T})),n.d(t,"default",(function(){return D}));n(98);var r=n(100),i=n(88),o=n(79),s=n(839),a=n(96),c=n(178),u=n(434),l=n(106),f=n(158),d=n(237),h=n(167),p=n(847),m=n(394),g=n(770);const y=/^\s*"([\S\s]*)"\s*$/,b=/""/g,O=[","," ",";","|","\t"];function x(e,t){const n={},r=e.length;for(let i=0;i<r;i++)n[e[i]]=t[i];return n}function*j(e,t,n){let r=0;for(;r<=e.length;){const i=e.indexOf(t,r),o=e.substring(r,i>-1?i:void 0);r+=o.length+t.length,n&&!o.trim()||(yield o)}}function w(e){const t=e.includes("\r\n")?"\r\n":"\n";return j(e,t,!0)}function*M(e,t,n){let r="",i="",o=0,s=[];e:for(;;){const{value:a,done:c}=e.next();if(c)return;const u=j(a,n,!1);t:for(;;){const{value:e,done:t}=u.next();if(t)break t;if(r+=i+e,i="",o+=v(e),o%2==0){if(o>0){const e=y.exec(r);if(!e){s=[],r="",o=0;continue e}s.push(e[1].replace(b,'"'))}else s.push(r);r="",o=0}else i=n}0===o?(yield x(t,s),s=[]):i="\n"}}function v(e){let t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}var _=n(590),I=n(230),F=n(93);const S=Object(_.d)("esriGeometryPoint"),k=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],N=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],T=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],R=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,q=["csv"],P=[0,0];class z{constructor(e,t){this.x=e,this.y=t}}const E=function(){const e=Object(s.a)(),t=new RegExp("^"+e.regexp+"$"),n=new RegExp("["+e.group+"\\s\\xa0]","g"),r=e.factor;return function(i){const o=t.exec(i);if(e.factor=r,!o)return NaN;let s=o[1];if(!o[1]){if(!o[2])return NaN;s=o[2],e.factor*=-1}return s=s.replace(n,"").replace(e.decimal,"."),+s*e.factor}}(),L="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;class D{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[n]=await Promise.all([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),r=this._parse(n,e);if(this._queryEngine=this._createQueryEngine(n,r),r.layerDefinition.extent=this._queryEngine.fullExtent,r.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;r.layerDefinition.timeInfo.timeExtent=[e,t]}return r}async applyEdits(){throw new i.a("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer")}queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e,t={}){return this._queryEngine.executeQueryForSnapping(e,t.signal)}async _fetch(e,t){if(!e)throw new i.a("csv-source:invalid-source","url not defined");const n=Object(a.K)(e);return(await Object(r.default)(n.path,{query:n.query,responseType:"text",signal:t.signal})).data}_parse(e,t){const n=t.parsing||{},r={columnDelimiter:n.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:n.latitudeField,longitudeFieldName:n.longitudeField}},o=w(e);let{value:s}=o.next();if(!s)throw new i.a("csv","CSV is empty",{csv:e});if(s=s.trim(),!n.columnDelimiter){const e=function(e){const t=e.trim();let n=0,r="";for(const i of O){const e=t.split(i).length;e>n&&(n=e,r=i)}return""===r?null:r}(s);if(!e)throw new i.a("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");r.columnDelimiter=e}const c=s.split(r.columnDelimiter),u=r.layerDefinition={name:Object(a.k)(t.url,q)||"csv",drawingInfo:S,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:n.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:n.spatialReference||{wkid:102100}}};if(!n.latitudeField||!n.longitudeField){const e=this._inferLocationInfo(c);if(!n.longitudeField&&!e.longitudeFieldName||!n.latitudeField&&!e.latitudeFieldName)throw new i.a("csv","Unable to identify latitudeField and/or longitudeField from CSV");r.locationInfo={longitudeFieldName:n.longitudeField||e.longitudeFieldName,latitudeFieldName:n.latitudeField||e.latitudeFieldName}}const l=this._inferFields(o,r.columnDelimiter,c,r.locationInfo);if(n.fields&&n.fields.length){const e=new Map;for(const t of n.fields)e.set(t.name.toLowerCase(),t);for(const t of l){const n=e.get(t.name.toLowerCase());if(n){const e=t.name;Object.assign(t,n),t.name=e}}}if(u.fields=l,!u.fields.some((e=>"esriFieldTypeOID"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new I.a(u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type="esriFieldTypeDate"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type="esriFieldTypeDate"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return r}_inferLocationInfo(e){let t=null,n=null;const r=t=>e.find((e=>e.toLowerCase()===t));return T.some((e=>(t=r(e),!!t))),N.some((e=>(n=r(e),!!n))),{longitudeFieldName:t,latitudeFieldName:n}}_inferFields(e,t,n,r){const i=[],o=M(e,n,t),s=[];e:for(;s.length<10;){const{value:e,done:t}=o.next();if(t)break e;s.push(e)}for(const a of n)if(a===r.longitudeFieldName||a===r.latitudeFieldName)i.push({name:a,type:"esriFieldTypeDouble",alias:a});else{const e=s.map((e=>e[a])),t=this._inferFieldType(e),n={name:a,type:null,alias:a};switch(t){case"integer":n.type="esriFieldTypeInteger";break;case"double":n.type="esriFieldTypeDouble";break;case"date":n.type="esriFieldTypeDate",n.length=36;break;default:n.type="esriFieldTypeString",n.length=255}i.push(n)}return i}_inferFieldType(e){if(!e.length)return"string";const t=/[^+-.,0-9]/;return e.map((e=>{let n=!1;if(""!==e){if(t.test(e))n=!0;else{let t=E(e);if(!isNaN(t))return/[.,]/.test(e)||!L(t)||t>214783647||t<-214783648?"double":"integer";if(-1===e.indexOf("E"))n=!0;else{if(t=Number(e),!isNaN(t))return"double";if(-1===e.indexOf(","))n=!0;else{if(e=e.replace(",","."),t=Number(e),!isNaN(t))return"double";n=!0}}}if(n){if(!/^[-]?\d*[.,]?\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?"date":"string"}return"string"}return"string"}})).reduce(((e,t)=>void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0))}_isValidDate(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;let n=!0;if(Object(o.a)("chrome")&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,r=0;for(;!t&&r<=e.length;)t=!R.test(e[r]),r++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:n,longitudeFieldName:r}=t.locationInfo,{objectIdField:i,fields:o,extent:s,timeInfo:a}=t.layerDefinition;let m=[];const y=[],b=new Set,O=new Set,x=[];for(const{name:c,type:u}of o)"esriFieldTypeDate"===u?b.add(c):k.indexOf(u)>-1&&O.add(c),c!==i&&x.push(c);let j=0;const v=w(e);v.next();const _=M(v,x,t.columnDelimiter);e:for(;;){const{value:e,done:t}=_.next();if(t)break e;const o=this._parseCoordinateValue(e[n]),s=this._parseCoordinateValue(e[r]);if(null!=s&&null!=o&&!isNaN(o)&&!isNaN(s)){e[n]=o,e[r]=s;for(const t in e)if(t!==n&&t!==r)if(b.has(t)){const n=new Date(e[t]);e[t]=this._isValidDate(n,e[t])?n.getTime():null}else if(O.has(t)){const n=E(e[t]);isNaN(n)?e[t]=null:e[t]=n}e[i]=j,j++,m.push(new z(s,o)),y.push(e)}}if(!Object(l.d)({wkid:4326},s.spatialReference))if(Object(l.p)(s.spatialReference))for(const c of m)[c.x,c.y]=Object(f.c)(c.x,c.y,P);else m=Object(c.o)(u.a,m,F.a.WGS84,s.spatialReference,null);const I=new p.a({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),S=new g.a({fields:t.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:a,objectIdField:i,spatialReference:s.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:I}),N=[];for(let c=0;c<m.length;c++){const{x:e,y:t}=m[c],n=y[c];n[i]=c+1,N.push(new d.b(new h.a([],[e,t]),n,null,n[i]))}return I.addMany(N),S}_parseCoordinateValue(e){if(null==e||""===e)return null;let t=E(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await Object(m.a)(l.b,e)}catch{throw new i.a("csv-layer","Projection not supported")}}}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return F})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return s})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return v}));var r=n(101),i=n(171);function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,n,r,i,o,s,a,c,u,l,f,d,h,p,m,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=c,e[8]=u,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=m,e[15]=g,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){const n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function u(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],g=t[14],y=t[15],b=n*a-r*s,O=n*c-i*s,x=n*u-o*s,j=r*c-i*a,w=r*u-o*a,M=i*u-o*c,v=l*m-f*p,_=l*g-d*p,I=l*y-h*p,F=f*g-d*m,S=f*y-h*m,k=d*y-h*g;let N=b*k-O*S+x*F+j*I-w*_+M*v;return N?(N=1/N,e[0]=(a*k-c*S+u*F)*N,e[1]=(i*S-r*k-o*F)*N,e[2]=(m*M-g*w+y*j)*N,e[3]=(d*w-f*M-h*j)*N,e[4]=(c*I-s*k-u*_)*N,e[5]=(n*k-i*I+o*_)*N,e[6]=(g*x-p*M-y*O)*N,e[7]=(l*M-d*x+h*O)*N,e[8]=(s*S-a*I+u*v)*N,e[9]=(r*I-n*S-o*v)*N,e[10]=(p*w-m*x+y*b)*N,e[11]=(f*x-l*w-h*b)*N,e[12]=(a*_-s*F-c*v)*N,e[13]=(n*F-r*_+i*v)*N,e[14]=(m*O-p*j-g*b)*N,e[15]=(l*j-f*O+d*b)*N,e):null}function l(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],m=t[12],g=t[13],y=t[14],b=t[15];let O=n[0],x=n[1],j=n[2],w=n[3];return e[0]=O*r+x*a+j*f+w*m,e[1]=O*i+x*c+j*d+w*g,e[2]=O*o+x*u+j*h+w*y,e[3]=O*s+x*l+j*p+w*b,O=n[4],x=n[5],j=n[6],w=n[7],e[4]=O*r+x*a+j*f+w*m,e[5]=O*i+x*c+j*d+w*g,e[6]=O*o+x*u+j*h+w*y,e[7]=O*s+x*l+j*p+w*b,O=n[8],x=n[9],j=n[10],w=n[11],e[8]=O*r+x*a+j*f+w*m,e[9]=O*i+x*c+j*d+w*g,e[10]=O*o+x*u+j*h+w*y,e[11]=O*s+x*l+j*p+w*b,O=n[12],x=n[13],j=n[14],w=n[15],e[12]=O*r+x*a+j*f+w*m,e[13]=O*i+x*c+j*d+w*g,e[14]=O*o+x*u+j*h+w*y,e[15]=O*s+x*l+j*p+w*b,e}function f(e,t,n){const r=n[0],i=n[1],o=n[2];let s,a,c,u,l,f,d,h,p,m,g,y;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15]):(s=t[0],a=t[1],c=t[2],u=t[3],l=t[4],f=t[5],d=t[6],h=t[7],p=t[8],m=t[9],g=t[10],y=t[11],e[0]=s,e[1]=a,e[2]=c,e[3]=u,e[4]=l,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=m,e[10]=g,e[11]=y,e[12]=s*r+l*i+p*o+t[12],e[13]=a*r+f*i+m*o+t[13],e[14]=c*r+d*i+g*o+t[14],e[15]=u*r+h*i+y*o+t[15]),e}function d(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function h(e,t,n,r){let o,s,a,c,u,l,f,d,h,p,m,g,y,b,O,x,j,w,M,v,_,I,F,S,k=r[0],N=r[1],T=r[2],R=Math.sqrt(k*k+N*N+T*T);return R<i.a?null:(R=1/R,k*=R,N*=R,T*=R,o=Math.sin(n),s=Math.cos(n),a=1-s,c=t[0],u=t[1],l=t[2],f=t[3],d=t[4],h=t[5],p=t[6],m=t[7],g=t[8],y=t[9],b=t[10],O=t[11],x=k*k*a+s,j=N*k*a+T*o,w=T*k*a-N*o,M=k*N*a-T*o,v=N*N*a+s,_=T*N*a+k*o,I=k*T*a+N*o,F=N*T*a-k*o,S=T*T*a+s,e[0]=c*x+d*j+g*w,e[1]=u*x+h*j+y*w,e[2]=l*x+p*j+b*w,e[3]=f*x+m*j+O*w,e[4]=c*M+d*v+g*_,e[5]=u*M+h*v+y*_,e[6]=l*M+p*v+b*_,e[7]=f*M+m*v+O*_,e[8]=c*I+d*F+g*S,e[9]=u*I+h*F+y*S,e[10]=l*I+p*F+b*S,e[11]=f*I+m*F+O*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function p(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],a=t[6],c=t[7],u=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=s*i+l*r,e[6]=a*i+f*r,e[7]=c*i+d*r,e[8]=u*i-o*r,e[9]=l*i-s*r,e[10]=f*i-a*r,e[11]=d*i-c*r,e}function m(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=s*i-l*r,e[2]=a*i-f*r,e[3]=c*i-d*r,e[8]=o*r+u*i,e[9]=s*r+l*i,e[10]=a*r+f*i,e[11]=c*r+d*i,e}function g(e,t,n){const r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],a=t[2],c=t[3],u=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=s*i+l*r,e[2]=a*i+f*r,e[3]=c*i+d*r,e[4]=u*i-o*r,e[5]=l*i-s*r,e[6]=f*i-a*r,e[7]=d*i-c*r,e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function b(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=r+r,c=i+i,u=o+o,l=r*a,f=r*c,d=r*u,h=i*c,p=i*u,m=o*u,g=s*a,y=s*c,b=s*u;return e[0]=1-(h+m),e[1]=f+b,e[2]=d-y,e[3]=0,e[4]=f-b,e[5]=1-(l+m),e[6]=p+g,e[7]=0,e[8]=d+y,e[9]=p-g,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}const w=Object(r.e)();function M(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function v(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,c=i+i,u=n*s,l=r*s,f=r*a,d=i*s,h=i*a,p=i*c,m=o*s,g=o*a,y=o*c;return e[0]=1-f-p,e[1]=l+y,e[2]=d-g,e[3]=0,e[4]=l-y,e[5]=1-u-p,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t,n,r,i,o,s){const a=1/(n-t),c=1/(i-r),u=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*c,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(i+r)*c,e[10]=(s+o)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*u,e[15]=0,e}function I(e,t,n,r,i,o,s){const a=1/(t-n),c=1/(r-i),u=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*a,e[13]=(i+r)*c,e[14]=(s+o)*u,e[15]=1,e}function F(e,t,n,r){let o,s,c,u,l,f,d,h,p,m;const g=t[0],y=t[1],b=t[2],O=r[0],x=r[1],j=r[2],w=n[0],M=n[1],v=n[2];return Math.abs(g-w)<i.a&&Math.abs(y-M)<i.a&&Math.abs(b-v)<i.a?a(e):(d=g-w,h=y-M,p=b-v,m=1/Math.sqrt(d*d+h*h+p*p),d*=m,h*=m,p*=m,o=x*p-j*h,s=j*d-O*p,c=O*h-x*d,m=Math.sqrt(o*o+s*s+c*c),m?(m=1/m,o*=m,s*=m,c*=m):(o=0,s=0,c=0),u=h*c-p*s,l=p*o-d*c,f=d*s-h*o,m=Math.sqrt(u*u+l*l+f*f),m?(m=1/m,u*=m,l*=m,f*=m):(u=0,l=0,f=0),e[0]=o,e[1]=u,e[2]=d,e[3]=0,e[4]=s,e[5]=l,e[6]=h,e[7]=0,e[8]=c,e[9]=f,e[10]=p,e[11]=0,e[12]=-(o*g+s*y+c*b),e[13]=-(u*g+l*y+f*b),e[14]=-(d*g+h*y+p*b),e[15]=1,e)}function S(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function k(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function N(e,t){const n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],m=e[12],g=e[13],y=e[14],b=e[15],O=t[0],x=t[1],j=t[2],w=t[3],M=t[4],v=t[5],_=t[6],I=t[7],F=t[8],S=t[9],k=t[10],N=t[11],T=t[12],R=t[13],q=t[14],P=t[15];return Math.abs(n-O)<=i.a*Math.max(1,Math.abs(n),Math.abs(O))&&Math.abs(r-x)<=i.a*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-j)<=i.a*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(s-w)<=i.a*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-M)<=i.a*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(c-v)<=i.a*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-_)<=i.a*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-I)<=i.a*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(f-F)<=i.a*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(d-S)<=i.a*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(h-k)<=i.a*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-N)<=i.a*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(m-T)<=i.a*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(g-R)<=i.a*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(y-q)<=i.a*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(b-P)<=i.a*Math.max(1,Math.abs(b),Math.abs(P))}function T(e){const t=i.a,n=e[0],r=e[1],o=e[2],s=e[4],a=e[5],c=e[6],u=e[8],l=e[9],f=e[10];return Math.abs(1-(n*n+s*s+u*u))<=t&&Math.abs(1-(r*r+a*a+l*l))<=t&&Math.abs(1-(o*o+c*c+f*f))<=t}const R=l,q=S;Object.freeze({__proto__:null,copy:o,set:s,identity:a,transpose:c,invert:u,adjoint:function(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],g=t[14],y=t[15];return e[0]=a*(d*y-h*g)-f*(c*y-u*g)+m*(c*h-u*d),e[1]=-(r*(d*y-h*g)-f*(i*y-o*g)+m*(i*h-o*d)),e[2]=r*(c*y-u*g)-a*(i*y-o*g)+m*(i*u-o*c),e[3]=-(r*(c*h-u*d)-a*(i*h-o*d)+f*(i*u-o*c)),e[4]=-(s*(d*y-h*g)-l*(c*y-u*g)+p*(c*h-u*d)),e[5]=n*(d*y-h*g)-l*(i*y-o*g)+p*(i*h-o*d),e[6]=-(n*(c*y-u*g)-s*(i*y-o*g)+p*(i*u-o*c)),e[7]=n*(c*h-u*d)-s*(i*h-o*d)+l*(i*u-o*c),e[8]=s*(f*y-h*m)-l*(a*y-u*m)+p*(a*h-u*f),e[9]=-(n*(f*y-h*m)-l*(r*y-o*m)+p*(r*h-o*f)),e[10]=n*(a*y-u*m)-s*(r*y-o*m)+p*(r*u-o*a),e[11]=-(n*(a*h-u*f)-s*(r*h-o*f)+l*(r*u-o*a)),e[12]=-(s*(f*g-d*m)-l*(a*g-c*m)+p*(a*d-c*f)),e[13]=n*(f*g-d*m)-l*(r*g-i*m)+p*(r*d-i*f),e[14]=-(n*(a*g-c*m)-s*(r*g-i*m)+p*(r*c-i*a)),e[15]=n*(a*d-c*f)-s*(r*d-i*f)+l*(r*c-i*a),e},determinant:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],g=e[15];return(t*s-n*o)*(f*g-d*m)-(t*a-r*o)*(l*g-d*p)+(t*c-i*o)*(l*m-f*p)+(n*a-r*s)*(u*g-d*h)-(n*c-i*s)*(u*m-f*h)+(r*c-i*a)*(u*p-l*h)},multiply:l,translate:f,scale:d,rotate:h,rotateX:p,rotateY:m,rotateZ:g,fromTranslation:y,fromScaling:b,fromRotation:function(e,t,n){let r,o,s,a=n[0],c=n[1],u=n[2],l=Math.sqrt(a*a+c*c+u*u);return l<i.a?null:(l=1/l,a*=l,c*=l,u*=l,r=Math.sin(t),o=Math.cos(t),s=1-o,e[0]=a*a*s+o,e[1]=c*a*s+u*r,e[2]=u*a*s-c*r,e[3]=0,e[4]=a*c*s-u*r,e[5]=c*c*s+o,e[6]=u*c*s+a*r,e[7]=0,e[8]=a*u*s+c*r,e[9]=c*u*s-a*r,e[10]=u*u*s+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:O,fromYRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:x,fromRotationTranslation:j,fromQuat2:function(e,t){const n=w,r=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],f=r*r+i*i+o*o+s*s;return f>0?(n[0]=2*(a*s+l*r+c*o-u*i)/f,n[1]=2*(c*s+l*i+u*r-a*o)/f,n[2]=2*(u*s+l*o+a*i-c*r)/f):(n[0]=2*(a*s+l*r+c*o-u*i),n[1]=2*(c*s+l*i+u*r-a*o),n[2]=2*(u*s+l*o+a*i-c*r)),j(e,t,n),e},getTranslation:M,getScaling:function(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],c=t[8],u=t[9],l=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(c*c+u*u+l*l),e},getRotation:function(e,t){const n=t[0]+t[5]+t[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=t[3],c=i+i,u=o+o,l=s+s,f=i*c,d=i*u,h=i*l,p=o*u,m=o*l,g=s*l,y=a*c,b=a*u,O=a*l,x=r[0],j=r[1],w=r[2];return e[0]=(1-(p+g))*x,e[1]=(d+O)*x,e[2]=(h-b)*x,e[3]=0,e[4]=(d-O)*j,e[5]=(1-(f+g))*j,e[6]=(m+y)*j,e[7]=0,e[8]=(h+b)*w,e[9]=(m-y)*w,e[10]=(1-(f+p))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,n,r,i){const o=t[0],s=t[1],a=t[2],c=t[3],u=o+o,l=s+s,f=a+a,d=o*u,h=o*l,p=o*f,m=s*l,g=s*f,y=a*f,b=c*u,O=c*l,x=c*f,j=r[0],w=r[1],M=r[2],v=i[0],_=i[1],I=i[2],F=(1-(m+y))*j,S=(h+x)*j,k=(p-O)*j,N=(h-x)*w,T=(1-(d+y))*w,R=(g+b)*w,q=(p+O)*M,P=(g-b)*M,z=(1-(d+m))*M;return e[0]=F,e[1]=S,e[2]=k,e[3]=0,e[4]=N,e[5]=T,e[6]=R,e[7]=0,e[8]=q,e[9]=P,e[10]=z,e[11]=0,e[12]=n[0]+v-(F*v+N*_+q*I),e[13]=n[1]+_-(S*v+T*_+P*I),e[14]=n[2]+I-(k*v+R*_+z*I),e[15]=1,e},fromQuat:v,frustum:_,perspective:function(e,t,n,r,i){const o=1/Math.tan(t/2);let s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,n,r){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),c=2/(s+a),u=2/(i+o);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(s-a)*c*.5,e[9]=(i-o)*u*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},ortho:I,lookAt:F,targetTo:function(e,t,n,r){const i=t[0],o=t[1],s=t[2],a=r[0],c=r[1],u=r[2];let l=i-n[0],f=o-n[1],d=s-n[2],h=l*l+f*f+d*d;h>0&&(h=1/Math.sqrt(h),l*=h,f*=h,d*=h);let p=c*d-u*f,m=u*l-a*d,g=a*f-c*l;return h=p*p+m*m+g*g,h>0&&(h=1/Math.sqrt(h),p*=h,m*=h,g*=h),e[0]=p,e[1]=m,e[2]=g,e[3]=0,e[4]=f*g-d*m,e[5]=d*p-l*g,e[6]=l*m-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},subtract:S,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},exactEquals:k,equals:N,isOrthoNormal:T,mul:R,sub:q})},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c}));var r=n(85),i=n(89);function o(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r]))))}function s(e,t,n){return Object(i.j)(e.map(((e,r)=>t.apply(n,[e,r])))).then((e=>e.map((e=>e.value))))}function a(e){return Object(r.j)(e)?Object(i.t)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function c(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(i.u)(e),{ok:!1,error:e})))}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return q})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return fe})),n.d(t,"q",(function(){return re})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return le})),n.d(t,"t",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"v",(function(){return b})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return ce})),n.d(t,"y",(function(){return ee})),n.d(t,"z",(function(){return ae}));var r=n(88),i=n(80),o=n(85),s=n(95),a=n(237),c=n(279),u=n(167);function l(e,t){return e?t?4:3:t?3:2}const f=i.a.getLogger("esri.tasks.support.optimizedFeatureSet"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},h=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o},p=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2]},m=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+3]},g=(e,t,n,r,i,o)=>{e[n]=i,e[n+1]=o,e[n+2]=t[r+2],e[n+3]=t[r+3]};function y(e,t,n,r){if(e){if(n)return t&&r?g:p;if(t&&r)return m}else if(t&&r)return p;return h}function b({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function O({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function x({scale:e,translate:t},n){return n*e[0]+t[0]}function j({scale:e,translate:t},n){return t[1]-n*e[1]}function w(e,t,n){return e?t?n?k(e):_(e):n?F(e):M(e):null}function M(e){const t=e.coords;return{x:t[0],y:t[1]}}function v(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function _(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function I(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function F(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function S(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function k(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function N(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function T(e,t){return e&&t?N:e?I:t?S:v}function R(e,t,n,r,i){const o=T(n,r);for(const s of t){const{geometry:t,attributes:n}=s;let r;t&&(r=o(new u.a,t)),e.push(new a.b(r,n,null,n[i]))}return e}function q(e,t,n){if(Object(o.j)(e))return null;const r=l(t,n),i=[];for(let o=0;o<e.coords.length;o+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[o+n]);i.push(t)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function P(e,t,n,r,i){const o=l(n,r);for(const s of t){const t=s.geometry,n=s.attributes;let r;t&&(r=z(new u.a,t,o)),e.push(new a.b(r,n,null,n[i]))}return e}function z(e,t,n=l(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let i=0;for(const o of t.points)for(let e=0;e<n;e++)r[i++]=o[e];return e}function E(e,t,n){if(!e)return null;const r=l(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const c of o){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{paths:s,hasZ:t,hasM:n}:{paths:s,hasZ:t}:n?{paths:s,hasM:n}:{paths:s}}function L(e,t,n,r,i){const o=l(n,r);for(const s of t){const t=s.geometry,n=s.attributes;let r;t&&(r=D(new u.a,t,o)),e.push(new a.b(r,n,null,n[i]))}return e}function D(e,t,n=l(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e;let o=0;for(const s of t.paths){for(const e of s)for(let t=0;t<n;t++)i[o++]=e[t];r.push(s.length)}return e}function G(e,t,n){if(!e)return null;const r=l(t,n),{coords:i,lengths:o}=e,s=[];let a=0;for(const c of o){const e=[];for(let t=0;t<c;t++){const t=[];for(let e=0;e<r;e++)t.push(i[a++]);e.push(t)}s.push(e)}return t?n?{rings:s,hasZ:t,hasM:n}:{rings:s,hasZ:t}:n?{rings:s,hasM:n}:{rings:s}}function A(e,t,n,r,i){for(const s of t){const t=s.geometry,c=s.centroid,l=s.attributes;let f;t&&(f=U(new u.a,t,n,r)),Object(o.k)(c)?e.push(new a.b(f,l,v(new u.a,c),l[i])):e.push(new a.b(f,l,null,l[i]))}return e}function U(e,t,n=t.hasZ,r=t.hasM){return C(e,t.rings,n,r),e}function C(e,t,n,r){const i=l(n,r),{lengths:o,coords:s}=e;let a=0;o.length=s.length=0;for(const c of t){for(const e of c)for(let t=0;t<i;t++)s[a++]=e[t];o.push(c.length)}return e}const V=[],$=[];function J(e,t,n,r,i){V[0]=e;const[o]=Z($,V,t,n,r,i);return V.length=$.length=0,o}function Z(e,t,n,i,o,s){if(e.length=0,!n){for(const n of t){const t=n.attributes[s];e.push(new a.b(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return R(e,t,i,o,s);case"esriGeometryMultipoint":return P(e,t,i,o,s);case"esriGeometryPolyline":return L(e,t,i,o,s);case"esriGeometryPolygon":return A(e,t,i,o,s);default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`)),e.length=0}return e}function K(e,t,n,i,o,s){const a=e.length;switch(n){case"esriGeometryPoint":R(e,t,i,o,s);break;case"esriGeometryMultipoint":P(e,t,i,o,s);break;case"esriGeometryPolyline":L(e,t,i,o,s);break;case"esriGeometryPolygon":A(e,t,i,o,s);break;default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<t.length;r++)e[r+a].geometryType=n,e[r+a].insertAfter=t[r].insertAfter,e[r+a].groupId=t[r].groupId;return e}function W(e,t,n,r){$[0]=e,X(V,$,t,n,r);const i=V[0];return V.length=$.length=0,i}function Y(e,t,n){if(Object(o.j)(e))return null;const i=new u.a;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),Object(s.f)(e)?T(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(i,e):Object(s.g)(e)?U(i,e,t,n):Object(s.h)(e)?D(i,e,l(t,n)):Object(s.e)(e)?z(i,e,l(t,n)):void f.error("convertFromGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${e}'`))}function Q(e,t,n,i){const s=e&&("coords"in e?e:e.geometry);if(Object(o.j)(s))return null;switch(t){case"esriGeometryPoint":{let e=M;return n&&i?e=k:n?e=_:i&&(e=F),e(s)}case"esriGeometryMultipoint":return q(s,n,i);case"esriGeometryPolyline":return E(s,n,i);case"esriGeometryPolygon":return G(s,n,i);default:return void f.error("convertToGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${t}'`))}}function X(e,t,n,i,s){if(e.length=0,Object(o.j)(n))return function(e,t){for(const n of t)e.push({attributes:n.attributes});return e}(e,t);switch(n){case"esriGeometryPoint":return function(e,t,n,r){let i=M;n&&r?i=k:n?i=_:r&&(i=F);for(const s of t){const{geometry:t,attributes:n}=s,r=Object(o.k)(t)?i(t):null;e.push({attributes:n,geometry:r})}return e}(e,t,i,s);case"esriGeometryMultipoint":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:o}=i;let s;t&&(s=q(t,n,r)),e.push({attributes:o,geometry:s})}return e}(e,t,i,s);case"esriGeometryPolyline":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s}=i;let a;Object(o.k)(t)&&(a=E(t,n,r)),e.push({attributes:s,geometry:a})}return e}(e,t,i,s);case"esriGeometryPolygon":return function(e,t,n,r){for(const i of t){const{geometry:t,attributes:s,centroid:a}=i;let c;if(Object(o.k)(t)&&(c=G(t,n,r)),a){const t=M(a);e.push({attributes:s,centroid:t,geometry:c})}else e.push({attributes:s,geometry:c})}return e}(e,t,i,s);default:f.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}return e}function B(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:i,hasM:o,hasZ:s,features:a,geometryType:c,exceededTransferLimit:u,uniqueIdField:l,queryGeometry:f,queryGeometryType:d}=e,h={features:X([],a,c,s,o),fields:i,geometryType:c,objectIdFieldName:t,spatialReference:n,uniqueIdField:l,queryGeometry:Q(f,d,!1,!1)};return r&&(h.transform=r),u&&(h.exceededTransferLimit=u),o&&(h.hasM=o),s&&(h.hasZ=s),h}function H(e,t){const n=new c.a,{hasM:i,hasZ:o,features:s,objectIdFieldName:a,spatialReference:u,geometryType:l,exceededTransferLimit:d,transform:h,fields:p}=e;return p&&(n.fields=p),n.geometryType=l,n.objectIdFieldName=a||t,n.spatialReference=u,n.objectIdFieldName?(s&&Z(n.features,s,l,o,i,n.objectIdFieldName),d&&(n.exceededTransferLimit=d),i&&(n.hasM=i),o&&(n.hasZ=o),h&&(n.transform=h),n):(f.error(new r.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function ee(e){const{transform:t,features:n,hasM:r,hasZ:i}=e;if(!t)return e;for(const s of n)Object(o.k)(s.geometry)&&ae(s.geometry,s.geometry,r,i,t),s.centroid&&ae(s.centroid,s.centroid,r,i,t);return e.transform=null,e}function te(e,t){const{geometryType:n,features:r,hasM:i,hasZ:o}=t;if(!e)return t;for(let s=0;s<r.length;s++){const t=r[s],a=t.weakClone();a.geometry=new u.a,ne(a.geometry,t.geometry,i,o,n,e),t.centroid&&(a.centroid=new u.a,ne(a.centroid,t.centroid,i,o,"esriGeometryPoint",e)),r[s]=a}return t.transform=e,t}function ne(e,t,n,r,i,s,a=n,c=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),Object(o.j)(t)||!t.coords.length)return null;const u=d[i],{coords:f,lengths:h}=t,p=l(n,r),m=l(n&&a,r&&c),g=y(n,r,a,c);if(!h.length)return g(e.coords,f,0,0,b(s,f[0]),O(s,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;let x,j,w,M,v=0,_=0,I=_;for(const o of h){if(o<u)continue;let t=0;_=I,w=x=b(s,f[v]),M=j=O(s,f[v+1]),g(e.coords,f,_,v,w,M),t++,v+=p,_+=m;for(let n=1;n<o;n++,v+=p)w=b(s,f[v]),M=O(s,f[v+1]),w===x&&M===j||(g(e.coords,f,_,v,w-x,M-j),_+=m,t++,x=w,j=M);t>=u&&(e.lengths.push(t),I=_)}return e.coords.length=I,e.coords.length?e:null}function re(e,t,n,r,i,o,s=n,a=r){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const c=d[i],{coords:u,lengths:f}=t,h=l(n,r),p=l(n&&s,r&&a),m=y(n,r,s,a);if(!f.length)return m(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=h,e;let g=0;const b=o*o;for(const l of f){if(l<c){g+=l*h;continue}const t=e.coords.length/p,n=g,r=g+(l-1)*h;m(e.coords,u,e.coords.length,n,u[n],u[n+1]),oe(e.coords,u,h,b,m,n,r),m(e.coords,u,e.coords.length,r,u[r],u[r+1]);const i=e.coords.length/p-t;i>=c?e.lengths.push(i):e.coords.length=t*p,g+=l*h}return e.coords.length?e:null}function ie(e,t,n,r){const i=e[t],o=e[t+1],s=e[n],a=e[n+1],c=e[r],u=e[r+1];let l=s,f=a,d=c-l,h=u-f;if(0!==d||0!==h){const e=((i-l)*d+(o-f)*h)/(d*d+h*h);e>1?(l=c,f=u):e>0&&(l+=d*e,f+=h*e)}return d=i-l,h=o-f,d*d+h*h}function oe(e,t,n,r,i,o,s){let a,c=r,u=0;for(let l=o+n;l<s;l+=n)a=ie(t,l,o,s),a>c&&(u=l,c=a);c>r&&(u-o>n&&oe(e,t,n,r,i,o,u),i(e,t,e.length,u,t[u],t[u+1]),s-u>n&&oe(e,t,n,r,i,u,s))}function se(e,t,n,r){if(Object(o.j)(t)||!t.coords||!t.coords.length)return null;const i=l(n,r);let s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1];s=Math.min(s,n),c=Math.max(c,n),a=Math.min(a,r),u=Math.max(u,r)}}return e[0]=s,e[1]=a,e[2]=c,e[3]=u,e}function ae(e,t,n,r,i){const{coords:o,lengths:s}=t,a=n?r?g:p:r?p:h,c=l(n,r);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return a(e.coords,o,0,0,x(i,o[0]),j(i,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=c),e;const[u,f]=i.scale;let d=0;for(let l=0;l<s.length;l++){const t=s[l];e.lengths[l]=t;let n=x(i,o[d]),r=j(i,o[d+1]);a(e.coords,o,d,d,n,r),d+=c;for(let i=1;i<t;i++,d+=c)n+=o[d]*u,r-=o[d+1]*f,a(e.coords,o,d,d,n,r)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function ce(e,t,n,r,i,o){const s=l(n,r),a=y(n,r,i,o),c=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let u=0;u<c.length;u+=s)a(e.coords,c,e.coords.length,u,c[u],c[u+1]);return e}function ue(e,t,n,r){let i=0,o=e[r*t],s=e[r*(t+1)];for(let a=1;a<n;a++){const n=o+e[r*(t+a)],c=s+e[r*(t+a)+1],u=(n-o)*(c+s);o=n,s=c,i+=u}return.5*i}function le(e,t){const{coords:n,lengths:r}=e;let i=0,o=0;for(let s=0;s<r.length;s++)o+=ue(n,i,r[s],t),i+=s;return Math.abs(o)}function fe(e,t){if(Object(o.j)(e))return null;const n=e.clone(),r=e.coords,i=e.lengths;let s=0;for(let o=0;o<i.length;o++){const e=i[o];let a=r[t*s],c=r[t*s+1];for(let i=1;i<e;i++){const e=a+r[t*(s+i)],o=c+r[t*(s+i)+1];n.coords[t*(s+i)]=e,n.coords[t*(s+i)+1]=o,a=e,c=o}s+=e}return n}},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e=[],t=[],n=!1){this.lengths=null!=e?e:[],this.coords=null!=t?t:[],this.hasIndeterminateRingOrder=n}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}clone(e){return e?(e.set(this.coords),new r(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},196:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var r=n(81),i=n(133),o=n(88),s=n(86),a=n(87),c=n(142),u=n(85),l=n(96),f=n(83),d=n(84),h=(n(79),n(80)),p=n(94),m=n(82),g=n(99),y=n(166),b=n(92),O=n(107);const x=h.a.getLogger("esri.portal.PortalItemResource");let j=class extends b.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){Object(u.k)(e)&&Object(l.s)(e)?x.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const n=this.url;if(Object(u.j)(n))throw new o.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(n,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(u.i)(t,"signal")})}async update(e,t){return(await n.e(21).then(n.bind(null,843))).addOrUpdateResource(this,"update",e,t)}hasPath(){return Object(u.k)(this.path)}normalizePath(e,t){return Object(u.j)(e)?e:(e=e.replace(/^\/+/,""),Object(u.k)(t)&&Object(l.s)(e)&&(e=Object(l.C)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(r.a)([Object(f.b)()],j.prototype,"portalItem",void 0),Object(r.a)([Object(f.b)({type:String,value:null})],j.prototype,"path",null),Object(r.a)([Object(O.a)("path")],j.prototype,"_castPath",null),Object(r.a)([Object(f.b)({type:String,readOnly:!0})],j.prototype,"url",null),Object(r.a)([Object(f.b)({type:String,readOnly:!0})],j.prototype,"itemRelativeUrl",null),j=Object(r.a)([Object(m.a)("esri.portal.PortalItemResource")],j);var w=j;let M=class extends b.a{constructor(e){super(e),this.created=null,this.rating=null}};Object(r.a)([Object(f.b)()],M.prototype,"created",void 0),Object(r.a)([Object(f.b)()],M.prototype,"rating",void 0),M=Object(r.a)([Object(m.a)("esri.portal.PortalRating")],M);var v,_=M;let I=v=class extends(Object(s.b)(c.a)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Object(d.d)(v,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let n=e;return"Feature Service"===e||"Feature Collection"===e?n=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?n=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?n=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?n="Locator":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?n=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"OGCFeatureServer"===e&&(n="OGC Feature Layer"),n}readExtent(e){return e&&e.length?new g.a(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let n,r=!1,o=!1,s=!1,a=!1,c=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.indexOf("Table")>-1,s=t.indexOf("Route Layer")>-1,a=t.indexOf("Markup")>-1,c=-1!==t.indexOf("Spatiotemporal"),u=-1!==t.indexOf("UtilityNetwork"),n=c&&o?"spatiotemporaltable":o?"table":s?"routelayer":a?"markup":c?"spatiotemporal":r?"featureshosted":u?"utilitynetwork":"features"):n="map service"===e||"wms"===e||"wmts"===e?r||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):n="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"maps",n?Object(i.a)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=y.a.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(u.k)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof _&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new _({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(a.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(a.a)(this.categories),created:Object(a.a)(this.created),culture:this.culture,description:this.description,extent:Object(a.a)(this.extent),groupCategories:Object(a.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(a.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(a.a)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(a.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(a.a)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new v({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new _(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},v)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,n={method:"post"};n.query=this.createPostQuery();for(const e in n.query)null===n.query[e]&&(n.query[e]="");return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,n).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,n=e.filename,r={method:"post"};if("string"==typeof t)Object(l.u)(t)?r.query={data:t}:r.query={url:Object(l.A)(t)},Object(u.k)(n)&&(r.query.filename=n);else{const e=new FormData;Object(u.k)(n)?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new o.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await n.e(21).then(n.bind(null,843))).fetchResources(this,e,t)}async addResource(e,t,r){const i=await n.e(21).then(n.bind(null,843));return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await n.e(21).then(n.bind(null,843));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new o.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await n.e(21).then(n.bind(null,843))).removeAllResources(this,e)}resourceFromPath(e){return new w({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(a.c)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new v({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};Object(r.a)([Object(f.b)({type:["private","shared","org","public"]})],I.prototype,"access",void 0),Object(r.a)([Object(f.b)()],I.prototype,"accessInformation",void 0),Object(r.a)([Object(f.b)({type:String})],I.prototype,"apiKey",void 0),Object(r.a)([Object(f.b)({json:{read:{source:"appProxies"}}})],I.prototype,"applicationProxies",void 0),Object(r.a)([Object(f.b)()],I.prototype,"avgRating",void 0),Object(r.a)([Object(f.b)()],I.prototype,"categories",void 0),Object(r.a)([Object(f.b)({type:Date})],I.prototype,"created",void 0),Object(r.a)([Object(f.b)()],I.prototype,"culture",void 0),Object(r.a)([Object(f.b)()],I.prototype,"description",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"displayName",null),Object(r.a)([Object(f.b)({type:g.a})],I.prototype,"extent",void 0),Object(r.a)([Object(p.a)("extent")],I.prototype,"readExtent",null),Object(r.a)([Object(f.b)()],I.prototype,"groupCategories",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"iconUrl",null),Object(r.a)([Object(f.b)()],I.prototype,"id",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"isLayer",null),Object(r.a)([Object(f.b)()],I.prototype,"itemControl",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"itemUrl",null),Object(r.a)([Object(f.b)()],I.prototype,"licenseInfo",void 0),Object(r.a)([Object(f.b)({type:Date})],I.prototype,"modified",void 0),Object(r.a)([Object(f.b)()],I.prototype,"name",void 0),Object(r.a)([Object(f.b)()],I.prototype,"numComments",void 0),Object(r.a)([Object(f.b)()],I.prototype,"numRatings",void 0),Object(r.a)([Object(f.b)()],I.prototype,"numViews",void 0),Object(r.a)([Object(f.b)()],I.prototype,"owner",void 0),Object(r.a)([Object(f.b)()],I.prototype,"ownerFolder",void 0),Object(r.a)([Object(f.b)({type:y.a})],I.prototype,"portal",void 0),Object(r.a)([Object(f.b)()],I.prototype,"screenshots",void 0),Object(r.a)([Object(f.b)()],I.prototype,"size",void 0),Object(r.a)([Object(f.b)()],I.prototype,"snippet",void 0),Object(r.a)([Object(f.b)()],I.prototype,"sourceJSON",void 0),Object(r.a)([Object(f.b)()],I.prototype,"tags",void 0),Object(r.a)([Object(f.b)()],I.prototype,"thumbnail",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"thumbnailUrl",null),Object(r.a)([Object(f.b)()],I.prototype,"title",void 0),Object(r.a)([Object(f.b)()],I.prototype,"type",void 0),Object(r.a)([Object(f.b)()],I.prototype,"typeKeywords",void 0),Object(r.a)([Object(f.b)()],I.prototype,"url",void 0),Object(r.a)([Object(f.b)({readOnly:!0})],I.prototype,"userItemUrl",null),I=v=Object(r.a)([Object(m.a)("esri.portal.PortalItem")],I);var F=I},207:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,n(236))},224:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return O}));var r=n(129),i=n(88),o=n(80),s=n(85),a=n(124),c=n(132),u=n(231),l=n(106),f=n(158),d=(n(98),n(100)),h=n(96),p=n(95);async function m(e,t,n){const r="string"==typeof e?Object(h.K)(e):e,i=t[0].spatialReference,o=Object(p.c)(t[0]),s={...n,query:{...r.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((a=t,{geometryType:Object(p.c)(a[0]),geometries:a.map((e=>e.toJSON()))}))}};var a;return function(e,t,n){const r=Object(p.b)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=n,t}))}((await Object(d.default)(r.path+"/simplify",s)).data,o,i)}const g=o.a.getLogger("esri.geometry.support.normalizeUtils");function y(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function O(e,t){if(!(e instanceof c.a||e instanceof a.a)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw g.error(e),new i.a(e)}const n=Object(u.b)(e),r=[];for(const i of n){const e=[];r.push(e),e.push([i[0][0],i[0][1]]);for(let n=0;n<i.length-1;n++){const r=i[n][0],o=i[n][1],s=i[n+1][0],a=i[n+1][1],c=Math.sqrt((s-r)*(s-r)+(a-o)*(a-o)),u=(a-o)/c,l=(s-r)/c,f=c/t;if(f>1){for(let a=1;a<=f-1;a++){const n=a*t,i=l*n+r,s=u*n+o;e.push([i,s])}const n=(c+Math.floor(f-1)*t)/2,i=l*n+r,s=u*n+o;e.push([i,s])}e.push([s,a])}}return function(e){return"polygon"===e.type}(e)?new a.a({rings:r,spatialReference:e.spatialReference}):new c.a({paths:r,spatialReference:e.spatialReference})}function x(e,t,n){if(t){const t=O(e,1e6);e=Object(f.e)(t,!0)}return n&&(e=Object(u.e)(e,n)),e}function j(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=Object(u.d)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=Object(u.d)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=Object(u.d)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=Object(u.d)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function w(e,t,n){if(!Array.isArray(e))return w([e],t);const i=t?t.url:r.a.geometryServiceUrl;let o,g,O,M,v,_,I,F,S=0;const k=[],N=[];for(const r of e)if(Object(s.j)(r))N.push(r);else if(o||(o=r.spatialReference,g=Object(l.e)(o),O=o.isWebMercator,_=O?102100:4326,M=u.a[_].maxX,v=u.a[_].minX,I=u.a[_].plus180Line,F=u.a[_].minus180Line),g)if("mesh"===r.type)N.push(r);else if("point"===r.type)N.push(j(r.clone(),M,v));else if("multipoint"===r.type){const e=r.clone();e.points=e.points.map((e=>j(e,M,v))),N.push(e)}else if("extent"===r.type){const e=r.clone()._normalize(!1,!1,g);N.push(e.rings?new a.a(e):e)}else if(r.extent){const e=r.extent,t=Object(u.d)(e.xmin,v)*(2*M);let n=0===t?r.clone():Object(u.e)(r.clone(),t);e.offset(t,0),e.intersects(I)&&e.xmax!==M?(S=e.xmax>S?e.xmax:S,n=x(n,O),k.push(n),N.push("cut")):e.intersects(F)&&e.xmin!==v?(S=e.xmax*(2*M)>S?e.xmax*(2*M):S,n=x(n,O,360),k.push(n),N.push("cut")):N.push(n)}else N.push(r.clone());else N.push(r);let T=Object(u.d)(S,M),R=-90;const q=T,P=new c.a;for(;T>0;){const e=360*T-180;P.addPath([[e,R],[e,-1*R]]),R*=-1,T--}if(k.length>0&&q>0){const t=function(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],o=t.geometries[r],s=Object(u.b)(o);for(let e=0;e<s.length;e++){const t=s[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*Object(u.d)(n,180);for(let i=0;i<t.length;i++){const t=o.getPoint(e,i);o.setPoint(e,i,t.clone().offset(r,0))}return!0}}))}if(i===n){if(y(e))for(const t of Object(u.b)(o))e[i]=e[i].addRing(t);else if(b(e))for(const t of Object(u.b)(o))e[i]=e[i].addPath(t)}else n=i,e[i]=o}return e}(k,await async function(e,t,n,r){const i="string"==typeof e?Object(h.K)(e):e,o=t[0].spatialReference,s={...r,query:{...i.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:Object(p.c)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await Object(d.default)(i.path+"/cut",s),{cutIndexes:c,geometries:u=[]}=a.data;return{cutIndexes:c,geometries:u.map((e=>{const t=Object(p.a)(e);return t.spatialReference=o,t}))}}(i,k,P,n)),r=[],o=[];for(let n=0;n<N.length;n++){const i=N[n];if("cut"!==i)o.push(i);else{const i=t.shift(),a=e[n];Object(s.k)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&i.rings.length>=a.rings.length?(r.push(i),o.push("simplify")):o.push(O?Object(f.b)(i):i)}}if(!r.length)return o;const a=await m(i,r,n),c=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?c.push(t):c.push(O?Object(f.b)(a.shift()):a.shift())}return c}const z=[];for(let r=0;r<N.length;r++){const e=N[r];if("cut"!==e)z.push(e);else{const e=k.shift();z.push(!0===O?Object(f.b)(e):e)}}return Promise.resolve(z)}function M(e,t){const n=Object(l.e)(t);if(n){const[t,r]=n.valid,i=r-t;if(e<t)for(;e<t;)e+=i;if(e>r)for(;e>r;)e-=i}return e}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(185);class i{constructor(e,t,n){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,n,r=0){this._storage.put(this._namespace+e,t,n,r)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.a,this._users=new r.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,n,r){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),n>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(e,t,n){const r=this._db.get(e);if(r&&r.entry===t){if(this._size-=r.size,n>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);r.size=n,this._size+=n,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forAll((n=>{const i=n.namespace;if(r.startsWith(i)){const n=t[i]||0;t[i]=n+e.size}}))}));const r={};this._users.forAll((e=>{const n=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,n)=>t[n]-t[e])),i.forEach((n=>e[n]=Math.round(t[n])+"% / "+r[n]));for(let o=n.length-1;o>=0;--o){const t=n[o];t&&(e["Priority "+(o+-3-1)]=Math.round(t/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemoved(n,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((n=>{e.startsWith(n[0])&&n[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},230:function(e,t,n){"use strict";function r(e){return"date"===e.type||"esriFieldTypeDate"===e.type}n.d(t,"a",(function(){return i}));class i{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const n of e){const e=n&&n.name;if(e){const i=o(e);this._fieldsMap.set(e,n),this._fieldsMap.set(i,n),t.push(i),r(n)&&(this.dateFields.push(n),this._dateFieldsSet.add(n))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function o(e){return e.toLowerCase().trim()}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c}));var r=n(132),i=n(93),o=n(95);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:i.a.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.a.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function c(e,t){const n=u(e);for(const r of n)for(const e of r)e[0]+=t;return e}function u(e){return Object(o.g)(e)?e.rings:e.paths}function l(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[s[t].minX,s[t].maxX]}},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(85);class i{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new i(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function o(e){return!(Object(r.j)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class s extends i{}},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return _})),n.d(t,"z",(function(){return b})),n.d(t,"A",(function(){return k}));var r=n(85),i=(n(99),n(125));function o(e=z){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function s(e,t,n,r,i,s,a=o()){return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=s,a}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t,n=0,r=t.length/3){let i=e[0],o=e[1],s=e[2],a=e[3],c=e[4],u=e[5];for(let l=0;l<r;l++)i=Math.min(i,t[n+3*l]),o=Math.min(o,t[n+3*l+1]),s=Math.min(s,t[n+3*l+2]),a=Math.max(a,t[n+3*l]),c=Math.max(c,t[n+3*l+1]),u=Math.max(u,t[n+3*l+2]);e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=c,e[5]=u}function f(e,t,n){const r=t.length;let i=e[0],o=e[1],s=e[2],a=e[3],c=e[4],u=e[5];if(n)for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),o=Math.min(o,e[1]),s=Math.min(s,e[2]),a=Math.max(a,e[0]),c=Math.max(c,e[1]),u=Math.max(u,e[2])}else for(let l=0;l<r;l++){const e=t[l];i=Math.min(i,e[0]),o=Math.min(o,e[1]),a=Math.max(a,e[0]),c=Math.max(c,e[1])}e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=c,e[5]=u}function d(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function h(e){return e[0]>=e[3]?0:e[3]-e[0]}function p(e){return e[1]>=e[4]?0:e[4]-e[1]}function m(e){return e[2]>=e[5]?0:e[5]-e[2]}function g(e){const t=h(e),n=m(e),r=p(e);return Math.sqrt(t*t+n*n+r*r)}function y(e,t=[0,0,0]){return t[0]=e[0]+h(e)/2,t[1]=e[1]+p(e)/2,t[2]=e[2]+m(e)/2,t}function b(e,t=[0,0,0]){return t[0]=h(e),t[1]=p(e),t[2]=m(e),t}function O(e){return Math.max(h(e),m(e),p(e))}function x(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function j(e,t){return!!Object(r.j)(t)||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function w(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function M(e,t,n=e){const r=e[0]+h(e)/2,i=e[1]+p(e)/2,o=e[2]+m(e)/2;return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=o+(e[2]-o)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=o+(e[5]-o)*t,n}function v(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function _(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function I(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function F(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function S(e){return e?F(e,P):o(P)}function k(e,t){return t||(t=Object(i.l)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function N(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function T(e){return 6===e.length}function R(e){return 0===h(e)&&0===p(e)&&0===m(e)}function q(e,t,n){if(Object(r.j)(e)||Object(r.j)(t))return e===t;if(!T(e)||!T(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const P=[1/0,1/0,1/0,-1/0,-1/0,-1/0],z=[0,0,0,0,0,0];o()},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return l}));const r=[252,146,31,255],i=[153,153,153,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},c={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},l={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i}));var r=n(139);const i=Math.PI/180,o=/SPHEROID\[([^\]]+)]/i,s=r.a.radius,a=r.a.eccentricitySquared,c={a1:s*a,a2:s*a*s*a,a3:s*a*a/2,a4:s*a*s*a*2.5,a5:s*a+s*a*a/2,a6:1-a},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(228);class i{constructor(e,t){this._storage=new r.b,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},590:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a}));var r=n(79),i=n(87),o=n(589),s=n(275);function a(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.c:"esriGeometryPolyline"===e?s.e:s.d}}}function c(e,t){if(Object(r.a)("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function u(e={}){return[{name:"New Feature",description:"",prototype:{attributes:Object(i.a)(e)}}]}function l(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.a,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(140),i=n(126);const o={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function s(e){e||(e=Object(i.b)());let t=e in o;if(!t){const n=e.split("-");n.length>1&&n[0]in o&&(e=n[0],t=!0),t||(e="en")}const[n,r,s="#,##0.###"]=o[e];return{decimal:n,group:r,pattern:s}}function a(e,t){const n=s((t={...t}).locale);t.customs=n;const r=t.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,n){const r=(n=n||{}).customs.group,i=n.customs.decimal,o=t.split(";"),s=o[0];if(-1!==(t=o[e<0?1:0]||"-"+s).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const a=c,u=s.match(a);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===n.fractional&&(n.places=0),t.replace(a,function(e,t,n){!0===(n=n||{}).places&&(n.places=0),n.places===1/0&&(n.places=6);const r=t.split("."),i="string"==typeof n.places&&n.places.indexOf(",");let o=n.places;i?o=n.places.substring(i+1):o>=0||(o=(r[1]||[]).length),n.round<0||(e=Number(e.toFixed(Number(o))));const s=String(Math.abs(e)).split("."),a=s[1]||"";if(r[1]||n.places){i&&(n.places=n.places.substring(0,i));const e=void 0!==n.places?n.places:r[1]&&r[1].lastIndexOf("0")+1;e>a.length&&(s[1]=a.padEnd(Number(e),"0")),o<a.length&&(s[1]=a.substr(0,Number(o)))}else s[1]&&s.pop();const c=r[0].replace(",","");let u=c.indexOf("0");-1!==u&&(u=c.length-u,u>s[0].length&&(s[0]=s[0].padStart(u,"0")),-1===c.indexOf("#")&&(s[0]=s[0].substr(s[0].length-u)));let l,f,d=r[0].lastIndexOf(",");if(-1!==d){l=r[0].length-d-1;const e=r[0].substr(0,d);d=e.lastIndexOf(","),-1!==d&&(f=e.length-d-1)}const h=[];for(let p=s[0];p;){const e=p.length-l;h.push(e>0?p.substr(e):p),p=e>0?p.slice(0,e):"",f&&(l=f,f=void 0)}return s[0]=h.reverse().join(n.group||","),s.join(n.decimal||".")}(e,u[0],{decimal:i,group:r,places:n.places,round:n.round}))}(e,r,t)}const c=/[#0,]*[#0](?:\.0*#*)?/;function u(e){const t=s((e=e||{}).locale),n=e.pattern||t.pattern,i=t.group,o=t.decimal;let a=1;if(-1!==n.indexOf("%"))a/=100;else if(-1!==n.indexOf("\u2030"))a/=1e3;else if(-1!==n.indexOf("\xa4"))throw new Error("currency notation not supported");const u=n.split(";");1===u.length&&u.push("-"+u[0]);return{regexp:d(u,(function(t){return(t="(?:"+Object(r.a)(t,".")+")").replace(c,(function(t){const n={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:o,exponent:!1},r=t.split(".");let s=e.places;1===r.length&&1!==a&&(r[1]="###"),1===r.length||0===s?n.fractional=!1:(void 0===s&&(s=e.pattern?r[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(n.fractional=!0),!e.places&&s<r[1].length&&(s+=","+r[1].length),n.places=s);const c=r[0].split(",");return c.length>1&&(n.groupSize=c.pop().length,c.length>1&&(n.groupSize2=c.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=f(e),n=d(e.fractional,(function(t){let n="";return t&&0!==e.places&&(n="\\"+e.decimal,e.places===1/0?n="(?:"+n+"\\d+)?":n+="\\d{"+e.places+"}"),n}),!0);let r=t+n;return n&&(r="(?:(?:"+r+")|(?:"+n+"))"),r+d(e.exponent,(function(t){return t?"([eE]"+f({signed:e.eSigned})+")":""}))}(n)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:o,factor:a}}function l(e,t){const n=u(t),r=new RegExp("^"+n.regexp+"$").exec(e);if(!r)return NaN;let i=r[1];if(!r[1]){if(!r[2])return NaN;i=r[2],n.factor*=-1}return i=i.replace(new RegExp("["+n.group+"\\s\\xa0]","g"),"").replace(n.decimal,"."),Number(i)*n.factor}function f(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",d(e.signed,(function(e){return e?"[-+]":""}),!0)+d(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=Object(r.a)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");const n=e.groupSize,i=e.groupSize2;if(i){const e="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+n+"})";return n-i>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(n-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*)"}),!0)}const d=function(e,t,n){if(!(e instanceof Array))return t(e);const r=[];for(let i=0;i<e.length;i++)r.push(t(e[i]));return h(r.join("|"),n)},h=function(e,t){return"("+(t?"?:":"")+e+")"}}}]);
//# sourceMappingURL=116.143317bf.chunk.js.map