/*! For license information please see 77.b2670816.chunk.js.LICENSE.txt */
(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[77,26,34,164],{108:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return w})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return j})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return g})),r.d(t,"m",(function(){return o}));r(92);var i=r(165),n=r(94);function a(e,t,r,i,n){var a=e.watch(t,((t,n,a,o)=>{r&&!r(t)||null==i||i.call(e,t,n,a,o)}),n);if(Array.isArray(t))for(var o of t){var s=e.get(o);r&&r(s)&&(null==i||i.call(e,s,s,t,e))}else{var l=e.get(t);r&&r(l)&&(null==i||i.call(e,l,l,t,e))}return a}function o(e,t,r,i,o){var s="function"==typeof i?i:null,l="object"==typeof i?i:null;"boolean"==typeof i&&(o=i);var c,u=!1;function d(){c&&(c.remove(),c=null)}var p=Object(n.f)();Object(n.p)(l,(()=>{d(),p.reject(Object(n.e)())}));var h={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:d};return Object.freeze(h),c=a(e,t,r,((t,r,i,n)=>{u=!0,d(),s&&s.call(e,t,r,i,n),p.resolve({value:t,oldValue:r,propertyName:i,target:n})}),o),u&&d(),h}function s(e){return!!e}function l(e){return!e}function c(e){return!0===e}function u(e){return!1===e}var d=/\?(\.|$)/g;function p(e,t,r,i){var n=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],a=h(e,t,r,i);for(var o of n){var s=o.trim().replace(d,"$1"),l=e.get(s);r.call(e,l,l,s,e)}return a}function h(e,t,r,i){return e.watch(t,r,i)}function f(e,t,r,i){return a(e,t,s,r,i)}function b(e,t,r,i){return o(e,t,s,r,i)}function v(e,t,r,i){return a(e,t,l,r,i)}function m(e,t,r,i){return o(e,t,l,r,i)}function y(e,t,r,i){return a(e,t,c,r,i)}function g(e,t,r,i){return o(e,t,c,r,i)}function O(e,t,r,i){return a(e,t,u,r,i)}function j(e,t,r,i){return o(e,t,u,r,i)}function w(e,t,r,i){var n=!1,a=e.watch(t,((t,i,a,o)=>{n||r.call(e,t,i,a,o)}),i);return{remove(){a.remove()},pause(){n=!0},resume(){n=!1}}}function _(e,t,r,n,a,o,s){var l={};function c(t){var i=l[t];i&&(o&&o(i.target,t,e,r),i.handle.remove(),delete l[t])}var u=p(e,t,((t,o,s)=>{c(s),Object(i.b)(t)&&(l[s]={handle:Object(i.c)(t,r,n),target:t},a&&a(t,s,e,r))}),s);return{remove(){for(var e in u.remove(),l)c(e)}}}},1105:function(e,t,r){},114:function(e,t,r){"use strict";r.d(t,"a",(function(){return Oe})),r.d(t,"b",(function(){return Se})),r.d(t,"c",(function(){return we})),r.d(t,"d",(function(){return Ae})),r.d(t,"e",(function(){return ke})),r.d(t,"f",(function(){return je})),r.d(t,"g",(function(){return Te})),r.d(t,"h",(function(){return Ie})),r.d(t,"i",(function(){return _e}));r(80);var i=r(81),n=r(315);var a,o,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object),p=l.toString,h=(a=Object.getPrototypeOf,o=Object,function(e){return a(o(e))});var f=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=p.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e))return!1;var t=h(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d};function b(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},r.exports),r.exports}function v(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var m=/javascript\s*\:/gim;var y={whiteList:v(),getDefaultWhiteList:v,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return m.test(t)?"":t}},g=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},O=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var j=function(e,t){";"!==(e=O(e))[e.length-1]&&(e+=";");var r=e.length,i=!1,n=0,a=0,o="";function s(){if(!i){var r=g(e.slice(n,a)),s=r.indexOf(":");if(-1!==s){var l=g(r.slice(0,s)),c=g(r.slice(s+1));if(l){var u=t(n,o.length,l,c,r);u&&(o+=u+"; ")}}}n=a+1}for(;a<r;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var c=e.indexOf("*/",a+2);if(-1===c)break;n=(a=c+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||s():"\n"===l&&s()}return g(o)};function w(e){return void 0===e||null===e}function _(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||y.whiteList,e.onAttr=e.onAttr||y.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||y.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||y.safeAttrValue,this.options=e}_.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,n=t.onIgnoreAttr,a=t.safeAttrValue;return j(e,(function(e,t,o,s,l){var c=r[o],u=!1;if(!0===c?u=c:"function"===typeof c?u=c(s):c instanceof RegExp&&(u=c.test(s)),!0!==u&&(u=!1),s=a(o,s)){var d,p={position:t,sourcePosition:e,source:l,isWhite:u};return u?w(d=i(o,s,p))?o+":"+s:d:w(d=n(o,s,p))?void 0:d}}))};var S=_,x=b((function(e,t){for(var r in(t=e.exports=function(e,t){return new S(t).process(e)}).FilterCSS=S,y)t[r]=y[r]})),E=function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},I=function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},T=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},A=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},k=x.FilterCSS,C=x.getDefaultWhiteList;function F(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var L=new k;function P(e){return e.replace(N,"&lt;").replace(D,"&gt;")}var N=/</g,D=/>/g,M=/"/g,V=/&quot;/g,R=/&#([a-zA-Z0-9]*);?/gim,U=/&colon;?/gim,z=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,q=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,H=/u\s*r\s*l\s*\(.*/gi;function G(e){return e.replace(M,"&quot;")}function W(e){return e.replace(V,'"')}function Y(e){return e.replace(R,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function J(e){return e.replace(U,":").replace(z," ")}function X(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return T(t)}function $(e){return e=X(e=J(e=Y(e=W(e))))}function K(e){return e=P(e=G(e))}var Q=/<!--[\s\S]*?-->/g;var Z={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:F,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:function(e,t,r,i){if(r=$(r),"href"===t||"src"===t){if("#"===(r=T(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(r))return""}else if("style"===t){if(q.lastIndex=0,q.test(r))return"";if(H.lastIndex=0,H.test(r)&&(B.lastIndex=0,B.test(r)))return"";!1!==i&&(r=(i=i||L).process(r))}return r=K(r)},escapeHtml:P,escapeQuote:G,unescapeQuote:W,escapeHtmlEntities:Y,escapeDangerHtml5Entities:J,clearNonPrintableCharacter:X,friendlyAttrValue:$,escapeAttrValue:K,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(a,o,s){if(function(t){return!!r||-1!==E(e,t)}(a)){if(s.isClosing){var l="[/removed]",c=s.position+l.length;return i.push([!1!==n?n:s.position,c]),n=!1,l}return n||(n=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",r=0;return I(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},stripCommentTag:function(e){return e.replace(Q,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:L,getDefaultCSSWhiteList:C};function ee(e){var t=A(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=T(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function te(e){return"</"===e.slice(0,2)}var re=/[^a-zA-Z0-9_:\.\-]/gim;function ie(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ne(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ae(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var oe={parseTag:function(e,t,r){var i="",n=0,a=!1,o=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(!1===a){if("<"===d){a=s;continue}}else if(!1===o){if("<"===d){i+=r(e.slice(n,s)),a=s,n=s;continue}if(">"===d){i+=r(e.slice(n,a)),c=ee(u=e.slice(a,s+1)),i+=t(a,i.length,c,u,te(u)),n=s+1,a=!1;continue}if('"'===d||"'"===d)for(var p=1,h=e.charAt(s-p);" "===h||"="===h;){if("="===h){o=d;continue e}h=e.charAt(s-++p)}}else if(d===o){o=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i},parseAttr:function(e,t){var r=0,i=[],n=!1,a=e.length;function o(e,r){if(!((e=(e=T(e)).replace(re,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var s=0;s<a;s++){var l,c=e.charAt(s);if(!1!==n||"="!==c)if(!1===n||s!==r||'"'!==c&&"'"!==c||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(l=ie(e,s))){o(T(e.slice(r,s))),n=!1,r=s+1;continue}s=l-1;continue}if(-1===(l=ne(e,s-1))){o(n,ae(T(e.slice(r,s)))),n=!1,r=s+1;continue}}else;else{if(-1===(l=e.indexOf(c,s+1)))break;o(n,T(e.slice(r+1,l))),n=!1,r=(s=l)+1}else n=e.slice(r,s),r=s+1}return r<e.length&&(!1===n?o(e.slice(r)):o(n,ae(T(e.slice(r))))),T(i.join(" "))}},se=x.FilterCSS,le=oe.parseTag,ce=oe.parseAttr;function ue(e){return void 0===e||null===e}function de(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Z.onIgnoreTagStripAll),e.whiteList=e.whiteList||Z.whiteList,e.onTag=e.onTag||Z.onTag,e.onTagAttr=e.onTagAttr||Z.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Z.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Z.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Z.safeAttrValue,e.escapeHtml=e.escapeHtml||Z.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new se(e.css))}de.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,n=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Z.stripBlankChar(e)),t.allowCommentTag||(e=Z.stripCommentTag(e));var u=!1;if(t.stripIgnoreTagBody){u=Z.StripTagBody(t.stripIgnoreTagBody,n);n=u.onIgnoreTag}var d=le(e,(function(e,t,u,d,p){var h,f={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(u)};if(!ue(h=i(u,d,f)))return h;if(f.isWhite){if(f.isClosing)return"</"+u+">";var b=function(e){var t=A(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=T(e.slice(t+1,-1)))[e.length-1];return r&&(e=T(e.slice(0,-1))),{html:e,closing:r}}(d),v=r[u],m=ce(b.html,(function(e,t){var r,i=-1!==E(v,e);return ue(r=a(u,e,t,i))?i?(t=s(u,e,t,c))?e+'="'+t+'"':e:ue(r=o(u,e,t,i))?void 0:r:r}));d="<"+u;return m&&(d+=" "+m),b.closing&&(d+=" /"),d+=">"}return ue(h=n(u,d,f))?l(d):h}),l);return u&&(d=u.remove(d)),d};var pe,he,fe=de,be=b((function(e,t){function r(e,t){return new fe(t).process(e)}for(var i in(t=e.exports=r).filterXSS=r,t.FilterXSS=fe,Z)t[i]=Z[i];for(var i in oe)t[i]=oe[i];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),ve=function(){function e(e,t){var r,i=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,n){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?i.sanitizeUrl(r):be.safeAttrValue(e,t,r,n)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new be.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?be.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,r,i){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,i):be.safeAttrValue(e,t,r,i)},e.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var i=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var a=r.validate(n,t);return a.isValid?e.concat([n]):(i=!0,e.concat([a.sanitized]))}),[]);else{if(!f(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}n=Object.keys(e).reduce((function(n,a){var o=e[a],s=r.validate(o,t);return s.isValid?n[a]=o:(i=!0,n[a]=s.sanitized),n}),{})}return i?n:e}catch(a){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),me=function(e){pe||function(e){if("WebkitTransition"in e.style)pe="webkitTransitionEnd",he="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");pe="transitionend",he="animationend"}}(e)},ye=function(e,t){return void 0===t&&(t=e+"-active"),function(r){me(r);var i=!1,n=function(a){i||(i=!0,r.removeEventListener(pe,n),r.removeEventListener(he,n),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(pe,n),r.addEventListener(he,n),requestAnimationFrame((function(){r.classList.add(t)}))}},ge=function(e,t){return void 0===t&&(t=e+"-active"),function(r,i){me(r);var n=!1,a=function(e){n||(n=!0,r.removeEventListener(pe,a),r.removeEventListener(he,a),i())};r.classList.add(e),r.addEventListener(pe,a),r.addEventListener(he,a),requestAnimationFrame((function(){r.classList.add(t)}))}};function Oe(e){for(var t=n.a.acquire(),r=0;r<arguments.length;r++){var i=arguments[r],a=typeof i;if("string"===a)t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if("object"===a)for(var o in i)i[o]&&t.push(o)}var s=t.join(" ");return n.a.release(t),s}function je(){return"rtl"===document.dir}function we(e){this[e.getAttribute("data-node-ref")]=null}function _e(e){this[e.getAttribute("data-node-ref")]=e}function Se(e,t){return("enter"===e?ye:ge)(t)}i.a.getLogger("esri.widgets.support.widgetUtils");var xe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),Ee=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ie=new ve({whiteList:xe,onTagAttr:(e,t,r)=>{var i="".concat(t,'="').concat(r,'"');if(Ee.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Te(e,t){var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),n=r.top+r.height,a=i.top+i.height,o=r.top,s=i.top;(n>a||o<s)&&e.scrollIntoView({block:"end"})}function Ae(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function ke(){return Ae().startsWith("dark")}},115:function(e,t,r){"use strict";var i=r(82),n=r(89),a=r(85),o=r(84),s=r(97),l=r(107),c=class extends s.a{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){var e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!l.a.isCollection(e))return this;var r=this._getOrCreateGroup(t);return Array.isArray(e)||l.a.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||l.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(n.d)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};Object(i.a)([Object(a.b)({readOnly:!0})],c.prototype,"size",null);var u=c=Object(i.a)([Object(o.a)("esri.core.Handles")],c);t.a=u},117:function(e,t,r){"use strict";r.d(t,"a",(function(){return H})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return I})),r.d(t,"d",(function(){return z})),r.d(t,"e",(function(){return R})),r.d(t,"f",(function(){return V})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return M})),r.d(t,"j",(function(){return u})),r.d(t,"k",(function(){return E})),r.d(t,"l",(function(){return _})),r.d(t,"m",(function(){return P})),r.d(t,"n",(function(){return G})),r.d(t,"o",(function(){return S})),r.d(t,"p",(function(){return j})),r.d(t,"q",(function(){return w})),r.d(t,"r",(function(){return L})),r.d(t,"s",(function(){return k})),r.d(t,"t",(function(){return C})),r.d(t,"u",(function(){return F})),r.d(t,"v",(function(){return T})),r.d(t,"w",(function(){return A})),r.d(t,"x",(function(){return N}));var i=r(91),n=(r(80),r(95)),a=r(257),o=r(112),s=r(99),l=r(139),c=r(173),u=39.37,d=l.a.radius*Math.PI/200,p=/UNIT\[([^\]]+)\]\]$/i,h=a.a,f=/UNIT\[([^\]]+)\]/i,b=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),v=Object(n.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){var e={};for(var t in g)for(var r in g[t].units)e[r]=t;return e}();var j=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],w=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function _(e){return"imperial"===e||"metric"===e}function S(e){var t=O[e];if(t)return t;throw new Error("unknown measure")}function x(e){return function(e){return g[e].baseUnit}(S(e))}function E(e,t=null){return t=t||S(e),g[t].baseUnit===e}function I(e,t,r){if(t===r)return e;var i=S(t);if(i!==S(r))throw new Error("incompatible units");var n=E(t,i)?e:function(e,t,r){return e*g[r].units[t].inBaseUnits}(e,t,i);return E(r,i)?n:function(e,t,r){return e/g[r].units[t].inBaseUnits}(n,r,i)}function T(e,t){return I(e,t,"meters")<3e3?"meters":"kilometers"}function A(e,t){return I(e,t,"meters")<1e5?"meters":"kilometers"}function k(e,t){return I(e,t,"feet")<1e3?"feet":"miles"}function C(e,t){return I(e,t,"feet")<1e5?"feet":"miles"}function F(e,t){return I(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function L(e,t){return I(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function P(e,t,r){return I(e,t,"meters")/(r*Math.PI/180)}function N(e){return v.fromJSON(e.toLowerCase())||null}function D(e){if(e&&"object"==typeof e&&!Object(o.e)(e))return 1;var t=V(e);return t>1e5?1:t}function M(e){return V(e)>=(e instanceof s.a?Object(c.e)(e).metersPerDegree:1e5)?"meters":U(e)}function V(e,t=l.a.metersPerDegree){return R(e,!0)||t}function R(e,t=!1){var r,i,n=null;if(null!=e&&("object"==typeof e?(r=e.wkid,i=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(i=e)),r){if(Object(o.k)(r))return l.b.metersPerDegree;if(Object(o.l)(r))return l.c.metersPerDegree;!(n=h.values[h[r]])&&t&&b.has(r)&&(n=d)}else if(i)if(-1!==i.search(/^PROJCS/i)){var a=p.exec(i);a&&a[1]&&(n=parseFloat(a[1].split(",")[1]))}else if(-1!==i.search(/^GEOCCS/i)){var s=f.exec(i);s&&s[1]&&(n=parseFloat(s[1].split(",")[1]))}return n}function U(e){var t,r,i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)i=h.units[h[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var n=p.exec(r);n&&n[1]&&(i=(n=/[\\"\\']{1}([^\\"\\']+)/.exec(n[1]))&&n[1])}return i?N(i):null}function z(e){if(!e)return null;switch(U(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}var B={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},q={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},H=Object(n.b)()(B),G=Object(n.b)()(q);Object(n.b)()(Object(i.a)(Object(i.a)({},B),q))},118:function(e,t,r){"use strict";r.d(t,"a",(function(){return J})),r.d(t,"b",(function(){return X})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return x})),r.d(t,"e",(function(){return A})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return v})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return N})),r.d(t,"j",(function(){return ce})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return _})),r.d(t,"o",(function(){return L})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return g})),r.d(t,"r",(function(){return R})),r.d(t,"s",(function(){return re})),r.d(t,"t",(function(){return O})),r.d(t,"u",(function(){return Z})),r.d(t,"v",(function(){return K})),r.d(t,"w",(function(){return Q})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return y})),r.d(t,"z",(function(){return te})),r.d(t,"A",(function(){return le}));var i=r(7),n=r(124),a=r(89),o=r(93),s=r(149),l=r(152),c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function d(e,t){if(null!=e&&null!=t)for(var r of Array.isArray(e)?e:[e])if(p(c,r,t),"visualVariables"in r&&r.visualVariables)for(var i of r.visualVariables)p(u,i,t)}function p(e,t,r){if(e)for(var i of e){var a=Object(n.b)(i,t),o=a&&"function"!=typeof a&&g(r,a);o&&Object(n.c)(i,o.name,t)}}function h(e,t){if(null!=e&&null!=t)if("startField"in e){var r=g(t,e.startField),i=g(t,e.endField);e.startField=r&&r.name||null,e.endField=i&&i.name||null}else{var n=g(t,e.startTimeField),a=g(t,e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=a&&a.name||null}}var f=new Set;function b(e,t){return e&&t?(f.clear(),v(f,e,t),Array.from(f).sort()):[]}function v(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(var{name:i}of t)e.add(i);else for(var n of r)m(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(var a of r)e.add(a)}}function m(e,t,r){if(t&&t.length){var i=g(t,r);i&&e.add(i.name)}else"string"==typeof r&&e.add(r)}function y(e,t){return Object(a.j)(t)||Object(a.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function g(e,t){if("string"!=typeof t)return null;if(null!=e)for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return r;return null}function O(e,t){if(!e||!t||"string"!=typeof t)return!1;for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return!0;return!1}function j(e,t,r){return w.apply(this,arguments)}function w(){return(w=Object(i.a)((function*(e,t,r){if(r){var{arcadeUtils:i}=yield Object(l.e)(),n=i.extractFieldNames(r);for(var a of n)m(e,t,a)}}))).apply(this,arguments)}function _({displayField:e,fields:t}){return e||(t&&t.length?S(t,"name-or-title")||S(t,"unique-identifier")||S(t,"type-or-category")||function(e){for(var t of e)if(t&&t.name){var r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}(t):null)}function S(e,t){for(var r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function x(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)((function*(e,t){if(t){var{fields:r}=t,i=Object(n.b)("elevationInfo.featureExpressionInfo",t);return i?i.collectRequiredFields(e,r):void 0}}))).apply(this,arguments)}function I(e,t,r){return T.apply(this,arguments)}function T(){return(T=Object(i.a)((function*(e,t,r){r.outStatistic.onStatisticValueExpression?j(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}))).apply(this,arguments)}function A(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(i.a)((function*(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&(yield Promise.all(r.fields.map((r=>I(e,t.fields,r)))))}))).apply(this,arguments)}function C(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(i.a)((function*(e,t,i){if(t&&(t.timeInfo&&Object(a.k)(i)&&i.timeExtent&&v(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&v(e,t.fields,[t.floorInfo.floorField]),Object(a.k)(i)&&Object(a.k)(i.where)&&i.where&&"1=1"!==i.where)){var n=(yield Promise.all([r.e(11),r.e(273)]).then(r.bind(null,272))).WhereClause.create(i.where,t.fieldsIndex);if(!n.isStandardized)throw new o.a("fieldUtils:collectFilterFields","Where clause is not standardized");v(e,t.fields,n.fieldNames)}}))).apply(this,arguments)}function L(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?b(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function P(e){if(!e)return[];var t=e.geometryFieldsInfo;return t?b(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}function N(e,t){return D.apply(this,arguments)}function D(){return(D=Object(i.a)((function*(e,t){var{labelingInfo:r,fields:i}=t;r&&r.length&&(yield Promise.all(r.map((t=>M(e,i,t)))))}))).apply(this,arguments)}function M(e,t,r){return V.apply(this,arguments)}function V(){return(V=Object(i.a)((function*(e,t,r){if(r){var i=r.getLabelExpression(),n=r.where;if("arcade"===i.type)yield j(e,t,i.expression);else{var a=i.expression.match(/{[^}]*}/g);a&&a.forEach((r=>{m(e,t,r.slice(1,-1))}))}var o=/['"]+/g;if(n){var s=n.split(" ");3===s.length&&m(e,t,s[0].replace(o,"")),7===s.length&&(m(e,t,s[0].replace(o,"")),m(e,t,s[4].replace(o,"")))}}}))).apply(this,arguments)}function R(e){var t=e.defaultValue;return void 0!==t&&Y(e,t)?t:e.nullable?null:void 0}function U(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function z(e){return null===e||U(e)}var B="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function q(e){return null===e||B(e)}function H(e){return null!=e&&"string"==typeof e}function G(e){return null===e||H(e)}function W(){return!0}function Y(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?q:B;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?z:U;break;case"string":case"esriFieldTypeString":r=e.nullable?G:H;break;default:r=W}return 1===arguments.length?r:r(t)}var J,X,$=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function K(e){return null!=e&&$.has(e.type)}function Q(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Z(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:K(e)&&!function(e,t){var r="string"==typeof e?ie(e):e;return!!r&&(r.isInteger?B(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?J.OUT_OF_RANGE:Y(e,t)?e.domain?Object(s.e)(e.domain,t):null:X.INVALID_TYPE}function re(e){return Object(s.c)(e.domain)||(K(e)?ie(e.type):void 0)}function ie(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ne;case"esriFieldTypeInteger":case"integer":return ae;case"esriFieldTypeSingle":case"single":return oe;case"esriFieldTypeDouble":case"double":return se}}(J||(J={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(X||(X={}));var ne={min:-32768,max:32767,isInteger:!0},ae={min:-2147483648,max:2147483647,isInteger:!0},oe={min:-34e37,max:12e37,isInteger:!1},se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function le(e,t,r){switch(e){case s.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case s.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case X.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case J.OUT_OF_RANGE:var{min:i,max:n}=ie(t.type);return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(i," to ").concat(n)}}function ce(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(a.k)(r))for(var i of e)r.add(i);return!0}var n=t.attributes,o=!1;for(var s of e)if(!(s in n)){if(o=!0,!Object(a.k)(r))break;r.add(s)}return o}(e,t,null)}},121:function(e,t,r){"use strict";var i=r(82),n=(r(80),r(81),r(88),r(85)),a=r(95),o=r(102),s=r(84),l=(r(83),r(86),r(87),r(90)),c=new a.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),u=class extends l.a{constructor(e){super(e),this.name=null,this.type=null}};Object(i.a)([Object(n.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(i.a)([Object(o.a)(c)],u.prototype,"type",void 0);var d=u=Object(i.a)([Object(s.a)("esri.layers.support.Domain")],u);t.a=d},123:function(e,t,r){"use strict";var i,n=r(91),a=r(82),o=(r(80),r(92)),s=r(89),l=(r(81),r(88),r(85)),c=r(84),u=(r(83),r(86),r(87),r(90)),d=r(100),p=r(101),h=r(169),f=r(138),b=r(189),v=i=class extends u.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(b.a)(),configurable:!0})}normalizeCtorArgs(e,t,r,i){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:i}}set attributes(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(s.k)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(s.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(s.k)(this.symbol)?this.symbol.toJSON():null,attributes:Object(n.a)({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new i(this.cloneProperties())}cloneProperties(){return{attributes:Object(o.a)(this.attributes),geometry:Object(o.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(o.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,i){if(this.layer&&"graphicChanged"in this.layer){var n={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(n.attributeName=i),this.layer.graphicChanged(n)}}};Object(a.a)([Object(l.b)({value:null})],v.prototype,"attributes",null),Object(a.a)([Object(l.b)({value:null,types:p.a,json:{read:d.a}})],v.prototype,"geometry",null),Object(a.a)([Object(l.b)({type:Boolean})],v.prototype,"isAggregate",void 0),Object(a.a)([Object(l.b)()],v.prototype,"layer",void 0),Object(a.a)([Object(l.b)({type:h.a})],v.prototype,"popupTemplate",void 0),Object(a.a)([Object(l.b)()],v.prototype,"sourceLayer",void 0),Object(a.a)([Object(l.b)({value:null,types:f.e})],v.prototype,"symbol",null),Object(a.a)([Object(l.b)({type:Boolean,value:!0})],v.prototype,"visible",null),v=i=Object(a.a)([Object(c.a)("esri.Graphic")],v),(v||(v={})).generateUID=b.a;var m=v;t.a=m},1230:function(e,t,r){"use strict";r.r(t),r.d(t,"Layers",(function(){return Ct}));var i=r(1),n=r(91),a=r(82),o=r(80),s=r(81),l=r(85),c=r(145),u=r(116),d=r(288),p=r(84),h=(r(83),r(86),r(87),r(165)),f=r(107),b=r(115),v=r(108),m=(r(114),r(261)),y=r(163),g=r(301),O=r(129),j=r(154),w="hide",_="hide-children";function S(e){if(e)return null!=e.listMode?e.listMode:void 0}function x(e){if(e)return e.listMode===_||"wmts"===e.type?void 0:"group"===e.type?"layers":"sublayers"}function E(e,t){e&&e.sort(((e,r)=>{var i=t.indexOf(e.uid),n=t.indexOf(r.uid);return i>n?-1:i<n?1:0}))}function I(e){var t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function T(e,t){var r,i=null==(r=e.layer)?void 0:r.uid;return i&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===i}))}var A,k=r(7),C=r(97),F=r(266),L=r(625),P=r(566),N=r(677),D=r(167),M=r(613),V=(r(88),A=class extends L.a{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new A({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}});Object(a.a)([Object(l.b)()],V.prototype,"displayValueEnabled",void 0),Object(a.a)([Object(l.b)()],V.prototype,"max",void 0),Object(a.a)([Object(l.b)()],V.prototype,"min",void 0),Object(a.a)([Object(l.b)()],V.prototype,"step",void 0),Object(a.a)([Object(l.b)()],V.prototype,"value",void 0);var R=V=A=Object(a.a)([Object(p.a)("esri.support.Action.ActionSlider")],V),U=r(389),z="esri-layer-list-panel",B="esri-layer-list-panel__content",q="esri-layer-list-panel__content--legend",H="esri-layer-list-panel__content--string",G="esri-layer-list-panel__content--html-element",W="esri-layer-list-panel__content--widget",Y=class extends(Object(F.a)(j.a)){constructor(e,t){super(e,t),this._legend=null,this._handles=new b.a,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([Object(v.a)(this,"content",(e=>this._createLegend(e)))])}destroy(){var{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){var{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){var e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return Object(O.a)("div",{class:z},this._renderContents())}_renderContent(e){var{_legend:t,listItem:r}=this;return e?"legend"===e?r&&r.view&&r.layer&&t?Object(O.a)("div",{class:this.classes(B,q),key:t},t.render()):null:"string"==typeof e?Object(O.a)("div",{class:this.classes(B,H),key:e,innerHTML:e}):Object(U.b)(e)?Object(O.a)("div",{class:this.classes(B,W),key:e},e.render()):e instanceof HTMLElement?Object(O.a)("div",{class:this.classes(B,G),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){var{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(e){var{layer:t,view:r}=e;return t&&r?{view:r,layerInfos:[{layer:t,title:""}]}:void 0}}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([r.e(27),r.e(108)]).then(r.bind(null,1090)).then((({default:e})=>{var{_handles:t,listItem:r}=this,i=new e(this._getLegendOptions(r));this._legend=i,this.notifyChange("className"),this.notifyChange("title");var n=Object(v.a)(this,["listItem.view","listItem.layer"],(()=>this._updateLegend(i)));t.add(n,"legends"),this.scheduleRender()}))}_hasLegend(e){var t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){var{listItem:t}=this;if(t){var{layer:r,view:i}=t;e.view=i,e.layerInfos=[{layer:r,title:null}],this.scheduleRender()}}_getWidget(e){return"legend"===e?this._legend:Object(U.b)(e)?e:null}_getFirstWidget(){var{content:e}=this;if(Array.isArray(e)){var t=null;return e.some((e=>{var r=this._getWidget(e);return r&&(t=r),!!r})),t}return this._getWidget(e)}};Object(a.a)([Object(l.b)()],Y.prototype,"className",null),Object(a.a)([Object(l.b)()],Y.prototype,"content",void 0),Object(a.a)([Object(l.b)()],Y.prototype,"image",void 0),Object(a.a)([Object(l.b)()],Y.prototype,"listItem",void 0),Object(a.a)([Object(l.b)()],Y.prototype,"title",null),Object(a.a)([Object(l.b)()],Y.prototype,"open",void 0),Object(a.a)([Object(l.b)()],Y.prototype,"visible",void 0);var J,X=Y=Object(a.a)([Object(p.a)("esri.widgets.LayerList.ListItemPanel")],Y),$=f.a.ofType({key:"type",defaultKeyValue:"button",base:L.a,typeMap:{button:P.a,toggle:N.a,slider:R}}),K=f.a.ofType($),Q="layer",Z="child-list-mode",ee=J=class extends(Object(F.a)(Object(D.b)(C.a))){constructor(e){super(e),this.actionsSections=new K,this.actionsOpen=!1,this.children=new(f.a.ofType(J)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([Object(v.a)(this,"layer",(e=>this._watchLayerProperties(e))),Object(v.a)(this,"view",(e=>this._updateChildren(e))),Object(v.a)(this,"panel",(e=>this._setListItemOnPanel(e))),Object(v.a)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new X(e):null}get title(){var e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){var e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!function(e,t){if(!e||isNaN(t))return!1;var r=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),i=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),n=!isNaN(r)&&r>0&&t>r,a=!isNaN(i)&&i>0&&t<i;return n||a}(this.layer,this.get("view.scale"))}get visibilityMode(){return function(e){if(!e)return"inherited";var t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";var r=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof r?r?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}(this.layer)}clone(){return new J({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){var t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(Z),this.children.removeAll(),e){e.forEach((t=>{this.handles.add(Object(v.d)(t,"listMode",(()=>this._addChildren(e))),Z)}));var t=[];e.filter((e=>"hide"!==S(e))).forEach((e=>{if(S(e)!==w){var r=new J({layer:e,parent:this,view:this.view});t.unshift(r)}})),this.children.addMany(t)}}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),Q)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_watchLayerProperties(e){if(this.handles&&(this.handles.remove(Q),this.handles.remove(Z),e))if(this.handles.add(Object(v.d)(e,"listMode",(()=>this._watchLayerProperties(e))),Q),"hide-children"!==S(e)){var t=x(e);t&&this.handles.add(Object(v.a)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),Q)}else this.children.removeAll()}_getLayerView(){var e=this;return Object(k.a)((function*(){var{layer:t,view:r}=e;if(t&&r)try{var i=yield r.whenLayerView(t);if(i.layer!==e.layer)return;e._set("layerView",i)}catch(n){}}))()}_isLayerUpdating(e){return!(e instanceof M.a)&&e&&"loading"===e.loadStatus}};Object(a.a)([Object(l.b)({type:K})],ee.prototype,"actionsSections",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"actionsOpen",void 0),Object(a.a)([Object(l.b)({type:f.a})],ee.prototype,"children",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"childrenSortable",void 0),Object(a.a)([Object(c.a)("layer.loadError?")],ee.prototype,"error",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"layer",void 0),Object(a.a)([Object(l.b)({readOnly:!0})],ee.prototype,"layerView",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"open",void 0),Object(a.a)([Object(l.b)({type:X})],ee.prototype,"panel",void 0),Object(a.a)([Object(u.a)("panel")],ee.prototype,"castPanel",null),Object(a.a)([Object(l.b)()],ee.prototype,"parent",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"sortable",void 0),Object(a.a)([Object(l.b)()],ee.prototype,"title",null),Object(a.a)([Object(l.b)({readOnly:!0})],ee.prototype,"updating",null),Object(a.a)([Object(l.b)({value:null})],ee.prototype,"view",void 0),Object(a.a)([Object(c.a)("layer.visible")],ee.prototype,"visible",void 0),Object(a.a)([Object(l.b)({readOnly:!0})],ee.prototype,"visibleAtCurrentScale",null),Object(a.a)([Object(l.b)({readOnly:!0})],ee.prototype,"visibilityMode",null);var te=ee=J=Object(a.a)([Object(p.a)("esri.widgets.LayerList.ListItem")],ee),re=r(954),ie=r(131),ne="view",ae="view-layers",oe="map-layers",se="layer-views",le="layer-list-mode",ce=f.a.ofType(te),ue=class extends ie.a.EventedAccessor{constructor(e){super(e),this._handles=new b.a,this.listItemCreatedFunction=null,this.operationalItems=new ce,this.view=null}initialize(){this._handles.add(Object(v.a)(this,["view","view.ready"],(()=>this._viewHandles())),ne)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){var e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,r,i){var n,a,o=null==e?void 0:e.layer;if(o){var s=null==(n=this.view)||null==(a=n.map)?void 0:a.layers,l=t?I(t):s,c=r?I(r):s;if(l&&c){var{operationalItems:u}=this,d=(null==t?void 0:t.children)||u,p=(null==r?void 0:r.children)||u,h=c.length-i;e.parent=r||null,d.includes(e)&&d.remove(e),l.includes(o)&&l.remove(o),p.includes(e)||p.add(e,h),c.includes(o)||c.add(o,h)}}}_createLayerViewHandles(e){var{_handles:t}=this;t.remove(se),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),se)}_createMapLayerHandles(e){var{_handles:t}=this;t.remove(oe),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),oe)}_watchItemProperties(e){this._handles.add([e.children.on("change",(()=>{this._modifyListItemChildren(e.children)}))],"children-change-".concat(e.uid))}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if("function"==typeof this.listItemCreatedFunction){var t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){var{view:t}=this,r=new te({layer:e,view:t});return this._watchItemProperties(r),r}_removeAllItems(){var{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove("children-change-".concat(t.uid))})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==S(e)))}_watchLayersListMode(e){var{_handles:t}=this;t.remove(le),e&&e.forEach((e=>{t.add(Object(v.d)(e,"listMode",(()=>this._compileList())),le)}))}_compileList(){var e=this.get("view.map.layers");this._watchLayersListMode(e);var t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){var{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){var{_handles:t,operationalItems:r}=this,i=[];r.forEach((r=>{r&&e&&e.find((e=>r.layer===e))?this._modifyListItem(r):(t.remove("children-change-".concat(r.uid)),i.push(r))})),r.removeMany(i)}_sortItems(e){var{operationalItems:t}=this;t.sort(((t,r)=>{var i=e.indexOf(t.layer),n=e.indexOf(r.layer);return i>n?-1:i<n?1:0}))}_viewHandles(){var{_handles:e,view:t}=this;e.remove([oe,se,ae]),this._compileList(),t&&t.ready&&e.add([Object(v.a)(this,"view.map.allLayers",(e=>this._createMapLayerHandles(e))),Object(v.a)(this,"view.allLayerViews",(e=>this._createLayerViewHandles(e))),Object(v.a)(this,"listItemCreatedFunction",(()=>this._compileList()))],ae)}};Object(a.a)([Object(l.b)()],ue.prototype,"listItemCreatedFunction",void 0),Object(a.a)([Object(l.b)({type:ce})],ue.prototype,"operationalItems",void 0),Object(a.a)([Object(l.b)({readOnly:!0})],ue.prototype,"state",null),Object(a.a)([Object(l.b)()],ue.prototype,"view",void 0);var de=ue=Object(a.a)([Object(p.a)("esri.widgets.LayerList.LayerListViewModel")],ue);function pe(e,t,r){e.splice(r,0,e.splice(t,1)[0])}var he=f.a.ofType(te),fe="data-sort-filter",be="data-layer-uid",ve="esri-layer-list esri-widget esri-widget--panel",me="esri-layer-list--new-ui",ye="esri-layer-list__no-items",ge="esri-layer-list__list",Oe="esri-layer-list__list--root",je="esri-layer-list__list--exclusive",we="esri-layer-list__list--inherited",_e="esri-layer-list__list--independent",Se="esri-layer-list__item",xe="esri-layer-list__item--error",Ee="esri-layer-list__item--invisible",Ie="esri-layer-list__item--invisible-at-scale",Te="esri-layer-list__item--updating",Ae="esri-layer-list__item--has-children",ke="esri-layer-list__item--selectable",Ce="esri-layer-list__item-container",Fe="esri-layer-list__item-actions-menu",Le="esri-layer-list__item-actions-menu-item",Pe="esri-layer-list__item-actions-menu-item--active",Ne="esri-layer-list__item-actions",De="esri-layer-list__item-actions-list",Me="esri-layer-list__item-action",Ve="esri-layer-list__item-action-icon",Re="esri-layer-list__item-action-image",Ue="esri-layer-list__item-action-title",ze="esri-layer-list__action-toggle",Be="esri-layer-list__action-toggle--on",qe="esri-layer-list__item-label",He="esri-layer-list__item-error-message",Ge="esri-layer-list__item-title",We="esri-layer-list__item-toggle",Ye="esri-layer-list__item-toggle-icon",Je="esri-layer-list__item-toggle-icon",Xe="esri-layer-list__item-radio-icon",$e="esri-layer-list__child-toggle",Ke="esri-layer-list__child-toggle--open",Qe="esri-layer-list__child-toggle-icon--opened",Ze="esri-layer-list__child-toggle-icon--closed",et="esri-layer-list__child-toggle-icon--closed-rtl",tt="esri-layer-list--chosen",rt="esri-disabled",it="esri-disabled-element",nt="esri-hidden",at="esri-rotating",ot="esri-icon-handle-horizontal",st="esri-icon-visible",lt="esri-icon-non-visible",ct="esri-icon-radio-checked",ut="esri-icon-radio-unchecked",dt="esri-icon-notice-triangle",pt="esri-icon-down-arrow",ht="esri-icon-right-triangle-arrow",ft="esri-icon-left-triangle-arrow",bt="esri-icon-loading-indicator",vt="esri-icon-default-action",mt="esri-icon-layers",yt="actions",gt="action-section",Ot="items",jt={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function wt(e){var{actionsOpen:t,children:r}=e;t&&(e.actionsOpen=!1),r.forEach((e=>wt(e)))}var _t="root",St=s.a.getLogger("esri.widgets.LayerList"),xt={statusIndicators:!0},Et=class extends j.a{constructor(e,t){super(e,t),this._handles=new b.a,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=Object(o.a)("esri-layerlist-new-ui"),this.visibleItems=null,this.iconClass=mt,this.label=void 0,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new he,this.view=null,this.viewModel=new de,this.visibleElements=Object(n.a)({},xt),this._onSortableSort=({to:e,from:t,item:r,newIndex:i})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:r,newIndex:i}))},this._sortableCanPut=(e,t,r)=>{var i,n,a=e.el.dataset.group,o=t.el.dataset.group,s=e.el["data-item"],l=r["data-item"],c=null==l||null==(i=l.layer)?void 0:i.type,u=null==s||null==(n=s.layer)?void 0:n.type;return a&&o&&c&&!("group"===u&&"group"===c)},this._sortableCanPull=(e,t,r)=>{var i,n=e.el.dataset.group,a=t.el.dataset.group,o=r["data-item"],s=null==o||null==(i=o.layer)?void 0:i.type;return n&&a&&!!s},this._onSortableEnd=({oldIndex:e,from:t,to:r,item:i})=>{t!==r&&t.insertBefore(i,t.children[e])}}initialize(){var e=this.operationalItems;this._setVisibleItems(e),this.own(Object(v.b)(this,"operationalItems","change",(()=>this._itemsChanged(e))),Object(v.a)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){Object(d.c)(St,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=Object(n.a)(Object(n.a)({},this.visibleElements),{},{statusIndicators:e})}castVisibleElements(e){return Object(n.a)(Object(n.a)({},xt),e)}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e,{visibleItems:t,_newUI:r}=this,i=null==(e=this.viewModel)?void 0:e.state,n={[me]:r,[nt]:"loading"===i,[rt]:"disabled"===i};return Object(O.a)("div",{class:this.classes(ve,n)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return Object(O.a)("div",{class:ye},this.messages.noItemsToDisplay)}renderItems(){var{visibleItems:e,selectionEnabled:t,messages:r}=this;return Object(O.a)("ul",{"aria-label":r.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":_t,bind:this,class:this.classes(ge,Oe,_e)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){var{messages:r}=this,i={[Pe]:e.actionsOpen},n=e.actionsOpen?r.closeActions:r.openActions;return Object(O.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(Le,i),tabindex:"0",role:"button","aria-controls":t,"aria-label":n,title:n},Object(O.a)("span",{"aria-hidden":"true",class:ot}))}renderActionsMenu(e,t,r,i){var{panel:n}=e,a=n&&n.visible?this.renderPanelButton(n):null,o=1===r&&this._getSingleActionButton(t),s=o?this.renderAction({item:e,action:o,singleAction:!0}):null,l=!o&&r?this.renderActionsMenuIcon(e,i):null;return l||a||o?Object(O.a)("div",{key:"actions-menu",class:Fe},a,s,l):null}renderChildList(e,t){var r,{selectionEnabled:i}=this,{visibilityMode:n,children:a}=e,o=!!e.error,s=!!a.length&&!o,l=!s&&i&&"group"===(null==(r=e.layer)?void 0:r.type),{exclusive:c,inherited:u}=jt,d={[je]:n===c,[we]:n===u,[_e]:n!==u&&n!==c};return s||l?Object(O.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(ge,d),"aria-expanded":e.open?"true":"false",role:i?"listbox":n===c?"radiogroup":"group",hidden:!e.open&&!l||null},null==a?void 0:a.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){var{messagesCommon:r}=this,{children:i}=e,n=!!e.error,a=!!i.length&&!n,o={[Ke]:e.open},s=e.open?r.collapse:r.expand;return a?Object(O.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes($e,o),tabindex:"0",role:"button","aria-controls":t,"aria-label":s,title:s},Object(O.a)("span",{"aria-hidden":"true",class:this.classes(Ze,ht)}),Object(O.a)("span",{"aria-hidden":"true",class:this.classes(Qe,pt)}),Object(O.a)("span",{"aria-hidden":"true",class:this.classes(et,ft)})):null}renderError(e){return e.error?Object(O.a)("div",{key:"esri-layer-list__error",class:He,role:"alert"},Object(O.a)("span",null,this.messages.layerError)):null}renderItemContent(e,t,r){var{id:i}=this,n="".concat(i,"_").concat(e.uid),a="".concat(n,"_actions"),o="".concat(n,"__list"),{panel:s}=e,l=this._filterActions(e.actionsSections),c=this._countActions(l);return[Object(O.a)("div",{key:"list-item-container",class:Ce},this.renderChildrenToggle(e,o),this.renderLabel(e,t,r),this.renderActionsMenu(e,l,c,a)),this.renderError(e),c?this.renderActionsSections(e,l,a):null,s&&s.open?s.render():null,this.renderChildList(e,o)]}renderItem(e,t){var{_newUI:r,id:i,selectionEnabled:n,selectedItems:a,visibleElements:o}=this,{children:s}=e,l="".concat("".concat(i,"_").concat(e.uid),"__title"),c=!!e.error,u=!!s.length&&!c,d={[Ae]:u,[xe]:!!c,[Te]:e.updating&&!t&&o.statusIndicators,[Ee]:r&&!e.visible,[Ie]:!e.visibleAtCurrentScale,[ke]:n};if(n){var p,h={[be]:null==(p=e.layer)?void 0:p.uid,[fe]:(!e.sortable).toString()};return Object(O.a)("li",Object.assign({key:"item-with-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(Se,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:_t,tabIndex:0,"aria-selected":T(e,a)?"true":"false",role:"option"},h),this.renderItemContent(e,t,l))}return Object(O.a)("li",{key:"item-no-selection-".concat(e.uid),bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(Se,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}renderItemTitle(e,t){var{messages:r}=this,i=e.title||r.untitledLayer,n=e.visibleAtCurrentScale?i:"".concat(i," (").concat(r.layerInvisibleAtScale,")");return Object(O.a)("span",{key:"layer-title-container",id:t,title:n,"aria-label":n,class:Ge},i)}renderItemToggleIcon(e,t){var{_newUI:r}=this,{exclusive:i}=jt,n=t&&t.visibilityMode,a={[Ye]:r,[Je]:r&&n!==i,[Xe]:r&&n===i,[ct]:n===i&&e.visible,[ut]:n===i&&!e.visible,[st]:n!==i&&e.visible,[lt]:n!==i&&!e.visible};return Object(O.a)("span",{key:"item-toggle-icon",class:this.classes(a),"aria-hidden":"true"})}renderItemToggle(e,t,r){var{selectionEnabled:i}=this,{exclusive:n}=jt,a=t&&t.visibilityMode,o=a===n?"radio":"switch";return Object(O.a)("span",i?{key:"item-toggle-selection-enabled",class:We,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":a,tabIndex:0,"aria-checked":e.visible?"true":"false",role:o,"aria-labelledby":r}:{key:"item-toggle",class:We},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?Object(O.a)("span",{key:"notice-triangle","aria-hidden":"true",class:dt}):null}renderLabel(e,t,r){var{selectionEnabled:i,_newUI:n}=this,{inherited:a,exclusive:o}=jt,s=null==t?void 0:t.visibilityMode,l=s===o?"radio":"switch",c=[this.renderItemToggle(e,t,r),this.renderItemTitle(e,r)];n&&c.reverse();var u=Object(O.a)("div",i?{key:"item-label-no-selection-".concat(e.uid),class:qe}:{key:"item-label-with-selection-".concat(e.uid),class:qe,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":s,tabIndex:0,"aria-checked":e.visible?"true":"false",role:l,"aria-labelledby":r},c);return s===a||e.error?Object(O.a)("div",{key:"item-label-container-".concat(e.uid),class:qe},this.renderItemError(e),this.renderItemTitle(e,r)):u}renderPanelButton(e){var{className:t,open:r,title:i,image:n}=e,a=n||t?t:vt,o=this._getIconImageStyles(e),s={[Pe]:r},l={[Re]:!!o["background-image"]};return a&&(l[a]=!!a),Object(O.a)("div",{key:"panel-".concat(e.uid),bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(Le,s),role:"button",tabindex:"0",title:i,"aria-label":i},Object(O.a)("span",{class:this.classes(l),styles:o}))}renderActionsSections(e,t,r){var i=t.toArray().map(((t,r)=>Object(O.a)("ul",{key:"".concat(e,"-action-section-").concat(r),class:De},this.renderActionSection(e,t))));return Object(O.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:r,class:Ne,hidden:!e.actionsOpen||null},i)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){var{active:t,className:r}=e,i=this._getIconImageStyles(e),n="button"!==e.type||e.image||r?r:vt,a={[Re]:!t&&!!i["background-image"],[bt]:t,[at]:t};return n&&!t&&(a[n]=!0),Object(O.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(Ve,a),styles:i})}renderActionTitle(e,t){return t?null:Object(O.a)("span",{key:"action-title",class:Ue},e)}renderAction(e){var{item:t,action:r,singleAction:i}=e,{active:n,disabled:a,title:o}=r,s={[Le]:i&&"button"===r.type,[Me]:n||!i&&"toggle"!==r.type,[ze]:!n&&"toggle"===r.type,[Be]:!n&&"toggle"===r.type&&r.value,[it]:a},l=[this.renderActionIcon(r),this.renderActionTitle(o,i)];return i?Object(O.a)("div",{bind:this,"data-item":t,"data-action":r,role:"button",key:"single-action-".concat(r.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:s,tabindex:"0",title:o,"aria-label":o},l):Object(O.a)("li",{bind:this,"data-item":t,"data-action":r,key:"action-".concat(r.uid),onclick:this._triggerAction,onkeydown:this._triggerAction,classes:s,tabindex:"0",role:"button",title:o,"aria-label":o},l)}_sortNodeRemoved(e){var{_sortableMap:t}=this,r=e.dataset.group,i=t.get(r);i&&i.destroy(),t.delete(r)}_destroySortables(){var{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:r,newIndex:i}){var n=r["data-item"],a=e["data-item"],o=t["data-item"];this.viewModel.moveListItem(n,o,a,i)}_sortLayers(e){if(e){var t,r,i=e.el["data-item"],n=e.toArray();i?function(e,t){var r=null==e?void 0:e.layer;if(r){var i=x(r);i&&E(r.get(i),t)}}(i,n):E(null==(t=this.view)||null==(r=t.map)?void 0:r.layers,n)}}_toggleSorting(e,t){var{_sortableMap:r,selectionEnabled:i}=this,n=r.get(t),a=e["data-item"],o=(t===_t||a.childrenSortable&&function(e){var t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;var r=t.get("capabilities.exportMap.supportsSublayersChanges");return"boolean"!=typeof r||r}(a))&&i;if(n)n.option("disabled",!o);else if(o){var s=re.a.create(e,{dataIdAttr:be,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:"[".concat(fe,'="true"]'),fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!o,chosenClass:tt});r.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t,{_focusSortUid:r}=this;e&&r&&(null==(t=e["data-item"].layer)?void 0:t.uid)===r&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){var r=gt+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){var r=yt+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(v.a)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],r):this._handles.add([Object(v.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],r):this._handles.add([Object(v.a)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],r)}_renderOnItemChanges(e){var t=e.uid,r=Ot+t;this._handles.add([Object(v.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],r),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'.concat(t,'")'):null}}_selectionKeydown(e){var t=Object(h.a)(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(t)){e.stopPropagation();var r=e.currentTarget,i=r["data-item"],{_sortableMap:n,selectedItems:a}=this,o=r.dataset.group,s=n.get(o);if(s){var l=T(i,a),c=s.toArray(),u=e.target,d=c.indexOf(u.dataset.layerUid);if(-1!==d){if("ArrowDown"===t){var p,f,b=d+1;if(b>=c.length)return;l?(pe(c,d,b),s.sort(c),this._sortLayers(s),this._focusSortUid=null==(p=i.layer)?void 0:p.uid):(this._focusSortUid=null==(f=i.layer)?void 0:f.uid,this.scheduleRender())}if("ArrowUp"===t){var v,m,y=d-1;if(y<=-1)return;l?(pe(c,d,y),s.sort(c),this._sortLayers(s),this._focusSortUid=null==(v=i.layer)?void 0:v.uid):(this._focusSortUid=null==(m=i.layer)?void 0:m.uid,this.scheduleRender())}}}}else this._toggleSelection(e)}_toggleActionsOpen(e){var t=e.currentTarget["data-item"],{actionsOpen:r}=t,i=!r;i&&this.operationalItems.forEach((e=>wt(e))),t.actionsOpen=i,e.stopPropagation()}_triggerPanel(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){var t=e.currentTarget,r=t["data-action"],i=t["data-item"];"toggle"===r.type&&(r.value=!r.value),this.triggerAction(r,i),e.stopPropagation()}_toggleVisibility(e){var t=e.currentTarget,r=t.getAttribute("data-parent-visibility"),i=t["data-item"];r===jt.exclusive&&i.visible||(i.visible=!i.visible),e.stopPropagation()}_toggleChildrenClick(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();var{multipleSelectionEnabled:t,selectedItems:r}=this,i=t&&(e.metaKey||e.ctrlKey),n=e.currentTarget["data-item"],a=T(n,r),{length:o}=r;if(!i)return!o||a&&1===o?void(a?null==r.remove||r.remove(a):r.add(n)):(r.removeAll(),void r.add(n));a?null==r.remove||r.remove(a):r.add(n)}};Object(a.a)([Object(l.b)()],Et.prototype,"visibleItems",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"iconClass",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"errorsVisible",void 0),Object(a.a)([Object(l.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Et.prototype,"label",void 0),Object(a.a)([Object(c.a)("viewModel.listItemCreatedFunction")],Et.prototype,"listItemCreatedFunction",void 0),Object(a.a)([Object(l.b)(),Object(y.a)("esri/widgets/LayerList/t9n/LayerList")],Et.prototype,"messages",void 0),Object(a.a)([Object(l.b)(),Object(y.a)("esri/t9n/common")],Et.prototype,"messagesCommon",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"multipleSelectionEnabled",void 0),Object(a.a)([Object(c.a)("viewModel.operationalItems")],Et.prototype,"operationalItems",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"selectionEnabled",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"selectedItems",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"statusIndicatorsVisible",null),Object(a.a)([Object(c.a)("viewModel.view")],Et.prototype,"view",void 0),Object(a.a)([Object(g.a)("trigger-action"),Object(l.b)({type:de})],Et.prototype,"viewModel",void 0),Object(a.a)([Object(l.b)()],Et.prototype,"visibleElements",void 0),Object(a.a)([Object(u.a)("visibleElements")],Et.prototype,"castVisibleElements",null),Object(a.a)([Object(c.a)("viewModel.triggerAction")],Et.prototype,"triggerAction",null),Object(a.a)([Object(m.a)()],Et.prototype,"_toggleActionsOpen",null),Object(a.a)([Object(m.a)()],Et.prototype,"_triggerPanel",null),Object(a.a)([Object(m.a)()],Et.prototype,"_triggerAction",null),Object(a.a)([Object(m.a)()],Et.prototype,"_toggleVisibility",null),Object(a.a)([Object(m.a)()],Et.prototype,"_toggleChildrenClick",null),Object(a.a)([Object(m.a)()],Et.prototype,"_toggleSelection",null);var It=Et=Object(a.a)([Object(p.a)("esri.widgets.LayerList")],Et),Tt=e=>{var t=e.item;if("group"!=t.layer.type&&void 0!=t.layer.type){var r=document.createElement("calcite-slider");r.setAttribute("min","0"),r.setAttribute("max","100"),r.setAttribute("step","1"),r.setAttribute("snap",""),r.setAttribute("min-label","0%"),r.setAttribute("max-label","100%"),r.setAttribute("label-handles",""),r.setAttribute("value",Math.round(100*(null===t||void 0===t?void 0:t.layer.opacity)).toString()),r.setAttribute("data",t.layer.id),r.addEventListener("calciteSliderUpdate",(e=>{var r;t.layer.opacity=Math.round(parseInt(null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.getAttribute("value")))/100}),{passive:!0}),t.panel={content:[r,"legend"],open:t.layer.visible},t.layer.watch("visible",(e=>{t.panel.open=e,e&&(t.layer.parent&&"group"===t.layer.parent.type&&(t.layer.parent.visible=!0),t.layer.parent.parent&&"group"===t.layer.parent.parent.type&&(t.layer.parent.parent.visible=!0))}))}},At=(e,t)=>{e||(e=""),t.operationalItems.forEach((t=>{if("group"===t.layer.type){var r,i,n,a,o=!1;if(t.layer.layers.forEach((t=>{t.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",o=!0):t.listMode="hide","group"===t.type&&t.layers.forEach((r=>{r.title.toLowerCase().includes(e.toLowerCase())?(t.listMode="show",r.listMode="show",o=!0):r.listMode="hide"}))})),e.length)if(o){var s,l,c,u;t.open=!0,null===(s=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===s||null===(l=s.parentElement)||void 0===l||null===(c=l.parentElement)||void 0===c||null===(u=c.parentElement)||void 0===u||u.removeAttribute("hidden")}else{var d,p,h,f;t.open=!1,null===(d=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===d||null===(p=d.parentElement)||void 0===p||null===(h=p.parentElement)||void 0===h||null===(f=h.parentElement)||void 0===f||f.setAttribute("hidden","")}else t.open=!1,null===(r=document.querySelector("#layerListDiv_".concat(t.uid,"__title")))||void 0===r||null===(i=r.parentElement)||void 0===i||null===(n=i.parentElement)||void 0===n||null===(a=n.parentElement)||void 0===a||a.removeAttribute("hidden")}}))},kt=(r(1105),r(0)),Ct=e=>{var t=Object(i.useRef)(null),r=Object(i.useRef)(null),n=Object(i.useRef)();return Object(i.useEffect)((()=>{console.log(e.active)}),[e.active]),Object(i.useEffect)((()=>{var i,a,o=new It({container:t.current,view:e.view,listItemCreatedFunction:Tt,visibleElements:{statusIndicators:!0}});return n.current=o,null===(i=r.current)||void 0===i||i.addEventListener("calciteInputInput",(e=>{At(e.target.value,o)})),null===(a=r.current)||void 0===a||a.addEventListener("focusout",(e=>{At(e.target.value,o)})),()=>{var e;null===(e=r.current)||void 0===e||e.removeEventListener("calciteInputInput",(e=>{At(e.target.value,o)})),o&&o.destroy()}}),[e.view]),Object(kt.jsxs)("div",{className:"panel",children:[Object(kt.jsxs)("div",{className:"row sticky",children:[Object(kt.jsx)("calcite-input",{ref:r,clearable:!0,placeholder:"Filter by layer name",scale:"m",id:"layerSearch"}),Object(kt.jsx)("calcite-action",{icon:"viewHide",scale:"m",onClick:()=>{(e=>{null===e||void 0===e||e.operationalItems.forEach((e=>{e.visible="Property"===e.title}))})(n.current)}})]}),Object(kt.jsx)("div",{ref:t})]})};t.default=Ct},124:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));var i=r(92);function n(e,t,r=!1){return l(e,t,r)}function a(e,t){if(null!=t)return t[e]||s(e.split("."),!1,t)}function o(e,t,r){var i=e.split("."),n=i.pop(),a=s(i,!0,r);a&&n&&(a[n]=t)}function s(e,t,r){var i=r;for(var n of e){if(null==i)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function l(e,t,r){return t?Object.keys(t).reduce((function(e,n){var a=e[n],o=t[n];return a===o?e:void 0===a?(e[n]=Object(i.a)(o),e):(Array.isArray(o)||Array.isArray(e)?(a=a?Array.isArray(a)?e[n]=a.concat():e[n]=[a]:e[n]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach((e=>{-1===a.indexOf(e)&&a.push(e)})):e[n]=o.concat())):o&&"object"==typeof o?e[n]=l(a,o,r):e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=o),e)}),e||{}):e}},129:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},n=function(e,t){for(var r=0,a=e.length;r<a;r++){var o=e[r];Array.isArray(o)?n(o,t):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=i(o)),t.push(o))}},a=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(1===r.length&&"string"==typeof r[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var a=[];return n(r,a),{vnodeSelector:e,properties:t||void 0,children:a,text:void 0,domNode:null}}},132:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(92)),o=r(89),s=(r(81),r(88)),l=r(85),c=r(116),u=r(95),d=r(84),p=r(96),h=(r(83),r(86),r(87),r(90)),f=r(99),b=r(113),v=r(100),m=r(101),y=r(150),g=r(170),O=r(250),j=r(246),w=new u.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),_=new u.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),S=i=class extends h.a{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.units=null,this.where=null}static from(e){return Object(s.d)(i,e)}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){var r={};for(var i in e){var n=e[i];Array.isArray(n)?r[i]=n.map((e=>e instanceof Date?e.getTime():e)):n instanceof Date?r[i]=n.getTime():r[i]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new i(Object(a.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(o.k)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))}};S.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"aggregateIds",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{writer:(e,t)=>{null!=e&&(t.cacheHint=e)}}}})],S.prototype,"cacheHint",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"datumTransformation",void 0),Object(n.a)([Object(c.a)("datumTransformation")],S.prototype,"castDatumTransformation",null),Object(n.a)([Object(l.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],S.prototype,"distance",void 0),Object(n.a)([Object(l.b)({type:g.a,json:{write:!0}})],S.prototype,"dynamicDataSource",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),Object(n.a)([Object(l.b)({types:m.a,json:{read:v.a,write:!0}})],S.prototype,"geometry",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecision",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"groupByFieldsForStatistics",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"having",void 0),Object(n.a)([Object(l.b)({type:Date})],S.prototype,"historicMoment",void 0),Object(n.a)([Object(p.a)("historicMoment")],S.prototype,"writeHistoricMoment",null),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],S.prototype,"maxAllowableOffset",void 0),Object(n.a)([Object(l.b)({type:Number,cast:e=>e<1?1:e>i.MAX_MAX_RECORD_COUNT_FACTOR?i.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],S.prototype,"maxRecordCountFactor",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"multipatchOption",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],S.prototype,"num",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"objectIds",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"orderByFields",void 0),Object(n.a)([Object(l.b)({type:[String],json:{write:!0}})],S.prototype,"outFields",void 0),Object(n.a)([Object(l.b)({type:f.a,json:{read:{source:"outSR"},write:{target:"outSR"}}})],S.prototype,"outSpatialReference",void 0),Object(n.a)([Object(l.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(o.k)(this.outStatistics)&&this.outStatistics.length>0}}}}})],S.prototype,"outStatistics",void 0),Object(n.a)([Object(l.b)({json:{write:!0}})],S.prototype,"parameterValues",void 0),Object(n.a)([Object(p.a)("parameterValues")],S.prototype,"writeParameterValues",null),Object(n.a)([Object(l.b)({type:b.a,json:{write:!0}})],S.prototype,"pixelSize",void 0),Object(n.a)([Object(l.b)({type:O.a,json:{write:!0}})],S.prototype,"quantizationParameters",void 0),Object(n.a)([Object(l.b)({type:[Object],json:{write:!0}})],S.prototype,"rangeValues",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],S.prototype,"relationParameter",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"resultType",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnCentroid",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnDistinctValues",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:!e})}}})],S.prototype,"returnExceededLimitFeatures",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:!0}})],S.prototype,"returnGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnQueryGeometry",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnM",void 0),Object(n.a)([Object(l.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],S.prototype,"returnZ",void 0),Object(n.a)([Object(l.b)({type:f.a,json:{write:!0}})],S.prototype,"sourceSpatialReference",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:{source:"spatialRel",reader:w.read},write:{target:"spatialRel",writer:w.write}}})],S.prototype,"spatialRelationship",void 0),Object(n.a)([Object(l.b)({type:Number,json:{read:{source:"resultOffset"}}})],S.prototype,"start",void 0),Object(n.a)([Object(p.a)("start"),Object(p.a)("num")],S.prototype,"writeStart",null),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"sqlFormat",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],S.prototype,"text",void 0),Object(n.a)([Object(l.b)({type:y.a,json:{write:!0}})],S.prototype,"timeExtent",void 0),Object(n.a)([Object(l.b)({type:String,json:{read:_.read,write:{writer:_.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],S.prototype,"units",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||this.start>0}}}}})],S.prototype,"where",void 0),Object(n.a)([Object(p.a)("where")],S.prototype,"writeWhere",null);var x=S=i=Object(n.a)([Object(d.a)("esri.tasks.support.Query")],S);t.a=x},134:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(102),l=r(84),c=(r(83),r(86),r(87),r(90)),u=i=class extends c.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new i({name:this.name,code:this.code})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0);var d,p=u=i=Object(n.a)([Object(l.a)("esri.layers.support.CodedValue")],u),h=r(121),f=d=class extends h.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(a.a)(this.codedValues),name:this.name})}};Object(n.a)([Object(o.b)({type:[p],json:{write:!0}})],f.prototype,"codedValues",void 0),Object(n.a)([Object(s.a)({codedValue:"coded-value"})],f.prototype,"type",void 0);var b=f=d=Object(n.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],f);t.a=b},136:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(81),r(88),r(85),r(102)),o=r(84),s=(r(83),r(86),r(87),r(121)),l=i=class extends s.a{constructor(e){super(e),this.type="inherited"}clone(){return new i}};Object(n.a)([Object(a.a)({inherited:"inherited"})],l.prototype,"type",void 0);var c=l=i=Object(n.a)([Object(o.a)("esri.layers.support.InheritedDomain")],l);t.a=c},137:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(81),r(88),r(85)),o=r(102),s=r(84),l=(r(83),r(86),r(87),r(121)),c=i=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new i({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(n.a)([Object(a.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(n.a)([Object(a.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(n.a)([Object(o.a)({range:"range"})],c.prototype,"type",void 0);var u=c=i=Object(n.a)([Object(s.a)("esri.layers.support.RangeDomain")],c);t.a=u},140:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c}));r(80);var i=r(95);function n(e){return e}var a={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},o=Object(i.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function s(e,t,r){var i=new Date(e.getTime());if(t&&r){var n=a[r],{getter:o,setter:s,multiplier:l}=n;i[s](i[o]()+t*l)}return i}var l={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function c(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},143:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return c}));var i=r(124),n=/\{([^\}]+)\}/g;function a(e){return null==e?"":e}function o(e,t){return e.replace(n,"object"==typeof t?(e,r)=>a(Object(i.b)(r,t)):(e,r)=>a(t(r)))}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:"\\".concat(e)))}function l(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c}));r(80);var i,n,a=r(121),o=r(134),s=r(136),l=r(137);function c(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>n)return i.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return i.INVALID_CODED_VALUE}return null}(n=i||(i={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",n.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var u={key:"type",base:a.a,typeMap:{range:l.a,"coded-value":o.a,inherited:s.a}};function d(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function p(e){if(!e||!e.type)return null;switch(e.type){case"range":return l.a.fromJSON(e);case"codedValue":return o.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},150:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(81),r(88),r(85)),o=r(98),s=r(84),l=r(96),c=(r(83),r(86),r(87),r(90)),u=r(140),d=i=class extends c.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return p}static get empty(){return h}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(i.allTime)}get isEmpty(){return this.equals(i.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new i({end:this.end,start:this.start})}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=this.start?Object(u.e)(this.start,e):null,r=this.end?Object(u.c)(Object(u.e)(this.end,e),1,e):null;return new i({start:t,end:r})}intersection(e){var t,r,n,a,o,s,l,c;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var u,d,p=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,h=null!=(n=null==(a=this.end)?void 0:a.getTime())?n:1/0,f=null!=(o=null==(s=e.start)?void 0:s.getTime())?o:-1/0,b=null!=(l=null==(c=e.end)?void 0:c.getTime())?l:1/0;if(f>=p&&f<=h?u=f:p>=f&&p<=b&&(u=p),h>=f&&h<=b?d=h:b>=p&&b<=h&&(d=b),!isNaN(u)&&!isNaN(d)){var v=new i;return v.start=u===-1/0?null:new Date(u),v.end=d===1/0?null:new Date(d),v}return i.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new i,{start:n,end:a}=this;return n&&(r.start=Object(u.c)(n,e,t)),a&&(r.end=Object(u.c)(a,e,t)),r}equals(e){if(!e)return!1;var t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,i=e.start?e.start.getTime():e.start,n=e.end?e.end.getTime():e.end;return t===i&&r===n}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return p.clone();var t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new i({start:t,end:r})}};Object(n.a)([Object(a.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(n.a)([Object(o.a)("end")],d.prototype,"readEnd",null),Object(n.a)([Object(l.a)("end")],d.prototype,"writeEnd",null),Object(n.a)([Object(a.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(n.a)([Object(a.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(n.a)([Object(a.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(n.a)([Object(o.a)("start")],d.prototype,"readStart",null),Object(n.a)([Object(l.a)("start")],d.prototype,"writeStart",null);var p=new(d=i=Object(n.a)([Object(s.a)("esri.TimeExtent")],d)),h=new d({start:void 0,end:void 0}),f=d;t.a=f},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return l}));var i,n=r(91),a=r(7),o=r(89),s=r(99);r(101);function l(){return c.apply(this,arguments)}function c(){return(c=Object(a.a)((function*(){return i||(i=Object(a.a)((function*(){var e=yield Promise.all([r.e(31),r.e(134)]).then(r.bind(null,383));return yield e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}}))()),i}))).apply(this,arguments)}var u=(e,t,r)=>h.create(e,t,r,null,["$feature"]),d=(e,t,r)=>h.create(e,t,r,null,["$feature","$view"]),p=(e,t,r,i)=>h.create(e,t,r,i,["$feature","$view"]);class h{constructor(e,t,r,i,n,a,o,s){this.script=e,this.evaluate=n,this.fields=o,this._syntaxTree=i,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=a,this._spatialReference=s,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(e,t,r,i,c,u){return Object(a.a)((function*(){var{arcade:a,Feature:d,Dictionary:p}=yield l(),f=s.a.fromJSON(t),b=a.parseScript(e,u),v=c.reduce(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{[t]:null})),{}),m=null;Object(o.k)(i)&&((m=new p(i)).immutable=!0,v.$config=null);var y=a.scriptUsesGeometryEngine(b)&&a.enableGeometrySupport(),g=a.scriptUsesFeatureSet(b)&&a.enableFeatureSetSupport(),O=a.scriptIsAsync(b)&&a.enableAsyncSupport(),j={vars:v,spatialReference:f,useAsync:!!O},w=new p;w.immutable=!1,w.setField("scale",0);var _=a.compileScript(b,j);return yield Promise.all([y,g,O]),new h(e,a,p,b,(e=>("$view"in e&&e.$view&&(w.setField("scale",e.$view.scale),e.$view=w),m&&(e.$config=m),_({vars:e,spatialReference:f}))),new d,r,f)}))()}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},154:function(e,t,r){"use strict";var i=r(91),n=r(7),a=r(82),o=(r(80),r(81)),s=r(85),l=r(116),c=r(288),u=r(84),d=(r(83),r(86)),p=(r(87),r(329)),h=r(94),f=r(435),b=r(131),v=r(148),m=r(206),y=(r(171),r(227)),g=r(115),O=r(108),j=r(385),w=r(114),_=(r(302),r(367)),S=o.a.getLogger("esri.widgets.Widget"),x=0,E="esri-icon-checkbox-unchecked",I=Object(_.a)(),T=!1,A=class extends(Object(y.b)(b.a.EventedAccessor)){constructor(e,t){var r;super(e,t),r=this,this._attached=!1,this._internalHandles=new g.a,this._projector=I,this.domNode=null,this.iconClass=E,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this._loadLocale=Object(h.i)(Object(n.a)((function*(){if(r._messageBundleProps&&r._messageBundleProps.length){var e=yield Object(h.j)(r._messageBundleProps.map(function(){var e=Object(n.a)((function*({bundlePath:e,propertyName:t}){r[t]=yield Object(m.a)(e)}));return function(t){return e.apply(this,arguments)}}()));for(var t of e)t.error&&S.error("widget-intl:locale-error",r.declaredClass,t.error)}yield r.loadLocale()})));var i=Object(w.d)()||"light";["light","dark"].includes(i)||Object(c.a)(S,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});var a="esri-widget-uid-"+Object(d.a)(),o=this.render.bind(this),s=!1;this._trackingTarget=new f.a((()=>this.scheduleRender()));var l=()=>{if(!s||this.destroyed)return null;var e=o();return e.properties?e.properties.key||(e.properties.key=a):e.properties={key:a},e};this.render=()=>{if(T)return l();var e;this._trackingTarget.clear(),T=!0;try{e=Object(p.b)(this._trackingTarget,l)}finally{T=!1}return e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{s=!0,this._postInitialize()})))}normalizeCtorArgs(e,t){var r=Object(i.a)({},e);return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return this._loadLocale().catch(h.v)}loadLocale(){return Object(n.a)((function*(){}))()}destroy(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null)}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Object(j.a)(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+x++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||this._projector.scheduleRender()}classes(...e){return w.a.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){this._projector.renderNow()}_postInitialize(){var e,t=this;this.destroyed||(this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(O.a)(this,"viewModel",((e,t)=>{t&&this._internalHandles.remove("delegated-events"),e&&this._internalHandles.add(this._delegatedEventNames.map((t=>e.on(t,(e=>{this.emit(t,e)})))),"delegated-events")}))),this.postInitialize(),this._internalHandles.add(Object(v.c)(Object(n.a)((function*(){yield t._loadLocale().catch(h.v),t.scheduleRender()})))),this._internalHandles.add(Object(O.j)(this,"container",function(){var e=Object(n.a)((function*(e){t.destroyed||t._attach(e)}));return function(t){return e.apply(this,arguments)}}())))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Object(a.a)([Object(s.b)({value:null})],A.prototype,"container",null),Object(a.a)([Object(l.a)("container")],A.prototype,"castContainer",null),Object(a.a)([Object(s.b)({aliasOf:"container"})],A.prototype,"domNode",void 0),Object(a.a)([Object(s.b)()],A.prototype,"iconClass",void 0),Object(a.a)([Object(s.b)()],A.prototype,"id",null),Object(a.a)([Object(s.b)()],A.prototype,"label",void 0),Object(a.a)([Object(s.b)()],A.prototype,"renderable",null),Object(a.a)([Object(s.b)()],A.prototype,"viewModel",void 0),Object(a.a)([Object(s.b)()],A.prototype,"visible",void 0);var k=A=Object(a.a)([Object(u.a)("esri.widgets.Widget")],A);t.a=k},155:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(81),r(88)),o=r(85),s=r(95),l=r(102),c=r(98),u=r(84),d=(r(83),r(86),r(87),r(90)),p=r(149),h=r(237),f=new s.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),b=i=class extends d.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){var r;try{r=JSON.parse(t)}catch(i){}return r?r.value:null}readValueType(e,{description:t}){var r;try{r=JSON.parse(t)}catch(i){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new i({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"alias",void 0),Object(n.a)([Object(o.b)({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0),Object(n.a)([Object(o.b)()],b.prototype,"description",void 0),Object(n.a)([Object(c.a)("description")],b.prototype,"readDescription",null),Object(n.a)([Object(o.b)({types:p.d,json:{read:{reader:p.b},write:!0}})],b.prototype,"domain",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0),Object(n.a)([Object(o.b)({type:a.a,json:{write:!0}})],b.prototype,"length",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0),Object(n.a)([Object(l.a)(h.a)],b.prototype,"type",void 0),Object(n.a)([Object(o.b)()],b.prototype,"valueType",void 0),Object(n.a)([Object(c.a)("valueType",["description"])],b.prototype,"readValueType",null);var v=b=i=Object(n.a)([Object(u.a)("esri.layers.support.Field")],b);t.a=v},158:function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=r}).call(this,r(172))},159:function(e,t,r){"use strict";var i=r(158),n=(r(80),r(124)),a={apiKey:void 0,applicationUrl:i.a.location&&i.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(i.a.esriConfig&&(Object(n.a)(a,i.a.esriConfig,!0),delete a.has),!a.assetsPath){a.assetsPath="https://js.arcgis.com/".concat("4.19.0".slice(0,-2),"/@arcgis/core/assets")}a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=a},163:function(e,t,r){"use strict";function i(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}r.d(t,"a",(function(){return i}))},165:function(e,t,r){"use strict";function i(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function n(e,t,r){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){var n=t.slice();for(var a of n)e.addEventListener(a,r);return{remove(){for(var t of n)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function a(e,t,r){if(!i(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);var a=n(e,t,(t=>{a.remove(),r.call(e,t)}));return{remove(){a.remove()}}}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a}));var o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s({key:e}){return o[e]||e}},167:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var i=r(82),n=r(85),a=r(84),o=r(97),s=r(115),l=r(297),c=e=>{var t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new s.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}};return Object(i.a)([Object(n.b)({readOnly:!0})],t.prototype,"handles",null),Object(i.a)([Object(n.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(i.a)([Object(a.a)("esri.core.HandleOwner")],t)},u=class extends(c(o.a)){};u=Object(i.a)([Object(a.a)("esri.core.HandleOwner")],u)},170:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var i,n,a=r(82),o=(r(80),r(81),r(88)),s=r(85),l=r(116),c=r(95),u=r(102),d=r(98),p=r(188),h=r(84),f=(r(83),r(86),r(87),r(90)),b=r(155),v=r(262),m=r(99),y=r(183),g=(r(101),i=class extends f.a{constructor(e){super(e),this.type="query-table"}clone(){var e,{workspaceId:t,query:r,oidFields:n,spatialReference:a,geometryType:o}=this,s={workspaceId:t,query:r,oidFields:n,spatialReference:null!=(e=null==a?void 0:a.clone())?e:void 0,geometryType:o};return new i(s)}});Object(a.a)([Object(u.a)({queryTable:"query-table"})],g.prototype,"type",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"query",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],g.prototype,"oidFields",void 0),Object(a.a)([Object(s.b)({type:m.a,json:{write:!0}})],g.prototype,"spatialReference",void 0),Object(a.a)([Object(u.a)(y.a)],g.prototype,"geometryType",void 0),g=i=Object(a.a)([Object(h.a)("esri.layers.support.source.QueryTableDataSource")],g);var O,j=n=class extends f.a{constructor(e){super(e),this.type="raster"}clone(){var{workspaceId:e,dataSourceName:t}=this;return new n({workspaceId:e,dataSourceName:t})}};Object(a.a)([Object(u.a)({raster:"raster"})],j.prototype,"type",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],j.prototype,"dataSourceName",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],j.prototype,"workspaceId",void 0),j=n=Object(a.a)([Object(h.a)("esri.layers.support.source.RasterDataSource")],j);var w,_,S=O=class extends f.a{constructor(e){super(e),this.type="table"}clone(){var{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new O({workspaceId:e,gdbVersion:t,dataSourceName:r})}};Object(a.a)([Object(u.a)({table:"table"})],S.prototype,"type",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],S.prototype,"workspaceId",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],S.prototype,"dataSourceName",void 0),S=O=Object(a.a)([Object(h.a)("esri.layers.support.source.TableDataSource")],S);var x=Object(c.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),E=w=class extends f.a{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return T()(e,t,r)}castLeftTableSource(e){return Object(o.k)(k(),e)}readRightTableSource(e,t,r){return T()(e,t,r)}castRightTableSource(e){return Object(o.k)(k(),e)}clone(){var e,t,{leftTableKey:r,rightTableKey:i,leftTableSource:n,rightTableSource:a,joinType:o}=this,s={leftTableKey:r,rightTableKey:i,leftTableSource:null!=(e=null==n?void 0:n.clone())?e:void 0,rightTableSource:null!=(t=null==a?void 0:a.clone())?t:void 0,joinType:o};return new w(s)}};Object(a.a)([Object(u.a)({joinTable:"join-table"})],E.prototype,"type",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],E.prototype,"leftTableKey",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],E.prototype,"rightTableKey",void 0),Object(a.a)([Object(s.b)({json:{write:!0}})],E.prototype,"leftTableSource",void 0),Object(a.a)([Object(d.a)("leftTableSource")],E.prototype,"readLeftTableSource",null),Object(a.a)([Object(l.a)("leftTableSource")],E.prototype,"castLeftTableSource",null),Object(a.a)([Object(s.b)({json:{write:!0}})],E.prototype,"rightTableSource",void 0),Object(a.a)([Object(d.a)("rightTableSource")],E.prototype,"readRightTableSource",null),Object(a.a)([Object(l.a)("rightTableSource")],E.prototype,"castRightTableSource",null),Object(a.a)([Object(u.a)(x)],E.prototype,"joinType",void 0),E=w=Object(a.a)([Object(h.a)("esri.layers.support.source.JoinTableDataSource")],E);var I=null;function T(){return I||(I=Object(p.b)({types:k()})),I}var A=null;function k(){return A||(A={key:"type",base:null,typeMap:{"data-layer":F,"map-layer":v.a}}),A}var C={key:"type",base:null,typeMap:{"join-table":E,"query-table":g,raster:j,table:S}},F=_=class extends f.a{constructor(e){super(e),this.type="data-layer"}clone(){var{fields:e,dataSource:t}=this;return new _({fields:e,dataSource:t})}};Object(a.a)([Object(u.a)({dataLayer:"data-layer"})],F.prototype,"type",void 0),Object(a.a)([Object(s.b)({type:[b.a],json:{write:!0}})],F.prototype,"fields",void 0),Object(a.a)([Object(s.b)({types:C,json:{write:!0}})],F.prototype,"dataSource",void 0),(F=_=Object(a.a)([Object(h.a)("esri.layers.support.source.DataLayerSource")],F)).from=Object(o.m)(F)},172:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"===typeof window&&(r=window)}e.exports=r},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return d}));var i=r(112),n=r(99),a=r(139);function o(e){return new n.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var s=o(a.a),l=o(a.b),c=o(a.c),u=new n.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(a.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function d(e){return e&&(Object(i.g)(e)||e===l)?l:e&&(Object(i.h)(e)||e===c)?c:s}function p(e){return e&&(Object(i.g)(e)||e===l)?a.b:e&&(Object(i.h)(e)||e===c)?a.c:a.a}function h(e){return Object(i.k)(e)?a.b:Object(i.l)(e)?a.c:a.a}},180:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));r(80);function i(e){}function n(e){return()=>e}},186:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return O}));var i=r(82),n=r(126),a=r(84),o=r(144),s=r(97),l=r(228),c=r(89),u=r(253),d=r(92);class p{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(o.a),this._values=new Map}clone(e){var t=this,r=new p,i=this._originStores[0];i&&i.forEach(((e,t)=>{r.set(t,Object(d.a)(e),0)}));for(var n=function(i){var n=t._originStores[i];n&&n.forEach(((t,n)=>{e&&e.has(n)||r.set(n,Object(d.a)(t),i)}))},a=2;a<o.a;a++)n(a);return r}get(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){var t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=6){var i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||Object(c.d)(this._propertyOriginMap.get(e))<=r){var n=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),n!==t}return!1}delete(e,t=6){var r=this._originStores[t];if(r){var i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var n=t-1;n>=0;n--){var a=this._originStores[n];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,n);break}}}return i}}has(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i}originOf(e){return this._propertyOriginMap.get(e)||0}forEach(e){this._values.forEach(e)}}var h=p,f=e=>{var t=class extends e{constructor(...e){super(...e);var t=Object(c.d)(Object(n.a)(this)),r=t.metadatas,i=t.store,a=new h;t.store=a,i.keys().forEach((e=>{a.set(e,i.get(e),0)})),Object.keys(r).forEach((e=>{t.internalGet(e)&&a.set(e,t.internalGet(e),0)}))}read(e,t){Object(u.a)(this,e,t)}getAtOrigin(e,t){var r=b(this),i=Object(o.d)(t);if("string"==typeof e)return r.get(e,i);var n={};return e.forEach((e=>{n[e]=r.get(e,i)})),n}originOf(e){return Object(o.b)(this.originIdOf(e))}originIdOf(e){return b(this).originOf(e)}revert(e,t){var r=b(this),i=Object(o.d)(t),a=Object(n.a)(this);("string"==typeof e?"*"===e?r.keys(i):[e]:e).forEach((e=>{a.propertyInvalidated(e),r.revert(e,i),a.propertyCommitted(e)}))}};return t=Object(i.a)([Object(a.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t)};function b(e){return Object(n.a)(e).store}var v=class extends(f(s.a)){};v=Object(i.a)([Object(a.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],v);var m=e=>{var t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return y(this).delete(e,Object(o.d)(t))}write(e={},t){return Object(l.b)(this,e=e||{},t),e}setAtOrigin(e,t,r){Object(n.a)(this).setAtOrigin(e,t,Object(o.d)(r))}removeOrigin(e){var t=y(this),r=Object(o.d)(e),i=t.keys(r);for(var n of i)t.originOf(n)===r&&t.set(n,t.get(n,r),6)}updateOrigin(e,t){for(var r=y(this),i=Object(o.d)(t),n=this.get(e),a=i+1;a<o.a;++a)r.delete(e,a);r.set(e,n,i)}toJSON(e){return this.write({},e)}};return(t=Object(i.a)([Object(a.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t};function y(e){return Object(n.a)(e).store}var g=e=>{var t=class extends(m(f(e))){constructor(...e){super(...e)}};return t=Object(i.a)([Object(a.a)("esri.core.MultiOriginJSONSupport")],t)},O=class extends(g(s.a)){};O=Object(i.a)([Object(a.a)("esri.core.MultiOriginJSONSupport")],O)},189:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=0;function n(){return++i}},193:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(139),n=r(117),a={inches:Object(n.c)(1,"meters","inches"),feet:Object(n.c)(1,"meters","feet"),"us-feet":Object(n.c)(1,"meters","us-feet"),yards:Object(n.c)(1,"meters","yards"),miles:Object(n.c)(1,"meters","miles"),"nautical-miles":Object(n.c)(1,"meters","nautical-miles"),millimeters:Object(n.c)(1,"meters","millimeters"),centimeters:Object(n.c)(1,"meters","centimeters"),decimeters:Object(n.c)(1,"meters","decimeters"),meters:Object(n.c)(1,"meters","meters"),kilometers:Object(n.c)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.m)(1,"meters",i.a.radius)}},194:function(e,t,r){"use strict";var i,n=r(7),a=r(82),o=(r(80),r(92)),s=(r(81),r(88),r(85)),l=r(102),c=r(84),u=(r(83),r(86),r(87),r(128)),d=r(203),p=r(412),h=i=class extends(Object(d.a)(u.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(e,t){var r=this;return Object(n.a)((function*(){yield Promise.all([r.collectSymbolFields(e,t),r.collectVVRequiredFields(e,t)])}))()}collectSymbolFields(e,t){var r=this;return Object(n.a)((function*(){yield Promise.all(r.getSymbols().map((r=>r.collectRequiredFields(e,t))))}))()}getSymbol(e,t){return this.symbol}getSymbolAsync(e,t){var r=this;return Object(n.a)((function*(){return r.symbol}))()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new i({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(o.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],h.prototype,"description",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],h.prototype,"label",void 0),Object(a.a)([Object(s.b)(p.b)],h.prototype,"symbol",void 0),Object(a.a)([Object(l.a)({simple:"simple"})],h.prototype,"type",void 0);var f=h=i=Object(a.a)([Object(c.a)("esri.renderers.SimpleRenderer")],h);t.a=f},195:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(95),l=r(98),c=r(84),u=r(96),d=(r(83),r(86),r(87),r(90)),p=r(138),h=r(341),f=r(230),b=i=class extends d.a{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?Object(f.a)(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=Object(f.a)(this.value)),t[r]=e}clone(){return new i({expression:this.expression,title:this.title,value:this.value})}};Object(n.a)([Object(o.b)({type:String,json:{write:{allowNull:!0}}})],b.prototype,"expression",void 0),Object(n.a)([Object(l.a)("expression",["expression","value"])],b.prototype,"readExpression",null),Object(n.a)([Object(u.a)("expression")],b.prototype,"writeExpression",null),Object(n.a)([Object(o.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0),Object(n.a)([Object(o.b)({json:{read:!1,write:!1}})],b.prototype,"value",void 0);var v,m=b=i=Object(n.a)([Object(c.a)("esri.layers.support.LabelExpressionInfo")],b),y=r(234),g=new s.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function O(e){return!e||"service"!==e.origin&&!j(e.layer)}function j(e){return"map-image"===(null==e?void 0:e.type)}function w(e){var t,r;return!!j(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}var _=v=class extends d.a{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=y.a,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var i=e.split(" ");if(3===i.length)return r(t[i[0]],i[1],i[2]);if(7===i.length){var n=r(t[i[0]],i[1],i[2]),a=i[3],o=r(t[i[4]],i[5],i[6]);switch(a){case"AND":return n&&o;case"OR":return n||o}}return!1}catch(s){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(f.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var i=Object(f.e)(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(null==e&&null!=this.labelExpression&&O(i))e=new m({expression:this.getLabelExpressionArcade()});else if(!e)return;var n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Object(f.b)(this)}getLabelExpressionArcade(){return Object(f.c)(this)}getLabelExpressionSingleField(){return Object(f.d)(this)}hash(){return JSON.stringify(this)}clone(){return new v({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(a.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(a.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],_.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],_.prototype,"deconflictionStrategy",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&w(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],_.prototype,"labelExpression",void 0),Object(n.a)([Object(l.a)("labelExpression")],_.prototype,"readLabelExpression",null),Object(n.a)([Object(u.a)("labelExpression")],_.prototype,"writeLabelExpression",null),Object(n.a)([Object(o.b)({type:m,json:{write:{overridePolicy:(e,t,r)=>function(e){return O(e)||w(e.layer)}(r)?{allowNull:!0}:{enabled:!1}}}})],_.prototype,"labelExpressionInfo",void 0),Object(n.a)([Object(u.a)("labelExpressionInfo")],_.prototype,"writeLabelExpressionInfo",null),Object(n.a)([Object(o.b)({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],_.prototype,"labelPlacement",void 0),Object(n.a)([Object(o.b)({type:Number})],_.prototype,"maxScale",void 0),Object(n.a)([Object(u.a)("maxScale")],_.prototype,"writeMaxScale",null),Object(n.a)([Object(o.b)({type:Number})],_.prototype,"minScale",void 0),Object(n.a)([Object(u.a)("minScale")],_.prototype,"writeMinScale",null),Object(n.a)([Object(o.b)({types:p.g,json:{origins:{"web-scene":{types:p.h,write:h.b,default:null}},write:h.b,default:null}})],_.prototype,"symbol",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],_.prototype,"useCodedValues",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],_.prototype,"where",void 0);var S=_=v=Object(n.a)([Object(c.a)("esri.layers.support.LabelClass")],_);t.a=S},197:function(e,t,r){"use strict";r.r(t);var i,n=r(91),a=r(7),o=r(82),s=(r(80),r(92)),l=r(89),c=r(143),u=r(81),d=(r(88),r(85)),p=r(84),h=r(96),f=r(93),b=(r(83),r(86),r(87),r(94)),v=r(152),m=r(118),y=r(109),g=r(356),O=r(106),j=r(128),w=r(203),_=r(235),S=u.a.getLogger("esri.renderers.DictionaryRenderer"),x={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},E=i=class extends(Object(w.a)(j.a)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new _.a(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){null!=i&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new i({config:Object(s.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(s.a)(this.fieldMap),url:Object(s.a)(this.url),visualVariables:Object(s.a)(this.visualVariables)})}getSymbolAsync(e,t){var r=this;return Object(a.a)((function*(){var i;r._dictionaryPromise||(r._dictionaryPromise=r.fetchResources(t));try{i=yield r._dictionaryPromise}catch(I){if(Object(b.m)(I))return r._dictionaryPromise=null,null}var n={};if(r.fieldMap)for(var a of r._symbolFields){var o=r.fieldMap[a];if(o&&null!==e.attributes[o]&&void 0!==e.attributes[o]){var s=""+e.attributes[o];n[a]=s}else n[a]=""}var u=i(n,t);if(!u||"string"!=typeof u)return null;var d=Object(c.b)(u).toString(),p=r._symbolCache.get(d);if(p)return p.catch((()=>{r._symbolCache.pop(d)})),p;var h=u.split(";"),f=[],v=[];for(var m of h)if(m&&0!==m.length)if(-1===m.indexOf("po:"))if(-1!==m.indexOf("|"))for(var g of m.split("|"))r._itemNames.has(g)&&f.push(g);else r._itemNames.has(m)&&f.push(m);else{var O=m.substr(3).split("|");if(3===O.length){var j=O[0],w=O[1],_=O[2];if("DashTemplate"===w)_=_.split(" ").map((e=>Number(e)));else if("Color"===w){var S=new y.a(_).toRgba();_=[S[0],S[1],S[2],255*S[3]]}else _=Number(_);v.push({primitiveName:j,propertyName:w,value:_})}}var x=!Object(l.k)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,E=r._cimPartsToCIMSymbol(f,v,x,t);return r._symbolCache.put(d,E,1),E}))()}collectRequiredFields(e,t){var r=this;return Object(a.a)((function*(){yield r.collectVVRequiredFields(e,t),r.scaleExpression&&(yield Object(m.c)(e,t,r.scaleExpression));var i=t.map((e=>e.name));for(var n in r.fieldMap)i.indexOf(r.fieldMap[n])<0||e.add(r.fieldMap[n])}))()}get arcadeRequired(){return!0}fetchResources(e){var t=this;return Object(a.a)((function*(){if(t._dictionaryPromise)return t._dictionaryPromise;if(t.url){var r=Object(l.k)(e)?e.abortOptions:null,i=Object(O.default)(t.url+"/resources/styles/dictionary-info.json",Object(n.a)({responseType:"json",query:{f:"json"}},r)),[{data:a}]=yield Promise.all([i,Object(v.e)()]);if(!a)throw t._dictionaryPromise=null,new f.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");var o=a.expression,s=a.authoringInfo;t._refSymbolUrlTemplate=t.url+"/"+a.cimRefTemplateUrl,t._itemNames=new Set(a.itemsNames),t._symbolFields=s.symbol;var c={};if(t.config){var u=t.config;for(var d in u)c[d]=u[d]}if(s.configuration)for(var p of s.configuration)c.hasOwnProperty(p.name)||(c[p.name]=p.value);var h=[];if(Object(l.k)(e)&&e.fields&&t.fieldMap){var b=function(r){var i=t.fieldMap[r],a=e.fields.filter((e=>e.name===i));a.length>0&&h.push(Object(n.a)(Object(n.a)({},a[0]),{},{name:r}))};for(var m of t._symbolFields)b(m)}return t._dictionaryPromise=Object(v.b)(o,Object(l.k)(e)?e.spatialReference:null,h,c).then((e=>{var t={scale:0};return(r,i)=>{var n=e.repurposeFeature({geometry:null,attributes:r});return t.scale=Object(l.k)(i)?i.scale:void 0,e.evaluate({$feature:n,$view:t})}})).catch((e=>(S.error("Creating dictinoary expression failed:",e),null))),t._dictionaryPromise}S.error("no valid URL!")}))()}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}getSymbolFields(){return this._symbolFields}_getSymbolPart(e,t){var r=this;return Object(a.a)((function*(){if(r._ongoingRequests.has(e))return r._ongoingRequests.get(e).then((e=>e.data));var i=r._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),a=Object(O.default)(i,Object(n.a)({responseType:"json",query:{f:"json"}},t));r._ongoingRequests.set(e,a);try{return(yield a).data}catch(o){return r._ongoingRequests.delete(e),Promise.reject(o)}}))()}_combineSymbolParts(e,t,r){if(!e||0===e.length)return null;var i=Object(n.a)({},e[0]);if(e.length>1)for(var a of(i.symbolLayers=[],e)){var o=a;i.symbolLayers.unshift(...o.symbolLayers)}return r&&(i.callout=x),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}_cimPartsToCIMSymbol(e,t,r,i){var n=this;return Object(a.a)((function*(){for(var a=new Array(e.length),o=0;o<e.length;o++)a[o]=n._getSymbolPart(e[o],i);var s=yield Promise.all(a);return new g.a({data:n._combineSymbolParts(s,t,r)})}))()}};Object(o.a)([Object(d.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],E.prototype,"config",void 0),Object(o.a)([Object(d.b)({type:Object,json:{write:!0}})],E.prototype,"fieldMap",void 0),Object(o.a)([Object(d.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],E.prototype,"scaleExpression",void 0),Object(o.a)([Object(h.a)("scaleExpression")],E.prototype,"writeData",null),Object(o.a)([Object(d.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],E.prototype,"scaleExpressionTitle",void 0),Object(o.a)([Object(d.b)({type:String,json:{write:!0}})],E.prototype,"url",void 0),Object(o.a)([Object(h.a)("visualVariables")],E.prototype,"writeVisualVariables",null);var I=E=i=Object(o.a)([Object(p.a)("esri.renderers.DictionaryRenderer")],E);t.default=I},198:function(e,t,r){"use strict";var i,n=r(7),a=r(82),o=(r(80),r(92)),s=(r(81),r(88),r(85)),l=r(102),c=r(84),u=(r(83),r(86),r(87),r(118)),d=r(109),p=r(128),h=r(278),f=i=class extends p.a{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new h.a({ratio:0,color:new d.a("rgba(255, 140, 0, 0)")}),new h.a({ratio:.75,color:new d.a("rgba(255, 140, 0, 1)")}),new h.a({ratio:.9,color:new d.a("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}collectRequiredFields(e,t){var r=this;return Object(n.a)((function*(){var i=r.field;i&&"string"==typeof i&&Object(u.f)(e,t,i)}))()}getAttributeHash(){return null}getMeshHash(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}clone(){return new i({blurRadius:this.blurRadius,colorStops:Object(o.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],f.prototype,"blurRadius",void 0),Object(a.a)([Object(s.b)({type:[h.a],json:{write:!0}})],f.prototype,"colorStops",void 0),Object(a.a)([Object(s.b)({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:null==r})}}})],f.prototype,"fieldOffset",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],f.prototype,"maxPixelIntensity",void 0),Object(a.a)([Object(s.b)({type:Number,json:{write:!0}})],f.prototype,"minPixelIntensity",void 0),Object(a.a)([Object(l.a)({heatmap:"heatmap"})],f.prototype,"type",void 0);var b=f=i=Object(a.a)([Object(c.a)("esri.renderers.HeatmapRenderer")],f);t.a=b},199:function(e,t,r){"use strict";var i,n=r(7),a=r(82),o=(r(80),r(92)),s=r(81),l=r(88),c=r(85),u=r(145),d=r(102),p=r(84),h=(r(83),r(86),r(87),r(118)),f=r(109),b=r(220),v=r(211),m=r(128),y=r(203),g=r(116),O=r(90),j=s.a.getLogger("esri.renderers.support.AttributeColorInfo"),w=i=class extends O.a{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(j.error(".field: field must be a string value"),null):Object(l.l)(e)}getAttributeHash(){return"".concat(this.field,"-").concat(this.valueExpression)}clone(){return new i({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};Object(a.a)([Object(c.b)({type:f.a,json:{type:[Number],write:!0}})],w.prototype,"color",void 0),Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],w.prototype,"field",void 0),Object(a.a)([Object(g.a)("field")],w.prototype,"castField",null),Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],w.prototype,"label",void 0),Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],w.prototype,"valueExpression",void 0),Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],w.prototype,"valueExpressionTitle",void 0);var _,S=w=i=Object(a.a)([Object(p.a)("esri.renderers.support.AttributeColorInfo")],w),x=_=class extends O.a{constructor(){super(...arguments),this.unit=null}clone(){return new _({unit:this.unit})}};Object(a.a)([Object(c.b)({type:String,json:{write:!0}})],x.prototype,"unit",void 0);var E,I=x=_=Object(a.a)([Object(p.a)("esri.renderers.support.DotDensityLegendOptions")],x),T=E=class extends(Object(y.a)(m.a)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new f.a([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new b.a,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new v.a({outline:this.outline})}getSymbolAsync(){var e=this;return Object(n.a)((function*(){return e.getSymbol()}))()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new E({attributes:Object(o.a)(this.attributes),backgroundColor:Object(o.a)(this.backgroundColor),dotBlendingEnabled:Object(o.a)(this.dotBlendingEnabled),dotShape:Object(o.a)(this.dotShape),dotSize:Object(o.a)(this.dotSize),dotValue:Object(o.a)(this.dotValue),legendOptions:Object(o.a)(this.legendOptions),outline:Object(o.a)(this.outline),referenceScale:Object(o.a)(this.referenceScale),visualVariables:Object(o.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return"".concat(this.attributes.map((e=>e.field||e.valueExpression||"")),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}collectRequiredFields(e,t){var r=this;return Object(n.a)((function*(){for(var i of(yield r.collectVVRequiredFields(e,t),r.attributes))i.valueExpression&&(yield Object(h.c)(e,t,i.valueExpression)),i.field&&e.add(i.field)}))()}};Object(a.a)([Object(c.b)({type:[S],json:{write:!0}})],T.prototype,"attributes",void 0),Object(a.a)([Object(c.b)({type:f.a,json:{write:!0}})],T.prototype,"backgroundColor",void 0),Object(a.a)([Object(c.b)({type:Boolean}),Object(u.a)("dotBlendingEnabled")],T.prototype,"blendDots",void 0),Object(a.a)([Object(c.b)({type:Boolean,json:{write:!0}})],T.prototype,"dotBlendingEnabled",void 0),Object(a.a)([Object(c.b)({type:String,json:{write:!1}})],T.prototype,"dotShape",void 0),Object(a.a)([Object(c.b)({type:Number,json:{write:!1}})],T.prototype,"dotSize",void 0),Object(a.a)([Object(c.b)({type:I,json:{write:!0}})],T.prototype,"legendOptions",void 0),Object(a.a)([Object(c.b)({type:b.a,json:{default:null,write:!0}})],T.prototype,"outline",void 0),Object(a.a)([Object(c.b)({type:Number,json:{write:!0}})],T.prototype,"dotValue",void 0),Object(a.a)([Object(c.b)({type:Number}),Object(u.a)("dotValue")],T.prototype,"referenceDotValue",void 0),Object(a.a)([Object(c.b)({type:Number,json:{write:!0}})],T.prototype,"referenceScale",void 0),Object(a.a)([Object(c.b)({type:Number,json:{write:!0}})],T.prototype,"seed",void 0),Object(a.a)([Object(d.a)({dotDensity:"dot-density"})],T.prototype,"type",void 0);var A=T=E=Object(a.a)([Object(p.a)("esri.renderers.DotDensityRenderer")],T);t.a=A},207:function(e,t,r){"use strict";function i(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function n(e){return e.toLowerCase().trim()}t.a=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],e){var t=[];for(var r of e){var a=r&&r.name;if(a){var o=n(a);this._fieldsMap.set(a,r),this._fieldsMap.set(o,r),t.push(o),i(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(n(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){var t=this.get(e);if(t)return t.name}}},213:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var i=r(176);class n{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,r,i=0){this._storage.put(this._namespace+e,t,r,i)}get(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class a{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.a,this._users=new i.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,i){var n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemoved(e,n.entry)),r>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!r||r<0)console.warn("Refusing to cache entry with invalid size "+r);else{var a=1+Math.max(i,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:a,lives:a}),this._size+=r,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}updateSize(e,t,r){var i=this._db.get(e);if(i&&i.entry===t){if(this._size-=i.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);i.size=r,this._size+=r,this._checkSizeLimit()}}pop(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){var e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,i)=>{var n=e.lifetime;r[n]=(r[n]||0)+e.size,this._users.forAll((r=>{var n=r.namespace;if(i.startsWith(n)){var a=t[n]||0;t[n]=a+e.size}}))}));var i={};this._users.forAll((e=>{var r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var n=t[r]||0;t[r]=n,i[r]=Math.round(100*e.hitRate)+"%"}else i[r]="0%"}));var n=Object.keys(t);n.forEach((e=>t[e]=t[e]/this._size*100)),n.sort(((e,r)=>t[r]-t[e])),n.forEach((r=>e[r]=Math.round(t[r])+"% / "+i[r]));for(var a=r.length-1;a>=0;--a){var o=r[a];o&&(e["Priority "+(a+-3-1)]=Math.round(o/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(var[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},214:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var i=r(128),n=r(229),a=r(231),o=r(197),s=r(199),l=r(198),c=r(194),u={key:"type",base:i.a,typeMap:{heatmap:l.a,simple:c.a,"unique-value":a.a,"class-breaks":n.a,"dot-density":s.a,dictionary:o.default},errorContext:"renderer"},d={key:"type",base:i.a,typeMap:{simple:c.a,"unique-value":a.a,"class-breaks":n.a},errorContext:"renderer"}},230:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return O})),r.d(t,"f",(function(){return d}));var i=r(143),n="__begin__",a="__end__",o=new RegExp(n,"ig"),s=new RegExp(a,"ig"),l=new RegExp("^"+n,"i"),c=new RegExp(a+"$","i"),u='"';function d(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function p(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function h(e){var t=p(e);if(!t)return null;switch(t.type){case"conventional":return b(t.expression);case"arcade":return t.expression}return null}function f(e){var t=p(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(v);return t&&t[1].trim()||null}(t.expression);case"arcade":return O(t.expression)}return null}function b(e){var t;return e?(t=Object(i.c)(e,(e=>n+'$feature["'+e+'"]'+a)),t=l.test(t)?t.replace(l,""):u+t,t=(t=c.test(t)?t.replace(c,""):t+u).replace(o,'" + ').replace(s,' + "')):t='""',t}var v=/^\s*\{([^}]+)\}\s*$/i;var m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,g=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function O(e){if(!e)return null;var t=m.exec(e)||y.exec(e);return t?t[1]||t[3]:(t=g.exec(e))?t[2]:null}},233:function(e,t,r){"use strict";function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var r=t||a(e),i=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return n}))},234:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return h}));r(80);var i=r(89),n=r(220),a=r(211),o=r(291),s=r(345),l=r(282),c=o.a.fromJSON(l.a),u=n.a.fromJSON(l.c),d=a.a.fromJSON(l.b),p=s.a.fromJSON(l.d);function h(e){if(Object(i.j)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return d}return null}var f=o.a.fromJSON(l.e),b=n.a.fromJSON(l.g),v=a.a.fromJSON(l.f)},235:function(e,t,r){"use strict";var i=r(213);t.a=class{constructor(e,t){this._storage=new i.b,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,r){this._storage.put(e,t,r,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},237:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i=new(r(95).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},244:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return l}));r(80);var i=r(124),n=r(175),a=r(188),o=r(93),s=r(214);function l(e,t,r,n){var a=function(e,t){return e?function(e,t){if(!t||"web-scene"!==t.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,t)?e.write({},t):(t.messages&&t.messages.push(new o.a("renderer:unsupported","Renderer of type '".concat(e.declaredClass,"' are not supported in scenes."),{renderer:e,context:t})),null):null}(e,n);a&&Object(i.c)(r,a,t)}function c(e,t){return d(e,null,t)}var u=Object(a.b)({types:s.a});function d(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new n.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):u(e,t,r):null}},246:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(95),l=r(84),c=r(96),u=(r(83),r(86),r(87),r(90)),d=new s.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"}),p=i=class extends u.a{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(a.a)(e))}clone(){return new i({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(a.a)(this.statisticParameters)})}};Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],p.prototype,"maxPointCount",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],p.prototype,"maxRecordCount",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],p.prototype,"maxVertexCount",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"onStatisticField",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"outStatisticFieldName",void 0),Object(n.a)([Object(o.b)({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],p.prototype,"statisticType",void 0),Object(n.a)([Object(o.b)({type:Object})],p.prototype,"statisticParameters",void 0),Object(n.a)([Object(c.a)("statisticParameters")],p.prototype,"writeStatisticParameters",null);var h=p=i=Object(n.a)([Object(l.a)("esri.tasks.support.StatisticDefinition")],p);t.a=h},250:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(92)),o=(r(81),r(88),r(85)),s=r(95),l=r(84),c=(r(83),r(86),r(87),r(90)),u=r(103),d=(r(101),new s.a({upperLeft:"upper-left",lowerLeft:"lower-left"})),p=i=class extends c.a{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new i(Object(a.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};Object(n.a)([Object(o.b)({type:u.a,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],p.prototype,"extent",void 0),Object(n.a)([Object(o.b)({type:["view","edit"],json:{write:!0}})],p.prototype,"mode",void 0),Object(n.a)([Object(o.b)({type:String,json:{read:d.read,write:d.write}})],p.prototype,"originPosition",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],p.prototype,"tolerance",void 0);var h=p=i=Object(n.a)([Object(l.a)("esri.tasks.support.QuantizationParameters")],p);t.a=h},251:function(e,t,r){"use strict";var i=r(82),n=(r(80),r(92)),a=(r(81),r(88),r(85)),o=r(95),s=r(84),l=r(96),c=(r(83),r(86),r(87),r(90)),u=new o.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),d=class extends c.a{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=Object(n.c)(Object(n.a)(e),!0)}writeThumbnail(e,t){t.thumbnail=Object(n.c)(Object(n.a)(e))}};Object(i.a)([Object(a.b)({json:{write:!0}})],d.prototype,"name",void 0),Object(i.a)([Object(a.b)({json:{write:!0}})],d.prototype,"description",void 0),Object(i.a)([Object(a.b)({json:{read:u.read,write:u.write}})],d.prototype,"drawingTool",void 0),Object(i.a)([Object(l.a)("drawingTool")],d.prototype,"writeDrawingTool",null),Object(i.a)([Object(a.b)({json:{write:!0}})],d.prototype,"prototype",void 0),Object(i.a)([Object(l.a)("prototype")],d.prototype,"writePrototype",null),Object(i.a)([Object(a.b)({json:{write:!0}})],d.prototype,"thumbnail",void 0),Object(i.a)([Object(l.a)("thumbnail")],d.prototype,"writeThumbnail",null);var p=d=Object(i.a)([Object(s.a)("esri.layers.support.FeatureTemplate")],d);t.a=p},261:function(e,t,r){"use strict";function i(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:n(e[t])}}}function n(e){return function(t,...r){!function(e){var{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...r):"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),t.target.click())}}r.d(t,"a",(function(){return i}))},262:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i,n=r(82),a=(r(80),r(81),r(88)),o=r(85),s=r(102),l=r(84),c=(r(83),r(86),r(87),r(90)),u=i=class extends c.a{constructor(e){super(e),this.type="map-layer"}clone(){var{mapLayerId:e,gdbVersion:t}=this;return new i({mapLayerId:e,gdbVersion:t})}};Object(n.a)([Object(s.a)({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(n.a)([Object(o.b)({type:a.a,json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=i=Object(n.a)([Object(l.a)("esri.layers.support.source.MapLayerSource")],u)},274:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r(118),n=(r(361),r(391)),a=(r(392),r(355)),o=r(296),s=r(393),l=(r(394),r(338),r(169)),c=["oid","global-id"],u=["oid","global-id","guid"];function d({displayField:e,editFieldsInfo:t,fields:r,objectIdField:a,title:o},c){if(!r)return null;var u=m({editFieldsInfo:t,fields:r,objectIdField:a},c);if(!u.length)return null;var d=function(e){var t=Object(i.n)(e),{titleBase:r}=e;return t?"".concat(r,": {").concat(t.trim(),"}"):r}({titleBase:o,fields:r,displayField:e}),p=[new s.a,new n.a];return new l.a({title:d,content:p,fieldInfos:u})}var p=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],h=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:i})=>i?i.has(e.name):!b(e.name,t)&&(!r||e.name!==r)&&!(c.indexOf(e.type)>-1)&&!p.some((t=>t.test(e.name)));function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:g(e)?-1:g(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){if(!e||!t)return!1;var{creationDateField:r,creatorField:i,editDateField:n,editorField:a}=t;return-1!==[r&&r.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function v(e,t){return e.editable&&-1===u.indexOf(e.type)&&!b(e.name,t)}function m({editFieldsInfo:e,fields:t,objectIdField:r},i){return function(e,t){var r=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===r&&(e=e.slice()),e.sort(f),e}(t,(null==i?void 0:i.ignoreFieldTypes)||O).map((t=>new o.a({fieldName:t.name,isEditable:v(t,e),label:t.alias,format:y(t),visible:h(t,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:null==i?void 0:i.visibleFieldNames})})))}function y(e){switch(e.type){case"small-integer":case"integer":case"single":return new a.a({digitSeparator:!0,places:0});case"double":return new a.a({digitSeparator:!0,places:2});case"date":return new a.a({dateFormat:"long-month-day-year"});default:return null}}function g(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var O=["geometry","blob","raster","guid","xml"]},277:function(e,t,r){"use strict";r.r(t),r.d(t,"getAllSizes",(function(){return S})),r.d(t,"getColor",(function(){return f})),r.d(t,"getOpacity",(function(){return b})),r.d(t,"getRotationAngle",(function(){return v})),r.d(t,"getSize",(function(){return m})),r.d(t,"getSizeForValue",(function(){return O})),r.d(t,"getSizeFromNumberOrVariable",(function(){return y})),r.d(t,"getSizeRangeAtScale",(function(){return j})),r.d(t,"getVisualVariableValues",(function(){return w})),r.d(t,"viewScaleRE",(function(){return h}));var i=r(180),n=r(89),a=r(81),o=r(109),s=r(123),l=r(193),c=r(233),u=a.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new s.a,p=Math.PI,h=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(i)if("esri.renderers.visualVariables.ColorVariable"===i.declaredClass){var a="number"==typeof t,s=a?null:t,l=s&&s.attributes,c=a?t:null,d=i.field,{ipData:p,hasExpression:h}=i.cache,f=i.cache.compiledFunc;if(!d&&!h){var b=i.stops;return b&&b[0]&&b[0].color}if("number"!=typeof c)if(h){if(!Object(n.k)(r)||!Object(n.k)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,y=m.getViewInfo(v),g=m.createExecContext(s,y);if(!f){var O=m.createSyntaxTree(i.valueExpression);f=m.createFunction(O),i.cache.compiledFunc=f}c=m.executeFunction(f,g)}else l&&(c=l[d]);var j=i.normalizationField,w=l?parseFloat(l[j]):void 0;if(null!=c&&(!j||a||!isNaN(w)&&0!==w)){isNaN(w)||a||(c/=w);var S=_(c,p);if(S){var x=S[0],E=S[1],I=x===E?i.stops[x].color:o.a.blendColors(i.stops[x].color,i.stops[E].color,S[2],Object(n.k)(r)?r.color:void 0);return new o.a(I)}}}else u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function b(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(i)if("esri.renderers.visualVariables.OpacityVariable"===i.declaredClass){var a="number"==typeof t,o=a?null:t,s=o&&o.attributes,l=a?t:null,c=i.field,{ipData:d,hasExpression:p}=i.cache,h=i.cache.compiledFunc;if(!c&&!p){var f=i.stops;return f&&f[0]&&f[0].opacity}if("number"!=typeof l)if(p){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,m=v.getViewInfo(b),y=v.createExecContext(o,m);if(!h){var g=v.createSyntaxTree(i.valueExpression);h=v.createFunction(g),i.cache.compiledFunc=h}l=v.executeFunction(h,y)}else s&&(l=s[c]);var O=i.normalizationField,j=s?parseFloat(s[O]):void 0;if(null!=l&&(!O||a||!isNaN(j)&&0!==j)){isNaN(j)||a||(l/=j);var w=_(l,d);if(w){var S=w[0],x=w[1];if(S===x)return i.stops[S].opacity;var E=i.stops[S].opacity;return E+(i.stops[x].opacity-E)*w[2]}}}else u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function v(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(i){if("esri.renderers.visualVariables.RotationVariable"===i.declaredClass){var a=i.axis||"heading",o="heading"===a&&"arithmetic"===i.rotationType?90:0,s="heading"===a&&"arithmetic"===i.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,d=i.field,{hasExpression:p}=i.cache,h=i.cache.compiledFunc,f=0;if(!d&&!p)return f;if(p){if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,m=v.getViewInfo(b),y=v.createExecContext(l,m);if(!h){var g=v.createSyntaxTree(i.valueExpression);h=v.createFunction(g),i.cache.compiledFunc=h}f=v.executeFunction(h,y)}else c&&(f=c[d]||0);return f="number"!=typeof f||isNaN(f)?null:o+s*f}u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function m(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(i){if("esri.renderers.visualVariables.SizeVariable"===i.declaredClass){var a=O(function(e,t,r){var i="number"==typeof t,a=i?null:t,o=a&&a.attributes,s=i?t:null,{isScaleDriven:l}=e.cache,d=e.cache.compiledFunc;if(l){var p=Object(n.k)(r)?r.scale:void 0,h=Object(n.k)(r)?r.view:void 0;s=null==p||"3d"===h?function(e){var t=null,r=null,i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):p}else if(!i)switch(e.inputValueType){case"expression":if(Object(n.j)(r)||Object(n.j)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");var f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,v=b.getViewInfo(f),m=b.createExecContext(a,v);if(!d){var y=b.createSyntaxTree(e.valueExpression);d=b.createFunction(y),e.cache.compiledFunc=d}s=b.executeFunction(d,m);break;case"field":o&&(s=o[e.field]);break;case"unknown":s=null}if(!Object(c.d)(s))return null;if(i||!e.normalizationField)return s;var g=o?parseFloat(o[e.normalizationField]):null;return Object(c.d)(g)&&0!==g?s/g:null}(i,t,r),i,t,r,i.cache.ipData);return null==a||isNaN(a)?0:a}u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function y(e,t,r){return null==e?null:Object(c.c)(e)?m(e,t,r):Object(c.d)(e)?e:null}function g(e,t,r){return Object(c.d)(r)&&e>r?r:Object(c.d)(t)&&e<t?t:e}function O(e,t,r,i,a){switch(t.transformationType){case"additive":return function(e,t,r,i){return e+(y(t.minSize,r,i)||t.minDataValue)}(e,t,r,i);case"constant":return function(e,t,r){var i=e.stops,n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),y(n,t,r)}(t,r,i);case"clamped-linear":return function(e,t,r,i){var a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=y(t.minSize,r,i),s=y(t.maxSize,r,i),l=Object(n.k)(i)?i.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if("area"===t.scaleBy&&l){var c="circle"===l,u=c?p*Math.pow(o/2,2):o*o,d=u+a*((c?p*Math.pow(s/2,2):s*s)-u);return c?2*Math.sqrt(d/p):Math.sqrt(d)}return o+a*(s-o)}(e,t,r,i);case"proportional":return function(e,t,r,i){var a=Object(n.k)(i)?i.shape:void 0,o=e/t.minDataValue,s=y(t.minSize,r,i),l=y(t.maxSize,r,i);return g("circle"===a?2*Math.sqrt(o*Math.pow(s/2,2)):"square"===a||"diamond"===a||"image"===a?Math.sqrt(o*Math.pow(s,2)):o*s,s,l)}(e,t,r,i);case"stops":return function(e,t,r,i,n){var[a,o,s]=_(e,n);if(a===o)return y(t.stops[a].size,r,i);var l=y(t.stops[a].size,r,i);return l+(y(t.stops[o].size,r,i)-l)*s}(e,t,r,i,a);case"real-world-size":return function(e,t,r,i){var a=(Object(n.k)(i)&&i.resolution?i.resolution:1)*l.a[t.valueUnit],o=y(t.minSize,r,i),s=y(t.maxSize,r,i),{valueRepresentation:c}=t;return g("area"===c?2*Math.sqrt(e/p)/a:"radius"===c||"distance"===c?2*e/a:e/a,o,s)}(e,t,r,i);case"identity":return e;case"unknown":return null}}function j(e,t,r){var{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||t))return null;var n={scale:t,view:r},a=y(e.minSize,d,n),o=y(e.maxSize,d,n);if(null!=a||null!=o){if(a>o){var s=o;o=a,a=s}return{minSize:a,maxSize:o}}}function w(e,t,r){if(e.visualVariables){var i=[],n=[],a=[],o=[],s=[];for(var l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":a.push(l);break;case"rotation":s.push(l);break;case"size":o.push(l)}return n.forEach((e=>{var n=f(e,t,r);i.push({variable:e,value:n})})),a.forEach((e=>{var n=b(e,t,r);i.push({variable:e,value:n})})),s.forEach((e=>{var n=v(e,t,r);i.push({variable:e,value:n})})),o.forEach((e=>{var n=m(e,t,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}}function _(e,t){if(t){var r=0,i=t.length-1;return t.some(((t,n)=>e<t?(i=n,!0):(r=n,!1))),[r,i,(e-t[r])/(t[i]-t[r])]}}function S(e,t,r){var n=["proportional","proportional","proportional"];for(var a of e){var o=a.useSymbolValue?"symbol-value":m(a,t,r);switch(a.axis){case"width":n[0]=o;break;case"depth":n[1]=o;break;case"height":n[2]=o;break;case"width-and-depth":n[0]=o,n[1]=o;break;case"all":case void 0:case null:n[0]=o,n[1]=o,n[2]=o;break;default:Object(i.a)(a.axis)}}return n}},278:function(e,t,r){"use strict";var i,n=r(82),a=(r(80),r(81),r(88),r(85)),o=r(84),s=(r(83),r(86),r(87),r(90)),l=r(109),c=i=class extends s.a{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new i({color:this.color,ratio:this.ratio})}};Object(n.a)([Object(a.b)({type:l.a,json:{write:!0}})],c.prototype,"color",void 0),Object(n.a)([Object(a.b)({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0);var u=c=i=Object(n.a)([Object(o.a)("esri.renderers.support.HeatmapColorStop")],c);t.a=u},282:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c}));var i=[252,146,31,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},295:function(e,t,r){"use strict";function i(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)}function n(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));for(var i=Math.max(0,r-t),n=new(0,e.constructor)(i),a=0;a<i;a++)n[a]=e[t+a];return n}function a(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function o(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function s(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function l(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function c(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function u(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function d(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function p(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function h(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function f(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function b(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function v(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return n})),r.d(t,"n",(function(){return b}))},297:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var i=r(82),n=r(89),a=r(240),o=r(85),s=r(84),l=r(241),c=r(344),u=r(97),d=r(115),p=r(108),h=class extends u.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new d.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,i=0){var n=0!=(1&i),a=++this.handleId;n||this.installSyncUpdatingWatch(e,t,a);var o=0!=(2&i)?Object(p.a)(e,t,r,n):e.watch(t,r,n);return this.handles.add(o,a),{remove:()=>{this.handles.remove(a)}}}addOnCollectionPropertyChange(e,t,r,i=0){var n=0!=(2&i),a=++this.handleId;return this.handles.add([Object(p.b)(e,t,"after-changes",this.createSyncUpdatingCallback()),Object(p.b)(e,t,"change",r,n?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],a),{remove:()=>{this.handles.remove(a)}}}addOnCollectionChange(e,t,r=0){var i=0!=(2&r),n=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],n),i&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(n)}}}addPromise(e){if(Object(n.j)(e))return e;var t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(f)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);var r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){var i=this.createSyncUpdatingCallback(),n=Object(c.a)((()=>Object(a.c)(e,t)),i);return this.handles.add(n,r),n}createSyncUpdatingCallback(){return()=>{this.handles.remove(f),++this.scheduleHandleId;var e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(l.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(f))})),f)}}};Object(i.a)([Object(o.b)({readOnly:!0})],h.prototype,"updating",void 0),h=Object(i.a)([Object(s.a)("esri.views.support.WatchUpdatingTracking")],h);var f=-42},298:function(e,t,r){"use strict";var i=r(82),n=(r(80),r(92)),a=(r(81),r(88),r(85)),o=r(98),s=r(84),l=r(96),c=(r(83),r(86),r(87),r(90)),u=r(134),d=r(136),p=r(137),h=(r(149),r(251)),f=class extends c.a{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];switch(i.type){case"range":t[r]=p.a.fromJSON(i);break;case"codedValue":t[r]=u.a.fromJSON(i);break;case"inherited":t[r]=d.a.fromJSON(i)}}return t}writeDomains(e,t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]&&e[i].toJSON());Object(n.c)(r),t.domains=r}readTemplates(e){return e&&e.map((e=>new h.a(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};Object(i.a)([Object(a.b)({json:{write:!0}})],f.prototype,"id",void 0),Object(i.a)([Object(a.b)({json:{write:!0}})],f.prototype,"name",void 0),Object(i.a)([Object(a.b)({json:{write:!0}})],f.prototype,"domains",void 0),Object(i.a)([Object(o.a)("domains")],f.prototype,"readDomains",null),Object(i.a)([Object(l.a)("domains")],f.prototype,"writeDomains",null),Object(i.a)([Object(a.b)({json:{write:!0}})],f.prototype,"templates",void 0),Object(i.a)([Object(o.a)("templates")],f.prototype,"readTemplates",null),Object(i.a)([Object(l.a)("templates")],f.prototype,"writeTemplates",null);var b=f=Object(i.a)([Object(s.a)("esri.layers.support.FeatureType")],f);t.a=b},301:function(e,t,r){"use strict";function i(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var r=t._delegatedEventNames,i=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);r.push(...i)}}r.d(t,"a",(function(){return i}))},302:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return w}));var i,n=r(114),a="http://www.w3.org/",o="".concat(a,"2000/svg"),s="".concat(a,"1999/xlink"),l=[],c=(e,t)=>{var r={};return Object.keys(e).forEach((t=>{r[t]=e[t]})),t&&Object.keys(t).forEach((e=>{r[e]=t[e]})),r},u=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),d=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},p=(e,t,r)=>{if(""!==t.vnodeSelector)for(var i=r;i<e.length;i++)if(u(e[i],t))return i;return-1},h=(e,t,r,i)=>{var n=e[t];if(""!==n.vnodeSelector){var a=n.properties;if(!(a?void 0===a.key?a.bind:a.key:void 0))for(var o=0;o<e.length;o++)if(o!==t){var s=e[o];if(u(s,n))throw new Error("".concat(r.vnodeSelector," had a ").concat(n.vnodeSelector," child ").concat("added"===i?i:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},f=e=>{if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},b=[],v=!1,m=e=>{(e.children||[]).forEach(m),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},y=()=>{v=!1,b.forEach(m),b.length=0},g=e=>{b.push(e),v||(v=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(y,{timeout:16}):setTimeout(y,16))},O=e=>{var t=e.domNode;if(e.properties){var r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";return void r(t,(()=>{t.parentNode&&(t.parentNode.removeChild(t),g(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),g(e))},j=(e,t,r)=>{if(t)for(var i=r.eventHandlerInterceptor,a=Object.keys(t),l=a.length,c=function(l){var c=a[l],u=t[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)S(e,u,!0);else if("classes"===c)for(var p=Object.keys(u),h=p.length,f=0;f<h;f++){var b=p[f];u[b]&&e.classList.add(b)}else if("styles"===c)for(var v=Object.keys(u),m=v.length,y=0;y<m;y++){var g=v[y],O=u[g];O&&(d(O),r.styleApplyer(e,g,O))}else if("key"!==c&&null!=u){var j=typeof u;"function"===j?(0===c.lastIndexOf("on",0)&&(i&&(u=i(c,u,e,t)),"oninput"===c&&function(){var e=u;u=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[c]=u):r.namespace===o?"href"===c?e.setAttributeNS(s,c,u):e.setAttribute(c,u):"string"===j&&"value"!==c?"innerHTML"===c?e[c]=n.h.sanitize(u):e.setAttribute(c,u):e[c]=u}},u=0;u<l;u++)c(u)},w=(e,t,r)=>{((e,t,r)=>{if(t)for(var i of t)_(i,e,void 0,r)})(e,t.children,r),t.text&&(e.textContent=t.text),j(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},_=(e,t,r,i)=>{var n,a=0,s=e.vnodeSelector,l=t.ownerDocument;if(""===s)n=e.domNode=l.createTextNode(e.text),void 0!==r?t.insertBefore(n,r):t.appendChild(n);else{for(var u=0;u<=s.length;++u){var d=s.charAt(u);if(u===s.length||"."===d||"#"===d){var p=s.charAt(a-1),h=s.slice(a,u);"."===p?n.classList.add(h):"#"===p?n.id=h:("svg"===h&&(i=c(i,{namespace:o})),void 0!==i.namespace?n=e.domNode=l.createElementNS(i.namespace,h):(n=e.domNode=e.domNode||l.createElement(h),"input"===h&&e.properties&&void 0!==e.properties.type&&n.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),a=u+1}}w(n,e,i)}},S=(e,t,r)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,r)}))},x=(e,t,r,i)=>{if(r){for(var a=!1,l=Object.keys(r),c=l.length,u=0;u<c;u++){var p=l[u],h=r[p],f=t[p];if("class"===p)f!==h&&(S(e,f,!1),S(e,h,!0));else if("classes"===p)for(var b=e.classList,v=Object.keys(h),m=v.length,y=0;y<m;y++){var g=v[y],O=!!h[g];O!==!!f[g]&&(a=!0,O?b.add(g):b.remove(g))}else if("styles"===p)for(var j=Object.keys(h),w=j.length,_=0;_<w;_++){var x=j[_],E=h[x];E!==f[x]&&(a=!0,E?(d(E),i.styleApplyer(e,x,E)):i.styleApplyer(e,x,""))}else if(h||"string"!=typeof f||(h=""),"value"===p){var I=e[p];I!==h&&(e["oninput-value"]?I===e["oninput-value"]:h!==f)&&(e[p]=h,e["oninput-value"]=void 0),h!==f&&(a=!0)}else if(h!==f){var T=typeof h;"function"===T&&i.eventHandlerInterceptor||(i.namespace===o?"href"===p?e.setAttributeNS(s,p,h):e.setAttribute(p,h):"string"===T?"innerHTML"===p?e[p]=n.h.sanitize(h):"role"===p&&""===h?e.removeAttribute(p):e.setAttribute(p,h):e[p]!==h&&(e[p]=h),a=!0)}}return a}},E=(e,t,r,n,a)=>{if(r===n)return!1;n=n||l;for(var o,s=(r=r||l).length,c=n.length,d=0,b=0,v=!1;b<c;){var m=d<s?r[d]:void 0,y=n[b];if(void 0!==m&&u(m,y))v=i(m,y,a)||v,d++;else{var g=p(r,y,d+1);if(g>=0){for(o=d;o<g;o++)O(r[o]),h(r,o,e,"removed");v=i(r[g],y,a)||v,d=g+1}else _(y,t,d<s?r[d].domNode:void 0,a),f(y),h(n,b,e,"added")}b++}if(s>d)for(o=d;o<s;o++)O(r[o]),h(r,o,e,"removed");return v};i=(e,t,r)=>{var i=e.domNode,n=!1;if(e===t)return!1;var a=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var s=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(s,i),t.domNode=s,n=!0}t.domNode=i}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=c(r,{namespace:o})),e.text!==t.text&&(a=!0,void 0===t.text?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,a=E(t,i,e.children,t.children,r)||a,a=x(i,e.properties,t.properties,r)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};var I=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var n=e;e=r,i(n,r,t)},domNode:e.domNode})},317:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return f}));var i=r(89),n=r(126),a=r(97),o=r(107),s=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof a.a}function c(e){return e instanceof o.a?Object.keys(e.items):l(e)?Object(n.a)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.a?e.items[t]:e[t]}function d(e){return e?e.declaredClass:null}function p(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var n=c(e),a=c(t);if(0!==n.length||0!==a.length){if(!n.length||!a.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var o,h=a.filter((e=>-1===n.indexOf(e))),f=n.filter((e=>-1===a.indexOf(e))),b=n.filter((r=>a.indexOf(r)>-1&&u(e,r)!==u(t,r))).concat(h,f).sort(),v=d(e);if(v&&s.indexOf(v)>-1&&b.length)return{type:"complete",oldValue:e,newValue:t};var m=l(e)&&l(t);for(var y of b){var g=u(e,y),O=u(t,y),j=void 0;(m||"function"!=typeof g&&"function"!=typeof O)&&g!==O&&(null==g&&null==O||(j=r&&r[y]&&"function"==typeof r[y]?r[y](g,O):"object"==typeof g&&"object"==typeof O&&d(g)===d(O)?p(g,O):{type:"complete",oldValue:g,newValue:O},Object(i.k)(j)&&(Object(i.k)(o)?o.diff[y]=j:o={type:"partial",diff:{[y]:j}})))}return o}}function h(e,t){if(Object(i.j)(e))return!1;var r=t.split("."),n=e;for(var a of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;var o=n.diff[a];if(!o)return!1;n=o}return!0}function f(e,t){for(var r of t)if(h(e,r))return!0;return!1}function b(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&d(e)!==d(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}},367:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var i,n=r(302),a={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{"-"===t.charAt(0)?e.style.setProperty(t,r):e.style[t]=r}},o=e=>Object(n.c)(a,e),s=(e,t,r)=>(r=o(r),Object(n.a)(t,e,void 0,r),Object(n.b)(t,r)),l=(e,t,r)=>(r=o(r),Object(n.a)(t,e.parentNode,e,r),Object(n.b)(t,r)),c=(e,t,r)=>(r=o(r),t.domNode=e,Object(n.d)(e,t,r),Object(n.b)(t,r)),u=(e,t,r)=>(r=o(r),Object(n.a)(t,e.parentNode,e,r),e.parentNode.removeChild(e),Object(n.b)(t,r)),d=(e,t)=>{for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r};i=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];var p=(e,t)=>{var r=e;return t.forEach((e=>{r=r&&r.children?i(r.children,(t=>t.domNode===e)):void 0})),r},h=(e,t,r)=>{var i=function(i){r("domEvent",i);var n=t(),a=d(i.currentTarget,n.domNode);a.reverse();var o,s=p(n.getLastRender(),a);return e.scheduleRender(),s&&(o=s.properties["on".concat(i.type)].apply(s.properties.bind||this,arguments)),r("domEventProcessed",i),o};return(e,t,r,n)=>i},f=e=>{var t,r,i=o(e),n=i.performanceLogger,a=!0,d=!1,p=[],f=[],b=(e,r,a)=>{var o;i.eventHandlerInterceptor=h(t,(()=>o),n),o=e(r,a(),i),p.push(o),f.push(a)},v=()=>{if(r=void 0,a){a=!1,n("renderStart",void 0);for(var e=0;e<p.length;e++){var t=f[e]();n("rendered",void 0),p[e].update(t),n("patched",void 0)}n("renderDone",void 0),a=!0}};return t={renderNow:v,scheduleRender:()=>{r||d||(r=requestAnimationFrame(v))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),d=!0},resume:()=>{d=!1,a=!0,t.scheduleRender()},append:(e,t)=>{b(s,e,t)},insertBefore:(e,t)=>{b(l,e,t)},merge:(e,t)=>{b(c,e,t)},replace:(e,t)=>{b(u,e,t)},detach:e=>{for(var t=0;t<f.length;t++)if(f[t]===e)return f.splice(t,1),p.splice(t,1)[0];throw new Error("renderFunction was not found")}}}},385:function(e,t,r){"use strict";function i(e){return"string"==typeof e?document.getElementById(e):e}function n(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function a(e,t){var r=t.parentNode;r&&r.insertBefore(e,t)}function o(e,t){for(;;){var r=e.firstChild;if(!r)break;t.appendChild(r)}}function s(e){e.parentNode&&e.parentNode.removeChild(e)}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return o}));(()=>{if("function"==typeof Element.prototype.closest)return(e,t)=>e.closest(t);var e=Element.prototype.matches||Element.prototype.msMatchesSelector})()},389:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));r(114),r(261),r(163),r(80),r(81),r(288);r(301),r(129);function i(e){return e&&"function"==typeof e.render}function n(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},409:function(e,t,r){"use strict";var i=r(124);class n{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof n&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";var n=Object(i.b)(r,t),a=null==n?"":n;if(void 0===a)throw new Error('could not find key "'.concat(r,'" in template'));return a.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=n},455:function(e,t,r){"use strict";var i=r(158);var n,a=(n=i.a,{setTimeout:(e,t)=>{var r=n.setTimeout(e,t);return{remove:()=>n.clearTimeout(r)}}});t.a=a},613:function(e,t,r){"use strict";var i,n=r(91),a=r(7),o=r(82),s=(r(80),r(92)),l=r(81),c=r(88),u=r(126),d=r(85),p=r(116),h=r(98),f=r(84),b=r(96),v=r(93),m=r(83),y=(r(86),r(144)),g=(r(87),r(103)),O=(r(101),r(107)),j=r(118),w=r(266),_=r(169),S=r(106),x=r(185),E=r(138),I=r(186),T=(r(128),r(229),r(231),r(197),r(199),r(198),r(194),r(214)),A=(r(244),r(155)),k=r(207),C=r(195),F=r(298),L=r(262),P=r(170),N=r(274),D=r(132),M=r(167);function V(e){return e&&"esriSMS"===e.type}function R(e,t,r){var i;return{ignoreOrigin:!0,enabled:!!r&&"map-image"===(null==(i=r.layer)?void 0:i.type)&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(y.d)(r.origin))}}function U(e,t,r){var i;return{enabled:!!r&&"tile"===(null==(i=r.layer)?void 0:i.type)&&this._isOverridden(t)}}function z(e,t,r){return{ignoreOrigin:!0,enabled:r&&r.writeSublayerStructure||!1}}function B(e,t,r){return{ignoreOrigin:!0,enabled:!!r&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(y.d)(r.origin))}}var q=l.a.getLogger("esri.layers.support.Sublayer"),H=0,G=new Set;G.add("layer"),G.add("parent"),G.add("loaded"),G.add("loadStatus"),G.add("loadError"),G.add("loadWarnings");var W=i=class extends(Object(M.b)(Object(I.a)(Object(w.a)(x.a)))){constructor(e){super(e),this.capabilities=void 0,this.fields=null,this.fullExtent=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.types=null}load(e){var t=this;return Object(a.a)((function*(){return t.addResolvingPromise(Object(a.a)((function*(){var r;if(!t.layer&&!t.url)throw new v.a("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:t});var i=null;if(!t.layer||t.originIdOf("url")>2||"data-layer"===(null==(r=t.source)?void 0:r.type))i=(yield Object(S.default)(t.url,Object(n.a)({responseType:"json",query:{f:"json"}},e))).data;else{var a,o=t.id;"map-layer"===(null==(a=t.source)?void 0:a.type)&&(o=t.source.mapLayerId),i=yield t.layer.fetchSublayerInfo(o,e)}i&&(t.sourceJSON=i,t.read({layerDefinition:i},{origin:"service"}))}))()),t}))()}readCapabilities(e,t){var r=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((e=>e.trim())):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==r.indexOf("query")}}}set definitionExpression(e){this._setAndNotifyLayer("definitionExpression",e)}get fieldsIndex(){return new k.a(this.fields||[])}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields)for(var r of t.fields)if("esriFieldTypeGlobalID"===r.type)return r.name}get id(){var e=this._get("id");return null==e?H++:e}set id(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(e){this._setAndNotifyLayer("labelingInfo",e)}writeLabelingInfo(e,t,r,i){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((e=>e.write({},i)))}})}set labelsVisible(e){this._setAndNotifyLayer("labelsVisible",e)}set layer(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((t=>t.layer=e))}set listMode(e){this._set("listMode",e)}set minScale(e){this._setAndNotifyLayer("minScale",e)}readMinScale(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}set maxScale(e){this._setAndNotifyLayer("maxScale",e)}readMaxScale(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields)for(var r of t.fields)if("esriFieldTypeOID"===r.type)return r.name}set opacity(e){this._setAndNotifyLayer("opacity",e)}readOpacity(e,t){var r=t.layerDefinition;return 1-.01*(null!=r.transparency?r.transparency:r.drawingInfo.transparency)}writeOpacity(e,t,r,i){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}writeParent(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=Object(c.e)(this.parent.id):t.parentLayerId=-1}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){if(e)for(var t of e.getSymbols())if(Object(E.c)(t)){q.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",e)}get source(){return this._get("source")||new L.a({mapLayerId:this.id})}set source(e){this._setAndNotifyLayer("source",e)}set sublayers(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}castSublayers(e){return Object(c.m)(O.a.ofType(i),e)}writeSublayers(e,t,r){this.get("sublayers.length")&&(t[r]=this.sublayers.map((e=>e.id)).toArray().reverse())}readTypeIdField(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r){var i=Object(j.q)(t.fields,r);if(i)return i.name}return null}get url(){var e,t,r=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,i=this.source;if(!r)return null;if(this._lastParsedUrl=r,"map-layer"===(null==i?void 0:i.type))return"".concat(r.path,"/").concat(i.mapLayerId);var n={layer:JSON.stringify({source:this.source})};return"".concat(r.path,"/dynamicLayer?").concat(Object(m.D)(n))}set url(e){e?this._override("url",e):this._clearOverride("url")}set visible(e){this._setAndNotifyLayer("visible",e)}writeVisible(e,t,r,i){t[r]=this.getAtOrigin("defaultVisibility","service")||e}clone(){var{store:e}=Object(u.a)(this),t=new i;return Object(u.a)(t).store=e.clone(G),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}createPopupTemplate(e){return Object(N.a)(this,e)}createQuery(){return new D.a({returnGeometry:!0,where:this.definitionExpression||"1=1"})}createFeatureLayer(){var e=this;return Object(a.a)((function*(){var t,i;if(e.hasOwnProperty("sublayers"))return null;var n=null==(t=e.layer)?void 0:t.parsedUrl,a=new(0,(yield Promise.all([r.e(3),r.e(12),r.e(33),r.e(168)]).then(r.bind(null,271))).default)({url:n.path});return n&&e.source&&("map-layer"===e.source.type?a.layerId=e.source.mapLayerId:a.dynamicDataSource=e.source),null!=e.layer.refreshInterval&&(a.refreshInterval=e.layer.refreshInterval),e.definitionExpression&&(a.definitionExpression=e.definitionExpression),e.originIdOf("labelingInfo")>2&&(a.labelingInfo=Object(s.a)(e.labelingInfo)),e.originIdOf("labelsVisible")>0&&(a.labelsVisible=e.labelsVisible),e.originIdOf("legendEnabled")>0&&(a.legendEnabled=e.legendEnabled),e.originIdOf("visible")>0&&(a.visible=e.visible),e.originIdOf("minScale")>0&&(a.minScale=e.minScale),e.originIdOf("maxScale")>0&&(a.maxScale=e.maxScale),e.originIdOf("opacity")>0&&(a.opacity=e.opacity),e.originIdOf("popupTemplate")>0&&(a.popupTemplate=Object(s.a)(e.popupTemplate)),e.originIdOf("renderer")>2&&(a.renderer=Object(s.a)(e.renderer)),"data-layer"===(null==(i=e.source)?void 0:i.type)&&(a.dynamicDataSource=e.source.clone()),e.originIdOf("title")>0&&(a.title=e.title),"map-image"===e.layer.type&&e.layer.originIdOf("customParameters")>0&&(a.customParameters=e.layer.customParameters),"tile"===e.layer.type&&e.layer.originIdOf("customParameters")>0&&(a.customParameters=e.layer.customParameters),a}))()}getFeatureType(e){var{typeIdField:t,types:r}=this;if(!t||!e)return null;var i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;var n=null;return r.some((e=>{var{id:t}=e;return null!=t&&(t.toString()===i.toString()&&(n=e),!!n)})),n}getFieldDomain(e,t){var r=t&&t.feature,i=this.getFeatureType(r);if(i){var n=i.domains&&i.domains[e];if(n&&"inherited"!==n.type)return n}return this._getLayerDomain(e)}queryFeatures(e=this.createQuery(),t){return this.load().then((()=>{if(!this.get("capabilities.operations.supportsQuery"))throw new v.a("Sublayer.queryFeatures","this layer doesn't support queries.");return Promise.all([r.e(114).then(r.bind(null,190)),r.e(282).then(r.bind(null,146))])})).then((([{executeQuery:r},{default:i}])=>r(this.url,D.a.from(e),this.layer?this.layer.spatialReference:null,Object(n.a)(Object(n.a)({},t),{},{query:Object(n.a)({},this.layer.customParameters)})).then((e=>i.fromJSON(e.data))))).then((e=>(e&&e.features&&e.features.forEach((e=>{e.sourceLayer=this})),e)))}toExportImageJSON(){var e,t={id:this.id,source:(null==(e=this.source)?void 0:e.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression&&(t.definitionExpression=this.definitionExpression);var r=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((e,t)=>(e[t]=this.originIdOf(t),e)),{});if(Object.keys(r).some((e=>r[e]>2))){var i=t.drawingInfo={};r.renderer>2&&(i.renderer=this.renderer?this.renderer.toJSON():null),r.labelsVisible>2&&(i.showLabels=this.labelsVisible),this.labelsVisible&&r.labelingInfo>2&&(i.labelingInfo=this.labelingInfo?this.labelingInfo.map((e=>e.write({},{origin:"service",layer:this.layer}))):null,i.showLabels=!0),r.opacity>2&&(i.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(i.renderer)}return t}_assignDefaultSymbolColors(e){this._forEachSimpleMarkerSymbols(e,(e=>{e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(e,t){if(e){var r="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[];for(var i of r)V(i.symbol)&&t(i.symbol);"symbol"in e&&V(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&V(e.defaultSymbol)&&t(e.defaultSymbol)}}_setAndNotifyLayer(e,t){var r,i,n=this.layer,a=this._get(e);switch(e){case"definitionExpression":r="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":r="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":r="supportsDynamicLayers",i="supportsModification"}var o=Object(u.a)(this).getDefaultOrigin();if("service"!==o){if(r&&!1===this.get("layer.capabilities.exportMap.".concat(r)))return void this._logLockedError(e,"capability not available 'layer.capabilities.exportMap.".concat(r,"'"));if(i&&!1===this.get("capabilities.exportMap.".concat(i)))return void this._logLockedError(e,"capability not available 'capabilities.exportMap.".concat(i,"'"))}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==o&&a!==t&&n&&n.emit&&n.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((e=>{e.parent=this,e.layer=this.layer})),this.handles.add([e.on("after-add",(({item:e})=>{e.parent=this,e.layer=this.layer})),e.on("after-remove",(({item:e})=>{e.parent=null,e.layer=null})),e.on("before-changes",(e=>{var t=this.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(q.error(new v.a("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())}))]))}_logLockedError(e,t){q.error(new v.a("sublayer:locked","Property '".concat(e,"' can't be changed on Sublayer from the layer '").concat(this.layer.id,"'"),{reason:t,sublayer:this,layer:this.layer}))}_getLayerDomain(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}};W.test={isMapImageLayerOverridePolicy:e=>e===z||e===R,isTileImageLayerOverridePolicy:e=>e===U},Object(o.a)([Object(d.b)({readOnly:!0})],W.prototype,"capabilities",void 0),Object(o.a)([Object(h.a)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],W.prototype,"readCapabilities",null),Object(o.a)([Object(d.b)({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:R}}})],W.prototype,"definitionExpression",null),Object(o.a)([Object(d.b)({type:[A.a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],W.prototype,"fields",void 0),Object(o.a)([Object(d.b)({readOnly:!0})],W.prototype,"fieldsIndex",null),Object(o.a)([Object(d.b)({type:g.a,json:{read:{source:"layerDefinition.extent"}}})],W.prototype,"fullExtent",void 0),Object(o.a)([Object(d.b)({type:String})],W.prototype,"globalIdField",void 0),Object(o.a)([Object(h.a)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],W.prototype,"readGlobalIdFieldFromService",null),Object(o.a)([Object(d.b)({type:c.a,json:{write:{ignoreOrigin:!0}}})],W.prototype,"id",null),Object(o.a)([Object(d.b)({value:null,type:[C.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:z}}})],W.prototype,"labelingInfo",null),Object(o.a)([Object(b.a)("labelingInfo")],W.prototype,"writeLabelingInfo",null),Object(o.a)([Object(d.b)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:z}}})],W.prototype,"labelsVisible",null),Object(o.a)([Object(d.b)({value:null})],W.prototype,"layer",null),Object(o.a)([Object(d.b)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:B}}})],W.prototype,"legendEnabled",void 0),Object(o.a)([Object(d.b)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],W.prototype,"listMode",null),Object(o.a)([Object(d.b)({type:Number,value:0,json:{write:{overridePolicy:z}}})],W.prototype,"minScale",null),Object(o.a)([Object(h.a)("minScale",["minScale","layerDefinition.minScale"])],W.prototype,"readMinScale",null),Object(o.a)([Object(d.b)({type:Number,value:0,json:{write:{overridePolicy:z}}})],W.prototype,"maxScale",null),Object(o.a)([Object(h.a)("maxScale",["maxScale","layerDefinition.maxScale"])],W.prototype,"readMaxScale",null),Object(o.a)([Object(d.b)({type:String})],W.prototype,"objectIdField",void 0),Object(o.a)([Object(h.a)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],W.prototype,"readObjectIdFieldFromService",null),Object(o.a)([Object(d.b)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:z}}})],W.prototype,"opacity",null),Object(o.a)([Object(h.a)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],W.prototype,"readOpacity",null),Object(o.a)([Object(b.a)("opacity")],W.prototype,"writeOpacity",null),Object(o.a)([Object(d.b)({json:{type:c.a,write:{target:"parentLayerId",allowNull:!0,overridePolicy:z}}})],W.prototype,"parent",void 0),Object(o.a)([Object(b.a)("parent")],W.prototype,"writeParent",null),Object(o.a)([Object(d.b)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,t)=>!t.disablePopup},write:{target:"disablePopup",overridePolicy:B,writer(e,t,r){t[r]=!e}}}})],W.prototype,"popupEnabled",void 0),Object(o.a)([Object(d.b)({type:_.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:B}}})],W.prototype,"popupTemplate",void 0),Object(o.a)([Object(d.b)({readOnly:!0})],W.prototype,"defaultPopupTemplate",null),Object(o.a)([Object(d.b)({types:T.a,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:z},origins:{"web-scene":{types:T.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:z}}}}})],W.prototype,"renderer",null),Object(o.a)([Object(d.b)({types:{key:"type",base:null,typeMap:{"data-layer":P.a,"map-layer":L.a}},cast(e){if(e){if("mapLayerId"in e)return Object(c.d)(L.a,e);if("dataSource"in e)return Object(c.d)(P.a,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:z}}})],W.prototype,"source",null),Object(o.a)([Object(d.b)()],W.prototype,"sourceJSON",void 0),Object(o.a)([Object(d.b)({value:null,json:{type:[c.a],write:{target:"subLayerIds",allowNull:!0,overridePolicy:z}}})],W.prototype,"sublayers",null),Object(o.a)([Object(p.a)("sublayers")],W.prototype,"castSublayers",null),Object(o.a)([Object(b.a)("sublayers")],W.prototype,"writeSublayers",null),Object(o.a)([Object(d.b)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:B}}})],W.prototype,"title",void 0),Object(o.a)([Object(d.b)({type:String})],W.prototype,"typeIdField",void 0),Object(o.a)([Object(h.a)("typeIdField",["layerDefinition.typeIdField"])],W.prototype,"readTypeIdField",null),Object(o.a)([Object(d.b)({type:[F.a],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],W.prototype,"types",void 0),Object(o.a)([Object(d.b)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:U}}})],W.prototype,"url",null),Object(o.a)([Object(d.b)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:z}}})],W.prototype,"visible",null),Object(o.a)([Object(b.a)("visible")],W.prototype,"writeVisible",null);var Y=W=i=Object(o.a)([Object(f.a)("esri.layers.support.Sublayer")],W);t.a=Y},80:function(e,t,r){"use strict";var i,n,a,o,s,l=r(91),c=r(158);function u(e){return"function"==typeof a[e]?a[e]=a[e](c.a):a[e]}a=null!=(i=c.a.dojoConfig)&&i.has||null!=(n=c.a.esriConfig)&&n.has?Object(l.a)(Object(l.a)({},null==(o=c.a.dojoConfig)?void 0:o.has),null==(s=c.a.esriConfig)?void 0:s.has):{},u.add=(e,t,r,i)=>((i||void 0===a[e])&&(a[e]=t),r&&u(e)),u.cache=a,u.add("esri-deprecation-warnings",!0),(()=>{u.add("host-webworker",void 0!==c.a.WorkerGlobalScope&&self instanceof c.a.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(u.add("host-browser",e),u.add("host-node","object"==typeof c.a.process&&c.a.process.versions&&c.a.process.versions.node&&c.a.process.versions.v8),u.add("dom",e),u("host-browser")){var t=navigator,r=t.userAgent,i=t.appVersion,n=parseFloat(i);if(u.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),u.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),u.add("khtml",i.indexOf("Konqueror")>=0?n:void 0),u.add("edge",parseFloat(r.split("Edge/")[1])||void 0),u.add("opr",parseFloat(r.split("OPR/")[1])||void 0),u.add("webkit",!u("wp")&&!u("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),u.add("chrome",!u("edge")&&!u("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),u.add("android",!u("wp")&&parseFloat(r.split("Android ")[1])||void 0),u.add("safari",!(i.indexOf("Safari")>=0)||u("wp")||u("chrome")||u("android")||u("edge")||u("opr")?void 0:parseFloat(i.split("Version/")[1])),u.add("mac",i.indexOf("Macintosh")>=0),u.add("quirks","BackCompat"===document.compatMode),!u("wp")&&r.match(/(iPhone|iPod|iPad)/)){var a=RegExp.$1.replace(/P/,"p"),o=r.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(o.replace(/_/,".").replace(/_/g,""));u.add(a,s),u.add("ios",s)}u.add("trident",parseFloat(i.split("Trident/")[1])||void 0),u.add("svg","undefined"!=typeof SVGAngle),u("webkit")||(r.indexOf("Opera")>=0&&u.add("opera",n>=9.8&&parseFloat(r.split("Version/")[1])||n),!(r.indexOf("Gecko")>=0)||u("wp")||u("khtml")||u("trident")||u("edge")||u.add("mozilla",n),u("mozilla")&&u.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(c.a.navigator){var e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&u.add("esri-mobile",t),r&&u.add("esri-iPhone",r),u.add("esri-geolocation",!!navigator.geolocation)}u.add("esri-canvas-svg-support",!u("trident")),u.add("esri-wasm","WebAssembly"in c.a),u.add("esri-shared-array-buffer",(()=>{var e="SharedArrayBuffer"in c.a,t=!1===c.a.crossOriginIsolated;return e&&!t})),u.add("esri-atomics","Atomics"in c.a),u.add("esri-workers","Worker"in c.a),u.add("esri-text-decoder","TextDecoder"in c.a),u.add("esri-text-encoder","TextEncoder"in c.a),u.add("featurelayer-snapshot-enabled",!0),u.add("featurelayer-snapshot-point-min-threshold",8e4),u.add("featurelayer-snapshot-point-max-threshold",4e5),u.add("featurelayer-snapshot-point-coverage",.1),u.add("featurelayer-advanced-symbols",!1),u.add("featurelayer-pbf",!0),u.add("featurelayer-pbf-statistics",!1),u.add("feature-layers-workers",!0),u.add("mapview-transitions-duration",200),u.add("mapserver-pbf-enabled",!1),u("host-webworker")||u("host-browser")&&(u.add("csp-restrictions",(()=>{try{new Function}catch(e){return!0}return!1})),u.add("esri-image-decode",(()=>{if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{u.add("esri-image-decode",!0,!0,!0)})).catch((()=>{u.add("esri-image-decode",!1,!0,!0)}))}return!1})),u.add("esri-url-encodes-apostrophe",(()=>{var e=c.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),u.add("vectortilelayer-max-buffers",(()=>u("ff")?160:Number.POSITIVE_INFINITY)))})(),t.a=u},81:function(e,t,r){"use strict";r(80);var i=r(159),n=r(89),a=r(143),o={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers[this.module]=this;var t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){var e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){var t=s._loggers;return s._loggers=e,t},set throttlingDisabled(e){s._throttlingDisabled=e}}}static getLogger(e){var t=s._loggers[e];return t||(t=new s({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!s._throttlingDisabled){var n=this._argsToKey(r),a=this._loggedMessages[e].get(n);if("once"===t&&null!=a||"oncePerTick"===t&&a&&a>=s._tickCounter)return;this._loggedMessages[e].set(n,s._tickCounter),s._scheduleTickCounterIncrement()}for(var o of i.a.log.interceptors)if(o(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){for(var r=this;Object(n.k)(r);){var i=r[e];if(Object(n.k)(i))return i;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e]("[".concat(t,"]"),...r)}_matchLevel(e){var t=i.a.log.level?i.a.log.level:"warn";return o[this._parentWithMember("level",t)]<=o[e]}_argsToKey(...e){return Object(a.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}s._loggers={},s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1,t.a=s},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return O})),r.d(t,"j",(function(){return n})),r.d(t,"k",(function(){return i})),r.d(t,"l",(function(){return a})),r.d(t,"m",(function(){return b})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return f})),r.d(t,"p",(function(){return p})),r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return c})),r.d(t,"s",(function(){return l}));function i(e){return null!=e}function n(e){return null==e}function a(e){return void 0===e}function o(e,t){return i(e)?t(e):null}function s(e){return e}function l(e,t){if(n(e))throw new Error(t);return e}function c(e,t){return i(e)?e:"function"==typeof t?t():t}function u(e){return i(e)&&e.destroy(),null}function d(e){return i(e)&&e.dispose(),null}function p(e){return i(e)&&e.remove(),null}function h(e){return i(e)&&e.abort(),null}function f(e){return null}function b(e,t){var r=new Array;for(var i of e)r.push(m(i,null,t));return r}function v(e,t){for(var r of e)m(r,null,t)}function m(e,t,r){return i(e)?r(e):t}function y(e,t){return i(e)?t(e):null}function g(e){return e.filter((e=>i(e)))}function O(e,...t){for(var r=e,i=0;i<t.length&&r;)r=r[t[i++]];return r}function j(e){return e}},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n}));r(80);var i=r(295);function n(e,t){var r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&n(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function a(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(i.h)(e)||Object(i.k)(e)||Object(i.l)(e)||Object(i.f)(e)||Object(i.i)(e)||Object(i.g)(e)||Object(i.j)(e)||Object(i.d)(e)||Object(i.e)(e))return Object(i.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach(((e,r)=>{t.set(r,a(e))})),t}if(e instanceof Set){var r=new Set;return e.forEach((e=>{r.add(a(e))})),r}var n,o=e;if("function"==typeof o.clone)n=o.clone();else if("function"==typeof o.map&&"function"==typeof o.forEach)n=o.map(a);else if("function"==typeof o.notifyChange&&"function"==typeof o.watch)n=o.clone();else for(var s of(n={},Object.getOwnPropertyNames(e)))n[s]=a(e[s]);return n}function o(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},93:function(e,t,r){"use strict";var i=r(92),n=r(81),a=r(409);class o extends a.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof o))return new o(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(i.a)(t)}catch(o){return"[object]"}})))}}catch(e){throw n.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new o(e.name,e.message,e.details)}}o.prototype.type="error",t.a=o},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return k})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return A})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return _})),r.d(t,"l",(function(){return O})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return I})),r.d(t,"p",(function(){return v})),r.d(t,"q",(function(){return m})),r.d(t,"r",(function(){return S})),r.d(t,"s",(function(){return x})),r.d(t,"t",(function(){return f})),r.d(t,"u",(function(){return d})),r.d(t,"v",(function(){return b})),r.d(t,"w",(function(){return T})),r.d(t,"x",(function(){return y}));var i=r(89),n=(r(81),r(93)),a=r(455),o=r(165);function s(e){return Promise.all(e)}function l(e){return new Promise(((t,r)=>{try{e(t,r)}catch(i){Promise.resolve().then((()=>r(i)))}}))}function c(e="Aborted"){return new n.a("AbortError",e)}function u(){return new AbortController}function d(e){if(h(e))throw c()}function p(e){return Object(i.k)(e)?"aborted"in e?e:e.signal:e}function h(e){var t=p(e);return Object(i.k)(t)&&t.aborted}function f(e){if(g(e))throw e}function b(e){if(!g(e))throw e}function v(e,t){var r=p(e);if(!Object(i.j)(r)){if(!r.aborted)return Object(o.d)(r,"abort",(()=>t()));t()}}function m(e,t){var r=p(e);if(!Object(i.j)(r))return d(r),Object(o.d)(r,"abort",(()=>t(c())))}function y(e,t){var r=p(t);return Object(i.j)(r)?e:new Promise(((r,n)=>{var a=v(t,(()=>n(c()))),o=()=>a=Object(i.p)(a);e.then(o,o),e.then(r,n)}))}function g(e){return e&&"AbortError"===e.name}function O(e){return e.catch((e=>{if(!g(e))throw e}))}function j(){var e=null,t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function w(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return w(t.map((t=>e[t]))).then((e=>{var r={};return t.forEach(((t,i)=>r[t]=e[i])),r}))}var r=e;return l((e=>{var t=[],i=r.length;0===i&&e(t),r.forEach((r=>{var n={promise:r||Promise.resolve(r)};t.push(n),n.promise.then((e=>{n.value=e})).catch((e=>{n.error=e})).then((()=>{0===--i&&e(t)}))}))}))}}function _(e){return w(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function S(e){return Promise.reject(e)}function x(e){return Promise.resolve(e)}function E(e,t,r){var i=u();return v(r,(()=>i.abort())),new Promise(((r,n)=>{var a=setTimeout((()=>{a=0,r(t)}),e);v(i,(()=>{a&&(clearTimeout(a),n(c()))}))}))}function I(e){return e&&"function"==typeof e.then}function T(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function A(e,t=-1){var r,n,a,o,s=null,l=(...d)=>{if(r){n=d,o&&o.reject(c()),o=j();var p=Object(i.d)(o.promise);if(s){var h=s;s=null,h.abort()}return p}if(a=o||j(),o=null,t>0){var f=u(),b=r=T(e(...d,f.signal));E(t).then((()=>{r===b&&(o?f.abort():s=f)}))}else r=1,r=T(e(...d));var v=()=>{var e=n;n=a=r=s=null,null!=e&&l(...e)},m=r,y=a;return m.then(v,v),m.then(y.resolve,y.reject),Object(i.d)(y.promise)};return l}function k(){var e,t,r=new Promise(((r,i)=>{e=r,t=i})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>a.a.setTimeout((()=>i.reject(t)),e),i.promise=r,i}function C(e){var t=u(),r=e(t.signal),i={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}},n=()=>{i&&(i.finished=!0,i=null),t=null};return r.then(n,n),i}},954:function(e,t,r){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}function s(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),p=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),b={capture:!1,passive:!1};function v(e,t,r){e.addEventListener(t,r,!c&&b)}function m(e,t,r){e.removeEventListener(t,r,!c&&b)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(r){return!1}return!1}}function g(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,r,i){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&y(e,t):y(e,t))||i&&e===r)return e;if(e===r)break}while(e=g(e))}return null}var j,w=/\s+/g;function _(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(i+(r?" "+t:"")).replace(w," ")}}function S(e,t,r){var i=e&&e.style;if(i){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=r+("string"===typeof r?"":"px")}}function x(e,t){var r="";if("string"===typeof e)r=e;else do{var i=S(e,"transform");i&&"none"!==i&&(r=i+" "+r)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(r)}function E(e,t,r){if(e){var i=e.getElementsByTagName(t),n=0,a=i.length;if(r)for(;n<a;n++)r(i[n],n);return i}return[]}function I(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,r,i,n){if(e.getBoundingClientRect||e===window){var a,o,s,l,u,d,p;if(e!==window&&e.parentNode&&e!==I()?(o=(a=e.getBoundingClientRect()).top,s=a.left,l=a.bottom,u=a.right,d=a.height,p=a.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(n=n||e.parentNode,!c))do{if(n&&n.getBoundingClientRect&&("none"!==S(n,"transform")||r&&"static"!==S(n,"position"))){var h=n.getBoundingClientRect();o-=h.top+parseInt(S(n,"border-top-width")),s-=h.left+parseInt(S(n,"border-left-width")),l=o+a.height,u=s+a.width;break}}while(n=n.parentNode);if(i&&e!==window){var f=x(n||e),b=f&&f.a,v=f&&f.d;f&&(l=(o/=v)+(d/=v),u=(s/=b)+(p/=b))}return{top:o,left:s,bottom:l,right:u,width:p,height:d}}}function A(e,t,r){for(var i=P(e,!0),n=T(e)[t];i;){var a=T(i)[r];if(!("top"===r||"left"===r?n>=a:n<=a))return i;if(i===I())break;i=P(i,!1)}return!1}function k(e,t,r){for(var i=0,n=0,a=e.children;n<a.length;){if("none"!==a[n].style.display&&a[n]!==Me.ghost&&a[n]!==Me.dragged&&O(a[n],r.draggable,e,!1)){if(i===t)return a[n];i++}n++}return null}function C(e,t){for(var r=e.lastElementChild;r&&(r===Me.ghost||"none"===S(r,"display")||t&&!y(r,t));)r=r.previousElementSibling;return r||null}function F(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Me.clone||t&&!y(e,t)||r++;return r}function L(e){var t=0,r=0,i=I();if(e)do{var n=x(e),a=n.a,o=n.d;t+=e.scrollLeft*a,r+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,r]}function P(e,t){if(!e||!e.getBoundingClientRect)return I();var r=e,i=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var n=S(r);if(r.clientWidth<r.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!r.getBoundingClientRect||r===document.body)return I();if(i||t)return r;i=!0}}}while(r=r.parentNode);return I()}function N(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function D(e,t){return function(){if(!j){var r=arguments,i=this;1===r.length?e.call(i,r[0]):e.apply(i,r),j=setTimeout((function(){j=void 0}),t)}}}function M(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function V(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}var R="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==S(e,"display")&&e!==Me.ghost){t.push({target:e,rect:T(e)});var r=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=x(e,!0);i&&(r.top-=i.f,r.left-=i.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[r][i])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof r&&r());var n=!1,a=0;t.forEach((function(e){var t=0,r=e.target,o=r.fromRect,s=T(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=x(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&N(l,s)&&!N(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,r,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*i.animation}(u,l,c,i.options)),N(s,o)||(r.prevFromRect=o,r.prevToRect=s,t||(t=i.options.animation),i.animate(r,u,s,t)),t&&(n=!0,a=Math.max(a,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),n?e=setTimeout((function(){"function"===typeof r&&r()}),a):"function"===typeof r&&r(),t=[]},animate:function(e,t,r,i){if(i){S(e,"transition",""),S(e,"transform","");var n=x(this.el),a=n&&n.a,o=n&&n.d,s=(t.left-r.left)/(a||1),l=(t.top-r.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,S(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),S(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var z=[],B={initializeByDefault:!0},q={mount:function(e){for(var t in B)B.hasOwnProperty(t)&&!(t in e)&&(e[t]=B[t]);z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),z.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var n=e+"Global";z.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][n]&&t[i.pluginName][n](o({sortable:t},r)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](o({sortable:t},r)))}))},initializePlugins:function(e,t,r,i){for(var n in z.forEach((function(i){var n=i.pluginName;if(e.options[n]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[n]=o,a(r,o.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var o=this.modifyOption(e,n,e.options[n]);"undefined"!==typeof o&&(e.options[n]=o)}},getEventProperties:function(e,t){var r={};return z.forEach((function(i){"function"===typeof i.eventProperties&&a(r,i.eventProperties.call(t[i.pluginName],e))})),r},modifyOption:function(e,t,r){var i;return z.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"===typeof n.optionListeners[t]&&(i=n.optionListeners[t].call(e[n.pluginName],r))})),i}};function H(e){var t=e.sortable,r=e.rootEl,i=e.name,n=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,b=e.originalEvent,v=e.putSortable,m=e.extraEventProperties;if(t=t||r&&r[R]){var y,g=t.options,O="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||c||u?(y=document.createEvent("Event")).initEvent(i,!0,!0):y=new CustomEvent(i,{bubbles:!0,cancelable:!0}),y.to=s||r,y.from=l||r,y.item=n||r,y.clone=a,y.oldIndex=d,y.newIndex=p,y.oldDraggableIndex=h,y.newDraggableIndex=f,y.originalEvent=b,y.pullMode=v?v.lastPutMode:void 0;var j=o({},m,q.getEventProperties(i,t));for(var w in j)y[w]=j[w];r&&r.dispatchEvent(y),g[O]&&g[O].call(t,y)}}var G=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.evt,n=s(r,["evt"]);q.pluginEvent.bind(Me)(e,t,o({dragEl:Y,parentEl:J,ghostEl:X,rootEl:$,nextEl:K,lastDownEl:Q,cloneEl:Z,cloneHidden:ee,dragStarted:he,putSortable:oe,activeSortable:Me.active,originalEvent:i,oldIndex:te,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ne,hideGhostForTarget:Le,unhideGhostForTarget:Pe,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:i})}},n))};function W(e){H(o({putSortable:oe,cloneEl:Z,targetEl:Y,rootEl:$,oldIndex:te,oldDraggableIndex:ie,newIndex:re,newDraggableIndex:ne},e))}var Y,J,X,$,K,Q,Z,ee,te,re,ie,ne,ae,oe,se,le,ce,ue,de,pe,he,fe,be,ve,me,ye=!1,ge=!1,Oe=[],je=!1,we=!1,_e=[],Se=!1,xe=[],Ee="undefined"!==typeof document,Ie=h,Te=u||c?"cssFloat":"float",Ae=Ee&&!f&&!h&&"draggable"in document.createElement("div"),ke=function(){if(Ee){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ce=function(e,t){var r=S(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),n=k(e,0,t),a=k(e,1,t),o=n&&S(n),s=a&&S(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+T(n).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(a).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return n&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=i&&"none"===r[Te]||a&&"none"===r[Te]&&l+c>i)?"vertical":"horizontal"},Fe=function(e){function t(e,r){return function(i,n,a,o){var s=i.options.group.name&&n.options.group.name&&i.options.group.name===n.options.group.name;if(null==e&&(r||s))return!0;if(null==e||!1===e)return!1;if(r&&"clone"===e)return e;if("function"===typeof e)return t(e(i,n,a,o),r)(i,n,a,o);var l=(r?i:n).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var r={},n=e.group;n&&"object"==i(n)||(n={name:n}),r.name=n.name,r.checkPull=t(n.pull,!0),r.checkPut=t(n.put),r.revertClone=n.revertClone,e.group=r},Le=function(){!ke&&X&&S(X,"display","none")},Pe=function(){!ke&&X&&S(X,"display","")};Ee&&document.addEventListener("click",(function(e){if(ge)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ge=!1,!1}),!0);var Ne=function(e){if(Y){var t=function(e,t){var r;return Oe.some((function(i){if(!C(i)){var n=T(i),a=i[R].options.emptyInsertThreshold,o=e>=n.left-a&&e<=n.right+a,s=t>=n.top-a&&t<=n.bottom+a;return a&&o&&s?r=i:void 0}})),r}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[R]._onDragOver(r)}}},De=function(e){Y&&Y.parentNode[R]._isOutsideThisEl(e.target)};function Me(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[R]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ce(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Me.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var i in q.initializePlugins(this,e,r),r)!(i in t)&&(t[i]=r[i]);for(var n in Fe(t),this)"_"===n.charAt(0)&&"function"===typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Oe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,U())}function Ve(e,t,r,i,n,a,o,s){var l,d,p=e[R],h=p.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=i,l.related=n||t,l.relatedRect=a||T(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),h&&(d=h.call(p,l,o)),d}function Re(e){e.draggable=!1}function Ue(){Se=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,i=0;r--;)i+=t.charCodeAt(r);return i.toString(36)}function Be(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Me.prototype={constructor:Me,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,n=i.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(function(e){xe.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var i=t[r];i.checked&&xe.push(i)}}(r),!Y&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!p||!s||"SELECT"!==s.tagName.toUpperCase())&&(!(s=O(s,i.draggable,r,!1))||!s.animated)&&Q!==s){if(te=F(s),ie=F(s,i.draggable),"function"===typeof c){if(c.call(this,e,s,this))return W({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:r,fromEl:r}),G("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=O(l,i.trim(),r,!1))return W({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:r,toEl:r}),G("filter",t,{evt:e}),!0}))))return void(n&&e.cancelable&&e.preventDefault());i.handle&&!O(l,i.handle,r,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,r){var i,n=this,a=n.el,o=n.options,s=a.ownerDocument;if(r&&!Y&&r.parentNode===a){var l=T(r);if($=a,J=(Y=r).parentNode,K=Y.nextSibling,Q=r,ae=o.group,Me.dragged=Y,se={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-l.left,pe=se.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",i=function(){G("delayEnded",n,{evt:e}),Me.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!d&&n.nativeDraggable&&(Y.draggable=!0),n._triggerDragStart(e,t),W({sortable:n,name:"choose",originalEvent:e}),_(Y,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){E(Y,e.trim(),Re)})),v(s,"dragover",Ne),v(s,"mousemove",Ne),v(s,"touchmove",Ne),v(s,"mouseup",n._onDrop),v(s,"touchend",n._onDrop),v(s,"touchcancel",n._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),G("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))i();else{if(Me.eventCanceled)return void this._onDrop();v(s,"mouseup",n._disableDelayedDrag),v(s,"touchend",n._disableDelayedDrag),v(s,"touchcancel",n._disableDelayedDrag),v(s,"mousemove",n._delayedDragTouchMoveHandler),v(s,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&v(s,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(i,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&Re(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._disableDelayedDrag),m(e,"touchend",this._disableDelayedDrag),m(e,"touchcancel",this._disableDelayedDrag),m(e,"mousemove",this._delayedDragTouchMoveHandler),m(e,"touchmove",this._delayedDragTouchMoveHandler),m(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(Y,"dragend",this),v($,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(r){}},_dragStarted:function(e,t){if(ye=!1,$&&Y){G("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",De);var r=this.options;!e&&_(Y,r.dragClass,!1),_(Y,r.ghostClass,!0),Me.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Le();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(Y.parentNode[R]._isOutsideThisEl(e),t)do{if(t[R]){if(t[R]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Pe()}},_onTouchMove:function(e){if(se){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,n=e.touches?e.touches[0]:e,a=X&&x(X,!0),o=X&&a&&a.a,s=X&&a&&a.d,l=Ie&&me&&L(me),c=(n.clientX-se.clientX+i.x)/(o||1)+(l?l[0]-_e[0]:0)/(o||1),u=(n.clientY-se.clientY+i.y)/(s||1)+(l?l[1]-_e[1]:0)/(s||1);if(!Me.active&&!ye){if(r&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(X){a?(a.e+=c-(ce||0),a.f+=u-(ue||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");S(X,"webkitTransform",d),S(X,"mozTransform",d),S(X,"msTransform",d),S(X,"transform",d),ce=c,ue=u,le=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!X){var e=this.options.fallbackOnBody?document.body:$,t=T(Y,!0,Ie,!0,e),r=this.options;if(Ie){for(me=e;"static"===S(me,"position")&&"none"===S(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=I()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=I(),_e=L(me)}_(X=Y.cloneNode(!0),r.ghostClass,!1),_(X,r.fallbackClass,!0),_(X,r.dragClass,!0),S(X,"transition",""),S(X,"transform",""),S(X,"box-sizing","border-box"),S(X,"margin",0),S(X,"top",t.top),S(X,"left",t.left),S(X,"width",t.width),S(X,"height",t.height),S(X,"opacity","0.8"),S(X,"position",Ie?"absolute":"fixed"),S(X,"zIndex","100000"),S(X,"pointerEvents","none"),Me.ghost=X,e.appendChild(X),S(X,"transform-origin",de/parseInt(X.style.width)*100+"% "+pe/parseInt(X.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,n=r.options;G("dragStart",this,{evt:e}),Me.eventCanceled?this._onDrop():(G("setupClone",this),Me.eventCanceled||((Z=V(Y)).draggable=!1,Z.style["will-change"]="",this._hideClone(),_(Z,this.options.chosenClass,!1),Me.clone=Z),r.cloneId=Be((function(){G("clone",r),Me.eventCanceled||(r.options.removeCloneOnHide||$.insertBefore(Z,Y),r._hideClone(),W({sortable:r,name:"clone"}))})),!t&&_(Y,n.dragClass,!0),t?(ge=!0,r._loopId=setInterval(r._emulateDragOver,50)):(m(document,"mouseup",r._onDrop),m(document,"touchend",r._onDrop),m(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",n.setData&&n.setData.call(r,i,Y)),v(document,"drop",r),S(Y,"transform","translateZ(0)")),ye=!0,r._dragStartId=Be(r._dragStarted.bind(r,t,e)),v(document,"selectstart",r),he=!0,p&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,i,n,a=this.el,s=e.target,l=this.options,c=l.group,u=Me.active,d=ae===c,p=l.sort,h=oe||u,f=this,b=!1;if(!Se){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=O(s,l.draggable,a,!0),D("dragOver"),Me.eventCanceled)return b;if(Y.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return U(!1);if(ge=!1,u&&!l.disabled&&(d?p||(i=!$.contains(Y)):oe===this||(this.lastPutMode=ae.checkPull(this,u,Y,e))&&c.checkPut(this,u,Y,e))){if(n="vertical"===this._getDirection(e,s),t=T(Y),D("dragOverValid"),Me.eventCanceled)return b;if(i)return J=$,V(),this._hideClone(),D("revert"),Me.eventCanceled||(K?$.insertBefore(Y,K):$.appendChild(Y)),U(!0);var v=C(a,l.draggable);if(!v||function(e,t,r){var i=T(C(r.el,r.options.draggable)),n=10;return t?e.clientX>i.right+n||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+n}(e,n,this)&&!v.animated){if(v===Y)return U(!1);if(v&&a===e.target&&(s=v),s&&(r=T(s)),!1!==Ve($,a,Y,t,s,r,e,!!s))return V(),a.appendChild(Y),J=a,z(),U(!0)}else if(s.parentNode===a){r=T(s);var m,y,g,j=Y.parentNode!==a,w=!function(e,t,r){var i=r?e.left:e.top,n=r?e.right:e.bottom,a=r?e.width:e.height,o=r?t.left:t.top,s=r?t.right:t.bottom,l=r?t.width:t.height;return i===o||n===s||i+a/2===o+l/2}(Y.animated&&Y.toRect||t,s.animated&&s.toRect||r,n),x=n?"top":"left",E=A(s,"top","top")||A(Y,"top","top"),I=E?E.scrollTop:void 0;if(fe!==s&&(y=r[x],je=!1,we=!w&&l.invertSwap||j),0!==(m=function(e,t,r,i,n,a,o,s){var l=i?e.clientY:e.clientX,c=i?r.height:r.width,u=i?r.top:r.left,d=i?r.bottom:r.right,p=!1;if(!o)if(s&&ve<c*n){if(!je&&(1===be?l>u+c*a/2:l<d-c*a/2)&&(je=!0),je)p=!0;else if(1===be?l<u+ve:l>d-ve)return-be}else if(l>u+c*(1-n)/2&&l<d-c*(1-n)/2)return function(e){return F(Y)<F(e)?1:-1}(t);if((p=p||o)&&(l<u+c*a/2||l>d-c*a/2))return l>u+c/2?1:-1;return 0}(e,s,r,n,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,fe===s))){var k=F(Y);do{k-=m,g=J.children[k]}while(g&&("none"===S(g,"display")||g===X))}if(0===m||g===s)return U(!1);fe=s,be=m;var L=s.nextElementSibling,P=!1,N=Ve($,a,Y,t,s,r,e,P=1===m);if(!1!==N)return 1!==N&&-1!==N||(P=1===N),Se=!0,setTimeout(Ue,30),V(),P&&!L?a.appendChild(Y):s.parentNode.insertBefore(Y,P?L:s),E&&M(E,0,I-E.scrollTop),J=Y.parentNode,void 0===y||we||(ve=Math.abs(y-T(s)[x])),z(),U(!0)}if(a.contains(Y))return U(!1)}return!1}function D(l,c){G(l,f,o({evt:e,isOwner:d,axis:n?"vertical":"horizontal",revert:i,dragRect:t,targetRect:r,canSort:p,fromSortable:h,target:s,completed:U,onMove:function(r,i){return Ve($,a,Y,t,r,T(r),e,i)},changed:z},c))}function V(){D("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function U(t){return D("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(_(Y,oe?oe.options.ghostClass:u.options.ghostClass,!1),_(Y,l.ghostClass,!0)),oe!==f&&f!==Me.active?oe=f:f===Me.active&&oe&&(oe=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){D("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===Y&&!Y.animated||s===a&&!s.animated)&&(fe=null),l.dragoverBubble||e.rootEl||s===document||(Y.parentNode[R]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function z(){re=F(Y),ne=F(Y,l.draggable),W({sortable:f,name:"change",toEl:a,newIndex:re,newDraggableIndex:ne,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){m(document,"mousemove",this._onTouchMove),m(document,"touchmove",this._onTouchMove),m(document,"pointermove",this._onTouchMove),m(document,"dragover",Ne),m(document,"mousemove",Ne),m(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;m(e,"mouseup",this._onDrop),m(e,"touchend",this._onDrop),m(e,"pointerup",this._onDrop),m(e,"touchcancel",this._onDrop),m(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;re=F(Y),ne=F(Y,r.draggable),G("drop",this,{evt:e}),J=Y&&Y.parentNode,re=F(Y),ne=F(Y,r.draggable),Me.eventCanceled||(ye=!1,we=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(m(document,"drop",this),m(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&S(document.body,"user-select",""),S(Y,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),X&&X.parentNode&&X.parentNode.removeChild(X),($===J||oe&&"clone"!==oe.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),Y&&(this.nativeDraggable&&m(Y,"dragend",this),Re(Y),Y.style["will-change"]="",he&&!ye&&_(Y,oe?oe.options.ghostClass:this.options.ghostClass,!1),_(Y,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),$!==J?(re>=0&&(W({rootEl:J,name:"add",toEl:J,fromEl:$,originalEvent:e}),W({sortable:this,name:"remove",toEl:J,originalEvent:e}),W({rootEl:J,name:"sort",toEl:J,fromEl:$,originalEvent:e}),W({sortable:this,name:"sort",toEl:J,originalEvent:e})),oe&&oe.save()):re!==te&&re>=0&&(W({sortable:this,name:"update",toEl:J,originalEvent:e}),W({sortable:this,name:"sort",toEl:J,originalEvent:e})),Me.active&&(null!=re&&-1!==re||(re=te,ne=ie),W({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){G("nulling",this),$=Y=J=X=K=Z=Q=ee=se=le=he=re=ne=te=ie=fe=be=oe=ae=Me.dragged=Me.ghost=Me.clone=Me.active=null,xe.forEach((function(e){e.checked=!0})),xe.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,i=0,n=r.length,a=this.options;i<n;i++)O(e=r[i],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ze(e));return t},sort:function(e,t){var r={},i=this.el;this.toArray().forEach((function(e,t){var n=i.children[t];O(n,this.options.draggable,i,!1)&&(r[e]=n)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(i.removeChild(r[e]),i.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var i=q.modifyOption(this,e,t);r[e]="undefined"!==typeof i?i:t,"group"===e&&Fe(r)},destroy:function(){G("destroy",this);var e=this.el;e[R]=null,m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart),m(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Oe.splice(Oe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(G("hideClone",this),Me.eventCanceled)return;S(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(G("showClone",this),Me.eventCanceled)return;Y.parentNode!=$||this.options.group.revertClone?K?$.insertBefore(Z,K):$.appendChild(Z):$.insertBefore(Z,Y),this.options.group.revertClone&&this.animate(Y,Z),S(Z,"display",""),ee=!1}}else this._hideClone()}},Ee&&v(document,"touchmove",(function(e){(Me.active||ye)&&e.cancelable&&e.preventDefault()})),Me.utils={on:v,off:m,css:S,find:E,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:D,closest:O,toggleClass:_,clone:V,index:F,nextTick:Be,cancelNextTick:qe,detectDirection:Ce,getChild:k},Me.get=function(e){return e[R]},Me.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Me.utils=o({},Me.utils,e.utils)),q.mount(e)}))},Me.create=function(e,t){return new Me(e,t)},Me.version="1.13.0";var He,Ge,We,Ye,Je,Xe,$e=[],Ke=!1;function Qe(){$e.forEach((function(e){clearInterval(e.pid)})),$e=[]}function Ze(){clearInterval(Xe)}var et=D((function(e,t,r,i){if(t.scroll){var n,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=I(),u=!1;Ge!==r&&(Ge=r,Qe(),He=t.scroll,n=t.scrollFn,!0===He&&(He=P(r,!0)));var d=0,p=He;do{var h=p,f=T(h),b=f.top,v=f.bottom,m=f.left,y=f.right,g=f.width,O=f.height,j=void 0,w=void 0,_=h.scrollWidth,x=h.scrollHeight,E=S(h),A=h.scrollLeft,k=h.scrollTop;h===c?(j=g<_&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),w=O<x&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(j=g<_&&("auto"===E.overflowX||"scroll"===E.overflowX),w=O<x&&("auto"===E.overflowY||"scroll"===E.overflowY));var C=j&&(Math.abs(y-a)<=s&&A+g<_)-(Math.abs(m-a)<=s&&!!A),F=w&&(Math.abs(v-o)<=s&&k+O<x)-(Math.abs(b-o)<=s&&!!k);if(!$e[d])for(var L=0;L<=d;L++)$e[L]||($e[L]={});$e[d].vx==C&&$e[d].vy==F&&$e[d].el===h||($e[d].el=h,$e[d].vx=C,$e[d].vy=F,clearInterval($e[d].pid),0==C&&0==F||(u=!0,$e[d].pid=setInterval(function(){i&&0===this.layer&&Me.active._onTouchMove(Je);var t=$e[this.layer].vy?$e[this.layer].vy*l:0,r=$e[this.layer].vx?$e[this.layer].vx*l:0;"function"===typeof n&&"continue"!==n.call(Me.dragged.parentNode[R],r,t,e,Je,$e[this.layer].el)||M($e[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=P(p,!1)));Ke=u}}),30),tt=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,n=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=r||n;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function rt(){}function it(){}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=k(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:tt},a(rt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:tt},a(it,{pluginName:"removeOnSpill"});Me.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):(m(document,"pointermove",this._handleFallbackAutoScroll),m(document,"touchmove",this._handleFallbackAutoScroll),m(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Qe(),clearTimeout(j),j=void 0},nulling:function(){Je=Ge=He=Ke=Xe=We=Ye=null,$e.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,i=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(i,n);if(Je=e,t||u||c||p){et(e,this.options,a,t);var o=P(a,!0);!Ke||Xe&&i===We&&n===Ye||(Xe&&Ze(),Xe=setInterval((function(){var a=P(document.elementFromPoint(i,n),!0);a!==o&&(o=a,Qe()),et(e,r.options,a,t)}),10),We=i,Ye=n)}else{if(!this.options.bubbleScroll||P(a,!0)===I())return void Qe();et(e,this.options,P(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Me.mount(it,rt),t.a=Me}}]);
//# sourceMappingURL=77.b2670816.chunk.js.map