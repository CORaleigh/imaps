(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[146],{1038:function(e,t,i){"use strict";i.d(t,"a",(function(){return $}));var s,n=i(79),a=i(100),r=i(111),l=i(134),o=i(159),c=i(136),d=i(146),h=(i(84),i(82),i(104)),u=i(81),b=i(80),p=i(202),y=i(370);i(83);let m=s=class extends p.a{constructor(e){super(e),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type="slider",this.value=null}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};Object(n.a)([Object(u.b)()],m.prototype,"displayValueEnabled",void 0),Object(n.a)([Object(u.b)()],m.prototype,"max",void 0),Object(n.a)([Object(u.b)()],m.prototype,"min",void 0),Object(n.a)([Object(u.b)()],m.prototype,"step",void 0),Object(n.a)([Object(u.b)()],m.prototype,"value",void 0),m=s=Object(n.a)([Object(b.a)("esri.support.Action.ActionSlider")],m);const g=m;var _=i(408),v=i(124),O=i(165),j=i(759),f=i(480),w=i(133);const I="esri-layer-list-panel",C="esri-layer-list-panel__content",L="esri-layer-list-panel__content--legend",A="esri-layer-list-panel__content--string",S="esri-layer-list-panel__content--html-element",k="esri-layer-list-panel__content--widget";let M=class extends(Object(o.a)(O.a)){constructor(e,t){super(e,t),this._legend=null,this._handles=new v.a,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([Object(c.a)(this,"content",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get("className")||!e&&t?t.iconClass:""}set className(e){void 0!==e?this._override("className",e):this._clearOverride("className")}get title(){const e=this._getFirstWidget();return this._get("title")||e?e.label:""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}render(){return Object(w.a)("div",{class:I},this._renderContents())}_renderContent(e){const{_legend:t,listItem:i}=this;return e?"legend"===e?i&&i.view&&i.layer&&t?Object(w.a)("div",{class:this.classes(C,L),key:t},t.render()):null:"string"==typeof e?Object(w.a)("div",{class:this.classes(C,A),key:e,innerHTML:e}):Object(f.b)(e)?Object(w.a)("div",{class:this.classes(C,k),key:e},e.render()):e instanceof HTMLElement?Object(w.a)("div",{class:this.classes(C,S),key:e,bind:e,afterCreate:this._attachToNode}):null:null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(){const{listItem:e}=this;if(!e)return{};const{layer:t,view:i}=e;return t&&i?{view:i,layerInfos:[Object(j.g)(t)]}:{}}_createLegend(e){this._hasLegend(e)&&!this._legend&&Promise.all([i.e(1),i.e(2),i.e(3),i.e(18),i.e(104)]).then(i.bind(null,1227)).then((({default:e})=>{const{_handles:t}=this,i=new e(this._getLegendOptions());this._legend=i,this.notifyChange("className"),this.notifyChange("title");const s=Object(c.a)(this,["listItem.view","listItem.layer","listItem.layer.source","listItem.layer.parent"],(()=>this._updateLegend(i)));t.add(s,"legends"),this.scheduleRender()}))}_hasLegend(e){const t="legend";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){e.set(this._getLegendOptions()),this.scheduleRender()}_getWidget(e){return"legend"===e?this._legend:Object(f.b)(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const i=this._getWidget(e);return i&&(t=i),!!i})),t}return this._getWidget(e)}};Object(n.a)([Object(u.b)()],M.prototype,"className",null),Object(n.a)([Object(u.b)()],M.prototype,"content",void 0),Object(n.a)([Object(u.b)()],M.prototype,"image",void 0),Object(n.a)([Object(u.b)()],M.prototype,"listItem",void 0),Object(n.a)([Object(u.b)()],M.prototype,"title",null),Object(n.a)([Object(u.b)()],M.prototype,"open",void 0),Object(n.a)([Object(u.b)()],M.prototype,"visible",void 0),M=Object(n.a)([Object(b.a)("esri.widgets.LayerList.ListItemPanel")],M);const x=M;var E;const N=r.a.ofType({key:"type",defaultKeyValue:"button",base:p.a,typeMap:{button:y.a,toggle:_.a,slider:g}}),T=r.a.ofType(N),P="layer",V="child-list-mode";let R=E=class extends(Object(o.a)(Object(l.b)(a.a))){constructor(e){super(e),this.actionsSections=new T,this.actionsOpen=!1,this.children=new(r.a.ofType(E)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([Object(c.a)(this,"layer",(e=>this._watchLayerProperties(e))),Object(c.a)(this,"view",(e=>this._updateChildren(e))),Object(c.a)(this,"panel",(e=>this._setListItemOnPanel(e))),Object(c.a)(this,["layer","view"],(()=>this._getLayerView()))])}destroy(){this.view=null}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}castPanel(e){return this.get("panel.open")&&!e.hasOwnProperty("open")&&(e.open=!0),e?new x(e):null}get title(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""}set title(e){void 0!==e?this._override("title",e):this._clearOverride("title")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!Object(j.i)(this.layer,this.get("view.scale"))}get visibilityMode(){return Object(j.d)(this.layer)}clone(){return new E({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(V),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(Object(c.d)(t,"listMode",(()=>this._addChildren(e))),V)}));const t=e.filter((e=>"hide"!==Object(j.c)(e)));this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.handles.add(e.on("change",(()=>{this._addChildren(e)})),P)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map((e=>Object(j.a)(e)?new E({layer:e,parent:this,view:this.view}):null)).reverse()}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(P),this.handles.remove(V),!e)return;if(this.handles.add(Object(c.d)(e,"listMode",(()=>this._watchLayerProperties(e))),P),"hide-children"===Object(j.c)(e))return void this.children.removeAll();const t=Object(j.h)(e);t&&this.handles.add(Object(c.a)(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),P)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=await t.whenLayerView(e);if(i.layer!==this.layer)return;this._set("layerView",i)}catch{}}_isLayerUpdating(e){return e&&"loading"===e.loadStatus}};Object(n.a)([Object(u.b)({type:T})],R.prototype,"actionsSections",void 0),Object(n.a)([Object(u.b)()],R.prototype,"actionsOpen",void 0),Object(n.a)([Object(u.b)({type:r.a})],R.prototype,"children",void 0),Object(n.a)([Object(u.b)()],R.prototype,"childrenSortable",void 0),Object(n.a)([Object(d.a)("layer.loadError?")],R.prototype,"error",void 0),Object(n.a)([Object(u.b)({readOnly:!0})],R.prototype,"incompatible",null),Object(n.a)([Object(u.b)()],R.prototype,"layer",void 0),Object(n.a)([Object(u.b)({readOnly:!0})],R.prototype,"layerView",void 0),Object(n.a)([Object(u.b)()],R.prototype,"open",void 0),Object(n.a)([Object(u.b)({type:x})],R.prototype,"panel",void 0),Object(n.a)([Object(h.a)("panel")],R.prototype,"castPanel",null),Object(n.a)([Object(u.b)()],R.prototype,"parent",void 0),Object(n.a)([Object(u.b)()],R.prototype,"sortable",void 0),Object(n.a)([Object(u.b)()],R.prototype,"title",null),Object(n.a)([Object(u.b)({readOnly:!0})],R.prototype,"updating",null),Object(n.a)([Object(u.b)({value:null})],R.prototype,"view",void 0),Object(n.a)([Object(d.a)("layer.visible")],R.prototype,"visible",void 0),Object(n.a)([Object(u.b)({readOnly:!0})],R.prototype,"visibleAtCurrentScale",null),Object(n.a)([Object(u.b)({readOnly:!0})],R.prototype,"visibilityMode",null),R=E=Object(n.a)([Object(b.a)("esri.widgets.LayerList.ListItem")],R);const $=R},1126:function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));var s=i(79),n=i(111),a=i(138),r=i(124),l=i(91),o=i(136),c=i(81),d=(i(84),i(82),i(83),i(80)),h=i(1038),u=i(759);const b="view",p="view-layers",y="map-layers",m="layer-views",g="layer-list-mode",_="children",v=n.a.ofType(h.a);let O=class extends a.a.EventedAccessor{constructor(e){super(e),this._handles=new r.a,this.listItemCreatedFunction=null,this.operationalItems=new v,this.view=null,this._callListItemsCreatedDebounced=Object(l.h)((async()=>this._callListItemsCreated()),300)}initialize(){this._handles.add(Object(o.a)(this,["view","view.ready"],(()=>this._viewHandles())),b)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get("view");return this.get("view.ready")?"ready":e?"loading":"disabled"}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,i,s){var n,a;const r=null==e?void 0:e.layer;if(!r)return;const l=null==(n=this.view)||null==(a=n.map)?void 0:a.layers,o=t?Object(u.f)(t):l,c=i?Object(u.f)(i):l;if(!o||!c)return;const{operationalItems:d}=this,h=(null==t?void 0:t.children)||d,b=(null==i?void 0:i.children)||d,p=c.length-s;e.parent=i||null,h.includes(e)&&h.remove(e),o.includes(r)&&o.remove(r),b.includes(e)||b.add(e,p),c.includes(r)||c.add(r,p)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(m),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),m)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(y),this._compileList(),e&&t.add(e.on("change",(()=>this._compileList())),y)}_watchItemProperties(e){this._watchItemChildren(e,`${_}-${e.uid}`)}_watchItemChildren(e,t){this._handles.add([e.children.on("change",(()=>{this._callListItemCreatedChildren(e.children)}))],t),e.children.forEach((e=>this._watchItemChildren(e,t)))}_callListItemCreatedChildren(e){e.forEach((e=>this._callListItemCreated(e)))}_callListItemCreated(e){if("function"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._callListItemCreatedChildren(e.children)}_createListItem(e){const{view:t}=this,i=new h.a({layer:e,view:t});return this._watchItemProperties(i),i}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`${_}-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>"hide"!==Object(u.c)(e)))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(g),e&&e.forEach((e=>{t.add(Object(o.d)(e,"listMode",(()=>this._compileList())),g)}))}_compileList(){const e=this.get("view.map.layers");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t),this._beforeCallListItemsCreated()):this._removeAllItems()}async _beforeCallListItemsCreated(){return this._callListItemsCreatedDebounced().catch(l.u)}async _callListItemsCreated(){var e;await(null==(e=this.view)?void 0:e.when()),this.operationalItems.forEach((e=>this._callListItemCreated(e)))}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{_handles:t,operationalItems:i}=this,s=[];i.forEach((i=>{i&&e&&e.find((e=>i.layer===e))||(t.remove(`${_}-${i.uid}`),s.push(i))})),i.removeMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,i)=>{const s=e.indexOf(t.layer),n=e.indexOf(i.layer);return s>n?-1:s<n?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([y,m,p]),this._compileList(),t&&t.ready&&e.add([Object(o.a)(this,"view.map.allLayers",(e=>this._createMapLayerHandles(e))),Object(o.a)(this,"view.allLayerViews",(e=>this._createLayerViewHandles(e))),Object(o.a)(this,"listItemCreatedFunction",(()=>this._compileList()))],p)}};Object(s.a)([Object(c.b)()],O.prototype,"listItemCreatedFunction",void 0),Object(s.a)([Object(c.b)({type:v})],O.prototype,"operationalItems",void 0),Object(s.a)([Object(c.b)({readOnly:!0})],O.prototype,"state",null),Object(s.a)([Object(c.b)()],O.prototype,"view",void 0),O=Object(s.a)([Object(d.a)("esri.widgets.LayerList.LayerListViewModel")],O);const j=O},1239:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ve}));var s=i(79),n=i(111),a=i(263),r=i(124),l=i(82),o=i(136),c=i(146),d=(i(84),i(104)),h=i(81),u=i(80),b=i(165),p=i(1126),y=i(1038),m=i(759),g=i(317),_=i(193),v=(i(87),i(377)),O=i(133),j=(i(112),i(1212));function f(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const w=n.a.ofType(y.a),I="data-sort-filter",C="data-layer-uid",L="esri-layer-list esri-widget esri-widget--panel",A="esri-layer-list--new-ui",S="esri-layer-list__no-items",k="esri-layer-list__list",M="esri-layer-list__list--root",x="esri-layer-list__list--exclusive",E="esri-layer-list__list--inherited",N="esri-layer-list__list--independent",T="esri-layer-list__item",P="esri-layer-list__item--has-message",V="esri-layer-list__item--invisible",R="esri-layer-list__item--invisible-at-scale",$="esri-layer-list__item--updating",U="esri-layer-list__item--has-children",F="esri-layer-list__item--selectable",D="esri-layer-list__item-container",B="esri-layer-list__item-actions-menu",H="esri-layer-list__item-actions-menu-item",z="esri-layer-list__item-actions-menu-item--active",W="esri-layer-list__item-actions",K="esri-layer-list__item-actions-list",G="esri-layer-list__item-action",J="esri-layer-list__item-action-icon",q="esri-layer-list__item-action-image",Q="esri-layer-list__item-action-title",X="esri-layer-list__action-toggle",Y="esri-layer-list__action-toggle--on",Z="esri-layer-list__item-label",ee="esri-layer-list__item-message",te="esri-layer-list__item-title",ie="esri-layer-list__item-toggle",se="esri-layer-list__item-toggle-icon",ne="esri-layer-list__item-toggle-icon",ae="esri-layer-list__item-radio-icon",re="esri-layer-list__child-toggle",le="esri-layer-list__child-toggle--open",oe="esri-layer-list__child-toggle-icon--opened",ce="esri-layer-list__child-toggle-icon--closed",de="esri-layer-list__child-toggle-icon--closed-rtl",he="esri-layer-list--chosen",ue="esri-disabled",be="esri-disabled-element",pe="esri-hidden",ye="esri-rotating",me="esri-icon-handle-horizontal",ge="esri-icon-visible",_e="esri-icon-non-visible",ve="esri-icon-radio-checked",Oe="esri-icon-radio-unchecked",je="esri-icon-notice-triangle",fe="esri-icon-down-arrow",we="esri-icon-right-triangle-arrow",Ie="esri-icon-left-triangle-arrow",Ce="esri-icon-loading-indicator",Le="esri-icon-default-action",Ae="esri-icon-layers",Se="actions",ke="action-section",Me="items",xe={exclusive:"exclusive",inherited:"inherited",independent:"independent"};function Ee(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>Ee(e)))}const Ne="root",Te={statusIndicators:!0};let Pe=class extends b.a{constructor(e,t){super(e,t),this._handles=new r.a,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=Object(l.a)("esri-layerlist-new-ui"),this._tooltipReferenceMap=new Map,this.visibleItems=null,this.iconClass=Ae,this.label=void 0,this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.listItemCreatedFunction=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new w,this.view=null,this.viewModel=new p.a,this.visibleElements={...Te},this._onSortableSort=({to:e,from:t,item:i,newIndex:s})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}))},this._sortableCanSort=(e,t)=>!(!e.el.dataset.group||!t.el.dataset.group),this._sortableCanPull=(e,t,i)=>{const{listItemCanGiveFunction:s}=this,n={selected:i["data-item"],from:t.el["data-item"],to:e.el["data-item"]};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,n)},this._sortableCanPut=(e,t,i)=>{const{listItemCanReceiveFunction:s}=this,n={selected:i["data-item"],from:t.el["data-item"],to:e.el["data-item"]};return!this._sortableCanSort(e,t)||"function"!=typeof s||s.call(null,n)},this._onSortableEnd=({oldIndex:e,from:t,to:i,item:s})=>{t!==i&&t.insertBefore(s,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(Object(o.b)(this,"operationalItems","change",(()=>this._itemsChanged(e))),Object(o.a)(this,"selectionEnabled",(()=>this._toggleAllSorting())))}loadDependencies(){return Promise.all([i.e(191).then(i.bind(null,1251)),Promise.all([i.e(34),i.e(233)]).then(i.bind(null,1252))])}destroy(){this._destroySortables(),this._tooltipReferenceMap.clear(),this._handles.destroy(),this._handles=null}castVisibleElements(e){return{...Te,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:i}=this,s=null==(e=this.viewModel)?void 0:e.state,n={[A]:i,[pe]:"loading"===s,[ue]:"disabled"===s},a=this.renderItemTooltips(),r=this.renderItems();return Object(O.a)("div",{class:this.classes(L,n)},null!=t&&t.length?[a,a.length?Object(O.a)("calcite-tooltip-manager",null,r):r]:this.renderNoItems())}renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:i}=this;return e?Object(O.a)("calcite-tooltip",{label:i.layerIncompatible,referenceElement:t.get(e.uid)},i.layerIncompatibleTooltip):null}renderItemTooltipNodes(e){const{incompatible:t,children:i}=e;return[t?this.renderItemTooltip(e):null,...t?[]:null==i?void 0:i.toArray().map((e=>this.renderItemTooltipNodes(e)))]}renderItemTooltips(){return this.visibleItems.toArray().map((e=>this.renderItemTooltipNodes(e)))}renderNoItems(){return Object(O.a)("div",{class:S},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return Object(O.a)("ul",{"aria-label":i.widgetLabel,role:t?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":Ne,bind:this,class:this.classes(k,M,N)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messagesCommon:i}=this,s={[z]:e.actionsOpen};return Object(O.a)("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(H,s),tabindex:"0",role:"button","aria-controls":t,"aria-label":i.options,title:i.options},Object(O.a)("span",{"aria-hidden":"true",class:me}))}renderActionsMenu(e,t,i,s){const{panel:n}=e,a=n&&n.visible?this.renderPanelButton(n):null,r=1===i&&this._getSingleActionButton(t),l=r?this.renderAction({item:e,action:r,singleAction:!0}):null,o=!r&&i?this.renderActionsMenuIcon(e,s):null;return o||a||r?Object(O.a)("div",{key:"actions-menu",class:B},a,l,o):null}renderChildList(e,t){var i;const{selectionEnabled:s}=this,{visibilityMode:n,children:a}=e,r=this._hasChildren(e),l=!r&&s&&"group"===(null==(i=e.layer)?void 0:i.type),{exclusive:o,inherited:c}=xe,d={[x]:n===o,[E]:n===c,[N]:n!==c&&n!==o};return r||l?Object(O.a)("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(k,d),"aria-expanded":e.open?"true":"false",role:s?"listbox":n===o?"radiogroup":"group",hidden:!e.open&&!l||null},null==a?void 0:a.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:i}=this,s=this._hasChildren(e),n={[le]:e.open},a=e.open?i.collapse:i.expand;return s?Object(O.a)("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes(re,n),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},Object(O.a)("span",{"aria-hidden":"true",class:this.classes(ce,we)}),Object(O.a)("span",{"aria-hidden":"true",class:this.classes(oe,fe)}),Object(O.a)("span",{"aria-hidden":"true",class:this.classes(de,Ie)})):null}renderItemMessage(e){return e.error?Object(O.a)("div",{key:"esri-layer-list__error",class:ee,role:"alert"},Object(O.a)("span",{"aria-hidden":"true",class:je}),this.messages.layerError):e.incompatible?Object(O.a)("div",{key:"esri-layer-list__incompatible",class:ee,role:"alert"},Object(O.a)("span",{bind:this,tabIndex:0,"aria-hidden":"true",class:je,afterCreate:t=>this._setTooltipReference(t,e)}),this.messages.layerIncompatible):null}renderItemContent(e,t,i){const{id:s}=this,n=`${s}_${e.uid}`,a=`${n}_actions`,r=`${n}__list`,{panel:l}=e,o=this._filterActions(e.actionsSections),c=this._countActions(o);return[Object(O.a)("div",{key:"list-item-container",class:D},this.renderChildrenToggle(e,r),this.renderLabel(e,t,i),this.renderActionsMenu(e,o,c,a)),this.renderItemMessage(e),c?this.renderActionsSections(e,o,a):null,l&&l.open?l.render():null,this.renderChildList(e,r)]}renderItem(e,t){const{_newUI:i,id:s,selectionEnabled:n,selectedItems:a,visibleElements:r}=this,l=`${s}_${e.uid}__title`,o=this._hasMessage(e),c=this._hasChildren(e),d={[U]:c,[P]:!!o,[$]:e.updating&&!t&&r.statusIndicators,[V]:i&&!e.visible,[R]:!e.visibleAtCurrentScale,[F]:n};if(n){var h;const i={[C]:null==(h=e.layer)?void 0:h.uid,[I]:(!e.sortable).toString()};return Object(O.a)("li",{key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(T,d),"aria-labelledby":l,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:Ne,tabIndex:0,"aria-selected":Object(m.e)(e,a)?"true":"false",role:"option",...i},this.renderItemContent(e,t,l))}return Object(O.a)("li",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(T,d),"aria-labelledby":l},this.renderItemContent(e,t,l))}renderItemTitle(e,t){const{messages:i}=this,s=e.title||i.untitledLayer,n=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return Object(O.a)("span",{key:"layer-title-container",id:t,title:n,"aria-label":n,class:te},s)}renderItemToggleIcon(e,t){const{_newUI:i}=this,{exclusive:s}=xe,n=t&&t.visibilityMode,a={[se]:i,[ne]:i&&n!==s,[ae]:i&&n===s,[ve]:n===s&&e.visible,[Oe]:n===s&&!e.visible,[ge]:n!==s&&e.visible,[_e]:n!==s&&!e.visible};return Object(O.a)("span",{key:"item-toggle-icon",class:this.classes(a),"aria-hidden":"true"})}renderItemToggle(e,t,i){const{selectionEnabled:s,messages:n}=this,{exclusive:a}=xe,r=t&&t.visibilityMode,l=r===a?"radio":"switch";return Object(O.a)("span",s?{key:"item-toggle-selection-enabled",class:ie,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":r,tabIndex:0,title:e.visible?n.hideLayer:n.showLayer,"aria-checked":e.visible?"true":"false",role:l,"aria-labelledby":i}:{key:"item-toggle",class:ie},this.renderItemToggleIcon(e,t))}renderLabel(e,t,i){const{selectionEnabled:s,_newUI:n,messages:a}=this,{inherited:r,exclusive:l}=xe,o=null==t?void 0:t.visibilityMode,c=o===l?"radio":"switch",d=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];n&&d.reverse();const h=Object(O.a)("div",s?{key:`item-label-no-selection-${e.uid}`,class:Z}:{key:`item-label-with-selection-${e.uid}`,class:Z,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":o,tabIndex:0,"aria-checked":e.visible?"true":"false",title:e.visible?a.hideLayer:a.showLayer,role:c,"aria-labelledby":i},d);return o===r||e.error?Object(O.a)("div",{key:`item-label-container-${e.uid}`,class:Z},this.renderItemTitle(e,i)):h}renderPanelButton(e){const{className:t,open:i,title:s,image:n}=e,a=n||t?t:Le,r=this._getIconImageStyles(e),l={[z]:i},o={[q]:!!r["background-image"]};return a&&(o[a]=!!a),Object(O.a)("div",{key:`panel-${e.uid}`,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(H,l),role:"button",tabindex:"0",title:s,"aria-label":s},Object(O.a)("span",{class:this.classes(o),styles:r}))}renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>Object(O.a)("ul",{key:`${e}-action-section-${i}`,class:K},this.renderActionSection(e,t))));return Object(O.a)("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:i,class:W,hidden:!e.actionsOpen||null},s)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),n="button"!==e.type||e.image||i?i:Le,a={[q]:!t&&!!s["background-image"],[Ce]:t,[ye]:t};return n&&!t&&(a[n]=!0),Object(O.a)("span",{key:"action-icon","aria-hidden":"true",class:this.classes(J,a),styles:s})}renderActionTitle(e,t){return t?null:Object(O.a)("span",{key:"action-title",class:Q},e)}renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:n,disabled:a,title:r}=i,l={[H]:s&&"button"===i.type,[G]:n||!s&&"toggle"!==i.type,[X]:!n&&"toggle"===i.type,[Y]:!n&&"toggle"===i.type&&i.value,[be]:a},o=[this.renderActionIcon(i),this.renderActionTitle(r,s)];return s?Object(O.a)("div",{bind:this,"data-item":t,"data-action":i,role:"button",key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",title:r,"aria-label":r},o):Object(O.a)("li",{bind:this,"data-item":t,"data-action":i,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:l,tabindex:"0",role:"button",title:r,"aria-label":r},o)}_setTooltipReference(e,t){this._tooltipReferenceMap.set(t.uid,e),this.scheduleRender()}_hasMessage(e){return!!e.error||e.incompatible}_hasChildren(e){return!!e.children.length&&!this._hasMessage(e)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,s=t.get(i);s&&s.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}){const n=i["data-item"],a=e["data-item"],r=t["data-item"];this.viewModel.moveListItem(n,r,a,s)}_sortLayers(e){if(!e)return;const t=e.el["data-item"],i=e.toArray();var s,n;t?Object(m.j)(t,i):Object(m.k)(null==(s=this.view)||null==(n=s.map)?void 0:n.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:s}=this,n=i.get(t),a=e["data-item"],r=(t===Ne||a.childrenSortable&&Object(m.b)(a))&&s;if(n)n.option("disabled",!r);else if(r){const s=j.a.create(e,{dataIdAttr:C,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${I}="true"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!r,chosenClass:he});i.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this._tooltipReferenceMap.clear(),this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&"button"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:i}=this;e&&i&&(null==(t=e["data-item"].layer)?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const i=ke+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),i),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const i=Se+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([Object(o.a)(e,["className","image","id","title","visible"],(()=>this.scheduleRender()))],i):this._handles.add([Object(o.a)(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(()=>this.scheduleRender()))],i):this._handles.add([Object(o.a)(e,["className","image","id","title","visible","value"],(()=>this.scheduleRender()))],i)}_renderOnItemChanges(e){const t=e.uid,i=Me+t;this._handles.add([Object(o.a)(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(()=>this.scheduleRender())),e.actionsSections.on("change",(()=>this.scheduleRender())),e.children.on("change",(()=>this.scheduleRender()))],i),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?`url("${t}")`:null}}_selectionKeydown(e){const t=Object(a.a)(e);if(-1===["ArrowDown","ArrowUp"].indexOf(t))return void this._toggleSelection(e);e.stopPropagation();const i=e.currentTarget,s=i["data-item"],{_sortableMap:n,selectedItems:r}=this,l=i.dataset.group,o=n.get(l);if(!o)return;const c=Object(m.e)(s,r),d=o.toArray(),h=e.target,u=d.indexOf(h.dataset.layerUid);if(-1!==u){if("ArrowDown"===t){const e=u+1;if(e>=d.length)return;var b,p;c?(f(d,u,e),o.sort(d),this._sortLayers(o),this._focusSortUid=null==(b=s.layer)?void 0:b.uid):(this._focusSortUid=null==(p=s.layer)?void 0:p.uid,this.scheduleRender())}if("ArrowUp"===t){const e=u-1;if(e<=-1)return;var y,g;c?(f(d,u,e),o.sort(d),this._sortLayers(o),this._focusSortUid=null==(y=s.layer)?void 0:y.uid):(this._focusSortUid=null==(g=s.layer)?void 0:g.uid,this.scheduleRender())}}}_toggleActionsOpen(e){const t=e.currentTarget["data-item"],{actionsOpen:i}=t,s=!i;s&&this.operationalItems.forEach((e=>Ee(e))),t.actionsOpen=s,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,i=t["data-action"],s=t["data-item"];"toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,s),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),s=t["data-item"];i===xe.exclusive&&s.visible||(s.visible=!s.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=e.currentTarget["data-item"],n=Object(m.e)(s,i),{length:a}=i;if(!t)return!a||n&&1===a?void(n?null==i.remove||i.remove(n):i.add(s)):(i.removeAll(),void i.add(s));n?null==i.remove||i.remove(n):i.add(s)}};Object(s.a)([Object(h.b)()],Pe.prototype,"visibleItems",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"iconClass",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"errorsVisible",void 0),Object(s.a)([Object(h.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Pe.prototype,"label",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"listItemCanGiveFunction",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"listItemCanReceiveFunction",void 0),Object(s.a)([Object(c.a)("viewModel.listItemCreatedFunction")],Pe.prototype,"listItemCreatedFunction",void 0),Object(s.a)([Object(h.b)(),Object(_.a)("esri/widgets/LayerList/t9n/LayerList")],Pe.prototype,"messages",void 0),Object(s.a)([Object(h.b)(),Object(_.a)("esri/t9n/common")],Pe.prototype,"messagesCommon",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"multipleSelectionEnabled",void 0),Object(s.a)([Object(c.a)("viewModel.operationalItems")],Pe.prototype,"operationalItems",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"selectionEnabled",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"selectedItems",void 0),Object(s.a)([Object(c.a)("viewModel.view")],Pe.prototype,"view",void 0),Object(s.a)([Object(v.a)("trigger-action"),Object(h.b)({type:p.a})],Pe.prototype,"viewModel",void 0),Object(s.a)([Object(h.b)()],Pe.prototype,"visibleElements",void 0),Object(s.a)([Object(d.a)("visibleElements")],Pe.prototype,"castVisibleElements",null),Object(s.a)([Object(c.a)("viewModel.triggerAction")],Pe.prototype,"triggerAction",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_toggleActionsOpen",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_triggerPanel",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_triggerAction",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_toggleVisibility",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_toggleChildrenClick",null),Object(s.a)([Object(g.a)()],Pe.prototype,"_toggleSelection",null),Pe=Object(s.a)([Object(u.a)("esri.widgets.LayerList")],Pe);const Ve=Pe},159:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(79),n=i(80);let a=0;const r=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+a++})}};return t=Object(s.a)([Object(n.a)("esri.core.Identifiable")],t),t};let l=class extends(r(class{})){};l=Object(s.a)([Object(n.a)("esri.core.Identifiable")],l)},202:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s,n=i(79),a=i(100),r=i(159),l=i(81),o=(i(84),i(82),i(83),i(80));let c=s=class extends(Object(r.a)(a.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(n.a)([Object(l.b)()],c.prototype,"active",void 0),Object(n.a)([Object(l.b)()],c.prototype,"className",void 0),Object(n.a)([Object(l.b)()],c.prototype,"disabled",void 0),Object(n.a)([Object(l.b)()],c.prototype,"id",void 0),Object(n.a)([Object(l.b)()],c.prototype,"indicator",void 0),Object(n.a)([Object(l.b)()],c.prototype,"title",void 0),Object(n.a)([Object(l.b)()],c.prototype,"type",void 0),Object(n.a)([Object(l.b)()],c.prototype,"visible",void 0),c=s=Object(n.a)([Object(o.a)("esri.support.actions.ActionBase")],c);const d=c},317:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i(112);function n(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:a(e[t])}}}function a(e){return function(t,...i){!function(e){const{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...i):Object(s.e)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},370:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s,n=i(79),a=i(81),r=(i(84),i(82),i(83),i(80)),l=i(202);let o=s=class extends l.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(n.a)([Object(a.b)()],o.prototype,"image",void 0),o=s=Object(n.a)([Object(r.a)("esri.support.Action.ActionButton")],o);const c=o},408:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s,n=i(79),a=i(81),r=(i(84),i(82),i(83),i(80)),l=i(202);let o=s=class extends l.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(n.a)([Object(a.b)()],o.prototype,"image",void 0),Object(n.a)([Object(a.b)()],o.prototype,"value",void 0),o=s=Object(n.a)([Object(r.a)("esri.support.Action.ActionToggle")],o);const c=o},480:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));i(317),i(193),i(302),i(82),i(87);i(377),i(133),i(112),i(291);function s(e){return e&&"function"==typeof e.render}function n(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},759:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return p})),i.d(t,"f",(function(){return b})),i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"k",(function(){return h}));const s="hide",n="hide-children";function a(e){if(e)return null!=e.listMode?e.listMode:void 0}function r(e){if(!e)return"inherited";const t=e.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"==typeof t)return t?"independent":"inherited";const i=e.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"==typeof i?i?"independent":"inherited":null!=e.visibilityMode?e.visibilityMode:"independent"}function l(e){if(e){if(!("type"in e))return"sublayers";if(e.listMode!==n&&"wmts"!==e.type)switch(e.type){case"group":return"layers";case"analysis":return"analyses";default:return"sublayers"}}}function o(e){const t=e&&(e.get("layer.layer")||e.layer);if(!t)return!1;const i=t.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"!=typeof i||i}function c(e){return a(e)!==s}function d(e,t){if(!e||isNaN(t))return!1;const i=function(e){if(e)return null!=e.minScale?e.minScale:void 0}(e),s=function(e){if(e)return null!=e.maxScale?e.maxScale:void 0}(e),n=!isNaN(i)&&i>0&&t>i,a=!isNaN(s)&&s>0&&t<s;return n||a}function h(e,t){e&&e.sort(((e,i)=>{const s=t.indexOf(e.uid),n=t.indexOf(i.uid);return s>n?-1:s<n?1:0}))}function u(e,t){const i=null==e?void 0:e.layer;if(!i)return;const s=l(i);s&&h(i.get(s),t)}function b(e){const t=null==e?void 0:e.layer;return t&&"group"===t.type?t.layers:null}function p(e,t){var i;const s=null==(i=e.layer)?void 0:i.uid;return s&&t.find((e=>{var t;return(null==(t=e.layer)?void 0:t.uid)===s}))}function y(e){const t=function(e){return!(null==e||!e.layer)}(e)?e:null,i=null==e?void 0:e.parent,s="map-image"===(null==i?void 0:i.type)&&t.source;return s&&i?{layer:i,title:"",sublayerIds:[s.mapLayerId]}:{layer:e,title:""}}}}]);
//# sourceMappingURL=146.12b3a0fe.chunk.js.map