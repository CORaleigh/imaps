(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[263],{1206:function(e,r,n){"use strict";n.r(r),n.d(r,"createLabelFunction",(function(){return b})),n.d(r,"formatField",(function(){return g}));var t=n(7),a=n(81),u=n(93),i=n(152),s=n(118),l=n(256),o=n(248),c=n(207),p=n(230),f=a.a.getLogger("esri.layers.support.labelFormatUtils"),v={type:"simple",evaluate:()=>null},d={getAttribute:(e,r)=>e.field(r)};function b(e,r,n){return x.apply(this,arguments)}function x(){return(x=Object(t.a)((function*(e,r,t){if(!e||!e.symbol)return v;var a,l=e.where,o=Object(p.b)(e),b=l?yield n.e(11).then(n.bind(null,272)):null;if("arcade"===o.type){var x=yield Object(i.c)(o.expression,t,r);a={type:"arcade",evaluate(e){try{var n=x.evaluate({$feature:"attributes"in e?x.repurposeFeature(e):x.repurposeAdapter(e)});if(null!=n)return n.toString()}catch(r){f.error(new u.a("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:o}))}return null},needsHydrationToEvaluate:()=>null==Object(p.e)(o.expression)}}else a={type:"simple",evaluate:e=>o.expression.replace(/{[^}]*}/g,(n=>{var t=n.slice(1,-1),a=Object(s.q)(r,t);if(!a)return n;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":g(u,a)}))};if(l){var y;try{y=b.WhereClause.create(l,new c.a(r))}catch(m){return v}var w=a.evaluate;a.evaluate=e=>{var r="attributes"in e?void 0:d;return y.testFeature(e,r)?w(e):null}}return a}))).apply(this,arguments)}function g(e,r){if(null==e)return"";var n=r.domain;if(n)if("codedValue"===n.type||"coded-value"===n.type){var t=e;for(var a of n.codedValues)if(a.code===t)return a.name}else if("range"===n.type){var u=+e,i="range"in n?n.range[0]:n.minValue,c="range"in n?n.range[1]:n.maxValue;if(i<=u&&u<=c)return n.name}var p=e;return"date"===r.type||"esriFieldTypeDate"===r.type?p=Object(l.b)(p,Object(l.a)("short-date")):Object(s.v)(r)&&(p=Object(o.b)(+p)),p||""}},230:function(e,r,n){"use strict";n.d(r,"a",(function(){return b})),n.d(r,"b",(function(){return f})),n.d(r,"c",(function(){return v})),n.d(r,"d",(function(){return d})),n.d(r,"e",(function(){return m})),n.d(r,"f",(function(){return p}));var t=n(143),a="__begin__",u="__end__",i=new RegExp(a,"ig"),s=new RegExp(u,"ig"),l=new RegExp("^"+a,"i"),o=new RegExp(u+"$","i"),c='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function f(e){var r={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(r.expression=e.labelExpressionInfo.value,r.type="conventional"):e.labelExpressionInfo.expression&&(r.expression=e.labelExpressionInfo.expression,r.type="arcade"):null!=e.labelExpression&&(r.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),r.type="conventional"),r}function v(e){var r=f(e);if(!r)return null;switch(r.type){case"conventional":return b(r.expression);case"arcade":return r.expression}return null}function d(e){var r=f(e);if(!r)return null;switch(r.type){case"conventional":return function(e){var r=e.match(x);return r&&r[1].trim()||null}(r.expression);case"arcade":return m(r.expression)}return null}function b(e){var r;return e?(r=Object(t.c)(e,(e=>a+'$feature["'+e+'"]'+u)),r=l.test(r)?r.replace(l,""):c+r,r=(r=o.test(r)?r.replace(o,""):r+c).replace(i,'" + ').replace(s,' + "')):r='""',r}var x=/^\s*\{([^}]+)\}\s*$/i;var g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function m(e){if(!e)return null;var r=g.exec(e)||y.exec(e);return r?r[1]||r[3]:(r=w.exec(e))?r[2]:null}}}]);
//# sourceMappingURL=263.569e5c08.chunk.js.map