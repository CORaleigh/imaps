{"version":3,"sources":["../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/graphics/DirectLineMeasurement3D/DirectLineMeasurement3DView.js","../node_modules/@arcgis/core/chunks/vec4f32.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariableMaterialParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js","../node_modules/@arcgis/core/core/MapUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultTextureUnits.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js"],"names":["o","t","vertex","uniforms","add","attributes","varyings","code","e","fragment","r","Math","sqrt","float","Object","freeze","__proto__","build","n","l","i","length","Array","isArray","vnodeSelector","properties","children","text","toString","domNode","push","hasOwnProperty","Error","constructor","super","this","startX","startY","endX","endY","width","color","visible","_set","render","height","left","top","s","x1","x2","y1","p","y2","a","calculateCoordinates","h","strokeStyle","lineCap","classes","styles","visibility","style","renderCanvas","lineWidth","beginPath","moveTo","lineTo","stroke","min","max","prototype","readOnly","bottom","center","right","x","y","fontSize","anchor","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","floor","padding","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","fill","c","d","_renderTextShadow","fillText","lineJoin","arcTo","closePath","cos","PI","sin","f","view","_handles","_textItem","_calloutItem","_showCallout","_showText","_geometry","_text","_fontSize","_distance","_anchor","applyProps","_updateLabelPosition","attached","overlaps","textItem","overlay","geometry","_stage","type","_computeLabelPositionFromPoint","k","position","_computeLabelPositionFromCorner","z","_updatePosition","_computeLabelPositionFromSegment","updateVisibility","renderCoordsHelper","toRenderCoords","L","camera","projectToRenderScreen","R","renderToScreen","w","P","T","j","m","endRenderSpace","pixelRatio","segment","startRenderSpace","_","u","eval","H","sampleLocation","abs","startPosition","endPosition","createResources","v","b","items","addMany","state","watch","destroyResources","destroyed","removeMany","removeAll","I","S","C","M","V","F","g","start","end","initializeProgram","shader","get","rctx","generateSource","bindPass","bindProjectionMatrix","program","projectionMatrix","setUniform1f","outlineSize","setUniform4fv","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","bindDraw","bindView","initializePipeline","polygonOffset","configuration","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","arguments","techniqueConfig","getTechniqueConfig","params","dispose","getPassParameters","intersect","createBufferWriter","getGLMaterial","output","updateParameters","technique","techniqueRep","acquireAndReleaseExisting","material","beginSlot","bind","bindProgram","vec3f","vec2f","f32","q","vertexBufferLayout","allocate","createBuffer","elementCount","indices","write","vertexAttributes","data","console","warn","transformation","invTranspTransformation","normal","A","uv0","setVec","set","B","auxpos1","_parameters","_origin","_originTransform","_arrowCenter","_renderOccluded","_stripeLength","_stripesEnabled","_arrowMaterial","setParameterValues","renderOccluded","geometryChanged","arrowStripeEvenColor","arrowStripeOddColor","createExternalResources","arrowOutlineColor","viewChanged","destroyExternalResources","destroy","forEachExternalMaterial","createGeometries","_createArrowGeometry","addGeometry","worldUpAtPosition","arrowSubdivisions","createPolylineGeometry","recreateGeometry","ready","computeScreenPixelSizeAt","arrowWidth","arrowOutlineWidth","arrowStripeLength","U","_params","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_segmentLabel","_verticalLabel","_horizontalLabel","_segmentLabelDisplayedMeasurement","_startPosition","_endPosition","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","_viewMode","_geometryDirty","messages","_visualizedMeasurement","_actualVisualizedMeasurement","_visualElementOrientation","_triangleOrientationOverride","_triangleCollapseRatioThreshold","_geodesicDistanceThreshold","initialize","_initialize","triangleLineWidth","triangleColor","geodesicProjectionLineWidth","geodesicProjectionLineColor","stipplePattern","guideStippleLengthPixels","stippleIntegerRepeats","guideLineWidth","direcLabelFontSize","verticalLabelFontSize","horizontalLabelFontSize","dataObject","_update","_updateLabels","_updateSegmentStripeLength","async","_updateMessageBundle","then","_getActualVisualElementsOrientation","actualVisualizedMeasurement","direct","horizontalLabel","segmentLabel","horizontal","vertical","verticalLabel","labels","_updateGeometryAndViewMode","startPoint","endPoint","equals","_updateActualVisualizedMeasurement","_computeViewMode","getAltitude","G","spatialReference","previous","next","J","K","N","X","Y","W","setAltitude","setGeometryFromSegment","measurement","verticalDistance","horizontalDistance","euclideanDistance","geodesicDistance","directDistance","geodesicAngle","settings","unit","E","D","O","notifyChange","toUnit","value","metersPerDegree","Q","stripesEnabled","geodesicDistanceThreshold","triangleCollapseRatioThreshold","visualElementsOrientation","aboveGround","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleCornerSize","triangleSubdivisions","guideLineColor","labelDistance","Float32Array","create","clone","fromValues","createView","zeros","ones","unitX","unitY","unitZ","unitW","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","UNIT_W","vvInstancingEnabled","vvSize","vvColor","constants","vvSizeEnabled","setUniform3fv","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorEnabled","setUniform1fv","vvColorValues","vvColorColors","bindUniforms","bindUniformsWithOpacity","vvOpacityEnabled","vvOpacityValues","vvOpacityOpacities","bindUniformsForSymbols","vvSymbolAnchor","setUniformMatrix3fv","vvSymbolRotationMatrix","_resources","_transform","object","layer","commit","recreate","geometries","removeAllGeometries","setVisible","isPickable","castShadow","remove","Default","vvSizeValue","subdivisionFactor","auxpos2","size","sizeFeatureAttribute","colorFeatureAttribute","opacityFeatureAttribute","stippleTextureBind","stippleTextureRepository","OITEnabled","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","stippleEnabled","stippleOffColorEnabled","stippleUVMaxEnabled","stippleIntegerRepeatsEnabled","roundCaps","roundJoins","vvOpacity","falloffEnabled","innerColorEnabled","multipassTerrainEnabled","cullAboveGround","release","bindOutputHighlight","setUniform2fv","inverseViewport","join","miterLimit","nearFar","setUniform2f","fullViewport","swap","setUniform1i","stippleOffColor","setUniform4f","falloff","innerColor","innerWidth","bindUniformsWithOrigin","setPipelineState","blending","transparent","writeDepth","stencilWrite","sceneHasOcludees","stencilTest","occluder","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipelineState","getPipelineState","pipeline","count","getLogger","_vertexAttributeLocations","layout","createLayout","isClosed","cap","intersectDrapedLineGeometry","intersectLineGeometry","options","selectionMode","screenToWorldRatio","Number","MAX_VALUE","error","has","point","Z","unprojectFromRenderScreen","$","fromPoints","eye","ee","te","ie","se","signedDistance","frustum","distance2","rayBeginPoint","rayEndPoint","closestLineSegmentPoint","computeAttachmentOrigin","vec4f","validateParameterValues","requiresTransparent","colorRequiresTransparent","targetSlot","_updateOccludeeState","hasOccludees","ensureParameters","vvFastUpdate","numJoinSubdivisions","numCapSubdivisions","buffer","stride","mode","requiresAlignment","applyElevationAlignmentBuffer","array","offset","verticalDistanceToGround","sampledElevation","geometryZWithOffset","NONE","UPDATE","RECREATE","calculateOffsetRenderUnits","featureExpressionInfoContext","meterUnitOffset","getElevation","extensions","include","DIFFUSE","NORMAL","EMISSION","OCCLUSION","METALLIC_ROUGHNESS","SSAO","SHADOW_MAP","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_color","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","exclusive","Uint16Array","createRenderGeometry","points","normals","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","measure"],"mappings":"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","file":"static/js/103.617a2bd4.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(){const o=new t;o.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"width\",\"float\"),o.attributes.add(\"position\",\"vec3\"),o.attributes.add(\"normal\",\"vec3\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"auxpos1\",\"float\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vlength\",\"float\"),o.varyings.add(\"vradius\",\"float\"),o.vertex.code.add(e`\n    void main(void) {\n      vec3 bitangent = normal;\n\n      vtc = uv0;\n      vlength = auxpos1;\n      vradius = 0.5 * width;\n\n      vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\n      gl_Position = proj * pos;\n    }\n  `),o.fragment.uniforms.add(\"outlineSize\",\"float\").add(\"outlineColor\",\"vec4\").add(\"stripeLength\",\"float\").add(\"stripeEvenColor\",\"vec4\").add(\"stripeOddColor\",\"vec4\");const r=1/Math.sqrt(2);return o.fragment.code.add(e`\n    const float INV_SQRT2 = ${e.float(r)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),o}var r=Object.freeze({__proto__:null,build:o});export{r as M,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends i{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:p,y2:a}=this.calculateCoordinates(h),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:p,x2:n,y2:a,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([e()],r.prototype,\"startX\",void 0),t([e()],r.prototype,\"startY\",void 0),t([e()],r.prototype,\"endX\",void 0),t([e()],r.prototype,\"endY\",void 0),t([e()],r.prototype,\"startPosition\",null),t([e()],r.prototype,\"endPosition\",null),t([e()],r.prototype,\"width\",void 0),t([e()],r.prototype,\"color\",void 0),t([e()],r.prototype,\"visible\",void 0),t([e({readOnly:!0})],r.prototype,\"strokeStyle\",null),r=t([s(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var n=r;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends i{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=n[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const h=r+2*o,a=s+2*o,x=this.x+l.x*h,p=this.y+l.y*a;this.roundedRect(t,x,p,h,a,i),t.fillStyle=this.backgroundColor,t.fill();const c=this.x+(l.x+.5)*h,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,c,d),t.fillStyle=this.textColor,t.fillText(this.text,c,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/h.length})`;const r=this.textShadowSize;for(const[s,l]of h)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([e()],l.prototype,\"x\",void 0),t([e()],l.prototype,\"y\",void 0),t([e()],l.prototype,\"position\",null),t([e()],l.prototype,\"text\",void 0),t([e()],l.prototype,\"fontSize\",void 0),t([e()],l.prototype,\"anchor\",void 0),t([e()],l.prototype,\"visible\",void 0),t([e()],l.prototype,\"padding\",null),l=t([o(\"esri.views.overlay.TextOverlayItem\")],l);const n={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,unwrap as e}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as s,createRenderScreenPointArray3 as i,createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as a}from\"../../../../chunks/vec3.js\";import n from\"../../../../core/Handles.js\";import{n as h,h as c,e as m,a as l,s as _,l as u,d as p}from\"../../../../chunks/vec2.js\";import{VisualElement as d}from\"./VisualElement.js\";import{screenSpaceTangent as x}from\"../measurementTools/support/viewUtils.js\";import b from\"../../../overlay/LineOverlayItem.js\";import v from\"../../../overlay/TextOverlayItem.js\";class f extends d{constructor(t){super(t.view),this._handles=new n,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(t)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}overlaps(t){return this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem)}_updateLabelPosition(){if(this.attached){if(this._showText=!1,this._showCallout=!1,t(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":this._computeLabelPositionFromPoint(this.geometry,k)&&(this._textItem.position=[k[0],k[1]],this._textItem.anchor=\"center\",this._showText=!0);break;case\"corner\":this._computeLabelPositionFromCorner(this.geometry,this._distance,k,z)&&(this._showCallout=this._updatePosition(k,z),this._showText=!0);break;case\"segment\":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,k,z)&&(this._showText=!0,this._showCallout=this._updatePosition(k,z))}this.updateVisibility(this.visible)}}_computeLabelPositionFromPoint(t,e){this.view.renderCoordsHelper.toRenderCoords(t,L);const s=this.view._stage.camera;return s.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(s.renderToScreen(R,e),!0)}_computeLabelPositionFromCorner(t,e,s,i){if(!t)return!1;const o=this.view._stage.camera;return w(t.left,1,o,P),h(P,P),w(t.right,0,o,T),c(j,P,T),h(j,j),m(j,j),o.projectToRenderScreen(t.left.endRenderSpace,R),!(R[2]<0||R[2]>1)&&(o.renderToScreen(R,s),l(j,j,e*o.pixelRatio),c(j,j,R),o.renderToScreen(j,i),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const r=t.segment,a=this.view._stage.camera;x(r.startRenderSpace,r.endRenderSpace,P,a),_(j,-P[1],P[0]);let n=!1;switch(s){case\"top\":n=j[1]<0;break;case\"bottom\":n=j[1]>0;break;case\"left\":n=j[0]>0;break;case\"right\":n=j[0]<0}if(n&&h(j,j),0===u(j))switch(s){case\"top\":j[1]=1;break;case\"bottom\":j[1]=-1;break;case\"left\":j[0]=-1;break;case\"right\":j[0]=1}return r.eval(H[t.sampleLocation],L),a.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(a.renderToScreen(R,i),l(j,j,e*a.pixelRatio),c(j,j,R),a.renderToScreen(j,o),!0)}_updatePosition(t,e){if(e){const s=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(s)>Math.abs(i)?s>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new v({visible:!0}),this._textItem.text=e(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new b({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateLabelPosition()})))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,s,i){t.eval(e,I,S),a(y,I,S),s.projectToRenderScreen(I,C),s.projectToRenderScreen(y,M),p(i,V,F),m(i,i)}function g(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const I=r(),y=r(),S=r(),P=s(),T=s(),j=s(),L=r(),R=i(),k=o(),z=o(),C=i(),F=C,M=i(),V=M,H={start:0,center:.5,end:1};export{f as LabelVisualElement,g as mirrorPosition,w as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as m,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";import{View as p}from\"../core/shaderLibrary/util/View.glsl.js\";import{M as f}from\"../../../../chunks/MeasurementArrow.glsl.js\";class h extends t{constructor(r,e){super(r,e)}initializeProgram(r){const e=h.shader.get().build();return new n(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),s)}bindPass(r,e,t){p.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"width\",e.width),this.program.setUniform1f(\"outlineSize\",e.outlineSize),this.program.setUniform4fv(\"outlineColor\",e.outlineColor),this.program.setUniform1f(\"stripeLength\",e.stripeLength),this.program.setUniform4fv(\"stripeEvenColor\",e.stripeEvenColor),this.program.setUniform4fv(\"stripeOddColor\",e.stripeOddColor)}bindDraw(r){p.bindView(this.program,r)}initializePipeline(){return a({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:m,colorWrite:l})}get primitiveType(){return 5}}h.shader=new e(f,(()=>import(\"./MeasurementArrow.glsl.js\")));class d extends o{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([i()],d.prototype,\"polygonOffsetEnabled\",void 0);export{h as MeasurementArrowTechnique,d as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{s as t,n as s,f as r,c as i,k as n,i as o}from\"../../../../chunks/vec3.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as u,materialParametersDefaults as f}from\"../lib/Material.js\";import{MeasurementArrowTechniqueConfiguration as l,MeasurementArrowTechnique as p}from\"../shaders/MeasurementArrowTechnique.js\";class h extends u{constructor(e){super(e,g),this.techniqueConfig=new l}getTechniqueConfig(){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig}dispose(){}getPassParameters(){return this.params}intersect(){}createBufferWriter(){return new w}getGLMaterial(e){return 0===e.output?new m(e):void 0}}class m extends c{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(p,this.material.getTechniqueConfig(),this.technique)}beginSlot(e){return 3===e}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const g={width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1,...f},d=a().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").f32(\"auxpos1\"),v=e(),q=e(),b=e(),x=e(),C=e();class w{constructor(){this.vertexBufferLayout=d}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices.get(\"position\").length/2+1)}write(e,a,c,u){const f=a.vertexAttributes.get(\"position\").data,l=a.vertexAttributes.get(\"normal\").data,p=f.length/3,h=a&&a.indices&&a.indices.get(\"position\");h&&h.length!==2*(p-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const m=v,g=q,d=b,w=x,P=C,j=e.transformation,y=e.invTranspTransformation,L=c.position,M=c.normal,A=c.uv0;let T=0;for(let v=0;v<p;++v){const e=3*v;if(t(m,f[e],f[e+1],f[e+2]),v<p-1){const e=3*(v+1);t(g,f[e],f[e+1],f[e+2]),t(P,l[e],l[e+1],l[e+2]),s(P,P),r(d,g,m),s(d,d),i(w,P,d),s(w,w)}const a=n(m,g);j&&y&&(o(m,m,j),o(g,g,j),o(w,w,y));const c=u+2*v,h=c+1;L.setVec(c,m),L.setVec(h,m),M.setVec(c,w),M.setVec(h,w),A.set(c,0,T),A.set(c,1,-1),A.set(h,0,T),A.set(h,1,1),v<p-1&&(T+=a)}const B=c.auxpos1;for(let t=0;t<2*p;++t)B.set(u+t,T)}}export{h as MeasurementArrowMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import i from\"../../../../core/Handles.js\";import{a}from\"../../../../chunks/mat4f64.js\";import{sv3d as o}from\"../../support/stack.js\";import n from\"../../webgl-engine/lib/GeometryUtil.js\";import{Object3DVisualElement as h}from\"./Object3DVisualElement.js\";import{MeasurementArrowMaterial as l}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class d extends h{constructor(e){super(e),this._parameters=c,this._handles=null,this._origin=t(),this._originTransform=a(),this._arrowCenter=t(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial.setParameterValues({stripeEvenColor:e})}}createExternalResources(){const e=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial=new l({outlineColor:this._parameters.arrowOutlineColor,stripeEvenColor:e,stripeOddColor:this._parameters.arrowStripeOddColor,renderOccluded:this.renderOccluded,polygonOffset:!0}),this._handles=new i,this._handles.add(this.view.state.watch(\"camera\",(()=>{this.viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(r){if(e(this._geometry)||e(this._geometry.startRenderSpace)||e(this._geometry.endRenderSpace))return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);r.addGeometry(t,this._arrowMaterial,this._originTransform),this.viewChanged()}_createArrowGeometry(e,r,t,i){const a=this.view.renderCoordsHelper,h=[],l=[],d=(e,r)=>{const i=o.get();s(i,e,t),h.push(i),l.push(r)};if(\"euclidean\"===i.type){i.eval(.5,this._arrowCenter);const t=o.get();a.worldUpAtPosition(this._arrowCenter,t),d(e,t),d(r,t)}else{i.eval(.5,this._arrowCenter);const e=this._parameters.arrowSubdivisions+1&-2;for(let r=0;r<e;++r){const t=r/(e-1),s=o.get(),n=o.get();i.eval(t,s),a.worldUpAtPosition(s,n),d(s,n)}}return n.createPolylineGeometry(h,l)}geometryChanged(){this.recreateGeometry()}viewChanged(){if(this.view.ready&&this.attached&&r(this._geometry)){const e=this.view._stage.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}}const c={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128};export{d as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isNone as t,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Accessor.js\";import{onLocaleChange as r}from\"../../../../../intl/locale.js\";import{sign as o,nextHighestPowerOfTen as l,deg2rad as h}from\"../../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as c,createRenderScreenPointArray as d}from\"../../../../../core/screenUtils.js\";import{fetchMessageBundle as u}from\"../../../../../intl/messages.js\";import\"../../../../../intl.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{g,a as _,b as p}from\"../../../../../chunks/vec3.js\";import v from\"../../../../../core/Handles.js\";import{whenOnce as b}from\"../../../../../core/watchUtils.js\";import{getReferenceEllipsoid as L}from\"../../../../../geometry/projectionEllipsoid.js\";import{preferredImperialLengthUnit as w,convertUnit as y}from\"../../../../../core/unitUtils.js\";import{formatDecimal as j,formatDMS as z,formatImperialLength as f,formatImperialVerticalLength as O,formatMetricLength as E,formatMetricVerticalLength as D}from\"../../../../../core/quantityFormatUtils.js\";import{g as S}from\"../../../../../chunks/vec2.js\";import{f as P}from\"../../../../../chunks/vec4f32.js\";import{createStipplePatternSimple as M}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{RightAngleQuadVisualElement as V}from\"../../visualElements/RightAngleQuadVisualElement.js\";import{screenSpaceTangent as A}from\"../../measurementTools/support/viewUtils.js\";import{LabelVisualElement as C,mirrorPosition as k}from\"../../visualElements/LabelVisualElement.js\";import{LineVisualElement as H}from\"../../visualElements/LineVisualElement.js\";import{GeodesicSegment as G,EuclideanSegment as R}from\"../../visualElements/support/Segment.js\";import{MeasurementArrowVisualElement as T}from\"../../visualElements/MeasurementArrowVisualElement.js\";let U=class extends n{constructor(e){super(e),this._params={...B},this._handles=new v,this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._segmentLabelDisplayedMeasurement=\"euclidean\",this._startPosition=m(),this._endPosition=m(),this._cornerPosition=m(),this._startPositionAtSeaLevel=m(),this._endPositionAtSeaLevel=m(),this._viewMode=\"none\",this._geometryDirty=!0,this.state=\"pending\",this.messages=null,this._visualizedMeasurement=\"auto\",this._actualVisualizedMeasurement=\"euclidean\",this._visualElementOrientation=\"auto\",this._triangleOrientationOverride=null,this._triangleCollapseRatioThreshold=.03,this._geodesicDistanceThreshold=1e5}initialize(){this._handles.add(b(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){switch(this.state){case\"ready\":throw new Error(\"invalid state\");case\"destroyed\":return}this._segmentVisualElement=new T({attached:!0,view:this.view,geometry:null,renderOccluded:4}),this._triangleVisualElement=new H({attached:!0,view:this.view,width:this._params.triangleLineWidth,color:this._params.triangleColor,renderOccluded:4}),this._rightAngleQuad=new V({attached:!0,view:this.view,color:I,renderOccluded:4}),this._projectedGeodesicLine=new H({attached:!0,view:this.view,width:this._params.geodesicProjectionLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:M(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicStartHint=new H({attached:!0,view:this.view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:M(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._geodesicEndHint=new H({attached:!0,view:this.view,width:this._params.guideLineWidth,color:this._params.geodesicProjectionLineColor,polygonOffset:!0,stipplePattern:M(this._params.guideStippleLengthPixels),stippleIntegerRepeats:!1,renderOccluded:4}),this._segmentLabel=new C({attached:!0,view:this.view,fontSize:this._params.direcLabelFontSize}),this._verticalLabel=new C({attached:!0,view:this.view,fontSize:this._params.verticalLabelFontSize}),this._horizontalLabel=new C({attached:!0,view:this.view,fontSize:this._params.horizontalLabelFontSize}),this._handles.add([this.dataObject.watch(\"visible\",(()=>this._update(!1)),!0),this.dataObject.watch(\"startPoint\",(()=>this._update()),!0),this.dataObject.watch(\"endPoint\",(()=>this._update()),!0),this.dataObject.watch(\"measurement\",(()=>this._update()),!0),this.dataObject.watch(\"settings.unit\",(()=>{this._updateLabels(),this._updateSegmentStripeLength()}),!0),this.view.state.watch(\"camera\",(()=>this._update()),!0),r((async()=>this._updateMessageBundle()))]),this._set(\"state\",\"ready\"),this._updateMessageBundle(),this._update()}async whenReady(){return b(this,\"ready\").then((()=>{}))}get ready(){return\"ready\"===this.state}get viewMode(){return this._viewMode}get visualizedMeasurement(){return this._visualizedMeasurement}set visualizedMeasurement(e){e!==this._visualizedMeasurement&&(this._visualizedMeasurement=e,this._update())}get actualVisualizedMeasurement(){return this._actualVisualizedMeasurement}get visualElementsOrientation(){return this._visualElementOrientation}set visualElementsOrientation(e){e!==this._visualElementOrientation&&(this._visualElementOrientation=e,this._update())}get allowVisualElementsOrientationChange(){return t(this._triangleOrientationOverride)}set allowVisualElementsOrientationChange(e){t(this._triangleOrientationOverride)!==e&&(t(this._triangleOrientationOverride)?this._triangleOrientationOverride=this._getActualVisualElementsOrientation():(this._triangleOrientationOverride=null,this._update()))}get triangleCollapseRatioThreshold(){return this._triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._triangleCollapseRatioThreshold=e,this._update()}get geodesicDistanceThreshold(){return this._geodesicDistanceThreshold}set geodesicDistanceThreshold(e){this._geodesicDistanceThreshold=e,this._update()}get segmentLabel(){return this._segmentLabel}get horizontalLabel(){return this._horizontalLabel}get verticalLabel(){return this._verticalLabel}get testData(){let e=null;const t=\"geodesic\"===this.actualVisualizedMeasurement;return e={direct:t?this.horizontalLabel:this.segmentLabel,horizontal:t?this.segmentLabel:this.horizontalLabel,vertical:this.verticalLabel},{labels:e,stripeLength:this._segmentVisualElement.stripeLength}}_update(e=!0){switch(this.state){case\"destroyed\":case\"pending\":return}const t=this.dataObject.visible;switch(this._geometryDirty=e,this._geometryDirty&&t&&(this._updateGeometryAndViewMode(),this._geometryDirty=!1),this._viewMode){case\"none\":this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case\"segment\":this._segmentVisualElement.visible=t,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case\"segment-and-triangle\":this._segmentVisualElement.visible=t,this._triangleVisualElement.visible=t,this._rightAngleQuad.visible=t,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1;break;case\"segment-and-projection\":this._segmentVisualElement.visible=t,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}this._updateLabels()}destroy(){switch(this.state){case\"destroyed\":case\"pending\":return}this._handles.destroy(),this._segmentVisualElement.destroy(),this._segmentVisualElement=null,this._triangleVisualElement.destroy(),this._triangleVisualElement=null,this._rightAngleQuad.destroy(),this._rightAngleQuad=null,this._projectedGeodesicLine.destroy(),this._projectedGeodesicLine=null,this._geodesicStartHint.destroy(),this._geodesicStartHint=null,this._geodesicEndHint.destroy(),this._geodesicEndHint=null,this._segmentLabel.destroy(),this._segmentLabel=null,this._verticalLabel.destroy(),this._verticalLabel=null,this._horizontalLabel.destroy(),this._horizontalLabel=null,this.set(\"view\",null),this._set(\"state\",\"destroyed\")}_updateGeometryAndViewMode(){const e=this.view,i=e.renderCoordsHelper;if(t(this.dataObject.startPoint)||t(this.dataObject.endPoint)||this.dataObject.startPoint.equals(this.dataObject.endPoint))return this._viewMode=\"none\",void(this._actualVisualizedMeasurement=\"auto\"===this._visualizedMeasurement?\"euclidean\":this._visualizedMeasurement);i.toRenderCoords(this.dataObject.startPoint,this._startPosition),i.toRenderCoords(this.dataObject.endPoint,this._endPosition);const s=this._getActualVisualElementsOrientation(),a=this._updateActualVisualizedMeasurement();this._viewMode=this._computeViewMode(a);let n=this._startPosition,r=this._endPosition;const o=\"above-segment\"===s?1:-1,l=o*(i.getAltitude(r)-i.getAltitude(n));l<0&&(n=this._endPosition,r=this._startPosition);const h=\"geodesic\"===a?new G(this._startPosition,this._endPosition,i.spatialReference):new R(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=h,this._updateSegmentStripeLength(),this._segmentLabelDisplayedMeasurement=a,this._viewMode){case\"segment\":this._segmentLabel.anchor=\"above-segment\"===s?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:h,sampleLocation:\"center\"};break;case\"segment-and-triangle\":{const t=this._cornerPosition;i.worldUpAtPosition(n,t),_(t,t,o*Math.abs(l)),p(t,t,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[t[0],t[1],t[2]],[r[0],r[1],r[2]]]],this._rightAngleQuad.geometry={previous:n,center:t,next:r};const a=new R(n,t),c=new R(t,r),d=W(n,r,t,s,e.state.camera);this._segmentLabel.geometry={type:\"segment\",segment:h,sampleLocation:\"center\"},this._segmentLabel.anchor=d.segment,this._verticalLabel.geometry={type:\"segment\",segment:a,sampleLocation:\"center\"},this._verticalLabel.anchor=d.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._horizontalLabel.anchor=d.horizontal;break}case\"segment-and-projection\":{g(this._startPositionAtSeaLevel,this._startPosition),g(this._endPositionAtSeaLevel,this._endPosition),i.setAltitude(0,this._startPositionAtSeaLevel),i.setAltitude(0,this._endPositionAtSeaLevel);const e=new G(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,i.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(e),this._geodesicStartHint.setGeometryFromSegment(new R(this._startPositionAtSeaLevel,this._startPosition)),this._geodesicEndHint.setGeometryFromSegment(new R(this._endPositionAtSeaLevel,this._endPosition)),this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"},this._segmentLabel.anchor=\"above-segment\"===s?\"top\":\"bottom\";break}}}_updateLabels(){switch(this.state){case\"pending\":case\"destroyed\":return}const e=this.messages,i=this.dataObject.measurement;if(t(i)||!e)return this._segmentLabel.visible=!1,this._horizontalLabel.visible=!1,void(this._verticalLabel.visible=!1);const s={verticalDistance:\"\",horizontalDistance:\"\",euclideanDistance:\"\",geodesicDistance:\"\"},a=i.directDistance,n=i.horizontalDistance,r=i.verticalDistance,o=i.geodesicDistance,l=i.geodesicAngle;switch(this.dataObject.settings.unit){case\"metric\":s.euclideanDistance=a&&E(e,a),s.horizontalDistance=n&&E(e,n),s.verticalDistance=r&&D(e,r),s.geodesicDistance=o&&E(e,o);break;case\"imperial\":s.euclideanDistance=a&&f(e,a),s.horizontalDistance=n&&f(e,n),s.verticalDistance=r&&O(e,r),s.geodesicDistance=o&&f(e,o);break;case\"degrees\":{const t=l&&j(e,l,\"degrees\");s.euclideanDistance=t,s.horizontalDistance=t,s.geodesicDistance=t;break}case\"degrees-minutes-seconds\":s.horizontalDistance=l&&z(l);break;default:{const t=this.dataObject.settings.unit;s.euclideanDistance=a&&j(e,a,t),s.horizontalDistance=n&&j(e,n,t),s.verticalDistance=r&&j(e,r,t),s.geodesicDistance=o&&j(e,o,t);break}}this._segmentLabel.text=\"euclidean\"===this._segmentLabelDisplayedMeasurement?s.euclideanDistance:s.geodesicDistance,this._horizontalLabel.text=s.horizontalDistance,this._verticalLabel.text=s.verticalDistance;const h=this.dataObject.visible;switch(this._viewMode){case\"none\":this._segmentLabel.visible=!1,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1;break;case\"segment\":this._segmentLabel.visible=h,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1;break;case\"segment-and-triangle\":this._segmentLabel.visible=h,this._horizontalLabel.visible=h,this._verticalLabel.visible=h;break;case\"segment-and-projection\":this._segmentLabel.visible=h,this._horizontalLabel.visible=!1,this._verticalLabel.visible=!1}this.notifyChange(\"segmentLabel\"),this.notifyChange(\"horizontalLabel\"),this.notifyChange(\"verticalLabel\")}_updateSegmentStripeLength(){const e=Q(this.view,this.dataObject);i(e)?(this._segmentVisualElement.stripeLength=e,this._segmentVisualElement.stripesEnabled=!0):this._segmentVisualElement.stripesEnabled=!1}_computeViewMode(e){const i=this.dataObject,s=i.measurement;if(\"geodesic\"===e){if(!x(i,this.geodesicDistanceThreshold))return\"segment\";if(F(this.view,this._startPosition)||F(this.view,this._endPosition))return\"segment-and-projection\"}if(t(s))return\"segment\";return Math.min(s.verticalDistance.value/s.horizontalDistance.value,s.horizontalDistance.value/s.verticalDistance.value)<this.triangleCollapseRatioThreshold?\"segment\":\"segment-and-triangle\"}_getActualVisualElementsOrientation(){return i(this._triangleOrientationOverride)?this._triangleOrientationOverride:\"auto\"===this.visualElementsOrientation?this.view.state.camera.aboveGround?\"above-segment\":\"below-segment\":this.visualElementsOrientation}_updateActualVisualizedMeasurement(){if(\"auto\"===this._visualizedMeasurement){this._actualVisualizedMeasurement=\"euclidean\";const e=this.dataObject.settings.unit;\"degrees\"!==e&&\"degrees-minutes-seconds\"!==e||(this._actualVisualizedMeasurement=\"geodesic\"),x(this.dataObject,this.geodesicDistanceThreshold)&&(this._actualVisualizedMeasurement=\"geodesic\")}else this._actualVisualizedMeasurement=this._visualizedMeasurement;return this._actualVisualizedMeasurement}_updateMessageBundle(){u(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._updateLabels()}))}};function x(e,t){return i(e.measurement)&&e.measurement.horizontalDistance&&e.measurement.horizontalDistance.value>t}function F(e,t){if(!e.state)return!1;const i=e.state.camera,s=e.renderCoordsHelper,a=i.computeScreenPixelSizeAt(t);return s.getAltitude(t)/a>=10}function W(e,t,i,s,a){const n=J,r=K;a.projectToRenderScreen(i,n),a.projectToRenderScreen(t,r);const l={segment:\"bottom\",horizontal:\"top\",vertical:n[0]<r[0]?\"left\":\"right\"};{const s=N,n=X;if(A(e,i,s,a),A(e,t,n,a),S(s,n)>=q)l.segment=o(s[1])===o(n[1])?k(l.vertical):l.vertical;else{const e=Y;A(i,t,e,a),S(e,n)>=q&&(l.segment=o(e[0])===o(n[0])?k(l.horizontal):l.horizontal)}}if(\"below-segment\"===s){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}function Q(e,t){let s=null;if(i(t.measurement)){const e=t.measurement.directDistance;switch(t.settings.unit){case\"metric\":s=e&&e.toUnit(\"meters\");break;case\"imperial\":s=e&&e.toUnit(w(e.value,e.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const e=t.measurement.geodesicAngle;s=e&&e.toUnit(\"degrees\");break}default:s=e&&e.toUnit(t.settings.unit)}}if(s){let t=1;return t=l(s.value/30),t*=\"degrees\"===s.unit?L(e.spatialReference).metersPerDegree:y(1,s.unit,\"meters\"),t}return null}e([s({readOnly:!0})],U.prototype,\"state\",void 0),e([s()],U.prototype,\"ready\",null),e([s()],U.prototype,\"messages\",void 0),e([s()],U.prototype,\"view\",void 0),e([s()],U.prototype,\"dataObject\",void 0),e([s()],U.prototype,\"viewMode\",null),e([s()],U.prototype,\"segmentLabel\",null),e([s()],U.prototype,\"horizontalLabel\",null),e([s()],U.prototype,\"verticalLabel\",null),U=e([a(\"esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DView\")],U);const I=P(1,.5,0,.75),B={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:I,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:I,guideLineWidth:2,guideLineColor:I,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12},q=Math.cos(h(12)),J=c(),K=c(),N=d(),X=d(),Y=d();export{U as DirectLineMeasurement3DView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(4)}function r(n){const r=new Float32Array(4);return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}function t(n,r,t,a){const e=new Float32Array(4);return e[0]=n,e[1]=r,e[2]=t,e[3]=a,e}function a(n,r){return new Float32Array(n,r,4)}function e(){return n()}function u(){return t(1,1,1,1)}function o(){return t(1,0,0,0)}function s(){return t(0,1,0,0)}function c(){return t(0,0,1,0)}function i(){return t(0,0,0,1)}const f=e(),l=u(),_=o(),w=s(),N=c(),U=i();var y=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,createView:a,zeros:e,ones:u,unitX:o,unitY:s,unitZ:c,unitW:i,ZEROS:f,ONES:l,UNIT_X:_,UNIT_Y:w,UNIT_Z:N,UNIT_W:U});export{l as O,_ as U,f as Z,r as a,a as b,n as c,s as d,c as e,t as f,i as g,w as h,N as i,U as j,u as o,o as u,y as v,e as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as v}from\"../../shaderModules/interfaces.js\";function e(e,o){o.vvInstancingEnabled&&(o.vvSize||o.vvColor)&&e.attributes.add(\"instanceFeatureAttribute\",\"vec4\"),o.vvSize?(e.vertex.uniforms.add(\"vvSizeMinSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeMaxSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeOffset\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeFactor\",\"vec3\"),e.vertex.uniforms.add(\"vvSymbolRotationMatrix\",\"mat3\"),e.vertex.uniforms.add(\"vvSymbolAnchor\",\"vec3\"),e.vertex.code.add(v`\n      vec3 vvScale(vec4 _featureAttribute) {\n        return clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n      }\n\n      vec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\n        return vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n      }\n    `),e.vertex.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`\n      vec4 localPosition() { return vec4(position, 1.0); }\n\n      vec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }\n    `),o.vvColor?(e.vertex.constants.add(\"vvColorNumber\",\"int\",8),e.vertex.code.add(v`\n      uniform float vvColorValues[vvColorNumber];\n      uniform vec4 vvColorColors[vvColorNumber];\n\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`\n      vec4 vvColor() { return vec4(1.0); }\n    `)}!function(v){function e(v,e){e.vvSizeEnabled&&(v.setUniform3fv(\"vvSizeMinSize\",e.vvSizeMinSize),v.setUniform3fv(\"vvSizeMaxSize\",e.vvSizeMaxSize),v.setUniform3fv(\"vvSizeOffset\",e.vvSizeOffset),v.setUniform3fv(\"vvSizeFactor\",e.vvSizeFactor)),e.vvColorEnabled&&(v.setUniform1fv(\"vvColorValues\",e.vvColorValues),v.setUniform4fv(\"vvColorColors\",e.vvColorColors))}function o(v,o){e(v,o),o.vvOpacityEnabled&&(v.setUniform1fv(\"vvOpacityValues\",o.vvOpacityValues),v.setUniform1fv(\"vvOpacityOpacities\",o.vvOpacityOpacities))}function r(v,o){e(v,o),o.vvSizeEnabled&&(v.setUniform3fv(\"vvSymbolAnchor\",o.vvSymbolAnchor),v.setUniformMatrix3fv(\"vvSymbolRotationMatrix\",o.vvSymbolRotationMatrix))}v.bindUniforms=e,v.bindUniformsWithOpacity=o,v.bindUniformsForSymbols=r}(e||(e={}));export{e as VisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{a as t}from\"../../../../chunks/mat4f64.js\";import{Object3D as o}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";import{VisualElement as c}from\"./VisualElement.js\";class a extends c{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform,this._resources.layer.commit())}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries),this._resources.layer.commit()}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new i({isPickable:!1});e.add(s);const r=new o({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),s.commit(),this.visible||(r.setVisible(!1),s.commit()),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||(this._resources.object.setVisible(e),this._resources.layer.commit())}}export{a as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as v}from\"../../../../chunks/mat3f64.js\";import{f as a}from\"../../../../chunks/vec3f32.js\";var e;!function(e){e.Default={vvSizeEnabled:!1,vvSizeMinSize:a(1,1,1),vvSizeMaxSize:a(100,100,100),vvSizeOffset:a(0,0,0),vvSizeFactor:a(1,1,1),vvSizeValue:a(1,1,1),vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvOpacityEnabled:!1,vvOpacityValues:[0,0,0,0,0,0,0,0],vvOpacityOpacities:[1,1,1,1,1,1,1,1],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:v()}}(e||(e={}));var o=e;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as n,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import p from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as d,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as h}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as m}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{blendingDefault as g,OITBlending as b,OITDepthTest as v,OITDepthWrite as y,OITPolygonOffset as T}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as E}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as P,stencilToolMaskBaseParams as O,stencilBaseAllZerosParams as x,depthCompareAlways as C,stencilToolTransparentOccluderParams as S,stencilWriteMaskOff as j,stencilToolMaskOccluderParams as W,depthCompareLess as R}from\"../lib/StencilUtils.js\";import{R as U}from\"../../../../chunks/RibbonLine.glsl.js\";const w={position:0,subdivisionFactor:1,uv0:2,auxpos1:3,auxpos2:4,size:6,sizeFeatureAttribute:6,color:5,colorFeatureAttribute:5,opacityFeatureAttribute:7};class z extends s{constructor(e,t){super(e,t),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=z.shader.get(),i=this.configuration,r=t.build({OITEnabled:0===i.transparencyPassType,output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:i.stippleIntegerRepeatsEnabled,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled,roundCaps:i.roundCaps,roundJoins:i.roundJoins,vvColor:i.vvColor,vvSize:i.vvSize,vvInstancingEnabled:!0,vvOpacity:i.vvOpacity,falloffEnabled:i.falloffEnabled,innerColorEnabled:i.innerColorEnabled,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new p(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),w)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,o,s){if(u.bindProjectionMatrix(this.program,s.camera.projectionMatrix),4===this.configuration.output&&f.bindOutputHighlight(e,this.program,s),s.multipassTerrainEnabled&&(this.program.setUniform2fv(\"inverseViewport\",s.inverseViewport),E(this.program,e,s)),this.program.setUniform1f(\"intrinsicWidth\",o.width),this.program.setUniform4fv(\"intrinsicColor\",o.color),this.program.setUniform1f(\"miterLimit\",\"miter\"!==o.join?0:o.miterLimit),this.program.setUniform2fv(\"cameraNearFar\",s.camera.nearFar),this.program.setUniform1f(\"pixelRatio\",s.camera.pixelRatio),this.program.setUniform2f(\"screenSize\",s.camera.fullViewport[2],s.camera.fullViewport[3]),m.bindUniformsWithOpacity(this.program,o),this.stipplePattern!==o.stipplePattern){const e=o.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.configuration.stippleEnabled){const r=t(this.stippleTextureBind)?this.stippleTextureBind(e,0)*s.camera.pixelRatio:1;if(this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/r),this.configuration.stippleOffColorEnabled){const e=i(o.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",e[0],e[1],e[2],e.length>3?e[3]:1)}}this.configuration.falloffEnabled&&this.program.setUniform1f(\"falloff\",o.falloff),this.configuration.innerColorEnabled&&(this.program.setUniform4fv(\"innerColor\",r(o.innerColor,o.color)),this.program.setUniform1f(\"innerWidth\",o.innerWidth*s.camera.pixelRatio))}bindDraw(e){u.bindView(this.program,e),h.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e,t){const i=this.configuration,r=3===e,o=2===e;return a({blending:0===i.output||7===i.output?r?g:b(e):null,depthTest:{func:v(e)},depthWrite:r?!i.transparent&&i.writeDepth&&d:y(e),colorWrite:c,stencilWrite:i.sceneHasOcludees?P:null,stencilTest:i.sceneHasOcludees?t?O:x:null,polygonOffset:r||o?i.polygonOffset&&V:T})}initializePipeline(){const e=this.configuration,t=e.polygonOffset&&V;return e.occluder&&(this._occluderPipelineTransparent=a({blending:g,polygonOffset:t,depthTest:C,depthWrite:null,colorWrite:c,stencilWrite:null,stencilTest:S}),this._occluderPipelineOpaque=a({blending:g,polygonOffset:t,depthTest:C,depthWrite:null,colorWrite:c,stencilWrite:j,stencilTest:W}),this._occluderPipelineMaskWrite=a({blending:null,polygonOffset:t,depthTest:R,depthWrite:null,colorWrite:null,stencilWrite:P,stencilTest:O})),this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}get primitiveType(){return 5}getPipelineState(e,t){return t?this._occludeePipelineState:this.configuration.occluder?11===e?this._occluderPipelineTransparent:10===e?this._occluderPipelineOpaque:this._occluderPipelineMaskWrite:this.pipeline}}z.shader=new o(U,(()=>import(\"./RibbonLine.glsl.js\")));const V={factor:0,units:-4};class I extends n{constructor(){super(...arguments),this.output=0,this.occluder=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.polygonOffset=!1,this.writeDepth=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.roundCaps=!1,this.roundJoins=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([l({count:8})],I.prototype,\"output\",void 0),e([l()],I.prototype,\"occluder\",void 0),e([l()],I.prototype,\"slicePlaneEnabled\",void 0),e([l()],I.prototype,\"transparent\",void 0),e([l()],I.prototype,\"polygonOffset\",void 0),e([l()],I.prototype,\"writeDepth\",void 0),e([l()],I.prototype,\"stippleEnabled\",void 0),e([l()],I.prototype,\"stippleOffColorEnabled\",void 0),e([l()],I.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([l()],I.prototype,\"roundCaps\",void 0),e([l()],I.prototype,\"roundJoins\",void 0),e([l()],I.prototype,\"vvSize\",void 0),e([l()],I.prototype,\"vvColor\",void 0),e([l()],I.prototype,\"vvOpacity\",void 0),e([l()],I.prototype,\"falloffEnabled\",void 0),e([l()],I.prototype,\"innerColorEnabled\",void 0),e([l()],I.prototype,\"sceneHasOcludees\",void 0),e([l({count:4})],I.prototype,\"transparencyPassType\",void 0),e([l()],I.prototype,\"multipassTerrainEnabled\",void 0),e([l()],I.prototype,\"cullAboveGround\",void 0);export{z as RibbonLineTechnique,I as RibbonLineTechniqueConfiguration,w as ribbonVertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as n,f as a,d as o,a as u,b as c,g as l,l as h,k as p,i as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec2.js\";import{newLayout as f}from\"../../support/buffer/InterleavedLayout.js\";import{plane as v,lineSegment as g}from\"../../support/geometryUtils.js\";import{isTranslationMatrix as b}from\"../lib/Util.js\";import{computeAttachmentOriginLines as C}from\"../lib/geometryDataUtils.js\";import{isInstanceHidden as q}from\"./renderers/utils.js\";import S from\"../lib/GLMaterial.js\";import{Material as A,materialParametersDefaults as y}from\"../lib/Material.js\";import P from\"./VisualVariableMaterialParameters.js\";import{ribbonVertexAttributeLocations as x,RibbonLineTechniqueConfiguration as z,RibbonLineTechnique as E}from\"../shaders/RibbonLineTechnique.js\";const j=t.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\");class O extends A{constructor(e){super(e,R),this._vertexAttributeLocations=x,this.techniqueConfig=new z,this.layout=this.createLayout()}isClosed(e,t){return M(this.params,e,t)}dispose(){}getPassParameters(){return this.params}getTechniqueConfig(t,i){this.techniqueConfig.output=t;const s=e(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=s,this.techniqueConfig.stippleIntegerRepeatsEnabled=s&&this.params.stippleIntegerRepeats,this.techniqueConfig.stippleOffColorEnabled=s&&e(this.params.stippleOffColor),this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.roundJoins=\"round\"===this.params.join,this.techniqueConfig.roundCaps=\"round\"===this.params.cap,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.vvColor=this.params.vvColorEnabled,this.techniqueConfig.vvOpacity=this.params.vvOpacityEnabled,this.techniqueConfig.vvSize=this.params.vvSizeEnabled,this.techniqueConfig.innerColorEnabled=this.params.innerWidth>0&&e(this.params.innerColor),this.techniqueConfig.falloffEnabled=this.params.falloff>0,this.techniqueConfig.occluder=8===this.params.renderOccluded,this.techniqueConfig.transparencyPassType=i?i.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!i&&i.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!i||i.cullAboveGround,this.techniqueConfig}intersect(e,t,i,s,r,n,a,o,u){u?this.intersectDrapedLineGeometry(e,s,n,a):this.intersectLineGeometry(e,t,i,s,this.params.width,a)}intersectDrapedLineGeometry(e,t,s,r){if(!t.options.selectionMode)return;const n=e.vertexAttributes.get(\"position\").data,a=e.vertexAttributes.get(\"size\");let o=this.params.width;if(this.params.vvSizeEnabled){const t=e.vertexAttributes.get(\"sizeFeatureAttribute\").data[0];o*=i(this.params.vvSizeOffset[0]+t*this.params.vvSizeFactor[0],this.params.vvSizeMinSize[0],this.params.vvSizeMaxSize[0])}else a&&(o*=a.data[0]);const u=s[0],c=s[1],l=(o/2+4)*e.screenToWorldRatio;let h=Number.MAX_VALUE;for(let p=0;p<n.length-5;p+=3){const e=n[p],t=n[p+1],s=u-e,r=c-t,a=n[p+3]-e,o=n[p+4]-t,l=i((a*s+o*r)/(a*a+o*o),0,1),m=a*l-s,d=o*l-r,f=m*m+d*d;f<h&&(h=f)}h<l*l&&r()}intersectLineGeometry(e,t,s,r,m,f){if(!r.options.selectionMode||q(t))return;if(!b(s))return void j.error(\"intersection assumes a translation-only matrix\");const C=e.vertexAttributes,S=C.get(\"position\").data;let A=m;if(this.params.vvSizeEnabled){const e=C.get(\"sizeFeatureAttribute\").data[0];A*=i(this.params.vvSizeOffset[0]+e*this.params.vvSizeFactor[0],this.params.vvSizeMinSize[0],this.params.vvSizeMaxSize[0])}else C.has(\"size\")&&(A*=C.get(\"size\").data[0]);const y=r.camera,P=_;d(P,r.point);const x=A*y.pixelRatio/2+4*y.pixelRatio;n(Z[0],P[0]-x,P[1]+x,0),n(Z[1],P[0]+x,P[1]+x,0),n(Z[2],P[0]+x,P[1]-x,0),n(Z[3],P[0]-x,P[1]-x,0);for(let i=0;i<4;i++)if(!y.unprojectFromRenderScreen(Z[i],$[i]))return;v.fromPoints(y.eye,$[0],$[1],ee),v.fromPoints(y.eye,$[1],$[2],te),v.fromPoints(y.eye,$[2],$[3],ie),v.fromPoints(y.eye,$[3],$[0],se);let z=Number.MAX_VALUE;const E=T(this.params,C,e.indices)?S.length-2:S.length-5;for(let i=0;i<E;i+=3){G[0]=S[i]+s[12],G[1]=S[i+1]+s[13],G[2]=S[i+2]+s[14];const e=(i+3)%S.length;if(V[0]=S[e]+s[12],V[1]=S[e+1]+s[13],V[2]=S[e+2]+s[14],v.signedDistance(ee,G)<0&&v.signedDistance(ee,V)<0||v.signedDistance(te,G)<0&&v.signedDistance(te,V)<0||v.signedDistance(ie,G)<0&&v.signedDistance(ie,V)<0||v.signedDistance(se,G)<0&&v.signedDistance(se,V)<0)continue;if(y.projectToRenderScreen(G,k),y.projectToRenderScreen(V,H),k[2]<0&&H[2]>0){a(B,G,V);const e=y.frustum,t=-v.signedDistance(e[4],G)/o(B,v.normal(e[4]));u(B,B,t),c(G,G,B),y.projectToRenderScreen(G,k)}else if(k[2]>0&&H[2]<0){a(B,V,G);const e=y.frustum,t=-v.signedDistance(e[4],V)/o(B,v.normal(e[4]));u(B,B,t),c(V,V,B),y.projectToRenderScreen(V,H)}else if(k[2]<0&&H[2]<0)continue;k[2]=0,H[2]=0;const t=g.distance2(g.fromPoints(k,H,N),P);t<z&&(z=t,l(W,G),l(I,V))}const O=r.rayBeginPoint,L=r.rayEndPoint;if(z<x*x){let e=Number.MAX_VALUE;if(g.closestLineSegmentPoint(g.fromPoints(W,I,N),g.fromPoints(O,L,X),J)){a(J,J,O);const t=h(J);u(J,J,1/t),e=t/p(O,L)}f(e,J)}}computeAttachmentOrigin(e,t){const i=e.vertexAttributes;if(!i)return null;const s=e.indices,r=i.get(\"position\");return C(r,s?s.get(\"position\"):null,s&&T(this.params,i,s),t)}createLayout(){const e=f().vec3f(\"position\").f32(\"subdivisionFactor\").vec2f(\"uv0\").vec3f(\"auxpos1\").vec3f(\"auxpos2\");return this.params.vvSizeEnabled?e.f32(\"sizeFeatureAttribute\"):e.f32(\"size\"),this.params.vvColorEnabled?e.f32(\"colorFeatureAttribute\"):e.vec4f(\"color\"),this.params.vvOpacityEnabled&&e.f32(\"opacityFeatureAttribute\"),e}createBufferWriter(){return new D(this.layout,this.params)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output||1===e.output?new L(e):void 0}validateParameterValues(e){\"miter\"!==e.join&&(e.miterLimit=0),this.requiresTransparent(e)&&(e.transparent=!0)}requiresTransparent(e){return!!((e.color&&e.color[3])<1||e.innerWidth>0&&this.colorRequiresTransparent(e.innerColor)||e.stipplePattern&&this.colorRequiresTransparent(e.stippleOffColor)||e.falloff>0)}colorRequiresTransparent(t){return e(t)&&t[3]<1&&t[3]>0}}class L extends S{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(E,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){return this.technique.configuration.occluder?3===e||10===e||11===e:0===this.output||7===this.output?(this.targetSlot=this.technique.configuration.writeDepth?5:8,e===this.targetSlot):3===e}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}ensureParameters(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}getPipelineState(e,t){return this.technique.getPipelineState(e,t)}}const R={width:0,color:[1,1,1,1],join:\"miter\",cap:\"butt\",miterLimit:5,writeDepth:!0,polygonOffset:!1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,slicePlaneEnabled:!1,vvFastUpdate:!1,transparent:!1,isClosed:!1,falloff:0,innerWidth:0,innerColor:null,sceneHasOcludees:!1,...y,...P.Default};class D{constructor(e,t){switch(this.params=t,this.numJoinSubdivisions=0,this.vertexBufferLayout=e,this.params.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=t.stipplePattern?1:0;break;case\"round\":this.numJoinSubdivisions=U}}isClosed(e){return T(this.params,e.vertexAttributes,e.indices)}numCapSubdivisions(e){if(this.isClosed(e))return 0;switch(this.params.cap){case\"butt\":return 0;case\"square\":return 1;case\"round\":return F}}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2*this.numCapSubdivisions(e)+2,i=e.indices.get(\"position\").length/2+1,s=this.isClosed(e);let r=s?2:2*t;const n=s?0:1,a=s?i:i-1;if(e.vertexAttributes.has(\"subdivisions\")){const t=e.vertexAttributes.get(\"subdivisions\").data;for(let e=n;e<a;++e){r+=4+2*t[e]}}else{r+=(a-n)*(2*this.numJoinSubdivisions+4)}return r+=2,r}write(e,t,i,s){const r=K,a=Q,o=Y,u=t.vertexAttributes.get(\"position\").data,c=t.indices&&t.indices.get(\"position\"),h=this.numCapSubdivisions(t);c&&c.length!==2*(u.length/3-1)&&console.warn(\"RibbonLineMaterial does not support indices\");let p=null;t.vertexAttributes.has(\"subdivisions\")&&(p=t.vertexAttributes.get(\"subdivisions\").data);let d=1,f=0;this.params.vvSizeEnabled?f=t.vertexAttributes.get(\"sizeFeatureAttribute\").data[0]:t.vertexAttributes.has(\"size\")&&(d=t.vertexAttributes.get(\"size\").data[0]);let v=[1,1,1,1],g=0;this.params.vvColorEnabled?g=t.vertexAttributes.get(\"colorFeatureAttribute\").data[0]:t.vertexAttributes.has(\"color\")&&(v=t.vertexAttributes.get(\"color\").data);let b=0;this.params.vvOpacityEnabled&&(b=t.vertexAttributes.get(\"opacityFeatureAttribute\").data[0]);const C=u.length/3,q=e.transformation,S=new Float32Array(i.buffer),A=this.vertexBufferLayout.stride/4;let y=s*A;const P=y,x=(e,t,i,s,r,n,a)=>{if(S[y++]=t[0],S[y++]=t[1],S[y++]=t[2],S[y++]=s,S[y++]=r,S[y++]=n,S[y++]=e[0],S[y++]=e[1],S[y++]=e[2],S[y++]=i[0],S[y++]=i[1],S[y++]=i[2],this.params.vvSizeEnabled?S[y++]=f:S[y++]=d,this.params.vvColorEnabled)S[y++]=g;else{const e=Math.min(4*a,v.length-4);S[y++]=v[e+0],S[y++]=v[e+1],S[y++]=v[e+2],S[y++]=v[e+3]}this.params.vvOpacityEnabled&&(S[y++]=b)};y+=A,n(a,u[0],u[1],u[2]),q&&m(a,a,q);const z=this.isClosed(t);if(z){const e=u.length-3;n(r,u[e],u[e+1],u[e+2]),q&&m(r,r,q)}else{l(r,a),n(o,u[3],u[4],u[5]),q&&m(o,o,q);for(let e=0;e<h;++e){const t=1-e/h;x(r,a,o,t,1,-4,0),x(r,a,o,t,1,4,0)}x(r,a,o,0,0,-4,0),x(r,a,o,0,0,4,0),l(r,a),l(a,o)}const E=z?C:C-1;for(let j=z?0:1;j<E;j++){const e=(j+1)%C*3;n(o,u[e+0],u[e+1],u[e+2]),q&&m(o,o,q),x(r,a,o,0,1,-1,j),x(r,a,o,0,1,1,j);const t=p?p[j]:this.numJoinSubdivisions;for(let i=0;i<t;++i){const e=(i+1)/(t+1);x(r,a,o,e,1,-2,j),x(r,a,o,e,1,2,j)}x(r,a,o,1,0,-2,j),x(r,a,o,1,0,2,j),l(r,a),l(a,o)}if(z){y=w(S,P+A,S,y,2*A)}else{x(r,a,o,0,1,-5,E),x(r,a,o,0,1,5,E);for(let e=0;e<h;++e){const t=(e+1)/h;x(r,a,o,t,1,-5,E),x(r,a,o,t,1,5,E)}}w(S,P+A,S,P,A);y=w(S,y-A,S,y,A)}}function w(e,t,i,s,r){for(let n=0;n<r;n++)i[s++]=e[t++];return s}function T(e,t,i){return M(e,t.get(\"position\").data,i?i.get(\"position\"):null)}function M(e,t,i){return!!e.isClosed&&(i?i.length>2:t.length>6)}const F=3,U=1,G=r(),V=r(),B=r(),J=r(),_=r(),k=s(),H=s(),W=r(),I=r(),N=g.create(),X=g.create(),K=r(),Q=r(),Y=r(),Z=[s(),s(),s(),s()],$=[r(),r(),r(),r()],ee=v.create(),te=v.create(),ie=v.create(),se=v.create();export{O as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function t(t){t.vertex.code.add(o`\n    const float PI = 3.141592653589793;\n  `),t.fragment.code.add(o`\n    const float PI = 3.141592653589793;\n    const float LIGHT_NORMALIZATION = 1.0 / PI;\n    const float INV_PI = 0.3183098861837907;\n    const float HALF_PI = 1.570796326794897;\n    `)}export{t as PiUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n,r){for(const[o,t]of n)if(r(t,o))return!0;return!1}function r(n,r){for(const[o,t]of n)if(r(t,o))return t;return null}export{r as findInMap,n as someMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function p(e,p){e.constants.add(\"stippleAlphaColorDiscard\",\"float\",.001),e.constants.add(\"stippleAlphaHighlightDiscard\",\"float\",.5),p.stippleEnabled?t(e,p):l(e)}function t(p,t){p.vertex.uniforms.add(\"stipplePatternPixelSizeInv\",\"float\"),t.stippleUVMaxEnabled&&p.varyings.add(\"stipplePatternUvMax\",\"float\"),p.varyings.add(\"stipplePatternUv\",\"float\"),p.fragment.uniforms.add(\"stipplePatternTexture\",\"sampler2D\"),t.stippleOffColorEnabled&&p.fragment.uniforms.add(\"stippleOffColor\",\"vec4\"),p.fragment.code.add(e`\n  float getStippleAlpha() {\n    float stipplePatternUvClamped = stipplePatternUv * gl_FragCoord.w;\n    ${t.stippleUVMaxEnabled?\"stipplePatternUvClamped = clamp(stipplePatternUvClamped, 0.0, stipplePatternUvMax);\":\"\"}\n\n    return texture2D(stipplePatternTexture, vec2(mod(stipplePatternUvClamped, 1.0), 0.5)).a;\n  }`),t.stippleOffColorEnabled?p.fragment.code.add(e`\n    #define discardByStippleAlpha(stippleAlpha, threshold) {}\n    #define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)\n    `):p.fragment.code.add(e`\n    #define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }\n    #define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)\n    `)}function l(p){p.fragment.code.add(e`\n  float getStippleAlpha() { return 1.0; }\n\n  #define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}\n  #define blendStipple(color, _stippleAlpha_) color\n  `)}export{p as LineStipple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{unwrapOr as t}from\"../../../../core/maybe.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{c as o}from\"../../../../chunks/mat4.js\";import{projectBuffer as r,computeLinearTransformation as i}from\"../../../../geometry/projection.js\";import{a as s}from\"../../../../chunks/mat4f64.js\";import{isDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{isSamplePosition as l,getElevationAtPoint as c}from\"../../support/ElevationProvider.js\";import{updateVertexAttributeAuxpos1w as u}from\"./graphicUtils.js\";function f(e,t,n,o,i,s,a,l,c,u,f){const m=j[f.mode];let p,d,g=0;if(r(e,t,n,o,c.spatialReference,i,l))return m.requiresAlignment(f)?(g=m.applyElevationAlignmentBuffer(o,i,s,a,l,c,u,f),p=s,d=a):(p=o,d=i),r(p,c.spatialReference,d,s,u.spatialReference,a,l)?g:void 0}function m(n,o,r,i,s){const u=(a(n)?n.z:l(n)?n.array[n.offset+2]:n[2])||0;switch(r.mode){case\"on-the-ground\":{const e=t(c(o,n,\"ground\"),0);return s&&(s.verticalDistanceToGround=0,s.sampledElevation=e),e}case\"relative-to-ground\":{const e=t(c(o,n,\"ground\"),0),a=r.geometryZWithOffset(u,i);return s&&(s.verticalDistanceToGround=a,s.sampledElevation=e),a+e}case\"relative-to-scene\":{const e=t(c(o,n,\"scene\"),0),a=r.geometryZWithOffset(u,i);return s&&(s.verticalDistanceToGround=a,s.sampledElevation=e),a+e}case\"absolute-height\":{const e=r.geometryZWithOffset(u,i);if(s){const r=t(c(o,n,\"ground\"),0);s.verticalDistanceToGround=e-r,s.sampledElevation=r}return e}default:return e(r.mode),0}}function p(e,t,n){return null==t||null==n?e.definedChanged:\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?T.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function v(e,t,n,r,s){const a=m(t,n,s,r,O);u(e,O.verticalDistanceToGround);const l=O.sampledElevation,c=o(x,e.transformation);C[0]=t.x,C[1]=t.y,C[2]=a;return i(t.spatialReference,C,c,r.spatialReference)?e.transformation=c:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),l}function E(e,n,o,r,i,s){let a=0;const l=s.spatialReference;n*=3,r*=3;for(let c=0;c<i;++c){const i=e[n+0],c=e[n+1],u=e[n+2],f=t(s.getElevation(i,c,u,l,\"ground\"),0);a+=f,o[r+0]=i,o[r+1]=c,o[r+2]=f,n+=3,r+=3}return a/i}function h(e,n,o,r,i,s,a,l){let c=0;const u=l.calculateOffsetRenderUnits(a),f=l.featureExpressionInfoContext,m=s.spatialReference;n*=3,r*=3;for(let p=0;p<i;++p){const i=e[n+0],a=e[n+1],l=e[n+2],p=t(s.getElevation(i,a,l,m,\"ground\"),0);c+=p,o[r+0]=i,o[r+1]=a,o[r+2]=null==f?l+p+u:p+u,n+=3,r+=3}return c/i}function y(e,n,o,r,i,s,a,l){let c=0;const u=l.calculateOffsetRenderUnits(a),f=l.featureExpressionInfoContext,m=s.spatialReference;n*=3,r*=3;for(let p=0;p<i;++p){const i=e[n+0],a=e[n+1],l=e[n+2],p=t(s.getElevation(i,a,l,m,\"scene\"),0);c+=p,o[r+0]=i,o[r+1]=a,o[r+2]=null==f?l+p+u:p+u,n+=3,r+=3}return c/i}function A(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function R(e,t,n,o,r,i,s,a){const l=a.calculateOffsetRenderUnits(s),c=a.featureExpressionInfoContext;t*=3,o*=3;for(let u=0;u<r;++u){const r=e[t+0],i=e[t+1],s=e[t+2];n[o+0]=r,n[o+1]=i,n[o+2]=null==c?s+l:l,t+=3,o+=3}return 0}var T;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(T||(T={}));const j={\"absolute-height\":{applyElevationAlignmentBuffer:R,requiresAlignment:A},\"on-the-ground\":{applyElevationAlignmentBuffer:E,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:y,requiresAlignment:()=>!0}},x=s(),O={verticalDistanceToGround:0,sampledElevation:0},C=n();export{T as SymbolUpdateType,v as applyElevationAlignmentForHUD,f as applyPerVertexElevationAlignment,p as elevationModeChangeUpdateType,m as evaluateElevationAlignmentAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as n}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{symbolAlphaCutoff as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{RibbonVertexPosition as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{OutputDepth as l}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js\";import{LineStipple as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{PiUtils as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";function c(c){const f=new t;f.extensions.add(\"GL_OES_standard_derivatives\"),f.include(d),f.include(s,c),f.include(p,c),1===c.output&&f.include(l,c),f.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"cameraNearFar\",\"vec2\").add(\"pixelRatio\",\"float\").add(\"miterLimit\",\"float\").add(\"screenSize\",\"vec2\"),f.attributes.add(\"position\",\"vec3\"),f.attributes.add(\"subdivisionFactor\",\"float\"),f.attributes.add(\"uv0\",\"vec2\"),f.attributes.add(\"auxpos1\",\"vec3\"),f.attributes.add(\"auxpos2\",\"vec3\"),f.varyings.add(\"vColor\",\"vec4\"),f.varyings.add(\"vpos\",\"vec3\"),f.varyings.add(\"linearDepth\",\"float\"),c.multipassTerrainEnabled&&f.varyings.add(\"depth\",\"float\");const v=c.falloffEnabled,m=c.innerColorEnabled;return m&&f.varyings.add(\"vLineDistance\",\"float\"),v&&f.varyings.add(\"vLineDistanceNorm\",\"float\"),c.falloffEnabled&&f.fragment.uniforms.add(\"falloff\",\"float\"),c.innerColorEnabled&&(f.fragment.uniforms.add(\"innerColor\",\"vec4\"),f.fragment.uniforms.add(\"innerWidth\",\"float\")),f.vertex.code.add(e`\n\t\t#define PERPENDICULAR(v) vec2(v.y, -v.x);\n\t\t#define ISOUTSIDE (left.x * right.y - left.y * right.x)*uv0.y > 0.0\n\n\t\tfloat interp(float ncp, vec4 a, vec4 b) {\n\t\t\treturn (-ncp - a.z) / (b.z - a.z);\n\t\t}\n\n\t\tvec2 rotate(vec2 v, float a) {\n\t\t\tfloat s = sin(a);\n\t\t\tfloat c = cos(a);\n\t\t\tmat2 m = mat2(c, -s, s, c);\n\t\t\treturn m * v;\n\t\t}\n`),f.vertex.code.add(e`\n    vec4 projectAndScale(vec4 pos) {\n      vec4 posNdc = proj * pos;\n\n      // Note that posNdc is in -1:1, scaling by screenSize converts this to a coordinate system\n      // that is twice scaled (going from -size:size).\n      posNdc.xy *= screenSize / posNdc.w;\n      return posNdc;\n    }\n`),f.vertex.code.add(e`\n    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\n      float vnp = cameraNearFar[0] * 0.99;\n\n      //current pos behind ncp --> we need to clip\n      if(pos.z > -cameraNearFar[0]) {\n        if (!isStartVertex) {\n          //previous in front of ncp\n          if(prev.z < -cameraNearFar[0]) {\n            pos = mix(prev, pos, interp(vnp, prev, pos));\n            next = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        }\n        //next in front of ncp\n        if(isStartVertex) {\n          if(next.z < -cameraNearFar[0]) {\n            pos = mix(pos, next, interp(vnp, pos, next));\n            prev = pos;\n          } else {\n            pos = vec4(0.0, 0.0, 0.0, 1.0);\n          }\n        }\n      } else {\n        //current position visible\n        //previous behind ncp\n        if (prev.z > -cameraNearFar[0]) {\n          prev = mix(pos, prev, interp(vnp, pos, prev));\n        }\n        //next behind ncp\n        if (next.z > -cameraNearFar[0]) {\n          next = mix(next, pos, interp(vnp, next, pos));\n        }\n      }\n\n      ${c.multipassTerrainEnabled?\"depth = pos.z;\":\"\"}\n      linearDepth = (-pos.z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n\n      pos = projectAndScale(pos);\n      next = projectAndScale(next);\n      prev = projectAndScale(prev);\n    }\n`),f.vertex.code.add(e`\n  void main(void) {\n    float coverage = 1.0;\n    vpos = position;\n\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;\n      bool isJoin = abs(uv0.y)-3.0 < 0.0;\n\n      float lineWidth = getSize() * pixelRatio;\n\n      // convert sub-pixel coverage to alpha\n      if (lineWidth < 1.0) {\n        coverage = lineWidth;\n        lineWidth = 1.0;\n      }else{\n        // Ribbon lines cannot properly render non-integer sizes. Round width to integer size if\n        // larger than one for better quality. Note that we do render < 1 pixels more or less correctly\n        // so we only really care to round anything larger than 1.\n        lineWidth = floor(lineWidth + 0.5);\n      }\n\n      vec4 pos  = view * vec4(position.xyz, 1.0);\n      vec4 prev = view * vec4(auxpos1.xyz, 1.0);\n      vec4 next = view * vec4(auxpos2.xyz, 1.0);\n\n      clipAndTransform(pos, prev, next, isStartVertex);\n\n      vec2 left = (pos.xy - prev.xy);\n      vec2 right = (next.xy - pos.xy);\n\n      float leftLen = length(left);\n      float rightLen = length(right);\n  `),c.stippleEnabled&&f.vertex.code.add(e`\n      // uv0.x is either 0 or 1, depending on whether this is considered the start of a line segment\n      // or the end. If start, then use pos->next, otherwise use prev->pos to define the line segment\n      // vector\n      vec4 stippleSegmentInfo = mix(vec4(pos.xy, right), vec4(prev.xy, left), uv0.x);\n      vec2 stippleSegmentOrigin = stippleSegmentInfo.xy;\n\n      // Scale s.t. it's in units of stipple pattern size.\n      vec2 stippleSegmentDirection = stippleSegmentInfo.zw;\n    `),f.vertex.code.add(e`\n    left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\n    right = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\n\n    vec2 capDisplacementDir = vec2(0, 0);\n    vec2 joinDisplacementDir = vec2(0, 0);\n    float displacementLen = lineWidth;\n\n    if (isJoin) {\n\n      // JOIN handling ---------------------------------------------------\n      // determine if vertex is on the \"outside or \"inside\" of the join\n      bool isOutside = ISOUTSIDE;\n\n      // compute miter join position first\n      joinDisplacementDir = normalize(left + right);\n      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n\n      // compute miter stretch\n      if (leftLen > 0.001 && rightLen > 0.001) {\n        float nDotSeg = dot(joinDisplacementDir, left);\n        displacementLen /= length(nDotSeg * left - joinDisplacementDir);\n\n        // limit displacement of inner vertices\n        if (!isOutside) {\n          displacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n        }\n      }\n\n      if (isOutside && (displacementLen > miterLimit * lineWidth)) {\n    `),c.roundJoins?f.vertex.code.add(e`\n        vec2 startDir;\n        vec2 endDir;\n\n        if (leftLen < 0.001) {\n          startDir = right;\n        }\n        else{\n          startDir = left;\n        }\n        startDir = normalize(startDir);\n        startDir = PERPENDICULAR(startDir);\n\n        if (rightLen < 0.001) {\n          endDir = left;\n        }\n        else{\n          endDir = right;\n        }\n        endDir = normalize(endDir);\n        endDir = PERPENDICULAR(endDir);\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * subdivisionFactor * rotationAngle);\n      `):f.vertex.code.add(e`\n        // convert to bevel join if miterLimit is exceeded\n        if (leftLen < 0.001) {\n          joinDisplacementDir = right;\n        }\n        else if (rightLen < 0.001) {\n          joinDisplacementDir = left;\n        }\n        else {\n          joinDisplacementDir = isStartVertex ? right : left;\n        }\n        joinDisplacementDir = normalize(joinDisplacementDir);\n        joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n  `),f.vertex.code.add(e`\n        displacementLen = lineWidth;\n      }\n    } else {\n    // CAP handling ---------------------------------------------------\n    if (leftLen < 0.001) {\n      joinDisplacementDir = right;\n    }\n    else if (rightLen < 0.001) {\n      joinDisplacementDir = left;\n    }\n    else {\n      joinDisplacementDir = isStartVertex ? right : left;\n    }\n    joinDisplacementDir = normalize(joinDisplacementDir);\n    joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);\n    displacementLen = lineWidth;\n\n    capDisplacementDir = isStartVertex ? -right : left;\n  `),c.roundCaps?f.vertex.code.add(e`\n    float angle = subdivisionFactor*PI*0.5;\n    joinDisplacementDir *= cos(angle);\n    capDisplacementDir *= sin(angle);\n    `):f.vertex.code.add(e`\n    capDisplacementDir *= subdivisionFactor;\n    `),f.vertex.code.add(e`\n  }\n\n  // Displacement (in pixels) caused by join/or cap\n  vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;\n\n  ${v||m?e`float lineDist = lineWidth * sign(uv0.y) * pos.w;`:\"\"}\n\n  ${m?e`vLineDistance = lineDist;`:\"\"}\n  ${v?e`vLineDistanceNorm = lineDist / lineWidth;`:\"\"}\n\n  pos.xy += dpos;\n  `),c.stippleEnabled&&(f.vertex.code.add(e`\n    {\n      // Compute the stipple pattern UV coordinate from the actual position, based on the origin\n      // and direction of the line segment on which the stipple pattern is based.\n\n      // Project the vector from the origin of the segment to the vertex onto the line segment.\n      // Note the 0.5 factor due to projected positions being at twice the screen size scale (see projectAndScale)\n      vec2 posVec = pos.xy - stippleSegmentOrigin;\n\n      float stippleSegmentDirectionLength = length(stippleSegmentDirection);\n    `),c.stippleIntegerRepeatsEnabled&&f.vertex.code.add(e`\n      float numberOfPatternRepeats = stippleSegmentDirectionLength * 0.5 * stipplePatternPixelSizeInv;\n      float roundedNumberOfPatternRepeats = floor(numberOfPatternRepeats);\n      stipplePatternUvMax = roundedNumberOfPatternRepeats;\n      `),f.vertex.code.add(e`\n      if (stippleSegmentDirectionLength >= 0.001) {\n        // Project the vertex position onto the line segment.\n        float projectedLength = dot(stippleSegmentDirection, posVec) / stippleSegmentDirectionLength * 0.5;\n     ${c.stippleIntegerRepeatsEnabled?\"float wholeNumberOfRepeatsScale = roundedNumberOfPatternRepeats / numberOfPatternRepeats;\":\"float wholeNumberOfRepeatsScale = 1.0;\"}\n        stipplePatternUv = projectedLength * wholeNumberOfRepeatsScale * stipplePatternPixelSizeInv * pos.w;\n        } else {\n          stipplePatternUv = 1.0;\n        }\n      }\n    `)),f.vertex.code.add(e`\n      // Convert back into NDC\n      pos.xy = pos.xy / screenSize * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      gl_Position = pos;\n    }\n  }\n  `),c.multipassTerrainEnabled&&(f.fragment.include(n),f.include(a,c)),f.include(r,c),f.fragment.uniforms.add(\"intrinsicColor\",\"vec4\"),f.fragment.include(i),f.fragment.code.add(e`\n  void main() {\n    discardBySlice(vpos);\n    ${c.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 color = intrinsicColor * vColor;\n  `),c.innerColorEnabled&&(f.fragment.uniforms.add(\"pixelRatio\",\"float\"),f.fragment.code.add(e`\n    float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\n    float innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\n    float innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\n    color = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);\n    `)),f.fragment.code.add(e`\n    vec4 finalColor = blendStipple(color, stippleAlpha);\n  `),c.falloffEnabled&&f.fragment.code.add(e`\n    finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);\n    `),f.fragment.code.add(e`\n    if (finalColor.a < ${e.float(o)}) {\n      discard;\n    }\n\n    ${7===c.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n    ${0===c.output?e`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${0===c.output&&c.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    ${4===c.output?e`gl_FragColor = vec4(1.0);`:\"\"}\n    ${1===c.output?e`outputDepth(linearDepth);`:\"\"}\n  }\n  `),f}var f=Object.freeze({__proto__:null,build:c});export{f as R,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst S={DIFFUSE:0,NORMAL:1,EMISSION:2,OCCLUSION:3,METALLIC_ROUGHNESS:4,SSAO:6,SHADOW_MAP:7};export{S as DefaultTextureUnits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,i){t.vertex.uniforms.add(\"intrinsicWidth\",\"float\"),i.vvSize?(t.attributes.add(\"sizeFeatureAttribute\",\"float\"),t.vertex.uniforms.add(\"vvSizeMinSize\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeMaxSize\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeOffset\",\"vec3\"),t.vertex.uniforms.add(\"vvSizeFactor\",\"vec3\"),t.vertex.code.add(e`\n    float getSize() {\n      return intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n    }\n    `)):(t.attributes.add(\"size\",\"float\"),t.vertex.code.add(e`\n    float getSize(){\n      return intrinsicWidth * size;\n    }\n    `)),i.vvOpacity?(t.attributes.add(\"opacityFeatureAttribute\",\"float\"),t.vertex.constants.add(\"vvOpacityNumber\",\"int\",8),t.vertex.code.add(e`\n    uniform float vvOpacityValues[vvOpacityNumber];\n    uniform float vvOpacityOpacities[vvOpacityNumber];\n\n    float interpolateOpacity( float value ){\n      if (value <= vvOpacityValues[0]) {\n        return vvOpacityOpacities[0];\n      }\n\n      for (int i = 1; i < vvOpacityNumber; ++i) {\n        if (vvOpacityValues[i] >= value) {\n          float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\n          return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n        }\n      }\n\n      return vvOpacityOpacities[vvOpacityNumber - 1];\n    }\n\n    vec4 applyOpacity( vec4 color ){\n      return vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n    }\n    `)):t.vertex.code.add(e`\n    vec4 applyOpacity( vec4 color ){\n      return color;\n    }\n    `),i.vvColor?(t.attributes.add(\"colorFeatureAttribute\",\"float\"),t.vertex.constants.add(\"vvColorNumber\",\"int\",8),t.vertex.code.add(e`\n    uniform float vvColorValues[vvColorNumber];\n    uniform vec4 vvColorColors[vvColorNumber];\n\n    vec4 interpolateColor( float value ) {\n      if (value <= vvColorValues[0]) {\n        return vvColorColors[0];\n      }\n\n      for (int i = 1; i < vvColorNumber; ++i) {\n        if (vvColorValues[i] >= value) {\n          float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);\n          return mix(vvColorColors[i-1], vvColorColors[i], f);\n        }\n      }\n\n      return vvColorColors[vvColorNumber - 1];\n    }\n\n    vec4 getColor(){\n      return applyOpacity(interpolateColor(colorFeatureAttribute));\n    }\n    `)):(t.attributes.add(\"color\",\"vec4\"),t.vertex.code.add(e`\n    vec4 getColor(){\n      return applyOpacity(color);\n    }\n    `))}export{t as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{k as i,n as r,f as s,g as a,b as o}from\"../../../../chunks/vec3.js\";import l from\"../../../../core/Handles.js\";import{i as n,t as u,s as h}from\"../../../../chunks/mat4.js\";import{a as d}from\"../../../../chunks/mat4f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../support/stack.js\";import{Geometry as p}from\"../../webgl-engine/lib/Geometry.js\";import M from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as f}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{Object3DVisualElement as O}from\"./Object3DVisualElement.js\";class y extends O{constructor(e){super(e),this._handles=new l,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=t(),this._up=t(),this._right=t(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:o}){this._maxSize=Math.min(i(t,e),i(t,o))/3,r(this._up,s(this._up,e,t)),r(this._right,s(this._right,o,t)),a(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new f(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=o(m.get(),this._up,this._right),i=M.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(t=this.object){const i=this.view.state.camera,r=this._size*i.computeScreenPixelSizeAt(this._position),s=Math.min(this._maxSize,r);n(z),u(z,z,this._position),h(z,z,[s,s,s]),e(t)&&(t.transformation=z)}_quadGeometryData(e,t){const i=o(m.get(),e,t);return new p([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=d();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../chunks/vec3f64.js\";import{e as t,f as s,n as r,g as i,b as n}from\"../../../../../chunks/vec3.js\";import{slerpTangent as c,slerp as p}from\"../../../support/mathUtils.js\";import{getSphericalPCPF as o}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as a,projectVectorToVector as h}from\"../../../../../geometry/projection.js\";import{sv3d as d}from\"../../../support/stack.js\";class _{constructor(t=e(),s=e()){this.startRenderSpace=t,this.endRenderSpace=s,this.type=\"euclidean\"}eval(e,i,n){return t(i,this.startRenderSpace,this.endRenderSpace,e),n&&(s(n,this.endRenderSpace,this.startRenderSpace),r(n,n)),i}createRenderGeometry(e,t){const r=[],i=[],n=(t,n)=>{const c=u;s(c,t,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=t.worldUpAtPosition(this.eval(.5,m),d.get());return n(this.startRenderSpace,c),n(this.endRenderSpace,c),{points:r,normals:i}}}class f{constructor(t,s,r){this.startRenderSpace=t,this.endRenderSpace=s,this.renderSpatialReference=r,this.type=\"geodesic\",this._start=e(),this._end=e(),this._pcpf=o(r),this._project=a(r,this._pcpf),this._projectIn(t,this._start),this._projectIn(s,this._end)}_projectIn(e,t){this._project?h(e,this.renderSpatialReference,t,this._pcpf):i(t,e)}eval(e,i,o){if(this._project)if(o){const t=u;c(this._start,this._end,e,i,t),n(R,i,t),h(i,this._pcpf,i,this.renderSpatialReference),h(R,this._pcpf,R,this.renderSpatialReference),s(o,R,i),r(o,o)}else p(this._start,this._end,e,i),h(i,this._pcpf,i,this.renderSpatialReference);else t(i,this._start,this._end,e),o&&(s(o,this._end,this._start),r(o,o));return i}createRenderGeometry(e,t){const r=[],i=[],n=(t,n)=>{const c=R;s(c,t,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=128+1&-2;for(let s=0;s<c;++s){const e=s/(c-1),r=m,i=u;this.eval(e,r),t.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}function l(e,t,s,r){switch(e){case\"euclidean\":return new _(t,s);case\"geodesic\":return new f(t,s,r)}}const m=e(),u=e(),R=e();export{_ as EuclideanSegment,f as GeodesicSegment,l as createSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n"],"sourceRoot":""}