{"version":3,"sources":["Components/Bookmarks/Bookmarks.tsx"],"names":["Bookmarks","props","ref","useRef","useEffect","bookmarks","BookmarksWidget","container","current","view","editingEnabled","promiseUtils","resolve","window","localStorage","getItem","webmap","WebMap","fromJSON","JSON","parse","load","then","savedBookmarks","removeAll","addMany","destroy","id"],"mappings":"mGAAA,kGAOA,MAUaA,EAAaC,IACxB,MAAMC,EAAMC,iBAAuB,MAenC,OAdAC,qBAAU,KACR,MAAMC,EAAY,IAAIC,IAAgB,CACpCC,UAAWL,EAAIM,QACfC,KAAMR,EAAMQ,KACZC,gBAAgB,IAMlB,OArBKC,KAAqBC,IAC1B,GAAIC,OAAOC,aAAaC,QAAQ,SAAU,CACxC,MAAMC,EAAiBC,IAAOC,SAASC,KAAKC,MAAMP,OAAOC,aAAaC,QAAQ,WAC9EC,EAAOK,OAAOC,MAAK,KACjBV,EAAQI,EAAOX,kBAaGiB,MAAMC,IAC1BlB,EAAUA,UAAUmB,YACpBnB,EAAUA,UAAUoB,QAAQF,MAEvB,KACLlB,GAAaA,EAAUqB,aAExB,CAACzB,EAAM0B,KACH,qBAAKzB,IAAKA,KAEJF","file":"static/js/268.d31bac1e.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport React, { useEffect, useRef } from 'react';\nimport BookmarksWidget from '@arcgis/core/widgets/Bookmarks';\nimport WebMap from '@arcgis/core/WebMap';\nimport * as promiseUtils from '@arcgis/core/core/promiseUtils';\n\nconst checkSavedBookmarks = (): Promise<any[]> => {\n  return promiseUtils.create((resolve) => {\n    if (window.localStorage.getItem('imaps')) {\n      const webmap: WebMap = WebMap.fromJSON(JSON.parse(window.localStorage.getItem('imaps') as string));\n      webmap.load().then(() => {\n        resolve(webmap.bookmarks);\n      });\n    }\n  });\n};\nexport const Bookmarks = (props: any) => {\n  const ref = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const bookmarks = new BookmarksWidget({\n      container: ref.current as HTMLDivElement,\n      view: props.view,\n      editingEnabled: true,\n    });\n    checkSavedBookmarks().then((savedBookmarks) => {\n      bookmarks.bookmarks.removeAll();\n      bookmarks.bookmarks.addMany(savedBookmarks);\n    });\n    return () => {\n      bookmarks && bookmarks.destroy();\n    };\n  }, [props.id]); // only after initial render\n  return <div ref={ref}></div>;\n};\nexport default Bookmarks;\n"],"sourceRoot":""}