{"version":3,"file":"static/js/2113.3f23af08.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({grabbableForEvent:t}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=t}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as n}from\"../../core/lang.js\";import{isNone as r,isSome as o,destroyMaybe as s,unwrap as a,applySome as p,equalsMaybe as c,unwrapOr as h}from\"../../core/maybe.js\";import{ignoreAbortErrors as d}from\"../../core/promiseUtils.js\";import{watch as l,syncAndInitial as m}from\"../../core/reactiveUtils.js\";import{createScreenPoint as g}from\"../../core/screenUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as y}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as _}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as x}from\"../ViewingMode.js\";import{defaultDrawingMode as f}from\"./DrawingMode.js\";import{DrawManipulator as S}from\"./DrawManipulator.js\";import{createCoordinateHelper as w}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as V,sceneSnappingAtLocation as O}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as T,Component as b}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as M}from\"../interactive/editGeometry/EditGeometryOperations.js\";import D from\"../interactive/sketch/SketchLabelOptions.js\";import C from\"../interactive/sketch/SketchTooltipOptions.js\";import{SnappingContext as I}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as E}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as P}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as j}from\"../interactive/snapping/snappingUtils.js\";let k=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this.isDraped=!0,this.labelOptions=new D,this.tooltipOptions=new C,this.snapToSceneEnabled=null,this.lastVertex=null,r(e.elevationInfo)&&(this.elevationInfo=_(!!e.hasZ))}initialize(){const{geometryType:e,view:t}=this,i=t.spatialReference,n=\"viewingMode\"in t.state?t.state.viewingMode:x.Local,s=\"segment\"===e||\"multipoint\"===e?\"polyline\":e;this.coordinateHelper=w(this.hasZ,this.hasM,i),this._editGeometryOperations=new M(new T(s,this.coordinateHelper)),this._snappingOperation=new P({view:t,constrainResult:e=>r(e)?e:this._getEffectiveDrawSurface()?.constrainZ(e)}),this.handles.add(l((()=>this.stagedVertex),(e=>{r(e)||this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}),{sync:!0,equals:(e,t)=>c(e,t,y)})),this._activeComponent=new b(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const a=this.segmentLabels;o(a)&&(a.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.handles.add([l((()=>this.labelOptions.enabled),(e=>{a.visible=e}),m),this.on(\"cursor-update\",(()=>{const e=this.stagedVertex;a.stagedVertex=o(e)?this.coordinateHelper.pointToVector(e):null}))])),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}const n=this._activeComponent.getLastVertex(),s=o(n)?this.coordinateHelper.vectorToDehydratedPoint(n.pos):null;(r(s)||r(this.lastVertex)||!y(this.lastVertex,s))&&(this.lastVertex=s)}))),this._manipulator=new S({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==e,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))]),j(this,(()=>{const e=h(this.view.inputManager.latestPointerType,\"mouse\"),t=this._getSnappingContext(e);o(this.snappingManager)&&this.updatingHandles.addPromise(d(this._snappingOperation.resnap(this.snappingManager,t)))}))}destroy(){s(this.segmentLabels),s(this._snappingOperation),this._editGeometryOperations=s(this._editGeometryOperations)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",e??f)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this.stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get snappingOptions(){return o(this.snappingManager)?this.snappingManager.options:null}get stagedVertex(){return this._snappingOperation.stagedPoint}set stagedVertex(e){this._snappingOperation.stagedPoint=n(e)}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this.stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),o(this.stagedVertex)){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(a(this.drawingMode)){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return V(e,((e,t,i,n)=>{const r=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!r)return;const{snappingStep:s,cancelSnapping:a}=E({predicate:()=>r,snappingManager:this.snappingManager,snappingContext:new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles,useZ:!this._requiresScenePoint});i=i.next((e=>(r&&o(this.snappingManager)&&this.snappingManager.doneSnapping(),e))).next(a),t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||r&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(O(this.view,this.elevationInfo)).next(...s).next((e=>(r&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e)))}))}_createManipulatorDragPipelineFreehand(e){return V(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(r(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return V(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(r(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(r(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface()?.mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),void this.complete();const n=this._screenToMap(e.screenPoint);if(o(n))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(o(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),this.complete());break;case\"click\":case\"hybrid\":this._snappingOperation.abort(),o(this.stagedVertex)?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(n)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=g(e.x,e.y),i=this._snappingOperation;if(this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return void i.abort();e.stopPropagation();const n=this._closeOnClickVertexIndex(t);if(o(n))return this._closeOnVertex(n),void i.abort();const s=this._screenToMap(t),a=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(this._manipulator.cursor=o(s)?\"crosshair\":null,r(s))return void i.abort();const p=this.snappingManager;if(r(p))return this.stagedVertex=s,void i.abort();const c=this._getSnappingContext(e.pointerType);this.updatingHandles.addPromise(d(i.snap({point:s,scenePoint:a},p,c)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[t],operation:\"apply\",type:\"vertex-update\"})}_screenToMap(e){return this._getEffectiveDrawSurface()?.screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),r(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(n)&&H(n,t,i)}_getSnappingContext(e){const t=this._drawAtFixedElevation?p(this.elevationDrawSurface,(({defaultZ:e})=>e)):null;return new I({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e,visualizer:this.snappingVisualizer,selfSnappingZ:o(t)?{value:t,elevationInfo:this.elevationInfo}:null})}};function H(e,t,i){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r<=i}e([u()],k.prototype,\"_snappingEnabled\",null),e([u()],k.prototype,\"defaultZ\",void 0),e([u()],k.prototype,\"isDraped\",void 0),e([u({value:f})],k.prototype,\"drawingMode\",null),e([u({constructOnly:!0})],k.prototype,\"elevationDrawSurface\",void 0),e([u({constructOnly:!0})],k.prototype,\"elevationInfo\",void 0),e([u({constructOnly:!0,type:D})],k.prototype,\"labelOptions\",void 0),e([u({constructOnly:!0,type:C})],k.prototype,\"tooltipOptions\",void 0),e([u({constructOnly:!0})],k.prototype,\"geometryType\",void 0),e([u({constructOnly:!0})],k.prototype,\"hasM\",void 0),e([u({constructOnly:!0})],k.prototype,\"hasZ\",void 0),e([u({constructOnly:!0})],k.prototype,\"manipulators\",void 0),e([u({constructOnly:!0})],k.prototype,\"drawSurface\",void 0),e([u({constructOnly:!0})],k.prototype,\"segmentLabels\",void 0),e([u({constructOnly:!0})],k.prototype,\"snappingManager\",void 0),e([u({constructOnly:!0})],k.prototype,\"snappingVisualizer\",void 0),e([u()],k.prototype,\"snapToSceneEnabled\",void 0),e([u()],k.prototype,\"_snappingOperation\",void 0),e([u()],k.prototype,\"stagedVertex\",null),e([u()],k.prototype,\"lastVertex\",void 0),e([u()],k.prototype,\"updating\",null),e([u({constructOnly:!0})],k.prototype,\"view\",void 0),k=e([v(\"esri.views.draw.DrawOperation\")],k);export{k as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as s}from\"../../layers/graphics/dehydratedFeatures.js\";import{clonePoint as i}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as r,getZForElevationMode as n}from\"../../support/elevationInfoUtils.js\";class o{constructor(e,t,s,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=i}screenToMap(s){if(e(this.defaultZ))return this._view.sceneIntersectionHelper.intersectElevationFromScreen(t(s.x,s.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const i=this._view.sceneIntersectionHelper.intersectElevationFromScreen(t(s.x,s.y),this._elevationInfo,0,this._excludeGraphics);return e(i)&&(i.z=void 0),i}mapToScreen(e){const t=s(e.x,e.y,r(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(t){const{defaultZ:s}=this;return e(s)&&t.z!==s&&((t=i(t)).z=s),t}}class c{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(t){const s=this.view.toMap(t,{exclude:this.exclude});return e(s)&&(s.z=n(s,this.view,this.elevationInfo)),s}mapToScreen(t){let i=t;return e(this.elevationInfo)&&(i=s(t.x,t.y,r(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(i)}constrainZ(e){return e}}class a{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=s,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=i(e)).z=t),e}}export{o as ElevationDrawSurface,a as MapDrawSurface,c as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{c as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i}from\"../../../chunks/quat.js\";import{a as n}from\"../../../chunks/quatf64.js\";import{g as l,e as h,b as m,n as c,f,q as p}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{Axis as u}from\"../../../geometry/support/Axis.js\";import w from\"../../../geometry/Point.js\";function g(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function R(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class W{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class v extends W{constructor(t,r,o=null){super(r),this._defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return g(t,r,this._defaultZ)}mapToLocal(t){return R(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return g(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class F extends W{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=d(),this.tangentFrameUpWS=d(),this.tangentFrameRightWS=d(),this.tangentFrameForwardWS=d(),this.localFrameRightWS=d(),this.localFrameUpWS=d(),this.worldToLocalTransform=n(),this.localToWorldTransform=n(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Z,this.tangentFrameForwardWS);const s=d();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),i(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),p(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?R(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),p(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x,s.y,this.defaultZ):null}}function S(t,r){if(\"2d\"===t.type)return new v(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new w({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new w({x:r[0],y:r[1],spatialReference:t.spatialReference});return new F(t,e)}return null}export{v as AffineCoordinateSystem,F as SceneViewCoordinateSystem,W as SurfaceCoordinateSystem,S as createViewAlignedCoordinateSystem,g as makeMapPoint,R as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import{isSome as o,abortMaybe as r,removeMaybe as e,isNone as i}from\"../../../core/maybe.js\";import{debounce as n}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as l,ImmediateTask as c}from\"../../support/Scheduler.js\";let h=class extends s{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=n((async(t,s,r,e)=>{const n=this._frameTask;if(i(n))return;const a=await n.schedule((()=>s.snap({...t,context:r,signal:e})),e);a.valid&&await n.schedule((()=>{this.stagedPoint=a.apply(),t!==this._snapPoints&&o(this._snapPoints)&&(this.stagedPoint=s.update({...this._snapPoints,context:r}))}),e)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t=\"3d\"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=o(t)?t.registerTask(l.SNAPPING):c}destroy(){this._abortController=r(this._abortController),this._frameTask=e(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:e}=t,i=s.update({point:r,scenePoint:e,context:o});return this.stagedPoint=i,i}async snap(t,s,o){const{point:r,scenePoint:e}=t;return this.stagedPoint=s.update({point:r,scenePoint:e,context:o}),this._snapPoints=t,i(this._abortController)&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){i(this._snapPoints)||await this.snap(this._snapPoints,t,s)}abort(){this._abortController=r(this._abortController),this._snapPoints=null}};t([a({constructOnly:!0})],h.prototype,\"view\",void 0),t([a()],h.prototype,\"stagedPoint\",null),t([a()],h.prototype,\"constrainResult\",void 0),t([a()],h.prototype,\"_stagedPoint\",void 0),h=t([p(\"esri.views.interactive.snapping.SnappingOperation\")],h);export{h as SnappingOperation};\n"],"names":["t","constructor","grabbableForEvent","this","events","e","interactive","selectable","cursor","grabbable","intersectionDistance","attach","detach","onElevationChange","onViewChange","k","i","super","_createOperationCompleted","_pointerDownStates","Set","isDraped","labelOptions","D","tooltipOptions","C","snapToSceneEnabled","lastVertex","r","elevationInfo","_","hasZ","initialize","geometryType","view","spatialReference","n","state","viewingMode","x","s","coordinateHelper","w","hasM","_editGeometryOperations","M","T","_snappingOperation","P","constrainResult","_getEffectiveDrawSurface","constrainZ","handles","add","l","stagedVertex","emit","updated","vertices","componentIndex","vertexIndex","_activeComponent","length","coordinates","pointToArray","operation","type","sync","equals","c","y","b","data","components","push","a","segmentLabels","o","context","editGeometryOperations","enabled","visible","m","on","pointToVector","map","index","vectorToArray","pos","added","removed","getLastVertex","vectorToDehydratedPoint","_manipulator","S","drawingMode","pointerType","_snappingEnabled","size","manipulators","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","j","h","inputManager","latestPointerType","_getSnappingContext","snappingManager","updatingHandles","addPromise","d","resnap","destroy","options","effectiveEnabled","_requiresScenePoint","drawSurface","canRedo","canUndo","committedVertices","_set","f","isCompleted","numCommittedVertices","numVertices","snappingOptions","stagedPoint","updating","cancel","complete","aborted","commitStagedVertex","abort","appendVertex","doneSnapping","onInputEvent","pointerId","delete","_onPointerMove","_onHold","redo","undo","_closeOnClickVertexIndex","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","V","snappingStep","cancelSnapping","E","predicate","snappingContext","I","pointer","visualizer","snappingVisualizer","useZ","next","_screenToMapDragEventStep","action","mapStart","O","mapEnd","_drawAtFixedElevation","elevationDrawSurface","defaultZ","mode","getZ","_mapToScreen","mapToScreen","mapPoint","stopPropagation","button","dragging","screenPoint","_screenToMap","g","has","grabbing","_closeOnVertex","screenToMap","p","snap","point","scenePoint","screenStart","screenEnd","H","selfSnappingZ","value","u","prototype","constructOnly","v","_elevationInfo","_view","_excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","z","toScreen","exclude","toMap","R","W","mapToLocalMultiple","mapToLocal","doUnnormalization","_defaultZ","transform","transformInv","makeMapPoint","localToMap","F","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","scale","resolution","referenceMapPoint","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","fromRenderCoords","_snapPoints","_frameTask","_abortController","_stagedPoint","_snap","async","schedule","signal","valid","apply","update","resourceController","scheduler","registerTask","AbortController"],"sourceRoot":""}