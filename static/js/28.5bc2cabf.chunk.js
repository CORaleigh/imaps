(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[28,58,240],{1099:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return m}));var r=n(110),i=n(105);class s{constructor(){this.code=null,this.description=null}}class o{constructor(t){this.error=new s,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function a(t){return new o(t)}class u{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new u(t)}const h=new Set;function l(t,e,n,r=!1,s){h.clear();for(const o in n){const u=t.get(o);if(!u)continue;const c=n[o],l=f(u,c);if(l!==c&&s&&s.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:u,originalValue:c,sanitizedValue:l}}),h.add(u.name),u&&(r||u.editable)){const t=Object(i.z)(u,l);if(t)return a(Object(i.A)(t,u,l));e[u.name]=l}}for(const i of t.requiredFields)if(!h.has(i.name))return a(`missing required field "${i.name}"`);return null}function f(t,e){let n=e;return"string"==typeof e&&Object(i.u)(t)?n=parseFloat(e):null!=e&&Object(i.v)(t)&&"string"!=typeof e&&(n=String(e)),Object(i.x)(n)}let d;function m(t,e){if(!t||!Object(r.l)(e))return t;if("rings"in t||"paths"in t){if(!d)throw new TypeError("geometry engine not loaded");return d.simplify(e,t)}return t}async function g(t,e){!Object(r.l)(t)||"esriGeometryPolygon"!==e&&"esriGeometryPolyline"!==e||await async function(){return d||(d=await Promise.all([n.e(9),n.e(36)]).then(n.bind(null,1048)),d)}()}},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return F})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return M})),n.d(e,"h",(function(){return _})),n.d(e,"i",(function(){return j})),n.d(e,"j",(function(){return x})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return s})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return c})),n.d(e,"r",(function(){return u})),n.d(e,"s",(function(){return p})),n.d(e,"t",(function(){return O})),n.d(e,"u",(function(){return w})),n.d(e,"v",(function(){return h})),n.d(e,"w",(function(){return g}));n(82),n(113);var r=n(85),i=n(96);function s(t=B){return[t[0],t[1],t[2],t[3]]}function o(t){return[t[0],t[1],t[2],t[3]]}function a(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function u(t,e,n,r,i=s()){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function c(t,e=s()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function h(t,e){return new i.a({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function l(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function f(t,e,n){if(Object(r.k)(e))a(n,t);else if("length"in e)S(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):2!==e.length&&3!==e.length||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}}function d(t,e,n=t){const r=e.length;let i=t[0],s=t[1],o=t[2],a=t[3];for(let u=0;u<r;u++){const t=e[u];i=Math.min(i,t[0]),s=Math.min(s,t[1]),o=Math.max(o,t[0]),a=Math.max(a,t[1])}return n[0]=i,n[1]=s,n[2]=o,n[3]=a,n}function m(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function g(t){return Object(r.k)(t)||t[0]>=t[2]?0:t[2]-t[0]}function p(t){return t[1]>=t[3]?0:t[3]-t[1]}function b(t){return g(t)*p(t)}function y(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function M(t,e){return x(t,e[0],e[1])}function _(t,e){return x(t,e.x,e.y)}function x(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function j(t,e,n){return e[0]>=t[0]-n&&e[1]>=t[1]-n&&e[0]<=t[2]+n&&e[1]<=t[3]+n}function O(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function I(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function w(t,e,n,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+e,r[3]=t[3]+n,r}function v(t){return t?a(t,F):s(F)}function S(t){return null!=t&&4===t.length}const F=[1/0,1/0,-1/0,-1/0],B=[0,0,0,0]},149:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return z})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return B})),n.d(e,"p",(function(){return w})),n.d(e,"q",(function(){return F})),n.d(e,"r",(function(){return p})),n.d(e,"s",(function(){return o})),n.d(e,"t",(function(){return u})),n.d(e,"u",(function(){return M})),n.d(e,"v",(function(){return b})),n.d(e,"w",(function(){return y}));var r=n(106),i=n(176);function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,n,r,i,s,o,a,u,c,h,l,f,d,m,g,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=u,t[8]=c,t[9]=h,t[10]=l,t[11]=f,t[12]=d,t[13]=m,t[14]=g,t[15]=p,t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){if(t===e){const n=e[1],r=e[2],i=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=i,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function c(t,e){const n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],m=e[12],g=e[13],p=e[14],b=e[15],y=n*a-r*o,M=n*u-i*o,_=n*c-s*o,x=r*u-i*a,j=r*c-s*a,O=i*c-s*u,I=h*g-l*m,w=h*p-f*m,v=h*b-d*m,S=l*p-f*g,F=l*b-d*g,B=f*b-d*p;let z=y*B-M*F+_*S+x*v-j*w+O*I;return z?(z=1/z,t[0]=(a*B-u*F+c*S)*z,t[1]=(i*F-r*B-s*S)*z,t[2]=(g*O-p*j+b*x)*z,t[3]=(f*j-l*O-d*x)*z,t[4]=(u*v-o*B-c*w)*z,t[5]=(n*B-i*v+s*w)*z,t[6]=(p*_-m*O-b*M)*z,t[7]=(h*O-f*_+d*M)*z,t[8]=(o*F-a*v+c*I)*z,t[9]=(r*v-n*F-s*I)*z,t[10]=(m*j-g*_+b*y)*z,t[11]=(l*_-h*j-d*y)*z,t[12]=(a*w-o*S-u*I)*z,t[13]=(n*S-r*w+i*I)*z,t[14]=(g*M-m*x-p*y)*z,t[15]=(h*x-l*M+f*y)*z,t):null}function h(t,e,n){const r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=e[9],d=e[10],m=e[11],g=e[12],p=e[13],b=e[14],y=e[15];let M=n[0],_=n[1],x=n[2],j=n[3];return t[0]=M*r+_*a+x*l+j*g,t[1]=M*i+_*u+x*f+j*p,t[2]=M*s+_*c+x*d+j*b,t[3]=M*o+_*h+x*m+j*y,M=n[4],_=n[5],x=n[6],j=n[7],t[4]=M*r+_*a+x*l+j*g,t[5]=M*i+_*u+x*f+j*p,t[6]=M*s+_*c+x*d+j*b,t[7]=M*o+_*h+x*m+j*y,M=n[8],_=n[9],x=n[10],j=n[11],t[8]=M*r+_*a+x*l+j*g,t[9]=M*i+_*u+x*f+j*p,t[10]=M*s+_*c+x*d+j*b,t[11]=M*o+_*h+x*m+j*y,M=n[12],_=n[13],x=n[14],j=n[15],t[12]=M*r+_*a+x*l+j*g,t[13]=M*i+_*u+x*f+j*p,t[14]=M*s+_*c+x*d+j*b,t[15]=M*o+_*h+x*m+j*y,t}function l(t,e,n){const r=n[0],i=n[1],s=n[2];let o,a,u,c,h,l,f,d,m,g,p,b;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],a=e[1],u=e[2],c=e[3],h=e[4],l=e[5],f=e[6],d=e[7],m=e[8],g=e[9],p=e[10],b=e[11],t[0]=o,t[1]=a,t[2]=u,t[3]=c,t[4]=h,t[5]=l,t[6]=f,t[7]=d,t[8]=m,t[9]=g,t[10]=p,t[11]=b,t[12]=o*r+h*i+m*s+e[12],t[13]=a*r+l*i+g*s+e[13],t[14]=u*r+f*i+p*s+e[14],t[15]=c*r+d*i+b*s+e[15]),t}function f(t,e,n){const r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n,r){let s,o,a,u,c,h,l,f,d,m,g,p,b,y,M,_,x,j,O,I,w,v,S,F,B=r[0],z=r[1],T=r[2],R=Math.sqrt(B*B+z*z+T*T);return R<i.a?null:(R=1/R,B*=R,z*=R,T*=R,s=Math.sin(n),o=Math.cos(n),a=1-o,u=e[0],c=e[1],h=e[2],l=e[3],f=e[4],d=e[5],m=e[6],g=e[7],p=e[8],b=e[9],y=e[10],M=e[11],_=B*B*a+o,x=z*B*a+T*s,j=T*B*a-z*s,O=B*z*a-T*s,I=z*z*a+o,w=T*z*a+B*s,v=B*T*a+z*s,S=z*T*a-B*s,F=T*T*a+o,t[0]=u*_+f*x+p*j,t[1]=c*_+d*x+b*j,t[2]=h*_+m*x+y*j,t[3]=l*_+g*x+M*j,t[4]=u*O+f*I+p*w,t[5]=c*O+d*I+b*w,t[6]=h*O+m*I+y*w,t[7]=l*O+g*I+M*w,t[8]=u*v+f*S+p*F,t[9]=c*v+d*S+b*F,t[10]=h*v+m*S+y*F,t[11]=l*v+g*S+M*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function m(t,e,n){const r=Math.sin(n),i=Math.cos(n),s=e[4],o=e[5],a=e[6],u=e[7],c=e[8],h=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+c*r,t[5]=o*i+h*r,t[6]=a*i+l*r,t[7]=u*i+f*r,t[8]=c*i-s*r,t[9]=h*i-o*r,t[10]=l*i-a*r,t[11]=f*i-u*r,t}function g(t,e,n){const r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],u=e[3],c=e[8],h=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-c*r,t[1]=o*i-h*r,t[2]=a*i-l*r,t[3]=u*i-f*r,t[8]=s*r+c*i,t[9]=o*r+h*i,t[10]=a*r+l*i,t[11]=u*r+f*i,t}function p(t,e,n){const r=Math.sin(n),i=Math.cos(n),s=e[0],o=e[1],a=e[2],u=e[3],c=e[4],h=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+c*r,t[1]=o*i+h*r,t[2]=a*i+l*r,t[3]=u*i+f*r,t[4]=c*i-s*r,t[5]=h*i-o*r,t[6]=l*i-a*r,t[7]=f*i-u*r,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e,n){const r=e[0],i=e[1],s=e[2],o=e[3],a=r+r,u=i+i,c=s+s,h=r*a,l=r*u,f=r*c,d=i*u,m=i*c,g=s*c,p=o*a,b=o*u,y=o*c;return t[0]=1-(d+g),t[1]=l+y,t[2]=f-b,t[3]=0,t[4]=l-y,t[5]=1-(h+g),t[6]=m+p,t[7]=0,t[8]=f+b,t[9]=m-p,t[10]=1-(h+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}const j=Object(r.f)();function O(t,e){const n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,a=r+r,u=i+i,c=n*o,h=r*o,l=r*a,f=i*o,d=i*a,m=i*u,g=s*o,p=s*a,b=s*u;return t[0]=1-l-m,t[1]=h+b,t[2]=f-p,t[3]=0,t[4]=h-b,t[5]=1-c-m,t[6]=d+g,t[7]=0,t[8]=f+p,t[9]=d-g,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,i,s,o){const a=1/(n-e),u=1/(i-r),c=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*u,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*u,t[10]=(o+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*c,t[15]=0,t}function w(t,e,n,r,i,s,o){const a=1/(e-n),u=1/(r-i),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*u,t[14]=(o+s)*c,t[15]=1,t}function v(t,e,n,r){let s,o,u,c,h,l,f,d,m,g;const p=e[0],b=e[1],y=e[2],M=r[0],_=r[1],x=r[2],j=n[0],O=n[1],I=n[2];return Math.abs(p-j)<i.a&&Math.abs(b-O)<i.a&&Math.abs(y-I)<i.a?a(t):(f=p-j,d=b-O,m=y-I,g=1/Math.sqrt(f*f+d*d+m*m),f*=g,d*=g,m*=g,s=_*m-x*d,o=x*f-M*m,u=M*d-_*f,g=Math.sqrt(s*s+o*o+u*u),g?(g=1/g,s*=g,o*=g,u*=g):(s=0,o=0,u=0),c=d*u-m*o,h=m*s-f*u,l=f*o-d*s,g=Math.sqrt(c*c+h*h+l*l),g?(g=1/g,c*=g,h*=g,l*=g):(c=0,h=0,l=0),t[0]=s,t[1]=c,t[2]=f,t[3]=0,t[4]=o,t[5]=h,t[6]=d,t[7]=0,t[8]=u,t[9]=l,t[10]=m,t[11]=0,t[12]=-(s*p+o*b+u*y),t[13]=-(c*p+h*b+l*y),t[14]=-(f*p+d*b+m*y),t[15]=1,t)}function S(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function F(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function B(t,e){if(t===e)return!0;const n=t[0],r=t[1],s=t[2],o=t[3],a=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=t[9],d=t[10],m=t[11],g=t[12],p=t[13],b=t[14],y=t[15],M=e[0],_=e[1],x=e[2],j=e[3],O=e[4],I=e[5],w=e[6],v=e[7],S=e[8],F=e[9],B=e[10],z=e[11],T=e[12],R=e[13],k=e[14],q=e[15];return Math.abs(n-M)<=i.a*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(r-_)<=i.a*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(s-x)<=i.a*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(o-j)<=i.a*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(a-O)<=i.a*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(u-I)<=i.a*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(c-w)<=i.a*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(h-v)<=i.a*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(l-S)<=i.a*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-F)<=i.a*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(d-B)<=i.a*Math.max(1,Math.abs(d),Math.abs(B))&&Math.abs(m-z)<=i.a*Math.max(1,Math.abs(m),Math.abs(z))&&Math.abs(g-T)<=i.a*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(p-R)<=i.a*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(b-k)<=i.a*Math.max(1,Math.abs(b),Math.abs(k))&&Math.abs(y-q)<=i.a*Math.max(1,Math.abs(y),Math.abs(q))}function z(t){const e=i.a,n=t[0],r=t[1],s=t[2],o=t[4],a=t[5],u=t[6],c=t[8],h=t[9],l=t[10];return Math.abs(1-(n*n+o*o+c*c))<=e&&Math.abs(1-(r*r+a*a+h*h))<=e&&Math.abs(1-(s*s+u*u+l*l))<=e}const T=h,R=S;Object.freeze({__proto__:null,copy:s,set:o,identity:a,transpose:u,invert:c,adjoint:function(t,e){const n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],m=e[12],g=e[13],p=e[14],b=e[15];return t[0]=a*(f*b-d*p)-l*(u*b-c*p)+g*(u*d-c*f),t[1]=-(r*(f*b-d*p)-l*(i*b-s*p)+g*(i*d-s*f)),t[2]=r*(u*b-c*p)-a*(i*b-s*p)+g*(i*c-s*u),t[3]=-(r*(u*d-c*f)-a*(i*d-s*f)+l*(i*c-s*u)),t[4]=-(o*(f*b-d*p)-h*(u*b-c*p)+m*(u*d-c*f)),t[5]=n*(f*b-d*p)-h*(i*b-s*p)+m*(i*d-s*f),t[6]=-(n*(u*b-c*p)-o*(i*b-s*p)+m*(i*c-s*u)),t[7]=n*(u*d-c*f)-o*(i*d-s*f)+h*(i*c-s*u),t[8]=o*(l*b-d*g)-h*(a*b-c*g)+m*(a*d-c*l),t[9]=-(n*(l*b-d*g)-h*(r*b-s*g)+m*(r*d-s*l)),t[10]=n*(a*b-c*g)-o*(r*b-s*g)+m*(r*c-s*a),t[11]=-(n*(a*d-c*l)-o*(r*d-s*l)+h*(r*c-s*a)),t[12]=-(o*(l*p-f*g)-h*(a*p-u*g)+m*(a*f-u*l)),t[13]=n*(l*p-f*g)-h*(r*p-i*g)+m*(r*f-i*l),t[14]=-(n*(a*p-u*g)-o*(r*p-i*g)+m*(r*u-i*a)),t[15]=n*(a*f-u*l)-o*(r*f-i*l)+h*(r*u-i*a),t},determinant:function(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],u=t[7],c=t[8],h=t[9],l=t[10],f=t[11],d=t[12],m=t[13],g=t[14],p=t[15];return(e*o-n*s)*(l*p-f*g)-(e*a-r*s)*(h*p-f*m)+(e*u-i*s)*(h*g-l*m)+(n*a-r*o)*(c*p-f*d)-(n*u-i*o)*(c*g-l*d)+(r*u-i*a)*(c*m-h*d)},multiply:h,translate:l,scale:f,rotate:d,rotateX:m,rotateY:g,rotateZ:p,fromTranslation:b,fromScaling:y,fromRotation:function(t,e,n){let r,s,o,a=n[0],u=n[1],c=n[2],h=Math.sqrt(a*a+u*u+c*c);return h<i.a?null:(h=1/h,a*=h,u*=h,c*=h,r=Math.sin(e),s=Math.cos(e),o=1-s,t[0]=a*a*o+s,t[1]=u*a*o+c*r,t[2]=c*a*o-u*r,t[3]=0,t[4]=a*u*o-c*r,t[5]=u*u*o+s,t[6]=c*u*o+a*r,t[7]=0,t[8]=a*c*o+u*r,t[9]=u*c*o-a*r,t[10]=c*c*o+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:M,fromYRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:_,fromRotationTranslation:x,fromQuat2:function(t,e){const n=j,r=-e[0],i=-e[1],s=-e[2],o=e[3],a=e[4],u=e[5],c=e[6],h=e[7],l=r*r+i*i+s*s+o*o;return l>0?(n[0]=2*(a*o+h*r+u*s-c*i)/l,n[1]=2*(u*o+h*i+c*r-a*s)/l,n[2]=2*(c*o+h*s+a*i-u*r)/l):(n[0]=2*(a*o+h*r+u*s-c*i),n[1]=2*(u*o+h*i+c*r-a*s),n[2]=2*(c*o+h*s+a*i-u*r)),x(t,e,n),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},getScaling:function(t,e){const n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],a=e[6],u=e[8],c=e[9],h=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(s*s+o*o+a*a),t[2]=Math.sqrt(u*u+c*c+h*h),t},getRotation:function(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},fromRotationTranslationScale:function(t,e,n,r){const i=e[0],s=e[1],o=e[2],a=e[3],u=i+i,c=s+s,h=o+o,l=i*u,f=i*c,d=i*h,m=s*c,g=s*h,p=o*h,b=a*u,y=a*c,M=a*h,_=r[0],x=r[1],j=r[2];return t[0]=(1-(m+p))*_,t[1]=(f+M)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(f-M)*x,t[5]=(1-(l+p))*x,t[6]=(g+b)*x,t[7]=0,t[8]=(d+y)*j,t[9]=(g-b)*j,t[10]=(1-(l+m))*j,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,n,r,i){const s=e[0],o=e[1],a=e[2],u=e[3],c=s+s,h=o+o,l=a+a,f=s*c,d=s*h,m=s*l,g=o*h,p=o*l,b=a*l,y=u*c,M=u*h,_=u*l,x=r[0],j=r[1],O=r[2],I=i[0],w=i[1],v=i[2],S=(1-(g+b))*x,F=(d+_)*x,B=(m-M)*x,z=(d-_)*j,T=(1-(f+b))*j,R=(p+y)*j,k=(m+M)*O,q=(p-y)*O,N=(1-(f+g))*O;return t[0]=S,t[1]=F,t[2]=B,t[3]=0,t[4]=z,t[5]=T,t[6]=R,t[7]=0,t[8]=k,t[9]=q,t[10]=N,t[11]=0,t[12]=n[0]+I-(S*I+z*w+k*v),t[13]=n[1]+w-(F*I+T*w+q*v),t[14]=n[2]+v-(B*I+R*w+N*v),t[15]=1,t},fromQuat:O,frustum:I,perspective:function(t,e,n,r,i){const s=1/Math.tan(e/2);let o;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},perspectiveFromFieldOfView:function(t,e,n,r){const i=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+a),c=2/(i+s);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-a)*u*.5,t[9]=(i-s)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},ortho:w,lookAt:v,targetTo:function(t,e,n,r){const i=e[0],s=e[1],o=e[2],a=r[0],u=r[1],c=r[2];let h=i-n[0],l=s-n[1],f=o-n[2],d=h*h+l*l+f*f;d>0&&(d=1/Math.sqrt(d),h*=d,l*=d,f*=d);let m=u*f-c*l,g=c*h-a*f,p=a*l-u*h;return d=m*m+g*g+p*p,d>0&&(d=1/Math.sqrt(d),m*=d,g*=d,p*=d),t[0]=m,t[1]=g,t[2]=p,t[3]=0,t[4]=l*p-f*g,t[5]=f*m-h*p,t[6]=h*g-l*m,t[7]=0,t[8]=h,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},subtract:S,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},exactEquals:F,equals:B,isOrthoNormal:z,mul:T,sub:R})},163:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(79),i=n(86),s=n(81),o=(n(84),n(82),n(83),n(80));let a=class extends i.a{constructor(t){super(t),this.type=null}};Object(r.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=Object(r.a)([Object(o.a)("esri.rest.support.ColorRamp")],a);const u=a},180:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return Q})),n.d(e,"c",(function(){return J})),n.d(e,"d",(function(){return H})),n.d(e,"e",(function(){return V})),n.d(e,"f",(function(){return A})),n.d(e,"g",(function(){return L})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return W})),n.d(e,"j",(function(){return K})),n.d(e,"k",(function(){return U})),n.d(e,"l",(function(){return k})),n.d(e,"m",(function(){return j})),n.d(e,"n",(function(){return G})),n.d(e,"o",(function(){return X})),n.d(e,"p",(function(){return lt})),n.d(e,"q",(function(){return rt})),n.d(e,"r",(function(){return ot})),n.d(e,"s",(function(){return ht})),n.d(e,"t",(function(){return et})),n.d(e,"u",(function(){return nt})),n.d(e,"v",(function(){return y})),n.d(e,"w",(function(){return M})),n.d(e,"x",(function(){return ut})),n.d(e,"y",(function(){return tt})),n.d(e,"z",(function(){return at}));var r=n(88),i=n(87),s=n(85),o=n(98),a=n(261),u=n(334),c=n(188);function h(t,e){return t?e?4:3:e?3:2}const l=i.a.getLogger("esri.tasks.support.optimizedFeatureSet"),f={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},d=(t,e,n,r,i,s)=>{t[n]=i,t[n+1]=s},m=(t,e,n,r,i,s)=>{t[n]=i,t[n+1]=s,t[n+2]=e[r+2]},g=(t,e,n,r,i,s)=>{t[n]=i,t[n+1]=s,t[n+2]=e[r+3]},p=(t,e,n,r,i,s)=>{t[n]=i,t[n+1]=s,t[n+2]=e[r+2],t[n+3]=e[r+3]};function b(t,e,n,r){if(t){if(n)return e&&r?p:m;if(e&&r)return g}else if(e&&r)return m;return d}function y({scale:t,translate:e},n){return Math.round((n-e[0])/t[0])}function M({scale:t,translate:e},n){return Math.round((e[1]-n)/t[1])}function _({scale:t,translate:e},n){return n*t[0]+e[0]}function x({scale:t,translate:e},n){return e[1]-n*t[1]}function j(t,e,n){return t?e?n?B(t):w(t):n?S(t):O(t):null}function O(t){const e=t.coords;return{x:e[0],y:e[1]}}function I(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t}function w(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2]}}function v(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t}function S(t){const e=t.coords;return{x:e[0],y:e[1],m:e[2]}}function F(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.m,t}function B(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function z(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t.coords[3]=e.m,t}function T(t,e){return t&&e?z:t?v:e?F:I}function R(t,e,n,r,i){const s=T(n,r);for(const o of e){const{geometry:e,attributes:n}=o;let r;e&&(r=s(new c.a,e)),t.push(new a.b(r,n,null,n[i]))}return t}function k(t,e,n){if(Object(s.k)(t))return null;const r=h(e,n),i=[];for(let s=0;s<t.coords.length;s+=r){const e=[];for(let n=0;n<r;n++)e.push(t.coords[s+n]);i.push(e)}return e?n?{points:i,hasZ:e,hasM:n}:{points:i,hasZ:e}:n?{points:i,hasM:n}:{points:i}}function q(t,e,n,r,i){const s=h(n,r);for(const o of e){const e=o.geometry,n=o.attributes;let r;e&&(r=N(new c.a,e,s)),t.push(new a.b(r,n,null,n[i]))}return t}function N(t,e,n=h(e.hasZ,e.hasM)){t.lengths[0]=e.points.length;const r=t.coords;let i=0;for(const s of e.points)for(let t=0;t<n;t++)r[i++]=s[t];return t}function X(t,e,n){if(!t)return null;const r=h(e,n),{coords:i,lengths:s}=t,o=[];let a=0;for(const u of s){const t=[];for(let e=0;e<u;e++){const e=[];for(let t=0;t<r;t++)e.push(i[a++]);t.push(e)}o.push(t)}return e?n?{paths:o,hasZ:e,hasM:n}:{paths:o,hasZ:e}:n?{paths:o,hasM:n}:{paths:o}}function Y(t,e,n,r,i){const s=h(n,r);for(const o of e){const e=o.geometry,n=o.attributes;let r;e&&(r=P(new c.a,e,s)),t.push(new a.b(r,n,null,n[i]))}return t}function P(t,e,n=h(e.hasZ,e.hasM)){const{lengths:r,coords:i}=t;let s=0;for(const o of e.paths){for(const t of o)for(let e=0;e<n;e++)i[s++]=t[e];r.push(o.length)}return t}function G(t,e,n){if(!t)return null;const r=h(e,n),{coords:i,lengths:s}=t,o=[];let a=0;for(const u of s){const t=[];for(let e=0;e<u;e++){const e=[];for(let t=0;t<r;t++)e.push(i[a++]);t.push(e)}o.push(t)}return e?n?{rings:o,hasZ:e,hasM:n}:{rings:o,hasZ:e}:n?{rings:o,hasM:n}:{rings:o}}function E(t,e,n,r,i){for(const o of e){const e=o.geometry,u=o.centroid,h=o.attributes;let l;e&&(l=L(new c.a,e,n,r)),Object(s.l)(u)?t.push(new a.b(l,h,I(new c.a,u),h[i])):t.push(new a.b(l,h,null,h[i]))}return t}function L(t,e,n=e.hasZ,r=e.hasM){return A(t,e.rings,n,r),t}function A(t,e,n,r){const i=h(n,r),{lengths:s,coords:o}=t;let a=0;s.length=o.length=0;for(const u of e){for(const t of u)for(let e=0;e<i;e++)o[a++]=t[e];s.push(u.length)}return t}const C=[],Z=[];function D(t,e,n,r,i){C[0]=t;const[s]=J(Z,C,e,n,r,i);return C.length=Z.length=0,s}function J(t,e,n,i,s,o){if(t.length=0,!n){for(const n of e){const e=n.attributes[o];t.push(new a.b(null,n.attributes,null,e))}return t}switch(n){case"esriGeometryPoint":return R(t,e,i,s,o);case"esriGeometryMultipoint":return q(t,e,i,s,o);case"esriGeometryPolyline":return Y(t,e,i,s,o);case"esriGeometryPolygon":return E(t,e,i,s,o);default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`)),t.length=0}return t}function V(t,e,n,i,s,o){const a=t.length;switch(n){case"esriGeometryPoint":R(t,e,i,s,o);break;case"esriGeometryMultipoint":q(t,e,i,s,o);break;case"esriGeometryPolyline":Y(t,e,i,s,o);break;case"esriGeometryPolygon":E(t,e,i,s,o);break;default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<e.length;r++)t[r+a].geometryType=n,t[r+a].insertAfter=e[r].insertAfter,t[r+a].groupId=e[r].groupId;return t}function W(t,e,n,r){Z[0]=t,$(C,Z,e,n,r);const i=C[0];return C.length=Z.length=0,i}function H(t,e,n){if(Object(s.k)(t))return null;const i=new c.a;return"hasZ"in t&&null==e&&(e=t.hasZ),"hasM"in t&&null==n&&(n=t.hasM),Object(o.f)(t)?T(null!=e?e:null!=t.z,null!=n?n:null!=t.m)(i,t):Object(o.g)(t)?L(i,t,e,n):Object(o.h)(t)?P(i,t,h(e,n)):Object(o.e)(t)?N(i,t,h(e,n)):void l.error("convertFromGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${t}'`))}function U(t,e,n,i){const o=t&&("coords"in t?t:t.geometry);if(Object(s.k)(o))return null;switch(e){case"esriGeometryPoint":{let t=O;return n&&i?t=B:n?t=w:i&&(t=S),t(o)}case"esriGeometryMultipoint":return k(o,n,i);case"esriGeometryPolyline":return X(o,n,i);case"esriGeometryPolygon":return G(o,n,i);default:return void l.error("convertToGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${e}'`))}}function $(t,e,n,i,o){if(t.length=0,Object(s.k)(n))return function(t,e){for(const n of e)t.push({attributes:n.attributes});return t}(t,e);switch(n){case"esriGeometryPoint":return function(t,e,n,r){let i=O;n&&r?i=B:n?i=w:r&&(i=S);for(const o of e){const{geometry:e,attributes:n}=o,r=Object(s.l)(e)?i(e):null;t.push({attributes:n,geometry:r})}return t}(t,e,i,o);case"esriGeometryMultipoint":return function(t,e,n,r){for(const i of e){const{geometry:e,attributes:s}=i;let o;e&&(o=k(e,n,r)),t.push({attributes:s,geometry:o})}return t}(t,e,i,o);case"esriGeometryPolyline":return function(t,e,n,r){for(const i of e){const{geometry:e,attributes:o}=i;let a;Object(s.l)(e)&&(a=X(e,n,r)),t.push({attributes:o,geometry:a})}return t}(t,e,i,o);case"esriGeometryPolygon":return function(t,e,n,r){for(const i of e){const{geometry:e,attributes:o,centroid:a}=i;let u;if(Object(s.l)(e)&&(u=G(e,n,r)),a){const e=O(a);t.push({attributes:o,centroid:e,geometry:u})}else t.push({attributes:o,geometry:u})}return t}(t,e,i,o);default:l.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}return t}function K(t){const{objectIdFieldName:e,spatialReference:n,transform:r,fields:i,hasM:s,hasZ:o,features:a,geometryType:u,exceededTransferLimit:c,uniqueIdField:h,queryGeometry:l,queryGeometryType:f}=t,d={features:$([],a,u,o,s),fields:i,geometryType:u,objectIdFieldName:e,spatialReference:n,uniqueIdField:h,queryGeometry:U(l,f,!1,!1)};return r&&(d.transform=r),c&&(d.exceededTransferLimit=c),s&&(d.hasM=s),o&&(d.hasZ=o),d}function Q(t,e){const n=new u.a,{hasM:i,hasZ:s,features:o,objectIdFieldName:a,spatialReference:c,geometryType:h,exceededTransferLimit:f,transform:d,fields:m}=t;return m&&(n.fields=m),n.geometryType=h,n.objectIdFieldName=a||e,n.spatialReference=c,n.objectIdFieldName?(o&&J(n.features,o,h,s,i,n.objectIdFieldName),f&&(n.exceededTransferLimit=f),i&&(n.hasM=i),s&&(n.hasZ=s),d&&(n.transform=d),n):(l.error(new r.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function tt(t){const{transform:e,features:n,hasM:r,hasZ:i}=t;if(!e)return t;for(const o of n)Object(s.l)(o.geometry)&&at(o.geometry,o.geometry,r,i,e),o.centroid&&at(o.centroid,o.centroid,r,i,e);return t.transform=null,t}function et(t,e){const{geometryType:n,features:r,hasM:i,hasZ:s}=e;if(!t)return e;for(let o=0;o<r.length;o++){const e=r[o],a=e.weakClone();a.geometry=new c.a,nt(a.geometry,e.geometry,i,s,n,t),e.centroid&&(a.centroid=new c.a,nt(a.centroid,e.centroid,i,s,"esriGeometryPoint",t)),r[o]=a}return e.transform=t,e}function nt(t,e,n,r,i,o,a=n,u=r){if(t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0),Object(s.k)(e)||!e.coords.length)return null;const c=f[i],{coords:l,lengths:d}=e,m=h(n,r),g=h(n&&a,r&&u),p=b(n,r,a,u);if(!d.length)return p(t.coords,l,0,0,y(o,l[0]),M(o,l[1])),t.lengths.length&&(t.lengths.length=0),t.coords.length=m,t;let _,x,j,O,I=0,w=0,v=w;for(const s of d){if(s<c)continue;let e=0;w=v,j=_=y(o,l[I]),O=x=M(o,l[I+1]),p(t.coords,l,w,I,j,O),e++,I+=m,w+=g;for(let n=1;n<s;n++,I+=m)j=y(o,l[I]),O=M(o,l[I+1]),j===_&&O===x||(p(t.coords,l,w,I,j-_,O-x),w+=g,e++,_=j,x=O);e>=c&&(t.lengths.push(e),v=w)}return t.coords.length=v,t.coords.length?t:null}function rt(t,e,n,r,i,s,o=n,a=r){if(t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0),!e||!e.coords.length)return null;const u=f[i],{coords:c,lengths:l}=e,d=h(n,r),m=h(n&&o,r&&a),g=b(n,r,o,a);if(!l.length)return g(t.coords,c,0,0,c[0],c[1]),t.lengths.length&&(t.lengths.length=0),t.coords.length=d,t;let p=0;const y=s*s;for(const h of l){if(h<u){p+=h*d;continue}const e=t.coords.length/m,n=p,r=p+(h-1)*d;g(t.coords,c,t.coords.length,n,c[n],c[n+1]),st(t.coords,c,d,y,g,n,r),g(t.coords,c,t.coords.length,r,c[r],c[r+1]);const i=t.coords.length/m-e;i>=u?t.lengths.push(i):t.coords.length=e*m,p+=h*d}return t.coords.length?t:null}function it(t,e,n,r){const i=t[e],s=t[e+1],o=t[n],a=t[n+1],u=t[r],c=t[r+1];let h=o,l=a,f=u-h,d=c-l;if(0!==f||0!==d){const t=((i-h)*f+(s-l)*d)/(f*f+d*d);t>1?(h=u,l=c):t>0&&(h+=f*t,l+=d*t)}return f=i-h,d=s-l,f*f+d*d}function st(t,e,n,r,i,s,o){let a,u=r,c=0;for(let h=s+n;h<o;h+=n)a=it(e,h,s,o),a>u&&(c=h,u=a);u>r&&(c-s>n&&st(t,e,n,r,i,s,c),i(t,e,t.length,c,e[c],e[c+1]),o-c>n&&st(t,e,n,r,i,c,o))}function ot(t,e,n,r){if(Object(s.k)(e)||!e.coords||!e.coords.length)return null;const i=h(n,r);let o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(e&&e.coords){const t=e.coords;for(let e=0;e<t.length;e+=i){const n=t[e],r=t[e+1];o=Math.min(o,n),u=Math.max(u,n),a=Math.min(a,r),c=Math.max(c,r)}}return t[0]=o,t[1]=a,t[2]=u,t[3]=c,t}function at(t,e,n,r,i){const{coords:s,lengths:o}=e,a=n?r?p:m:r?m:d,u=h(n,r);if(!s.length)return t!==e&&(t.lengths.length=0,t.coords.length=0),t;if(!o.length)return a(t.coords,s,0,0,_(i,s[0]),x(i,s[1])),t!==e&&(t.lengths.length=0,t.coords.length=u),t;const[c,l]=i.scale;let f=0;for(let h=0;h<o.length;h++){const e=o[h];t.lengths[h]=e;let n=_(i,s[f]),r=x(i,s[f+1]);a(t.coords,s,f,f,n,r),f+=u;for(let i=1;i<e;i++,f+=u)n+=s[f]*c,r-=s[f+1]*l,a(t.coords,s,f,f,n,r)}return t!==e&&(t.lengths.length=o.length,t.coords.length=s.length),t}function ut(t,e,n,r,i,s){const o=h(n,r),a=b(n,r,i,s),u=e.coords;t.coords.length=0,t.lengths.length=0,t.lengths.push(...e.lengths);for(let c=0;c<u.length;c+=o)a(t.coords,u,t.coords.length,c,u[c],u[c+1]);return t}function ct(t,e,n,r){let i=0,s=t[r*e],o=t[r*(e+1)];for(let a=1;a<n;a++){const n=s+t[r*(e+a)],u=o+t[r*(e+a)+1],c=(n-s)*(u+o);s=n,o=u,i+=c}return.5*i}function ht(t,e){const{coords:n,lengths:r}=t;let i=0,s=0;for(let o=0;o<r.length;o++)s+=ct(n,i,r[o],e),i+=o;return Math.abs(s)}function lt(t,e){if(Object(s.k)(t))return null;const n=t.clone(),r=t.coords,i=t.lengths;let o=0;for(let s=0;s<i.length;s++){const t=i[s];let a=r[e*o],u=r[e*o+1];for(let i=1;i<t;i++){const t=a+r[e*(o+i)],s=u+r[e*(o+i)+1];n.coords[e*(o+i)]=t,n.coords[e*(o+i)+1]=s,a=t,u=s}o+=t}return n}},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t=[],e=[],n=!1){this.lengths=null!=t?t:[],this.coords=null!=e?e:[],this.hasIndeterminateRingOrder=n}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)t(this.coords[2*(n+e)],this.coords[2*(n+e)+1]);e+=r}}clone(t){return t?(t.set(this.coords),new r(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},194:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},200:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r,i=n(79),s=n(103),o=n(89),a=n(81),u=n(83),c=n(95),h=n(80),l=n(163);let f=r=class extends l.a{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new r({fromColor:Object(o.a)(this.fromColor),toColor:Object(o.a)(this.toColor),algorithm:this.algorithm})}};Object(i.a)([Object(c.a)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0),Object(i.a)([Object(a.b)({type:s.a,json:{type:[u.a],write:!0}})],f.prototype,"fromColor",void 0),Object(i.a)([Object(a.b)({type:s.a,json:{type:[u.a],write:!0}})],f.prototype,"toColor",void 0),Object(i.a)([Object(a.b)({type:["algorithmic"]})],f.prototype,"type",void 0),f=r=Object(i.a)([Object(h.a)("esri.rest.support.AlgorithmicColorRamp")],f);const d=f},212:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return f}));n(201),n(162);var r=n(85),i=n(217);n(168);function s(t,e,n={}){return a(t,e,n,u)}function o(t,e,n={}){return a(t,e,n,c)}function a(t,e,n={},s){let o=null;const a=n.once?(t,n)=>{s(t)&&(Object(r.s)(o),e(t,n))}:(t,n)=>{s(t)&&e(t,n)};if(o=Object(i.e)(t,a,n.sync,n.equals),n.initial){const e=t();a(e,e)}return o}function u(t){return!0}function c(t){return!!t}const h={sync:!0},l={initial:!0},f={sync:!0,initial:!0}},221:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,n(194))},223:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return F})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return o})),n.d(e,"q",(function(){return I})),n.d(e,"r",(function(){return x})),n.d(e,"s",(function(){return R})),n.d(e,"t",(function(){return M})),n.d(e,"u",(function(){return j})),n.d(e,"v",(function(){return O})),n.d(e,"w",(function(){return S})),n.d(e,"x",(function(){return v})),n.d(e,"y",(function(){return w})),n.d(e,"z",(function(){return y})),n.d(e,"A",(function(){return B}));var r=n(85),i=(n(96),n(118));function s(t=N){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function o(t,e,n,r,i,o,a=s()){return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function a(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function u(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function c(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function h(t,e,n=0,r=e.length/3){let i=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5];for(let h=0;h<r;h++)i=Math.min(i,e[n+3*h]),s=Math.min(s,e[n+3*h+1]),o=Math.min(o,e[n+3*h+2]),a=Math.max(a,e[n+3*h]),u=Math.max(u,e[n+3*h+1]),c=Math.max(c,e[n+3*h+2]);t[0]=i,t[1]=s,t[2]=o,t[3]=a,t[4]=u,t[5]=c}function l(t,e,n){const r=e.length;let i=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5];if(n)for(let h=0;h<r;h++){const t=e[h];i=Math.min(i,t[0]),s=Math.min(s,t[1]),o=Math.min(o,t[2]),a=Math.max(a,t[0]),u=Math.max(u,t[1]),c=Math.max(c,t[2])}else for(let h=0;h<r;h++){const t=e[h];i=Math.min(i,t[0]),s=Math.min(s,t[1]),a=Math.max(a,t[0]),u=Math.max(u,t[1])}t[0]=i,t[1]=s,t[2]=o,t[3]=a,t[4]=u,t[5]=c}function f(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function d(t){return t[0]>=t[3]?0:t[3]-t[0]}function m(t){return t[1]>=t[4]?0:t[4]-t[1]}function g(t){return t[2]>=t[5]?0:t[5]-t[2]}function p(t){const e=d(t),n=g(t),r=m(t);return Math.sqrt(e*e+n*n+r*r)}function b(t,e=[0,0,0]){return e[0]=t[0]+d(t)/2,e[1]=t[1]+m(t)/2,e[2]=t[2]+g(t)/2,e}function y(t,e=[0,0,0]){return e[0]=d(t),e[1]=m(t),e[2]=g(t),e}function M(t){return Math.max(d(t),g(t),m(t))}function _(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function x(t,e){return!!Object(r.k)(e)||function(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}(t,e)}function j(t,e,n,r,i=t){return i[0]=t[0]+e,i[1]=t[1]+n,i[2]=t[2]+r,i[3]=t[3]+e,i[4]=t[4]+n,i[5]=t[5]+r,i}function O(t,e,n=t){const r=t[0]+d(t)/2,i=t[1]+m(t)/2,s=t[2]+g(t)/2;return n[0]=r+(t[0]-r)*e,n[1]=i+(t[1]-i)*e,n[2]=s+(t[2]-s)*e,n[3]=r+(t[3]-r)*e,n[4]=i+(t[4]-i)*e,n[5]=s+(t[5]-s)*e,n}function I(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function w(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function v(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function F(t){return t?S(t,q):s(q)}function B(t,e){return e||(e=Object(i.l)()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function T(t){return 6===t.length}function R(t){return 0===d(t)&&0===m(t)&&0===g(t)}function k(t,e,n){if(Object(r.k)(t)||Object(r.k)(e))return t===e;if(!T(t)||!T(e))return!1;if(n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1}else for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const q=[1/0,1/0,1/0,-1/0,-1/0,-1/0],N=[0,0,0,0,0,0];s()},239:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a}));var r=n(85),i=n(215);const s=-3;class o{constructor(t,e,n){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,e,n,r=0){this._storage.put(this._namespace+t,e,n,r)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,n){this._storage.updateSize(this._namespace+t,e,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class a{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.a,this._users=new i.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,n,r){const i=this._db.get(t);if(i&&(this._size-=i.size,this._db.delete(t),i.entry!==e&&this._notifyRemove(t,i.entry,0)),n>this._maxSize)return void this._notifyRemove(t,e,0);if(void 0===e)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(r,s)-s;this._db.set(t,{entry:e,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(t,e,n){const i=this._db.get(t);if(i&&i.entry===e){for(this._size-=i.size;n>this._maxSize;){const i=this._notifyRemove(t,e,1);if(!(Object(r.l)(i)&&i>0))return void this._db.delete(t);n=i}i.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},n=new Array;this._db.forEach(((t,r)=>{const i=t.lifetime;n[i]=(n[i]||0)+t.size,this._users.forAll((n=>{const i=n.namespace;if(r.startsWith(i)){const n=e[i]||0;e[i]=n+t.size}}))}));const r={};this._users.forAll((t=>{const n=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const i=e[n]||0;e[n]=i,r[n]=Math.round(100*t.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(e);i.sort(((t,n)=>e[n]-e[t])),i.forEach((n=>t[n]=Math.round(e[n]/2**20)+"MB / "+r[n]));for(let o=n.length-1;o>=0;--o){const e=n[o];e&&(t["Priority "+(o+s-1)]=Math.round(e/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,0))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,0))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,n){let r;return this._removeFuncs.some((i=>{if(t.startsWith(i[0])){const t=i[1](e,n);return"number"==typeof t&&(r=t),!0}return!1})),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db){if(this._db.delete(t),e.lives<=1){this._size-=e.size;const n=this._notifyRemove(t,e.entry,1);Object(r.l)(n)&&n>0&&(this._size+=n,e.lives=e.lifetime,e.size=n,this._db.set(t,e))}else--e.lives,this._db.set(t,e);if(this._size<=.9*this.maxSize)return}}}},244:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(105);function i(t){return"oid"===t.type||"esriFieldTypeOID"===t.type}function s(t){return"global-id"===t.type||"esriFieldTypeGlobalID"===t.type}class o{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const e=[];for(const o of t){const t=o&&o.name;if(t){const u=a(t);this._fieldsMap.set(t,o),this._fieldsMap.set(u,o),e.push(u),"date"===(n=o).type||"esriFieldTypeDate"===n.type?(this.dateFields.push(o),this._dateFieldsSet.add(o)):Object(r.u)(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),i(o)||s(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}var n;e.sort(),this.uid=e.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)i(t)||s(t)||t.nullable||void 0!==Object(r.r)(t)||this._requiredFields.push(t)}return this._requiredFields}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(a(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}function a(t){return t.toLowerCase().trim()}},247:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(79),i=n(103),s=n(90),o=n(86),a=n(81),u=(n(84),n(82),n(83),n(93)),c=n(80);const h=new s.a({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let l=0,f=class extends o.a{constructor(t){super(t),this.id="sym"+l++,this.type=null}set color(t){this._set("color",t)}readColor(t){return t&&null!=t[0]?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};Object(r.a)([Object(a.b)({type:h.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:h.write}}})],f.prototype,"type",void 0),Object(r.a)([Object(a.b)({type:i.a,value:new i.a([0,0,0,1]),json:{write:{allowNull:!0}}})],f.prototype,"color",null),Object(r.a)([Object(u.a)("color")],f.prototype,"readColor",null),f=Object(r.a)([Object(c.a)("esri.symbols.Symbol")],f);const d=f},258:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return M}));var r=n(146),i=n(88),s=n(87),o=n(85),a=n(125),u=n(134),c=n(266),h=n(110),l=n(164),f=(n(97),n(102)),d=n(100),m=n(98);async function g(t,e,n){const r="string"==typeof t?Object(d.K)(t):t,i=e[0].spatialReference,s=Object(m.c)(e[0]),o={...n,query:{...r.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((a=e,{geometryType:Object(m.c)(a[0]),geometries:a.map((t=>t.toJSON()))}))}};var a;return function(t,e,n){const r=Object(m.b)(e);return t.map((t=>{const e=r.fromJSON(t);return e.spatialReference=n,e}))}((await Object(f.default)(r.path+"/simplify",o)).data,s,i)}const p=s.a.getLogger("esri.geometry.support.normalizeUtils");function b(t){return"polygon"===t[0].type}function y(t){return"polyline"===t[0].type}function M(t,e){if(!(t instanceof u.a||t instanceof a.a)){const t="straightLineDensify: the input geometry is neither polyline nor polygon";throw p.error(t),new i.a(t)}const n=Object(c.b)(t),r=[];for(const i of n){const t=[];r.push(t),t.push([i[0][0],i[0][1]]);for(let n=0;n<i.length-1;n++){const r=i[n][0],s=i[n][1],o=i[n+1][0],a=i[n+1][1],u=Math.sqrt((o-r)*(o-r)+(a-s)*(a-s)),c=(a-s)/u,h=(o-r)/u,l=u/e;if(l>1){for(let a=1;a<=l-1;a++){const n=a*e,i=h*n+r,o=c*n+s;t.push([i,o])}const n=(u+Math.floor(l-1)*e)/2,i=h*n+r,o=c*n+s;t.push([i,o])}t.push([o,a])}}return function(t){return"polygon"===t.type}(t)?new a.a({rings:r,spatialReference:t.spatialReference}):new u.a({paths:r,spatialReference:t.spatialReference})}function _(t,e,n){if(e){const e=M(t,1e6);t=Object(l.e)(e,!0)}return n&&(t=Object(c.e)(t,n)),t}function x(t,e,n){if(Array.isArray(t)){const r=t[0];if(r>e){const n=Object(c.d)(r,e);t[0]=r+n*(-2*e)}else if(r<n){const e=Object(c.d)(r,n);t[0]=r+e*(-2*n)}}else{const r=t.x;if(r>e){const n=Object(c.d)(r,e);t=t.clone().offset(n*(-2*e),0)}else if(r<n){const e=Object(c.d)(r,n);t=t.clone().offset(e*(-2*n),0)}}return t}async function j(t,e,n){var i;if(!Array.isArray(t))return j([t],e);const s=null!=(i=null==e?void 0:e.url)?i:r.a.geometryServiceUrl;let p,M,O,I,w,v,S,F,B=0;const z=[],T=[];for(const r of t)if(Object(o.k)(r))T.push(r);else if(p||(p=r.spatialReference,M=Object(h.e)(p),O=p.isWebMercator,v=O?102100:4326,I=c.a[v].maxX,w=c.a[v].minX,S=c.a[v].plus180Line,F=c.a[v].minus180Line),M)if("mesh"===r.type)T.push(r);else if("point"===r.type)T.push(x(r.clone(),I,w));else if("multipoint"===r.type){const t=r.clone();t.points=t.points.map((t=>x(t,I,w))),T.push(t)}else if("extent"===r.type){const t=r.clone()._normalize(!1,!1,M);T.push(t.rings?new a.a(t):t)}else if(r.extent){const t=r.extent,e=Object(c.d)(t.xmin,w)*(2*I);let n=0===e?r.clone():Object(c.e)(r.clone(),e);t.offset(e,0),t.intersects(S)&&t.xmax!==I?(B=t.xmax>B?t.xmax:B,n=_(n,O),z.push(n),T.push("cut")):t.intersects(F)&&t.xmin!==w?(B=t.xmax*(2*I)>B?t.xmax*(2*I):B,n=_(n,O,360),z.push(n),T.push("cut")):T.push(n)}else T.push(r.clone());else T.push(r);let R=Object(c.d)(B,I),k=-90;const q=R,N=new u.a;for(;R>0;){const t=360*R-180;N.addPath([[t,k],[t,-1*k]]),k*=-1,R--}if(z.length>0&&q>0){const e=function(t,e){let n=-1;for(let r=0;r<e.cutIndexes.length;r++){const i=e.cutIndexes[r],s=e.geometries[r],o=Object(c.b)(s);for(let t=0;t<o.length;t++){const e=o[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const r=e[t][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*Object(c.d)(n,180);for(let i=0;i<e.length;i++){const e=s.getPoint(t,i);s.setPoint(t,i,e.clone().offset(r,0))}return!0}}))}if(i===n){if(b(t))for(const e of Object(c.b)(s))t[i]=t[i].addRing(e);else if(y(t))for(const e of Object(c.b)(s))t[i]=t[i].addPath(e)}else n=i,t[i]=s}return t}(z,await async function(t,e,n,r){const i="string"==typeof t?Object(d.K)(t):t,s=e[0].spatialReference,o={...r,query:{...i.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(m.c)(e[0]),geometries:e}),cutter:JSON.stringify(n)}},a=await Object(f.default)(i.path+"/cut",o),{cutIndexes:u,geometries:c=[]}=a.data;return{cutIndexes:u,geometries:c.map((t=>{const e=Object(m.a)(t);return e.spatialReference=s,e}))}}(s,z,N,n)),r=[],i=[];for(let n=0;n<T.length;n++){const s=T[n];if("cut"!==s)i.push(s);else{const s=e.shift(),a=t[n];Object(o.l)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&s.rings.length>=a.rings.length?(r.push(s),i.push("simplify")):i.push(O?Object(l.b)(s):s)}}if(!r.length)return i;const a=await g(s,r,n),u=[];for(let t=0;t<i.length;t++){const e=i[t];"simplify"!==e?u.push(e):u.push(O?Object(l.b)(a.shift()):a.shift())}return u}const X=[];for(let r=0;r<T.length;r++){const t=T[r];if("cut"!==t)X.push(t);else{const t=z.shift();X.push(!0===O?Object(l.b)(t):t)}}return Promise.resolve(X)}function O(t,e){const n=Object(h.e)(e);if(n){const[e,r]=n.valid,i=r-e;if(t<e)for(;t<e;)t+=i;if(t>r)for(;t>r;)t-=i}return t}},261:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var r=n(85);class i{constructor(t=null,e={},n,r){this.geometry=t,this.attributes=e,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new i(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function s(t){return!(Object(r.k)(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)}class o extends i{}},266:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return u}));var r=n(134),i=n(94),s=n(98);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:i.a.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.a.WGS84})}};function a(t,e){return Math.ceil((t-e)/(2*e))}function u(t,e){const n=c(t);for(const r of n)for(const t of r)t[0]+=e;return t}function c(t){return Object(s.g)(t)?t.rings:t.paths}function h(t){const e=(null==t?void 0:t.isWebMercator)?102100:4326;return[o[e].minX,o[e].maxX]}},268:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=new(n(90).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},269:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(85),i=n(114),s=n(110);function o(t,e,n){if(Object(r.k)(e)||Object(r.k)(n)||n.vcsWkid||Object(s.d)(e,n))return null;const o=Object(i.f)(e)/Object(i.f)(n);if(1===o)return null;switch(t){case"point":case"esriGeometryPoint":return t=>function(t,e){t&&null!=t.z&&(t.z*=e)}(t,o);case"polyline":case"esriGeometryPolyline":return t=>function(t,e){if(t)for(const n of t.paths)for(const t of n)t.length>2&&(t[2]*=e)}(t,o);case"polygon":case"esriGeometryPolygon":return t=>function(t,e){if(t)for(const n of t.rings)for(const t of n)t.length>2&&(t[2]*=e)}(t,o);case"multipoint":case"esriGeometryMultipoint":return t=>function(t,e){if(t)for(const n of t.points)n.length>2&&(n[2]*=e)}(t,o);case"extent":case"esriGeometryExtent":return t=>function(t,e){t&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=e,t.zmax*=e)}(t,o);default:return null}}},278:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n(79),s=n(89),o=n(81),a=(n(83),n(80)),u=n(200),c=n(163);let h=r=class extends c.a{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new r({colorRamps:Object(s.a)(this.colorRamps)})}};Object(i.a)([Object(o.b)({type:[u.a],json:{write:!0}})],h.prototype,"colorRamps",void 0),Object(i.a)([Object(o.b)({type:["multipart"]})],h.prototype,"type",void 0),h=r=Object(i.a)([Object(a.a)("esri.rest.support.MultipartColorRamp")],h);const l=h},288:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n(200),i=n(163),s=n(278);const o={key:"type",base:i.a,typeMap:{algorithmic:r.a,multipart:s.a}};function a(t){return t&&t.type?"algorithmic"===t.type?r.a.fromJSON(t):"multipart"===t.type?s.a.fromJSON(t):null:null}},334:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new r;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},435:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return i}));var r=n(138);const i=Math.PI/180,s=/SPHEROID\[([^\]]+)]/i,o=r.a.radius,a=r.a.eccentricitySquared,u={a1:o*a,a2:o*a*o*a,a3:o*a*a/2,a4:o*a*o*a*2.5,a5:o*a+o*a*a/2,a6:1-a},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},473:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(239);class i{constructor(t,e){this._storage=new r.c,this._storage.maxSize=t,e&&this._storage.registerRemoveFunc("",e)}put(t,e){this._storage.put(t,e,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},703:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(84),i=n(85),s=n(215),o=n(698);class a{constructor(t=9,e){this.compareMinX=l,this.compareMinY=f,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),_.prune(),x.prune(),j.prune(),O.prune()}all(t){this._all(this.data,t)}search(t,e){let n=this.data;const r=this.toBBox;if(y(t,n))for(_.clear();n;){for(let i=0,s=n.children.length;i<s;i++){const s=n.children[i],o=n.leaf?r(s):s;y(t,o)&&(n.leaf?e(s):b(t,o)?this._all(s,e):_.push(s))}n=_.pop()}}collides(t){let e=this.data;const n=this.toBBox;if(!y(t,e))return!1;for(_.clear();e;){for(let r=0,i=e.children.length;r<i;r++){const i=e.children[r],s=e.leaf?n(i):i;if(y(t,s)){if(e.leaf||b(t,s))return!0;_.push(i)}}e=_.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new w([]),this}remove(t){if(!t)return this;let e,n=this.data,s=null,o=0,a=!1;const u=this.toBBox(t);for(j.clear(),O.clear();n||j.length>0;){var c;if(n||(n=Object(i.d)(j.pop()),s=j.data[j.length-1],o=null!=(c=O.pop())?c:0,a=!0),n.leaf&&(e=Object(r.e)(n.children,t,n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),j.push(n),this._condense(j),this;a||n.leaf||!b(n,u)?s?(o++,n=s.children[o],a=!1):n=null:(j.push(n),O.push(o),o=0,s=n,n=n.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){let n=t;for(x.clear();n;){var r;if(!0===n.leaf)for(const t of n.children)e(t);else x.pushArray(n.children);n=null!=(r=x.pop())?r:null}}_build(t,e,n,r){const i=n-e+1;let s=this._maxEntries;if(i<=s){const r=new w(t.slice(e,n+1));return u(r,this.toBBox),r}r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/s**(r-1)));const o=new v([]);o.height=r;const a=Math.ceil(i/s),c=a*Math.ceil(Math.sqrt(s));M(t,e,n,c,this.compareMinX);for(let u=e;u<=n;u+=c){const e=Math.min(u+c-1,n);M(t,u,e,a,this.compareMinY);for(let n=u;n<=e;n+=a){const i=Math.min(n+a-1,e);o.children.push(this._build(t,n,i,r-1))}}return u(o,this.toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let s=0,o=e.children.length;s<o;s++){const o=e.children[s],a=d(o),u=g(t,o)-a;u<i?(i=u,r=a<r?a:r,n=o):u===i&&a<r&&(r=a,n=o)}e=n||e.children[0]}return e}_insert(t,e,n){const r=this.toBBox,i=n?t:r(t);j.clear();const s=this._chooseSubtree(i,this.data,e,j);for(s.children.push(t),h(s,i);e>=0&&j.data[e].children.length>this._maxEntries;)this._split(j,e),e--;this._adjustParentBBoxes(i,j,e)}_split(t,e){const n=t.data[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const s=this._chooseSplitIndex(n,i,r);if(!s)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=n.children.splice(s,n.children.length-s),a=n.leaf?new w(o):new v(o);a.height=n.height,u(n,this.toBBox),u(a,this.toBBox),e?t.data[e-1].children.push(a):this._splitRoot(n,a)}_splitRoot(t,e){this.data=new v([t,e]),this.data.height=t.height+1,u(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let r,i,s;r=i=1/0;for(let o=e;o<=n-e;o++){const e=c(t,0,o,this.toBBox),a=c(t,o,n,this.toBBox),u=p(e,a),h=d(e)+d(a);u<r?(r=u,s=o,i=h<i?h:i):u===r&&h<i&&(i=h,s=o)}return s}_chooseSplitAxis(t,e,n){const r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:f;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const i=this.toBBox,s=c(t,0,e,i),o=c(t,n-e,n,i);let a=m(s)+m(o);for(let u=e;u<n-e;u++){const e=t.children[u];h(s,t.leaf?i(e):e),a+=m(s)}for(let u=n-e-1;u>=e;u--){const e=t.children[u];h(o,t.leaf?i(e):e),a+=m(o)}return a}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)h(e.data[r],t)}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const i=t.data[e-1],s=i.children;s.splice(Object(r.e)(s,n,s.length,i.indexHint),1)}else this.clear();else u(n,this.toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function u(t,e){c(t,0,t.children.length,e,t)}function c(t,e,n,r,i){i||(i=new w([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s,o=e;o<n;o++)s=t.children[o],h(i,t.leaf?r(s):s);return i}function h(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function l(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function g(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function b(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function M(t,e,n,r,s){const a=[e,n];for(;a.length;){const e=Object(i.d)(a.pop()),n=Object(i.d)(a.pop());if(e-n<=r)continue;const u=n+Math.ceil((e-n)/r/2)*r;Object(o.a)(t,u,n,e,s),a.push(n,u,u,e)}}const _=new s.a,x=new s.a,j=new s.a,O=new s.a({deallocator:void 0});class I extends class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new r.a}}class w extends I{constructor(t){super(),this.children=t,this.leaf=!0}}class v extends I{constructor(t){super(),this.children=t,this.leaf=!1}}},768:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(88),i=n(129),s=n(87),o=n(85),a=n(223),u=n(118),c=n(180),h=n(800),l=n(769);class f{constructor(t){this.geometryInfo=t,this._boundsStore=new h.a,this._featuresById=new Map,this._markedIds=new Set,this.events=new i.a,this.featureAdapter=l.a}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const t=Object(u.l)(u.a);return this._featuresById.forEach((e=>{const n=this._boundsStore.get(e.objectId);n&&(t[0]=Math.min(n[0],t[0]),t[1]=Math.min(n[1],t[1]),t[2]=Math.max(n[2],t[2]),t[3]=Math.max(n[3],t[3]))})),t}get storeStatistics(){let t=0;return this._featuresById.forEach((e=>{Object(o.l)(e.geometry)&&e.geometry.coords&&(t+=e.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:t/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(t){this._add(t),this._emitChanged()}addMany(t){for(const e of t)this._add(e);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(t){const e=this._featuresById.get(t);return e?(this._remove(e),this._emitChanged(),e):null}removeManyById(t){this._boundsStore.invalidateIndex();for(const e of t){const t=this._featuresById.get(e);t&&this._remove(t)}this._emitChanged()}forEachBounds(t,e,n){for(const r of t){const t=this._boundsStore.get(r.objectId);t&&e(Object(a.o)(n,t))}}getFeature(t){return this._featuresById.get(t)}has(t){return this._featuresById.has(t)}forEach(t){this._featuresById.forEach((e=>t(e)))}forEachInBounds(t,e){this._boundsStore.forEachInBounds(t,(t=>{e(this._featuresById.get(t))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let t=!1;this._featuresById.forEach(((e,n)=>{this._markedIds.has(n)||(t=!0,this._remove(e))})),this._markedIds.clear(),t&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(t){if(!t)return;const e=t.objectId;if(null==e)return void s.a.getLogger("esri.layers.graphics.data.FeatureStore").error(new r.a("featurestore:invalid-feature","feature id is missing",{feature:t}));const n=this._featuresById.get(e);let i;if(this._markedIds.add(e),n?(t.displayId=n.displayId,i=this._boundsStore.get(e),this._boundsStore.delete(e)):Object(o.l)(this.onFeatureAdd)&&this.onFeatureAdd(t),Object(o.k)(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(e,null),void this._featuresById.set(e,t);i=Object(c.r)(Object(o.l)(i)?i:Object(u.l)(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),Object(o.l)(i)&&this._boundsStore.set(e,i),this._featuresById.set(e,t)}_remove(t){return Object(o.l)(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}},769:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(480),i=n(261),s=n(188);const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new i.b(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>(t.centroid||(t.centroid=Object(r.a)(new s.a,t.geometry,e.hasZ,e.hasM)),t.centroid)}},800:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(82),i=n(703);const s={minX:0,minY:0,maxX:0,maxY:0};class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i.a(9,Object(r.a)("esri-csp-restrictions")?t=>({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const t=new Array(this._idByBounds.size);let e=0;this._idByBounds.forEach(((n,r)=>{t[e++]=r})),this._indexInvalid=!1,this._index.clear(),this._index.load(t)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((t=>this._idByBounds.has(t)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(t){const e=this._boundsById.get(t);this._boundsById.delete(t),e&&(this._idByBounds.delete(e),this._indexInvalid||this._index.remove(e))}forEachInBounds(t,e){this._loadIndex(),function(t,e,n){s.minX=e[0],s.minY=e[1],s.maxX=e[2],s.maxY=e[3],t.search(s,n)}(this._index,t,(t=>e(this._idByBounds.get(t))))}get(t){return this._boundsById.get(t)}has(t){return this._boundsById.has(t)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(t,e){if(!this._indexInvalid){const e=this._boundsById.get(t);e&&(this._index.remove(e),this._idByBounds.delete(e))}this._boundsById.set(t,e),e&&(this._idByBounds.set(e,t),this._indexInvalid||(this._boundsToLoad.push(e),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},95:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(90),i=n(81);function s(t,e={}){var n;const s=t instanceof r.a?t:new r.a(t,e),o={type:null==(n=null==e?void 0:e.ignoreUnknown)||n?s.apiValues:String,readOnly:null==e?void 0:e.readOnly,json:{type:s.jsonValues,read:(null==e||!e.readOnly)&&{reader:s.read},write:{writer:s.write}}};return void 0!==(null==e?void 0:e.default)&&(o.json.default=e.default),void 0!==(null==e?void 0:e.name)&&(o.json.name=e.name),Object(i.b)(o)}}}]);
//# sourceMappingURL=28.5bc2cabf.chunk.js.map