"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[3362],{79347:(e,t,i)=>{i.d(t,{e:()=>o});var n,r,s,o={},a={get exports(){return o},set exports(e){o=e}};n=a,r=function(){function e(e,i,r){r=r||2;var s,o,a,c,h,p,d,u=i&&i.length,v=u?i[0]*r:e.length,y=t(e,0,v,r,!0),g=[];if(!y||y.next===y.prev)return g;if(u&&(y=l(e,i,y,r)),e.length>80*r){s=a=e[0],o=c=e[1];for(var f=r;f<v;f+=r)(h=e[f])<s&&(s=h),(p=e[f+1])<o&&(o=p),h>a&&(a=h),p>c&&(c=p);d=0!==(d=Math.max(a-s,c-o))?1/d:0}return n(y,g,r,s,o,d),g}function t(e,t,i,n,r){var s,o;if(r===O(e,t,i,n)>0)for(s=t;s<i;s+=n)o=G(s,e[s],e[s+1],o);else for(s=i-n;s>=t;s-=n)o=G(s,e[s],e[s+1],o);if(o&&m(o,o.next)){var a=o.next;S(o),o=a}return o}function i(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{var r=n.prev;if(S(n),(n=t=r)===n.next)break;i=!0}}while(i||n!==t);return t}function n(e,t,l,c,h,p,d){if(e){!d&&p&&u(e,c,h,p);for(var v,y,g=e;e.prev!==e.next;)if(v=e.prev,y=e.next,p?s(e,c,h,p):r(e))t.push(v.i/l),t.push(e.i/l),t.push(y.i/l),S(e),e=y.next,g=y.next;else if((e=y)===g){d?1===d?n(e=o(i(e),t,l),t,l,c,h,p,2):2===d&&a(e,t,l,c,h,p):n(i(e),t,l,c,h,p,1);break}}}function r(e){var t=e.prev,i=e,n=e.next;if(x(t,i,n)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(g(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function s(e,t,i,n){var r=e.prev,s=e,o=e.next;if(x(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,h=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,p=v(a,l,t,i,n),d=v(c,h,t,i,n),u=e.prevZ,y=e.nextZ;u&&u.z>=p&&y&&y.z<=d;){if(u!==e.prev&&u!==e.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&x(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,y!==e.prev&&y!==e.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&x(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;u&&u.z>=p;){if(u!==e.prev&&u!==e.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,u.x,u.y)&&x(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;y&&y.z<=d;){if(y!==e.prev&&y!==e.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,y.x,y.y)&&x(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function o(e,t,n){var r=e;do{var s=r.prev,o=r.next.next;!m(s,o)&&_(s,r,r.next,o)&&C(s,o)&&C(o,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(o.i/n),S(r),S(r.next),r=e=o),r=r.next}while(r!==e);return i(r)}function a(e,t,r,s,o,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&f(l,c)){var h=M(l,c);return l=i(l,l.next),h=i(h,h.next),n(l,t,r,s,o,a),void n(h,t,r,s,o,a)}c=c.next}l=l.next}while(l!==e)}function l(e,n,r,s){var o,a,l,h=[];for(o=0,a=n.length;o<a;o++)(l=t(e,n[o]*s,o<a-1?n[o+1]*s:e.length,s,!1))===l.next&&(l.steiner=!0),h.push(y(l));for(h.sort(c),o=0;o<h.length;o++)r=i(r=p(h[o],r),r.next);return r}function c(e,t){return e.x-t.x}function h(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function p(e,t){var n=function(e,t){var i,n=t,r=e.x,s=e.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===o)return i;var l,c=i,h=i.x,p=i.y,u=1/0;n=i;do{r>=n.x&&n.x>=h&&r!==n.x&&g(s<p?r:o,s,h,p,s<p?o:r,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(r-n.x),C(n,e)&&(l<u||l===u&&(n.x>i.x||n.x===i.x&&d(i,n)))&&(i=n,u=l)),n=n.next}while(n!==c);return i}(e,t);if(!n)return t;var r=M(n,e),s=i(n,n.next);let o=h(r);return i(o,o.next),s=h(s),h(t===n?s:t)}function d(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function u(e,t,i,n){var r=e;do{null===r.z&&(r.z=v(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,s,o,a,l,c=1;do{for(i=e,e=null,s=null,o=0;i;){for(o++,n=i,a=0,t=0;t<c&&(a++,n=n.nextZ);t++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;i=n}s.nextZ=null,c*=2}while(o>1)}(r)}function v(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function y(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function g(e,t,i,n,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(n-a)-(i-o)*(t-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function f(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&_(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(C(e,t)&&C(t,e)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||m(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,i,n){var r=w(x(e,t,i)),s=w(x(e,t,n)),o=w(x(i,n,e)),a=w(x(i,n,t));return r!==s&&o!==a||!(0!==r||!b(e,i,t))||!(0!==s||!b(e,n,t))||!(0!==o||!b(i,e,n))||!(0!==a||!b(i,t,n))}function b(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function w(e){return e>0?1:e<0?-1:0}function C(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function M(e,t){var i=new k(e.i,e.x,e.y),n=new k(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function G(e,t,i,n){var r=new k(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function S(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function k(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,i,n){for(var r=0,s=t,o=i-n;s<i;s+=n)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}return e.deviation=function(e,t,i,n){var r=t&&t.length,s=r?t[0]*i:e.length,o=Math.abs(O(e,0,s,i));if(r)for(var a=0,l=t.length;a<l;a++){var c=t[a]*i,h=a<l-1?t[a+1]*i:e.length;o-=Math.abs(O(e,c,h,i))}var p=0;for(a=0;a<n.length;a+=3){var d=n[a]*i,u=n[a+1]*i,v=n[a+2]*i;p+=Math.abs((e[d]-e[v])*(e[u+1]-e[d+1])-(e[d]-e[u])*(e[v+1]-e[d+1]))}return 0===o&&0===p?0:Math.abs((p-o)/o)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++)for(var o=0;o<t;o++)i.vertices.push(e[r][s][o]);r>0&&(n+=e[r-1].length,i.holes.push(n))}return i},e},void 0!==(s=r())&&(n.exports=s)},85981:(e,t,i)=>{i.d(t,{AR:()=>f,Gr:()=>g,JG:()=>c,Jk:()=>d,KU:()=>v,Ue:()=>l,al:()=>h,ct:()=>y,nF:()=>u,zk:()=>p});var n=i(16889),r=i(21530),s=i(11186),o=i(71353),a=i(11185);function l(e){return e?{origin:(0,o.a)(e.origin),vector:(0,o.a)(e.vector)}:{origin:(0,o.c)(),vector:(0,o.c)()}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return h(e.origin,e.vector,t)}function h(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,e),(0,s.c)(i.vector,t),i}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,e),(0,s.b)(i.vector,t,e),i}function d(e,t){const i=(0,s.b)(a.WM.get(),t,e.origin),r=(0,s.e)(e.vector,i),o=(0,s.e)(e.vector,e.vector),l=(0,n.uZ)(r/o,0,1),c=(0,s.b)(a.WM.get(),(0,s.g)(a.WM.get(),e.vector,l),i);return(0,s.e)(c,c)}function u(e,t,i){return y(e,t,0,1,i)}function v(e,t,i){return(0,s.a)(i,e.origin,(0,s.g)(i,e.vector,t))}function y(e,t,i,r,o){const{vector:l,origin:c}=e,h=(0,s.b)(a.WM.get(),t,c),p=(0,s.e)(l,h)/(0,s.p)(l);return(0,s.g)(o,l,(0,n.uZ)(p,i,r)),(0,s.a)(o,o,e.origin)}function g(e,t){if(x(e,function(e,t){const i=_.get();return i.origin=e,i.vector=t,i}(t.origin,t.direction),!1,m)){const{tA:t,pB:i,distance2:n}=m;if(t>=0&&t<=1)return n;if(t<0)return(0,s.d)(e.origin,i);if(t>1)return(0,s.d)((0,s.a)(a.WM.get(),e.origin,e.vector),i)}return null}function f(e,t,i){return!!x(e,t,!0,m)&&((0,s.c)(i,m.pA),!0)}function x(e,t,i,r){const o=1e-6,l=e.origin,c=(0,s.a)(a.WM.get(),l,e.vector),h=t.origin,p=(0,s.a)(a.WM.get(),h,t.vector),d=a.WM.get(),u=a.WM.get();if(d[0]=l[0]-h[0],d[1]=l[1]-h[1],d[2]=l[2]-h[2],u[0]=p[0]-h[0],u[1]=p[1]-h[1],u[2]=p[2]-h[2],Math.abs(u[0])<o&&Math.abs(u[1])<o&&Math.abs(u[2])<o)return!1;const v=a.WM.get();if(v[0]=c[0]-l[0],v[1]=c[1]-l[1],v[2]=c[2]-l[2],Math.abs(v[0])<o&&Math.abs(v[1])<o&&Math.abs(v[2])<o)return!1;const y=d[0]*u[0]+d[1]*u[1]+d[2]*u[2],g=u[0]*v[0]+u[1]*v[1]+u[2]*v[2],f=d[0]*v[0]+d[1]*v[1]+d[2]*v[2],x=u[0]*u[0]+u[1]*u[1]+u[2]*u[2],m=(v[0]*v[0]+v[1]*v[1]+v[2]*v[2])*x-g*g;if(Math.abs(m)<o)return!1;let _=(y*g-f*x)/m,b=(y+g*_)/x;i&&(_=(0,n.uZ)(_,0,1),b=(0,n.uZ)(b,0,1));const w=a.WM.get(),C=a.WM.get();return w[0]=l[0]+_*v[0],w[1]=l[1]+_*v[1],w[2]=l[2]+_*v[2],C[0]=h[0]+b*u[0],C[1]=h[1]+b*u[1],C[2]=h[2]+b*u[2],r.tA=_,r.tB=b,r.pA=w,r.pB=C,r.distance2=(0,s.d)(w,C),!0}const m={tA:0,tB:0,pA:(0,o.c)(),pB:(0,o.c)(),distance2:0},_=new r.x((()=>l()))},74702:(e,t,i)=>{i.d(t,{bE:()=>c,wu:()=>l});var n=i(21530),r=i(11186),s=i(71353),o=i(85981);i(11185);function a(e){return e?{p0:(0,s.a)(e.p0),p1:(0,s.a)(e.p1),p2:(0,s.a)(e.p2)}:{p0:(0,s.c)(),p1:(0,s.c)(),p2:(0,s.c)()}}function l(e,t,i){const n=t[0]-e[0],r=t[1]-e[1],s=i[0]-e[0],o=i[1]-e[1];return.5*Math.abs(n*o-r*s)}function c(e,t,i){return(0,r.b)(h,t,e),(0,r.b)(p,i,e),(0,r.l)((0,r.f)(h,h,p))/2}new n.x(o.Ue),new n.x((()=>a()));const h=(0,s.c)(),p=(0,s.c)()},48202:(e,t,i)=>{var n,r,s,o,a,l,c,h,p,d,u,v,y,g,f,x,m,_,b,w,C,M,G,S,k,O,T,E,P,R,V,I,Z,L,A,H,D,W,U,B,F,z,N,j,q,X,Y,J,Q,K,$,ee,te,ie,ne,re,se,oe,ae,le,ce;i.d(t,{$y:()=>M,AH:()=>r,CS:()=>Y,DD:()=>h,Dd:()=>P,Em:()=>C,JS:()=>q,Ky:()=>p,Lh:()=>J,Qb:()=>se,RL:()=>n,RS:()=>ae,TF:()=>w,Tx:()=>a,UR:()=>m,UX:()=>re,bj:()=>X,eZ:()=>c,id:()=>k,kP:()=>H,of:()=>u,r4:()=>B,sj:()=>D,v2:()=>s,zQ:()=>E,zV:()=>x}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(s||(s={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(a||(a={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(l||(l={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(h||(h={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(p||(p={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(d||(d={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(u||(u={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(v||(v={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(y||(y={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(f||(f={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(x||(x={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(m||(m={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(_||(_={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(b||(b={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(w||(w={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(C||(C={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(M||(M={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(G||(G={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(S||(S={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(k||(k={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(O||(O={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(T||(T={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(E||(E={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(P||(P={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(R||(R={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(V||(V={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(I||(I={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(Z||(Z={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(L||(L={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(A||(A={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(H||(H={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(D||(D={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(W||(W={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(U||(U={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(B||(B={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(F||(F={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(z||(z={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(N||(N={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(j||(j={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(q||(q={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(X||(X={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Y||(Y={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(J||(J={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(K||(K={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}($||($={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ee||(ee={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(te||(te={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(ie||(ie={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ne||(ne={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(re||(re={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(se||(se={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(oe||(oe={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(ae||(ae={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(le||(le={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ce||(ce={}))},85577:(e,t,i)=>{i.d(t,{r:()=>x});i(59486);var n=i(52639),r=(i(51508),i(42537)),s=i(17842),o=i(88396),a=i(6394),l=i(71353),c=i(48202),h=i(70040),p=i(76014),d=i(38561),u=i(16072),v=i(16851),y=i(75021),g=i(585),f=i(29909);class x extends d.a{constructor(e){super(),this._graphicsLayer=e}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new g.Z({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),b)}visualizePoint(e,t){return this._visualizeSnappingIndicator(new g.Z({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),w)}visualizeLine(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.spatialReference}),C)}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.spatialReference}),M)}visualizeRightAngleQuad(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.spatialReference}),O(e))}_visualizeSnappingIndicator(e,t){const i=new n.Z({geometry:e,symbol:t});return this._graphicsLayer.add(i),(0,r.kB)((()=>{this._graphicsLayer.remove(i)}))}}const m=h.O.main.toArray(),_=[...h.O.main.toRgb(),100],b=new u.Z({outline:new v.Z({width:1.5,color:m}),size:15,color:[0,0,0,0]}),w=new u.Z({outline:{width:.5,color:[0,0,0,1]},size:10,color:m}),C=new y.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:c.kP.Butt,joinStyle:c.r4.Round,miterLimit:10,width:(0,s.Wz)(p.c.lineHintWidthTarget),color:m}]}}}),M=new y.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:m}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:m}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),G=e=>new y.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,s.Wz)(p.c.rightAngleHintSize),rotation:e,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,s.Wz)(p.c.rightAngleHintOutlineSize),color:m},{type:"CIMSolidFill",enable:!0,color:_}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),S=G(45),k=G(225),O=(()=>{const e=(0,a.a)(),t=(0,a.a)(),i=(0,l.c)();return n=>((0,o.a)(e,n.centerVertex,n.previousVertex),(0,o.a)(t,n.nextVertex,n.previousVertex),(0,o.g)(i,e,t),i[2]<0?S:k)})()},53503:(e,t,i)=>{i.r(t),i.d(t,{default:()=>R});var n=i(27366),r=(i(51508),i(91505)),s=i(100),o=i(84652),a=i(92026),l=i(94172),c=i(49861),h=(i(25243),i(69912)),p=i(93655),d=i(20008),u=i(74982),v=i(83089);class y{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-click"}}class g{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-double-click"}}class f{constructor(e,t,i,n,r,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class x{constructor(e,t,i,n,r,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class m{constructor(e,t,i,n,r,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=n,this.y=r,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class _{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-over"}}class b{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-out"}}class w{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-down"}}class C{constructor(e,t,i,n,r){this.graphic=e,this.index=t,this.x=i,this.y=n,this.viewEvent=r,this.type="graphic-pointer-up"}}var M=i(1614),G=i(2346),S=i(72612),k=i(16072),O=i(16851),T=i(61459);const E="indicator-symbols";let P=class extends r.Z.EventedAccessor{constructor(e){super(e),this._activeGraphic=null,this._dragEvent=null,this._handles=new s.Z,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._viewHandles=new s.Z,this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new p.Z({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){(0,v.p)(this.view,this.layer),this._highlightHelper=new u.Z({view:this.view}),this.refresh(),this._handles.add([(0,l.YP)((()=>[this.graphics,this.graphics?.length]),(()=>this.refresh())),(0,l.gx)((()=>this.view?.ready),(()=>{this._viewHandles.add([this.view.on("immediate-click",(e=>this._clickHandler(e)),M.f.TOOL),this.view.on("double-click",(e=>this._doubleClickHandler(e)),M.f.TOOL),this.view.on("pointer-down",(e=>this._pointerDownHandler(e)),M.f.TOOL),this.view.on("pointer-move",(e=>this._pointerMoveHandler(e)),M.f.TOOL),this.view.on("pointer-up",(e=>this._pointerUpHandler(e)),M.f.TOOL),this.view.on("drag",(e=>this._dragHandler(e)),M.f.TOOL),this.view.on("key-down",(e=>this._keyDownHandler(e)),M.f.TOOL)])}),{once:!0,initial:!0}),(0,l.YP)((()=>this.view),(e=>{this._highlightHelper.removeAll(),this._highlightHelper.view=e}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((e=>e.destroy())),this._manipulators=null,this._handles=(0,a.SC)(this._handles),this._viewHandles=(0,a.SC)(this._viewHandles)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),e&&this._highlightHelper?.add(this.graphics)}get state(){const e=!!this.get("view.ready"),t=!!this.get("graphics.length"),i=this._activeGraphic;return e&&t?i?"moving":"active":e?"ready":"disabled"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(e,t){const i=this.graphics[e];i&&(i.set("geometry",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(e){const t=this._findTargetGraphic((0,S.vT)(e));if(t){const i=new y(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-click",i),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(i)}}_doubleClickHandler(e){const t=this._findTargetGraphic((0,S.vT)(e));if(t){const i=new g(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-double-click",i),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(i)}}_pointerDownHandler(e){const t=this._findTargetGraphic((0,S.vT)(e));if(t){this._activeGraphic=t;const{x:i,y:n}=e,r=new w(t,this.graphics.indexOf(t),i,n,e);this.emit("graphic-pointer-down",r),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(r)}else this._activeGraphic=null}_pointerUpHandler(e){if(this._activeGraphic){const{x:t,y:i}=e,n=this.graphics.indexOf(this._activeGraphic),r=new C(this._activeGraphic,n,t,i,e);this.emit("graphic-pointer-up",r),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(r)}}_pointerMoveHandler(e){if(this._dragEvent)return;const t=this._findTargetGraphic((0,S.vT)(e));if(t){const{x:i,y:n}=e;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const r=this.graphics.indexOf(this._hoverGraphic),s=new b(this.graphics[r],r,i,n,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}const r=this.graphics.indexOf(t),s=new _(t,r,i,n,e);return this._hoverGraphic=t,this.emit("graphic-pointer-over",s),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(s))}if(this._hoverGraphic){const{x:t,y:i}=e,n=this.graphics.indexOf(this._hoverGraphic),r=new b(this.graphics[n],n,t,i,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",r),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(r)}}_dragHandler(e){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;"start"===e.action&&this._removeIndicators(),e.stopPropagation();const{action:t,x:i,y:n}=e,r=this.graphics.indexOf(this._activeGraphic),s=this._dragEvent?i-this._dragEvent.x:0,a=this._dragEvent?n-this._dragEvent.y:0,l=i-e.origin.x,c=n-e.origin.y,h="start"===t?this._activeGraphic.geometry:this._initialDragGeometry,p=(0,d.e7)(h,l,c,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach((e=>{e!==this._activeGraphic&&(e.geometry=(0,d.e7)(e.geometry,s,a,this.view))})),this._dragEvent=e,"start"===t){this._initialDragGeometry=(0,o.d9)(h);const t=new f(this._activeGraphic,this.graphics,r,i,n,s,a,l,c,e);this.emit("graphic-move-start",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set("geometry",h)}else if("update"===t){const t=new x(this._activeGraphic,this.graphics,r,i,n,s,a,l,c,e);this.emit("graphic-move",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=h)}else{const t=new m(this._activeGraphic,this.graphics,r,i,n,s,a,l,c,e);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[r].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()}_findTargetGraphic(e){const t=this.view.toMap(e);let i=null,n=Number.MAX_VALUE;this._syncLayerViews();const r=this._layerViews.flatMap((e=>"graphicsViews"in e?Array.from(e.graphicsViews(),(e=>e.hitTest(t))).flat():e.graphicsView.hitTest(t))).filter((e=>this.graphics.includes(e)));return r.length?r[0]:(this._manipulators.forEach((t=>{const r=t.intersectionDistance(e);(0,a.pC)(r)&&r<n&&(n=r,i=t.graphic)})),i)}_syncLayerViews(){this._layerViews=[];const e=new Set;for(const t of this.graphics){const i=(0,v.j)(this.view,t.layer);i&&e.add(i)}this._layerViews=[...e]}_setUpManipulators(){const{graphics:e,view:t}=this;this._manipulators.forEach((e=>e.destroy())),this._manipulators=e?.length?e.map((e=>new G.L({graphic:e,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const e of this.graphics){const t=e.clone();t.symbol=this._getSymbolForIndicator(e),this._indicators.push(t),this._handles.add((0,l.YP)((()=>e.symbol),(()=>this._setUpIndicators())),E)}this.layer.addMany(this._indicators)}}_removeIndicators(){this._handles.remove(E),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((e=>e.destroy())),this._indicators=[])}_getSymbolForIndicator(e){if((0,a.Wi)(e.symbol))return null;switch(e.symbol.type){case"cim":return new k.Z({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:t,yoffset:i,height:n,width:r}=e.symbol,s=n===r?r:Math.max(n,r);return new k.Z({xoffset:t,yoffset:i,size:s,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:t,yoffset:i,size:n,style:r}=e.symbol;return new k.Z({xoffset:t,yoffset:i,style:"circle"===r?"circle":"square",size:n+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new T.Z({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new O.Z({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:t,yoffset:i}=e.symbol;return new k.Z({xoffset:t,yoffset:i,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}};(0,n._)([(0,c.Cb)()],P.prototype,"_activeGraphic",void 0),(0,n._)([(0,c.Cb)({readOnly:!0})],P.prototype,"type",void 0),(0,n._)([(0,c.Cb)()],P.prototype,"callbacks",void 0),(0,n._)([(0,c.Cb)()],P.prototype,"enableMoveAllGraphics",void 0),(0,n._)([(0,c.Cb)()],P.prototype,"graphics",void 0),(0,n._)([(0,c.Cb)({value:!1})],P.prototype,"highlightsEnabled",null),(0,n._)([(0,c.Cb)()],P.prototype,"indicatorsEnabled",void 0),(0,n._)([(0,c.Cb)()],P.prototype,"layer",void 0),(0,n._)([(0,c.Cb)({readOnly:!0})],P.prototype,"state",null),(0,n._)([(0,c.Cb)()],P.prototype,"view",void 0),P=(0,n._)([(0,h.j)("esri.views.draw.support.GraphicMover")],P);const R=P},74982:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(27366),r=i(41691),s=i(49861),o=(i(25243),i(63780),i(69912)),a=i(83089),l=i(69787);let c=class extends r.r{constructor(e){super(e),this.view=null}get count(){return this.handles.size}add(e){const t=Array.isArray(e)?e:[e];null!=e&&t&&t.length&&t.forEach((e=>this._highlight(e)))}remove(e){const t=Array.isArray(e)?e:[e];null!=e&&t&&t.length&&t.forEach((e=>this._unhighlight(e)))}removeAll(){this.handles.removeAll()}_highlight(e){const t=(0,a.j)(this.view,e.layer);(0,l.tl)(t)&&this.handles.add(t.highlight(e),`feature-${e.getObjectId()}`)}_unhighlight(e){e&&this.handles.remove(`feature-${e.getObjectId()}`)}};(0,n._)([(0,s.Cb)({readOnly:!0})],c.prototype,"count",null),(0,n._)([(0,s.Cb)()],c.prototype,"view",void 0),(0,n._)([(0,s.Cb)()],c.prototype,"add",null),c=(0,n._)([(0,o.j)("esri.views.draw.support.HighlightHelper")],c);const h=c},83362:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Q});var n=i(27366),r=(i(59486),i(52639)),s=i(14921),o=i(40281),a=i(10064),l=i(91505),c=i(100),h=i(32718),p=i(92026),d=i(47898),u=i(94172),v=i(17842),y=i(49861),g=(i(25243),i(63780),i(69912)),f=i(69662),x=i(93655),m=i(16072),_=i(50951),b=i(85577),w=i(20008),C=i(53503),M=i(74982),G=i(83089),S=i(70040),k=i(1614),O=i(87888),T=i(87268),E=i(77560),P=i(34019),R=i(12494),V=i(40524),I=i(9856),Z=i(59418),L=i(29909),A=i(585);class H{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class D{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class W{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class U{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class B{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class F{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class z{constructor(e){this.added=e,this.type="vertex-select"}}class N{constructor(e){this.removed=e,this.type="vertex-deselect"}}class j{constructor(e,t,i,n){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-add"}}class q{constructor(e,t,i,n){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=n,this.type="vertex-remove"}}const X=S.X.reshapeGraphics,Y={vertices:{default:new m.Z({style:"circle",size:X.vertex.size,color:X.vertex.color,outline:{color:X.vertex.outlineColor,width:1}}),hover:new m.Z({style:"circle",size:X.vertex.hoverSize,color:X.vertex.hoverColor,outline:{color:X.vertex.hoverOutlineColor,width:1}}),selected:new m.Z({style:"circle",size:X.selected.size,color:X.selected.color,outline:{color:X.selected.outlineColor,width:1}})},midpoints:{default:new m.Z({style:"circle",size:X.midpoint.size,color:X.midpoint.color,outline:{color:X.midpoint.outlineColor,width:1}}),hover:new m.Z({style:"circle",size:X.midpoint.size,color:X.midpoint.color,outline:{color:X.midpoint.outlineColor,width:1}})}};let J=class extends l.Z.EventedAccessor{constructor(e){super(e),this._activeOperationInfo=null,this._editGeometryOperations=null,this._handles=new c.Z,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingContext=null,this._snappingTask=null,this._stagedVertex=null,this._tooltip=null,this._viewHandles=new c.Z,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new o.Z,this.midpointSymbol=new m.Z({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=[],this.snappingManager=null,this.tooltipOptions=new E.Z,this.type="reshape",this.vertexGraphics=new o.Z,this.view=null}initialize(){const e=this.view;this._highlightHelper=new M.Z({view:e}),this._setup(),this._handles.add([(0,u.gx)((()=>e?.ready),(()=>{const{layer:e,view:t}=this;(0,G.p)(t,e),this._viewHandles.add(t.on("key-down",(e=>this._keyDownHandler(e)),k.f.TOOL))}),{once:!0,initial:!0}),(0,u.Wy)((()=>this.graphic),(()=>this.refresh())),(0,u.Wy)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,u.Wy)((()=>this.enableMidpoints),(()=>this.refresh())),(0,u.YP)((()=>this.tooltipOptions.enabled),(e=>{this._tooltip=e?new R.u({view:this.view}):(0,p.SC)(this._tooltip)}),u.tX)])}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this._tooltip=(0,p.SC)(this._tooltip),this._handles=(0,p.SC)(this._handles),this._viewHandles=(0,p.SC)(this._viewHandles)}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=!!this.get("view.ready"),t=!(!this.get("graphic")||!this.get("layer"));return e&&t?"active":e?"ready":"disabled"}set symbols(e){const{midpoints:t=Y.midpoints,vertices:i=Y.vertices}=e||{};this._set("symbols",{midpoints:t,vertices:i})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_setup(){const{graphic:e,layer:t}=this;if(!t||!e||(0,p.Wi)(e.geometry))return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,f.pW)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if((0,p.Wi)(e)||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new L.Z({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=T.c.fromGeometry(t,_.JY.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new x.Z({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new P.N({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:t.viewEvent?.pointerType||"mouse",excludeFeature:this.graphic,visualizer:new b.r(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){(0,p.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),(0,p.pC)(this._snappingGraphicsLayer)&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,p.SC)(this._editGeometryOperations),this._snappingTask=(0,p.IM)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_getCoordinatesForUI(e){const t=(0,f.nA)(e.clone());if("polygon"===e.type)for(const i of t){const e=i[i.length-1];i[0][0]===e[0]&&i[0][1]===e[1]&&i.length>2&&i.pop()}return t}_setupGraphics(){const e=this.graphic.geometry;if((0,p.pC)(e)&&("polyline"===e.type||"polygon"===e.type)){const t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:n}}=this,s=[];return e?.forEach(((e,o)=>{e.forEach(((e,a)=>{const[l,c]=e;s.push(new r.Z({geometry:new A.Z({x:l,y:c,spatialReference:n}),symbol:i?.vertices?.default,attributes:{...t,pathIndex:o,pointIndex:a}}))}))})),s}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:n}}=this,s=[];return e?.forEach(((e,o)=>{e.forEach(((a,l)=>{const[c,h]=a,d=e[l+1]?l+1:0;if("polygon"===(0,p.U2)(this.graphic.geometry,"type")||0!==d){const[a,p]=e[d],[u,v]=(0,f.Gi)([c,h],[a,p]);s.push(new r.Z({geometry:new A.Z({x:u,y:v,spatialReference:n}),symbol:i.midpoints.default,attributes:{...t,pathIndex:o,pointIndexStart:l,pointIndexEnd:d}}))}}))})),s}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((e=>{let{geometry:t}=e;return{x:t.x,y:t.y}}));for(let i=0;i<t.length;i++){const n=[];for(let e=0;e<t.length;e++){if(i===e)continue;const r=t[i],s=t[e];r.x===s.x&&r.y===s.y&&n.push(e)}e[i].attributes.relatedGraphicIndices=n}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:n,view:r}=this,s=n.concat(i).items;e&&s.push(t),this._mover=new C.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:s,view:r,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),n=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,n)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}_setUpOperation(e){const{graphic:t,dx:i,dy:n}=e,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?"move":"reshape",totalDx:i,totalDy:n}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:n}=e;if(n===this.graphic){const{geometry:r}=n;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void((0,p.pC)(r)&&"point"===r.type&&this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(n)){if(this._clearSelection(),this._isMidpoint(n)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(n);this._emitVertexAddEvent([n],e,t)}this._addToSelection(n)}this._setUpOperation(e),this._emitReshapeStartEvent(n),this._onHandleMove(n,t,i,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:n,graphic:r}=e;t.totalDx+=i,t.totalDy+=n;const{operationType:s}=t,{geometry:o}=r;if(!(0,p.Wi)(o))if("move"!==s)this._onHandleMove(r,i,n,e,(()=>{this._updateTooltip(r,e.viewEvent),this._emitReshapeEvent(r)}));else if("point"===o.type)this._onHandleMove(r,i,n,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,n)}));else if("polyline"===o.type||"polygon"===o.type){const t=this._getCoordinatesForUI(o);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,n)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:n,graphic:r}=e,{operationType:s}=t;t.totalDx+=i,t.totalDy+=n,this._onHandleMove(r,i,n,e,(()=>"move"===s?this._emitMoveStopEvent():this._emitReshapeStopEvent(r))),this._isMidpoint(r)?this.refresh():(this._updateTooltip(this._isVertex(r)?r:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const t=this.view.spatialReference;for(const i of this.vertexGraphics){const{pathIndex:n,pointIndex:r}=i.attributes,[s,o]=e[n][r];i.geometry=new A.Z({x:s,y:o,spatialReference:t})}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:n,pointIndexEnd:r}=t.attributes,[s,o]=e[i][n],[a,l]=e[i][r],[c,h]=(0,f.Gi)([s,o],[a,l]);t.geometry=new A.Z({x:c,y:h,spatialReference:this.view.spatialReference})}}_getIndicesForVertexGraphic(e){let{attributes:t}=e;return[t?.pathIndex||0,t?.pointIndex||0]}_getVertexFromEditGeometry(e){const[t,i]=this._getIndicesForVertexGraphic(e);return this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,n,r){(0,p.IM)(this._snappingTask);const o=this._snappingContext;if(!o)return;const a=e.geometry,l="graphic-move-stop"===n.type;if((0,p.pC)(this.snappingManager)&&this.selectedVertices.length<2&&!l){const n=this.snappingManager;this._stagedVertex=n.update({point:a,context:o}),this._syncGeometryAfterVertexMove(e,new A.Z(this._stagedVertex),t,i,l),r(),this._snappingTask=(0,s.vr)((async s=>{const c=await n.snap({point:a,context:o,signal:s});c.valid&&(this._stagedVertex=c.apply(),this._syncGeometryAfterVertexMove(e,new A.Z(this._stagedVertex),t,i,l),r())}))}else{const n=(0,p.pC)(this._stagedVertex)?new A.Z(this._stagedVertex):a;this._syncGeometryAfterVertexMove(e,n,t,i,l),r()}}async _syncGeometryAfterVertexMove(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this._editGeometryOperations.data.geometry;if("point"===s.type)e.geometry=t;else{const{x:o,y:a}=t,[l,c]=this._getIndicesForVertexGraphic(e);let h=(0,f.nA)(s);const p=h[l].length-1;h[l][c]=[o,a],"polygon"===s.type&&(0===c?h[l][p]=[o,a]:c===p&&(h[l][0]=[o,a])),this._isVertex(e)&&(h=this._moveRelatedCoordinates(h,e,o,a),h=this._moveSelectedHandleCoordinates(h,e,i,n,"polygon"===s.type),this._updateMidpointGraphicLocations(h)),this.graphic.geometry=s.clone();const d=this._getVertexFromEditGeometry(e),u=o-d.pos[0],v=a-d.pos[1];this._editGeometryOperations.moveVertices([d],u,v,0),r&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i,n){const{relatedGraphicIndices:r}=t.attributes;for(const s of r){const r=this.vertexGraphics.getItemAt(s),{pathIndex:o,pointIndex:a}=r.attributes;e[o][a]=[i,n],r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,n,r){for(const s of this.selectedVertices)if(s!==t){const{pathIndex:t,pointIndex:o,relatedGraphicIndices:a}=s.attributes,l=(0,w.e7)(s.geometry,i,n,this.view),c=e[t].length-1;e[t][o]=[l.x,l.y],s.geometry=l,r&&(0===o?e[t][c]=[l.x,l.y]:o===c&&(e[t][0]=[l.x,l.y]));for(const i of a){const t=this.vertexGraphics.getItemAt(i),{pathIndex:n,pointIndex:r}=t.attributes;e[n][r]=[l.x,l.y],t.geometry=l}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic,i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,n=i.geometry;if((0,p.Wi)(n)||"polygon"!==n.type&&"polyline"!==n.type)return[];const r=n.clone(),s=[],{pathIndex:o,pointIndexStart:a,pointIndexEnd:l}=e.attributes,{x:c,y:h}=e.geometry,d=0===l?a+1:l,u=(0,f.nA)(r);return u[o].splice(d,0,[c,h]),e.attributes={...t,pathIndex:o,pointIndex:d,relatedGraphicIndices:[]},s.push({coordinates:u[o][d],componentIndex:o,vertexIndex:d}),this.graphic.geometry=r,s}_addToSelection(e){e instanceof r.Z&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:i}=this.symbols,n=t?i.hover:i.default;e instanceof r.Z&&(e=[e]);for(const r of e)this.selectedVertices.splice(this.selectedVertices.indexOf(r),1),this._set("selectedVertices",this.selectedVertices),r.set("symbol",n);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedVertices.length){const e=this.selectedVertices;for(const t of this.selectedVertices)t.set("symbol",this.symbols.vertices.default);this._set("selectedVertices",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){O.j.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const t=this.graphic.geometry;if((0,p.Wi)(t)||"polygon"!==t.type&&"polyline"!==t.type)return;if("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;e instanceof r.Z&&(e=[e]);const i=this.graphic.clone(),n=t.clone();let s=(0,f.nA)(n);const o=[];e instanceof r.Z&&(e=[e]);for(const r of e){const{x:e,y:t}=r.geometry;for(let i=0;i<s.length;i++){const n=s[i];for(let r=0;r<n.length;r++){const[a,l]=n[r];e===a&&t===l&&(o.push({coordinates:s[i][r],componentIndex:i,vertexIndex:r}),s[i].splice(Number(r),1))}}}if("polygon"===n.type)s=s.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[n,r]=e[e.length-1];return(2!==e.length||t!==n||i!==r)&&(t===n&&i===r||e.push(e[0]),!0)})),n.rings=s;else{for(const e of s)1===e.length&&s.splice(s.indexOf(e),1);n.paths=s}this.graphic.geometry=n,this.refresh(),this._emitVertexRemoveEvent(e,i,o)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){(0,p.Wi)(this._tooltip)||(e?e===this.graphic?this._updateMoveGraphicTooltip(t):this._updateMoveVertexTooltip(t):this._tooltip.clear())}_updateMoveGraphicTooltip(e){const{_tooltip:t,tooltipOptions:i,view:n}=this;if((0,p.Wi)(t))return;const r=new V.$E({tooltipOptions:i});if(e){const{x:t,y:i}=e.origin,s=n.toMap(e),o=n.toMap((0,v.vW)(t,i)),a=(0,Z.Qw)(o,s);r.distance=(0,p.pC)(a)?a:d.yP}t.info=r}_updateMoveVertexTooltip(e){const{_tooltip:t,graphic:{geometry:i},tooltipOptions:n,view:r}=this;if((0,p.Wi)(t))return;const s=new V.nk({tooltipOptions:n});if((0,p.pC)(i)&&("polygon"===i.type?s.area=(0,I.f)(i):"polyline"===i.type&&(s.totalLength=(0,Z.C_)(i))),e){const{x:t,y:i}=e.origin,n=r.toMap(e),o=r.toMap((0,v.vW)(t,i)),a=(0,Z.Qw)(o,n);s.distance=(0,p.pC)(a)?a:d.yP}t.info=s}_emitMoveStartEvent(e,t){const i=new U(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}_emitMoveEvent(e,t){const i=new B(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}_emitMoveStopEvent(){const e=this._activeOperationInfo;if(!e)return;const{totalDx:t,totalDy:i}=e,n=new F(this.graphic,t,i);this.emit("move-stop",n),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(n)}_emitReshapeStartEvent(e){const t=new H(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new D(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new W(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new z(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new N(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,i){const n=new j(e,this.graphic,t,i);this.emit("vertex-add",n),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(n)}_emitVertexRemoveEvent(e,t,i){const n=new q(e,this.graphic,t,i);this.emit("vertex-remove",n),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(n)}_logGeometryTypeError(){h.Z.getLogger(this.declaredClass).error(new a.Z("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};(0,n._)([(0,y.Cb)()],J.prototype,"_tooltip",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"callbacks",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"enableMidpoints",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"enableMovement",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"enableVertices",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"graphic",void 0),(0,n._)([(0,y.Cb)({value:!0})],J.prototype,"highlightsEnabled",null),(0,n._)([(0,y.Cb)()],J.prototype,"layer",void 0),(0,n._)([(0,y.Cb)({readOnly:!0})],J.prototype,"midpointGraphics",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"midpointSymbol",void 0),(0,n._)([(0,y.Cb)({readOnly:!0})],J.prototype,"selectedVertices",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"snappingManager",void 0),(0,n._)([(0,y.Cb)({readOnly:!0})],J.prototype,"state",null),(0,n._)([(0,y.Cb)({value:Y})],J.prototype,"symbols",null),(0,n._)([(0,y.Cb)({type:E.Z})],J.prototype,"tooltipOptions",void 0),(0,n._)([(0,y.Cb)({readOnly:!0})],J.prototype,"type",void 0),(0,n._)([(0,y.Cb)({readOnly:!0})],J.prototype,"vertexGraphics",void 0),(0,n._)([(0,y.Cb)()],J.prototype,"view",void 0),J=(0,n._)([(0,g.j)("esri.views.draw.support.Reshape")],J);const Q=J},70040:(e,t,i)=>{i.d(t,{O:()=>r,X:()=>p});var n=i(51995);const r={main:new n.Z([255,127,0]),selected:new n.Z([255,255,255]),outline:new n.Z([0,0,0,.5]),selectedOutline:new n.Z([255,255,255]),hoverOutline:new n.Z([255,255,255]),secondary:new n.Z([255,255,255]),secondaryOutline:new n.Z([100,100,100]),transparent:new n.Z([0,0,0,0])};function s(e,t){if(t)for(const i in t)e[i]=t[i]}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=r.main,this.hoverColor=r.main,this.outlineColor=r.outline,this.hoverOutlineColor=r.hoverOutline,s(this,e)}}class a{constructor(e){this.color=r.secondary,this.hoverColor=r.main,s(this,e)}}class l{constructor(e){this.color=r.transparent,this.hoverColor=r.transparent,this.outlineColor=r.main,this.hoverOutlineColor=r.main,this.stagedColor=r.transparent,this.stagedOutlineColor=r.secondary,s(this,e)}}class c{constructor(e){this.vertex=new o,this.midpoint=new o({color:r.secondary,outlineColor:r.secondaryOutline,size:6}),this.selected=new o({color:r.selected,hoverColor:r.selected,hoverOutlineColor:r.hoverOutline}),s(this,e)}}class h{constructor(e){this.center=new o({color:r.secondaryOutline}),this.fill=new l,this.line=new a,this.vertex=new o({color:r.selected,outlineColor:r.main,hoverColor:r.selected,hoverOutlineColor:r.secondaryOutline}),s(this,e)}}const p=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new h,s(this,e)}}},40524:(e,t,i)=>{i.d(t,{$E:()=>l,QW:()=>c,c1:()=>u,in:()=>h,j:()=>d,nk:()=>p});var n=i(27366),r=i(47898),s=i(49861),o=i(69912),a=i(4943);let l=class extends a.h{constructor(e){super(e),this.type="translate-graphic",this.distance=r.yP}};(0,n._)([(0,s.Cb)()],l.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],l.prototype,"distance",void 0),l=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],l);let c=class extends a.h{constructor(e){super(e),this.type="translate-graphic-z",this.distance=r.yP}};(0,n._)([(0,s.Cb)()],c.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],c.prototype,"distance",void 0),c=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateGraphicZTooltipInfo")],c);let h=class extends a.h{constructor(e){super(e),this.type="translate-graphic-xy",this.distance=r.yP}};(0,n._)([(0,s.Cb)()],h.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],h.prototype,"distance",void 0),h=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateGraphicXYTooltipInfo")],h);let p=class extends a.h{constructor(e){super(e),this.type="translate-vertex",this.distance=r.yP,this.elevation=null,this.area=null,this.totalLength=null}};(0,n._)([(0,s.Cb)()],p.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],p.prototype,"distance",void 0),(0,n._)([(0,s.Cb)()],p.prototype,"elevation",void 0),(0,n._)([(0,s.Cb)()],p.prototype,"area",void 0),(0,n._)([(0,s.Cb)()],p.prototype,"totalLength",void 0),p=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],p);let d=class extends a.h{constructor(e){super(e),this.type="translate-vertex-z",this.distance=r.yP,this.elevation=null}};(0,n._)([(0,s.Cb)()],d.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],d.prototype,"distance",void 0),(0,n._)([(0,s.Cb)()],d.prototype,"elevation",void 0),d=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateVertexZTooltipInfo")],d);let u=class extends a.h{constructor(e){super(e),this.type="translate-vertex-xy",this.distance=r.yP,this.elevation=null,this.area=null,this.totalLength=null}};(0,n._)([(0,s.Cb)()],u.prototype,"type",void 0),(0,n._)([(0,s.Cb)()],u.prototype,"distance",void 0),(0,n._)([(0,s.Cb)()],u.prototype,"elevation",void 0),(0,n._)([(0,s.Cb)()],u.prototype,"area",void 0),(0,n._)([(0,s.Cb)()],u.prototype,"totalLength",void 0),u=(0,n._)([(0,o.j)("esri.views.interactive.tooltip.TranslateVertexXYTooltipInfo")],u)},9856:(e,t,i)=>{i.d(t,{f:()=>O,k:()=>k});var n=i(92026),r=i(47898),s=i(68860),o=i(79347),a=i(11186),l=i(71353),c=i(79803),h=i(55652),p=i(74702),d=i(25003);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return y(e,t)}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return y(e,t,!1)}function y(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.hasZ;const o=(0,d.m)(e.spatialReference),u=(0,s.oq)(o);if((0,n.Wi)(u))return null;const v=(e,t)=>!(t.length<2)&&((0,a.s)(e,t[0],t[1],i&&t[2]||0),!0);let y=0;for(const n of e.rings){const i=n.length;if(i<3)continue;const{positionsWorldCoords:r}=t;for(;r.length<i;)r.push((0,l.c)());const s=g,d=(0,a.s)(f,0,0,0),u=1/i;for(let t=0;t<i;t++){if(!v(s,n[t]))return null;if(!(0,c.SH)(s,e.spatialReference,r[t],o))return null;(0,a.z)(d,d,r[t],u)}const m=(0,h.zk)(r[0],r[1],d,(0,h.re)());if(0===(0,a.p)((0,h.mJ)(m)))continue;for(let e=0;e<i;e++)(0,h.tx)(m,d,r[e],r[e]);const _=x(r);for(let e=0;e<_.length;e+=3)y+=(0,p.wu)(r[_[e]],r[_[e+1]],r[_[e+2]])}return(0,r.ne)(y,u)}const g=(0,l.c)(),f=(0,l.c)();function x(e){return(0,o.e)(function(e){const t=new Float64Array(2*e.length);for(let i=0;i<e.length;++i){const n=e[i],r=2*i;t[r+0]=n[0],t[r+1]=n[1]}return t}(e),[],2)}i(59486);var m=i(2170),_=i(15559),b=i(47072),w=i(78952);function C(e){const{spatialReference:t}=e;return(0,b.T)(t,M,G,S,e)}function M(e){return(0,r.ne)(Math.abs((0,_.p8)([e],"square-meters")[0]),"square-meters")}function G(e){try{return(0,r.ne)(Math.abs((0,m.geodesicArea)(e,"square-meters")),"square-meters")}catch(t){return null}}function S(e){const t=[];return(0,c.K2)(e,t)?(0,r.ne)(Math.abs((0,_.p8)([{type:"polygon",rings:t,spatialReference:w.Z.WGS84}],"square-meters")[0]),"square-meters"):null}function k(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{positionsWorldCoords:[]};if("on-the-ground"===t){const t=C(e);return(0,n.pC)(t)?t:v(e,i)}return u(e,i)}function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]};return k(e,"on-the-ground",t)}}}]);
//# sourceMappingURL=3362.7b53800e.chunk.js.map