{"version":3,"sources":["Components/Shell/utils/shell.ts","Components/Shell/Shell.tsx"],"names":["panelDismissedChange","e","target","parentElement","collapsed","dismissed","actionClicked","action","actions","isActive","isTool","innerWidth","forEach","a","deactivateActions","shellPanel","closest","removeAttribute","setAttribute","windowResize","width","setWidth","setActions","document","querySelectorAll","button","find","title","getAttribute","window","querySelector","bar","expandDisabled","MapView","lazy","Header","TipManager","PropertyPanel","LocationSearch","Layers","Basemaps","Legend","PropertySelect","Measure","Sketch","Bookmarks","Print","Shell","tips","setTips","useState","tipsTitle","setTipsTitle","console","log","view","useRef","viewCreated","setViewCreated","selectedProperties","setSelectedProperties","selectedFeature","setSelectedFeature","theme","setTheme","useContext","ThemeContext","sketchVM","selectVM","measurement","coordinates","maximize","activeTool","setActiveTool","ActionContext","featureSelected","feature","attributes","geometry","current","container","getElementById","ReactDOM","render","fallback","geometrySet","geometryChanged","toolActivated","selectActivated","printAction","exportUrl","templateUrl","activatePropertySearch","active","search","hidden","shell","propertiesSelected","properties","length","sketchToolActivated","sketchViewModel","cancel","viewModel","activeViewModel","clear","mode","measurementActivated","measurementTool","coordinatesTool","showTips","text","label","slot","icon","appearance","scale","calcite-hydrated","onClick","renderWidget","shadowRoot","hasChildNodes","default","basemaps","id","imagery","useEffect","panel","addEventListener","resizeTimer","matchMedia","matches","body","classList","remove","add","link","Array","from","head","href","includes","appendChild","undefined","newTheme","localStorage","setItem","updateTheme","getItem","clearTimeout","setTimeout","clientWidth","observer","MutationObserver","mutations","disconnect","observe","childList","removeEventListener","className","position","width-scale","expanded","map","placement","reference-element","name","disabled","async","requestAnimationFrame","aria-label","ref","offset","primary","primaryBar","contextBar","tabnav","tab","tabTitle","inactiveTabTitle","ev","KeyboardEvent","altKey","bubbles","cancelable","charCode","code","composed","ctrlKey","detail","isComposing","key","keyCode","location","metaKey","repeat","shiftKey","dispatchEvent","links","initialized","mapView","closed","tipsDismissed"],"mappings":"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","file":"static/js/176.6258735d.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport React from 'react';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst panelDismissedChange = (e: Event) => {\n  const shellPanel = (e.target as HTMLElement)?.parentElement;\n  (shellPanel as HTMLCalciteShellPanelElement).collapsed = (e.target as HTMLCalcitePanelElement)?.dismissed;\n};\n\nexport const initialized = (): void => {\n  const panels = document.querySelectorAll('calcite-panel');\n  panels.forEach((panel) => {\n    panel?.addEventListener('calcitePanelDismissedChange', panelDismissedChange);\n  });\n};\n\nexport const deactivate = (): void => {\n  const panels = document.querySelectorAll('calcite-panel');\n  panels.forEach((panel) => {\n    panel?.removeEventListener('calcitePanelDismissedChange', panelDismissedChange);\n  });\n};\nconst deactivateActions = (actions: any[], isTool: boolean): void => {\n  if (innerWidth < 1000) {\n    actions.forEach((a) => {\n      a.isActive = false;\n    });\n  } else {\n    if (isTool) {\n      actions.forEach((a) => {\n        a.isActive = a.isActive && !a.isTool;\n      });\n    } else {\n      actions.forEach((a) => {\n        a.isActive = a.isActive && a.isTool;\n      });\n    }\n  }\n};\nexport const actionClicked = (e: any, action: any, actions: any[]): any[] => {\n  if (action.isActive) {\n    action.isActive = false;\n  } else {\n    deactivateActions(actions, action.isTool);\n    action.isActive = true;\n  }\n  const shellPanel = e.target.closest('calcite-shell-panel');\n\n  if (!action.isActive) {\n    shellPanel?.setAttribute('collapsed', '');\n  } else {\n    shellPanel?.removeAttribute('collapsed');\n  }\n  return actions;\n};\n\nexport const updateTheme = (theme: string, setTheme: React.Dispatch<string>) => {\n  if (theme) {\n    if (theme === 'dark') {\n      setTheme('dark');\n    }\n    if (theme === 'light') {\n      setTheme('light');\n    }\n  } else {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      theme = 'dark';\n      setTheme('dark');\n    } else {\n      theme = 'light';\n      setTheme('light');\n    }\n  }\n  document.body.classList.remove(theme === 'light' ? 'dark' : 'light');\n  document.body.classList.add(theme === 'light' ? 'light' : 'dark');\n\n  const link = Array.from(document.head.querySelectorAll('link')).find((link: HTMLLinkElement) => {\n    return link.href.includes(`${theme}/main.css`);\n  });\n  if (link) {\n    document.head.appendChild(link);\n  }\n  if (window.matchMedia != undefined) {\n    const media = window.matchMedia('(prefers-color-scheme: dark)');\n    if (media.addEventListener != undefined) {\n      window.matchMedia('(prefers-color-scheme: dark)')?.addEventListener('change', (e) => {\n        const newTheme = e.matches ? 'dark' : 'light';\n        setTheme(newTheme);\n        window.localStorage.setItem('imaps_theme', newTheme);\n        document.body.classList.remove(newTheme === 'light' ? 'dark' : 'light');\n        document.body.classList.add(newTheme === 'light' ? 'light' : 'dark');\n        const link = Array.from(document.head.querySelectorAll('link')).find((link: HTMLLinkElement) => {\n          return link.href.includes(`${newTheme}/main.css`);\n        });\n        if (link) {\n          document.head.appendChild(link);\n        }\n      });\n    }\n  }\n};\n\nexport const windowResize = (\n  actions: any[],\n  width: number,\n  setWidth: React.Dispatch<number>,\n  setActions: React.Dispatch<any[]>,\n) => {\n  const activeActions = document.querySelectorAll('calcite-action[active]');\n  activeActions.forEach((button) => {\n    const action = actions.find((action) => {\n      return action.title === button.getAttribute('text');\n    });\n    if (window.innerWidth >= 1000 && action?.isActive && width < 1000) {\n      if (action.isTool) {\n        (document.querySelector('calcite-shell-panel[slot=contextual-panel]') as HTMLElement)?.setAttribute(\n          'collapsed',\n          '',\n        );\n        action.isActive = false;\n      }\n    }\n    if (window.innerWidth < 1000 && action?.isActive && width >= 1000) {\n      if (action.isTool) {\n        (document.querySelector('calcite-shell-panel[slot=primary-panel]') as HTMLElement)?.removeAttribute(\n          'collapsed',\n        );\n        action.isActive = false;\n      } else {\n        (document.querySelector('calcite-shell-panel[slot=contextual-panel]') as HTMLElement)?.removeAttribute(\n          'collapsed',\n        );\n      }\n    }\n\n    document.querySelectorAll('calcite-action-bar').forEach((bar) => {\n      if (bar) {\n        bar.expandDisabled = window.innerWidth <= 500;\n      }\n    });\n  });\n  setWidth(window.innerWidth);\n  setActions([...actions]);\n};\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useContext, useEffect, useState, lazy, Suspense, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nconst MapView = lazy(() => {\n  return import('../MapView/MapView');\n});\nconst Header = lazy(() => {\n  return import('../Header/Header');\n});\nconst TipManager = lazy(() => {\n  return import('../TipManager/TipManager');\n});\nconst PropertyPanel = lazy(() => import('../PropertyPanel/PropertyPanel'));\nconst LocationSearch = lazy(() => import('../LocationSearch/LocationSearch'));\nconst Layers = lazy(() => import('../Layers/Layers'));\nconst Basemaps = lazy(() => import('../Basemaps/Basemaps'));\nconst Legend = lazy(() => import('../Legend/Legend'));\nconst PropertySelect = lazy(() => import('../PropertySelect/PropertySelect'));\nconst Measure = lazy(() => import('../Measure/Measure'));\nconst Sketch = lazy(() => import('../Sketch/Sketch'));\nconst Bookmarks = lazy(() => import('../Bookmarks/Bookmarks'));\nconst Print = lazy(() => import('../Print/Print'));\nimport './Shell.scss';\nimport { actionClicked, deactivate, initialized, updateTheme, windowResize } from './utils/shell';\nimport ThemeContext from '../ThemeContext';\nimport { basemaps, links } from '../../config/config';\nimport ActionContext from '../ActionContext';\n\nexport const Shell = () => {\n  const [tips, setTips] = useState<any>([]);\n  const [tipsTitle, setTipsTitle] = useState<string>();\n  console.log('render shell');\n  const [width, setWidth] = useState(window.innerWidth);\n  const view = useRef<__esri.MapView>();\n  const [viewCreated, setViewCreated] = useState(false);\n  const [selectedProperties, setSelectedProperties] = useState<__esri.Graphic[]>([]);\n  const [selectedFeature, setSelectedFeature] = useState<any>();\n  const { theme, setTheme } = useContext(ThemeContext);\n  //define sketch tools to handle deactivating other sketch tools\n  const sketchVM = useRef<__esri.SketchViewModel>();\n  const selectVM = useRef<__esri.SketchViewModel>();\n  const measurement = useRef<__esri.Measurement>();\n  const coordinates = useRef<__esri.CoordinateConversion>();\n  const maximize = useRef<HTMLCalciteActionElement>();\n\n  const [activeTool, setActiveTool] = useState<string>();\n  const { actions, setActions } = useContext(ActionContext);\n\n  //when feature is selected update featureSelected state and render PropertySelect\n  const featureSelected = (feature: __esri.Graphic | undefined) => {\n    setSelectedFeature({ ...selectedFeature, ...{ attributes: feature?.attributes, geometry: feature?.geometry } });\n\n    const action = actions.find((action) => {\n      return action.title === 'Property Select';\n    });\n    if (action && view.current) {\n      const container = document.getElementById(action?.container);\n      if (container) {\n        ReactDOM.render(\n          <Suspense fallback={''}>\n            <PropertySelect\n              view={view.current}\n              selectedFeature={feature}\n              geometrySet={geometryChanged}\n              toolActivated={selectActivated}\n            />\n          </Suspense>,\n          container,\n        );\n      }\n    }\n\n    const printAction = actions.find((action) => {\n      return action.title === 'Print';\n    });\n    if (printAction) {\n      const container = document.getElementById(printAction?.container);\n      ReactDOM.render(\n        <Suspense fallback={''}>\n          <Print\n            view={view.current}\n            exportUrl=\"https://indoors.raleighnc.gov/arcgis/rest/services/ExportWebMap/GPServer/Export%20Web%20Map\"\n            templateUrl=\"https://indoors.raleighnc.gov/arcgis/rest/services/ExportWebMap/GPServer/Get%20Layout%20Templates%20Info/execute\"\n            selectedFeature={feature}\n          />\n        </Suspense>,\n        container,\n      );\n    }\n  };\n  //activate PropertySearch on load and on geometry updates\n  const activatePropertySearch = (): HTMLElement => {\n    const active = actions.find((action) => {\n      return action.isActive;\n    });\n    if (active) {\n      active.isActive = false;\n    }\n    const search = actions.find((action) => {\n      return action.title === 'Property Search';\n    });\n\n    if (search) {\n      search.isActive = true;\n    }\n    const container = document.getElementById(search?.container as string);\n    if (container) {\n      const panel: HTMLDivElement = container?.closest('.action-panel') as HTMLDivElement;\n      panel.hidden = false;\n      const shell = container?.closest('calcite-shell-panel');\n      shell?.removeAttribute('collapsed');\n    }\n    return container as HTMLElement;\n  };\n\n  const propertiesSelected = (properties: __esri.Graphic[]) => {\n    setSelectedProperties([...selectedProperties, ...properties]);\n    if (properties.length > 1) {\n      setSelectedFeature({ ...selectedFeature, ...{ attributes: null } });\n    }\n    const container = activatePropertySearch();\n\n    ReactDOM.render(\n      <Suspense fallback={''}>\n        <PropertyPanel\n          propertiesSelected={propertiesSelected}\n          featureSelected={featureSelected}\n          selectedProperties={properties}\n        />\n      </Suspense>,\n      container,\n    );\n\n    console.log('setActions');\n    setActions([...[], ...actions]);\n  };\n\n  //deactivate other sketch tools\n  const sketchToolActivated = (sketchViewModel: __esri.SketchViewModel) => {\n    sketchVM.current = sketchViewModel;\n    selectVM.current?.cancel();\n    measurement.current?.viewModel.activeViewModel?.clear();\n    if (coordinates.current) {\n      coordinates.current.viewModel.mode = 'live';\n    }\n    setActiveTool('sketch');\n  };\n  const measurementActivated = (measurementTool: __esri.Measurement, coordinatesTool: __esri.CoordinateConversion) => {\n    measurement.current = measurementTool;\n    coordinates.current = coordinatesTool;\n    sketchVM.current?.cancel();\n    selectVM.current?.cancel();\n    setActiveTool('measure');\n  };\n  const selectActivated = (sketchViewModel: __esri.SketchViewModel) => {\n    selectVM.current = sketchViewModel;\n    sketchVM.current?.cancel();\n    measurement.current?.viewModel.activeViewModel?.clear();\n    if (coordinates.current) {\n      coordinates.current.viewModel.mode = 'live';\n    }\n    setActiveTool('select');\n  };\n\n  //reset tips when dismissed\n  const tipsDismissed = () => {\n    setTips([]);\n    setTipsTitle('');\n  };\n  //render Tips action\n  const showTips = (isTool: boolean) => {\n    let action: any;\n    if (isTool) {\n      action = actions.find((action: any) => {\n        return action.isActive && action.isTool;\n      });\n    } else {\n      action = actions.find((action: any) => {\n        return action.isActive;\n      });\n    }\n\n    return action?.tips?.length ? (\n      <calcite-action\n        text=\"Action\"\n        label=\"Action\"\n        slot=\"header-actions-end\"\n        icon=\"lightbulb\"\n        appearance=\"solid\"\n        scale=\"m\"\n        calcite-hydrated=\"\"\n        onClick={() => {\n          setTips([...tips, ...action.tips]);\n          setTipsTitle(action.title);\n        }}\n      ></calcite-action>\n    ) : (\n      ''\n    );\n  };\n\n  //after map has initiliazed\n  const mapInitialized = async (mapView: __esri.MapView) => {\n    if (!viewCreated) {\n      //setView(mapView);\n      view.current = mapView;\n      setViewCreated(true);\n      const container = document.getElementById('propertySearch');\n      if (mapView.map) {\n        ReactDOM.render(\n          <Suspense fallback={''}>\n            <PropertyPanel\n              view={mapView}\n              propertiesSelected={propertiesSelected}\n              featureSelected={featureSelected}\n              selectedProperties={selectedProperties}\n              toolActivated={selectActivated}\n            />\n          </Suspense>,\n          container,\n        );\n      }\n    }\n  };\n\n  //update PropertyPanel geometry when geometry is updated by MapView or PropertySelect\n  const geometryChanged = (geometry: __esri.Geometry) => {\n    const container = activatePropertySearch();\n    ReactDOM.render(\n      <Suspense fallback={''}>\n        <PropertyPanel\n          geometry={geometry}\n          propertiesSelected={propertiesSelected}\n          selectedProperties={selectedProperties}\n          featureSelected={featureSelected}\n          selectedFeature={selectedFeature}\n        />\n      </Suspense>,\n      container,\n    );\n  };\n\n  //render widgets as they become active\n  const renderWidget = (action: any) => {\n    if (action) {\n      const container = document.getElementById(action.container);\n      document\n        .querySelector('calcite-shell-panel[slot=contextual-panel]')\n        ?.shadowRoot?.querySelector('.content')\n        ?.setAttribute(\n          'style',\n          `max-width: 350px; width: calc(var(--calcite-panel-width-multiplier) * 100vw) !important;`,\n        );\n      if (!container?.hasChildNodes()) {\n        if (action.title === 'Property Search') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <PropertyPanel\n                view={view.current}\n                propertiesSelected={propertiesSelected}\n                featureSelected={featureSelected}\n                selectedProperties={selectedProperties}\n              />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Location Search') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <LocationSearch view={view.current} />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Layers') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Layers view={view.current} />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Basemaps') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Basemaps view={view.current} default={basemaps.default.id} imagery={basemaps.imagery.id} />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Legend') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Legend view={view.current} />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Property Select') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <PropertySelect\n                view={view.current}\n                geometrySet={geometryChanged}\n                selectedFeature={selectedFeature}\n                toolActivated={selectActivated}\n                activeTool={activeTool}\n              />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Measure') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Measure view={view.current} measurementActivated={measurementActivated} activeTool={activeTool} />\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Sketch') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Sketch view={view.current} toolActivated={sketchToolActivated} activeTool={activeTool} />{' '}\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Bookmarks') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Bookmarks view={view.current} />{' '}\n            </Suspense>,\n            container,\n          );\n        }\n        if (action.title === 'Print') {\n          ReactDOM.render(\n            <Suspense fallback={''}>\n              <Print\n                view={view.current}\n                exportUrl=\"https://indoors.raleighnc.gov/arcgis/rest/services/ExportWebMap/GPServer/Export%20Web%20Map\"\n                templateUrl=\"https://indoors.raleighnc.gov/arcgis/rest/services/ExportWebMap/GPServer/Get%20Layout%20Templates%20Info/execute\"\n              />\n            </Suspense>,\n            container,\n          );\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    initialized();\n    const theme = window.localStorage.getItem('imaps_theme') as string;\n    updateTheme(theme, setTheme);\n    let resizeTimer: NodeJS.Timeout;\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(() => {\n        windowResize(actions, width, setWidth, setActions);\n      }, 250);\n      document.querySelectorAll('calcite-shell-panel').forEach((panel) => {\n        let width = '350px';\n        if (maximize.current) {\n          maximize.current.icon = 'left-edge';\n        }\n        const bar = panel.querySelector('calcite-action-bar');\n        if (window.innerWidth <= 500) {\n          width = `calc(100vw - ${bar?.clientWidth}px)`;\n        }\n        panel?.shadowRoot\n          ?.querySelector('.content')\n          ?.setAttribute(\n            'style',\n            `max-width: ${width}; width: calc(var(--calcite-panel-width-multiplier) * 100vw) !important;`,\n          );\n      });\n    });\n    document.querySelectorAll('calcite-shell-panel').forEach((panel) => {\n      const observer: MutationObserver = new MutationObserver((mutations) => {\n        if (mutations.length) {\n          let width = '350px';\n          if (window.innerWidth <= 500) {\n            width = 'calc(100vw - 50px)';\n          }\n          panel?.shadowRoot\n            ?.querySelector('.content')\n            ?.setAttribute(\n              'style',\n              `max-width: ${width}; width: calc(var(--calcite-panel-width-multiplier) * 100vw) !important;`,\n            );\n          document.querySelectorAll('calcite-action-bar').forEach((bar) => {\n            if (bar) {\n              bar.expandDisabled = window.innerWidth <= 500;\n            }\n          });\n          observer.disconnect();\n        } else {\n          observer.disconnect();\n        }\n      });\n      observer.observe(panel?.shadowRoot as Node, { childList: true });\n    });\n\n    return () => {\n      window.removeEventListener('resize', () => {\n        windowResize(actions, width, setWidth, setActions);\n      });\n      deactivate();\n    };\n  }, [actions]);\n  return (\n    <div>\n      <calcite-shell theme={theme} className=\"shell\">\n        {width >= 1000 ? (\n          <calcite-shell-panel slot=\"primary-panel\" position=\"start\" width-scale=\"l\" collapsed>\n            <calcite-action-bar\n              slot=\"action-bar\"\n              expanded={/*!viewCreated && window.innerWidth > 500 ? '' : null*/ false}\n            >\n              {actions.map((action: any) => {\n                if (action.isTool) {\n                  return (\n                    <div key={`${action.container}_action_primary`}>\n                      <calcite-tooltip\n                        placement=\"trailing\"\n                        label={action.title}\n                        reference-element={`${action.container}_action`}\n                      >\n                        {action.title}\n                      </calcite-tooltip>\n                      <calcite-tooltip-manager>\n                        <calcite-action\n                          text={action.title}\n                          name={action.container}\n                          icon={action.icon}\n                          id={`${action.container}_action`}\n                          disabled={!viewCreated ? '' : null}\n                          onClick={async (e: any) => {\n                            console.log('setActions');\n                            setActions([...actionClicked(e, action, actions)]);\n                            requestAnimationFrame(() => {\n                              renderWidget(action);\n                            });\n                          }}\n                          active={action.isActive === true ? '' : null}\n                        ></calcite-action>\n                      </calcite-tooltip-manager>\n                    </div>\n                  );\n                }\n              })}\n            </calcite-action-bar>\n            {actions.map((action: any) => {\n              if (action.isTool && action.isActive) {\n                console.log(action);\n                return (\n                  <div className=\"panel-header\" key={`${action.icon}_header_primary`}>\n                    <div className=\"panel-title\">{action.title}</div>\n                    <div className=\"header-actions\">\n                      {showTips(true)}\n                      <calcite-action\n                        aria-label=\"Close\"\n                        appearance=\"solid\"\n                        scale=\"m\"\n                        calcite-hydrated=\"\"\n                        icon=\"x\"\n                        onClick={() => {\n                          document\n                            ?.querySelector('calcite-shell-panel[slot=primary-panel]')\n                            ?.setAttribute('collapsed', '');\n                          action.isActive = false;\n\n                          console.log('setActions');\n                          setActions([...actions]);\n                        }}\n                      ></calcite-action>\n                    </div>\n                  </div>\n                );\n              }\n            })}\n            {actions.map((action: any) => {\n              if (action.isTool) {\n                return (\n                  <div\n                    id={action.container}\n                    className=\"action-panel\"\n                    key={`${action.container}_primary`}\n                    hidden={!action.isActive}\n                  ></div>\n                );\n              }\n            })}\n          </calcite-shell-panel>\n        ) : (\n          ''\n        )}\n\n        <calcite-shell-panel slot=\"contextual-panel\" position=\"end\" width-scale=\"l\">\n          <calcite-action-bar\n            slot=\"action-bar\"\n            expanded={/*!viewCreated && window.innerWidth > 500 ? '' : null*/ false}\n          >\n            {actions.map((action: any) => {\n              if (!action.isTool || width < 1000) {\n                return (\n                  <div key={`${action.container}_action_contextual`}>\n                    <calcite-tooltip\n                      placement=\"leading\"\n                      label={action.title}\n                      reference-element={`${action.container}_action`}\n                    >\n                      {action.title}\n                    </calcite-tooltip>\n                    <calcite-tooltip-manager>\n                      <calcite-action\n                        text={action.title}\n                        name={action.container}\n                        icon={action.icon}\n                        id={`${action.container}_action`}\n                        disabled={!viewCreated ? '' : null}\n                        onClick={async (e: any) => {\n                          console.log('setActions');\n                          setActions([...actionClicked(e, action, actions)]);\n                          requestAnimationFrame(() => {\n                            renderWidget(action);\n                          });\n                        }}\n                        active={action.isActive === true ? '' : null}\n                      ></calcite-action>\n                    </calcite-tooltip-manager>\n                  </div>\n                );\n              }\n            })}\n          </calcite-action-bar>\n\n          {actions.map((action: any) => {\n            if ((!action.isTool || width < 1000) && action.isActive) {\n              return (\n                <div className=\"panel-header\" key={`${action.icon}_header_contextual`}>\n                  <div className=\"panel-title\">{action.title}</div>\n                  <div className=\"header-actions\">\n                    {action.title === 'Property Search' && width > 500 && (\n                      <calcite-action\n                        ref={maximize}\n                        aria-label=\"Maximize\"\n                        appearance=\"solid\"\n                        scale=\"m\"\n                        calcite-hydrated=\"\"\n                        icon=\"left-edge\"\n                        onClick={(e: any) => {\n                          let offset = 0;\n                          const primary: HTMLCalciteShellPanelElement = document.querySelector(\n                            'calcite-shell-panel[slot=primary-panel]',\n                          ) as HTMLCalciteShellPanelElement;\n                          if (!primary?.collapsed) {\n                            offset += primary.clientWidth;\n                          }\n                          const primaryBar = primary.querySelector('calcite-action-bar');\n                          if (primaryBar) {\n                            offset += primaryBar?.clientWidth;\n                          }\n                          const context: HTMLCalciteShellPanelElement = document.querySelector(\n                            'calcite-shell-panel[slot=contextual-panel]',\n                          ) as HTMLCalciteShellPanelElement;\n                          const contextBar = context.querySelector('calcite-action-bar');\n                          if (contextBar) {\n                            offset += contextBar?.clientWidth;\n                          }\n                          let width = `calc(100vw - ${offset}px)`;\n\n                          if (e.target.icon === 'right-edge') {\n                            e.target.icon = 'left-edge';\n                            width = '350px';\n                          } else {\n                            e.target.icon = 'right-edge';\n                          }\n                          const panel = e.target.closest('calcite-shell-panel');\n                          panel?.shadowRoot\n                            ?.querySelector('.content')\n                            ?.setAttribute(\n                              'style',\n                              `max-width: ${width}; width: calc(var(--calcite-panel-width-multiplier) * 100vw) !important;`,\n                            );\n                          const tabnav = panel.querySelector('calcite-tab-nav');\n                          panel.querySelectorAll('calcite-tab').forEach((tab: HTMLCalciteTabElement) => {\n                            tab?.setAttribute('style', `max-width: ${width}`);\n                          });\n                          tabnav?.setAttribute('style', `max-width: ${width}`);\n\n                          const tabTitle = document.querySelector(\n                            'calcite-tab-title[active]',\n                          ) as HTMLCalciteTabTitleElement;\n                          const inactiveTabTitle = document.querySelector(\n                            'calcite-tab-title:not([active])',\n                          ) as HTMLCalciteTabTitleElement;\n                          if (tabTitle) {\n                            setTimeout(() => {\n                              const ev = new KeyboardEvent('keydown', {\n                                altKey: false,\n                                bubbles: true,\n                                cancelable: true,\n                                charCode: 0,\n                                code: 'Enter',\n                                composed: true,\n                                ctrlKey: false,\n                                detail: 0,\n                                isComposing: false,\n                                key: 'Enter',\n                                keyCode: 13,\n                                location: 0,\n                                metaKey: false,\n                                repeat: false,\n                                shiftKey: false,\n                              });\n                              inactiveTabTitle?.dispatchEvent(ev);\n                              tabTitle?.dispatchEvent(ev);\n                            }, 250);\n                          }\n                        }}\n                      ></calcite-action>\n                    )}\n                    {showTips(false)}\n                    <calcite-action\n                      aria-label=\"Close\"\n                      appearance=\"solid\"\n                      scale=\"m\"\n                      calcite-hydrated=\"\"\n                      icon=\"x\"\n                      onClick={() => {\n                        document\n                          ?.querySelector('calcite-shell-panel[slot=contextual-panel]')\n                          ?.setAttribute('collapsed', '');\n                        action.isActive = false;\n\n                        console.log('setActions');\n                        setActions([...actions]);\n                      }}\n                    ></calcite-action>\n                  </div>\n                </div>\n              );\n            }\n          })}\n          {actions.map((action: any) => {\n            if (!action.isTool || width < 1000) {\n              return (\n                <div\n                  className=\"action-panel\"\n                  id={action.container}\n                  key={`${action.container}_contextual`}\n                  hidden={!action.isActive}\n                ></div>\n              );\n            }\n          })}\n        </calcite-shell-panel>\n\n        <div slot=\"shell-header\">\n          <Suspense fallback={''}>\n            <Header links={links} />\n          </Suspense>\n        </div>\n        <Suspense fallback={''}>\n          <MapView\n            id=\"95092428774c4b1fb6a3b6f5fed9fbc4\"\n            initialized={mapInitialized}\n            geometryChanged={geometryChanged}\n            selectedProperties={selectedProperties}\n            selectedFeature={selectedFeature}\n          />\n        </Suspense>\n      </calcite-shell>\n      <Suspense fallback={''}>\n        <TipManager tips={tips} title={tipsTitle} closed tipsDismissed={tipsDismissed} />\n      </Suspense>\n    </div>\n  );\n};\nexport default Shell;\n"],"sourceRoot":""}