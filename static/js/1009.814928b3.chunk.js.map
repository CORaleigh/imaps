{"version":3,"file":"static/js/1009.814928b3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/Queue.js","../node_modules/@arcgis/core/core/workers/Connection.js","../node_modules/@arcgis/core/core/workers/RemoteClient.js","../node_modules/@arcgis/core/core/workers/utils.js","../node_modules/@arcgis/core/core/workers/loaderConfig.js","../node_modules/@arcgis/core/core/workers/WorkerFallback.js","../node_modules/@arcgis/core/core/workers/workerFactory.js","../node_modules/@arcgis/core/core/workers/WorkerOwner.js","../node_modules/@arcgis/core/core/workers/workers.js","../node_modules/@arcgis/core/support/revision.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{assumeNonNull as t}from\"./maybe.js\";class e{constructor(t=(t=>t.values().next().value)){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let t;for(t of this._items);return t}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(t(e)),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(t(e)),e}remove(t){this._items.delete(t)}filter(t){return this._items.forEach((e=>{t(e)||this._items.delete(e)})),this}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e}from\"../handleUtils.js\";import t from\"../Logger.js\";import{isPromiseLike as s,createAbortError as n,createDeferred as i,throwIfAborted as o}from\"../promiseUtils.js\";import r from\"../Queue.js\";import l from\"./RemoteClient.js\";const h=t.getLogger(\"esri.core.workers.Connection\");class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new r}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise(((n,i)=>{let r=!0;const h=e=>{o(t.signal),r&&(r=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let o=0;o<e.length;++o){const r=e[o];s(r)?this._clientPromises[o]=r.then((e=>(this._clients[o]=new l(e,t,(()=>this._ongoingJobsQueue.pop())),h(n),this._clients[o])),(()=>(h(i),null))):(this._clients[o]=new l(r,t,(()=>this._ongoingJobsQueue.pop())),this._clientPromises[o]=Promise.resolve(this._clients[o]),h(n))}}))}broadcast(e,t,s){const n=new Array(this._clientPromises.length);for(let i=0;i<this._clientPromises.length;++i){const o=this._clientPromises[i];n[i]=o.then((n=>n.invoke(e,t,s)))}return n}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.deferred.reject(n(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then((e=>e.close()));this._clients.length=0,this._clientPromises.length=0}invoke(e,t,s){let n=null;Array.isArray(s)?(h.warn(\"invoke()\",\"The transferList parameter is deprecated, use the options object instead\"),n={transferList:s}):n=s;const o=i();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:n,deferred:o});for(let i=0;i<this._clientPromises.length;i++){const e=this._clients[i];e?e.jobAdded():this._clientPromises[i].then((e=>e.jobAdded()))}return o.promise}on(t,s){return Promise.all(this._clientPromises).then((()=>e(this._clients.map((e=>e.on(t,s))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let n=0;n<this._clientPromises.length;++n){this._clientPromises[n].then((i=>{t[n]=i.openPort(),0==--s&&e(t)}))}}))}get test(){return{numClients:this._clients.length}}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{version as e}from\"../../kernel.js\";import s from\"../Error.js\";import{on as t}from\"../events.js\";import{removeMaybe as o,isSome as r}from\"../maybe.js\";import{isAborted as i,createAbortError as n,onAbort as a,isPromiseLike as c,isAbortError as l}from\"../promiseUtils.js\";import{newJobId as p,MessageType as h,receiveMessage as u,toInvokeError as _,postMessage as d}from\"./utils.js\";import{commitHash as g,buildDate as m}from\"../../support/revision.js\";const k={statsWorker:()=>import(\"../../smartMapping/statistics/support/statsWorker.js\"),geometryEngineWorker:()=>import(\"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(\"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(\"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(\"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),FeatureServiceSnappingSourceWorker:()=>import(\"../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js\"),GeoJSONSourceWorker:()=>import(\"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(\"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(\"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(\"../../views/3d/support/PBFDecoderWorker.js\"),Pipeline:()=>import(\"../../views/2d/layers/features/Pipeline.js\"),PointCloudWorker:()=>import(\"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(\"../../layers/support/RasterWorker.js\"),SceneLayerSnappingSourceWorker:()=>import(\"../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js\"),SceneLayerWorker:()=>import(\"../../views/3d/layers/SceneLayerWorker.js\"),WFSSourceWorker:()=>import(\"../../layers/graphics/sources/WFSSourceWorker.js\"),WorkerTileHandler:()=>import(\"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\")},{CLOSE:b,ABORT:v,INVOKE:y,RESPONSE:j,OPEN_PORT:S,ON:f}=h,W=2;class M{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===h.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class w{constructor(e,s,t){this._port=e,this._getNextJob=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new M((e=>this._onInvokeMessage(e))),this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,this._schedule=s.schedule,this._port.addEventListener(\"message\",this._onMessage),this._port.start()}static connect(e){const s=new MessageChannel;let t;t=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const o=new w(s.port1,{channel:s,client:t},(()=>null));return\"object\"==typeof t&&\"remoteClient\"in t&&(t.remoteClient=o),w.clients.set(o,t),s.port2}static loadWorker(e){const s=k[e];return s?s():Promise.resolve(null)}close(){this._post({type:b}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,r){const c=r&&r.signal,l=r&&r.transferList;if(!this._port)return Promise.reject(new s(\"worker:port-closed\",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const h=p();return new Promise(((s,r)=>{if(i(c))return this._processWork(),void r(n());const p=a(c,(()=>{const e=this._outJobs.get(h);e&&(this._outJobs.delete(h),this._processWork(),o(e.abortHandle),this._post({type:v,jobId:h}),r(n()))})),u={resolve:s,reject:r,abortHandle:p,debugInfo:e};this._outJobs.set(h,u),this._post({type:y,jobId:h,methodName:e,abortable:null!=c},t,l)}))}on(e,s){const t=new MessageChannel;function o(e){s(e.data)}return this._port.postMessage({type:h.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",o),t.port1.start(),{remove(){t.port1.postMessage({type:h.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",o)}}}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:S,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=W)return;const e=this._getNextJob();if(!e)return;const{methodName:s,data:t,invokeOptions:o,deferred:r}=e;this.invoke(s,t,o).then((e=>r.resolve(e))).catch((e=>r.reject(e)))}_close(){this._channel&&(this._channel=null),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{o(e.abortHandle),e.reject(n(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(e){r(this._schedule)?this._schedule((()=>this._processMessage(e))):this._processMessage(e)}_processMessage(e){const s=u(e);if(s)switch(s.type){case j:this._onResponseMessage(s);break;case y:this._invokeQueue.push(s);break;case v:this._onAbortMessage(s);break;case b:this._onCloseMessage();break;case S:this._onOpenPortMessage(s);break;case f:this._onOnMessage(s)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&w.clients.get(this)===e&&e.destroy(),w.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o,abortable:r}=e,i=r?new AbortController:null,n=this._inJobs;let a,p=this._client,h=p[s];try{if(!h&&s&&s.includes(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)p=p[e[s]],h=p[e[s+1]]}if(\"function\"!=typeof h)throw new TypeError(`${s} is not a function`);a=h.call(p,o,{client:this,signal:i?i.signal:null})}catch(u){return void this._post({type:j,jobId:t,error:_(u)})}c(a)?(n.set(t,{controller:i,promise:a}),a.then((e=>{n.has(t)&&(n.delete(t),this._post({type:j,jobId:t},e))}),(e=>{n.has(t)&&(n.delete(t),l(e)||this._post({type:j,jobId:t,error:_(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:j,jobId:t},a)}_onOpenPortMessage(e){new w(e.port,{client:this._client},(()=>null))}_onOnMessage(e){const{port:s}=e,o=this._client.on(e.eventType,(e=>{s.postMessage(e)})),r=t(e.port,\"message\",(e=>{u(e).type===h.CLOSE&&(r.remove(),o.remove(),s.close())}))}_onResponseMessage(e){const{jobId:t,error:r,data:i}=e,n=this._outJobs;if(!n.has(t))return;const a=n.get(t);this._processWork(),n.delete(t),o(a.abortHandle),r?a.reject(s.fromJSON(JSON.parse(r))):a.resolve(i)}_post(e,s,t){return d(this._port,e,s,t)}}w.kernelInfo={revision:g,version:e,buildDate:m},w.clients=new Map;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../has.js\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let r=0;function n(){return r++}function s(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function a(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function i(t,r,n,a){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let i;s(n)?(i=o(n.transferList),r.data=n.result):(i=o(a),r.data=n),i?t.postMessage(r,i):t.postMessage(r)}function f(t){if(!t)return null;const e=t.data;return e?\"string\"==typeof e?JSON.parse(e):e:null}function o(e){if(!e||!e.length)return null;if(t(\"esri-workers-arraybuffer-transfer\"))return e;const r=e.filter((t=>!u(t)));return r.length?r:null}function u(t){return t instanceof ArrayBuffer||t&&t.constructor&&\"ArrayBuffer\"===t.constructor.name}export{e as MessageType,s as isTranferableResult,n as newJobId,i as postMessage,f as receiveMessage,a as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../assets.js\";import\"../has.js\";import\"../urlUtils.js\";let s=null;const a={};function e(s,a){for(const e of s)if(e.name===a.name)return;s.push(a)}function r(s){const r={async:s.async,isDebug:s.isDebug,locale:s.locale,baseUrl:s.baseUrl,has:{...s.has},map:{...s.map},packages:s.packages&&s.packages.concat()||[],paths:{...s.paths}};return s.hasOwnProperty(\"async\")||(r.async=!0),s.hasOwnProperty(\"isDebug\")||(r.isDebug=!1),s.baseUrl||(r.baseUrl=a.baseUrl),a.packages?.forEach((s=>{e(r.packages,s)})),r}export{s as DEFAULT_LOADER_URL,r as loaderConfig};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{nextTick as e}from\"../nextTick.js\";import s from\"./RemoteClient.js\";import{MessageType as r,receiveMessage as t}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((s=>{this[s]=(...r)=>e[s](...r)}))}}class a{constructor(){this._dispatcher=new n,this._workerPostMessage({type:r.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(s){e((()=>{this._workerMessageHandler(new MessageEvent(\"message\",{data:s}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,s,r){this._dispatcher.addEventListener(e,s,r)}removeEventListener(e,s,r){this._dispatcher.removeEventListener(e,s,r)}_workerPostMessage(s){e((()=>{this.dispatchEvent(new MessageEvent(\"message\",{data:s}))}))}async _workerMessageHandler(e){const n=t(e);if(n&&n.type===r.OPEN){const{modulePath:e,jobId:t}=n;let a=await s.loadWorker(e);a||(a=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\ne));const o=s.connect(a);this._workerPostMessage({type:r.OPENED,jobId:t,data:o})}}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import r from\"../../config.js\";import\"../../intl.js\";import{version as o}from\"../../kernel.js\";import t from\"../has.js\";import s from\"../Logger.js\";import{makeAbsolute as i}from\"../urlUtils.js\";import{loaderConfig as n}from\"./loaderConfig.js\";import{receiveMessage as a,MessageType as l}from\"./utils.js\";import f from\"./WorkerFallback.js\";import{getLocale as c}from\"../../intl/locale.js\";import{buildDate as d,commitHash as u}from\"../../support/revision.js\";const m=s.getLogger(\"esri.core.workers\"),{HANDSHAKE:p}=l,g='let globalId=0;const outgoing=new Map,configuration=JSON.parse(\"{CONFIGURATION}\");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener(\"abort\",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}\"function\"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let k,h;const w=\"Failed to create Worker. Fallback to execute module in main thread\";async function y(){if(!t(\"esri-workers\")||(t(\"mozilla\"),0))return b(new f);if(!k&&!h)try{const e=g.replace('\"{CONFIGURATION}\"',`'${v()}'`);k=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(r){h=r||{}}let e;if(k)try{e=new Worker(k,{name:\"esri-worker-\"+P++})}catch(r){m.warn(w,h),e=new f}else m.warn(w,h),e=new f;return b(e)}async function b(e){return new Promise((r=>{function o(s){const i=a(s);i&&i.type===p&&(e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),r(e))}function t(r){r.preventDefault(),e.removeEventListener(\"message\",o),e.removeEventListener(\"error\",t),m.warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new f).addEventListener(\"message\",o),e.addEventListener(\"error\",t)}e.addEventListener(\"message\",o),e.addEventListener(\"error\",t)}))}function v(){let s;if(null!=r.default){const e={...r};delete e.default,s=JSON.parse(JSON.stringify(e))}else s=JSON.parse(JSON.stringify(r));s.assetsPath=i(s.assetsPath),s.request.interceptors=[],s.log.interceptors=[],s.locale=c(),s.has={\"esri-csp-restrictions\":t(\"esri-csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":t(\"esri-2d-update-debug\"),\"esri-2d-query-centroid-enabled\":t(\"esri-2d-query-centroid-enabled\"),\"featurelayer-pbf\":t(\"featurelayer-pbf\"),\"featurelayer-simplify-thresholds\":t(\"featurelayer-simplify-thresholds\"),\"featurelayer-simplify-payload-size-factors\":t(\"featurelayer-simplify-payload-size-factors\"),\"featurelayer-simplify-mobile-factor\":t(\"featurelayer-simplify-mobile-factor\"),\"esri-atomics\":t(\"esri-atomics\"),\"esri-shared-array-buffer\":t(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":t(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":t(\"esri-workers-arraybuffer-transfer\"),\"feature-polyline-generalization-factor\":t(\"feature-polyline-generalization-factor\"),\"host-webworker\":1},s.workers.loaderUrl&&(s.workers.loaderUrl=i(s.workers.loaderUrl)),s.workers.workerPath?s.workers.workerPath=i(s.workers.workerPath):s.workers.workerPath=i(e(\"esri/core/workers/RemoteClient.js\")),s.workers.useDynamicImport=!1;const a=r.workers.loaderConfig,l=n({baseUrl:a?.baseUrl,locale:c(),has:{\"csp-restrictions\":1,\"dojo-test-sniff\":0,\"host-webworker\":1,...a?.has},map:{...a?.map},paths:{...a?.paths},packages:a?.packages||[]}),f={version:o,buildDate:d,revision:u};return JSON.stringify({esriConfig:s,loaderConfig:l,kernelInfo:f})}let P=0;export{y as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{workerMessages as e}from\"../../kernel.js\";import t from\"../Error.js\";import o from\"../Logger.js\";import{removeMaybe as s}from\"../maybe.js\";import{onAbortOrThrow as r,isPromiseLike as n,isAbortError as a}from\"../promiseUtils.js\";import{newJobId as i,receiveMessage as l,toInvokeError as d,postMessage as h,MessageType as c}from\"./utils.js\";import{createWorker as p}from\"./workerFactory.js\";const b=o.getLogger(\"esri.core.workers\"),{ABORT:m,INVOKE:_,OPEN:g,OPENED:u,RESPONSE:j}=c;class f{constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),b.error(e)}))}static async create(e){const t=await p();return new f(t,e)}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:o}=t,s=i();return new Promise(((t,n)=>{const a={resolve:t,reject:n,abortHandle:r(o,(()=>{this._outJobs.delete(s),this._post({type:m,jobId:s})}))};this._outJobs.set(s,a),this._post({type:g,jobId:s,modulePath:e})}))}_onMessage(e){const t=l(e);if(t)switch(t.type){case u:this._onOpenedMessage(t);break;case j:this._onResponseMessage(t);break;case m:this._onAbortMessage(t);break;case _:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(t){const{methodName:o,jobId:s,data:r,abortable:i}=t,l=i?new AbortController:null,h=this._inJobs,c=e[o];let p;try{if(\"function\"!=typeof c)throw new TypeError(`${o} is not a function`);p=c.call(null,r,{signal:l?l.signal:null})}catch(b){return void this._post({type:j,jobId:s,error:d(b)})}n(p)?(h.set(s,{controller:l,promise:p}),p.then((e=>{h.has(s)&&(h.delete(s),this._post({type:j,jobId:s},e))}),(e=>{h.has(s)&&(h.delete(s),e||(e={message:\"Error encountered at method\"+o}),a(e)||this._post({type:j,jobId:s,error:d(e||{message:`Error encountered at method ${o}`})}))}))):this._post({type:j,jobId:s},p)}_onOpenedMessage(e){const{jobId:t,data:o}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),s(r.abortHandle),r.resolve(o))}_onResponseMessage(e){const{jobId:o,error:r,data:n}=e,a=this._outJobs.get(o);a&&(this._outJobs.delete(o),s(a.abortHandle),r?a.reject(t.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return h(this.worker,e,t,o)}}export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../Error.js\";import r from\"../has.js\";import{throwIfAborted as e}from\"../promiseUtils.js\";import o from\"./Connection.js\";export{default as Connection}from\"./Connection.js\";import n from\"./RemoteClient.js\";export{default as RemoteClient}from\"./RemoteClient.js\";import i from\"./WorkerOwner.js\";let s=r(\"esri-workers-debug\")?1:r(\"host-browser\")?navigator.hardwareConcurrency-1:0;s||(s=r(\"safari\")&&r(\"mac\")||r(\"trident\")?7:2);let a=0;const l=[];function c(){h()}function m(t,r){return f(t,{client:r})}async function f(t,r){const e=new o;return await e.open(t,r),e}async function u(o,i={}){if(\"string\"!=typeof o)throw new t(\"workers:undefined-module\",\"modulePath is missing\");let c=i.strategy||\"distributed\";if(r(\"host-webworker\")&&!r(\"esri-workers\")&&(c=\"local\"),\"local\"===c){let t=await n.loadWorker(o);t||(t=await import(\n/* @vite-ignore */\n/* webpackIgnore: true */\no)),e(i.signal);const r=i.client||t;return f([n.connect(t)],{...i,client:r})}if(await h(),e(i.signal),\"dedicated\"===c){const t=a++%s;return f([await l[t].open(o,i)],i)}if(i.maxNumWorkers&&i.maxNumWorkers>0){const t=Math.min(i.maxNumWorkers,s);if(t<s){const r=new Array(t);for(let e=0;e<t;++e){const t=a++%s;r[e]=l[t].open(o,i)}return f(r,i)}}return f(l.map((t=>t.open(o,i))),i)}function p(){d&&(w.abort(),d=null);for(let t=0;t<l.length;t++)l[t]&&l[t].terminate();l.length=0}let w,d=null;async function h(){if(d)return d;w=new AbortController;const t=[];for(let r=0;r<s;r++){const e=i.create(r).then((t=>(l[r]=t,t)));t.push(e)}return d=Promise.all(t),d}export{c as initialize,u as open,m as openWithPorts,p as terminate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst b=\"20220623\",c=\"8e53b079c0bc89b3df424a4c52ba69e6403a5507\";export{b as buildDate,c as commitHash};\n"],"names":["e","constructor","t","values","next","value","this","_peeker","_items","Set","length","size","clear","last","peek","push","contains","add","has","pop","delete","popLast","remove","filter","forEach","h","c","_inUseClients","Array","_clients","_clientPromises","_ongoingJobsQueue","r","destroy","close","closed","open","Promise","n","i","o","signal","s","then","l","resolve","broadcast","invoke","deferred","reject","methodName","isArray","warn","transferList","data","invokeOptions","jobAdded","promise","on","all","map","openPorts","openPort","test","numClients","k","statsWorker","geometryEngineWorker","CSVSourceWorker","EdgeProcessingWorker","ElevationSamplerWorker","FeatureServiceSnappingSourceWorker","GeoJSONSourceWorker","LercWorker","MemorySourceWorker","PBFDecoderWorker","Pipeline","PointCloudWorker","RasterWorker","SceneLayerSnappingSourceWorker","SceneLayerWorker","WFSSourceWorker","WorkerTileHandler","CLOSE","b","ABORT","v","INVOKE","y","RESPONSE","j","OPEN_PORT","S","ON","f","M","_timer","_cancelledJobIds","_invokeMessages","_invoke","_process","bind","type","jobId","setTimeout","w","_port","_getNextJob","_outJobs","Map","_inJobs","_invokeQueue","_onInvokeMessage","_client","client","_onMessage","_channel","channel","_schedule","schedule","addEventListener","start","MessageChannel","default","port1","remoteClient","clients","set","port2","_post","_close","isBusy","p","_processWork","a","get","abortHandle","u","debugInfo","abortable","postMessage","eventType","port","removeEventListener","catch","_processMessage","_onResponseMessage","_onAbortMessage","_onCloseMessage","_onOpenPortMessage","_onOnMessage","controller","abort","AbortController","includes","split","TypeError","call","error","_","message","JSON","parse","d","kernelInfo","revision","g","version","buildDate","m","HANDSHAKE","OPEN","OPENED","stringify","name","toJSON","details","stack","result","ArrayBuffer","async","isDebug","locale","baseUrl","packages","concat","paths","hasOwnProperty","document","createDocumentFragment","_dispatcher","_workerPostMessage","terminate","onmessage","_onmessageHandler","onmessageerror","_onmessageerrorHandler","onerror","_onerrorHandler","_workerMessageHandler","MessageEvent","dispatchEvent","modulePath","import","replace","assetsPath","request","interceptors","log","workers","loaderUrl","workerPath","useDynamicImport","esriConfig","loaderConfig","URL","createObjectURL","Blob","Worker","P","preventDefault","worker","id","_onOpenedMessage","navigator","hardwareConcurrency","strategy","maxNumWorkers","Math","min"],"sourceRoot":""}