{"version":3,"file":"static/js/5400.2257f973.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/coordinateFormatter.js","components/WebMap/Coordinates/utils/useCoordinates.ts","components/WebMap/Coordinates/Coodinates.tsx"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport n from\"../core/Error.js\";import{i as e,a as o,l as r,P as t,b as i,c as a,d as s,e as c,f as l}from\"../chunks/pe.js\";import u from\"./Point.js\";import d from\"./SpatialReference.js\";function _(){return e()}function f(){return o()}function S(){return r()}function E(n,e){const o=[];n=(n=(n=n.replace(/[\\u00B0\\u00BA]/g,\"^\")).replace(/\\u2032/g,\"'\")).replace(/\\u2033/g,'\"');const r=p(e);return t.dmsToGeog(r,1,[n],o)?new u(o[0][0],o[0][1],e||d.WGS84):null}function w(n,e,o){const r=[],t=M(o);if(-1===t)return console.warn(`invalid conversionMode: ${o}`),null;const a=p(e);return i.mgrsToGeogExtended(a,1,[n],t,r)?new u(r[0][0],r[0][1],e||d.WGS84):null}function g(n,e){const o=[];!e&&/\\(.+27/.test(n)&&(e=d.GCS_NAD_1927);const r=p(e);return a.usngToGeog(r,1,[n],o)?new u(o[0][0],o[0][1],e||d.WGS84):null}function m(n,e,o){const r=[],t=v(o);if(-1===t)return console.warn(`invalid conversionMode: ${o}`),null;const i=p(e);return s.utmToGeog(i,1,[n],t,r)?new u(r[0][0],r[0][1],e||d.WGS84):null}function T(n,e,o=0){const r=[[n.x,n.y]],i=[],a=p(n.spatialReference);let s=0;switch(e){case\"dd\":s=t.geogToDd(a,1,r,o,i);break;case\"ddm\":s=t.geogToDdm(a,1,r,o,i);break;case\"dms\":s=t.geogToDms(a,1,r,o,i);break;default:return console.warn(`invalid format: ${e}`),null}return s?i[0]:null}function P(n,e,o=0,r=!1){const t=[[n.x,n.y]],a=[],s=p(n.spatialReference);let c=M(e);if(-1===c)return console.warn(`invalid conversionMode: ${e}`),null;r&&(c|=i.PE_MGRS_ADD_SPACES);return i.geogToMgrsExtended(s,1,t,o,!1,c,a)?a[0]:null}function G(n,e=0,o=!1){const r=[[n.x,n.y]],t=[],i=p(n.spatialReference);return a.geogToUsng(i,1,r,e,!1,o,t)?t[0]:null}function k(n,e,o=!1){const r=[[n.x,n.y]],t=[],i=p(n.spatialReference);let a=v(e);if(-1===a)return console.warn(`invalid conversionMode: ${e}`),null;o&&(a|=s.PE_UTM_OPTS_ADD_SPACES);return s.geogToUtm(i,1,r,a,t)?t[0]:null}function p(e){let o=null;if(e||(e=d.WGS84),e.wkid){if(o=c.geogcs(e.wkid),!o)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkid is not valid\")}else{if(!e.wkt)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkid and wkt are missing\");if(o=c.fromString(l.PE_TYPE_GEOGCS,e.wkt),!o)throw new n(\"coordinate-formatter:invalid-spatial-reference\",\"wkt is not valid\")}return o}function M(n){let e=-1;switch(n){case\"automatic\":e=i.PE_MGRS_STYLE_AUTO;break;case\"new-180-in-zone-01\":e=i.PE_MGRS_STYLE_NEW|i.PE_MGRS_180_ZONE_1_PLUS;break;case\"new-180-in-zone-60\":e=i.PE_MGRS_STYLE_NEW;break;case\"old-180-in-zone-01\":e=i.PE_MGRS_STYLE_OLD|i.PE_MGRS_180_ZONE_1_PLUS;break;case\"old-180-in-zone-60\":e=i.PE_MGRS_STYLE_OLD}return e}function v(n){let e=-1;switch(n){case\"latitude-band-indicators\":e=s.PE_UTM_OPTS_NONE;break;case\"north-south-indicators\":e=s.PE_UTM_OPTS_NS}return e}export{E as fromLatitudeLongitude,w as fromMgrs,g as fromUsng,m as fromUtm,_ as isLoaded,f as isSupported,S as load,T as toLatitudeLongitude,P as toMgrs,G as toUsng,k as toUtm};\n","import { useEffect, useRef, useState, useCallback } from \"react\";\nimport * as coordinateFormatter from \"@arcgis/core/geometry/coordinateFormatter\";\nimport * as projection from \"@arcgis/core/geometry/projection\";\n\nimport Point from \"@arcgis/core/geometry/Point\";\nimport PictureMarkerSymbol from \"@arcgis/core/symbols/PictureMarkerSymbol\";\nimport GraphicsLayer from \"@arcgis/core/layers/GraphicsLayer\";\nimport { CoordinateFormats, CoordinateProps } from \"./CoordinateProps\";\nlet moveHandler: IHandle;\nlet clickHandler: IHandle;\nconst marker: PictureMarkerSymbol = new PictureMarkerSymbol({\n  url: \"assets/pin.svg\",\n  height: 36,\n  width: 36,\n});\nconst layer: GraphicsLayer = new GraphicsLayer({ id: \"coordinate-widget\" });\nconst useCoordinates = (props: CoordinateProps) => {\n  const loaded = useRef(false);\n  const coordInput = useRef<HTMLCalciteInputElement>(null);\n  const coordinateRef = useRef<any>(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const modeActionRef = useRef<any>(null);\n  const noticeRef = useRef<any>(null);\n  const formats: CoordinateFormats[] = [\n    { value: \"dd\", label: \"Decimal Degrees\", placeholder: '35.7582196 -78.8079653'},\n    { value: \"dms\", label: \"Degrees Minutes Seconds\", placeholder: `35° 45' 29.7116777\"N 78° 48' 31.524W`},\n    { value: \"spft\", label: \"Stateplane Feet\", placeholder: '731166.165 2056872.973' },\n    { value: \"usng\", label: \"US National Grid\", placeholder: '17S PV 98178 59368'}\n  ];\n\n  const [selectedFormat, setSelectedFormat] = useState<CoordinateFormats>(formats[0]);\n  const formatRef = useRef<CoordinateFormats>(formats[0]);\n  const settingsClicked = useCallback((e: any) => {\n    setShowSettings((prevSettings) => {\n      return !prevSettings;\n    });\n  }, []);\n  const searchClicked = useCallback((e: any) => {\n    setShowSearch((prevSearch) => {\n      return !prevSearch;\n    });\n  }, []);\n  const modeClicked = useCallback((e: any) => {\n    e.target.active = !e.target.active;\n    if (e.target.active) {\n      moveHandler?.remove();\n      addClickHandler(props.view, props.clickActivated);\n    } else {\n      clickHandler?.remove();\n      (props.view as __esri.MapView).popup.autoOpenEnabled = true;\n      document.querySelector(\".identify-widget\")?.classList.add(\"active\");\n      addMoveHandler();\n    }\n  }, []);\n  const formatChanged = useCallback(\n    (e: any) => {\n      if (coordInput.current) {\n        coordInput.current.value = '';\n      }\n      const format = formats.find(format => {\n        return format.value === e.target.value;\n      });\n      if (format) {\n        setSelectedFormat(format);\n        formatRef.current.value = format.value;\n      }\n    },\n    [formatRef]\n  );\n  const searchCoordinates = useCallback(async (e: any) => {\n    if (!coordinateFormatter.isLoaded()) {\n      await coordinateFormatter.load();\n    }\n    if (!projection.isLoaded()) {\n      await projection.load();\n    }    \n    let point: __esri.Point = new Point();\n    if (formatRef.current.value === \"dd\") {\n      let coords = coordInput.current?.value.replace(',', ' ').split(' ');\n      if (coords?.length !== 2) {\n        coords = coordInput.current?.value.split(', ');\n      } \n      if (coords?.length === 2) {\n        let lon = !isNaN(parseFloat(coords[1])) && parseFloat(coords[1]) < 0 ? parseFloat(coords[1]) :  !isNaN(parseFloat(coords[0])) && parseFloat(coords[0]) < 0 ? parseFloat(coords[0]) : NaN;\n        let lat = !isNaN(parseFloat(coords[0])) && parseFloat(coords[0]) > 0 ? parseFloat(coords[0]) :  !isNaN(parseFloat(coords[1])) && parseFloat(coords[1]) > 0 ? parseFloat(coords[1]) : NaN;\n        debugger\n        if (isNaN(lon) || isNaN(lat)) {\n          coordInput.current?.setAttribute('status', 'invalid');\n        } else {\n          point = new Point({\n            x: lon,\n            y: lat,\n            spatialReference: { wkid: 4326 },\n          });\n          coordInput.current?.setAttribute('status', 'valid');\n        }\n      }\n    }\n    if (formatRef.current.value === \"dms\") {\n      if (coordInput.current) {\n        point = coordinateFormatter.fromLatitudeLongitude(\n          coordInput.current?.value.replace(/\\s\\s+/g, ' ')\n        );\n        if (!point) {\n          coordInput.current?.setAttribute('status', 'invalid');\n        }\n      }\n    }\n    if (formatRef.current.value === \"spft\") {\n      const value = coordInput.current?.value.replace(/\\s\\s+/g, ' ');\n      let coords = value?.split(' ');\n      if (coords?.length !== 2) {\n        coords = value?.split(',');\n        if (coords?.length !== 2) {\n          coordInput.current?.setAttribute('status', 'invalid');\n          return;\n        }\n      }\n      const x = parseFloat(coords[1]);\n      const y = parseFloat(coords[2]);\n      if (isNaN(x) || isNaN(y)) {\n        coordInput.current?.setAttribute('status', 'invalid');\n        return;\n      }\n      point = new Point({\n        x: x,\n        y: y,\n        spatialReference: { wkid: 4326 },\n      });\n      point = projection.project(point, props.view.spatialReference) as Point;\n    }\n    if (coordInput.current) {\n      if (formatRef.current.value === \"usng\") {\n        point = coordinateFormatter.fromUsng(\n          coordInput.current.value\n        );\n      }\n    }\n   \n    if (!(props.view.constraints.geometry as __esri.Polygon).contains(point)) {\n      noticeRef.current?.setAttribute(\"open\", true);\n      setTimeout(() => {\n        noticeRef.current?.removeAttribute(\"open\");\n      }, 3000);\n    }\n      if (!props.view.map.findLayerById(\"coordinate-widget\")) {\n        props.view.map.add(layer);\n      }\n      debugger\n      layer.removeAll();\n      layer.add({\n        geometry: point as __esri.Geometry,\n        attributes: null,\n        symbol: marker,\n      } as any);\n      props.view.goTo(point);\n    \n    \n\n  }, []);\n  const validateDms = (latitude: boolean, value: string): string => {\n    const regex = latitude\n      ? /^((90[°|\\s]\\s*)(0{1,2}['|\\s]\\s*)(0{1,2}([.|,]0{1,20})?[\"|\\s]\\s*)|(([1-8]\\d|\\d)[°|\\s]\\s*)(([0-5]\\d|\\d)['|\\s]\\s*)(([0-5]\\d|\\d)([.|,]\\d{1,20})?[\"|\\s]\\s*))$/gm\n      : /^[-]((180[°|\\s]\\s*)(0{1,2}['|\\s]\\s*)(0{1,2}([.|,]0{1,20})?[\"|\\s]\\s*)|((1[0-7]\\d|\\d\\d|\\d)[°|\\s]\\s*)(([0-5]\\d|\\d)['|\\s]\\s*)(([0-5]\\d|\\d)([.|,]\\d{1,20})?[\"|\\s]\\s*))/gm;\n    return regex.test(`${value} `) ? \"valid\" : \"invalid\";\n  };\n  const displayCoordinates = async (e: any) => {\n    if (!coordinateFormatter.isLoaded()) {\n      await coordinateFormatter.load();\n    }\n    if (!projection.isLoaded()) {\n      await projection.load();\n    }        \n    let point: __esri.Point;\n    if (e.type === \"point\") {\n      point = e;\n    } else {\n      point = props.view.toMap({ x: e.x, y: e.y });\n    }\n\n    const wgs84 = new Point({\n      x: point.longitude,\n      y: point.latitude,\n      spatialReference: { wkid: 4326 },\n    });\n    if (formatRef.current.value === \"dd\") {\n      let dd = coordinateFormatter\n        .toLatitudeLongitude(wgs84, \"dd\", 7)\n        .replaceAll(\"078.\", \"78.\");\n      let ddSplit = dd.split(\" \");\n      if (ddSplit[0].includes(\"S\")) {\n        ddSplit[0] = `-${ddSplit[0].replace(\"S\", \"\")}`;\n      }\n      if (ddSplit[0].includes(\"N\")) {\n        ddSplit[0] = `${ddSplit[0].replace(\"N\", \"\")}`;\n      }\n      if (ddSplit[1].includes(\"W\")) {\n        ddSplit[1] = `-${ddSplit[1].replace(\"W\", \"\")}`;\n      }\n      if (ddSplit[1].includes(\"E\")) {\n        ddSplit[1] = `${ddSplit[1].replace(\"N\", \"\")}`;\n      }\n      coordinateRef.current.innerHTML = ddSplit.join(\" \");\n    } else if (formatRef.current.value === \"dms\") {\n      const dmsSplit = coordinateFormatter\n        .toLatitudeLongitude(wgs84, \"dms\", 7)\n        .split(\" \");\n      const dms = `${dmsSplit[0]}° ${dmsSplit[1]}' ${dmsSplit[2].replace('N', `\"N`)} ${dmsSplit[3].substring(1)}° ${dmsSplit[4]}' ${dmsSplit[5].replace('W', `\"W`)}`;\n\n      coordinateRef.current.innerHTML = dms;\n    } else if (formatRef.current.value === \"usng\") {\n      coordinateRef.current.innerHTML = coordinateFormatter.toUsng(\n        wgs84,\n        5,\n        true\n      );\n    } else if (formatRef.current.value === \"spft\") {\n      const spft = projection.project(point, { wkid: 2264 }) as Point;\n      coordinateRef.current.innerHTML = `${spft.y.toFixed(3)}N ${spft.x.toFixed(3)}E`;\n    }\n  };\n  const addClickHandler = (view: __esri.MapView, clickActivated: Function) => {\n    clickActivated(view);\n    (props.view as __esri.MapView).popup.autoOpenEnabled = false;\n    document.querySelector(\".identify-widget\")?.classList.remove(\"active\");\n    clickHandler = (props.view as __esri.MapView).on(\"click\", (e: any) => {\n      displayCoordinates(e);\n    });\n  };\n  const addMoveHandler = async () => {\n    if (!coordinateFormatter.isLoaded()) {\n      await coordinateFormatter.load();\n    }\n    displayCoordinates(props.view.extent.center);\n    moveHandler = (props.view as __esri.MapView).on(\n      \"pointer-move\",\n      (e: any) => {\n        displayCoordinates(e);\n      }\n    );\n  };\n\n  useEffect(() => {\n    if (!loaded.current && props.view) {\n      loaded.current = true;\n      if (props.expand) {\n        if (!props.expand.hasHandles()) {\n          (props.expand as __esri.Expand).watch(\"expanded\", (expanded) => {\n            if (!expanded) {\n              moveHandler?.remove();\n              clickHandler?.remove();\n            } else {\n              if (modeActionRef.current.getAttribute(\"active\")) {\n                addMoveHandler();\n              } else {\n                addClickHandler(props.view, props.clickActivated);\n              }\n            }\n          });\n        }\n      }\n      addMoveHandler();\n\n      return () => {\n        // clean up the map view\n        // if (view.current) {\n        //   console.log('destroy')\n        //   view.current.destroy();\n        //   view.current = null;\n        // }\n      };\n    }\n  }, []);\n\n  return {\n    loaded,\n    settingsClicked,\n    showSettings,\n    formats,\n    formatChanged,\n    searchClicked,\n    showSearch,\n    selectedFormat,\n    searchCoordinates,\n    coordInput,\n    modeClicked,\n    coordinateRef,\n    modeActionRef,\n    noticeRef,\n  };\n};\n\nexport default useCoordinates;\n","import {\n  CalciteAction,\n  CalciteTooltip,\n  CalciteButton,\n  CalciteInput,\n  CalciteInputMessage,\n  CalciteLabel,\n  CalciteNotice,\n  CalciteOption,\n  CalciteSelect,\n} from \"@esri/calcite-components-react\";\nimport React from \"react\";\nimport \"./Coordinates.css\";\nimport { CoordinateProps } from \"./utils/CoordinateProps\";\nimport useCoordinates from \"./utils/useCoordinates\";\n\nfunction Coordinates(props: CoordinateProps) {\n  const {\n    loaded,\n    settingsClicked,\n    showSettings,\n    formats,\n    formatChanged,\n    searchClicked,\n    showSearch,\n    selectedFormat,\n    searchCoordinates,\n    coordInput,\n    modeClicked,\n    coordinateRef,\n    modeActionRef,\n    noticeRef,\n  } = useCoordinates(props);\n  return (\n    <div id=\"coordinatesWidget\">\n      <CalciteNotice scale=\"s\" ref={noticeRef} kind=\"danger\" closable>\n        <div slot=\"message\">Location outside of county</div>\n      </CalciteNotice>\n\n      <div hidden={showSettings ? undefined : true}>\n        <CalciteSelect\n          scale=\"m\"\n          label=\"Coordinate Systems\"\n          onCalciteSelectChange={formatChanged}\n        >\n          {formats.map((format) => {\n            return (\n              <CalciteOption key={format.value} value={format.value}>\n                {format.label}\n              </CalciteOption>\n            );\n          })}\n        </CalciteSelect>\n      </div>\n      <div hidden={showSearch ? undefined : true}>\n        {/* <CalciteLabel scale=\"s\">\n          {selectedFormat === \"dd\"\n            ? \"Latitude\"\n            : selectedFormat === \"spft\"\n            ? \"Northing\"\n            : selectedFormat === \"dms\"\n            ? \"Latitude\"\n            : \"\"}\n          <CalciteInput\n            scale=\"s\"\n            ref={y}\n            hidden={\n              [\"dd\", \"spft\", \"dms\"].includes(selectedFormat) ? undefined : true\n            }\n            id=\"ycoord\"\n            placeholder={\n              selectedFormat === \"dd\"\n                ? \"35.7582196\"\n                : selectedFormat === \"spft\"\n                ? \"731166.165\"\n                : selectedFormat === \"dms\"\n                ? `35° 45' 29.7116777\"`\n                : \"\"\n            }\n          ></CalciteInput>\n          <CalciteInputMessage\n            hidden={\n              y.current?.getAttribute(\"status\") === \"invalid\" ? undefined : true\n            }\n            status=\"invalid\"\n          >\n            Value is not valid\n          </CalciteInputMessage>\n        </CalciteLabel>\n        <CalciteLabel scale=\"s\">\n          {selectedFormat === \"dd\"\n            ? \"Longitude\"\n            : selectedFormat === \"spft\"\n            ? \"Easting\"\n            : selectedFormat === \"dms\"\n            ? \"Longitude\"\n            : \"\"}\n          <CalciteInput\n            scale=\"s\"\n            ref={x}\n            hidden={\n              [\"dd\", \"spft\", \"dms\"].includes(selectedFormat) ? undefined : true\n            }\n            id=\"xcoord\"\n            placeholder={\n              selectedFormat === \"dd\"\n                ? \"-78.8079653\"\n                : selectedFormat === \"spft\"\n                ? \"2056872.973\"\n                : selectedFormat === \"dms\"\n                ? `-78° 48' 31.524\"`\n                : \"\"\n            }\n          ></CalciteInput>\n          <CalciteInputMessage\n            hidden={\n              x.current?.getAttribute(\"status\") === \"invalid\" ? undefined : true\n            }\n            status=\"invalid\"\n          >\n            Value is not valid\n          </CalciteInputMessage>\n        </CalciteLabel> */}\n        <CalciteLabel>\n        <div className=\"coordinate-input\">\n        <CalciteInput\n          scale=\"m\"\n          ref={coordInput}\n          id=\"coordInput\"\n          placeholder={selectedFormat.placeholder}\n        ></CalciteInput>\n        <CalciteButton onClick={searchCoordinates} width=\"full\" scale=\"m\" iconEnd=\"search\">\n          \n        </CalciteButton>   \n        </div>\n     \n          <CalciteInputMessage\n            hidden={\n              coordInput.current?.getAttribute(\"status\") === \"invalid\" ? undefined : true\n            }\n            status=\"invalid\"\n          >\n            Value is not valid\n          </CalciteInputMessage>        \n        </CalciteLabel>\n\n      </div>\n      <div className=\"coordinates-row\">\n        <div ref={coordinateRef} className=\"coordinates-text\"></div>\n        <CalciteAction\n          id=\"coordinateSearch\"\n          text=\"\"\n          icon=\"search\"\n          active={showSearch ? true : undefined}\n          onClick={searchClicked}\n        ></CalciteAction>\n        <CalciteTooltip\n          closeOnClick\n          label=\"Search Coordinates\"\n          referenceElement=\"coordinateSearch\"\n        >\n          Search Coordinates\n        </CalciteTooltip>\n        <CalciteAction\n          id=\"coordinateUnits\"\n          text=\"\"\n          icon=\"gear\"\n          onClick={settingsClicked}\n          active={showSettings ? true : undefined}\n        ></CalciteAction>\n        <CalciteTooltip\n          closeOnClick\n          label=\"Set Units\"\n          referenceElement=\"coordinateUnits\"\n        >\n          Set Units\n        </CalciteTooltip>\n        <CalciteAction\n          id=\"coordinateMode\"\n          ref={modeActionRef}\n          text=\"\"\n          icon=\"pin\"\n          onClick={modeClicked}\n        ></CalciteAction>\n        <CalciteTooltip\n          closeOnClick\n          label=\"Set Mode\"\n          referenceElement=\"coordinateMode\"\n        >\n          Set Mode\n        </CalciteTooltip>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(Coordinates);\n"],"names":["_","e","S","r","T","n","o","x","y","i","a","p","spatialReference","s","t","console","warn","d","wkid","c","wkt","l","moveHandler","clickHandler","marker","PictureMarkerSymbol","url","height","width","layer","GraphicsLayer","id","props","loaded","useRef","coordInput","coordinateRef","showSettings","setShowSettings","useState","showSearch","setShowSearch","modeActionRef","noticeRef","formats","value","label","placeholder","selectedFormat","setSelectedFormat","formatRef","settingsClicked","useCallback","prevSettings","searchClicked","prevSearch","modeClicked","target","active","remove","addClickHandler","view","clickActivated","popup","autoOpenEnabled","document","querySelector","classList","add","addMoveHandler","formatChanged","current","format","find","searchCoordinates","async","coordinateFormatter","projection","point","Point","coords","replace","split","length","lon","isNaN","parseFloat","NaN","lat","setAttribute","u","test","constraints","geometry","contains","setTimeout","removeAttribute","map","findLayerById","removeAll","attributes","symbol","goTo","displayCoordinates","type","toMap","wgs84","longitude","latitude","ddSplit","replaceAll","includes","innerHTML","join","dmsSplit","dms","substring","spft","toFixed","on","extent","center","useEffect","expand","hasHandles","watch","expanded","getAttribute","Coordinates","useCoordinates","scale","ref","kind","closable","slot","hidden","undefined","onCalciteSelectChange","className","onClick","iconEnd","status","text","icon","closeOnClick","referenceElement","React"],"sourceRoot":""}