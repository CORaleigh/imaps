(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[130],{1015:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(85),o=n(625),i=n(96),a=n(507),s=n(234),c=n(147),u=n(83);function l(t){return f[function(t){return t instanceof Blob?t.type:function(t){const e=Object(i.n)(t);return b[e]||d}(t.url)}(t)]||p}const f={},d="text/plain",p=f[d],b={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const g in b)f[b[g]]=g;var h=n(220);function y(t){const e=Object(r.k)(t)&&t.origins?t.origins:[void 0];return(n,a)=>{const f=function(t,e,n){if(Object(r.k)(t)&&"resource"===t.type)return function(t,e,n){const a=Object(s.b)(e,n);return{type:String,read:(t,e,n)=>{const r=Object(h.d)(t,e,n);return a.type===String?r:"function"==typeof a.type?new a.type({url:r}):void 0},write:{writer(e,s,u,f){if(!f||!f.resources)return"string"==typeof e?void(s[u]=Object(h.e)(e,f)):void(s[u]=e.write({},f));const d=function(t){return Object(r.j)(t)?null:"string"==typeof t?t:t.url}(e),p=d?Object(h.e)(d,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,b=a.type!==String&&(!Object(o.a)(this)||f&&f.origin&&this.originIdOf(n)>Object(c.d)(f.origin));f&&f.portalItem&&Object(r.k)(p)&&!Object(i.s)(p)?b?function(t,e,n,r,o,a,s,c){const u=s.portalItem.resourceFromPath(r),f=j(n,r,s);l(f)===Object(i.n)(u.path)?(O(t,e,u,f,s.resources.toUpdate),o[a]=r):m(t,e,n,r,o,a,s,c)}(this,n,e,p,s,u,f,t):function(t,e,n,r){r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(t)}),e[n]=t}(p,s,u,f):f&&f.portalItem&&(Object(r.j)(p)||Object(r.k)(Object(h.b)(p))||Object(i.t)(p)||b)?m(this,n,e,p,s,u,f,t):s[u]=p}}}}(t,e,n);switch(Object(r.k)(t)&&t.type?t.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:e}=h.c;return{read:t,write:e}}}}(t,n,a);for(const t of e){const e=Object(u.c)(n,t,a);for(const t in f)e[t]=f[t]}}}function m(t,e,o,s,c,u,f,d){const p=Object(a.a)(),b=j(o,s,f),h=Object(i.z)(Object(r.i)(d,"prefix"),p),y=`${h}.${l(b)}`,m=f.portalItem.resourceFromPath(y);Object(i.t)(s)&&f.resources.pendingOperations.push(async function(t){const e=(await Promise.resolve().then(n.bind(null,100))).default,{data:r}=await e(t,{responseType:"blob"});return r}(s).then((t=>{m.path=`${h}.${l(t)}`,c[u]=m.itemRelativeUrl})).catch((()=>{}))),O(t,e,m,b,f.resources.toAdd),c[u]=m.itemRelativeUrl}function O(t,e,n,r,o){o.push({resource:n,content:r,finish:n=>{!function(t,e,n){"string"==typeof t[e]?t[e]=n.url:t[e].url=n.url}(t,e,n)}})}function j(t,e,n){return"string"==typeof t?{url:e}:new Blob([JSON.stringify(t.toJSON(n))],{type:"application/json"})}},109:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return j}));var r=n(179),o=(n(87),n(89));const i=/\?(\.|$)/g;function a(t,e,n,r){const o=Array.isArray(e)?e:e.indexOf(",")>-1?e.split(","):[e],a=s(t,e,n,r);for(const s of o){const e=s.trim().replace(i,"$1"),r=t.get(e);n.call(t,r,r,e,t)}return a}function s(t,e,n,r){return t.watch(e,n,r)}function c(t,e,n,r){return O(t,e,g,n,r)}function u(t,e,n,r){return j(t,e,g,n,r)}function l(t,e,n,r){return O(t,e,v,n,r)}function f(t,e,n,r){return j(t,e,v,n,r)}function d(t,e,n,r){return O(t,e,x,n,r)}function p(t,e,n,r){return j(t,e,x,n,r)}function b(t,e,n,r){return O(t,e,M,n,r)}function h(t,e,n,r){return j(t,e,M,n,r)}function y(t,e,n,r){let o=!1;const i=t.watch(e,((e,r,i,a)=>{o||n.call(t,e,r,i,a)}),r);return{remove(){i.remove()},pause(){o=!0},resume(){o=!1}}}function m(t,e,n,o,i,s,c){const u={};function l(e){const r=u[e];r&&(s&&s(r.target,e,t,n),r.handle.remove(),delete u[e])}const f=a(t,e,((e,a,s)=>{l(s),Object(r.b)(e)&&(u[s]={handle:Object(r.c)(e,n,o),target:e},i&&i(e,s,t,n))}),c);return{remove(){f.remove();for(const t in u)l(t)}}}function O(t,e,n,r,o){const i=t.watch(e,((e,o,i,a)=>{n&&!n(e)||null==r||r.call(t,e,o,i,a)}),o);if(Array.isArray(e))for(const a of e){const o=t.get(a);n&&n(o)&&(null==r||r.call(t,o,o,e,t))}else{const o=t.get(e);n&&n(o)&&(null==r||r.call(t,o,o,e,t))}return i}function j(t,e,n,r,i){const a="function"==typeof r?r:null,s="object"==typeof r?r:null;"boolean"==typeof r&&(i=r);let c,u=!1;function l(){c&&(c.remove(),c=null)}const f=Object(o.f)();Object(o.q)(s,(()=>{l(),f.reject(Object(o.e)())}));const d={then:f.promise.then.bind(f.promise),catch:f.promise.catch.bind(f.promise),remove:l};return Object.freeze(d),c=O(t,e,n,((e,n,r,o)=>{u=!0,l(),a&&a.call(t,e,n,r,o),f.resolve({value:e,oldValue:n,propertyName:r,target:o})}),i),u&&l(),d}function g(t){return!!t}function v(t){return!t}function x(t){return!0===t}function M(t){return!1===t}},115:function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return x})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return I})),n.d(e,"i",(function(){return T})),n.d(e,"j",(function(){return w})),n.d(e,"k",(function(){return tt})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return g})),n.d(e,"p",(function(){return S})),n.d(e,"q",(function(){return F})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return B})),n.d(e,"t",(function(){return L})),n.d(e,"u",(function(){return V})),n.d(e,"v",(function(){return G})),n.d(e,"w",(function(){return D})),n.d(e,"x",(function(){return K})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return J})),n.d(e,"A",(function(){return Z}));var r=n(88),o=n(85),i=n(116),a=n(164),s=n(153);const c=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function l(t,e){if(null!=t&&null!=e)for(const n of Array.isArray(t)?t:[t])if(f(c,n,e),"visualVariables"in n&&n.visualVariables)for(const t of n.visualVariables)f(u,t,e)}function f(t,e,n){if(t)for(const r of t){const t=Object(i.b)(r,e),o=t&&"function"!=typeof t&&n.get(t);o&&Object(i.c)(r,o.name,e)}}function d(t,e){if(null!=t&&null!=e&&e.fields.length)if("startField"in t){const n=e.get(t.startField),r=e.get(t.endField);t.startField=n&&n.name||null,t.endField=r&&r.name||null}else{const n=e.get(t.startTimeField),r=e.get(t.endTimeField);t.startTimeField=n&&n.name||null,t.endTimeField=r&&r.name||null}}const p=new Set;function b(t,e){return t&&e?(p.clear(),h(p,t,e),Array.from(p).sort()):[]}function h(t,e,n){var r;if(n)if(null!=e&&null!=(r=e.fields)&&r.length)if(n.includes("*"))for(const{name:o}of e.fields)t.add(o);else for(const o of n)y(t,e,o);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const e of n)t.add(e)}}function y(t,e,n){if("string"==typeof n)if(e){const r=e.get(n);r&&t.add(r.name)}else t.add(n)}function m(t,e){return Object(o.j)(e)||Object(o.j)(t)?[]:e.includes("*")?t.fields.map((t=>t.name)):e}async function O(t,e,n){var r;if(!n)return;const{arcadeUtils:o}=await Object(s.e)(),i=o.extractFieldNames(n,null==e||null==(r=e.fields)?void 0:r.map((t=>t.name)));for(const a of i)y(t,e,a)}async function j(t,e,o){if(o&&"1=1"!==o){const i=(await Promise.all([n.e(11),n.e(245)]).then(n.bind(null,346))).WhereClause.create(o,e);if(!i.isStandardized)throw new r.a("fieldUtils:collectFilterFields","Where clause is not standardized");h(t,e,i.fieldNames)}}function g({displayField:t,fields:e}){return t||(e&&e.length?v(e,"name-or-title")||v(e,"unique-identifier")||v(e,"type-or-category")||function(t){for(const e of t){if(!e||!e.name)continue;const t=e.name.toLowerCase();if(t.indexOf("name")>-1||t.indexOf("title")>-1)return e.name}return null}(e):null)}function v(t,e){for(const n of t)if(n&&n.valueType&&n.valueType===e)return n.name;return null}async function x(t,e){if(!e)return;const n=Object(i.b)("elevationInfo.featureExpressionInfo",e);return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}async function M(t,e,n){var r;if(!e||!n||"cluster"!==n.type)return;const o=[];null!=(r=n.popupTemplate)&&r.expressionInfos&&o.push(...n.popupTemplate.expressionInfos.map((n=>O(t,e.fieldsIndex,n.expression)))),n.fields&&o.push(...n.fields.map((n=>async function(t,e,n){n.outStatistic.onStatisticValueExpression?O(t,e,n.outStatistic.onStatisticValueExpression):t.add(n.outStatistic.onStatisticField)}(t,e.fieldsIndex,n)))),await Promise.all(o)}async function I(t,e,n){e&&(e.timeInfo&&Object(o.k)(n)&&n.timeExtent&&h(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&h(t,e.fieldsIndex,[e.floorInfo.floorField]),Object(o.k)(n)&&Object(o.k)(n.where)&&await j(t,e.fieldsIndex,n.where))}async function w(t,e,n){e&&n&&await Promise.all(n.map((n=>async function(t,e,n){e&&n&&(n.valueExpression?await O(t,e.fieldsIndex,n.valueExpression):n.field&&y(t,e.fieldsIndex,n.field))}(t,e,n))))}function S(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;return e?b(t.fieldsIndex,[e&&e.creatorField,e&&e.creationDateField,e&&e.editorField,e&&e.editDateField]):[]}function F(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?b(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function T(t,e){const{labelingInfo:n,fieldsIndex:r}=e;n&&n.length&&await Promise.all(n.map((e=>async function(t,e,n){if(!n)return;const r=n.getLabelExpression(),o=n.where;if("arcade"===r.type)await O(t,e,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{y(t,e,n.slice(1,-1))}))}await j(t,e,o)}(t,r,e))))}function _(t){const e=t.defaultValue;return void 0!==e&&q(t,e)?e:t.nullable?null:void 0}function N(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function R(t){return null===t||N(t)}const E="isInteger"in Number?Number.isInteger:t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t;function A(t){return null===t||E(t)}function U(t){return null!=t&&"string"==typeof t}function k(t){return null===t||U(t)}function P(){return!0}function q(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=t.nullable?A:E;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?R:N;break;case"string":case"esriFieldTypeString":n=t.nullable?k:U;break;default:n=P}return 1===arguments.length?n:n(e)}const D=["integer","small-integer","single","double"],$=new Set([...D,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function V(t){return null!=t&&$.has(t.type)}function G(t){return null!=t&&("string"===t.type||"esriFieldTypeString"===t.type)}function L(t){return null!=t&&("date"===t.type||"esriFieldTypeDate"===t.type)}var z,C;function K(t){return null==t||"number"==typeof t&&isNaN(t)?null:t}function J(t,e){return t.nullable&&null===e?null:V(t)&&!function(t,e){const n="string"==typeof t?H(t):t;return!!n&&(n.isInteger?E(e)&&e>=n.min&&e<=n.max:e>=n.min&&e<=n.max)}(t.type,Number(e))?z.OUT_OF_RANGE:q(t,e)?t.domain?Object(a.e)(t.domain,e):null:C.INVALID_TYPE}function B(t){return Object(a.c)(t.domain)||(V(t)?H(t.type):void 0)}function H(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return Y;case"esriFieldTypeInteger":case"integer":return X;case"esriFieldTypeSingle":case"single":return Q;case"esriFieldTypeDouble":case"double":return W}}(z||(z={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(C||(C={}));const Y={min:-32768,max:32767,isInteger:!0},X={min:-2147483648,max:2147483647,isInteger:!0},Q={min:-34e37,max:12e37,isInteger:!1},W={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Z(t,e,n){switch(t){case a.a.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case a.a.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case C.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case z.OUT_OF_RANGE:{const{min:t,max:r}=H(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${t} to ${r}`}}}function tt(t,e){return!function(t,e,n){if(!e||!e.attributes||!t){if(Object(o.k)(n))for(const e of t)n.add(e);return!0}const r=e.attributes;let i=!1;for(const a of t)if(!(a in r)){if(i=!0,!Object(o.k)(n))break;n.add(a)}return i}(t,e,null)}},117:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(81),o=n(92),i=n(103),a=n(85),s=n(83),c=n(82);let u=class extends o.a{constructor(t){super(t),this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach((e=>{t+=e.length})),t}add(t,e){if(!this._isHandle(t)&&!Array.isArray(t)&&!i.a.isCollection(t))return this;const n=this._getOrCreateGroup(e);return Array.isArray(t)||i.a.isCollection(t)?t.forEach((t=>this._isHandle(t)&&n.push(t))):n.push(t),this.notifyChange("size"),this}forEach(t,e){if("function"==typeof t)this._groups.forEach((e=>e.forEach(t)));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(Array.isArray(t)||i.a.isCollection(t))return t.forEach(this.remove,this),this;if(!this.has(t))return this;const e=this._getGroup(t);for(let n=0;n<e.length;n++)e[n].remove();return this._deleteGroup(t),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((t=>{for(let e=0;e<t.length;e++)t[e].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(this._ensureGroupKey(t),e),e}_getGroup(t){return Object(a.d)(this._groups.get(this._ensureGroupKey(t)))}_deleteGroup(t){return this._groups.delete(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}};Object(r.a)([Object(s.b)({readOnly:!0})],u.prototype,"size",null),u=Object(r.a)([Object(c.a)("esri.core.Handles")],u);var l=u},125:function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return j})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return x})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return i})),n.d(e,"m",(function(){return S})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return u})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return y})),n.d(e,"t",(function(){return M})),n.d(e,"u",(function(){return w})),n.d(e,"v",(function(){return l})),n.d(e,"w",(function(){return h}));n(79),n(108);var r=n(85),o=n(99);function i(t=_){return[t[0],t[1],t[2],t[3]]}function a(t){return[t[0],t[1],t[2],t[3]]}function s(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function c(t,e,n,r,o=i()){return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function u(t,e=i()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function l(t,e){return new o.a({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function f(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function d(t,e,n){if(Object(r.j)(e))s(n,t);else if("length"in e)F(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):2!==e.length&&3!==e.length||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}}function p(t,e,n=t){const r=e.length;let o=t[0],i=t[1],a=t[2],s=t[3];for(let c=0;c<r;c++){const t=e[c];o=Math.min(o,t[0]),i=Math.min(i,t[1]),a=Math.max(a,t[0]),s=Math.max(s,t[1])}return n[0]=o,n[1]=i,n[2]=a,n[3]=s,n}function b(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function h(t){return Object(r.j)(t)||t[0]>=t[2]?0:t[2]-t[0]}function y(t){return t[1]>=t[3]?0:t[3]-t[1]}function m(t){return h(t)*y(t)}function O(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function j(t,e){return v(t,e[0],e[1])}function g(t,e){return v(t,e.x,e.y)}function v(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function x(t,e,n){return e[0]>=t[0]-n&&e[1]>=t[1]-n&&e[0]<=t[2]+n&&e[1]<=t[3]+n}function M(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function I(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function w(t,e,n,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+e,r[3]=t[3]+n,r}function S(t){return t?s(t,T):i(T)}function F(t){return null!=t&&4===t.length}const T=[1/0,1/0,-1/0,-1/0],_=[0,0,0,0]},138:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return N})),n.d(e,"i",(function(){return _})),n.d(e,"j",(function(){return s})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return F})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return j})),n.d(e,"p",(function(){return S})),n.d(e,"q",(function(){return R})),n.d(e,"r",(function(){return y})),n.d(e,"s",(function(){return a})),n.d(e,"t",(function(){return f})),n.d(e,"u",(function(){return m})),n.d(e,"v",(function(){return M})),n.d(e,"w",(function(){return O})),n.d(e,"x",(function(){return I}));var r=n(101),o=n(171);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(t,e,n,r,o,i,a,s,c,u,l,f,d,p,b,h,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=c,t[8]=u,t[9]=l,t[10]=f,t[11]=d,t[12]=p,t[13]=b,t[14]=h,t[15]=y,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){const n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function u(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],b=e[12],h=e[13],y=e[14],m=e[15],O=n*s-r*a,j=n*c-o*a,g=n*u-i*a,v=r*c-o*s,x=r*u-i*s,M=o*u-i*c,I=l*h-f*b,w=l*y-d*b,S=l*m-p*b,F=f*y-d*h,T=f*m-p*h,_=d*m-p*y;let N=O*_-j*T+g*F+v*S-x*w+M*I;return N?(N=1/N,t[0]=(s*_-c*T+u*F)*N,t[1]=(o*T-r*_-i*F)*N,t[2]=(h*M-y*x+m*v)*N,t[3]=(d*x-f*M-p*v)*N,t[4]=(c*S-a*_-u*w)*N,t[5]=(n*_-o*S+i*w)*N,t[6]=(y*g-b*M-m*j)*N,t[7]=(l*M-d*g+p*j)*N,t[8]=(a*T-s*S+u*I)*N,t[9]=(r*S-n*T-i*I)*N,t[10]=(b*x-h*g+m*O)*N,t[11]=(f*g-l*x-p*O)*N,t[12]=(s*w-a*F-c*I)*N,t[13]=(n*F-r*w+o*I)*N,t[14]=(h*j-b*v-y*O)*N,t[15]=(l*v-f*j+d*O)*N,t):null}function l(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],f=e[8],d=e[9],p=e[10],b=e[11],h=e[12],y=e[13],m=e[14],O=e[15];let j=n[0],g=n[1],v=n[2],x=n[3];return t[0]=j*r+g*s+v*f+x*h,t[1]=j*o+g*c+v*d+x*y,t[2]=j*i+g*u+v*p+x*m,t[3]=j*a+g*l+v*b+x*O,j=n[4],g=n[5],v=n[6],x=n[7],t[4]=j*r+g*s+v*f+x*h,t[5]=j*o+g*c+v*d+x*y,t[6]=j*i+g*u+v*p+x*m,t[7]=j*a+g*l+v*b+x*O,j=n[8],g=n[9],v=n[10],x=n[11],t[8]=j*r+g*s+v*f+x*h,t[9]=j*o+g*c+v*d+x*y,t[10]=j*i+g*u+v*p+x*m,t[11]=j*a+g*l+v*b+x*O,j=n[12],g=n[13],v=n[14],x=n[15],t[12]=j*r+g*s+v*f+x*h,t[13]=j*o+g*c+v*d+x*y,t[14]=j*i+g*u+v*p+x*m,t[15]=j*a+g*l+v*b+x*O,t}function f(t,e,n){const r=n[0],o=n[1],i=n[2];let a,s,c,u,l,f,d,p,b,h,y,m;return e===t?(t[12]=e[0]*r+e[4]*o+e[8]*i+e[12],t[13]=e[1]*r+e[5]*o+e[9]*i+e[13],t[14]=e[2]*r+e[6]*o+e[10]*i+e[14],t[15]=e[3]*r+e[7]*o+e[11]*i+e[15]):(a=e[0],s=e[1],c=e[2],u=e[3],l=e[4],f=e[5],d=e[6],p=e[7],b=e[8],h=e[9],y=e[10],m=e[11],t[0]=a,t[1]=s,t[2]=c,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=p,t[8]=b,t[9]=h,t[10]=y,t[11]=m,t[12]=a*r+l*o+b*i+e[12],t[13]=s*r+f*o+h*i+e[13],t[14]=c*r+d*o+y*i+e[14],t[15]=u*r+p*o+m*i+e[15]),t}function d(t,e,n){const r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function p(t,e,n,r){let i,a,s,c,u,l,f,d,p,b,h,y,m,O,j,g,v,x,M,I,w,S,F,T,_=r[0],N=r[1],R=r[2],E=Math.sqrt(_*_+N*N+R*R);return E<o.a?null:(E=1/E,_*=E,N*=E,R*=E,i=Math.sin(n),a=Math.cos(n),s=1-a,c=e[0],u=e[1],l=e[2],f=e[3],d=e[4],p=e[5],b=e[6],h=e[7],y=e[8],m=e[9],O=e[10],j=e[11],g=_*_*s+a,v=N*_*s+R*i,x=R*_*s-N*i,M=_*N*s-R*i,I=N*N*s+a,w=R*N*s+_*i,S=_*R*s+N*i,F=N*R*s-_*i,T=R*R*s+a,t[0]=c*g+d*v+y*x,t[1]=u*g+p*v+m*x,t[2]=l*g+b*v+O*x,t[3]=f*g+h*v+j*x,t[4]=c*M+d*I+y*w,t[5]=u*M+p*I+m*w,t[6]=l*M+b*I+O*w,t[7]=f*M+h*I+j*w,t[8]=c*S+d*F+y*T,t[9]=u*S+p*F+m*T,t[10]=l*S+b*F+O*T,t[11]=f*S+h*F+j*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function b(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=a*o+l*r,t[6]=s*o+f*r,t[7]=c*o+d*r,t[8]=u*o-i*r,t[9]=l*o-a*r,t[10]=f*o-s*r,t[11]=d*o-c*r,t}function h(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],c=e[3],u=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=a*o-l*r,t[2]=s*o-f*r,t[3]=c*o-d*r,t[8]=i*r+u*o,t[9]=a*r+l*o,t[10]=s*r+f*o,t[11]=c*r+d*o,t}function y(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],c=e[3],u=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=a*o+l*r,t[2]=s*o+f*r,t[3]=c*o+d*r,t[4]=u*o-i*r,t[5]=l*o-a*r,t[6]=f*o-s*r,t[7]=d*o-c*r,t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function O(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function j(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,e,n){const r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,c=o+o,u=i+i,l=r*s,f=r*c,d=r*u,p=o*c,b=o*u,h=i*u,y=a*s,m=a*c,O=a*u;return t[0]=1-(p+h),t[1]=f+O,t[2]=d-m,t[3]=0,t[4]=f-O,t[5]=1-(l+h),t[6]=b+y,t[7]=0,t[8]=d+m,t[9]=b-y,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}const x=Object(r.e)();function M(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function I(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,c=o+o,u=n*a,l=r*a,f=r*s,d=o*a,p=o*s,b=o*c,h=i*a,y=i*s,m=i*c;return t[0]=1-f-b,t[1]=l+m,t[2]=d-y,t[3]=0,t[4]=l-m,t[5]=1-u-b,t[6]=p+h,t[7]=0,t[8]=d+y,t[9]=p-h,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,e,n,r,o,i,a){const s=1/(n-e),c=1/(o-r),u=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*c,t[10]=(a+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*u,t[15]=0,t}function S(t,e,n,r,o,i,a){const s=1/(e-n),c=1/(r-o),u=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*c,t[14]=(a+i)*u,t[15]=1,t}function F(t,e,n,r){let i,a,c,u,l,f,d,p,b,h;const y=e[0],m=e[1],O=e[2],j=r[0],g=r[1],v=r[2],x=n[0],M=n[1],I=n[2];return Math.abs(y-x)<o.a&&Math.abs(m-M)<o.a&&Math.abs(O-I)<o.a?s(t):(d=y-x,p=m-M,b=O-I,h=1/Math.sqrt(d*d+p*p+b*b),d*=h,p*=h,b*=h,i=g*b-v*p,a=v*d-j*b,c=j*p-g*d,h=Math.sqrt(i*i+a*a+c*c),h?(h=1/h,i*=h,a*=h,c*=h):(i=0,a=0,c=0),u=p*c-b*a,l=b*i-d*c,f=d*a-p*i,h=Math.sqrt(u*u+l*l+f*f),h?(h=1/h,u*=h,l*=h,f*=h):(u=0,l=0,f=0),t[0]=i,t[1]=u,t[2]=d,t[3]=0,t[4]=a,t[5]=l,t[6]=p,t[7]=0,t[8]=c,t[9]=f,t[10]=b,t[11]=0,t[12]=-(i*y+a*m+c*O),t[13]=-(u*y+l*m+f*O),t[14]=-(d*y+p*m+b*O),t[15]=1,t)}function T(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function _(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function N(t,e){const n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],d=t[9],p=t[10],b=t[11],h=t[12],y=t[13],m=t[14],O=t[15],j=e[0],g=e[1],v=e[2],x=e[3],M=e[4],I=e[5],w=e[6],S=e[7],F=e[8],T=e[9],_=e[10],N=e[11],R=e[12],E=e[13],A=e[14],U=e[15];return Math.abs(n-j)<=o.a*Math.max(1,Math.abs(n),Math.abs(j))&&Math.abs(r-g)<=o.a*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-v)<=o.a*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(a-x)<=o.a*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-M)<=o.a*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(c-I)<=o.a*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(u-w)<=o.a*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(l-S)<=o.a*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-F)<=o.a*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(d-T)<=o.a*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(p-_)<=o.a*Math.max(1,Math.abs(p),Math.abs(_))&&Math.abs(b-N)<=o.a*Math.max(1,Math.abs(b),Math.abs(N))&&Math.abs(h-R)<=o.a*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(y-E)<=o.a*Math.max(1,Math.abs(y),Math.abs(E))&&Math.abs(m-A)<=o.a*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(O-U)<=o.a*Math.max(1,Math.abs(O),Math.abs(U))}function R(t){const e=o.a,n=t[0],r=t[1],i=t[2],a=t[4],s=t[5],c=t[6],u=t[8],l=t[9],f=t[10];return Math.abs(1-(n*n+a*a+u*u))<=e&&Math.abs(1-(r*r+s*s+l*l))<=e&&Math.abs(1-(i*i+c*c+f*f))<=e}const E=l,A=T;Object.freeze({__proto__:null,copy:i,set:a,identity:s,transpose:c,invert:u,adjoint:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],b=e[12],h=e[13],y=e[14],m=e[15];return t[0]=s*(d*m-p*y)-f*(c*m-u*y)+h*(c*p-u*d),t[1]=-(r*(d*m-p*y)-f*(o*m-i*y)+h*(o*p-i*d)),t[2]=r*(c*m-u*y)-s*(o*m-i*y)+h*(o*u-i*c),t[3]=-(r*(c*p-u*d)-s*(o*p-i*d)+f*(o*u-i*c)),t[4]=-(a*(d*m-p*y)-l*(c*m-u*y)+b*(c*p-u*d)),t[5]=n*(d*m-p*y)-l*(o*m-i*y)+b*(o*p-i*d),t[6]=-(n*(c*m-u*y)-a*(o*m-i*y)+b*(o*u-i*c)),t[7]=n*(c*p-u*d)-a*(o*p-i*d)+l*(o*u-i*c),t[8]=a*(f*m-p*h)-l*(s*m-u*h)+b*(s*p-u*f),t[9]=-(n*(f*m-p*h)-l*(r*m-i*h)+b*(r*p-i*f)),t[10]=n*(s*m-u*h)-a*(r*m-i*h)+b*(r*u-i*s),t[11]=-(n*(s*p-u*f)-a*(r*p-i*f)+l*(r*u-i*s)),t[12]=-(a*(f*y-d*h)-l*(s*y-c*h)+b*(s*d-c*f)),t[13]=n*(f*y-d*h)-l*(r*y-o*h)+b*(r*d-o*f),t[14]=-(n*(s*y-c*h)-a*(r*y-o*h)+b*(r*c-o*s)),t[15]=n*(s*d-c*f)-a*(r*d-o*f)+l*(r*c-o*s),t},determinant:function(t){const e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],c=t[7],u=t[8],l=t[9],f=t[10],d=t[11],p=t[12],b=t[13],h=t[14],y=t[15];return(e*a-n*i)*(f*y-d*h)-(e*s-r*i)*(l*y-d*b)+(e*c-o*i)*(l*h-f*b)+(n*s-r*a)*(u*y-d*p)-(n*c-o*a)*(u*h-f*p)+(r*c-o*s)*(u*b-l*p)},multiply:l,translate:f,scale:d,rotate:p,rotateX:b,rotateY:h,rotateZ:y,fromTranslation:m,fromScaling:O,fromRotation:function(t,e,n){let r,i,a,s=n[0],c=n[1],u=n[2],l=Math.sqrt(s*s+c*c+u*u);return l<o.a?null:(l=1/l,s*=l,c*=l,u*=l,r=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=s*s*a+i,t[1]=c*s*a+u*r,t[2]=u*s*a-c*r,t[3]=0,t[4]=s*c*a-u*r,t[5]=c*c*a+i,t[6]=u*c*a+s*r,t[7]=0,t[8]=s*u*a+c*r,t[9]=c*u*a-s*r,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:j,fromYRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:g,fromRotationTranslation:v,fromQuat2:function(t,e){const n=x,r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],f=r*r+o*o+i*i+a*a;return f>0?(n[0]=2*(s*a+l*r+c*i-u*o)/f,n[1]=2*(c*a+l*o+u*r-s*i)/f,n[2]=2*(u*a+l*i+s*o-c*r)/f):(n[0]=2*(s*a+l*r+c*i-u*o),n[1]=2*(c*a+l*o+u*r-s*i),n[2]=2*(u*a+l*i+s*o-c*r)),v(t,e,n),t},getTranslation:M,getScaling:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],s=e[6],c=e[8],u=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(i*i+a*a+s*s),t[2]=Math.sqrt(c*c+u*u+l*l),t},getRotation:function(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},fromRotationTranslationScale:function(t,e,n,r){const o=e[0],i=e[1],a=e[2],s=e[3],c=o+o,u=i+i,l=a+a,f=o*c,d=o*u,p=o*l,b=i*u,h=i*l,y=a*l,m=s*c,O=s*u,j=s*l,g=r[0],v=r[1],x=r[2];return t[0]=(1-(b+y))*g,t[1]=(d+j)*g,t[2]=(p-O)*g,t[3]=0,t[4]=(d-j)*v,t[5]=(1-(f+y))*v,t[6]=(h+m)*v,t[7]=0,t[8]=(p+O)*x,t[9]=(h-m)*x,t[10]=(1-(f+b))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,n,r,o){const i=e[0],a=e[1],s=e[2],c=e[3],u=i+i,l=a+a,f=s+s,d=i*u,p=i*l,b=i*f,h=a*l,y=a*f,m=s*f,O=c*u,j=c*l,g=c*f,v=r[0],x=r[1],M=r[2],I=o[0],w=o[1],S=o[2],F=(1-(h+m))*v,T=(p+g)*v,_=(b-j)*v,N=(p-g)*x,R=(1-(d+m))*x,E=(y+O)*x,A=(b+j)*M,U=(y-O)*M,k=(1-(d+h))*M;return t[0]=F,t[1]=T,t[2]=_,t[3]=0,t[4]=N,t[5]=R,t[6]=E,t[7]=0,t[8]=A,t[9]=U,t[10]=k,t[11]=0,t[12]=n[0]+I-(F*I+N*w+A*S),t[13]=n[1]+w-(T*I+R*w+U*S),t[14]=n[2]+S-(_*I+E*w+k*S),t[15]=1,t},fromQuat:I,frustum:w,perspective:function(t,e,n,r,o){const i=1/Math.tan(e/2);let a;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(r-o),t[10]=(o+r)*a,t[14]=2*o*r*a):(t[10]=-1,t[14]=-2*r),t},perspectiveFromFieldOfView:function(t,e,n,r){const o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+s),u=2/(o+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*c*.5,t[9]=(o-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},ortho:S,lookAt:F,targetTo:function(t,e,n,r){const o=e[0],i=e[1],a=e[2],s=r[0],c=r[1],u=r[2];let l=o-n[0],f=i-n[1],d=a-n[2],p=l*l+f*f+d*d;p>0&&(p=1/Math.sqrt(p),l*=p,f*=p,d*=p);let b=c*d-u*f,h=u*l-s*d,y=s*f-c*l;return p=b*b+h*h+y*y,p>0&&(p=1/Math.sqrt(p),b*=p,h*=p,y*=p),t[0]=b,t[1]=h,t[2]=y,t[3]=0,t[4]=f*y-d*h,t[5]=d*b-l*y,t[6]=l*h-f*b,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},subtract:T,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},exactEquals:_,equals:N,isOrthoNormal:R,mul:E,sub:A})},220:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c}));var r=n(85),o=n(96);function i(t,e){const n=e&&e.url&&e.url.path;if(t&&n&&(t=Object(o.A)(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const n=Object(o.C)(t,e.portalItem.itemUrl);l.test(n)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(n).path)}return d(t,e&&e.portal)}function a(t,e,n=0){if(!t)return t;!Object(o.s)(t)&&e&&e.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let r=Object(o.A)(t);if(e){const n=e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.rootPath||e.url&&e.url.path;if(n){const i=d(n,e.portal);r=Object(o.C)(d(r,e.portal),i,i),r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=function(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?Object(o.h)(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}(r,e&&e.portal),Object(o.s)(r)&&(r=Object(o.D)(r)),null!=e&&e.resources&&null!=e&&e.portalItem&&!Object(o.s)(r)&&!Object(o.u)(r)&&0===n&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r)}),r}function s(t,e,n){return i(t,n)}function c(t,e,n,r){const o=a(t,r);void 0!==o&&(e[n]=o)}const u=/\/items\/([^\/]+)\/resources\//,l=/^\.\/resources\//;function f(t){const e=Object(r.k)(t)?t.match(u):null;return Object(r.k)(e)?e[1]:null}function d(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`;return Object(o.q)(o.g,`${o.g.scheme}://${n}`)?Object(o.h)(t,e.portalHostname,n):Object(o.h)(t,n,e.portalHostname)}var p=Object.freeze({__proto__:null,fromJSON:i,toJSON:a,read:s,write:c,itemIdFromResourceUrl:f})},284:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r,o=n(81),i=n(90),a=n(86),s=n(85),c=n(83),u=(n(79),n(84),n(80),n(94)),l=n(82),f=n(91),d=n(115);let p=r=class extends a.a{async collectRequiredFields(t,e){return Object(d.c)(t,e,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}};Object(o.a)([Object(c.b)({type:String,json:{write:!0}})],p.prototype,"expression",void 0),Object(o.a)([Object(c.b)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=r=Object(o.a)([Object(l.a)("esri.layers.support.FeatureExpressionInfo")],p);var b,h=p,y=n(494);const m=Object(i.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),O=new i.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let j=b=class extends a.a{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(t,e){return null!=t?t:e.featureExpression&&0===e.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,e,n,r){e[n]=t.write(null,r),"0"===t.expression&&(e.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:e}=this;return this._isOverridden("mode")?this._get("mode"):Object(s.k)(t)||e?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,e){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,e):null}clone(){return new b({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};Object(o.a)([Object(c.b)({type:h,json:{write:!0}})],j.prototype,"featureExpressionInfo",void 0),Object(o.a)([Object(u.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],j.prototype,"readFeatureExpressionInfo",null),Object(o.a)([Object(f.a)("featureExpressionInfo",{featureExpressionInfo:{type:h},"featureExpression.value":{type:[0]}})],j.prototype,"writeFeatureExpressionInfo",null),Object(o.a)([Object(c.b)({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],j.prototype,"mode",null),Object(o.a)([Object(c.b)({type:Number,json:{write:!0}})],j.prototype,"offset",void 0),Object(o.a)([Object(c.b)({type:y.b,json:{type:String,read:O.read,write:O.write}})],j.prototype,"unit",null),j=b=Object(o.a)([Object(l.a)("esri.layers.support.ElevationInfo")],j);var g=j},299:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(81),o=n(83),i=(n(79),n(84),n(80),n(82));const a=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return Object(r.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),Object(r.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],e.prototype,"scaleRangeId",null),e=Object(r.a)([Object(i.a)("esri.layers.mixins.ScaleRangeLayer")],e),e}},305:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(84);function o(t){const e=Object(r.e)(100*(1-t));return Math.max(0,Math.min(e,100))}function i(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}},392:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return o}));var r=n(139);const o=Math.PI/180,i=/SPHEROID\[([^\]]+)]/i,a=r.a.radius,s=r.a.eccentricitySquared,c={a1:a*s,a2:a*s*a*s,a3:a*s*s/2,a4:a*s*a*s*2.5,a5:a*s+a*s*s/2,a6:1-s},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},494:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var r=n(218);function o(t){return null!=r.a[t]}function i(t){return 1/(r.a[t]||1)}const a=function(){const t=Object.keys(r.a);return t.sort(),t}()},919:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return p}));var r=n(81),o=n(86),i=n(83),a=(n(79),n(84),n(80),n(97)),s=n(82);let c=class extends o.a{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};Object(r.a)([Object(i.b)({type:Number})],c.prototype,"nodesPerPage",void 0),Object(r.a)([Object(i.b)({type:Number})],c.prototype,"rootIndex",void 0),Object(r.a)([Object(i.b)({type:String})],c.prototype,"lodSelectionMetricType",void 0),c=Object(r.a)([Object(s.a)("esri.layer.support.I3SNodePageDefinition")],c);let u=class extends o.a{constructor(){super(...arguments),this.factor=1}};Object(r.a)([Object(i.b)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),Object(r.a)([Object(i.b)({type:Number})],u.prototype,"factor",void 0),u=Object(r.a)([Object(s.a)("esri.layer.support.I3SMaterialTexture")],u);let l=class extends o.a{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};Object(r.a)([Object(i.b)({type:[Number]})],l.prototype,"baseColorFactor",void 0),Object(r.a)([Object(i.b)({type:u})],l.prototype,"baseColorTexture",void 0),Object(r.a)([Object(i.b)({type:u})],l.prototype,"metallicRoughnessTexture",void 0),Object(r.a)([Object(i.b)({type:Number})],l.prototype,"metallicFactor",void 0),Object(r.a)([Object(i.b)({type:Number})],l.prototype,"roughnessFactor",void 0),l=Object(r.a)([Object(s.a)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],l);let f=class extends o.a{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};Object(r.a)([Object(a.a)({opaque:"opaque",mask:"mask",blend:"blend"})],f.prototype,"alphaMode",void 0),Object(r.a)([Object(i.b)({type:Number})],f.prototype,"alphaCutoff",void 0),Object(r.a)([Object(i.b)({type:Boolean})],f.prototype,"doubleSided",void 0),Object(r.a)([Object(a.a)({none:"none",back:"back",front:"front"})],f.prototype,"cullFace",void 0),Object(r.a)([Object(i.b)({type:u})],f.prototype,"normalTexture",void 0),Object(r.a)([Object(i.b)({type:u})],f.prototype,"occlusionTexture",void 0),Object(r.a)([Object(i.b)({type:u})],f.prototype,"emissiveTexture",void 0),Object(r.a)([Object(i.b)({type:[Number]})],f.prototype,"emissiveFactor",void 0),Object(r.a)([Object(i.b)({type:l})],f.prototype,"pbrMetallicRoughness",void 0),f=Object(r.a)([Object(s.a)("esri.layer.support.I3SMaterialDefinition")],f);let d=class extends o.a{};Object(r.a)([Object(i.b)({type:String,json:{read:{source:["name","index"],reader:(t,e)=>null!=t?t:`${e.index}`}}})],d.prototype,"name",void 0),Object(r.a)([Object(a.a)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],d.prototype,"format",void 0),d=Object(r.a)([Object(s.a)("esri.layer.support.I3STextureFormat")],d);let p=class extends o.a{constructor(){super(...arguments),this.atlas=!1}};Object(r.a)([Object(i.b)({type:[d]})],p.prototype,"formats",void 0),Object(r.a)([Object(i.b)({type:Boolean})],p.prototype,"atlas",void 0),p=Object(r.a)([Object(s.a)("esri.layer.support.I3STextureSetDefinition")],p);let b=class extends o.a{};Object(r.a)([Object(a.a)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],b.prototype,"type",void 0),Object(r.a)([Object(i.b)({type:Number})],b.prototype,"component",void 0),b=Object(r.a)([Object(s.a)("esri.layer.support.I3SGeometryAttribute")],b);let h=class extends o.a{};Object(r.a)([Object(a.a)({draco:"draco"})],h.prototype,"encoding",void 0),Object(r.a)([Object(i.b)({type:[String]})],h.prototype,"attributes",void 0),h=Object(r.a)([Object(s.a)("esri.layer.support.I3SGeometryCompressedAttributes")],h);let y=class extends o.a{constructor(){super(...arguments),this.offset=0}};Object(r.a)([Object(i.b)({type:Number})],y.prototype,"offset",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"position",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"normal",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"uv0",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"color",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"uvRegion",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"featureId",void 0),Object(r.a)([Object(i.b)({type:b})],y.prototype,"faceRange",void 0),Object(r.a)([Object(i.b)({type:h})],y.prototype,"compressedAttributes",void 0),y=Object(r.a)([Object(s.a)("esri.layer.support.I3SGeometryBuffer")],y);let m=class extends o.a{};Object(r.a)([Object(a.a)({triangle:"triangle"})],m.prototype,"topology",void 0),Object(r.a)([Object(i.b)()],m.prototype,"geometryBuffers",void 0),m=Object(r.a)([Object(s.a)("esri.layer.support.I3SGeometryDefinition")],m)},939:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return V}));var r,o=n(81),i=n(88),a=n(117),s=n(85),c=n(202),u=n(89),l=n(109),f=n(83),d=(n(79),n(84),n(80),n(94)),p=n(82),b=n(1015),h=n(183),y=n(307),m=n(308),O=n(244),j=n(243),g=n(299),v=n(872),x=n(152),M=n(919),I=n(100),w=n(103),S=n(86),F=n(96),T=(n(98),n(87)),_=n(170),N=n(91),R=n(178),E=n(124);let A=r=class extends S.a{constructor(t){super(t),this.geometry=null,this.type="clip"}writeGeometry(t,e,n,r){if(r.layer&&r.layer.spatialReference&&!r.layer.spatialReference.equals(this.geometry.spatialReference)){if(!Object(R.b)(t.spatialReference,r.layer.spatialReference))return void(r&&r.messages&&r.messages.push(new _.a("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:r.layer.spatialReference,context:r})));const o=new E.a;Object(R.s)(t,o,r.layer.spatialReference),e[n]=o.toJSON(r)}else e[n]=t.toJSON(r);delete e[n].spatialReference}clone(){return new r({geometry:Object(T.a)(this.geometry),type:this.type})}};Object(o.a)([Object(f.b)({type:E.a}),Object(b.a)()],A.prototype,"geometry",void 0),Object(o.a)([Object(N.a)(["web-scene","portal-item"],"geometry")],A.prototype,"writeGeometry",null),Object(o.a)([Object(f.b)({type:["clip","mask","replace"],nonNullable:!0}),Object(b.a)()],A.prototype,"type",void 0),A=r=Object(o.a)([Object(p.a)("esri.layers.support.SceneModification")],A);var U,k=A;let P=U=class extends(Object(S.b)(w.a.ofType(k))){constructor(t){super(t),this.url=null}toJSON(t){return this.toArray().map((e=>e.toJSON(t))).filter((t=>!!t.geometry))}clone(){return new U({url:this.url,items:this.items.map((t=>t.clone()))})}_readModifications(t,e){for(const n of t)this.add(k.fromJSON(n,e))}static fromJSON(t,e){const n=new U;return n._readModifications(t,e),n}static async fromUrl(t,e,n){const r={url:Object(F.K)(t),origin:"service"},o=await Object(I.default)(t,{responseType:"json",signal:Object(s.i)(n,"signal")}),i=e.toJSON(),a=[];for(const s of o.data)a.push(k.fromJSON({...s,geometry:{...s.geometry,spatialReference:i}},r));return new U({url:t,items:a})}};Object(o.a)([Object(f.b)({type:String})],P.prototype,"url",void 0),P=U=Object(o.a)([Object(p.a)("esri.layers.support.SceneModifications")],P);var q=P,D=n(220);let $=class extends(Object(v.a)(Object(m.a)(Object(O.a)(Object(j.a)(Object(g.a)(Object(c.a)(Object(y.a)(h.a)))))))){constructor(...t){super(...t),this.handles=new a.a,this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this.handles.destroy()}initialize(){this.handles.add(Object(l.b)(this,"modifications","after-changes",(()=>this.modifications=this.modifications),null,null,!0))}normalizeCtorArgs(t,e){return"string"==typeof t?{url:t,...e}:t}readModifications(t,e,n){this._modificationsSource={url:Object(D.a)(t,n),context:n}}async load(t){return this.addResolvingPromise(this._doLoad(t)),this}async _doLoad(t){const e=Object(s.i)(t,"signal");try{await this.loadFromPortal({supportedTypes:["Scene Service"]},t)}catch(n){Object(u.u)(n)}if(await this._fetchService(e),Object(s.k)(this._modificationsSource)){const e=await q.fromUrl(this._modificationsSource.url,this.spatialReference,t);this.setAtOrigin("modifications",e,this._modificationsSource.context.origin),this._modificationsSource=null}await this._fetchIndexAndUpdateExtent(this.nodePages,e)}beforeSave(){if(!Object(s.j)(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))}async saveAs(t,e){return this._debouncedSaveOperations(1,{...e,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},t)}async save(){const t={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return this._debouncedSaveOperations(0,t)}validateLayer(t){if(t.layerType&&"IntegratedMesh"!==t.layerType)throw new i.a("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:t.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new i.a("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new i.a("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}};Object(o.a)([Object(f.b)({type:String,readOnly:!0})],$.prototype,"geometryType",void 0),Object(o.a)([Object(f.b)({type:["show","hide"]})],$.prototype,"listMode",void 0),Object(o.a)([Object(f.b)({type:["IntegratedMeshLayer"]})],$.prototype,"operationalLayerType",void 0),Object(o.a)([Object(f.b)({json:{read:!1},readOnly:!0})],$.prototype,"type",void 0),Object(o.a)([Object(f.b)({type:M.c,readOnly:!0})],$.prototype,"nodePages",void 0),Object(o.a)([Object(f.b)({type:[M.b],readOnly:!0})],$.prototype,"materialDefinitions",void 0),Object(o.a)([Object(f.b)({type:[M.d],readOnly:!0})],$.prototype,"textureSetDefinitions",void 0),Object(o.a)([Object(f.b)({type:[M.a],readOnly:!0})],$.prototype,"geometryDefinitions",void 0),Object(o.a)([Object(f.b)({readOnly:!0})],$.prototype,"serviceUpdateTimeStamp",void 0),Object(o.a)([Object(f.b)({type:q}),Object(b.a)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],$.prototype,"modifications",void 0),Object(o.a)([Object(d.a)(["web-scene","portal-item"],"modifications")],$.prototype,"readModifications",null),Object(o.a)([Object(f.b)(x.b)],$.prototype,"elevationInfo",void 0),Object(o.a)([Object(f.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],$.prototype,"path",void 0),$=Object(o.a)([Object(p.a)("esri.layers.IntegratedMeshLayer")],$);var V=$}}]);
//# sourceMappingURL=130.8606859d.chunk.js.map