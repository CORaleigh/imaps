{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js"],"names":["U","D","E","s","getLogger","C","r","outline","o","t","material","color","l","toHex","e","type","width","n","a","size","toRgba","Math","min","q","c","h","v","g","i","b","u","A","H","m","d","N","style","x","y","src","p","toCss","height","T","$","B","F","x1","y1","x2","y2","colors","offset","Q","maxSize","disableUpsampling","symbolLayers","getItemAt","length","forEach","ceil","resource","href","thumbnail","url","Promise","resolve","styleOrigin","styleName","styleUrl","portal","catch","then","Z","get","K","S","max","shape","fill","stroke","push","symbolConfig","isTall","depth","G","primitive","cx","cy","path","command","values","L","M","w","k","J","value","error","warn","P","node","scale","opacity","pattern","f","join","z","j","X","reject","I","profile","pathSymbol3DLayer","V","W"],"mappings":"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","file":"static/js/280.cfc43b61.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e,isSome as t}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import r from\"../../core/Error.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{pt2px as a}from\"../../core/screenUtils.js\";import{defaultPrimitive as l}from\"./IconSymbol3DLayerResource.js\";import{getAssetUrl as n}from\"../../assets.js\";import{defaultPrimitive as i}from\"./ObjectSymbol3DLayerResource.js\";import{toHSV as c,toRGB as h}from\"../../core/colorUtils.js\";import{resolveWebStyleSymbol as u}from\"./styleUtils.js\";import{getPatternUrlWithColor as p,defaultThematicColor as m}from\"./gfxUtils.js\";import{isVolumetricSymbol as f,getIconHref as y}from\"./utils.js\";import{adjustColorComponentBrightness as d,getPathSymbolShapes as b,shapes as v,getTetrahedronShapes as g,getDiamondShapes as k,getCylinderShapes as w,getCubeShapes as x,getInvertedConeShapes as M,getConeShapes as L,getWaterSymbolShapes as j,getExtrudeSymbolShapes as z}from\"./previewUtils.js\";import{renderSymbol as P,tintImageWithColor as S}from\"./renderUtils.js\";const U=22,D=120,O=80,I=40,R=20,E=s.getLogger(\"esri.symbols.support.previewSymbol3D\");function C(s){const r=s.outline,o=t(s.material)?s.material.color:null,l=t(o)?o.toHex():null;if(e(r))return\"fill\"===s.type&&\"#ffffff\"===l?{color:\"#bdc3c7\",width:.75}:null;const n=a(r.size)||0;return{color:\"rgba(\"+(t(r.color)?r.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(n,O)}}function Z(e,t){const s=t&&t.resource,r=s&&s.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(r&&\"object\"!==t.type)return Promise.resolve(y(e,t));const o=n(\"esri/images/Legend/legend3dsymboldefault.png\");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?u(e.styleOrigin,{portal:e.styleOrigin.portal},\"webRef\").catch((e=>e)).then((e=>{var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||o})):Promise.resolve(o)}function q(e,t=1){const s=e.a,r=c(e),o=r.h,a=r.s/t,l=100-(100-r.v)/t,{r:n,g:i,b:u}=h({h:o,s:a,v:l});return[n,i,u,s]}function A(t){return\"water\"===t.type?e(t.color)?null:t.color:e(t.material)||e(t.material.color)?null:t.material.color}function H(e,t=0){const s=A(e);if(!s){if(\"fill\"===e.type)return null;const s=m.r,r=d(s,t);return[r,r,r,100]}const r=s.toRgba();for(let o=0;o<3;o++)r[o]=d(r[o],t);return r}async function N(e,t){const s=e.style;if(\"none\"===s)return null;return{type:\"pattern\",x:0,y:0,src:await p(n(`esri/symbols/patterns/${s}.png`),t.toCss(!0)),width:5,height:5}}function T(e){return e.outline?C(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function $(e,t){const s=A(e);if(!s)return null;let r=\"rgba(\";return r+=d(s.r,t)+\",\",r+=d(s.g,t)+\",\",r+=d(s.b,t)+\",\",r+s.a+\");\"}function B(e,t){const s=$(e,t);if(!s)return{};return{color:s,width:Math.min(e.size?a(e.size):.75,O)}}function F(e,t,s){const r=.75*s;return{type:\"linear\",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function G(e){const t=e.depth,s=e.height,r=e.width;return r&&t&&s&&r===t&&r<s}function J(e,t,s){const r=[];if(!e)return r;switch(e.type){case\"icon\":{const s=0,o=0,a=t,n=t;switch(e.resource&&e.resource.primitive||l){case\"circle\":r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:H(e,0),stroke:C(e)});break;case\"square\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[s,o]},{command:\"L\",values:[a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"triangle\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"cross\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*a,o]},{command:\"L\",values:[.5*a,n]},{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[a,.5*n]}]},stroke:T(e)});break;case\"x\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,o]},{command:\"L\",values:[a,n]},{command:\"M\",values:[a,o]},{command:\"L\",values:[s,n]}]},stroke:T(e)});break;case\"kite\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,.5*n]},{command:\"L\",values:[.5*a,n]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)})}break}case\"object\":switch(e.resource&&e.resource.primitive||i){case\"cone\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=L(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o});break}case\"inverted-cone\":{const s=H(e,0),o=F(s,H(e,-.6),t),a=M(t);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:s});break}case\"cube\":{const o=x(t,s);r.push({shape:o[0],fill:H(e,0)}),r.push({shape:o[1],fill:H(e,-.3)}),r.push({shape:o[2],fill:H(e,-.5)});break}case\"cylinder\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=w(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o}),r.push({shape:a[2],fill:H(e,0)});break}case\"diamond\":{const s=k(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.3)}),r.push({shape:s[3],fill:H(e,-.7)});break}case\"sphere\":{const s=F(H(e,0),H(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:s});break}case\"tetrahedron\":{const s=g(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.6)});break}}break}return r}function K(e){return\"icon\"===e.type?\"multiply\":\"tint\"}function Q(e,t){const s=t&&t.size?a(t.size):null,r=t&&t.maxSize?a(t.maxSize):null,l=t&&t.disableUpsampling,n=e.symbolLayers,i=[];let c=0,h=0;const u=n.getItemAt(n.length-1);let p;return u&&\"icon\"===u.type&&(p=u.size&&a(u.size)),n.forEach((o=>{if(\"icon\"!==o.type&&\"object\"!==o.type)return;const n=\"icon\"===o.type?o.size&&a(o.size):0,u=s||n?Math.ceil(Math.min(s||n,r||D)):U;if(o&&o.resource&&o.resource.href){const t=Z(e,o).then((function(e){const t=o.get(\"material.color\"),s=K(o);return S(e,u,t,s,l)})).then((function(e){const t=e.width,s=e.height;return c=Math.max(c,t),h=Math.max(h,s),[{shape:{type:\"image\",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));i.push(t)}else{var m;let e=u;\"icon\"===o.type&&p&&s&&(e=u*(n/p));const r=\"tall\"===(null==t?void 0:t.symbolConfig)||(null==t||null==(m=t.symbolConfig)?void 0:m.isTall)||\"object\"===o.type&&G(o);c=Math.max(c,r?R:e),h=Math.max(h,e),i.push(Promise.resolve(J(o,e,r)))}})),o(i).then((function(e){const s=[];return e.forEach((function(e){e.value?s.push(e.value):e.error&&E.warn(\"error while building swatchInfo!\",e.error)})),P(s,[c,h],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function V(e,t){const s=e.symbolLayers,r=[],o=f(e),l=t&&t.size?a(t.size):null,n=(t&&t.maxSize?a(t.maxSize):null)||O;let i,c=0,h=0;return s.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const s=[];switch(e.type){case\"line\":{const r=B(e,0),o=r&&r.width||0;0===t&&(i=o);const a=Math.min(l||o,n),u=0===t?a:l?a*(o/i):a,p=u>I/2?2*u:I;h=Math.max(h,u),c=Math.max(c,p),r.width=u,s.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*h]},{command:\"L\",values:[c,.5*h]}]},stroke:r});break}case\"path\":{const t=Math.min(l||U,n),r=H(e,0),i=H(e,-.2),u=$(e,-.4),p=u?{color:u,width:1}:{};if(\"quad\"===e.profile){var o,a;const t=null!=(o=e.width)?o:e.size,l=null!=(a=e.height)?a:e.size,n=b(t&&l?t/l:1,0===l,0===t),c={...p,join:\"bevel\"};s.push({shape:n[0],fill:i,stroke:c}),s.push({shape:n[1],fill:i,stroke:c}),s.push({shape:n[2],fill:r,stroke:c})}else s.push({shape:v.pathSymbol3DLayer[0],fill:i,stroke:p}),s.push({shape:v.pathSymbol3DLayer[1],fill:r,stroke:p});h=Math.max(h,t),c=h}}r.push(s)})),Promise.resolve(P(r,[c,h],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}async function W(e,s){const r=\"mesh-3d\"===e.type,o=e.symbolLayers,l=s&&s.size?a(s.size):null,n=s&&s.maxSize?a(s.maxSize):null,i=l||U,c=[];let h=0,u=0,p=!1;for(let a=0;a<o.length;a++){const e=o.getItemAt(a),s=[];if(r&&\"fill\"!==e.type)continue;const l=v.fill[0];switch(e.type){case\"fill\":{const o=C(e),a=Math.min(i,n||D);h=Math.max(h,a),u=Math.max(u,a),p=!0;let c=H(e,0);const m=\"pattern\"in e&&e.pattern,f=A(e);!r&&t(m)&&\"style\"===m.type&&\"solid\"!==m.style&&f&&(c=await N(m,f)),s.push({shape:l,fill:c,stroke:o});break}case\"line\":{const t={stroke:B(e,0),shape:l};h=Math.max(h,U),u=Math.max(u,U),s.push(t);break}case\"extrude\":{const t={join:\"round\",...B(e,-.4)},r=H(e,0),o=H(e,-.2),a=Math.min(i,n||D),l=z(a);t.width=1,s.push({shape:l[0],fill:o,stroke:t}),s.push({shape:l[1],fill:o,stroke:t}),s.push({shape:l[2],fill:r,stroke:t});const c=U,p=.7*U+.5*a;h=Math.max(h,c),u=Math.max(u,p);break}case\"water\":{const t=A(e),r=q(t),o=q(t,2),a=q(t,3),l=j();p=!0,s.push({shape:l[0],fill:r}),s.push({shape:l[1],fill:o}),s.push({shape:l[2],fill:a});const c=Math.min(i,n||D);h=Math.max(h,c),u=Math.max(u,c);break}}c.push(s)}return Promise.resolve(P(c,[h,u],{node:s&&s.node,scale:p,opacity:s&&s.opacity}))}function X(e,t){if(0===e.symbolLayers.length)return Promise.reject(new r(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));let s=null;switch(e.type){case\"point-3d\":s=Q(e,t);break;case\"line-3d\":s=V(e,t);break;case\"polygon-3d\":case\"mesh-3d\":s=W(e,t)}return s||Promise.reject(new r(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{N as getPatternDescriptor,H as getSymbolLayerFill,X as previewSymbol3D};\n"],"sourceRoot":""}