(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[138,272],{1015:function(e,t,n){"use strict";var r=n(162);t.a=class{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=Object(r.f)(this._spatialReference,1),this._metersPerElevationUnit=Object(r.f)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}},1249:function(e,t,n){"use strict";n.r(t),n.d(t,"DirectLineMeasurement3DController",(function(){return w}));var r=n(130),a=(n(128),n(137)),i=(n(129),n(136),n(133)),s=n(132),c=(n(131),n(134),n(135),n(145)),o=n(175),u=n(153),d=n(151),l=n(157),h=n(165),f=n(218),p=n(160),m=n(278),g=n(946),M=n(620),b=n(608),y=n(1015);let w=class extends c.a{constructor(e){super(e),this._tempStartPosition=Object(d.e)(),this._tempEndPosition=Object(d.e)(),this._tempCornerPosition=Object(d.e)(),this._unitNormalizer=new y.a,this._handles=new h.a}initialize(){this._handles.add(Object(p.j)(this.view,"ready",(()=>this._initialize()),!0))}_initialize(){const e=this.view.spatialReference,t=Object(f.g)(e),n=t===f.a?f.d:t;this._sphericalPCPF=n;const r=Object(m.b)(e,n);this._unitNormalizer.spatialReference=r?n:e,this._handles.add([this.dataObject.watch("startPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("endPoint",(()=>this._updateMeasurement()),!0),this.dataObject.watch("settings",(()=>this._updateMeasurement()),!0)],"model"),this._updateMeasurement()}_updateMeasurement(){const e=this.dataObject.startPoint,t=this.dataObject.endPoint;if(Object(a.j)(e)||Object(a.j)(t))return void(this.dataObject.measurement=null);const n=this._euclideanDistances(e,t),r=this._exactGeodesicDistanceAndAngle(e,t,n.horizontal.value);this.dataObject.measurement={directDistance:n.direct,horizontalDistance:n.horizontal,verticalDistance:n.vertical,geodesicDistance:r.distance,geodesicAngle:r.angle}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const n=e.clone();n.z=t.z;const r=this._tempStartPosition,a=this._tempEndPosition,i=this._tempCornerPosition,s=this.view.spatialReference,c=this._sphericalPCPF,o=Object(m.b)(s,c)?c:s;Object(m.o)(e,r,o),Object(m.o)(t,a,o),Object(m.o)(n,i,o);const u=Object(l.n)(r,a),d=Object(l.n)(i,a),h=Math.abs(t.z-e.z),f=e=>this._unitNormalizer.normalizeDistance(e),p=f(u),M=f(d),b=f(h);return{direct:new g.a(p,"meters"),horizontal:new g.a(M,"meters"),vertical:new g.a(b,"meters")}}_exactGeodesicDistanceAndAngle(e,t,n){const r=e.spatialReference,a=new o.a({paths:[e,t],spatialReference:r}),i=r.isGeographic&&Object(M.g)(r)?Object(M.e)([a],"meters")[0]:r.isWebMercator?Object(b.geodesicLength)(a,"meters"):void 0,{distance:s,angle:c}=i?{distance:i,angle:this._fallbackGeodesicAngle(i,r)}:this._fallbackGeodesicDistance(e,t,n);return{distance:new g.a(s,"meters"),angle:new g.a(c,"degrees")}}_fallbackGeodesicAngle(e,t){return e/Object(f.e)(t).metersPerDegree}_fallbackGeodesicDistance(e,t,n){if(Object(m.p)(e,A)){Object(m.p)(t,j);const e=Object(u.f)(A[0]),n=Object(u.f)(A[1]),r=Object(u.f)(j[0]),a=Object(u.f)(j[1]),i=Math.abs(r-e),s=Object(u.b)(Math.sin(n)*Math.sin(a)+Math.cos(n)*Math.cos(a)*Math.cos(i)),c=Object(u.q)(s),o={distance:0};return Object(M.f)(o,[A[0],A[1]],[j[0],j[1]]),{distance:o.distance,angle:c}}{const t=e.spatialReference,r=n;return{distance:r,angle:this._fallbackGeodesicAngle(r,t)}}}};Object(r.a)([Object(i.b)()],w.prototype,"view",void 0),Object(r.a)([Object(i.b)()],w.prototype,"dataObject",void 0),w=Object(r.a)([Object(s.a)("esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DController")],w);const A=Object(d.e)(),j=Object(d.e)()},574:function(e,t,n){"use strict";n.r(t),n.d(t,"hydratedAdapter",(function(){return o}));var r=n(158),a=n(148),i=n(230),s=n(173),c=n(175);const o={convertToGEGeometry:function(e,t){if(null==t)return null;let n="cache"in t?t.cache._geVersion:void 0;return null==n&&(n=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=n)),n},exportPoint:function(e,t,n){const a=e.hasZ(t),i=e.hasM(t),s=new r.a({x:e.getPointX(t),y:e.getPointY(t),spatialReference:n});return a&&(s.z=e.getPointZ(t)),i&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,n){const r=new s.a({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportPolyline:function(e,t,n){const r=new c.a({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:n});return r.cache._geVersion=t,r},exportMultipoint:function(e,t,n){const r=new i.a({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:n});return r.cache._geVersion=t,r},exportExtent:function(e,t,n){const r=e.hasZ(t),i=e.hasM(t),s=new a.a({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:n});if(r){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(i){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}}},608:function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return x})),n.d(t,"clip",(function(){return c})),n.d(t,"contains",(function(){return u})),n.d(t,"convexHull",(function(){return A})),n.d(t,"crosses",(function(){return d})),n.d(t,"cut",(function(){return o})),n.d(t,"densify",(function(){return k})),n.d(t,"difference",(function(){return j})),n.d(t,"disjoint",(function(){return g})),n.d(t,"distance",(function(){return l})),n.d(t,"equals",(function(){return h})),n.d(t,"extendedSpatialReferenceInfo",(function(){return s})),n.d(t,"flipHorizontal",(function(){return S})),n.d(t,"flipVertical",(function(){return G})),n.d(t,"generalize",(function(){return V})),n.d(t,"geodesicArea",(function(){return C})),n.d(t,"geodesicBuffer",(function(){return z})),n.d(t,"geodesicDensify",(function(){return U})),n.d(t,"geodesicLength",(function(){return L})),n.d(t,"intersect",(function(){return v})),n.d(t,"intersects",(function(){return f})),n.d(t,"isSimple",(function(){return y})),n.d(t,"nearestCoordinate",(function(){return P})),n.d(t,"nearestVertex",(function(){return D})),n.d(t,"nearestVertices",(function(){return E})),n.d(t,"offset",(function(){return R})),n.d(t,"overlaps",(function(){return M})),n.d(t,"planarArea",(function(){return Z})),n.d(t,"planarLength",(function(){return I})),n.d(t,"relate",(function(){return b})),n.d(t,"rotate",(function(){return N})),n.d(t,"simplify",(function(){return w})),n.d(t,"symmetricDifference",(function(){return O})),n.d(t,"touches",(function(){return p})),n.d(t,"union",(function(){return _})),n.d(t,"within",(function(){return m}));var r=n(609),a=n(574);function i(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function s(e){return r.a.extendedSpatialReferenceInfo(e)}function c(e,t){return r.a.clip(a.hydratedAdapter,i(e),e,t)}function o(e,t){return r.a.cut(a.hydratedAdapter,i(e),e,t)}function u(e,t){return r.a.contains(a.hydratedAdapter,i(e),e,t)}function d(e,t){return r.a.crosses(a.hydratedAdapter,i(e),e,t)}function l(e,t,n){return r.a.distance(a.hydratedAdapter,i(e),e,t,n)}function h(e,t){return r.a.equals(a.hydratedAdapter,i(e),e,t)}function f(e,t){return r.a.intersects(a.hydratedAdapter,i(e),e,t)}function p(e,t){return r.a.touches(a.hydratedAdapter,i(e),e,t)}function m(e,t){return r.a.within(a.hydratedAdapter,i(e),e,t)}function g(e,t){return r.a.disjoint(a.hydratedAdapter,i(e),e,t)}function M(e,t){return r.a.overlaps(a.hydratedAdapter,i(e),e,t)}function b(e,t,n){return r.a.relate(a.hydratedAdapter,i(e),e,t,n)}function y(e){return r.a.isSimple(a.hydratedAdapter,i(e),e)}function w(e){return r.a.simplify(a.hydratedAdapter,i(e),e)}function A(e,t=!1){return r.a.convexHull(a.hydratedAdapter,i(e),e,t)}function j(e,t){return r.a.difference(a.hydratedAdapter,i(e),e,t)}function O(e,t){return r.a.symmetricDifference(a.hydratedAdapter,i(e),e,t)}function v(e,t){return r.a.intersect(a.hydratedAdapter,i(e),e,t)}function _(e,t=null){return r.a.union(a.hydratedAdapter,i(e),e,t)}function R(e,t,n,s,c,o){return r.a.offset(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function x(e,t,n,s=!1){return r.a.buffer(a.hydratedAdapter,i(e),e,t,n,s)}function z(e,t,n,s,c,o){return r.a.geodesicBuffer(a.hydratedAdapter,i(e),e,t,n,s,c,o)}function P(e,t,n=!0){return r.a.nearestCoordinate(a.hydratedAdapter,i(e),e,t,n)}function D(e,t){return r.a.nearestVertex(a.hydratedAdapter,i(e),e,t)}function E(e,t,n,s){return r.a.nearestVertices(a.hydratedAdapter,i(e),e,t,n,s)}function q(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function N(e,t,n){var a;if(null==e)throw new Error("Illegal Argument Exception");const i=e.spatialReference;if(null==(n=null!=(a=n)?a:q(e)))throw new Error("Illegal Argument Exception");const s=e.constructor.fromJSON(r.a.rotate(e,t,n));return s.spatialReference=i,s}function S(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");const a=e.spatialReference;if(null==(t=null!=(n=t)?n:q(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.a.flipHorizontal(e,t));return i.spatialReference=a,i}function G(e,t){var n;if(null==e)throw new Error("Illegal Argument Exception");const a=e.spatialReference;if(null==(t=null!=(n=t)?n:q(e)))throw new Error("Illegal Argument Exception");const i=e.constructor.fromJSON(r.a.flipVertical(e,t));return i.spatialReference=a,i}function V(e,t,n,s){return r.a.generalize(a.hydratedAdapter,i(e),e,t,n,s)}function k(e,t,n){return r.a.densify(a.hydratedAdapter,i(e),e,t,n)}function U(e,t,n,s=0){return r.a.geodesicDensify(a.hydratedAdapter,i(e),e,t,n,s)}function Z(e,t){return r.a.planarArea(a.hydratedAdapter,i(e),e,t)}function I(e,t){return r.a.planarLength(a.hydratedAdapter,i(e),e,t)}function C(e,t,n){return r.a.geodesicArea(a.hydratedAdapter,i(e),e,t,n)}function L(e,t,n){return r.a.geodesicLength(a.hydratedAdapter,i(e),e,t,n)}},620:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return h}));var r=n(139),a=n(144),i=(n(158),n(173)),s=n(175),c=(n(149),n(162)),o=n(546);function u(e){if(!e)return null;if(e.isGeographic&&e.wkid){const t=o.c[e.wkid];if(t)return t}if(e.wkt){const t=o.a.exec(e.wkt);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const r=parseFloat(n[1]),a=parseFloat(n[2]);return isNaN(r)||isNaN(a)?null:{a:r,f:0===a?0:1/a}}return null}function d(e){const t=u(e||a.a.WGS84);if(function(e){return"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function l(e,t,n){const{a:r,eSq:a}=d(n),i=Math.sqrt(a),s=Math.sin(t[1]*o.d),c=r*t[0]*o.d;let u;return u=a>0?r*((1-a)*(s/(1-a*(s*s))-1/(2*i)*Math.log((1-i*s)/(1+i*s))))*.5:r*s,e[0]=c,e[1]=u,e}function h(e){return null!==u(e)}function f(e,t="square-meters"){if(e.some((e=>!h(e.spatialReference))))throw new r.a("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let r=0;r<e.length;r++){const t=e[r],a=t.spatialReference,{radius:i,densificationRatio:s}=d(a),c=i*s;n.push(m(t,c))}const a=[],i=[0,0],s=[0,0];for(let r=0;r<n.length;r++){const{rings:e,spatialReference:o}=n[r];let u=0;for(let t=0;t<e.length;t++){const n=e[t];l(i,n[0],o),l(s,n[n.length-1],o);let r=s[0]*i[1]-i[0]*s[1];for(let e=0;e<n.length-1;e++)l(i,n[e+1],o),l(s,n[e],o),r+=s[0]*i[1]-i[0]*s[1];u+=r}u=Object(c.c)(u,"square-meters",t),a.push(u/-2)}return a}function p(e,t="meters"){const n=e,a=e;if(!n&&!a)throw new r.a("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(n?n.some((e=>!h(e.spatialReference))):a.some((e=>!h(e.spatialReference))))throw new r.a("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let r=0;r<e.length;r++){const n=e[r],{spatialReference:a}=n,s="polyline"===n.type?n.paths:n.rings;let o=0;for(let e=0;e<s.length;e++){const t=s[e];let n=0;for(let e=1;e<t.length;e++){const r=t[e-1][0],i=t[e][0],s=t[e-1][1],c=t[e][1];if(s!==c||r!==i){const e={distance:null};M(e,[r,s],[i,c],a),n+=e.distance}}o+=n}o=Object(c.c)(o,"meters",t),i.push(o)}return i}function m(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new r.a("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!h(n))throw new r.a("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const a="polyline"===e.type?e.paths:e.rings,c=[],o=[0,0],u={distance:null};for(const r of a){const e=[];c.push(e),e.push([r[0][0],r[0][1]]);let a,i,s=r[0][0],d=r[0][1];for(let c=0;c<r.length-1;c++){if(a=r[c+1][0],i=r[c+1][1],s===a&&d===i)continue;const l=[s,d];M(u,[s,d],[a,i],n);const{azimuth:h,distance:f}=u,p=f/t;if(p>1){for(let r=1;r<=p-1;r++)g(o,l,h,r*t,n),e.push(o.slice(0));g(o,l,h,(f+Math.floor(p-1)*t)/2,n),e.push(o.slice(0))}g(o,l,h,f,n),e.push(o.slice(0)),s=o[0],d=o[1]}}return"polyline"===e.type?new s.a({paths:c,spatialReference:n}):new i.a({rings:c,spatialReference:n})}function g(e,t,n,r,a){const i=t[0],s=t[1],c=i*o.d,u=s*o.d,l=n*o.d,{a:h,b:f,f:p}=d(a),m=Math.sin(l),g=Math.cos(l),M=(1-p)*Math.tan(u),b=1/Math.sqrt(1+M*M),y=M*b,w=Math.atan2(M,g),A=b*m,j=A*A,O=1-j,v=O*(h*h-f*f)/(f*f),_=1+v/16384*(4096+v*(v*(320-175*v)-768)),R=v/1024*(256+v*(v*(74-47*v)-128));let x,z,P,D,E=r/(f*_),q=2*Math.PI;for(;Math.abs(E-q)>1e-12;)P=Math.cos(2*w+E),x=Math.sin(E),z=Math.cos(E),D=R*x*(P+R/4*(z*(2*P*P-1)-R/6*P*(4*x*x-3)*(4*P*P-3))),q=E,E=r/(f*_)+D;const N=y*x-b*z*g,S=Math.atan2(y*z+b*x*g,(1-p)*Math.sqrt(j+N*N)),G=Math.atan2(x*m,b*z-y*x*g),V=p/16*O*(4+p*(4-3*O)),k=S/o.d,U=(c+(G-(1-V)*p*A*(E+V*x*(P+V*z*(2*P*P-1)))))/o.d;return e[0]=U,e[1]=k,e}function M(e,t,n,r){const a=t[0]*o.d,i=t[1]*o.d,s=n[0]*o.d,c=n[1]*o.d,{a:u,b:l,f:h,radius:f}=d(r),p=s-a,m=Math.atan((1-h)*Math.tan(i)),g=Math.atan((1-h)*Math.tan(c)),M=Math.sin(m),b=Math.cos(m),y=Math.sin(g),w=Math.cos(g);let A,j,O,v,_,R,x,z,P,D,E=1e3,q=p;do{if(x=Math.sin(q),z=Math.cos(q),O=Math.sqrt(w*x*(w*x)+(b*y-M*w*z)*(b*y-M*w*z)),0===O)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;_=M*y+b*w*z,R=Math.atan2(O,_),P=b*w*x/O,j=1-P*P,v=_-2*M*y/j,isNaN(v)&&(v=0),D=h/16*j*(4+h*(4-3*j)),A=q,q=p+(1-D)*h*P*(R+D*O*(v+D*_*(2*v*v-1)))}while(Math.abs(q-A)>1e-12&&--E>0);if(0===E){const t=f,n=Math.acos(Math.sin(i)*Math.sin(c)+Math.cos(i)*Math.cos(c)*Math.cos(s-a))*t,r=s-a,u=Math.sin(r)*Math.cos(c),d=Math.cos(i)*Math.sin(c)-Math.sin(i)*Math.cos(c)*Math.cos(r),l=Math.atan2(u,d);return e.azimuth=l/o.d,e.distance=n,e.reverseAzimuth=void 0,e}const N=j*(u*u-l*l)/(l*l),S=N/1024*(256+N*(N*(74-47*N)-128)),G=l*(1+N/16384*(4096+N*(N*(320-175*N)-768)))*(R-S*O*(v+S/4*(_*(2*v*v-1)-S/6*v*(4*O*O-3)*(4*v*v-3)))),V=Math.atan2(w*Math.sin(q),b*y-M*w*Math.cos(q)),k=Math.atan2(b*Math.sin(q),b*y*Math.cos(q)-M*w);return e.azimuth=V/o.d,e.distance=G,e.reverseAzimuth=k/o.d,e}function b(e,t,n="meters"){if(!e||!t)throw new r.a("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!e.spatialReference||!t.spatialReference)throw new r.a("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!e.spatialReference.equals(t.spatialReference))throw new r.a("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:a}=e;if(!h(a))throw new r.a("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(e.equals(t))return{distance:0,azimuth:0,reverseAzimuth:0};const i={distance:null};return M(i,[e.x,e.y],[t.x,t.y],a),i.distance=Object(c.c)(i.distance,"meters",n),i}},946:function(e,t,n){"use strict";var r=n(162);class a{constructor(e,t){this.measure=Object(r.o)(t),this.value=e,this.unit=t}get isBaseUnit(){return Object(r.k)(this.unit)}toUnit(e){return new a(Object(r.c)(this.value,this.unit,e),e)}toBaseUnit(){return this.toUnit(Object(r.b)(this.unit))}}t.a=a}}]);
//# sourceMappingURL=138.be8f909d.chunk.js.map