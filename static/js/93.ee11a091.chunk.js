(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[93,26,29,283],{104:function(e,t,r){"use strict";function n(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function o(e,t,r){return[e,t,r]}function a(e){for(var t=[0,0,0],r=Math.min(3,e.length),n=0;n<r;++n)t[n]=e[n];return t}function s(e,t){return new Float64Array(e,t,3)}function c(){return[0,0,0]}function u(){return o(1,1,1)}function l(){return o(1,0,0)}function d(){return o(0,1,0)}function p(){return o(0,0,1)}r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return o}));var f=[0,0,0],h=u(),v=l(),g=d(),m=p();Object.freeze({__proto__:null,create:n,clone:i,fromValues:o,fromArray:a,createView:s,zeros:c,ones:u,unitX:l,unitY:d,unitZ:p,ZEROS:f,ONES:h,UNIT_X:v,UNIT_Y:g,UNIT_Z:m})},108:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return _})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return v})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return y})),r.d(t,"m",(function(){return a}));r(92);var n=r(165),i=r(94);function o(e,t,r,n,i){var o=e.watch(t,((t,i,o,a)=>{r&&!r(t)||null==n||n.call(e,t,i,o,a)}),i);if(Array.isArray(t))for(var a of t){var s=e.get(a);r&&r(s)&&(null==n||n.call(e,s,s,t,e))}else{var c=e.get(t);r&&r(c)&&(null==n||n.call(e,c,c,t,e))}return o}function a(e,t,r,n,a){var s="function"==typeof n?n:null,c="object"==typeof n?n:null;"boolean"==typeof n&&(a=n);var u,l=!1;function d(){u&&(u.remove(),u=null)}var p=Object(i.f)();Object(i.p)(c,(()=>{d(),p.reject(Object(i.e)())}));var f={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:d};return Object.freeze(f),u=o(e,t,r,((t,r,n,i)=>{l=!0,d(),s&&s.call(e,t,r,n,i),p.resolve({value:t,oldValue:r,propertyName:n,target:i})}),a),l&&d(),f}function s(e){return!!e}function c(e){return!e}function u(e){return!0===e}function l(e){return!1===e}var d=/\?(\.|$)/g;function p(e,t,r,n){var i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=f(e,t,r,n);for(var a of i){var s=a.trim().replace(d,"$1"),c=e.get(s);r.call(e,c,c,s,e)}return o}function f(e,t,r,n){return e.watch(t,r,n)}function h(e,t,r,n){return o(e,t,s,r,n)}function v(e,t,r,n){return a(e,t,s,r,n)}function g(e,t,r,n){return o(e,t,c,r,n)}function m(e,t,r,n){return a(e,t,c,r,n)}function b(e,t,r,n){return o(e,t,u,r,n)}function y(e,t,r,n){return a(e,t,u,r,n)}function w(e,t,r,n){return o(e,t,l,r,n)}function _(e,t,r,n){return a(e,t,l,r,n)}function O(e,t,r,n){var i=!1,o=e.watch(t,((t,n,o,a)=>{i||r.call(e,t,n,o,a)}),n);return{remove(){o.remove()},pause(){i=!0},resume(){i=!1}}}function j(e,t,r,i,o,a,s){var c={};function u(t){var n=c[t];n&&(a&&a(n.target,t,e,r),n.handle.remove(),delete c[t])}var l=p(e,t,((t,a,s)=>{u(s),Object(n.b)(t)&&(c[s]={handle:Object(n.c)(t,r,i),target:t},o&&o(t,s,e,r))}),s);return{remove(){for(var e in l.remove(),c)u(e)}}}},1080:function(e,t,r){"use strict";r.r(t),r.d(t,"create",(function(){return c})),r.d(t,"projectGeometry",(function(){return l}));var n=r(7),i=r(159),o=r(93),a=r(252),s=r(545);function c(){return u.apply(this,arguments)}function u(){return(u=Object(n.a)((function*(e=null,t){if(i.a.geometryServiceUrl)return new(0,(yield r.e(25).then(r.bind(null,921))).default)({url:i.a.geometryServiceUrl});if(!e)throw new o.a("internal:geometry-service-url-not-configured");var n;if(n="portal"in e?e.portal||a.a.getDefault():e,yield n.load({signal:t}),n.helperServices&&n.helperServices.geometry&&n.helperServices.geometry.url)return new(0,(yield r.e(25).then(r.bind(null,921))).default)({url:n.helperServices.geometry.url});throw new o.a("internal:geometry-service-url-not-configured")}))).apply(this,arguments)}function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(n.a)((function*(e,t,r=null,n){var i=yield c(r,n),a=new s.a;a.geometries=[e],a.outSpatialReference=t;var u=yield i.project(a,{signal:n});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new o.a("internal:geometry-service-projection-failed")}))).apply(this,arguments)}},1108:function(e,t,r){},111:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return S})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return _})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return a})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return O})),r.d(t,"m",(function(){return F})),r.d(t,"n",(function(){return h})),r.d(t,"o",(function(){return o})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return b})),r.d(t,"r",(function(){return g})),r.d(t,"s",(function(){return m})),r.d(t,"t",(function(){return x})),r.d(t,"u",(function(){return M})),r.d(t,"v",(function(){return s})),r.d(t,"w",(function(){return j})),r.d(t,"x",(function(){return N})),r.d(t,"y",(function(){return I})),r.d(t,"z",(function(){return E}));var n=r(104),i=r(184);function o(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function c(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function u(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function d(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function f(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function h(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function v(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function g(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function m(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function b(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function w(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],c=r[2];return e[0]=i*c-o*s,e[1]=o*a-n*c,e[2]=n*s-i*a,e}function _(e,t,r,n){var i=t[0],o=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function O(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12],e[1]=r[1]*n+r[5]*i+r[9]*o+r[13],e[2]=r[2]*n+r[6]*i+r[10]*o+r[14],e}function j(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function x(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],c=t[1],u=t[2],l=i*u-o*c,d=o*s-n*u,p=n*c-i*s,f=i*p-o*d,h=o*l-n*p,v=n*d-i*l,g=2*a;return l*=g,d*=g,p*=g,f*=2,h*=2,v*=2,e[0]=s+l+f,e[1]=c+d+h,e[2]=u+p+v,e}function S(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}var k=Object(n.e)(),C=Object(n.e)();function P(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var M=u,A=l,T=d,E=h,I=v,F=o,N=g;Object.freeze({__proto__:null,length:o,copy:a,set:s,add:c,subtract:u,multiply:l,divide:d,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:p,scaleAndAdd:f,distance:h,squaredDistance:v,squaredLength:g,negate:m,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:b,dot:y,cross:w,lerp:_,hermite:function(e,t,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,c=a*(o-2)+o,u=a*(o-1),l=a*(3-2*o);return e[0]=t[0]*s+r[0]*c+n[0]*u+i[0]*l,e[1]=t[1]*s+r[1]*c+n[1]*u+i[1]*l,e[2]=t[2]*s+r[2]*c+n[2]*u+i[2]*l,e},bezier:function(e,t,r,n,i,o){var a=1-o,s=a*a,c=o*o,u=s*a,l=3*o*s,d=3*c*a,p=c*o;return e[0]=t[0]*u+r[0]*l+n[0]*d+i[0]*p,e[1]=t[1]*u+r[1]*l+n[1]*d+i[1]*p,e[2]=t[2]*u+r[2]*l+n[2]*d+i[2]*p,e},random:function(e,t){t=t||1;var r=2*Object(i.b)()*Math.PI,n=2*Object(i.b)()-1,o=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=n*t,e},transformMat4:O,transformMat3:j,transformQuat:x,rotateX:function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},rotateY:function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},rotateZ:S,angle:function(e,t){a(k,e),a(C,t),b(k,k),b(C,C);var r=y(k,C);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:P,equals:function(e,t){var r=e[0],n=e[1],o=e[2],a=t[0],s=t[1],c=t[2];return Math.abs(r-a)<=i.a*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=i.a*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-c)<=i.a*Math.max(1,Math.abs(o),Math.abs(c))},sub:M,mul:A,div:T,dist:E,sqrDist:I,len:F,sqrLen:N})},114:function(e,t,r){"use strict";r.d(t,"a",(function(){return we})),r.d(t,"b",(function(){return xe})),r.d(t,"c",(function(){return Oe})),r.d(t,"d",(function(){return Me})),r.d(t,"e",(function(){return Ae})),r.d(t,"f",(function(){return _e})),r.d(t,"g",(function(){return Pe})),r.d(t,"h",(function(){return Ce})),r.d(t,"i",(function(){return je}));r(80);var n=r(81),i=r(315);var o,a,s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,d=u.call(Object),p=c.toString,f=(o=Object.getPrototypeOf,a=Object,function(e){return o(a(e))});var h=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=p.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e))return!1;var t=f(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==d};function v(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},r.exports),r.exports}function g(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var m=/javascript\s*\:/gim;var b={whiteList:g(),getDefaultWhiteList:g,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return m.test(t)?"":t}},y=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},w=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var _=function(e,t){";"!==(e=w(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,o=0,a="";function s(){if(!n){var r=y(e.slice(i,o)),s=r.indexOf(":");if(-1!==s){var c=y(r.slice(0,s)),u=y(r.slice(s+1));if(c){var l=t(i,a.length,c,u,r);l&&(a+=l+"; ")}}}i=o+1}for(;o<r;o++){var c=e[o];if("/"===c&&"*"===e[o+1]){var u=e.indexOf("*/",o+2);if(-1===u)break;i=(o=u+1)+1,n=!1}else"("===c?n=!0:")"===c?n=!1:";"===c?n||s():"\n"===c&&s()}return y(a)};function O(e){return void 0===e||null===e}function j(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||b.whiteList,e.onAttr=e.onAttr||b.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||b.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||b.safeAttrValue,this.options=e}j.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,o=t.safeAttrValue;return _(e,(function(e,t,a,s,c){var u=r[a],l=!1;if(!0===u?l=u:"function"===typeof u?l=u(s):u instanceof RegExp&&(l=u.test(s)),!0!==l&&(l=!1),s=o(a,s)){var d,p={position:t,sourcePosition:e,source:c,isWhite:l};return l?O(d=n(a,s,p))?a+":"+s:d:O(d=i(a,s,p))?void 0:d}}))};var x=j,S=v((function(e,t){for(var r in(t=e.exports=function(e,t){return new x(t).process(e)}).FilterCSS=x,b)t[r]=b[r]})),k=function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},C=function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},P=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},M=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},A=S.FilterCSS,T=S.getDefaultWhiteList;function E(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var I=new A;function F(e){return e.replace(N,"&lt;").replace(L,"&gt;")}var N=/</g,L=/>/g,U=/"/g,R=/&quot;/g,D=/&#([a-zA-Z0-9]*);?/gim,V=/&colon;?/gim,q=/&newline;?/gim,G=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,B=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,W=/u\s*r\s*l\s*\(.*/gi;function z(e){return e.replace(U,"&quot;")}function Y(e){return e.replace(R,'"')}function H(e){return e.replace(D,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function X(e){return e.replace(V,":").replace(q," ")}function $(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return P(t)}function J(e){return e=$(e=X(e=H(e=Y(e))))}function Z(e){return e=F(e=z(e))}var K=/<!--[\s\S]*?-->/g;var Q={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:E,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:function(e,t,r,n){if(r=J(r),"href"===t||"src"===t){if("#"===(r=P(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(G.lastIndex=0,G.test(r))return""}else if("style"===t){if(B.lastIndex=0,B.test(r))return"";if(W.lastIndex=0,W.test(r)&&(G.lastIndex=0,G.test(r)))return"";!1!==n&&(r=(n=n||I).process(r))}return r=Z(r)},escapeHtml:F,escapeQuote:z,unescapeQuote:Y,escapeHtmlEntities:H,escapeDangerHtml5Entities:X,clearNonPrintableCharacter:$,friendlyAttrValue:J,escapeAttrValue:Z,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(o,a,s){if(function(t){return!!r||-1!==k(e,t)}(o)){if(s.isClosing){var c="[/removed]",u=s.position+c.length;return n.push([!1!==i?i:s.position,u]),i=!1,c}return i||(i=s.position),"[removed]"}return t(o,a,s)},remove:function(e){var t="",r=0;return C(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},stripCommentTag:function(e){return e.replace(K,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:I,getDefaultCSSWhiteList:T};function ee(e){var t=M(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=P(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function te(e){return"</"===e.slice(0,2)}var re=/[^a-zA-Z0-9_:\.\-]/gim;function ne(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ie(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function oe(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var ae={parseTag:function(e,t,r){var n="",i=0,o=!1,a=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){n+=r(e.slice(i,s)),o=s,i=s;continue}if(">"===d){n+=r(e.slice(i,o)),u=ee(l=e.slice(o,s+1)),n+=t(o,n.length,u,l,te(l)),i=s+1,o=!1;continue}if('"'===d||"'"===d)for(var p=1,f=e.charAt(s-p);" "===f||"="===f;){if("="===f){a=d;continue e}f=e.charAt(s-++p)}}else if(d===a){a=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n},parseAttr:function(e,t){var r=0,n=[],i=!1,o=e.length;function a(e,r){if(!((e=(e=P(e)).replace(re,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&n.push(i)}}for(var s=0;s<o;s++){var c,u=e.charAt(s);if(!1!==i||"="!==u)if(!1===i||s!==r||'"'!==u&&"'"!==u||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=ne(e,s))){a(P(e.slice(r,s))),i=!1,r=s+1;continue}s=c-1;continue}if(-1===(c=ie(e,s-1))){a(i,oe(P(e.slice(r,s)))),i=!1,r=s+1;continue}}else;else{if(-1===(c=e.indexOf(u,s+1)))break;a(i,P(e.slice(r+1,c))),i=!1,r=(s=c)+1}else i=e.slice(r,s),r=s+1}return r<e.length&&(!1===i?a(e.slice(r)):a(i,oe(P(e.slice(r))))),P(n.join(" "))}},se=S.FilterCSS,ce=ae.parseTag,ue=ae.parseAttr;function le(e){return void 0===e||null===e}function de(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Q.onIgnoreTagStripAll),e.whiteList=e.whiteList||Q.whiteList,e.onTag=e.onTag||Q.onTag,e.onTagAttr=e.onTagAttr||Q.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Q.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Q.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Q.safeAttrValue,e.escapeHtml=e.escapeHtml||Q.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new se(e.css))}de.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,o=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=Q.stripBlankChar(e)),t.allowCommentTag||(e=Q.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=Q.StripTagBody(t.stripIgnoreTagBody,i);i=l.onIgnoreTag}var d=ce(e,(function(e,t,l,d,p){var f,h={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(l)};if(!le(f=n(l,d,h)))return f;if(h.isWhite){if(h.isClosing)return"</"+l+">";var v=function(e){var t=M(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=P(e.slice(t+1,-1)))[e.length-1];return r&&(e=P(e.slice(0,-1))),{html:e,closing:r}}(d),g=r[l],m=ue(v.html,(function(e,t){var r,n=-1!==k(g,e);return le(r=o(l,e,t,n))?n?(t=s(l,e,t,u))?e+'="'+t+'"':e:le(r=a(l,e,t,n))?void 0:r:r}));d="<"+l;return m&&(d+=" "+m),v.closing&&(d+=" /"),d+=">"}return le(f=i(l,d,h))?c(d):f}),c);return l&&(d=l.remove(d)),d};var pe,fe,he=de,ve=v((function(e,t){function r(e,t){return new he(t).process(e)}for(var n in(t=e.exports=r).filterXSS=r,t.FilterXSS=he,Q)t[n]=Q[n];for(var n in ae)t[n]=ae[n];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),ge=function(){function e(e,t){var r,n=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,i){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(r):ve.safeAttrValue(e,t,r,i)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new ve.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&"undefined"===typeof e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?ve.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,r,n){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,n):ve.safeAttrValue(e,t,r,n)},e.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var n=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var o=r.validate(i,t);return o.isValid?e.concat([i]):(n=!0,e.concat([o.sanitized]))}),[]);else{if(!h(e)){if(t.allowUndefined&&"undefined"===typeof e)return;return null}i=Object.keys(e).reduce((function(i,o){var a=e[o],s=r.validate(a,t);return s.isValid?i[o]=a:(n=!0,i[o]=s.sanitized),i}),{})}return n?i:e}catch(o){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),me=function(e){pe||function(e){if("WebkitTransition"in e.style)pe="webkitTransitionEnd",fe="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");pe="transitionend",fe="animationend"}}(e)},be=function(e,t){return void 0===t&&(t=e+"-active"),function(r){me(r);var n=!1,i=function(o){n||(n=!0,r.removeEventListener(pe,i),r.removeEventListener(fe,i),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(pe,i),r.addEventListener(fe,i),requestAnimationFrame((function(){r.classList.add(t)}))}},ye=function(e,t){return void 0===t&&(t=e+"-active"),function(r,n){me(r);var i=!1,o=function(e){i||(i=!0,r.removeEventListener(pe,o),r.removeEventListener(fe,o),n())};r.classList.add(e),r.addEventListener(pe,o),r.addEventListener(fe,o),requestAnimationFrame((function(){r.classList.add(t)}))}};function we(e){for(var t=i.a.acquire(),r=0;r<arguments.length;r++){var n=arguments[r],o=typeof n;if("string"===o)t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if("object"===o)for(var a in n)n[a]&&t.push(a)}var s=t.join(" ");return i.a.release(t),s}function _e(){return"rtl"===document.dir}function Oe(e){this[e.getAttribute("data-node-ref")]=null}function je(e){this[e.getAttribute("data-node-ref")]=e}function xe(e,t){return("enter"===e?be:ye)(t)}n.a.getLogger("esri.widgets.support.widgetUtils");var Se=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),ke=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ce=new ge({whiteList:Se,onTagAttr:(e,t,r)=>{var n="".concat(t,'="').concat(r,'"');if(ke.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Pe(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.top+r.height,o=n.top+n.height,a=r.top,s=n.top;(i>o||a<s)&&e.scrollIntoView({block:"end"})}function Me(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function Ae(){return Me().startsWith("dark")}},115:function(e,t,r){"use strict";var n=r(82),i=r(89),o=r(85),a=r(84),s=r(97),c=r(107),u=class extends s.a{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){var e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!c.a.isCollection(e))return this;var r=this._getOrCreateGroup(t);return Array.isArray(e)||c.a.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||c.a.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(i.d)(this._groups.get(this._ensureGroupKey(e)))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};Object(n.a)([Object(o.b)({readOnly:!0})],u.prototype,"size",null);var l=u=Object(n.a)([Object(a.a)("esri.core.Handles")],u);t.a=l},117:function(e,t,r){"use strict";r.d(t,"a",(function(){return W})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return C})),r.d(t,"d",(function(){return q})),r.d(t,"e",(function(){return D})),r.d(t,"f",(function(){return R})),r.d(t,"g",(function(){return L})),r.d(t,"h",(function(){return V})),r.d(t,"i",(function(){return U})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return k})),r.d(t,"l",(function(){return j})),r.d(t,"m",(function(){return F})),r.d(t,"n",(function(){return z})),r.d(t,"o",(function(){return x})),r.d(t,"p",(function(){return _})),r.d(t,"q",(function(){return O})),r.d(t,"r",(function(){return I})),r.d(t,"s",(function(){return A})),r.d(t,"t",(function(){return T})),r.d(t,"u",(function(){return E})),r.d(t,"v",(function(){return P})),r.d(t,"w",(function(){return M})),r.d(t,"x",(function(){return N}));var n=r(91),i=(r(80),r(95)),o=r(257),a=r(112),s=r(99),c=r(139),u=r(173),l=39.37,d=c.a.radius*Math.PI/200,p=/UNIT\[([^\]]+)\]\]$/i,f=o.a,h=/UNIT\[([^\]]+)\]/i,v=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),g=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,b=e=>e*e*e,y={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*b(.001)},"cubic-centimeters":{inBaseUnits:1e3*b(.01)},"cubic-decimeters":{inBaseUnits:1e3*b(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*b(1e3)},"cubic-inches":{inBaseUnits:1e3*b(.0254)},"cubic-feet":{inBaseUnits:1e3*b(.3048)},"cubic-yards":{inBaseUnits:1e3*b(.9144)},"cubic-miles":{inBaseUnits:1e3*b(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=function(){var e={};for(var t in y)for(var r in y[t].units)e[r]=t;return e}();var _=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],O=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function j(e){return"imperial"===e||"metric"===e}function x(e){var t=w[e];if(t)return t;throw new Error("unknown measure")}function S(e){return function(e){return y[e].baseUnit}(x(e))}function k(e,t=null){return t=t||x(e),y[t].baseUnit===e}function C(e,t,r){if(t===r)return e;var n=x(t);if(n!==x(r))throw new Error("incompatible units");var i=k(t,n)?e:function(e,t,r){return e*y[r].units[t].inBaseUnits}(e,t,n);return k(r,n)?i:function(e,t,r){return e/y[r].units[t].inBaseUnits}(i,r,n)}function P(e,t){return C(e,t,"meters")<3e3?"meters":"kilometers"}function M(e,t){return C(e,t,"meters")<1e5?"meters":"kilometers"}function A(e,t){return C(e,t,"feet")<1e3?"feet":"miles"}function T(e,t){return C(e,t,"feet")<1e5?"feet":"miles"}function E(e,t){return C(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function I(e,t){return C(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function F(e,t,r){return C(e,t,"meters")/(r*Math.PI/180)}function N(e){return g.fromJSON(e.toLowerCase())||null}function L(e){if(e&&"object"==typeof e&&!Object(a.e)(e))return 1;var t=R(e);return t>1e5?1:t}function U(e){return R(e)>=(e instanceof s.a?Object(u.e)(e).metersPerDegree:1e5)?"meters":V(e)}function R(e,t=c.a.metersPerDegree){return D(e,!0)||t}function D(e,t=!1){var r,n,i=null;if(null!=e&&("object"==typeof e?(r=e.wkid,n=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(n=e)),r){if(Object(a.k)(r))return c.b.metersPerDegree;if(Object(a.l)(r))return c.c.metersPerDegree;!(i=f.values[f[r]])&&t&&v.has(r)&&(i=d)}else if(n)if(-1!==n.search(/^PROJCS/i)){var o=p.exec(n);o&&o[1]&&(i=parseFloat(o[1].split(",")[1]))}else if(-1!==n.search(/^GEOCCS/i)){var s=h.exec(n);s&&s[1]&&(i=parseFloat(s[1].split(",")[1]))}return i}function V(e){var t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=f.units[f[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var i=p.exec(r);i&&i[1]&&(n=(i=/[\\"\\']{1}([^\\"\\']+)/.exec(i[1]))&&i[1])}return n?N(n):null}function q(e){if(!e)return null;switch(V(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}var G={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},B={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},W=Object(i.b)()(G),z=Object(i.b)()(B);Object(i.b)()(Object(n.a)(Object(n.a)({},G),B))},118:function(e,t,r){"use strict";r.d(t,"a",(function(){return X})),r.d(t,"b",(function(){return $})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return S})),r.d(t,"e",(function(){return M})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return g})),r.d(t,"h",(function(){return T})),r.d(t,"i",(function(){return N})),r.d(t,"j",(function(){return ue})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return f})),r.d(t,"n",(function(){return j})),r.d(t,"o",(function(){return I})),r.d(t,"p",(function(){return F})),r.d(t,"q",(function(){return y})),r.d(t,"r",(function(){return D})),r.d(t,"s",(function(){return re})),r.d(t,"t",(function(){return w})),r.d(t,"u",(function(){return Q})),r.d(t,"v",(function(){return Z})),r.d(t,"w",(function(){return K})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return b})),r.d(t,"z",(function(){return te})),r.d(t,"A",(function(){return ce}));var n=r(7),i=r(124),o=r(89),a=r(93),s=r(149),c=r(152),u=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],l=["field","normalizationField"];function d(e,t){if(null!=e&&null!=t)for(var r of Array.isArray(e)?e:[e])if(p(u,r,t),"visualVariables"in r&&r.visualVariables)for(var n of r.visualVariables)p(l,n,t)}function p(e,t,r){if(e)for(var n of e){var o=Object(i.b)(n,t),a=o&&"function"!=typeof o&&y(r,o);a&&Object(i.c)(n,a.name,t)}}function f(e,t){if(null!=e&&null!=t)if("startField"in e){var r=y(t,e.startField),n=y(t,e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{var i=y(t,e.startTimeField),o=y(t,e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=o&&o.name||null}}var h=new Set;function v(e,t){return e&&t?(h.clear(),g(h,e,t),Array.from(h).sort()):[]}function g(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(var{name:n}of t)e.add(n);else for(var i of r)m(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(var o of r)e.add(o)}}function m(e,t,r){if(t&&t.length){var n=y(t,r);n&&e.add(n.name)}else"string"==typeof r&&e.add(r)}function b(e,t){return Object(o.j)(t)||Object(o.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function y(e,t){if("string"!=typeof t)return null;if(null!=e)for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return r;return null}function w(e,t){if(!e||!t||"string"!=typeof t)return!1;for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return!0;return!1}function _(e,t,r){return O.apply(this,arguments)}function O(){return(O=Object(n.a)((function*(e,t,r){if(r){var{arcadeUtils:n}=yield Object(c.e)(),i=n.extractFieldNames(r);for(var o of i)m(e,t,o)}}))).apply(this,arguments)}function j({displayField:e,fields:t}){return e||(t&&t.length?x(t,"name-or-title")||x(t,"unique-identifier")||x(t,"type-or-category")||function(e){for(var t of e)if(t&&t.name){var r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}(t):null)}function x(e,t){for(var r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function S(e,t){return k.apply(this,arguments)}function k(){return(k=Object(n.a)((function*(e,t){if(t){var{fields:r}=t,n=Object(i.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,r):void 0}}))).apply(this,arguments)}function C(e,t,r){return P.apply(this,arguments)}function P(){return(P=Object(n.a)((function*(e,t,r){r.outStatistic.onStatisticValueExpression?_(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}))).apply(this,arguments)}function M(e,t,r){return A.apply(this,arguments)}function A(){return(A=Object(n.a)((function*(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&(yield Promise.all(r.fields.map((r=>C(e,t.fields,r)))))}))).apply(this,arguments)}function T(e,t,r){return E.apply(this,arguments)}function E(){return(E=Object(n.a)((function*(e,t,n){if(t&&(t.timeInfo&&Object(o.k)(n)&&n.timeExtent&&g(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&g(e,t.fields,[t.floorInfo.floorField]),Object(o.k)(n)&&Object(o.k)(n.where)&&n.where&&"1=1"!==n.where)){var i=(yield Promise.all([r.e(11),r.e(273)]).then(r.bind(null,272))).WhereClause.create(n.where,t.fieldsIndex);if(!i.isStandardized)throw new a.a("fieldUtils:collectFilterFields","Where clause is not standardized");g(e,t.fields,i.fieldNames)}}))).apply(this,arguments)}function I(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?v(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function F(e){if(!e)return[];var t=e.geometryFieldsInfo;return t?v(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}function N(e,t){return L.apply(this,arguments)}function L(){return(L=Object(n.a)((function*(e,t){var{labelingInfo:r,fields:n}=t;r&&r.length&&(yield Promise.all(r.map((t=>U(e,n,t)))))}))).apply(this,arguments)}function U(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(n.a)((function*(e,t,r){if(r){var n=r.getLabelExpression(),i=r.where;if("arcade"===n.type)yield _(e,t,n.expression);else{var o=n.expression.match(/{[^}]*}/g);o&&o.forEach((r=>{m(e,t,r.slice(1,-1))}))}var a=/['"]+/g;if(i){var s=i.split(" ");3===s.length&&m(e,t,s[0].replace(a,"")),7===s.length&&(m(e,t,s[0].replace(a,"")),m(e,t,s[4].replace(a,"")))}}}))).apply(this,arguments)}function D(e){var t=e.defaultValue;return void 0!==t&&H(e,t)?t:e.nullable?null:void 0}function V(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function q(e){return null===e||V(e)}var G="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function B(e){return null===e||G(e)}function W(e){return null!=e&&"string"==typeof e}function z(e){return null===e||W(e)}function Y(){return!0}function H(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?B:G;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?q:V;break;case"string":case"esriFieldTypeString":r=e.nullable?z:W;break;default:r=Y}return 1===arguments.length?r:r(t)}var X,$,J=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function Z(e){return null!=e&&J.has(e.type)}function K(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Q(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:Z(e)&&!function(e,t){var r="string"==typeof e?ne(e):e;return!!r&&(r.isInteger?G(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?X.OUT_OF_RANGE:H(e,t)?e.domain?Object(s.e)(e.domain,t):null:$.INVALID_TYPE}function re(e){return Object(s.c)(e.domain)||(Z(e)?ne(e.type):void 0)}function ne(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ie;case"esriFieldTypeInteger":case"integer":return oe;case"esriFieldTypeSingle":case"single":return ae;case"esriFieldTypeDouble":case"double":return se}}(X||(X={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}($||($={}));var ie={min:-32768,max:32767,isInteger:!0},oe={min:-2147483648,max:2147483647,isInteger:!0},ae={min:-34e37,max:12e37,isInteger:!1},se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ce(e,t,r){switch(e){case s.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case s.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case $.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case X.OUT_OF_RANGE:var{min:n,max:i}=ne(t.type);return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(n," to ").concat(i)}}function ue(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(o.k)(r))for(var n of e)r.add(n);return!0}var i=t.attributes,a=!1;for(var s of e)if(!(s in i)){if(a=!0,!Object(o.k)(r))break;r.add(s)}return a}(e,t,null)}},121:function(e,t,r){"use strict";var n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(95),a=r(102),s=r(84),c=(r(83),r(86),r(87),r(90)),u=new o.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),l=class extends c.a{constructor(e){super(e),this.name=null,this.type=null}};Object(n.a)([Object(i.b)({type:String,json:{write:!0}})],l.prototype,"name",void 0),Object(n.a)([Object(a.a)(u)],l.prototype,"type",void 0);var d=l=Object(n.a)([Object(s.a)("esri.layers.support.Domain")],l);t.a=d},1229:function(e,t,r){"use strict";r.r(t),r.d(t,"Measure",(function(){return xt}));var n=r(1),i=r(7),o=r(82),a=(r(80),r(81)),s=(r(88),r(85)),c=r(145),u=r(84),l=(r(83),r(86),r(87),r(94)),d=r(114),p=r(163),f=r(129),h=r(154),v=r(97),g=r(117),m=r(828),b=class extends v.a{constructor(e){super(e),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(e){void 0!==e?this._override("areaUnit",e):this._clearOverride("areaUnit")}get linearUnit(){return this.defaultUnit}set linearUnit(e){void 0!==e?this._override("linearUnit",e):this._clearOverride("linearUnit")}get state(){var{activeViewModel:e}=this;return e?e.state:"disabled"}};Object(o.a)([Object(s.b)({type:["area","distance","direct-line"]})],b.prototype,"activeTool",void 0),Object(o.a)([Object(s.b)()],b.prototype,"activeViewModel",void 0),Object(o.a)([Object(s.b)({type:g.p})],b.prototype,"areaUnit",null),Object(o.a)([Object(s.b)(m.a)],b.prototype,"defaultUnit",void 0),Object(o.a)([Object(s.b)({type:g.q})],b.prototype,"linearUnit",null),Object(o.a)([Object(s.b)({readOnly:!0})],b.prototype,"state",null),Object(o.a)([Object(s.b)()],b.prototype,"view",void 0);var y=b=Object(o.a)([Object(u.a)("esri.widgets.Measurement.MeasurementViewModel")],b),w="esri-measurement",_="esri-icon-measure";var O=class extends h.a{constructor(e,t){super(e,t),this._widgets=new Map,this.activeTool=null,this.activeWidget=null,this.areaUnit=null,this.iconClass=_,this.label=void 0,this.linearUnit=null,this.messages=null,this.view=null,this.viewModel=new y}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then((e=>{this._set("activeWidget",e)})),this.own([this.watch(["view","activeTool"],(()=>{this._getActiveWidget().then((e=>{this._set("activeWidget",e)}))})),this.watch("activeWidget",((e,t)=>{this.viewModel.set("activeViewModel",e?e.viewModel:null),t&&(t.visible=!1)})),this.watch(["areaUnit","linearUnit"],(()=>this._updateWidgetUnits()))])}destroy(){this._destroyWidgets()}render(){var{activeWidget:e}=this,t=e&&!e.destroyed?e.render():null;return Object(f.a)("div",{class:w},t)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){var{activeViewModel:e}=this.viewModel;e&&Object(l.l)(e.start())}_createWidget(e){var t=this;return Object(i.a)((function*(){var{areaUnit:n,linearUnit:i,view:o}=t;switch(e){case"area":var{type:a}=o;switch(a){case"2d":return new(0,(yield Promise.all([r.e(4),r.e(3),r.e(5),r.e(9),r.e(58)]).then(r.bind(null,1245))).default)({view:o,unit:n});case"3d":return new(0,(yield Promise.all([r.e(4),r.e(3),r.e(5),r.e(9),r.e(61)]).then(r.bind(null,1226))).default)({view:o,unit:n});default:return null}case"distance":return new(0,(yield Promise.all([r.e(4),r.e(3),r.e(5),r.e(9),r.e(59)]).then(r.bind(null,1246))).default)({view:o,unit:i});case"direct-line":return new(0,(yield Promise.all([r.e(4),r.e(3),r.e(5),r.e(12),r.e(64)]).then(r.bind(null,1232))).default)({view:o,unit:i});default:return null}}))()}_destroyWidgets(){this._widgets.forEach((e=>e.destroy())),this._widgets.clear()}_getActiveWidget(){var e=this;return Object(i.a)((function*(){var{activeTool:t,view:r}=e;if(!r||!t)return null;var n=null;if(e._widgets.has(t))(n=e._widgets.get(t)).visible=!0;else{if(!(n=yield e._createWidget(t)))return null;yield n.viewModel.start(),e._widgets.set(t,n)}return n}))()}_updateWidgetUnits(){this._widgets.forEach((e=>{var{areaUnit:t,linearUnit:r}=this;e.unit=function(e){return e&&("esri.widgets.AreaMeasurement2D"===e.declaredClass||"esri.widgets.AreaMeasurement3D"===e.declaredClass)}(e)?t:r}))}};Object(o.a)([Object(c.a)("viewModel.activeTool")],O.prototype,"activeTool",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],O.prototype,"activeWidget",void 0),Object(o.a)([Object(c.a)("viewModel.areaUnit")],O.prototype,"areaUnit",void 0),Object(o.a)([Object(s.b)()],O.prototype,"iconClass",void 0),Object(o.a)([Object(s.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],O.prototype,"label",void 0),Object(o.a)([Object(c.a)("viewModel.linearUnit")],O.prototype,"linearUnit",void 0),Object(o.a)([Object(s.b)(),Object(p.a)("esri/widgets/Measurement/t9n/Measurement")],O.prototype,"messages",void 0),Object(o.a)([Object(c.a)("viewModel.view")],O.prototype,"view",void 0),Object(o.a)([Object(s.b)({type:y})],O.prototype,"viewModel",void 0);var j=O=Object(o.a)([Object(u.a)("esri.widgets.Measurement")],O),x=r(91),S=r(158),k=r(116),C=r(165),P=r(261),M=class extends v.a{constructor(e){super(e),this.format=null,this.position={coordinate:null,location:null}}get displayCoordinate(){var e=this.get("format");return e&&e.getDisplayCoordinate(this.get("position.coordinate"))}};Object(o.a)([Object(s.b)({readOnly:!0})],M.prototype,"displayCoordinate",null),Object(o.a)([Object(s.b)()],M.prototype,"format",void 0),Object(o.a)([Object(s.b)()],M.prototype,"position",void 0);var A=M=Object(o.a)([Object(u.a)("esri.widgets.CoordinateConversion.support.Conversion")],M),T=r(93),E=r(113),I=r(131),F=r(107),N=r(148),L=r(206),U=r(162),R=(r(171),r(576)),D=r(123),V=r(115),q=r(108),G=r(223),B=r(501),W=r(1080),z=r(99),Y=r(161),H=(r(101),r(545)),X={utm:{conversionMode:"utmDefault",addSpaces:!0},usng:{numOfDigits:5,rounding:!1,addSpaces:!1},mgrs:{rounding:!1}},$=new Array(3);function J(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function Z(e){return"number"==typeof e&&isFinite(e)}function K(e){return e&&Z(e.x)&&Z(e.y)}function Q(e,t){if(e.spatialReference.isGeographic&&t){var[r,n]=function(e,t){var r=J(t);return[e[0].toFixed(r),e[1].toFixed(r)]}([e.x,e.y],t);return"".concat(r,", ").concat(n)}return"".concat(e.x.toFixed(3),", ").concat(e.y.toFixed(3))}function ee(e){return"dd"===e||"dms"===e||"ddm"===e||"mgrs"===e||"usng"===e||"utm"===e}var te=r(776),re=r(112),ne=r(626);function ie(e){var t=null;if(e||(e=z.a.WGS84),e.wkid){if(!(t=ne.f.geogcs(e.wkid)))throw new T.a("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt)throw new T.a("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(!(t=ne.f.fromString(ne.g.PE_TYPE_GEOGCS,e.wkt)))throw new T.a("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function oe(e){var t=-1;switch(e){case"automatic":t=ne.c.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=ne.c.PE_MGRS_STYLE_NEW|ne.c.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=ne.c.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=ne.c.PE_MGRS_STYLE_OLD|ne.c.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=ne.c.PE_MGRS_STYLE_OLD}return t}function ae(e){var t=-1;switch(e){case"latitude-band-indicators":t=ne.e.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=ne.e.PE_UTM_OPTS_NS}return t}var se=class extends v.a{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return this._get("currentPattern")||this._get("defaultPattern")}set currentPattern(e){this._set("currentPattern",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){var e=this.get("conversionInfo.spatialReference")||z.a.WGS84;return"basemap"===this.name?this._viewSpatialReference:e}set spatialReference(e){void 0===e&&this._clearOverride("spatialReference"),this._override("spatialReference",e)}get _viewSpatialReference(){return this.get("viewModel.view.spatialReference")||z.a.WGS84}get _additionalCharactersPattern(){var e=this.get("coordinateSegments");if(!e)return null;var t=e.map((e=>e.alias)),r=this.currentPattern.replace(new RegExp('["nsew'.concat(t.join(),"]"),"gi"),"").replace(/\ /g,"");return new RegExp("[".concat(r,"]"),"g")}convert(e,t){if(!K(e))return Promise.reject(new T.a("format:invalid-point","Could not convert invalid point.",{point:e}));var r=this.get("conversionInfo.convert");return r?Promise.resolve().then((()=>r(e))):this._project(e,this.spatialReference,t).then((e=>this._getCoordinate(e).then((t=>({location:e,coordinate:t})))))}getConversionStrategy(){var e=this._viewSpatialReference;return this.get("conversionInfo.convert")||this.get("viewModel.formatterAvailable")||"xy"===this.name&&(e.isWebMercator||e.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;for(var t=this.currentPattern,r=this._getSegmentMatches(e,!1),n=this.coordinateSegments.length-1;n>=0;n--){var i=this.coordinateSegments[n];t=t.replace(i.alias,r[n])}return t}parseUserInput(e){var t=this.defaultPattern.replace(this._additionalCharactersPattern,"");e=e.replace(this._additionalCharactersPattern,"");for(var r=this._getSegmentMatches(e,!0),n=this.coordinateSegments.length-1;n>=0;n--){var i=this.coordinateSegments[n];t=t.replace(i.alias,r[n])}return t}_getSegmentMatches(e,t){for(var r=[],n=0;n<this.coordinateSegments.length;n++){var i=this.coordinateSegments[n],o=e.match(i.searchPattern);if(o){var a=o[0];if(e=e.replace(a,"").trim(),i.substitution){var s=t?i.substitution.input(a):i.substitution.output(a);s&&(a=s)}r.push(a)}else r.push("")}return r}reverseConvert(e){var t,r=this.parseUserInput(e),n=this.get("conversionInfo.reverseConvert"),i=ee(this.name);if(n)t=n(r);else if("xy"===this.name||"basemap"===this.name)t=function(e,t){var r=e.indexOf(",")>=0?",":" ",[n,i,o]=e.split(r).map((e=>{var t=e.trim();return t?Number(t):null}));if(!Z(n)||!Z(i))return null;var a=new E.a({x:n,y:i,spatialReference:t||z.a.WGS84});return o&&(a.z=o,a.hasZ=!0),a}(r,this.spatialReference);else if(this.viewModel.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":t=function(e,t){var r=[];e=e.replace(/\u2032/g,"'");var n=ie(t);return ne.a.dms_to_geog(n,1,[e],r)?new E.a(r[0][0],r[0][1],t||z.a.WGS84):null}(r,this.spatialReference);break;case"mgrs":t=function(e,t,r){var n=[],i=oe(r);if(-1===i)return console.warn("invalid conversionMode: ".concat(r)),null;var o=ie(t);return ne.c.mgrs_to_geog_extended(o,1,[e],i,n)?new E.a(n[0][0],n[0][1],t||z.a.WGS84):null}(r,this.spatialReference,"automatic");break;case"utm":t=function(e,t,r){var n=[],i=ae(r);if(-1===i)return console.warn("invalid conversionMode: ".concat(r)),null;var o=ie(t);return ne.e.utm_to_geog(o,1,[e],i,n)?new E.a(n[0][0],n[0][1],t||z.a.WGS84):null}(r,this.spatialReference,"latitude-band-indicators");break;case"usng":t=function(e,t){var r=[];!t&&/\(.+27/.test(e)&&(t=z.a.GCS_NAD_1927);var n=ie(t);return ne.d.usng_to_geog(n,1,[e],r)?new E.a(r[0][0],r[0][1],t||z.a.WGS84):null}(r,this.spatialReference);break;default:t=null}else if(i)return function(e){var{geometryServicePromise:t,coordinate:r,spatialReference:n,formatName:i}=e;return t.then((e=>e.fromGeoCoordinateString({strings:[r],sr:n,conversionType:i}).then((e=>{var t=new E.a({x:e[0][0],y:e[0][1],spatialReference:n});if(!K(t))throw e;return t})).catch((e=>{throw new T.a("coordinate-conversion:from-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))))}({coordinate:r,spatialReference:this.spatialReference,formatName:this.name,geometryServicePromise:this.get("viewModel.geometryServicePromise")});return t?this._project(t,this._viewSpatialReference):Promise.reject(new T.a("format:invalid-input","Could not parse input into point.",{userInput:e}))}_getCoordinate(e){var t=this.get("viewModel.view.scale");if(!K(e))return Promise.reject(new T.a("format:invalid-point","Could not transform invalid point into coordinate.",{point:e}));if(this.get("viewModel.formatterAvailable")||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":var r=J(t);return Promise.resolve(function(e,t,r=0){var n=[[e.x,e.y]],i=[],o=ie(e.spatialReference),a=0;switch(t){case"dd":a=ne.a.geog_to_dd(o,1,n,r,i);break;case"ddm":a=ne.a.geog_to_ddm(o,1,n,r,i);break;case"dms":a=ne.a.geog_to_dms(o,1,n,r,i);break;default:return console.warn("invalid format: ".concat(t)),null}return a?i[0]:null}(e,this.name,r));case"mgrs":return Promise.resolve(function(e,t,r=0,n=!1){var i=[[e.x,e.y]],o=[],a=ie(e.spatialReference),s=oe(t);return-1===s?(console.warn("invalid conversionMode: ".concat(t)),null):(n&&(s|=ne.c.PE_MGRS_ADD_SPACES),ne.c.geog_to_mgrs_extended(a,1,i,r,!1,s,o)?o[0]:null)}(e,"automatic",5,!1));case"usng":return Promise.resolve(function(e,t=0,r=!1){var n=[[e.x,e.y]],i=[],o=ie(e.spatialReference);return ne.d.geog_to_usng(o,1,n,t,!1,r,i)?i[0]:null}(e,5,!1));case"utm":return Promise.resolve(function(e,t,r=!1){var n=[[e.x,e.y]],i=[],o=ie(e.spatialReference),a=ae(t);return-1===a?(console.warn("invalid conversionMode: ".concat(t)),null):(r&&(a|=ne.e.PE_UTM_OPTS_ADD_SPACES),ne.e.geog_to_utm(o,1,n,a,i)?i[0]:null)}(e,"latitude-band-indicators",!0));default:return Promise.resolve(Q(e,t))}return ee(this.name)?function(e){var{formatName:t,location:r,geometryServicePromise:n}=e,i=X[t]||{},o=Object(x.a)({coordinates:[[r.x,r.y]],sr:r.spatialReference,conversionType:t},i);return n.then((e=>e.toGeoCoordinateString(o).then((e=>{var t=e[0];if(!t)throw e;return t})).catch((e=>{throw new T.a("coordinate-conversion:to-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))))}({formatName:this.name,location:e,geometryServicePromise:this.get("viewModel.geometryServicePromise")}):Promise.resolve(Q(e,t))}_project(e,t,r){return Object(re.c)(e.spatialReference,t)||!t?Promise.resolve(e):this.get("viewModel.formatterAvailable")&&Object(G.g)()?Promise.resolve(Object(G.j)(e,t)):this.get("viewModel.formatterAvailable")?null:Object(Y.a)(e,t)?Promise.resolve(Object(Y.d)(e,t)):function(e,t){var{spatialReference:r,geometryServicePromise:n,location:i,scale:o}=e;if(!r||i.spatialReference.wkid===r.wkid)return Promise.resolve({location:i,coordinate:Q(i,o)});if((i.spatialReference.isWGS84||i.spatialReference.isWebMercator)&&(r.isWGS84||r.isWebMercator))return Promise.resolve({location:Object(Y.d)(i,r),coordinate:Q(i,o)});if($[0]===i&&$[1]===r.wkid)return $[2];$[0]=i,$[1]=r.wkid;var a=n.then((e=>e.project(new H.a({geometries:[i],outSpatialReference:r}),{signal:t}).then((e=>{if(!K(e[0]))throw e[0];return{location:e[0],coordinate:Q(e[0],o)}})).catch((e=>{throw new T.a("coordinate-conversion:projection-failed","Failed to project point",{projectionResult:e})}))));return $[2]=a,a}({location:e,spatialReference:t,geometryServicePromise:this.get("viewModel.geometryServicePromise"),scale:this.get("viewModel.view.scale")},r).then((e=>e.location))}};Object(o.a)([Object(s.b)()],se.prototype,"conversionInfo",void 0),Object(o.a)([Object(s.b)()],se.prototype,"coordinateSegments",void 0),Object(o.a)([Object(s.b)()],se.prototype,"currentPattern",null),Object(o.a)([Object(s.b)()],se.prototype,"defaultPattern",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],se.prototype,"hasDisplayProperties",null),Object(o.a)([Object(s.b)()],se.prototype,"name",void 0),Object(o.a)([Object(s.b)({type:z.a})],se.prototype,"spatialReference",null),Object(o.a)([Object(s.b)()],se.prototype,"viewModel",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],se.prototype,"_viewSpatialReference",null),Object(o.a)([Object(s.b)({readOnly:!0})],se.prototype,"_additionalCharactersPattern",null);var ce=se=Object(o.a)([Object(u.a)("esri.widgets.CoordinateConversion.support.Format")],se),ue=Object(te.c)().decimal,le={N:"north",S:"south",E:"east",W:"west"},de="\xb0".concat("\u200e"),pe=new RegExp("-?\\d+[\\.|\\".concat(ue,"]?\\d*")),fe=/^[\\0]+(?=\d)/;function he(e){var t=e.match(fe),r=t?t[0]:"",n=e.indexOf(".")>=0?e.split(".")[1].length:0;return r+Object(te.b)(Number(e),{pattern:"###0.###",places:n,round:-1})}function ve(e){return Object(te.d)(e)}var ge="default",me="crosshair",be=new E.a([0,0,500]),ye="".concat(window.location.pathname,"__coordinateConversionWidgetState"),we=a.a.getLogger("esri.widgets.CoordinateConversion.CoordinateConversionViewModel"),_e="conversions",Oe="formats",je="view",xe="view-change",Se=0,ke=[],Ce=class extends(Object(B.a)(I.a.EventedAccessor)){constructor(e){super(e),this._conversionPromise=null,this._handles=new V.a,this._locationGraphic=null,this._locale=Object(N.b)(),this._pointerCount=0,this.conversions=new F.a,this.formats=new F.a,this.formatterAvailable=!1,this.geometryServicePromise=null,this.messages=null,this.requestDelay=300,this.locationSymbol=new R.a({url:Object(U.a)("esri/images/search/search-symbol-32.png"),width:24,height:24}),this.view=null,this._instanceNumber=Se,Se++,this._saveWidgetState=this._saveWidgetState.bind(this),this._handleFormatChange=this._handleFormatChange.bind(this),this._handleConversionChange=this._handleConversionChange.bind(this),this._handleViewChange=this._handleViewChange.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this)}initialize(){var e=this;Object(i.a)((function*(){return e.messages=yield Object(L.a)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")}))().then((()=>{if(!this.destroyed&&(this.formats.addMany(function(e){var t=e.abbreviatedDirections.north,r=e.abbreviatedDirections.south,n=e.abbreviatedDirections.east,i=e.abbreviatedDirections.west,o={};o[t]="N",o[r]="S",o[n]="E",o[i]="W";var a=new RegExp("N|S|".concat(t,"|").concat(r),"i"),s=new RegExp("E|W|".concat(n,"|").concat(i),"i");return[new ce({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:pe,substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"Y",description:"northing",searchPattern:pe,substitution:{input:e=>ve(e),output:e=>he(e)}}],defaultPattern:"X, Y",viewModel:null}),new ce({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(ue,"]?\\d*(?=\\D*?[N|S|").concat(t,"|").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}[\\.|\\".concat(ue,"]?\\d*(?=\\D*?[E|W|").concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}}],defaultPattern:"Y".concat(de).concat(e.abbreviatedDirections.north,", X").concat(de).concat(e.abbreviatedDirections.east),viewModel:null}),new ce({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S|".concat(t,"|").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}[\\.\\".concat(ue,"]?\\d*(?=.*?[N|S|").concat(t,"||").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=\\D*?\\s+.*?[E|W|".concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\|".concat(ue,"]?\\d*(?=.*?[E|W|").concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}}],defaultPattern:"Y".concat(de," A'").concat(e.abbreviatedDirections.north,", X").concat(de," B'").concat(e.abbreviatedDirections.east),viewModel:null}),new ce({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?\\s+.*?[N|S|".concat(t,"|").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[N|S|".concat(t,"|").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(ue,"]?\\d*(?=.*?[N|S|").concat(t,"|").concat(r,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp("\\d{1,3}(?=.*?\\s+.*?[E|W|".concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp("\\d{1,2}(?=.*?[E|W|".concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp("\\d{1,2}[\\.|\\".concat(ue,"]?\\d*(?=.*?[E|W|").concat(n,"|").concat(i,"])"),"i"),substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>o[e],output:t=>e.abbreviatedDirections[le[t]]}}],defaultPattern:"Y".concat(de," A' B\"").concat(e.abbreviatedDirections.north,", X").concat(de," C' D\"").concat(e.abbreviatedDirections.east),viewModel:null}),new ce({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:pe,substitution:{input:e=>ve(e),output:e=>he(e)}},{alias:"Y",description:"latitude",searchPattern:pe,substitution:{input:e=>ve(e),output:e=>he(e)}}],defaultPattern:"X".concat(de,", Y").concat(de),viewModel:null}),new ce({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ce({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new ce({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})]}(this.messages)),this._loadWidgetState(),this.formats.forEach((e=>{e.viewModel=this,this._handles.add(e.watch("currentPattern",this._saveWidgetState),e.name)})),this._handles.add(this.conversions.on("change",this._handleConversionChange),_e),this._handles.add(this.formats.on("change",this._handleFormatChange),Oe),this._handles.add(Object(q.a)(this,"view.map",(()=>{this.geometryServicePromise=Object(W.create)(this.get("view.map.portalItem"))})),xe),Object(G.i)().then((()=>{this.formatterAvailable=!0})).catch((e=>{we.error(new T.a("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:e})),this.formatterAvailable=!1})).then((()=>this._handles.add(Object(q.a)(this,"view",this._handleViewChange),xe))),0===this.conversions.length)){var e=this.formats.find((e=>"xy"===e.name))||this.formats.getItemAt(0);this.conversions.add(new A({format:e}))}}))}destroy(){this._handles.removeAll(),this._cleanUpView(this.view),this.view=null}set currentLocation(e){this._set("currentLocation",e),this._updateConversions()}get currentLocation(){return this._get("currentLocation")||null}set mode(e){switch(e){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",e);break;case"live":this._startLiveMode(),this._set("mode",e)}}get mode(){return this._get("mode")||"live"}get state(){var{messages:e,view:t}=this,r=null==t?void 0:t.ready;return e?r?"ready":t?"loading":"disabled":"disabled"}get waitingForConversions(){return null!=this._conversionPromise}get _debouncedConvert(){return Object(l.i)(((e,t,r)=>Object(l.j)(e.map((e=>e.convert(t,r))))),this.requestDelay)}setLocation(e){if(this.view.graphics.remove(this._locationGraphic),e){var t=e.clone();t.hasZ&&(t.z=void 0),this._locationGraphic=new D.a({geometry:t,symbol:this.get("locationSymbol")}),this.view.graphics.add(this._locationGraphic)}}convert(e,t){return K(t)?Promise.resolve().then((()=>e.convert(t))):Promise.reject(new T.a("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:t}))}goToLocation(e){if(this.get("view.clippingArea")||this.get("view.map.basemap.baseLayers.length")>0){var t=this.get("view.clippingArea")||this.view.map.basemap.baseLayers.getItemAt(0).fullExtent;return t?t.contains(e)?this.callGoTo({target:e}):Promise.reject(new T.a("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:e})):this.callGoTo({target:e})}return this.callGoTo({target:e})}pause(){this.currentLocation=null,this._handles.remove(je),this.view&&(this.view.cursor=ge,this.view.graphics.remove(this._locationGraphic))}previewConversion(e,t=this.currentLocation||be){return this._convertMany([e],t).then((()=>e.displayCoordinate))}resume(){"capture"===this.mode?this._startCaptureMode():this._startLiveMode()}reverseConvert(e,t){return t.reverseConvert(e)}updateConversions(e,t){var r=this;return Object(i.a)((function*(){return t&&t.type&&"point"===t.type?r._convertMany(e,t).then((e=>e.client.concat(e.server))):(r._clearConversions(r.conversions),Promise.reject(new T.a("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:t})))}))()}_cleanUpView(e){e&&(e.graphics.remove(this._locationGraphic),this._handles.remove(je),e.cursor=ge)}_clearConversions(e){e.forEach((e=>{e.position={location:null,coordinate:null}}))}_convertMany(e,t){var{client:r,server:n}=e.reduce(((e,t)=>(e[t.format.getConversionStrategy()].push(t),e)),{client:[],server:[]}),i=Promise.all(r.map((e=>e.format.convert(t).then((t=>(e.position=t,e))).catch((()=>{e.position=null}))))),o=e=>e?(this._conversionPromise=null,this.notifyChange("waitingForConversions"),e.map(((e,t)=>{var r=n[t];return e.error?(r.position=null,r):(r.position=e.value,r)}))):[];return this._conversionPromise=n.length>0?this._debouncedConvert(n.map((e=>e.format)),t).then(o,o):Promise.resolve([]),this.notifyChange("waitingForConversions"),Promise.all([i,this._conversionPromise]).then((e=>({client:e[0],server:e[1]})))}_handleConversionChange(e){e.added.forEach((e=>{var t=e.format;t.viewModel=this,this.currentLocation&&(this._set("waitingForConversions",!0),this.convert(t,this.currentLocation).then((t=>{e.position=t,this._set("waitingForConversions",!1)})))})),this._saveWidgetState()}_handleFormatChange(e){e.added.forEach((e=>{this._handles.add(e.watch("currentPattern",this._saveWidgetState),e.name),e.viewModel=this})),e.removed.forEach((e=>{e.viewModel=null,this._handles.remove(e.name)}))}_loadWidgetState(){if(0===this._instanceNumber)try{var e=JSON.parse(localStorage.getItem(ye));e&&(ke=e)}catch(t){we.error(new T.a("coordinate-conversion:invalid-local-storage-json","Could not read from localStorge.",{error:t}))}this._setWidgetState()}_startCaptureMode(){this._handles.remove(je),this.view&&(this.view.cursor=me,this.currentLocation&&this.setLocation(this.currentLocation),this._handles.add(this.view.on("click",this._onClick),je))}_startLiveMode(){this._pointerCount=0,this._handles.remove(je),this.view&&(this.view.cursor=ge,this.view.graphics.remove(this._locationGraphic),this._handles.add([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],je))}_handleViewChange(e,t){t&&t!==e&&this._cleanUpView(t),e&&("capture"===this.mode&&this._startCaptureMode(),this._startLiveMode())}_onClick(e){if(0===e.button){var t=this.view.toMap(e),r=t&&t.normalize();this.setLocation(r),this.currentLocation=r}}_onPointerDown(e){var{pointerType:t}=e;if(this._pointerCount++,("touch"===t||"pen"===t)&&1===this._pointerCount){var r=this.view.toMap(e);this.currentLocation=r&&r.normalize()}}_onPointerMove(e){var{pointerType:t}=e;if("mouse"===t||1===this._pointerCount){var r=this.view.toMap(e);this.currentLocation=r&&r.normalize()}}_onPointerUp(){this._pointerCount--}_setWidgetState(){var e=ke[this._instanceNumber];if(e)try{e.formats.forEach((t=>{var r=this.formats.find((e=>e.name===t.name));r&&e.locale===this._locale&&t.currentPattern&&(r.currentPattern=t.currentPattern),r&&t.index>=0&&this.conversions.add(new A({format:r}))}))}catch(t){we.warn(new T.a("coordinate-conversion:local-storage-read-error","Could not get widget state from stored JSON.",{error:t})),ke[this._instanceNumber]={formats:[],locale:this._locale}}else ke[this._instanceNumber]={formats:[],locale:this._locale}}_saveWidgetState(){var e=this._toJSON();ke[this._instanceNumber]={formats:e,locale:this._locale};try{localStorage.setItem(ye,JSON.stringify(ke))}catch(t){we.error(new T.a("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:t}))}}_updateConversions(){var e=this;return Object(i.a)((function*(){try{yield e.updateConversions(e.conversions.toArray(),e.currentLocation)}catch(t){}}))()}_toJSON(){return this.formats.filter((e=>{var t=e.name;return"xy"===t||"basemap"===t||ee(t)})).map((e=>({name:e.name,currentPattern:e.currentPattern,defaultPattern:e.defaultPattern,index:this.conversions.findIndex((t=>t.format===e))}))).sort(((e,t)=>e.index-t.index)).toArray()}};Object(o.a)([Object(s.b)()],Ce.prototype,"conversions",void 0),Object(o.a)([Object(s.b)({type:E.a})],Ce.prototype,"currentLocation",null),Object(o.a)([Object(s.b)()],Ce.prototype,"formats",void 0),Object(o.a)([Object(s.b)()],Ce.prototype,"messages",void 0),Object(o.a)([Object(s.b)()],Ce.prototype,"mode",null),Object(o.a)([Object(s.b)()],Ce.prototype,"requestDelay",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],Ce.prototype,"state",null),Object(o.a)([Object(s.b)()],Ce.prototype,"locationSymbol",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],Ce.prototype,"waitingForConversions",null),Object(o.a)([Object(s.b)()],Ce.prototype,"view",void 0),Object(o.a)([Object(s.b)({readOnly:!0})],Ce.prototype,"_debouncedConvert",null);var Pe=Ce=Object(o.a)([Object(u.a)("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],Ce),Me="esri-coordinate-conversion esri-widget",Ae="esri-coordinate-conversion--capture-mode",Te="esri-coordinate-conversion--no-basemap",Ee="esri-coordinate-conversion__popup",Ie="esri-coordinate-conversion__conversion-list",Fe="esri-coordinate-conversion__row",Ne="esri-coordinate-conversion__display",Le="esri-coordinate-conversion__conversions-view--expanded",Ue="esri-coordinate-conversion__conversions-view--expand-down",Re="esri-coordinate-conversion__conversions-view--expand-up",De="esri-coordinate-conversion__conversions-view",Ve="esri-coordinate-conversion__select-primary",qe="esri-coordinate-conversion__select-row",Ge="esri-coordinate-conversion__tools",Be="esri-coordinate-conversion__mode-toggle",We="esri-coordinate-conversion__row-button",ze="esri-coordinate-conversion__back-button",Ye="esri-coordinate-conversion__button",He="esri-coordinate-conversion__input-coordinate",Xe="esri-coordinate-conversion__input-form",$e="esri-coordinate-conversion__input-group",Je="esri-coordinate-conversion__input-coordinate--rejected",Ze="esri-coordinate-conversion__heading",Ke="esri-coordinate-conversion__pattern-input",Qe="esri-coordinate__settings",et="esri-coordinate-conversion__settings-group",tt="esri-coordinate-conversion__settings-group-horizontal",rt="esri-coordinate-conversion__preview-coordinate",nt="esri-disabled",it="esri-input",ot="esri-button",at="esri-widget__heading",st="esri-widget--button",ct="esri-icon-left-arrow",ut="esri-icon-right-arrow",lt="esri-icon-map-pin",dt="esri-icon-up",pt="esri-icon-duplicate",ft="esri-icon-edit",ht="esri-select",vt="esri-icon-down",gt="esri-icon-refresh",mt="esri-icon-close",bt="esri-icon-settings2",yt={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0},wt=a.a.getLogger("esri.widgets.CoordinateConversion"),_t=class extends h.a{constructor(e,t){super(e,t),this._popupMessage=null,this._popupId=null,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.conversions=null,this.currentLocation=null,this.formats=null,this.goToOverride=null,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode=null,this.orientation="auto",this.requestDelay=null,this.view=null,this.viewModel=new Pe,this.visibleElements=Object(x.a)({},yt)}set multipleConversions(e){!1===e&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}get multipleConversions(){var e=this._get("multipleConversions");return"boolean"!=typeof e||e}castVisibleElements(e){return Object(x.a)(Object(x.a)({},yt),e)}reverseConvert(e,t){return this.viewModel.reverseConvert(e,t)}render(){var e=this.get("viewModel.state"),t="disabled"===e?Object(f.a)("div",{key:"esri-coordinate__no-basemap"},this.messages.noBasemap):null,r=!t&&this._inputVisible?this._renderInputForm():null,n=!t&&this._settingsVisible?this._renderSettings():null,i=t||r||n?null:this._renderConversionsView(),o=this._popupVisible?this._renderPopup():null,a={[Ae]:"capture"===this.mode,[nt]:"loading"===e,[Te]:"disabled"===e};return Object(f.a)("div",{class:this.classes(Me,a)},o,t,i,n,r)}_addConversion(e){var t=e.target,r=t.options[t.options.selectedIndex]["data-format"],n=t["data-index"],i=new A({format:r});t.options.selectedIndex=0,n>=0&&this.conversions.removeAt(n),this.conversions.add(i,n)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight(((e,t)=>{var r=t.format;return r.get("hasDisplayProperties")?r:e}),null)||this.formats.find((e=>e.hasDisplayProperties))}_hidePopup(){this._popupId&&(clearTimeout(this._popupId),this._popupId=null),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=""}_onCopy(e){var t=e.currentTarget["data-conversion"].displayCoordinate;"clipboardData"in S.a?S.a.clipboardData.setData("text",t):e.clipboardData.setData("text/plain",t),this._showPopup(this.messages.copySuccessMessage),e.preventDefault()}_processUserInput(e){var t=Object(C.a)(e),r=this.viewModel;if("Enter"!==t&&t)this._badInput&&(this._badInput=!1);else{var n=this._coordinateInput["data-format"],i=this._coordinateInput.value;this._reverseConvert(i,n).then((e=>{"capture"===this.mode?r.resume():this.mode="capture",this.currentLocation=e,r.setLocation(e),this._onConvertComplete()})).catch((e=>{wt.error(e),this._showPopup(this.messages.invalidCoordinate),this._badInput=!0}))}}_reverseConvert(e,t){var r=this.viewModel;return t.reverseConvert(e).then((e=>(this._goToEnabled&&r.goToLocation(e).catch((e=>{wt.warn(e),this._showPopup(this.messages.locationOffBasemap)})),e)))}_setInputFormat(e){var t=e.target,r=t[t.options.selectedIndex]["data-format"];this._conversionFormat=r}_setPreviewConversion(){var e=this._findSettingsFormat(),t=this.viewModel;if(e){var r=this.conversions.find((t=>t.format===e));this._previewConversion=new A({format:e,position:{location:this.currentLocation,coordinate:r&&r.position.coordinate}}),this._previewConversion.position.coordinate||t.previewConversion(this._previewConversion)}}_setSettingsFormat(e){var t=e.target,r=t[t.options.selectedIndex]["data-format"];this._settingsFormat=r,this._setPreviewConversion()}_showPopup(e,t=2500){this._popupMessage=e,this._popupVisible?clearTimeout(this._popupId):this._popupVisible=!0,this.scheduleRender(),this._popupId=setTimeout((()=>{this._popupId=null,this._hidePopup()}),t)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(e){e.stopPropagation();var t=e.target,r=this._findSettingsFormat();r&&(r.currentPattern=t.value)}_renderConversion(e,t){var{messages:r}=this,n="".concat(this.id,"__list-item-").concat(t),i="".concat(e.format.name," ").concat(r.conversionOutputSuffix),o=0===t,a=o||this._expanded,s=o?this._renderFirstConversion(e):this._renderTools(t,e,n),c=o&&!e.displayCoordinate?r.noLocation:e.displayCoordinate,u=Object(f.a)("div",{"aria-label":c,class:Ne,"data-conversion":e,role:"listitem",tabindex:"0",title:c},c),l=this._renderOptions(this.formats.filter((t=>t!==e.format)));return a?Object(f.a)("li",{"aria-label":i,class:Fe,id:n,key:e,role:"group",title:i,tabindex:"0"},Object(f.a)("select",{"aria-controls":n,"aria-label":r.selectFormat,class:this.classes(ht,qe),bind:this,"data-index":t,onchange:this._addConversion,title:r.selectFormat},Object(f.a)("option",{"aria-label":e.format.name,selected:!0,title:e.format.name},e.format.name.toUpperCase()),l),u,s):null}_renderCopyButton(e){return Object(f.a)("li",{"aria-label":this.messagesCommon.copy,bind:this,class:this.classes(st,We),"data-conversion":e,onclick:this._copyCoordinateOutput,onkeydown:this._copyCoordinateOutput,oncopy:this._onCopy,role:"button",tabindex:"0",title:this.messagesCommon.copy},Object(f.a)("span",{"aria-hidden":"true",class:pt}))}_renderFirstConversion(e){var t=this.id,r={[vt]:!this._expanded,[dt]:this._expanded},{messages:n,messagesCommon:i,multipleConversions:o,visibleElements:a}=this,s="live"===this.mode?n.captureMode:n.liveMode,c=this._expanded?i.collapse:i.expand,u=e.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(e):null,l=o&&a.expandButton&&Object(f.a)("li",{"aria-controls":"".concat(t,"__").concat(Ie),"aria-label":c,bind:this,class:st,key:"esri-coordinate-conversion__expand-button",onclick:this._toggleExpand,onkeydown:this._toggleExpand,role:"button",tabindex:"0",title:c},Object(f.a)("span",{"aria-hidden":"true",class:this.classes(r)})),d=!o&&a.captureButton&&Object(f.a)("li",{"aria-label":s,bind:this,class:this.classes(st,Be),key:"esri-coordinate-conversion__mode-toggle",onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:s},Object(f.a)("span",{"aria-hidden":"true",class:lt}));return Object(f.a)("ul",{class:Ge},u,l,d)}_renderInputForm(){var e=this._conversionFormat||this.conversions.getItemAt(0).format,t=this.formats.findIndex((t=>t.name===e.name)),r=this.id,n="".concat(r,"__").concat(He),i="".concat(r,"__").concat(He,"__header"),o=this._renderOptions(this.formats,!0,t),a={[Je]:this._badInput},{messages:s,messagesCommon:c}=this;return Object(f.a)("div",{"aria-labelledby":i,class:Xe,key:"esri-coordinate-conversion__input-form",role:"search"},Object(f.a)("div",{class:Ze},Object(f.a)("div",{"aria-label":c.back,bind:this,class:this.classes(st,ze),onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:c.back},this._renderBackIcon()),Object(f.a)("h4",{class:at,id:i},s.inputCoordTitle)),Object(f.a)("div",{class:$e},Object(f.a)("select",{"aria-controls":n,"aria-label":s.selectFormat,bind:this,class:this.classes(ht,qe),onchange:this._setInputFormat,title:s.selectFormat},o),Object(f.a)("input",{afterCreate:d.i,"aria-labelledby":i,"aria-required":"true",bind:this,class:this.classes(He,it,a),"data-format":e,"data-node-ref":"_coordinateInput",id:n,onkeydown:this._processUserInput,placeholder:s.inputCoordTitle,role:"textbox",spellcheck:!1,title:s.inputCoordTitle,type:"text"})),Object(f.a)("div",{class:$e},Object(f.a)("label",{"aria-label":s.goTo},Object(f.a)("input",{bind:this,checked:this._goToEnabled,onclick:this._toggleGoTo,title:s.goTo,type:"checkbox"}),s.goTo),Object(f.a)("button",{"aria-label":s.convert,bind:this,class:this.classes(Ye,ot),onclick:this._processUserInput,title:s.convert,type:"button"},s.convert)))}_renderConversionsView(){var e="".concat(this.id,"__").concat(Ie),t=this._renderPrimaryTools(),r=this._renderOptions(this.formats),n=this.conversions.map(((e,t)=>this._renderConversion(e,t))).toArray(),{messages:i}=this,o=this._expanded?Object(f.a)("div",{class:Fe},Object(f.a)("select",{"aria-controls":e,"aria-label":i.addConversion,bind:this,class:this.classes(ht,Ve),onchange:this._addConversion,title:i.addConversion},Object(f.a)("option",{disabled:!0,selected:!0,value:""},i.addConversion),r),t):null,a={[Le]:this._expanded,[Re]:"expand-up"===this.orientation,[Ue]:"expand-down"===this.orientation};return Object(f.a)("div",{class:this.classes(De,a),key:"esri-coordinate-conversion__main-view"},Object(f.a)("ul",{"aria-expanded":this._expanded?"true":"false",class:Ie,id:e},n),o)}_renderOptions(e,t,r){var n=this.conversions.getItemAt(0);return e.map(((e,i)=>{var o=!(t||!n)&&(n.format.name===e.name||this.conversions.map((e=>e.format.name)).includes(e.name));return Object(f.a)("option",{"aria-label":e.name,"data-format":e,disabled:o,key:e.name,selected:i===r,value:e.name},e.name.toUpperCase())})).toArray()}_renderPopup(){return Object(f.a)("div",{class:Ee,role:"alert"},this._popupMessage)}_renderPrimaryTools(){var{messages:e,visibleElements:t}=this,r="live"===this.mode?e.captureMode:e.liveMode,n=t.inputButton&&Object(f.a)("li",{bind:this,class:st,onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:e.inputCoordTitle},Object(f.a)("span",{"aria-hidden":"true",class:ft})),i=t.captureButton&&Object(f.a)("li",{bind:this,class:this.classes(st,Be),onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:r},Object(f.a)("span",{"aria-hidden":"true",class:lt})),o=t.settingsButton&&Object(f.a)("li",{bind:this,class:st,onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:e.settingsTitle},Object(f.a)("span",{"aria-hidden":"true",class:bt}));return Object(f.a)("ul",{class:Ge},n,i,o)}_renderSettings(){var e=this.id,t="".concat(e,"__").concat(Ke),r="".concat(e,"__").concat(Ke,"__header"),n="".concat(e,"__").concat(rt),i=this.formats.filter((e=>e.hasDisplayProperties)),o=this._findSettingsFormat(),a=i.indexOf(o),s=this._renderOptions(i,!0,a),c=o.get("currentPattern"),{messages:u,messagesCommon:l}=this;return Object(f.a)("div",{"aria-labelledby":r,class:Qe,key:"esri-coordinate-conversion__settings"},Object(f.a)("div",{class:Ze},Object(f.a)("div",{bind:this,class:this.classes(st,ze),onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:l.back},this._renderBackIcon()),Object(f.a)("h4",{class:at,id:r},u.settingsTitle)),Object(f.a)("div",{class:et},Object(f.a)("label",{for:t},u.changeCoordinateDisplay),Object(f.a)("select",{"aria-label":u.selectFormat,class:ht,bind:this,onchange:this._setSettingsFormat,title:u.selectFormat},s),Object(f.a)("div",{class:tt},Object(f.a)("input",{"aria-controls":n,bind:this,class:this.classes(Ke,it),id:t,oninput:this._updateCurrentPattern,spellcheck:!1,title:u.changeCoordinateDisplay,type:"text",value:c}),Object(f.a)("div",{"aria-controls":t,bind:this,class:st,onclick:this._setDefaultPattern,onkeydown:this._setDefaultPattern,role:"button",tabindex:"0",title:u.defaultPattern},Object(f.a)("span",{"aria-hidden":"true",class:gt})))),Object(f.a)("div",{class:et},Object(f.a)("label",null,l.preview,Object(f.a)("div",{class:rt,id:n,tabindex:"0"},this._previewConversion.displayCoordinate))))}_renderBackIcon(){return Object(f.a)("span",{"aria-hidden":"true",class:Object(d.f)()?ut:ct})}_renderTools(e,t,r){var n=t.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(t):null,{messages:i}=this;return Object(f.a)("ul",{class:Ge,role:"listitem"},n,Object(f.a)("li",{"aria-controls":r,"aria-label":i.removeConversion,bind:this,class:this.classes(st,We),"data-index":e,key:"".concat(r,"__").concat(st),onclick:this._removeConversion,onkeydown:this._removeConversion,tabindex:"0",role:"button",title:i.removeConversion},Object(f.a)("span",{"aria-hidden":"true",class:mt})))}_copyCoordinateOutput(e){var t=e.target;if(!("createTextRange"in document.body)){var r=window.getSelection(),n=document.createRange();n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n)}document.execCommand("copy")}_removeConversion(e){var t=e.currentTarget["data-index"];this.conversions.removeAt(t)}_setDefaultPattern(e){e.stopPropagation();var t=this._findSettingsFormat();t&&(t.currentPattern=t.get("defaultPattern"))}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode="live"===this.mode?"capture":"live"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};Object(o.a)([Object(c.a)("viewModel.conversions")],_t.prototype,"conversions",void 0),Object(o.a)([Object(c.a)("viewModel.currentLocation")],_t.prototype,"currentLocation",void 0),Object(o.a)([Object(c.a)("viewModel.formats")],_t.prototype,"formats",void 0),Object(o.a)([Object(c.a)("viewModel.goToOverride")],_t.prototype,"goToOverride",void 0),Object(o.a)([Object(s.b)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_t.prototype,"label",void 0),Object(o.a)([Object(s.b)(),Object(p.a)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],_t.prototype,"messages",void 0),Object(o.a)([Object(s.b)(),Object(p.a)("esri/t9n/common")],_t.prototype,"messagesCommon",void 0),Object(o.a)([Object(c.a)("viewModel.mode")],_t.prototype,"mode",void 0),Object(o.a)([Object(s.b)()],_t.prototype,"orientation",void 0),Object(o.a)([Object(c.a)("viewModel.requestDelay")],_t.prototype,"requestDelay",void 0),Object(o.a)([Object(s.b)()],_t.prototype,"multipleConversions",null),Object(o.a)([Object(c.a)("viewModel.locationSymbol")],_t.prototype,"locationSymbol",void 0),Object(o.a)([Object(c.a)("viewModel.view")],_t.prototype,"view",void 0),Object(o.a)([Object(s.b)({type:Pe})],_t.prototype,"viewModel",void 0),Object(o.a)([Object(s.b)()],_t.prototype,"visibleElements",void 0),Object(o.a)([Object(k.a)("visibleElements")],_t.prototype,"castVisibleElements",null),Object(o.a)([Object(P.a)()],_t.prototype,"_copyCoordinateOutput",null),Object(o.a)([Object(P.a)()],_t.prototype,"_removeConversion",null),Object(o.a)([Object(P.a)()],_t.prototype,"_setDefaultPattern",null),Object(o.a)([Object(P.a)()],_t.prototype,"_toggleExpand",null),Object(o.a)([Object(P.a)()],_t.prototype,"_toggleInputVisibility",null),Object(o.a)([Object(P.a)()],_t.prototype,"_toggleMode",null),Object(o.a)([Object(P.a)()],_t.prototype,"_toggleSettingsVisibility",null);var Ot=_t=Object(o.a)([Object(u.a)("esri.widgets.CoordinateConversion")],_t),jt=(r(1108),r(0)),xt=e=>{var t=Object(n.useRef)(null),r=Object(n.useRef)(null),i=Object(n.useRef)(),o=Object(n.useRef)(),[a,s]=Object(n.useState)(),c=t=>{document.querySelectorAll(".measureTools calcite-action").forEach((e=>{e!=t.target&&(e.active=!1)})),i.current&&("distance"===t.target.getAttribute("value")&&(t.target.active?(t.target.active=!1,s(void 0),i.current.clear()):(t.target.active=!0,i.current.activeTool="distance",s("measurement"),e.measurementActivated(i.current,o.current))),"area"===t.target.getAttribute("value")&&(t.target.active?(t.target.active=!1,s(void 0),i.current.clear()):(t.target.active=!0,i.current.activeTool="area",s("measurement"),e.measurementActivated(i.current))),"coordinates"===t.target.getAttribute("value")&&(t.target.active?(t.target.active=!1,s(void 0)):(t.target.active=!0,e.measurementActivated(i.current,o.current),s("coordinates"),o.current&&(o.current.mode="capture"))),"clear"===t.target.getAttribute("value")&&(i.current.clear(),o.current&&(o.current.mode="live"),s(void 0)))};return Object(n.useEffect)((()=>{i.current=new j({container:t.current,view:e.view,areaUnit:"imperial",linearUnit:"imperial"}),i.current.viewModel.watch("state",(e=>{"ready"===e&&document.querySelectorAll("#measureTools calcite-action").forEach((e=>{e.active=!1})),"measured"===e&&i.current&&(i.current.view.popup.autoOpenEnabled=!0),"ready"!==e&&"measuring"!==e||!i.current||(i.current.view.popup.autoOpenEnabled=!1)}));var n=new Ot({container:r.current,view:e.view});n.viewModel.locationSymbol=new R.a({url:"assets/pin.svg",height:36,width:36}),o.current=n,n.viewModel.watch("mode",(t=>{e.view.popup.autoOpenEnabled="live"===t}));var a=/-?\d+[\.]?\d*/,s=new ce({name:"Stateplane Feet",conversionInfo:{spatialReference:new z.a({wkid:2264}),reverseConvert:function(e){var t=e.split(",");return new E.a({x:parseFloat(t[0]),y:parseFloat(t[1]),spatialReference:{wkid:2264}})}},coordinateSegments:[{alias:"X",description:"easting",searchPattern:a},{alias:"Y",description:"northing",searchPattern:a}],defaultPattern:"X, Y"});return n.formats.add(s),n.conversions.splice(0,0,new A({format:s})),n.when((()=>{n.formats=n.formats.filter((e=>!["basemap","dd","ddm"].includes(e.name))),n.formats.find((e=>"xy"===e.name)).name="Decimal Degrees"})),()=>{var e;i&&(null===(e=i.current)||void 0===e||e.destroy())}}),[e.view]),Object(jt.jsxs)("div",{className:"panel",children:[Object(jt.jsxs)("div",{className:"measureTools",children:[Object(jt.jsx)("calcite-action",{text:"Distance",appearance:"outline",icon:"measure-line",id:"lineMeasure",value:"distance","text-enabled":!0,onClick:c}),Object(jt.jsx)("calcite-action",{text:"Area",appearance:"outline",icon:"measure-area",id:"areaMeasure",value:"area","text-enabled":!0,onClick:c}),Object(jt.jsx)("calcite-action",{text:"Coordinates",appearance:"outline",icon:"pins",id:"coordinates",value:"coordinates","text-enabled":!0,onClick:c}),Object(jt.jsx)("calcite-action",{text:"Clear",appearance:"outline",icon:"trash",id:"clearMeasure",value:"clear","text-enabled":!0,onClick:c})]}),Object(jt.jsx)("div",{ref:t,hidden:"measurement"!=a}),Object(jt.jsx)("div",{ref:r,hidden:"coordinates"!=a})]})};t.default=xt},123:function(e,t,r){"use strict";var n,i=r(91),o=r(82),a=(r(80),r(92)),s=r(89),c=(r(81),r(88),r(85)),u=r(84),l=(r(83),r(86),r(87),r(90)),d=r(100),p=r(101),f=r(169),h=r(138),v=r(189),g=n=class extends l.a{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(v.a)(),configurable:!0})}normalizeCtorArgs(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}set attributes(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){return this.popupTemplate?this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:e&&"defaultPopupTemplate"in this.sourceLayer&&Object(s.k)(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(s.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(s.k)(this.symbol)?this.symbol.toJSON():null,attributes:Object(i.a)({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new n(this.cloneProperties())}cloneProperties(){return{attributes:Object(a.a)(this.attributes),geometry:Object(a.a)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(a.a)(this.symbol),visible:this.visible}}_notifyLayer(e,t,r,n){if(this.layer&&"graphicChanged"in this.layer){var i={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(i.attributeName=n),this.layer.graphicChanged(i)}}};Object(o.a)([Object(c.b)({value:null})],g.prototype,"attributes",null),Object(o.a)([Object(c.b)({value:null,types:p.a,json:{read:d.a}})],g.prototype,"geometry",null),Object(o.a)([Object(c.b)({type:Boolean})],g.prototype,"isAggregate",void 0),Object(o.a)([Object(c.b)()],g.prototype,"layer",void 0),Object(o.a)([Object(c.b)({type:f.a})],g.prototype,"popupTemplate",void 0),Object(o.a)([Object(c.b)()],g.prototype,"sourceLayer",void 0),Object(o.a)([Object(c.b)({value:null,types:h.e})],g.prototype,"symbol",null),Object(o.a)([Object(c.b)({type:Boolean,value:!0})],g.prototype,"visible",null),g=n=Object(o.a)([Object(u.a)("esri.Graphic")],g),(g||(g={})).generateUID=v.a;var m=g;t.a=m},124:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var n=r(92);function i(e,t,r=!1){return c(e,t,r)}function o(e,t){if(null!=t)return t[e]||s(e.split("."),!1,t)}function a(e,t,r){var n=e.split("."),i=n.pop(),o=s(n,!0,r);o&&i&&(o[i]=t)}function s(e,t,r){var n=r;for(var i of e){if(null==n)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function c(e,t,r){return t?Object.keys(t).reduce((function(e,i){var o=e[i],a=t[i];return o===a?e:void 0===o?(e[i]=Object(n.a)(a),e):(Array.isArray(a)||Array.isArray(e)?(o=o?Array.isArray(o)?e[i]=o.concat():e[i]=[o]:e[i]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach((e=>{-1===o.indexOf(e)&&o.push(e)})):e[i]=a.concat())):a&&"object"==typeof a?e[i]=c(o,a,r):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=a),e)}),e||{}):e}},125:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return v})),r.d(t,"g",(function(){return m})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return _})),r.d(t,"k",(function(){return u})),r.d(t,"l",(function(){return l})),r.d(t,"m",(function(){return s})),r.d(t,"n",(function(){return a})),r.d(t,"o",(function(){return p})),r.d(t,"p",(function(){return b})),r.d(t,"q",(function(){return w})),r.d(t,"r",(function(){return c})),r.d(t,"s",(function(){return d}));r(80),r(89);var n=r(103);function i(e=x){return[e[0],e[1],e[2],e[3]]}function o(e){return[e[0],e[1],e[2],e[3]]}function a(e,t,r,n,o=i()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o}function s(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function c(e,t){return new n.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e,t,r=e){if("length"in t)O(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}return r}function l(e,t,r=e){for(var n=t.length,i=e[0],o=e[1],a=e[2],s=e[3],c=0;c<n;c++){var u=t[c];i=Math.min(i,u[0]),o=Math.min(o,u[1]),a=Math.max(a,u[0]),s=Math.max(s,u[1])}return r[0]=i,r[1]=o,r[2]=a,r[3]=s,r}function d(e){return e[0]>=e[2]?0:e[2]-e[0]}function p(e){return e[1]>=e[3]?0:e[3]-e[1]}function f(e){return d(e)*p(e)}function h(e,t){return g(e,t[0],t[1])}function v(e,t){return g(e,t.x,t.y)}function g(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function m(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function b(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function y(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _(e){return e?w(e,j):i(j)}function O(e){return 4===e.length}var j=[1/0,1/0,-1/0,-1/0],x=[0,0,0,0]},129:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},i=function(e,t){for(var r=0,o=e.length;r<o;r++){var a=e[r];Array.isArray(a)?i(a,t):null!=a&&!1!==a&&(a.hasOwnProperty("vnodeSelector")||(a=n(a)),t.push(a))}},o=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(1===r.length&&"string"==typeof r[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var o=[];return i(r,o),{vnodeSelector:e,properties:t||void 0,children:o,text:void 0,domNode:null}}},134:function(e,t,r){"use strict";var n,i=r(82),o=(r(80),r(92)),a=(r(81),r(88),r(85)),s=r(102),c=r(84),u=(r(83),r(86),r(87),r(90)),l=n=class extends u.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"name",void 0),Object(i.a)([Object(a.b)({type:[String,Number],json:{write:!0}})],l.prototype,"code",void 0);var d,p=l=n=Object(i.a)([Object(c.a)("esri.layers.support.CodedValue")],l),f=r(121),h=d=class extends f.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(o.a)(this.codedValues),name:this.name})}};Object(i.a)([Object(a.b)({type:[p],json:{write:!0}})],h.prototype,"codedValues",void 0),Object(i.a)([Object(s.a)({codedValue:"coded-value"})],h.prototype,"type",void 0);var v=h=d=Object(i.a)([Object(c.a)("esri.layers.support.CodedValueDomain")],h);t.a=v},136:function(e,t,r){"use strict";var n,i=r(82),o=(r(80),r(81),r(88),r(85),r(102)),a=r(84),s=(r(83),r(86),r(87),r(121)),c=n=class extends s.a{constructor(e){super(e),this.type="inherited"}clone(){return new n}};Object(i.a)([Object(o.a)({inherited:"inherited"})],c.prototype,"type",void 0);var u=c=n=Object(i.a)([Object(a.a)("esri.layers.support.InheritedDomain")],c);t.a=u},137:function(e,t,r){"use strict";var n,i=r(82),o=(r(80),r(81),r(88),r(85)),a=r(102),s=r(84),c=(r(83),r(86),r(87),r(121)),u=n=class extends c.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(i.a)([Object(o.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],u.prototype,"maxValue",void 0),Object(i.a)([Object(o.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],u.prototype,"minValue",void 0),Object(i.a)([Object(a.a)({range:"range"})],u.prototype,"type",void 0);var l=u=n=Object(i.a)([Object(s.a)("esri.layers.support.RangeDomain")],u);t.a=l},143:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return u}));var n=r(124),i=/\{([^\}]+)\}/g;function o(e){return null==e?"":e}function a(e,t){return e.replace(i,"object"==typeof t?(e,r)=>o(Object(n.b)(r,t)):(e,r)=>o(t(r)))}function s(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:"\\".concat(e)))}function c(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function u(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return u}));r(80);var n,i,o=r(121),a=r(134),s=r(136),c=r(137);function u(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return n.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return n.INVALID_CODED_VALUE}return null}(i=n||(n={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var l={key:"type",base:o.a,typeMap:{range:c.a,"coded-value":a.a,inherited:s.a}};function d(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function p(e){if(!e||!e.type)return null;switch(e.type){case"range":return c.a.fromJSON(e);case"codedValue":return a.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return c}));var n,i=r(91),o=r(7),a=r(89),s=r(99);r(101);function c(){return u.apply(this,arguments)}function u(){return(u=Object(o.a)((function*(){return n||(n=Object(o.a)((function*(){var e=yield Promise.all([r.e(31),r.e(134)]).then(r.bind(null,383));return yield e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}}))()),n}))).apply(this,arguments)}var l=(e,t,r)=>f.create(e,t,r,null,["$feature"]),d=(e,t,r)=>f.create(e,t,r,null,["$feature","$view"]),p=(e,t,r,n)=>f.create(e,t,r,n,["$feature","$view"]);class f{constructor(e,t,r,n,i,o,a,s){this.script=e,this.evaluate=i,this.fields=a,this._syntaxTree=n,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=o,this._spatialReference=s,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(e,t,r,n,u,l){return Object(o.a)((function*(){var{arcade:o,Feature:d,Dictionary:p}=yield c(),h=s.a.fromJSON(t),v=o.parseScript(e,l),g=u.reduce(((e,t)=>Object(i.a)(Object(i.a)({},e),{},{[t]:null})),{}),m=null;Object(a.k)(n)&&((m=new p(n)).immutable=!0,g.$config=null);var b=o.scriptUsesGeometryEngine(v)&&o.enableGeometrySupport(),y=o.scriptUsesFeatureSet(v)&&o.enableFeatureSetSupport(),w=o.scriptIsAsync(v)&&o.enableAsyncSupport(),_={vars:g,spatialReference:h,useAsync:!!w},O=new p;O.immutable=!1,O.setField("scale",0);var j=o.compileScript(v,_);return yield Promise.all([b,y,w]),new f(e,o,p,v,(e=>("$view"in e&&e.$view&&(O.setField("scale",e.$view.scale),e.$view=O),m&&(e.$config=m),j({vars:e,spatialReference:h}))),new d,r,h)}))()}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},154:function(e,t,r){"use strict";var n=r(91),i=r(7),o=r(82),a=(r(80),r(81)),s=r(85),c=r(116),u=r(288),l=r(84),d=(r(83),r(86)),p=(r(87),r(329)),f=r(94),h=r(435),v=r(131),g=r(148),m=r(206),b=(r(171),r(227)),y=r(115),w=r(108),_=r(385),O=r(114),j=(r(302),r(367)),x=a.a.getLogger("esri.widgets.Widget"),S=0,k="esri-icon-checkbox-unchecked",C=Object(j.a)(),P=!1,M=class extends(Object(b.b)(v.a.EventedAccessor)){constructor(e,t){var r;super(e,t),r=this,this._attached=!1,this._internalHandles=new y.a,this._projector=C,this.domNode=null,this.iconClass=k,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this._loadLocale=Object(f.i)(Object(i.a)((function*(){if(r._messageBundleProps&&r._messageBundleProps.length){var e=yield Object(f.j)(r._messageBundleProps.map(function(){var e=Object(i.a)((function*({bundlePath:e,propertyName:t}){r[t]=yield Object(m.a)(e)}));return function(t){return e.apply(this,arguments)}}()));for(var t of e)t.error&&x.error("widget-intl:locale-error",r.declaredClass,t.error)}yield r.loadLocale()})));var n=Object(O.d)()||"light";["light","dark"].includes(n)||Object(u.a)(x,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});var o="esri-widget-uid-"+Object(d.a)(),a=this.render.bind(this),s=!1;this._trackingTarget=new h.a((()=>this.scheduleRender()));var c=()=>{if(!s||this.destroyed)return null;var e=a();return e.properties?e.properties.key||(e.properties.key=o):e.properties={key:o},e};this.render=()=>{if(P)return c();var e;this._trackingTarget.clear(),P=!0;try{e=Object(p.b)(this._trackingTarget,c)}finally{P=!1}return e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{s=!0,this._postInitialize()})))}normalizeCtorArgs(e,t){var r=Object(n.a)({},e);return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return this._loadLocale().catch(f.v)}loadLocale(){return Object(i.a)((function*(){}))()}destroy(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null)}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Object(_.a)(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+S++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||this._projector.scheduleRender()}classes(...e){return O.a.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){this._projector.renderNow()}_postInitialize(){var e,t=this;this.destroyed||(this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(w.a)(this,"viewModel",((e,t)=>{t&&this._internalHandles.remove("delegated-events"),e&&this._internalHandles.add(this._delegatedEventNames.map((t=>e.on(t,(e=>{this.emit(t,e)})))),"delegated-events")}))),this.postInitialize(),this._internalHandles.add(Object(g.c)(Object(i.a)((function*(){yield t._loadLocale().catch(f.v),t.scheduleRender()})))),this._internalHandles.add(Object(w.j)(this,"container",function(){var e=Object(i.a)((function*(e){t.destroyed||t._attach(e)}));return function(t){return e.apply(this,arguments)}}())))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Object(o.a)([Object(s.b)({value:null})],M.prototype,"container",null),Object(o.a)([Object(c.a)("container")],M.prototype,"castContainer",null),Object(o.a)([Object(s.b)({aliasOf:"container"})],M.prototype,"domNode",void 0),Object(o.a)([Object(s.b)()],M.prototype,"iconClass",void 0),Object(o.a)([Object(s.b)()],M.prototype,"id",null),Object(o.a)([Object(s.b)()],M.prototype,"label",void 0),Object(o.a)([Object(s.b)()],M.prototype,"renderable",null),Object(o.a)([Object(s.b)()],M.prototype,"viewModel",void 0),Object(o.a)([Object(s.b)()],M.prototype,"visible",void 0);var A=M=Object(o.a)([Object(l.a)("esri.widgets.Widget")],M);t.a=A},158:function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0;t.a=r}).call(this,r(172))},159:function(e,t,r){"use strict";var n=r(158),i=(r(80),r(124)),o={apiKey:void 0,applicationUrl:n.a.location&&n.a.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(n.a.esriConfig&&(Object(i.a)(o,n.a.esriConfig,!0),delete o.has),!o.assetsPath){o.assetsPath="https://js.arcgis.com/".concat("4.19.0".slice(0,-2),"/@arcgis/core/assets")}o.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(o,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),o.request.corsEnabledServers=[],o.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=o},163:function(e,t,r){"use strict";function n(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}r.d(t,"a",(function(){return n}))},165:function(e,t,r){"use strict";function n(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function i(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){var i=t.slice();for(var o of i)e.addEventListener(o,r);return{remove(){for(var t of i)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function o(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);var o=i(e,t,(t=>{o.remove(),r.call(e,t)}));return{remove(){o.remove()}}}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o}));var a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s({key:e}){return a[e]||e}},172:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return d}));var n=r(112),i=r(99),o=r(139);function a(e){return new i.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var s=a(o.a),c=a(o.b),u=a(o.c),l=new i.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(o.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function d(e){return e&&(Object(n.g)(e)||e===c)?c:e&&(Object(n.h)(e)||e===u)?u:s}function p(e){return e&&(Object(n.g)(e)||e===c)?o.b:e&&(Object(n.h)(e)||e===u)?o.c:o.a}function f(e){return Object(n.k)(e)?o.b:Object(n.l)(e)?o.c:o.a}},184:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return s}));var n=1e-6,i=Math.random,o=Math.PI/180,a=180/Math.PI;function s(e){return e*o}function c(e){return e*a}Object.freeze({__proto__:null,EPSILON:n,RANDOM:i,toRadian:s,toDegree:c,equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}})},189:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=0;function i(){return++n}},261:function(e,t,r){"use strict";function n(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:i(e[t])}}}function i(e){return function(t,...r){!function(e){var{type:t}=e;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...r):"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),t.target.click())}}r.d(t,"a",(function(){return n}))},295:function(e,t,r){"use strict";function n(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)}function i(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));for(var n=Math.max(0,r-t),i=new(0,e.constructor)(n),o=0;o<n;o++)i[o]=e[t+o];return i}function o(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function a(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function s(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function c(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function u(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function l(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function d(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function p(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function f(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function h(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function v(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function g(e){return e?128+e.buffer.byteLength+64:0}r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return a})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return s})),r.d(t,"l",(function(){return c})),r.d(t,"m",(function(){return i})),r.d(t,"n",(function(){return v}))},302:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return C})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return O}));var n,i=r(114),o="http://www.w3.org/",a="".concat(o,"2000/svg"),s="".concat(o,"1999/xlink"),c=[],u=(e,t)=>{var r={};return Object.keys(e).forEach((t=>{r[t]=e[t]})),t&&Object.keys(t).forEach((e=>{r[e]=t[e]})),r},l=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),d=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},p=(e,t,r)=>{if(""!==t.vnodeSelector)for(var n=r;n<e.length;n++)if(l(e[n],t))return n;return-1},f=(e,t,r,n)=>{var i=e[t];if(""!==i.vnodeSelector){var o=i.properties;if(!(o?void 0===o.key?o.bind:o.key:void 0))for(var a=0;a<e.length;a++)if(a!==t){var s=e[a];if(l(s,i))throw new Error("".concat(r.vnodeSelector," had a ").concat(i.vnodeSelector," child ").concat("added"===n?n:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},h=e=>{if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},v=[],g=!1,m=e=>{(e.children||[]).forEach(m),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},b=()=>{g=!1,v.forEach(m),v.length=0},y=e=>{v.push(e),g||(g=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(b,{timeout:16}):setTimeout(b,16))},w=e=>{var t=e.domNode;if(e.properties){var r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";return void r(t,(()=>{t.parentNode&&(t.parentNode.removeChild(t),y(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),y(e))},_=(e,t,r)=>{if(t)for(var n=r.eventHandlerInterceptor,o=Object.keys(t),c=o.length,u=function(c){var u=o[c],l=t[u];if("className"===u)throw new Error('Property "className" is not supported, use "class".');if("class"===u)x(e,l,!0);else if("classes"===u)for(var p=Object.keys(l),f=p.length,h=0;h<f;h++){var v=p[h];l[v]&&e.classList.add(v)}else if("styles"===u)for(var g=Object.keys(l),m=g.length,b=0;b<m;b++){var y=g[b],w=l[y];w&&(d(w),r.styleApplyer(e,y,w))}else if("key"!==u&&null!=l){var _=typeof l;"function"===_?(0===u.lastIndexOf("on",0)&&(n&&(l=n(u,l,e,t)),"oninput"===u&&function(){var e=l;l=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[u]=l):r.namespace===a?"href"===u?e.setAttributeNS(s,u,l):e.setAttribute(u,l):"string"===_&&"value"!==u?"innerHTML"===u?e[u]=i.h.sanitize(l):e.setAttribute(u,l):e[u]=l}},l=0;l<c;l++)u(l)},O=(e,t,r)=>{((e,t,r)=>{if(t)for(var n of t)j(n,e,void 0,r)})(e,t.children,r),t.text&&(e.textContent=t.text),_(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},j=(e,t,r,n)=>{var i,o=0,s=e.vnodeSelector,c=t.ownerDocument;if(""===s)i=e.domNode=c.createTextNode(e.text),void 0!==r?t.insertBefore(i,r):t.appendChild(i);else{for(var l=0;l<=s.length;++l){var d=s.charAt(l);if(l===s.length||"."===d||"#"===d){var p=s.charAt(o-1),f=s.slice(o,l);"."===p?i.classList.add(f):"#"===p?i.id=f:("svg"===f&&(n=u(n,{namespace:a})),void 0!==n.namespace?i=e.domNode=c.createElementNS(n.namespace,f):(i=e.domNode=e.domNode||c.createElement(f),"input"===f&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),o=l+1}}O(i,e,n)}},x=(e,t,r)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,r)}))},S=(e,t,r,n)=>{if(r){for(var o=!1,c=Object.keys(r),u=c.length,l=0;l<u;l++){var p=c[l],f=r[p],h=t[p];if("class"===p)h!==f&&(x(e,h,!1),x(e,f,!0));else if("classes"===p)for(var v=e.classList,g=Object.keys(f),m=g.length,b=0;b<m;b++){var y=g[b],w=!!f[y];w!==!!h[y]&&(o=!0,w?v.add(y):v.remove(y))}else if("styles"===p)for(var _=Object.keys(f),O=_.length,j=0;j<O;j++){var S=_[j],k=f[S];k!==h[S]&&(o=!0,k?(d(k),n.styleApplyer(e,S,k)):n.styleApplyer(e,S,""))}else if(f||"string"!=typeof h||(f=""),"value"===p){var C=e[p];C!==f&&(e["oninput-value"]?C===e["oninput-value"]:f!==h)&&(e[p]=f,e["oninput-value"]=void 0),f!==h&&(o=!0)}else if(f!==h){var P=typeof f;"function"===P&&n.eventHandlerInterceptor||(n.namespace===a?"href"===p?e.setAttributeNS(s,p,f):e.setAttribute(p,f):"string"===P?"innerHTML"===p?e[p]=i.h.sanitize(f):"role"===p&&""===f?e.removeAttribute(p):e.setAttribute(p,f):e[p]!==f&&(e[p]=f),o=!0)}}return o}},k=(e,t,r,i,o)=>{if(r===i)return!1;i=i||c;for(var a,s=(r=r||c).length,u=i.length,d=0,v=0,g=!1;v<u;){var m=d<s?r[d]:void 0,b=i[v];if(void 0!==m&&l(m,b))g=n(m,b,o)||g,d++;else{var y=p(r,b,d+1);if(y>=0){for(a=d;a<y;a++)w(r[a]),f(r,a,e,"removed");g=n(r[y],b,o)||g,d=y+1}else j(b,t,d<s?r[d].domNode:void 0,o),h(b),f(i,v,e,"added")}v++}if(s>d)for(a=d;a<s;a++)w(r[a]),f(r,a,e,"removed");return g};n=(e,t,r)=>{var n=e.domNode,i=!1;if(e===t)return!1;var o=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var s=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(s,n),t.domNode=s,i=!0}t.domNode=n}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=u(r,{namespace:a})),e.text!==t.text&&(o=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,o=k(t,n,e.children,t.children,r)||o,o=S(n,e.properties,t.properties,r)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),i};var C=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var i=e;e=r,n(i,r,t)},domNode:e.domNode})},367:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n,i=r(302),o={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{"-"===t.charAt(0)?e.style.setProperty(t,r):e.style[t]=r}},a=e=>Object(i.c)(o,e),s=(e,t,r)=>(r=a(r),Object(i.a)(t,e,void 0,r),Object(i.b)(t,r)),c=(e,t,r)=>(r=a(r),Object(i.a)(t,e.parentNode,e,r),Object(i.b)(t,r)),u=(e,t,r)=>(r=a(r),t.domNode=e,Object(i.d)(e,t,r),Object(i.b)(t,r)),l=(e,t,r)=>(r=a(r),Object(i.a)(t,e.parentNode,e,r),e.parentNode.removeChild(e),Object(i.b)(t,r)),d=(e,t)=>{for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r};n=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];var p=(e,t)=>{var r=e;return t.forEach((e=>{r=r&&r.children?n(r.children,(t=>t.domNode===e)):void 0})),r},f=(e,t,r)=>{var n=function(n){r("domEvent",n);var i=t(),o=d(n.currentTarget,i.domNode);o.reverse();var a,s=p(i.getLastRender(),o);return e.scheduleRender(),s&&(a=s.properties["on".concat(n.type)].apply(s.properties.bind||this,arguments)),r("domEventProcessed",n),a};return(e,t,r,i)=>n},h=e=>{var t,r,n=a(e),i=n.performanceLogger,o=!0,d=!1,p=[],h=[],v=(e,r,o)=>{var a;n.eventHandlerInterceptor=f(t,(()=>a),i),a=e(r,o(),n),p.push(a),h.push(o)},g=()=>{if(r=void 0,o){o=!1,i("renderStart",void 0);for(var e=0;e<p.length;e++){var t=h[e]();i("rendered",void 0),p[e].update(t),i("patched",void 0)}i("renderDone",void 0),o=!0}};return t={renderNow:g,scheduleRender:()=>{r||d||(r=requestAnimationFrame(g))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),d=!0},resume:()=>{d=!1,o=!0,t.scheduleRender()},append:(e,t)=>{v(s,e,t)},insertBefore:(e,t)=>{v(c,e,t)},merge:(e,t)=>{v(u,e,t)},replace:(e,t)=>{v(l,e,t)},detach:e=>{for(var t=0;t<h.length;t++)if(h[t]===e)return h.splice(t,1),p.splice(t,1)[0];throw new Error("renderFunction was not found")}}}},385:function(e,t,r){"use strict";function n(e){return"string"==typeof e?document.getElementById(e):e}function i(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function o(e,t){var r=t.parentNode;r&&r.insertBefore(e,t)}function a(e,t){for(;;){var r=e.firstChild;if(!r)break;t.appendChild(r)}}function s(e){e.parentNode&&e.parentNode.removeChild(e)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return a}));(()=>{if("function"==typeof Element.prototype.closest)return(e,t)=>e.closest(t);var e=Element.prototype.matches||Element.prototype.msMatchesSelector})()},409:function(e,t,r){"use strict";var n=r(124);class i{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof i&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";var i=Object(n.b)(r,t),o=null==i?"":i;if(void 0===o)throw new Error('could not find key "'.concat(r,'" in template'));return o.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}t.a=i},455:function(e,t,r){"use strict";var n=r(158);var i,o=(i=n.a,{setTimeout:(e,t)=>{var r=i.setTimeout(e,t);return{remove:()=>i.clearTimeout(r)}}});t.a=o},501:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(84),a=(r(83),r(86),r(87),e=>{var t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){var{view:t}=this;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}};return Object(n.a)([Object(i.b)()],t.prototype,"goToOverride",void 0),Object(n.a)([Object(i.b)()],t.prototype,"view",void 0),t=Object(n.a)([Object(o.a)("esri.widgets.support.GoTo")],t)})},545:function(e,t,r){"use strict";var n=r(82),i=(r(80),r(81),r(88),r(85)),o=r(84),a=(r(83),r(86),r(87),r(90)),s=r(100),c=class extends a.a{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){var e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(s.c)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(i.b)()],c.prototype,"geometries",void 0),Object(n.a)([Object(i.b)({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformation",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformForward",void 0);var u=c=Object(n.a)([Object(o.a)("esri.tasks.support.ProjectParameters")],c);t.a=u},776:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return d}));var n=r(91),i=r(143),o=r(148),a={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function s(e){e||(e=Object(o.b)());var t=e in a;if(!t){var r=e.split("-");r.length>1&&r[0]in a&&(e=r[0],t=!0),t||(e="en")}var[n,i,s="#,##0.###"]=a[e];return{decimal:n,group:i,pattern:s}}function c(e,t){var r=s((t=Object(n.a)({},t)).locale);t.customs=r;var i=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var n=(r=r||{}).customs.group,i=r.customs.decimal,o=t.split(";"),a=o[0];if(-1!==(t=o[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var s=u,c=a.match(s);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(s,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var n=t.split("."),i="string"==typeof r.places&&r.places.indexOf(","),o=r.places;i?o=r.places.substring(i+1):o>=0||(o=(n[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(o))));var a=String(Math.abs(e)).split("."),s=a[1]||"";if(n[1]||r.places){i&&(r.places=r.places.substring(0,i));var c=void 0!==r.places?r.places:n[1]&&n[1].lastIndexOf("0")+1;c>s.length&&(a[1]=s.padEnd(Number(c),"0")),o<s.length&&(a[1]=s.substr(0,Number(o)))}else a[1]&&a.pop();var u=n[0].replace(",",""),l=u.indexOf("0");-1!==l&&((l=u.length-l)>a[0].length&&(a[0]=a[0].padStart(l,"0")),-1===u.indexOf("#")&&(a[0]=a[0].substr(a[0].length-l)));var d,p,f=n[0].lastIndexOf(",");if(-1!==f){d=n[0].length-f-1;var h=n[0].substr(0,f);-1!==(f=h.lastIndexOf(","))&&(p=h.length-f-1)}for(var v=[],g=a[0];g;){var m=g.length-d;v.push(m>0?g.substr(m):g),g=m>0?g.slice(0,m):"",p&&(d=p,p=void 0)}return a[0]=v.reverse().join(r.group||","),a.join(r.decimal||".")}(e,c[0],{decimal:i,group:n,places:r.places,round:r.round}))}(e,i,t)}var u=/[#0,]*[#0](?:\.0*#*)?/;function l(e){var t=s((e=e||{}).locale),r=e.pattern||t.pattern,n=t.group,o=t.decimal,a=1;if(-1!==r.indexOf("%"))a/=100;else if(-1!==r.indexOf("\u2030"))a/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");var c=r.split(";");return 1===c.length&&c.push("-"+c[0]),{regexp:f(c,(function(t){return(t="(?:"+Object(i.a)(t,".")+")").replace(u,(function(t){var r={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:o,exponent:!1},i=t.split("."),s=e.places;1===i.length&&1!==a&&(i[1]="###"),1===i.length||0===s?r.fractional=!1:(void 0===s&&(s=e.pattern?i[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(r.fractional=!0),!e.places&&s<i[1].length&&(s+=","+i[1].length),r.places=s);var c=i[0].split(",");return c.length>1&&(r.groupSize=c.pop().length,c.length>1&&(r.groupSize2=c.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=p(e),r=f(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+f(e.exponent,(function(t){return t?"([eE]"+p({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:o,factor:a}}function d(e,t){var r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor}function p(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",f(e.signed,(function(e){return e?"[-+]":""}),!0)+f(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=Object(i.a)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var r=e.groupSize,n=e.groupSize2;if(n){var o="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+r+"})";return r-n>0?"(?:"+o+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":o}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}var f=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return h(n.join("|"),r)},h=function(e,t){return"("+(t?"?:":"")+e+")"}},80:function(e,t,r){"use strict";var n,i,o,a,s,c=r(91),u=r(158);function l(e){return"function"==typeof o[e]?o[e]=o[e](u.a):o[e]}o=null!=(n=u.a.dojoConfig)&&n.has||null!=(i=u.a.esriConfig)&&i.has?Object(c.a)(Object(c.a)({},null==(a=u.a.dojoConfig)?void 0:a.has),null==(s=u.a.esriConfig)?void 0:s.has):{},l.add=(e,t,r,n)=>((n||void 0===o[e])&&(o[e]=t),r&&l(e)),l.cache=o,l.add("esri-deprecation-warnings",!0),(()=>{l.add("host-webworker",void 0!==u.a.WorkerGlobalScope&&self instanceof u.a.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(l.add("host-browser",e),l.add("host-node","object"==typeof u.a.process&&u.a.process.versions&&u.a.process.versions.node&&u.a.process.versions.v8),l.add("dom",e),l("host-browser")){var t=navigator,r=t.userAgent,n=t.appVersion,i=parseFloat(n);if(l.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),l.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),l.add("khtml",n.indexOf("Konqueror")>=0?i:void 0),l.add("edge",parseFloat(r.split("Edge/")[1])||void 0),l.add("opr",parseFloat(r.split("OPR/")[1])||void 0),l.add("webkit",!l("wp")&&!l("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),l.add("chrome",!l("edge")&&!l("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),l.add("android",!l("wp")&&parseFloat(r.split("Android ")[1])||void 0),l.add("safari",!(n.indexOf("Safari")>=0)||l("wp")||l("chrome")||l("android")||l("edge")||l("opr")?void 0:parseFloat(n.split("Version/")[1])),l.add("mac",n.indexOf("Macintosh")>=0),l.add("quirks","BackCompat"===document.compatMode),!l("wp")&&r.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),a=r.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""));l.add(o,s),l.add("ios",s)}l.add("trident",parseFloat(n.split("Trident/")[1])||void 0),l.add("svg","undefined"!=typeof SVGAngle),l("webkit")||(r.indexOf("Opera")>=0&&l.add("opera",i>=9.8&&parseFloat(r.split("Version/")[1])||i),!(r.indexOf("Gecko")>=0)||l("wp")||l("khtml")||l("trident")||l("edge")||l.add("mozilla",i),l("mozilla")&&l.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(u.a.navigator){var e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),r=e.match(/iPhone/i);t&&l.add("esri-mobile",t),r&&l.add("esri-iPhone",r),l.add("esri-geolocation",!!navigator.geolocation)}l.add("esri-canvas-svg-support",!l("trident")),l.add("esri-wasm","WebAssembly"in u.a),l.add("esri-shared-array-buffer",(()=>{var e="SharedArrayBuffer"in u.a,t=!1===u.a.crossOriginIsolated;return e&&!t})),l.add("esri-atomics","Atomics"in u.a),l.add("esri-workers","Worker"in u.a),l.add("esri-text-decoder","TextDecoder"in u.a),l.add("esri-text-encoder","TextEncoder"in u.a),l.add("featurelayer-snapshot-enabled",!0),l.add("featurelayer-snapshot-point-min-threshold",8e4),l.add("featurelayer-snapshot-point-max-threshold",4e5),l.add("featurelayer-snapshot-point-coverage",.1),l.add("featurelayer-advanced-symbols",!1),l.add("featurelayer-pbf",!0),l.add("featurelayer-pbf-statistics",!1),l.add("feature-layers-workers",!0),l.add("mapview-transitions-duration",200),l.add("mapserver-pbf-enabled",!1),l("host-webworker")||l("host-browser")&&(l.add("csp-restrictions",(()=>{try{new Function}catch(e){return!0}return!1})),l.add("esri-image-decode",(()=>{if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{l.add("esri-image-decode",!0,!0,!0)})).catch((()=>{l.add("esri-image-decode",!1,!0,!0)}))}return!1})),l.add("esri-url-encodes-apostrophe",(()=>{var e=u.a.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1})),l.add("vectortilelayer-max-buffers",(()=>l("ff")?160:Number.POSITIVE_INFINITY)))})(),t.a=l},81:function(e,t,r){"use strict";r(80);var n=r(159),i=r(89),o=r(143),a={info:0,warn:1,error:2,none:3};class s{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s._loggers[this.module]=this;var t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){var e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){var t=s._loggers;return s._loggers=e,t},set throttlingDisabled(e){s._throttlingDisabled=e}}}static getLogger(e){var t=s._loggers[e];return t||(t=new s({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!s._throttlingDisabled){var i=this._argsToKey(r),o=this._loggedMessages[e].get(i);if("once"===t&&null!=o||"oncePerTick"===t&&o&&o>=s._tickCounter)return;this._loggedMessages[e].set(i,s._tickCounter),s._scheduleTickCounterIncrement()}for(var a of n.a.log.interceptors)if(a(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){for(var r=this;Object(i.k)(r);){var n=r[e];if(Object(i.k)(n))return n;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e]("[".concat(t,"]"),...r)}_matchLevel(e){var t=n.a.log.level?n.a.log.level:"warn";return a[this._parentWithMember("level",t)]<=a[e]}_argsToKey(...e){return Object(o.b)(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){s._tickCounterScheduled||(s._tickCounterScheduled=!0,Promise.resolve().then((()=>{s._tickCounter++,s._tickCounterScheduled=!1})))}}s._loggers={},s._tickCounter=0,s._tickCounterScheduled=!1,s._throttlingDisabled=!1,t.a=s},828:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(117),i={readOnly:!0,get(){var e="metric",{view:t}=this;if(!t)return e;var r=t.get("map.portalItem.portal");if(r)switch(r.get("user.units")||r.units){case e:return e;case"english":return"imperial"}return Object(n.d)(t.spatialReference)||e}}},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return _})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return y})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return w})),r.d(t,"j",(function(){return i})),r.d(t,"k",(function(){return n})),r.d(t,"l",(function(){return o})),r.d(t,"m",(function(){return v})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return h})),r.d(t,"p",(function(){return p})),r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return u})),r.d(t,"s",(function(){return c}));function n(e){return null!=e}function i(e){return null==e}function o(e){return void 0===e}function a(e,t){return n(e)?t(e):null}function s(e){return e}function c(e,t){if(i(e))throw new Error(t);return e}function u(e,t){return n(e)?e:"function"==typeof t?t():t}function l(e){return n(e)&&e.destroy(),null}function d(e){return n(e)&&e.dispose(),null}function p(e){return n(e)&&e.remove(),null}function f(e){return n(e)&&e.abort(),null}function h(e){return null}function v(e,t){var r=new Array;for(var n of e)r.push(m(n,null,t));return r}function g(e,t){for(var r of e)m(r,null,t)}function m(e,t,r){return n(e)?r(e):t}function b(e,t){return n(e)?t(e):null}function y(e){return e.filter((e=>n(e)))}function w(e,...t){for(var r=e,n=0;n<t.length&&r;)r=r[t[n++]];return r}function _(e){return e}},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));r(80);var n=r(295);function i(e,t){var r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&i(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(Object(n.h)(e)||Object(n.k)(e)||Object(n.l)(e)||Object(n.f)(e)||Object(n.i)(e)||Object(n.g)(e)||Object(n.j)(e)||Object(n.d)(e)||Object(n.e)(e))return Object(n.m)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach(((e,r)=>{t.set(r,o(e))})),t}if(e instanceof Set){var r=new Set;return e.forEach((e=>{r.add(o(e))})),r}var i,a=e;if("function"==typeof a.clone)i=a.clone();else if("function"==typeof a.map&&"function"==typeof a.forEach)i=a.map(o);else if("function"==typeof a.notifyChange&&"function"==typeof a.watch)i=a.clone();else for(var s of(i={},Object.getOwnPropertyNames(e)))i[s]=o(e[s]);return i}function a(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}},93:function(e,t,r){"use strict";var n=r(92),i=r(81),o=r(409);class a extends o.a{constructor(e,t,r){if(super(e,t,r),!(this instanceof a))return new a(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(n.a)(t)}catch(a){return"[object]"}})))}}catch(e){throw i.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new a(e.name,e.message,e.details)}}a.prototype.type="error",t.a=a},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return _})),r.d(t,"g",(function(){return A})),r.d(t,"h",(function(){return T})),r.d(t,"i",(function(){return M})),r.d(t,"j",(function(){return O})),r.d(t,"k",(function(){return j})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return f})),r.d(t,"o",(function(){return C})),r.d(t,"p",(function(){return g})),r.d(t,"q",(function(){return m})),r.d(t,"r",(function(){return x})),r.d(t,"s",(function(){return S})),r.d(t,"t",(function(){return h})),r.d(t,"u",(function(){return d})),r.d(t,"v",(function(){return v})),r.d(t,"w",(function(){return P})),r.d(t,"x",(function(){return b}));var n=r(89),i=(r(81),r(93)),o=r(455),a=r(165);function s(e){return Promise.all(e)}function c(e){return new Promise(((t,r)=>{try{e(t,r)}catch(n){Promise.resolve().then((()=>r(n)))}}))}function u(e="Aborted"){return new i.a("AbortError",e)}function l(){return new AbortController}function d(e){if(f(e))throw u()}function p(e){return Object(n.k)(e)?"aborted"in e?e:e.signal:e}function f(e){var t=p(e);return Object(n.k)(t)&&t.aborted}function h(e){if(y(e))throw e}function v(e){if(!y(e))throw e}function g(e,t){var r=p(e);if(!Object(n.j)(r)){if(!r.aborted)return Object(a.d)(r,"abort",(()=>t()));t()}}function m(e,t){var r=p(e);if(!Object(n.j)(r))return d(r),Object(a.d)(r,"abort",(()=>t(u())))}function b(e,t){var r=p(t);return Object(n.j)(r)?e:new Promise(((r,i)=>{var o=g(t,(()=>i(u()))),a=()=>o=Object(n.p)(o);e.then(a,a),e.then(r,i)}))}function y(e){return e&&"AbortError"===e.name}function w(e){return e.catch((e=>{if(!y(e))throw e}))}function _(){var e=null,t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function O(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return O(t.map((t=>e[t]))).then((e=>{var r={};return t.forEach(((t,n)=>r[t]=e[n])),r}))}var r=e;return c((e=>{var t=[],n=r.length;0===n&&e(t),r.forEach((r=>{var i={promise:r||Promise.resolve(r)};t.push(i),i.promise.then((e=>{i.value=e})).catch((e=>{i.error=e})).then((()=>{0===--n&&e(t)}))}))}))}}function j(e){return O(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function x(e){return Promise.reject(e)}function S(e){return Promise.resolve(e)}function k(e,t,r){var n=l();return g(r,(()=>n.abort())),new Promise(((r,i)=>{var o=setTimeout((()=>{o=0,r(t)}),e);g(n,(()=>{o&&(clearTimeout(o),i(u()))}))}))}function C(e){return e&&"function"==typeof e.then}function P(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function M(e,t=-1){var r,i,o,a,s=null,c=(...d)=>{if(r){i=d,a&&a.reject(u()),a=_();var p=Object(n.d)(a.promise);if(s){var f=s;s=null,f.abort()}return p}if(o=a||_(),a=null,t>0){var h=l(),v=r=P(e(...d,h.signal));k(t).then((()=>{r===v&&(a?h.abort():s=h)}))}else r=1,r=P(e(...d));var g=()=>{var e=i;i=o=r=s=null,null!=e&&c(...e)},m=r,b=o;return m.then(g,g),m.then(b.resolve,b.reject),Object(n.d)(b.promise)};return c}function A(){var e,t,r=new Promise(((r,n)=>{e=r,t=n})),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>o.a.setTimeout((()=>n.reject(t)),e),n.promise=r,n}function T(e){var t=l(),r=e(t.signal),n={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}},i=()=>{n&&(n.finished=!0,n=null),t=null};return r.then(i,i),n}}}]);
//# sourceMappingURL=93.ee11a091.chunk.js.map