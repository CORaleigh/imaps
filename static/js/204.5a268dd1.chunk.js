(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[204],{310:function(t,n,e){"use strict";e.d(n,"a",(function(){return w})),e.d(n,"b",(function(){return y})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return O})),e.d(n,"e",(function(){return j})),e.d(n,"f",(function(){return v})),e.d(n,"g",(function(){return M}));var r=e(85),o=e(95);const i=(t,n,e)=>[n,e],u=(t,n,e)=>[n,e,t[2]],a=(t,n,e)=>[n,e,t[2],t[3]];function c(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function s({scale:t,translate:n},e){return Math.round((e-n[0])/t[0])}function l({scale:t,translate:n},e){return Math.round((n[1]-e)/t[1])}function f(t,n,e){const r=[];let o,i,u,a;for(let c=0;c<e.length;c++){const f=e[c];c>0?(u=s(t,f[0]),a=l(t,f[1]),u===o&&a===i||(r.push(n(f,u-o,a-i)),o=u,i=a)):(o=s(t,f[0]),i=l(t,f[1]),r.push(n(f,o,i)))}return r.length>0?r:null}function m({scale:t,translate:n},e){return e*t[0]+n[0]}function h({scale:t,translate:n},e){return n[1]-e*t[1]}function g(t,n,e){const r=new Array(e.length);if(!e.length)return r;const[o,i]=t.scale;let u=m(t,e[0][0]),a=h(t,e[0][1]);r[0]=n(e[0],u,a);for(let c=1;c<e.length;c++){const t=e[c];u+=t[0]*o,a-=t[1]*i,r[c]=n(t,u,a)}return r}function p(t,n,e){const r=new Array(e.length);for(let o=0;o<e.length;o++)r[o]=g(t,n,e[o]);return r}function d(t,n,e,r,o){return n.points=function(t,n,e,r){return f(t,e?r?a:u:r?u:i,n)}(t,e.points,r,o),n}function y(t,n,e,r,o){return n.x=s(t,e.x),n.y=l(t,e.y),n!==e&&(r&&(n.z=e.z),o&&(n.m=e.m)),n}function b(t,n,e,r,o){const c=function(t,n,e,r){const o=[],c=e?r?a:u:r?u:i;for(let i=0;i<n.length;i++){const e=f(t,c,n[i]);e&&e.length>=3&&o.push(e)}return o.length?o:null}(t,e.rings,r,o);return c?(n.rings=c,n):null}function x(t,n,e,r,o){const c=function(t,n,e,r){const o=[],c=e?r?a:u:r?u:i;for(let i=0;i<n.length;i++){const e=f(t,c,n[i]);e&&e.length>=2&&o.push(e)}return o.length?o:null}(t,e.paths,r,o);return c?(n.paths=c,n):null}function w(t,n){return t&&n?Object(o.f)(n)?y(t,{},n,!1,!1):Object(o.h)(n)?x(t,{},n,!1,!1):Object(o.g)(n)?b(t,{},n,!1,!1):Object(o.e)(n)?d(t,{},n,!1,!1):Object(o.d)(n)?function(t,n,e,r,o){return n.xmin=s(t,e.xmin),n.ymin=l(t,e.ymin),n.xmax=s(t,e.xmax),n.ymax=l(t,e.ymax),n!==e&&(r&&(n.zmin=e.zmin,n.zmax=e.zmax),o&&(n.mmin=e.mmin,n.mmax=e.mmax)),n}(t,{},n,!1,!1):null:null}function O(t,n,e,o,c){return Object(r.k)(e)&&(n.points=function(t,n,e,r){return g(t,e?r?a:u:r?u:i,n)}(t,e.points,o,c)),n}function j(t,n,e,o,i){return Object(r.j)(e)||(n.x=m(t,e.x),n.y=h(t,e.y),n!==e&&(o&&(n.z=e.z),i&&(n.m=e.m))),n}function v(t,n,e,o,c){return Object(r.k)(e)&&(n.rings=function(t,n,e,r){return p(t,e?r?a:u:r?u:i,n)}(t,e.rings,o,c)),n}function M(t,n,e,o,c){return Object(r.k)(e)&&(n.paths=function(t,n,e,r){return p(t,e?r?a:u:r?u:i,n)}(t,e.paths,o,c)),n}},407:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(88),o=e(80),i=e(310);function u(t,n,e,r,i){const u=t.referencesGeometry()&&i?c(n,r,i):n,a=t.repurposeFeature(u);try{return t.evaluate({...e,$feature:a})}catch(s){return o.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",s),null}}const a=new Map;function c(t,n,e){const{transform:u,hasZ:c,hasM:s}=e;a.has(n)||a.set(n,function(t){const n={};switch(t){case"esriGeometryPoint":return(t,e,r,o)=>Object(i.e)(e,n,t,r,o);case"esriGeometryPolygon":return(t,e,r,o)=>Object(i.f)(e,n,t,r,o);case"esriGeometryPolyline":return(t,e,r,o)=>Object(i.g)(e,n,t,r,o);case"esriGeometryMultipoint":return(t,e,r,o)=>Object(i.d)(e,n,t,r,o);default:return o.a.getLogger("esri.views.2d.support.arcadeOnDemand").error(new r.a("mapview-arcade",`Unable to handle geometryType: ${t}`)),t=>t}}(n));const l=a.get(n)(t.geometry,u,c,s);return{...t,geometry:l}}},714:function(t,n,e){"use strict";e.r(n),e.d(n,"previewCIMSymbol",(function(){return a}));var r=e(102),o=e(1136),i=e(436);const u=new o.CIMSymbolRasterizer(null,!0);async function a(t,n={}){const{size:e,maxSize:o,node:a,opacity:c}=n,s=n.cimOptions||n,{feature:l,fieldMap:f,geometryType:m,style:h}=s,g=Object(i.c)(t),p=Math.min(null!=e?e:g,null!=o?o:Object(r.i)(120));p!==g&&(t=t.clone(),Object(i.e)(t,p,{preserveOutlineWidth:!0}));let d=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(d=1);const y=await u.rasterizeCIMSymbolAsync(t,l,f,m,{scaleFactor:d,style:h}),b=document.createElement("canvas");b.width=y.imageData.width,b.height=y.imageData.height,b.getContext("2d").putImageData(y.imageData,0,0);let x=b.width/d,w=b.height/d;if(null!=e&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale))){const t=x/w;x=t<=1?Math.ceil(p*t):p,w=t<=1?p:Math.ceil(p/t)}const O=new Image(x,w);return O.src=b.toDataURL(),null!=c&&(O.style.opacity=`${c}`),a&&a.appendChild(O),O}}}]);
//# sourceMappingURL=204.5a268dd1.chunk.js.map