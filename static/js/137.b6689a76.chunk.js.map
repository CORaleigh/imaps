{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/UnitNormalizer.js","../node_modules/@arcgis/core/views/3d/interactive/graphics/DirectLineMeasurement3D/DirectLineMeasurement3DController.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/geometry/support/geodesicUtils.js","../node_modules/@arcgis/core/core/Quantity.js"],"names":["t","constructor","e","this","spatialReference","_spatialReference","_updateNormalizationFactors","normalizeDistance","_metersPerDistanceUnit","normalizeElevation","_metersPerElevationUnit","normalizeArea","_squareMetersPerAreaUnit","y","r","super","_tempStartPosition","m","_tempEndPosition","_tempCornerPosition","_unitNormalizer","M","_handles","p","initialize","add","d","view","_initialize","h","s","j","f","_sphericalPCPF","i","_","dataObject","watch","_updateMeasurement","startPoint","endPoint","measurement","_euclideanDistances","_exactGeodesicDistanceAndAngle","horizontal","value","directDistance","direct","horizontalDistance","verticalDistance","vertical","geodesicDistance","distance","geodesicAngle","angle","z","clone","o","a","n","c","g","l","Math","abs","u","paths","isGeographic","w","v","isWebMercator","P","_fallbackGeodesicAngle","_fallbackGeodesicDistance","metersPerDegree","b","k","A","sin","cos","D","prototype","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","hasZ","hasM","x","getPointX","getPointY","getPointZ","getPointM","exportPolygon","rings","exportPaths","exportPolyline","exportMultipoint","points","exportPoints","exportExtent","xmin","getXMin","ymin","getYMin","xmax","getXMax","ymax","getYMax","getZExtent","zmin","vmin","zmax","vmax","getMExtent","mmin","mmax","Array","isArray","extendedSpatialReferenceInfo","clip","cut","contains","crosses","equals","intersects","touches","within","disjoint","overlaps","relate","isSimple","simplify","E","convexHull","difference","symmetricDifference","intersect","R","union","I","offset","buffer","S","geodesicBuffer","nearestCoordinate","J","nearestVertex","N","nearestVertices","O","center","extent","V","Error","fromJSON","rotate","flipHorizontal","B","flipVertical","generalize","H","densify","L","geodesicDensify","planarArea","planarLength","q","geodesicArea","C","geodesicLength","wkid","wkt","exec","length","split","parseFloat","isNaN","WGS84","Object","assign","eSq","radius","densificationRatio","sqrt","log","some","push","type","azimuth","slice","floor","tan","atan2","F","PI","G","U","atan","reverseAzimuth","acos","measure","unit","toUnit","toBaseUnit"],"mappings":"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","file":"static/js/137.b6689a76.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isNone as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import r from\"../../../../../core/Accessor.js\";import o from\"../../../../../geometry/Polyline.js\";import{rad2deg as a,acosClamped as n,deg2rad as c}from\"../../../../../core/mathUtils.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{k as l}from\"../../../../../chunks/vec3.js\";import p from\"../../../../../core/Handles.js\";import{whenOnce as d}from\"../../../../../core/watchUtils.js\";import{getSphericalPCPF as h,getReferenceEllipsoid as u,SphericalECEFSpatialReference as j,WGS84ECEFSpatialReference as f}from\"../../../../../geometry/projectionEllipsoid.js\";import{canProjectWithoutEngine as _,projectPointToVector as g,projectPointToWGS84ComparableLonLat as b}from\"../../../../../geometry/projection.js\";import z from\"../../../../../core/Quantity.js\";import{isSupported as w,geodesicLengths as v,inverseGeodeticSolver as D}from\"../../../../../geometry/support/geodesicUtils.js\";import{geodesicLength as P}from\"../../../../../geometry/geometryEngine.js\";import M from\"../../measurementTools/support/UnitNormalizer.js\";let y=class extends r{constructor(e){super(e),this._tempStartPosition=m(),this._tempEndPosition=m(),this._tempCornerPosition=m(),this._unitNormalizer=new M,this._handles=new p}initialize(){this._handles.add(d(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){const e=this.view.spatialReference,t=h(e),s=t===j?f:t;this._sphericalPCPF=s;const i=_(e,s);this._unitNormalizer.spatialReference=i?s:e,this._handles.add([this.dataObject.watch(\"startPoint\",(()=>this._updateMeasurement()),!0),this.dataObject.watch(\"endPoint\",(()=>this._updateMeasurement()),!0),this.dataObject.watch(\"settings\",(()=>this._updateMeasurement()),!0)],\"model\"),this._updateMeasurement()}_updateMeasurement(){const e=this.dataObject.startPoint,s=this.dataObject.endPoint;if(t(e)||t(s))return void(this.dataObject.measurement=null);const i=this._euclideanDistances(e,s),r=this._exactGeodesicDistanceAndAngle(e,s,i.horizontal.value);this.dataObject.measurement={directDistance:i.direct,horizontalDistance:i.horizontal,verticalDistance:i.vertical,geodesicDistance:r.distance,geodesicAngle:r.angle}}_euclideanDistances(e,t){e.z>t.z&&(e=[e,e=t][0]);const s=e.clone();s.z=t.z;const i=this._tempStartPosition,r=this._tempEndPosition,o=this._tempCornerPosition,a=this.view.spatialReference,n=this._sphericalPCPF,c=_(a,n)?n:a;g(e,i,c),g(t,r,c),g(s,o,c);const m=l(i,r),p=l(o,r),d=Math.abs(t.z-e.z),h=e=>this._unitNormalizer.normalizeDistance(e),u=h(m),j=h(p),f=h(d);return{direct:new z(u,\"meters\"),horizontal:new z(j,\"meters\"),vertical:new z(f,\"meters\")}}_exactGeodesicDistanceAndAngle(e,t,s){const i=e.spatialReference,r=new o({paths:[e,t],spatialReference:i}),a=i.isGeographic&&w(i)?v([r],\"meters\")[0]:i.isWebMercator?P(r,\"meters\"):void 0,{distance:n,angle:c}=a?{distance:a,angle:this._fallbackGeodesicAngle(a,i)}:this._fallbackGeodesicDistance(e,t,s);return{distance:new z(n,\"meters\"),angle:new z(c,\"degrees\")}}_fallbackGeodesicAngle(e,t){return e/u(t).metersPerDegree}_fallbackGeodesicDistance(e,t,s){if(b(e,k)){b(t,A);const e=c(k[0]),s=c(k[1]),i=c(A[0]),r=c(A[1]),o=Math.abs(i-e),m=n(Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(o)),l=a(m),p={distance:0};return D(p,[k[0],k[1]],[A[0],A[1]]),{distance:p.distance,angle:l}}{const t=e.spatialReference,i=s;return{distance:i,angle:this._fallbackGeodesicAngle(i,t)}}}};e([s()],y.prototype,\"view\",void 0),e([s()],y.prototype,\"dataObject\",void 0),y=e([i(\"esri.views.3d.interactive.graphics.DirectLineMeasurement3D.DirectLineMeasurement3DController\")],y);const k=m(),A=m();export{y as DirectLineMeasurement3DController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Point.js\";import n from\"../Extent.js\";import t from\"../Multipoint.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({x:n.getPointX(t),y:n.getPointY(t),spatialReference:o});return i&&(s.z=n.getPointZ(t)),r&&(s.m=n.getPointM(t)),s.cache._geVersion=t,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,n,o){const i=new t({hasZ:e.hasZ(n),hasM:e.hasM(n),points:e.exportPoints(n),spatialReference:o});return i.cache._geVersion=n,i}function x(e,t,o){const i=e.hasZ(t),r=e.hasM(t),s=new n({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:o});if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{a as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../SpatialReference.js\";import n from\"../Point.js\";import s from\"../Polygon.js\";import i from\"../Polyline.js\";import\"../../geometry.js\";import{convertUnit as a}from\"../../core/unitUtils.js\";import{toRadians as r,spheroids as o,WKT_SPHEROID_REGEX as c}from\"./geodesicConstants.js\";function l(e){if(!e)return null;if(e.isGeographic&&e.wkid){const t=o[e.wkid];if(t)return t}if(e.wkt){const t=c.exec(e.wkt);if(!t||2!==t.length)return null;const n=t[1].split(\",\");if(!n||n.length<3)return null;const s=parseFloat(n[1]),i=parseFloat(n[2]);if(isNaN(s)||isNaN(i))return null;return{a:s,f:0===i?0:1/i}}return null}function h(e){return\"b\"in e&&\"eSq\"in e&&\"radius\"in e}function p(e){const n=l(e||t.WGS84);if(h(n))return n;const s=n.a*(1-n.f);return Object.assign(n,{b:s,eSq:1-(s/n.a)**2,radius:(2*n.a+s)/3,densificationRatio:1e4/((2*n.a+s)/3)})}function f(e,t,n){const{a:s,eSq:i}=p(n),a=Math.sqrt(i),o=Math.sin(t[1]*r),c=s*t[0]*r;let l;if(i>0){l=s*((1-i)*(o/(1-i*(o*o))-1/(2*a)*Math.log((1-a*o)/(1+a*o))))*.5}else l=s*o;return e[0]=c,e[1]=l,e}function u(e){return null!==l(e)}function d(t,n=\"square-meters\"){if(t.some((e=>!u(e.spatialReference))))throw new e(\"geodesic-areas:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<t.length;e++){const n=t[e],i=n.spatialReference,{radius:a,densificationRatio:r}=p(i),o=a*r;s.push(g(n,o))}const i=[],r=[0,0],o=[0,0];for(let e=0;e<s.length;e++){const{rings:t,spatialReference:c}=s[e];let l=0;for(let e=0;e<t.length;e++){const n=t[e];f(r,n[0],c),f(o,n[n.length-1],c);let s=o[0]*r[1]-r[0]*o[1];for(let e=0;e<n.length-1;e++)f(r,n[e+1],c),f(o,n[e],c),s+=o[0]*r[1]-r[0]*o[1];l+=s}l=a(l,\"square-meters\",n),i.push(l/-2)}return i}function m(t,n=\"meters\"){const s=t,i=t;if(!s&&!i)throw new e(\"geodesic-lengths:invalid-geometries\",\"the input geometries type is not supported\");if(s?s.some((e=>!u(e.spatialReference))):i.some((e=>!u(e.spatialReference))))throw new e(\"geodesic-lengths:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const r=[];for(let e=0;e<t.length;e++){const s=t[e],{spatialReference:i}=s,o=\"polyline\"===s.type?s.paths:s.rings;let c=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const s=t[e-1][0],a=t[e][0],r=t[e-1][1],o=t[e][1];if(r!==o||s!==a){const e={distance:null};w(e,[s,r],[a,o],i),n+=e.distance}}c+=n}c=a(c,\"meters\",n),r.push(c)}return r}function g(t,n){if(\"polyline\"!==t.type&&\"polygon\"!==t.type)throw new e(\"geodesic-densify:invalid-geometry\",\"the input geometry is neither polyline nor polygon\");const{spatialReference:a}=t;if(!u(a))throw new e(\"geodesic-densify:invalid-spatial-reference\",\"the input geometry spatial reference is not supported\");const r=\"polyline\"===t.type?t.paths:t.rings,o=[],c=[0,0],l={distance:null};for(const e of r){const t=[];o.push(t),t.push([e[0][0],e[0][1]]);let s,i,r=e[0][0],h=e[0][1];for(let o=0;o<e.length-1;o++){if(s=e[o+1][0],i=e[o+1][1],r===s&&h===i)continue;const p=[r,h];w(l,[r,h],[s,i],a);const{azimuth:f,distance:u}=l,d=u/n;if(d>1){for(let e=1;e<=d-1;e++){M(c,p,f,e*n,a),t.push(c.slice(0))}M(c,p,f,(u+Math.floor(d-1)*n)/2,a),t.push(c.slice(0))}M(c,p,f,u,a),t.push(c.slice(0)),r=c[0],h=c[1]}}return\"polyline\"===t.type?new i({paths:o,spatialReference:a}):new s({rings:o,spatialReference:a})}function M(e,t,n,s,i){const a=t[0],o=t[1],c=a*r,l=o*r,h=n*r,{a:f,b:u,f:d}=p(i),m=Math.sin(h),g=Math.cos(h),M=(1-d)*Math.tan(l),w=1/Math.sqrt(1+M*M),y=M*w,R=Math.atan2(M,g),v=w*m,b=v*v,q=1-b,z=q*(f*f-u*u)/(u*u),j=1+z/16384*(4096+z*(z*(320-175*z)-768)),x=z/1024*(256+z*(z*(74-47*z)-128));let N,S,k,A,P=s/(u*j),F=2*Math.PI;for(;Math.abs(P-F)>1e-12;)k=Math.cos(2*R+P),N=Math.sin(P),S=Math.cos(P),A=x*N*(k+x/4*(S*(2*k*k-1)-x/6*k*(4*N*N-3)*(4*k*k-3))),F=P,P=s/(u*j)+A;const G=y*N-w*S*g,C=Math.atan2(y*S+w*N*g,(1-d)*Math.sqrt(b+G*G)),E=Math.atan2(N*m,w*S-y*N*g),I=d/16*q*(4+d*(4-3*q)),O=C/r,U=(c+(E-(1-I)*d*v*(P+I*N*(k+I*S*(2*k*k-1)))))/r;return e[0]=U,e[1]=O,e}function w(e,t,n,s){const i=t[0]*r,a=t[1]*r,o=n[0]*r,c=n[1]*r,{a:l,b:h,f,radius:u}=p(s),d=o-i,m=Math.atan((1-f)*Math.tan(a)),g=Math.atan((1-f)*Math.tan(c)),M=Math.sin(m),w=Math.cos(m),y=Math.sin(g),R=Math.cos(g);let v,b,q,z,j,x,N,S,k,A,P=1e3,F=d;do{if(N=Math.sin(F),S=Math.cos(F),q=Math.sqrt(R*N*(R*N)+(w*y-M*R*S)*(w*y-M*R*S)),0===q)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;j=M*y+w*R*S,x=Math.atan2(q,j),k=w*R*N/q,b=1-k*k,z=j-2*M*y/b,isNaN(z)&&(z=0),A=f/16*b*(4+f*(4-3*b)),v=F,F=d+(1-A)*f*k*(x+A*q*(z+A*j*(2*z*z-1)))}while(Math.abs(F-v)>1e-12&&--P>0);if(0===P){const t=u,n=Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(o-i))*t,s=o-i,l=Math.sin(s)*Math.cos(c),h=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(s),p=Math.atan2(l,h);return e.azimuth=p/r,e.distance=n,e.reverseAzimuth=void 0,e}const G=b*(l*l-h*h)/(h*h),C=G/1024*(256+G*(G*(74-47*G)-128)),E=h*(1+G/16384*(4096+G*(G*(320-175*G)-768)))*(x-C*q*(z+C/4*(j*(2*z*z-1)-C/6*z*(4*q*q-3)*(4*z*z-3)))),I=Math.atan2(R*Math.sin(F),w*y-M*R*Math.cos(F)),O=Math.atan2(w*Math.sin(F),w*y*Math.cos(F)-M*R);return e.azimuth=I/r,e.distance=E,e.reverseAzimuth=O/r,e}function y(t,n,s=\"meters\"){if(!t||!n)throw new e(\"geodesic-distance:missing-parameters\",\"one or both input parameters are missing\");if(!t.spatialReference||!n.spatialReference)throw new e(\"geodesic-distance:invalid-parameters\",\"one or both input points do not have a spatial reference\");if(!t.spatialReference.equals(n.spatialReference))throw new e(\"geodesic-distance:invalid-parameters\",\"spatial references of input parameters do not match\");const{spatialReference:i}=t;if(!u(i))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");if(t.equals(n))return{distance:0,azimuth:0,reverseAzimuth:0};const r={distance:null};return w(r,[t.x,t.y],[n.x,n.y],i),r.distance=a(r.distance,\"meters\",s),r}function R(t,s,i){if(!t||null==s||null==i)throw new e(\"point-from-distance:missing-parameters\",\"one or more input parameters are missing or undefined\");if(i<0||i>360)throw new e(\"point-from-distance:-of-bounds\",\"azimuth is restricted to angles between, and including, 0° to 360° degrees\");if(!t.spatialReference)throw new e(\"point-from-distance:missing-spatial-reference\",\"the input point must have a spatial reference\");const{spatialReference:a}=t;if(!u(a))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");const r=[0,0];return M(r,[t.x,t.y],i,s,a),new n({x:r[0],y:r[1],spatialReference:a})}export{M as directGeodeticSolver,d as geodesicAreas,g as geodesicDensify,y as geodesicDistance,m as geodesicLengths,w as inverseGeodeticSolver,u as isSupported,R as pointFromDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n"],"sourceRoot":""}