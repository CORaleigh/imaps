"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[1283],{48202:(e,t,i)=>{var n,r,a,o,l,s,c,p,u,h,d,y,m,g,f,v,C,S,x,b,w,M,O,T,R,P,L,_,G,E,V,B,k,A,I,N,Z,D,z,F,U,W,H,Q,J,q,X,Y,j,K,$,ee,te,ie,ne,re,ae,oe,le,se,ce;i.d(t,{$y:()=>M,AH:()=>r,CS:()=>X,DD:()=>p,Dd:()=>G,Em:()=>w,JS:()=>J,Ky:()=>u,Lh:()=>Y,Qb:()=>ae,RL:()=>n,RS:()=>le,TF:()=>b,Tx:()=>l,UR:()=>C,UX:()=>re,bj:()=>q,eZ:()=>c,id:()=>R,kP:()=>N,of:()=>d,r4:()=>F,sj:()=>Z,v2:()=>a,zQ:()=>_,zV:()=>v}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(a||(a={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(l||(l={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(s||(s={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(p||(p={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(u||(u={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(h||(h={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(d||(d={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(y||(y={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(m||(m={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(f||(f={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(v||(v={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(C||(C={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(S||(S={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(x||(x={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(b||(b={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(w||(w={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(M||(M={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(O||(O={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(T||(T={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(R||(R={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(P||(P={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(L||(L={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(_||(_={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(G||(G={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(E||(E={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(V||(V={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(B||(B={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(k||(k={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(A||(A={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(I||(I={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(N||(N={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(Z||(Z={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(D||(D={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(z||(z={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(F||(F={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(U||(U={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(W||(W={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(H||(H={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(Q||(Q={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(J||(J={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(q||(q={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(X||(X={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(Y||(Y={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(j||(j={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(K||(K={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}($||($={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ee||(ee={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(te||(te={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(ie||(ie={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ne||(ne={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(re||(re={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ae||(ae={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(oe||(oe={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(le||(le={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(se||(se={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ce||(ce={}))},85577:(e,t,i)=>{i.d(t,{r:()=>v});i(59486);var n=i(52639),r=(i(51508),i(42537)),a=i(17842),o=i(88396),l=i(6394),s=i(71353),c=i(48202),p=i(70040),u=i(76014),h=i(38561),d=i(16072),y=i(16851),m=i(75021),g=i(7882),f=i(29909);class v extends h.a{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new g.Z({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.coordinateHelper.spatialReference}),x)}visualizePoint(e,t){return this._visualizeSnappingIndicator(new g.Z({x:e.point[0],y:e.point[1],spatialReference:t.coordinateHelper.spatialReference}),b)}visualizeLine(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),w)}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),M)}visualizeRightAngleQuad(e,t){return this._visualizeSnappingIndicator(new f.Z({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.coordinateHelper.spatialReference}),P(e))}_visualizeSnappingIndicator(e,t){const i=new n.Z({geometry:e,symbol:t});return this.graphicsLayer.add(i),(0,r.kB)((()=>{this.graphicsLayer.remove(i)}))}}const C=p.O.main.toArray(),S=[...p.O.main.toRgb(),100],x=new d.Z({outline:new y.Z({width:1.5,color:C}),size:15,color:[0,0,0,0]}),b=new d.Z({outline:{width:.5,color:[0,0,0,1]},size:10,color:C}),w=new m.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:c.kP.Butt,joinStyle:c.r4.Round,miterLimit:10,width:(0,a.Wz)(u.c.lineHintWidthTarget),color:C}]}}}),M=new m.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:C}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:C}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),O=e=>new m.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,a.Wz)(u.c.rightAngleHintSize),rotation:e,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,a.Wz)(u.c.rightAngleHintOutlineSize),color:C},{type:"CIMSolidFill",enable:!0,color:S}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),T=O(45),R=O(225),P=(()=>{const e=(0,l.a)(),t=(0,l.a)(),i=(0,s.c)();return n=>((0,o.g)(e,n.centerVertex,n.previousVertex),(0,o.g)(t,n.nextVertex,n.previousVertex),(0,o.m)(i,e,t),i[2]<0?T:R)})()},51283:(e,t,i)=>{i.r(t),i.d(t,{DrawGraphicTool2D:()=>S});var n=i(27366),r=(i(59486),i(52639)),a=i(42537),o=i(92026),l=i(49861),s=(i(63780),i(93169),i(25243),i(69912)),c=i(85577),p=(i(51508),i(75021)),u=i(16072);const h=new p.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),d=new u.Z({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),y=new u.Z({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});var m=i(89215),g=i(69674),f=i(54016),v=i(7882),C=i(77577);let S=class extends m.T{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:(0,o.Pt)(e.activeLineSymbol,h),regularVertices:(0,o.Pt)(e.regularVerticesSymbol,d),activeVertex:(0,o.Pt)(e.activeVertexSymbol,y),fill:(0,o.Wg)(e.activeFillSymbol)}}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return(0,o.pC)(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new g.w({view:e,manipulators:this.manipulators,geometryType:(0,m.I)(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new f.hP(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c.r(this.internalGraphicsLayer)})}onActiveVertexChanged(e){if("point"===this.geometryType)return null;const[t,i]=e,n=new v.Z({x:t,y:i,spatialReference:this.view.spatialReference});return(0,o.pC)(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new r.Z({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(x),(0,a.kB)((()=>{(0,o.pC)(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=(0,o.SC)(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const t=e.clone();if("polyline"===t.type){const e=t.paths[t.paths.length-1];e.splice(0,e.length-2)}return(0,o.pC)(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=t,null):(this._visualElementGraphics.outline=new r.Z({geometry:t,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(x),(0,a.kB)((()=>{(0,o.pC)(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=(0,o.SC)(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const t=new C.Z({points:e,spatialReference:this.view.spatialReference});return(0,o.pC)(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=t,null):(this._visualElementGraphics.regularVertices=new r.Z({geometry:t,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(x),(0,a.kB)((()=>{(0,o.pC)(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=(0,o.SC)(this._visualElementGraphics.regularVertices))})))}};function x(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}(0,n._)([(0,l.Cb)()],S.prototype,"activeFillSymbol",void 0),(0,n._)([(0,l.Cb)({readOnly:!0})],S.prototype,"type",void 0),(0,n._)([(0,l.Cb)({constructOnly:!0,nonNullable:!0})],S.prototype,"view",void 0),S=(0,n._)([(0,s.j)("esri.views.2d.interactive.draw.DrawGraphicTool2D")],S)},89215:(e,t,i)=>{i.d(t,{T:()=>_,I:()=>V});var n=i(27366),r=i(52639),a=(i(93169),i(91505)),o=i(41691),l=i(42537),s=i(92026),c=i(49861),p=i(63780),u=(i(25243),i(69912)),h=i(93655),d=(i(59486),i(84652)),y=i(68860),m=i(42137),g=i(2170),f=i(69662),v=i(92975),C=i(3826),S=i(77577),x=i(7882),b=i(29909),w=i(80885);function M(e,t){const i=new x.Z({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(i.z=e[2]),i}function O(e,t,i){const n=new b.Z({paths:e,spatialReference:t});return i&&(0,f.nc)(n),n}function T(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=(0,d.d9)(e);r.forEach((e=>{const t=e[0],i=e[e.length-1];(0,p.fS)(t,i)&&1!==e.length||e.push(e[0])}));let a=new w.Z({rings:r,spatialReference:t});return a.rings.forEach((e=>{(0,f.bu)(e,!1,!1)||e.reverse()})),i&&(0,f.nc)(a),n&&a.isSelfIntersecting&&(0,v.JY)(t)&&(a=(0,g.simplify)(a)),a}function R(e,t,i){const n=t.mapToLocalMultiple(e),r=[],a={x:n[0].x,y:n[0].y},o=n[1].x,l=n[1].y,c=Math.round(o-a.x),p=Math.round(l-a.y),u=Math.max(Math.abs(c),Math.abs(p));if(i){const e={x:a.x+u,y:a.y+u},t={x:a.x-u,y:a.y-u};r.push((0,C.Q8)(e.x,t.y),(0,C.Q8)(t.x,t.y),(0,C.Q8)(t.x,e.y),(0,C.Q8)(e.x,e.y))}else{const e={x:c>0?a.x+u:a.x-u,y:p>0?a.y+u:a.y-u};r.push((0,C.Q8)(a.x,a.y),(0,C.Q8)(e.x,a.y),(0,C.Q8)(e.x,e.y),(0,C.Q8)(a.x,e.y))}return T([(0,s.lV)(r.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function P(e,t,i,n){const r=t.mapToLocalMultiple(e);let a=null,o=null;if(i)a=r[0],o=r[1];else{const e=r[0],t=r[1],i=Math.round(t.x-e.x),n=Math.round(t.y-e.y),l=Math.max(Math.abs(i),Math.abs(n));a=(0,C.Q8)(i>0?e.x+l/2:e.x-l/2,n>0?e.y+l/2:e.y-l/2),o=(0,C.Q8)(Math.abs(i)>Math.abs(n)?a.x-l/2:a.x,Math.abs(i)>Math.abs(n)?a.y:a.y-l/2)}const l=t.localToMap(a),c=t.localToMap(o);if((0,s.Wi)(l)||(0,s.Wi)(c))return null;t.doUnnormalization&&(0,f.Sq)([[l,c]],t.spatialReference);const p=M(l,t.spatialReference),u=M(c,t.spatialReference),h=(0,y.c9)(t.spatialReference);let d=0;if((0,v.JY)(t.spatialReference))d=h*(0,g.distance)(p,u,null);else{const e=a.x-o.x,t=a.y-o.y;d=h*Math.sqrt(e*e+t*t)*(n||1)}const S=new m.Z({center:p,radius:d,radiusUnit:"meters",spatialReference:t.spatialReference});return T(S.rings,S.spatialReference,!1)}var L=i(45900);let _=class extends((0,o.p)(a.Z.EventedMixin(L.m))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h.Z({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on("vertex-add",(e=>this.onVertexAdd(e))),this.drawOperation.on("vertex-remove",(e=>this.onVertexRemove(e))),this.drawOperation.on("vertex-update",(e=>this.onVertexUpdate(e))),this.drawOperation.on("cursor-update",(e=>this.onCursorUpdate(e))),this.drawOperation.on("complete",(e=>this.onComplete(e)))]),this.finishToolCreation()}destroy(){this.drawOperation=(0,s.SC)(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,s.SC)(this.internalGraphicsLayer),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set("centered",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set("enabled",e)}set forceUniformSize(e){this._set("forceUniformSize",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set("graphicSymbol",e),(0,s.pC)(this._graphic)&&(this._graphic.symbol=e)}get updating(){return this.drawOperation?.updating??!1}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new r.Z({...this.graphicProperties,geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange("graphic"),this.handles.add((0,l.kB)((()=>{(0,s.pC)(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=(0,s.SC)(this._graphic))})),G)}_destroyAllVisualisations(){this.handles.remove(E.outline),this.handles.remove(E.regularVertices),this.handles.remove(E.activeVertex),this.handles.remove(G)}_getCreateOperationGeometry(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{operationComplete:!1};if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,i=this.drawOperation.committedVertices,n=i.slice();(0,s.pC)(t)&&n.push(this.drawOperation.coordinateHelper.pointToArray(t));const r=(0,s.pC)(t)?this.drawOperation.coordinateHelper.pointToArray(t):i.splice(-1)[0],a={regularVertices:null,activeVertex:null,full:null,outline:null},o=n.length,l=this.view.spatialReference,c="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case"point":a.regularVertices=i,a.activeVertex=r,a.full=this.drawOperation.coordinateHelper.arrayToPoint(n[0]);break;case"multipoint":a.regularVertices=i,a.activeVertex=r,o>0&&(a.full=function(e,t){return new S.Z({points:e,spatialReference:t})}(n,l));break;case"polyline":a.regularVertices=i,a.activeVertex=r,o>0&&(a.full=O([n],l,c));break;case"polygon":a.regularVertices=i,a.activeVertex=r,o>0&&(a.full=T([n],l,c,!0));break;case"circle":if(o>0){const t=(0,C.Gn)(this.view,n[0]);if(1===o&&e.operationComplete){const e=n[0],i=t.makeMapPoint(e[0]+B*this.view.resolution,e[1]);a.full=P([e,i],t,!0)}else 2===o&&(a.full=this.forceUniformSize?P(n,t,this.centered):function(e,t,i){const n=t.mapToLocalMultiple(e),r=n[0],a=n[1],o=Math.round(a.x-r.x),l=Math.round(a.y-r.y),c=(0,C.Q8)(i?r.x:r.x+o/2,i?r.y:r.y+l/2),p=i?o:o/2,u=i?l:l/2,h=[],d=2*Math.PI/60;for(let s=0;s<60;s++){const e=Math.cos(s*d),t=Math.sin(s*d),i=(0,C.Q8)(p*e+c.x,u*t+c.y);h.push(i)}return h.push(h[0]),T([(0,s.lV)(h.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}(n,t,this.centered))}break;case"rectangle":if(o>0){const t=(0,C.Gn)(this.view,n[0]);if(1===o&&e.operationComplete){const e=n[0],i=t.makeMapPoint(e[0]+B*this.view.resolution,e[1]);a.full=R([e,i],t,!0)}else 2===o&&(a.full=this.forceUniformSize?R(n,t,this.centered):function(e,t,i){let n=t.mapToLocalMultiple(e);if(1===n.length){const e=48,t=n[0];n=[(0,C.Q8)(t.x-e,t.y+e),(0,C.Q8)(t.x+e,t.y-e),(0,C.Q8)(t.x+e,t.y-e),(0,C.Q8)(t.x-e,t.y+e)]}const r=[],a={x:n[0].x,y:n[0].y},o={x:n[1].x,y:n[1].y};if(i){const e=Math.round(o.x-a.x),t=Math.round(o.y-a.y);r.push((0,C.Q8)(a.x-e,a.y-t),(0,C.Q8)(o.x,a.y-t),(0,C.Q8)(o.x,o.y),(0,C.Q8)(a.x-e,o.y))}else r.push((0,C.Q8)(a.x,a.y),(0,C.Q8)(o.x,a.y),(0,C.Q8)(o.x,o.y),(0,C.Q8)(a.x,o.y));return T([(0,s.lV)(r.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}(n,t,this.centered))}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":case"polygon":o>1&&(a.outline=O([n],l,c));break;case"circle":case"rectangle":(0,s.pC)(a.full)&&"polygon"===a.full.type&&(a.outline=T(a.full.rings,l,c))}return a}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});(0,s.pC)(e)&&((0,s.Wi)(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full,t=(0,s.Wg)(this._graphic).clone())}this.emit("complete",{graphic:t,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit("cursor-update",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit("vertex-add",e)}onVertexRemove(e){this._updateGraphic(),this.emit("vertex-remove",e)}onVertexUpdate(e){this._updateGraphic(),this.emit("vertex-update",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();(0,s.Wi)(e)?this._destroyAllVisualisations():((0,s.pC)(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),E.outline):this.handles.remove(E.outline),(0,s.pC)(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),E.regularVertices):this.handles.remove(E.regularVertices),(0,s.pC)(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),E.activeVertex):this.handles.remove(E.activeVertex),(0,s.pC)(e.full)?(0,s.Wi)(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(G))}};(0,n._)([(0,c.Cb)({value:!0})],_.prototype,"centered",null),(0,n._)([(0,c.Cb)({nonNullable:!0})],_.prototype,"defaultZ",void 0),(0,n._)([(0,c.Cb)()],_.prototype,"drawOperation",void 0),(0,n._)([(0,c.Cb)({value:!0})],_.prototype,"enabled",null),(0,n._)([(0,c.Cb)({value:!0})],_.prototype,"forceUniformSize",null),(0,n._)([(0,c.Cb)({constructOnly:!0})],_.prototype,"geometryType",void 0),(0,n._)([(0,c.Cb)()],_.prototype,"graphic",null),(0,n._)([(0,c.Cb)({constructOnly:!0})],_.prototype,"graphicProperties",void 0),(0,n._)([(0,c.Cb)()],_.prototype,"graphicSymbol",null),(0,n._)([(0,c.Cb)({constructOnly:!0})],_.prototype,"hasZ",void 0),(0,n._)([(0,c.Cb)({constructOnly:!0})],_.prototype,"mode",void 0),(0,n._)([(0,c.Cb)()],_.prototype,"snappingManager",void 0),(0,n._)([(0,c.Cb)()],_.prototype,"snapToScene",void 0),(0,n._)([(0,c.Cb)({readOnly:!0})],_.prototype,"type",void 0),(0,n._)([(0,c.Cb)({readOnly:!0})],_.prototype,"updating",null),(0,n._)([(0,c.Cb)({constructOnly:!0,nonNullable:!0})],_.prototype,"view",void 0),_=(0,n._)([(0,u.j)("esri.views.draw.DrawGraphicTool")],_);const G="create-operation-graphic",E={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function V(e){switch(e){case"point":case"polyline":case"polygon":case"multipoint":return e;case"circle":case"rectangle":return"segment";default:return null}}const B=48},70040:(e,t,i)=>{i.d(t,{O:()=>r,X:()=>u});var n=i(51995);const r={main:new n.Z([255,127,0]),selected:new n.Z([255,255,255]),outline:new n.Z([0,0,0,.5]),selectedOutline:new n.Z([255,255,255]),hoverOutline:new n.Z([255,255,255]),secondary:new n.Z([255,255,255]),secondaryOutline:new n.Z([100,100,100]),transparent:new n.Z([0,0,0,0])};function a(e,t){if(t)for(const i in t)e[i]=t[i]}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=r.main,this.hoverColor=r.main,this.outlineColor=r.outline,this.hoverOutlineColor=r.hoverOutline,a(this,e)}}class l{constructor(e){this.color=r.secondary,this.hoverColor=r.main,a(this,e)}}class s{constructor(e){this.color=r.transparent,this.hoverColor=r.transparent,this.outlineColor=r.main,this.hoverOutlineColor=r.main,this.stagedColor=r.transparent,this.stagedOutlineColor=r.secondary,a(this,e)}}class c{constructor(e){this.vertex=new o,this.midpoint=new o({color:r.secondary,outlineColor:r.secondaryOutline,size:6}),this.selected=new o({color:r.selected,hoverColor:r.selected,hoverOutlineColor:r.hoverOutline}),a(this,e)}}class p{constructor(e){this.center=new o({color:r.secondaryOutline}),this.fill=new s,this.line=new l,this.vertex=new o({color:r.selected,outlineColor:r.main,hoverColor:r.selected,hoverOutlineColor:r.secondaryOutline}),a(this,e)}}const u=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new p,a(this,e)}}}}]);
//# sourceMappingURL=1283.00599fb5.chunk.js.map