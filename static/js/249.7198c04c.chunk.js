(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[249],{1389:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return P}));var i=r(79),a=r(81),s=(r(84),r(82),r(83),r(80)),o=r(103),n=r(928),c=r(229),l=r(910),u=r(137),p=(r(99),r(125)),b=r(86),y=r(85),O=r(93),f=r(96),d=r(1109),j=r(161),m=r(929),B=r(113),g=r(140),h=r(135);function v(e){return j.default.fromJSON(e).features.map((e=>e.geometry))}let S=class extends b.a{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return v(e)}readIncidents(e){return v(e)}readPointBarriers(e,t){return v(t.barriers)}readPolylineBarriers(e){return v(e)}readPolygonBarriers(e){return v(e)}readRoutes(e){return function(e){return e.features.map((t=>{const r=f.a.fromJSON(e.spatialReference),i=p.a.fromJSON(t);return Object(y.k)(i.geometry)&&(i.geometry.spatialReference=r),i}))}(e)}};Object(i.a)([Object(a.b)({type:[d.a]})],S.prototype,"directions",void 0),Object(i.a)([Object(a.b)({type:[B.a]})],S.prototype,"facilities",void 0),Object(i.a)([Object(O.a)("facilities")],S.prototype,"readFacilities",null),Object(i.a)([Object(a.b)({type:[B.a]})],S.prototype,"incidents",void 0),Object(i.a)([Object(O.a)("incidents")],S.prototype,"readIncidents",null),Object(i.a)([Object(a.b)({type:[m.a]})],S.prototype,"messages",void 0),Object(i.a)([Object(a.b)({type:[B.a]})],S.prototype,"pointBarriers",void 0),Object(i.a)([Object(O.a)("pointBarriers",["barriers"])],S.prototype,"readPointBarriers",null),Object(i.a)([Object(a.b)({type:[g.a]})],S.prototype,"polylineBarriers",void 0),Object(i.a)([Object(O.a)("polylineBarriers")],S.prototype,"readPolylineBarriers",null),Object(i.a)([Object(a.b)({type:[h.a]})],S.prototype,"polygonBarriers",void 0),Object(i.a)([Object(O.a)("polygonBarriers")],S.prototype,"readPolygonBarriers",null),Object(i.a)([Object(a.b)({type:[p.a]})],S.prototype,"routes",void 0),Object(i.a)([Object(O.a)("routes")],S.prototype,"readRoutes",null),S=Object(i.a)([Object(s.a)("esri.rest.support.ClosestFacilitySolveResult")],S);const N=S,A=Object(n.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});var J=r(483);let R=class extends J.a{constructor(e){super(e),this.url=null}solve(e,t){return async function(e,t,r){const i=[],a=[],s={},n={},p=Object(u.c)(e),{path:b}=p;t.incidents&&t.incidents.features&&Object(l.a)(t.incidents.features,a,"incidents.features",s),t.facilities&&t.facilities.features&&Object(l.a)(t.facilities.features,a,"facilities.features",s),t.pointBarriers&&t.pointBarriers.features&&Object(l.a)(t.pointBarriers.features,a,"pointBarriers.features",s),t.polylineBarriers&&t.polylineBarriers.features&&Object(l.a)(t.polylineBarriers.features,a,"polylineBarriers.features",s),t.polygonBarriers&&t.polygonBarriers.features&&Object(l.a)(t.polygonBarriers.features,a,"polygonBarriers.features",s);const y=await Object(c.a)(a);for(const o in s){const e=s[o];i.push(o),n[o]=y.slice(e[0],e[1])}if(Object(l.d)(n,i)){let e=null;try{e=await Object(l.c)(b,t.apiKey,r)}catch{}e&&!e.hasZ&&Object(l.b)(n,i)}for(const o in n)n[o].forEach(((e,r)=>{t.get(o)[r].geometry=e}));const O={...r,query:{...p.query,...A.toQueryParams(t),f:"json"}},{data:f}=await Object(o.default)(`${b}/solveClosestFacility`,O);return N.fromJSON(f)}(this.url,e,t)}};Object(i.a)([Object(a.b)()],R.prototype,"url",void 0),R=Object(i.a)([Object(s.a)("esri.tasks.ClosestFacilityTask")],R);const P=R},483:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var i=r(79),a=r(100),s=r(98),o=r(81),n=(r(84),r(82),r(83),r(80));let c=class extends a.a{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return"string"!=typeof e?e:{url:e,...t}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Object(s.M)(e):null}_encode(e,t,r){const i={};for(const a in e){if("declaredClass"===a)continue;const s=e[a];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){i[a]=[];for(let e=0;e<s.length;e++)i[a][e]=this._encode(s[e])}else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(r&&r[a]);i[a]=t?e:JSON.stringify(e)}else i[a]=t?s:JSON.stringify(s);else i[a]=s}return i}};Object(i.a)([Object(o.b)({readOnly:!0})],c.prototype,"parsedUrl",null),Object(i.a)([Object(o.b)()],c.prototype,"requestOptions",void 0),Object(i.a)([Object(o.b)({type:String})],c.prototype,"url",void 0),c=Object(i.a)([Object(n.a)("esri.tasks.Task")],c);const l=c}}]);
//# sourceMappingURL=249.7198c04c.chunk.js.map