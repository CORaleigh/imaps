(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[32,19],{117:function(e,t,r){"use strict";r.d(t,"a",(function(){return H})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return T})),r.d(t,"d",(function(){return L})),r.d(t,"e",(function(){return P})),r.d(t,"f",(function(){return V})),r.d(t,"g",(function(){return D})),r.d(t,"h",(function(){return C})),r.d(t,"i",(function(){return q})),r.d(t,"j",(function(){return c})),r.d(t,"k",(function(){return x})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return A})),r.d(t,"n",(function(){return J})),r.d(t,"o",(function(){return I})),r.d(t,"p",(function(){return j})),r.d(t,"q",(function(){return S})),r.d(t,"r",(function(){return R})),r.d(t,"s",(function(){return k})),r.d(t,"t",(function(){return N})),r.d(t,"u",(function(){return E})),r.d(t,"v",(function(){return U})),r.d(t,"w",(function(){return F})),r.d(t,"x",(function(){return M}));var n=r(91),i=(r(80),r(95)),a=r(257),s=r(112),o=r(99),u=r(139),l=r(173),c=39.37,d=u.a.radius*Math.PI/200,f=/UNIT\[([^\]]+)\]\]$/i,p=a.a,m=/UNIT\[([^\]]+)\]/i,h=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),b=Object(i.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),y=e=>e*e,v=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:y(.001)},"square-centimeters":{inBaseUnits:y(.01)},"square-decimeters":{inBaseUnits:y(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:y(1e3)},"square-inches":{inBaseUnits:y(.0254)},"square-feet":{inBaseUnits:y(.3048)},"square-yards":{inBaseUnits:y(.9144)},"square-miles":{inBaseUnits:y(1609.344)},"square-us-feet":{inBaseUnits:y(1200/3937)},acres:{inBaseUnits:.0015625*y(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*v(.001)},"cubic-centimeters":{inBaseUnits:1e3*v(.01)},"cubic-decimeters":{inBaseUnits:1e3*v(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*v(1e3)},"cubic-inches":{inBaseUnits:1e3*v(.0254)},"cubic-feet":{inBaseUnits:1e3*v(.3048)},"cubic-yards":{inBaseUnits:1e3*v(.9144)},"cubic-miles":{inBaseUnits:1e3*v(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){var e={};for(var t in g)for(var r in g[t].units)e[r]=t;return e}();var j=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],S=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function w(e){return"imperial"===e||"metric"===e}function I(e){var t=O[e];if(t)return t;throw new Error("unknown measure")}function _(e){return function(e){return g[e].baseUnit}(I(e))}function x(e,t=null){return t=t||I(e),g[t].baseUnit===e}function T(e,t,r){if(t===r)return e;var n=I(t);if(n!==I(r))throw new Error("incompatible units");var i=x(t,n)?e:function(e,t,r){return e*g[r].units[t].inBaseUnits}(e,t,n);return x(r,n)?i:function(e,t,r){return e/g[r].units[t].inBaseUnits}(i,r,n)}function U(e,t){return T(e,t,"meters")<3e3?"meters":"kilometers"}function F(e,t){return T(e,t,"meters")<1e5?"meters":"kilometers"}function k(e,t){return T(e,t,"feet")<1e3?"feet":"miles"}function N(e,t){return T(e,t,"feet")<1e5?"feet":"miles"}function E(e,t){return T(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function R(e,t){return T(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function A(e,t,r){return T(e,t,"meters")/(r*Math.PI/180)}function M(e){return b.fromJSON(e.toLowerCase())||null}function D(e){if(e&&"object"==typeof e&&!Object(s.e)(e))return 1;var t=V(e);return t>1e5?1:t}function q(e){return V(e)>=(e instanceof o.a?Object(l.e)(e).metersPerDegree:1e5)?"meters":C(e)}function V(e,t=u.a.metersPerDegree){return P(e,!0)||t}function P(e,t=!1){var r,n,i=null;if(null!=e&&("object"==typeof e?(r=e.wkid,n=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(n=e)),r){if(Object(s.k)(r))return u.b.metersPerDegree;if(Object(s.l)(r))return u.c.metersPerDegree;!(i=p.values[p[r]])&&t&&h.has(r)&&(i=d)}else if(n)if(-1!==n.search(/^PROJCS/i)){var a=f.exec(n);a&&a[1]&&(i=parseFloat(a[1].split(",")[1]))}else if(-1!==n.search(/^GEOCCS/i)){var o=m.exec(n);o&&o[1]&&(i=parseFloat(o[1].split(",")[1]))}return i}function C(e){var t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=p.units[p[t]];else if(r&&-1!==r.search(/^PROJCS/i)){var i=f.exec(r);i&&i[1]&&(n=(i=/[\\"\\']{1}([^\\"\\']+)/.exec(i[1]))&&i[1])}return n?M(n):null}function L(e){if(!e)return null;switch(C(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}var B={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},G={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},H=Object(i.b)()(B),J=Object(i.b)()(G);Object(i.b)()(Object(n.a)(Object(n.a)({},B),G))},118:function(e,t,r){"use strict";r.d(t,"a",(function(){return K})),r.d(t,"b",(function(){return $})),r.d(t,"c",(function(){return j})),r.d(t,"d",(function(){return _})),r.d(t,"e",(function(){return F})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return N})),r.d(t,"i",(function(){return M})),r.d(t,"j",(function(){return le})),r.d(t,"k",(function(){return h})),r.d(t,"l",(function(){return d})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return w})),r.d(t,"o",(function(){return R})),r.d(t,"p",(function(){return A})),r.d(t,"q",(function(){return g})),r.d(t,"r",(function(){return P})),r.d(t,"s",(function(){return re})),r.d(t,"t",(function(){return O})),r.d(t,"u",(function(){return Q})),r.d(t,"v",(function(){return W})),r.d(t,"w",(function(){return Z})),r.d(t,"x",(function(){return ee})),r.d(t,"y",(function(){return v})),r.d(t,"z",(function(){return te})),r.d(t,"A",(function(){return ue}));var n=r(7),i=r(124),a=r(89),s=r(93),o=r(149),u=r(152),l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],c=["field","normalizationField"];function d(e,t){if(null!=e&&null!=t)for(var r of Array.isArray(e)?e:[e])if(f(l,r,t),"visualVariables"in r&&r.visualVariables)for(var n of r.visualVariables)f(c,n,t)}function f(e,t,r){if(e)for(var n of e){var a=Object(i.b)(n,t),s=a&&"function"!=typeof a&&g(r,a);s&&Object(i.c)(n,s.name,t)}}function p(e,t){if(null!=e&&null!=t)if("startField"in e){var r=g(t,e.startField),n=g(t,e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{var i=g(t,e.startTimeField),a=g(t,e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=a&&a.name||null}}var m=new Set;function h(e,t){return e&&t?(m.clear(),b(m,e,t),Array.from(m).sort()):[]}function b(e,t,r){if(r)if(t&&t.length)if(r.includes("*"))for(var{name:n}of t)e.add(n);else for(var i of r)y(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(var a of r)e.add(a)}}function y(e,t,r){if(t&&t.length){var n=g(t,r);n&&e.add(n.name)}else"string"==typeof r&&e.add(r)}function v(e,t){return Object(a.j)(t)||Object(a.j)(e)?[]:t.includes("*")?e.map((e=>e.name)):t}function g(e,t){if("string"!=typeof t)return null;if(null!=e)for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return r;return null}function O(e,t){if(!e||!t||"string"!=typeof t)return!1;for(var r of(t=t.toLowerCase(),e))if(r&&r.name.toLowerCase()===t)return!0;return!1}function j(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(n.a)((function*(e,t,r){if(r){var{arcadeUtils:n}=yield Object(u.e)(),i=n.extractFieldNames(r);for(var a of i)y(e,t,a)}}))).apply(this,arguments)}function w({displayField:e,fields:t}){return e||(t&&t.length?I(t,"name-or-title")||I(t,"unique-identifier")||I(t,"type-or-category")||function(e){for(var t of e)if(t&&t.name){var r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}(t):null)}function I(e,t){for(var r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}function _(e,t){return x.apply(this,arguments)}function x(){return(x=Object(n.a)((function*(e,t){if(t){var{fields:r}=t,n=Object(i.b)("elevationInfo.featureExpressionInfo",t);return n?n.collectRequiredFields(e,r):void 0}}))).apply(this,arguments)}function T(e,t,r){return U.apply(this,arguments)}function U(){return(U=Object(n.a)((function*(e,t,r){r.outStatistic.onStatisticValueExpression?j(e,t,r.outStatistic.onStatisticValueExpression):e.add(r.outStatistic.onStatisticField)}))).apply(this,arguments)}function F(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(n.a)((function*(e,t,r){t&&r&&"cluster"===r.type&&r.fields&&(yield Promise.all(r.fields.map((r=>T(e,t.fields,r)))))}))).apply(this,arguments)}function N(e,t,r){return E.apply(this,arguments)}function E(){return(E=Object(n.a)((function*(e,t,n){if(t&&(t.timeInfo&&Object(a.k)(n)&&n.timeExtent&&b(e,t.fields,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&b(e,t.fields,[t.floorInfo.floorField]),Object(a.k)(n)&&Object(a.k)(n.where)&&n.where&&"1=1"!==n.where)){var i=(yield Promise.all([r.e(11),r.e(273)]).then(r.bind(null,272))).WhereClause.create(n.where,t.fieldsIndex);if(!i.isStandardized)throw new s.a("fieldUtils:collectFilterFields","Where clause is not standardized");b(e,t.fields,i.fieldNames)}}))).apply(this,arguments)}function R(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?h(e.fields,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function A(e){if(!e)return[];var t=e.geometryFieldsInfo;return t?h(e.fields,[t.shapeAreaField,t.shapeLengthField]):[]}function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(n.a)((function*(e,t){var{labelingInfo:r,fields:n}=t;r&&r.length&&(yield Promise.all(r.map((t=>q(e,n,t)))))}))).apply(this,arguments)}function q(e,t,r){return V.apply(this,arguments)}function V(){return(V=Object(n.a)((function*(e,t,r){if(r){var n=r.getLabelExpression(),i=r.where;if("arcade"===n.type)yield j(e,t,n.expression);else{var a=n.expression.match(/{[^}]*}/g);a&&a.forEach((r=>{y(e,t,r.slice(1,-1))}))}var s=/['"]+/g;if(i){var o=i.split(" ");3===o.length&&y(e,t,o[0].replace(s,"")),7===o.length&&(y(e,t,o[0].replace(s,"")),y(e,t,o[4].replace(s,"")))}}}))).apply(this,arguments)}function P(e){var t=e.defaultValue;return void 0!==t&&z(e,t)?t:e.nullable?null:void 0}function C(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function L(e){return null===e||C(e)}var B="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function G(e){return null===e||B(e)}function H(e){return null!=e&&"string"==typeof e}function J(e){return null===e||H(e)}function Y(){return!0}function z(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?G:B;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?L:C;break;case"string":case"esriFieldTypeString":r=e.nullable?J:H;break;default:r=Y}return 1===arguments.length?r:r(t)}var K,$,X=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function W(e){return null!=e&&X.has(e.type)}function Z(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Q(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ee(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function te(e,t){return e.nullable&&null===t?null:W(e)&&!function(e,t){var r="string"==typeof e?ne(e):e;return!!r&&(r.isInteger?B(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}(e.type,Number(t))?K.OUT_OF_RANGE:z(e,t)?e.domain?Object(o.e)(e.domain,t):null:$.INVALID_TYPE}function re(e){return Object(o.c)(e.domain)||(W(e)?ne(e.type):void 0)}function ne(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ie;case"esriFieldTypeInteger":case"integer":return ae;case"esriFieldTypeSingle":case"single":return se;case"esriFieldTypeDouble":case"double":return oe}}(K||(K={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}($||($={}));var ie={min:-32768,max:32767,isInteger:!0},ae={min:-2147483648,max:2147483647,isInteger:!0},se={min:-34e37,max:12e37,isInteger:!1},oe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ue(e,t,r){switch(e){case o.a.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case o.a.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case $.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case K.OUT_OF_RANGE:var{min:n,max:i}=ne(t.type);return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(n," to ").concat(i)}}function le(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){if(Object(a.k)(r))for(var n of e)r.add(n);return!0}var i=t.attributes,s=!1;for(var o of e)if(!(o in i)){if(s=!0,!Object(a.k)(r))break;r.add(o)}return s}(e,t,null)}},121:function(e,t,r){"use strict";var n=r(82),i=(r(80),r(81),r(88),r(85)),a=r(95),s=r(102),o=r(84),u=(r(83),r(86),r(87),r(90)),l=new a.a({inherited:"inherited",codedValue:"coded-value",range:"range"}),c=class extends u.a{constructor(e){super(e),this.name=null,this.type=null}};Object(n.a)([Object(i.b)({type:String,json:{write:!0}})],c.prototype,"name",void 0),Object(n.a)([Object(s.a)(l)],c.prototype,"type",void 0);var d=c=Object(n.a)([Object(o.a)("esri.layers.support.Domain")],c);t.a=d},134:function(e,t,r){"use strict";var n,i=r(82),a=(r(80),r(92)),s=(r(81),r(88),r(85)),o=r(102),u=r(84),l=(r(83),r(86),r(87),r(90)),c=n=class extends l.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};Object(i.a)([Object(s.b)({type:String,json:{write:!0}})],c.prototype,"name",void 0),Object(i.a)([Object(s.b)({type:[String,Number],json:{write:!0}})],c.prototype,"code",void 0);var d,f=c=n=Object(i.a)([Object(u.a)("esri.layers.support.CodedValue")],c),p=r(121),m=d=class extends p.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(a.a)(this.codedValues),name:this.name})}};Object(i.a)([Object(s.b)({type:[f],json:{write:!0}})],m.prototype,"codedValues",void 0),Object(i.a)([Object(o.a)({codedValue:"coded-value"})],m.prototype,"type",void 0);var h=m=d=Object(i.a)([Object(u.a)("esri.layers.support.CodedValueDomain")],m);t.a=h},136:function(e,t,r){"use strict";var n,i=r(82),a=(r(80),r(81),r(88),r(85),r(102)),s=r(84),o=(r(83),r(86),r(87),r(121)),u=n=class extends o.a{constructor(e){super(e),this.type="inherited"}clone(){return new n}};Object(i.a)([Object(a.a)({inherited:"inherited"})],u.prototype,"type",void 0);var l=u=n=Object(i.a)([Object(s.a)("esri.layers.support.InheritedDomain")],u);t.a=l},137:function(e,t,r){"use strict";var n,i=r(82),a=(r(80),r(81),r(88),r(85)),s=r(102),o=r(84),u=(r(83),r(86),r(87),r(121)),l=n=class extends u.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(i.a)([Object(a.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],l.prototype,"maxValue",void 0),Object(i.a)([Object(a.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],l.prototype,"minValue",void 0),Object(i.a)([Object(s.a)({range:"range"})],l.prototype,"type",void 0);var c=l=n=Object(i.a)([Object(o.a)("esri.layers.support.RangeDomain")],l);t.a=c},140:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l}));r(80);var n=r(95);function i(e){return e}var a={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}},s=Object(n.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});function o(e,t,r){var n=new Date(e.getTime());if(t&&r){var i=a[r],{getter:s,setter:o,multiplier:u}=i;n[o](n[s]()+t*u)}return n}var u={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function l(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return null}}},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return l}));r(80);var n,i,a=r(121),s=r(134),o=r(136),u=r(137);function l(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return n.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return n.INVALID_CODED_VALUE}return null}(i=n||(n={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var c={key:"type",base:a.a,typeMap:{range:u.a,"coded-value":s.a,inherited:o.a}};function d(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}function f(e){if(!e||!e.type)return null;switch(e.type){case"range":return u.a.fromJSON(e);case"codedValue":return s.a.fromJSON(e);case"inherited":return o.a.fromJSON(e)}return null}},150:function(e,t,r){"use strict";var n,i=r(82),a=(r(80),r(81),r(88),r(85)),s=r(98),o=r(84),u=r(96),l=(r(83),r(86),r(87),r(90)),c=r(140),d=n=class extends l.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return f}static get empty(){return p}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new n({end:this.end,start:this.start})}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=this.start?Object(c.e)(this.start,e):null,r=this.end?Object(c.c)(Object(c.e)(this.end,e),1,e):null;return new n({start:t,end:r})}intersection(e){var t,r,i,a,s,o,u,l;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var c,d,f=null!=(t=null==(r=this.start)?void 0:r.getTime())?t:-1/0,p=null!=(i=null==(a=this.end)?void 0:a.getTime())?i:1/0,m=null!=(s=null==(o=e.start)?void 0:o.getTime())?s:-1/0,h=null!=(u=null==(l=e.end)?void 0:l.getTime())?u:1/0;if(m>=f&&m<=p?c=m:f>=m&&f<=h&&(c=f),p>=m&&p<=h?d=p:h>=f&&h<=p&&(d=h),!isNaN(c)&&!isNaN(d)){var b=new n;return b.start=c===-1/0?null:new Date(c),b.end=d===1/0?null:new Date(d),b}return n.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new n,{start:i,end:a}=this;return i&&(r.start=Object(c.c)(i,e,t)),a&&(r.end=Object(c.c)(a,e,t)),r}equals(e){if(!e)return!1;var t=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,n=e.start?e.start.getTime():e.start,i=e.end?e.end.getTime():e.end;return t===n&&r===i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return f.clone();var t=this.start&&e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end&&e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}};Object(i.a)([Object(a.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(i.a)([Object(s.a)("end")],d.prototype,"readEnd",null),Object(i.a)([Object(u.a)("end")],d.prototype,"writeEnd",null),Object(i.a)([Object(a.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(i.a)([Object(a.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(i.a)([Object(a.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(i.a)([Object(s.a)("start")],d.prototype,"readStart",null),Object(i.a)([Object(u.a)("start")],d.prototype,"writeStart",null);var f=new(d=n=Object(i.a)([Object(o.a)("esri.TimeExtent")],d)),p=new d({start:void 0,end:void 0}),m=d;t.a=m},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return u}));var n,i=r(91),a=r(7),s=r(89),o=r(99);r(101);function u(){return l.apply(this,arguments)}function l(){return(l=Object(a.a)((function*(){return n||(n=Object(a.a)((function*(){var e=yield Promise.all([r.e(31),r.e(134)]).then(r.bind(null,383));return yield e.arcade.load(),{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}}))()),n}))).apply(this,arguments)}var c=(e,t,r)=>p.create(e,t,r,null,["$feature"]),d=(e,t,r)=>p.create(e,t,r,null,["$feature","$view"]),f=(e,t,r,n)=>p.create(e,t,r,n,["$feature","$view"]);class p{constructor(e,t,r,n,i,a,s,o){this.script=e,this.evaluate=i,this.fields=s,this._syntaxTree=n,this._arcade=t,this._arcadeDictionary=r,this._arcadeFeature=a,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(e,t,r,n,l,c){return Object(a.a)((function*(){var{arcade:a,Feature:d,Dictionary:f}=yield u(),m=o.a.fromJSON(t),h=a.parseScript(e,c),b=l.reduce(((e,t)=>Object(i.a)(Object(i.a)({},e),{},{[t]:null})),{}),y=null;Object(s.k)(n)&&((y=new f(n)).immutable=!0,b.$config=null);var v=a.scriptUsesGeometryEngine(h)&&a.enableGeometrySupport(),g=a.scriptUsesFeatureSet(h)&&a.enableFeatureSetSupport(),O=a.scriptIsAsync(h)&&a.enableAsyncSupport(),j={vars:b,spatialReference:m,useAsync:!!O},S=new f;S.immutable=!1,S.setField("scale",0);var w=a.compileScript(h,j);return yield Promise.all([v,g,O]),new p(e,a,f,h,(e=>("$view"in e&&e.$view&&(S.setField("scale",e.$view.scale),e.$view=S),y&&(e.$config=y),w({vars:e,spatialReference:m}))),new d,r,m)}))()}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(e){return this._arcade.extractFieldLiterals(this._syntaxTree,e)}}},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return d}));var n=r(112),i=r(99),a=r(139);function s(e){return new i.a({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var o=s(a.a),u=s(a.b),l=s(a.c),c=new i.a({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(a.a.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function d(e){return e&&(Object(n.g)(e)||e===u)?u:e&&(Object(n.h)(e)||e===l)?l:o}function f(e){return e&&(Object(n.g)(e)||e===u)?a.b:e&&(Object(n.h)(e)||e===l)?a.c:a.a}function p(e){return Object(n.k)(e)?a.b:Object(n.l)(e)?a.c:a.a}},186:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return O}));var n=r(82),i=r(126),a=r(84),s=r(144),o=r(97),u=r(228),l=r(89),c=r(253),d=r(92);class f{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s.a),this._values=new Map}clone(e){var t=this,r=new f,n=this._originStores[0];n&&n.forEach(((e,t)=>{r.set(t,Object(d.a)(e),0)}));for(var i=function(n){var i=t._originStores[n];i&&i.forEach(((t,i)=>{e&&e.has(i)||r.set(i,Object(d.a)(t),n)}))},a=2;a<s.a;a++)i(a);return r}get(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){var t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=6){var n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(e,t),!this._values.has(e)||Object(l.d)(this._propertyOriginMap.get(e))<=r){var i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}delete(e,t=6){var r=this._originStores[t];if(r){var n=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var i=t-1;i>=0;i--){var a=this._originStores[i];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,i);break}}}return n}}has(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],n=r&&r.get(e),i=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,t),i!==n}originOf(e){return this._propertyOriginMap.get(e)||0}forEach(e){this._values.forEach(e)}}var p=f,m=e=>{var t=class extends e{constructor(...e){super(...e);var t=Object(l.d)(Object(i.a)(this)),r=t.metadatas,n=t.store,a=new p;t.store=a,n.keys().forEach((e=>{a.set(e,n.get(e),0)})),Object.keys(r).forEach((e=>{t.internalGet(e)&&a.set(e,t.internalGet(e),0)}))}read(e,t){Object(c.a)(this,e,t)}getAtOrigin(e,t){var r=h(this),n=Object(s.d)(t);if("string"==typeof e)return r.get(e,n);var i={};return e.forEach((e=>{i[e]=r.get(e,n)})),i}originOf(e){return Object(s.b)(this.originIdOf(e))}originIdOf(e){return h(this).originOf(e)}revert(e,t){var r=h(this),n=Object(s.d)(t),a=Object(i.a)(this);("string"==typeof e?"*"===e?r.keys(n):[e]:e).forEach((e=>{a.propertyInvalidated(e),r.revert(e,n),a.propertyCommitted(e)}))}};return t=Object(n.a)([Object(a.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t)};function h(e){return Object(i.a)(e).store}var b=class extends(m(o.a)){};b=Object(n.a)([Object(a.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],b);var y=e=>{var t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return v(this).delete(e,Object(s.d)(t))}write(e={},t){return Object(u.b)(this,e=e||{},t),e}setAtOrigin(e,t,r){Object(i.a)(this).setAtOrigin(e,t,Object(s.d)(r))}removeOrigin(e){var t=v(this),r=Object(s.d)(e),n=t.keys(r);for(var i of n)t.originOf(i)===r&&t.set(i,t.get(i,r),6)}updateOrigin(e,t){for(var r=v(this),n=Object(s.d)(t),i=this.get(e),a=n+1;a<s.a;++a)r.delete(e,a);r.set(e,i,n)}toJSON(e){return this.write({},e)}};return(t=Object(n.a)([Object(a.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t};function v(e){return Object(i.a)(e).store}var g=e=>{var t=class extends(y(m(e))){constructor(...e){super(...e)}};return t=Object(n.a)([Object(a.a)("esri.core.MultiOriginJSONSupport")],t)},O=class extends(g(o.a)){};O=Object(n.a)([Object(a.a)("esri.core.MultiOriginJSONSupport")],O)},193:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(139),i=r(117),a={inches:Object(i.c)(1,"meters","inches"),feet:Object(i.c)(1,"meters","feet"),"us-feet":Object(i.c)(1,"meters","us-feet"),yards:Object(i.c)(1,"meters","yards"),miles:Object(i.c)(1,"meters","miles"),"nautical-miles":Object(i.c)(1,"meters","nautical-miles"),millimeters:Object(i.c)(1,"meters","millimeters"),centimeters:Object(i.c)(1,"meters","centimeters"),decimeters:Object(i.c)(1,"meters","decimeters"),meters:Object(i.c)(1,"meters","meters"),kilometers:Object(i.c)(1,"meters","kilometers"),"decimal-degrees":1/Object(i.m)(1,"meters",n.a.radius)}},201:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o}));var n=r(94);function i(e,t,r){return Object(n.j)(e.map(((e,n)=>t.apply(r,[e,n]))))}function a(e,t,r){return Object(n.j)(e.map(((e,n)=>t.apply(r,[e,n])))).then((e=>e.map((e=>e.value))))}function s(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function o(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(Object(n.t)(e),{ok:!1,error:e})))}},204:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(82),i=(r(80),r(81),r(88),r(85)),a=r(84),s=(r(83),r(86),r(87),e=>{var t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return"".concat(this.minScale,",").concat(this.maxScale)}};return Object(n.a)([Object(i.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(n.a)([Object(i.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(n.a)([Object(i.b)({readOnly:!0})],t.prototype,"scaleRangeId",null),t=Object(n.a)([Object(a.a)("esri.layers.mixins.ScaleRangeLayer")],t)})},242:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return b})),r.d(t,"i",(function(){return y})),r.d(t,"j",(function(){return m})),r.d(t,"k",(function(){return v}));var n=r(89),i=r(83),a=r(258),s=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],o=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),u=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),l=/(.*)\/(\d+)\/?$/i;function c(e){return!!o.test(e)}function d(e){var t=Object(i.J)(e),r=t.path.match(o)||t.path.match(u);if(!r)return null;var[,n,a,s,l]=r,c=a.indexOf("/");return{title:p(-1!==c?a.slice(c+1):a),serverType:s,sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:n}}}function f(e){var t=Object(i.J)(e).path.match(l);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){var r=[];if(e){var i=d(e);Object(n.k)(i)&&i.title&&r.push(i.title)}if(t){var a=p(t);r.push(a)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;var t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function b(e,t){return e?Object(i.H)(Object(i.G)(e,t)):e}function y(e){var{url:t}=e;if(!t)return{url:t};t=Object(i.G)(t,e.logger);var r,a=Object(i.J)(t),s=d(a.path);if(Object(n.k)(s))null!=s.sublayer&&null==e.layer.layerId&&(r=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){var o=f(a.path);Object(n.k)(o)&&(t=o.serviceUrl,r=o.sublayerId)}return{url:Object(i.H)(t),layerId:r}}function v(e,t,r,n,s){Object(a.f)(t,n,"url",s),n.url&&null!=e.layerId&&(n.url=Object(i.y)(n.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;var t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),a=-1!==t.indexOf("/wmsserver");return r&&(n||i||a)}function O(e){if(!e)return!1;var t=new i.a(Object(i.z)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},303:function(e,t,r){"use strict";var n,i=r(91),a=r(82),s=(r(80),r(81),r(88),r(85)),o=r(95),u=r(98),l=r(175),c=r(84),d=r(96),f=(r(83),r(86),r(87),r(209)),p=r(90),m=r(117),h=Object(o.b)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),b=h.jsonValues.slice();Object(f.j)(b,"orthometric");var y=Object(o.b)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),v=n=class extends p.a{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return h.write(e,t,r)}readHeightModel(e,t,r){return h.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new l.a("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:r})),null)}readHeightUnit(e,t,r){return y.read(e)||(r&&r.messages&&r.messages.push(g(e,{context:r})),null)}readHeightUnitService(e,t,r){return Object(m.x)(e)||y.read(e)||(r&&r.messages&&r.messages.push(g(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){var r=Object(m.i)(t);return new n({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t=Object(i.a)({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;var t=new n;return t.read(e,{origin:"web-scene"}),t}};function g(e,t){return new l.a("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}Object(a.a)([Object(s.b)({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b,default:"ellipsoidal"}}}})],v.prototype,"heightModel",void 0),Object(a.a)([Object(d.a)("web-scene","heightModel")],v.prototype,"writeHeightModel",null),Object(a.a)([Object(u.a)(["web-scene","service"],"heightModel")],v.prototype,"readHeightModel",null),Object(a.a)([Object(s.b)({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y.jsonValues,write:y.write}}}})],v.prototype,"heightUnit",void 0),Object(a.a)([Object(u.a)("web-scene","heightUnit")],v.prototype,"readHeightUnit",null),Object(a.a)([Object(u.a)("service","heightUnit")],v.prototype,"readHeightUnitService",null),Object(a.a)([Object(s.b)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],v.prototype,"vertCRS",void 0),Object(a.a)([Object(u.a)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],v.prototype,"readVertCRS",null);var O=v=n=Object(a.a)([Object(c.a)("esri.geometry.HeightModelInfo")],v);t.a=O},624:function(e,t,r){"use strict";function n(e){return e&&"getAtOrigin"in e&&"originOf"in e}r.d(t,"a",(function(){return n}))},676:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(624);function i(e){e&&e.writtenProperties&&e.writtenProperties.forEach((e=>{var t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&Object(n.a)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}},778:function(e,t,r){"use strict";r.r(t),r.d(t,"addOrUpdateResource",(function(){return c})),r.d(t,"contentToBlob",(function(){return v})),r.d(t,"fetchResources",(function(){return u})),r.d(t,"getSiblingOfSameType",(function(){return O})),r.d(t,"getSiblingOfSameTypeI",(function(){return j})),r.d(t,"removeAllResources",(function(){return m})),r.d(t,"removeResource",(function(){return f})),r.d(t,"splitPrefixFileNameAndExtension",(function(){return y}));var n=r(7),i=r(89),a=r(93),s=r(83),o=r(106);function u(e){return l.apply(this,arguments)}function l(){return(l=Object(n.a)((function*(e,t={},r){yield e.load(r);var n=Object(s.y)(e.itemUrl,"resources"),{start:a=1,num:o=10,sortOrder:u="asc",sortField:l="created"}=t,c={query:{start:a,num:o,sortOrder:u,sortField:l},signal:Object(i.i)(r,"signal")},d=yield e.portal._request(n,c);return{total:d.total,nextStart:d.nextStart,resources:d.resources.map((({created:t,size:r,resource:n})=>({created:new Date(t),size:r,resource:e.resourceFromPath(n)})))}}))).apply(this,arguments)}function c(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=Object(n.a)((function*(e,t,r,n){if(!e.hasPath())throw new a.a("portal-item-resource-".concat(t,":invalid-path"),"Resource does not have a valid path");yield e.portalItem.load(n);var o=Object(s.y)(e.portalItem.userItemUrl,"add"===t?"addResources":"updateResources"),[u,l]=b(e.path),c=yield v(r),d=new FormData;return u&&"."!==u&&d.append("resourcesPrefix",u),d.append("fileName",l),d.append("file",c,l),d.append("f","json"),Object(i.k)(n)&&n.access&&d.append("access",n.access),yield e.portalItem.portal._request(o,{method:"post",body:d,signal:Object(i.i)(n,"signal")}),e}))).apply(this,arguments)}function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=Object(n.a)((function*(e,t,r){if(!t.hasPath())throw new a.a("portal-item-resources-remove:invalid-path","Resource does not have a valid path");yield e.load(r);var n=Object(s.y)(e.userItemUrl,"removeResources");yield e.portal._request(n,{method:"post",query:{resource:t.path},signal:Object(i.i)(r,"signal")}),t.portalItem=null}))).apply(this,arguments)}function m(e,t){return h.apply(this,arguments)}function h(){return(h=Object(n.a)((function*(e,t){yield e.load(t);var r=Object(s.y)(e.userItemUrl,"removeResources");return e.portal._request(r,{method:"post",query:{deleteAll:!0},signal:Object(i.i)(t,"signal")})}))).apply(this,arguments)}function b(e){var t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function y(e){var[t,r]=function(e){var t=Object(s.n)(e);return Object(i.j)(t)?[e,""]:[e.slice(0,e.length-t.length-1),".".concat(t)]}(e),[n,a]=b(t);return[n,a,r]}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(n.a)((function*(e){return e instanceof Blob?e:(yield Object(o.default)(e.url,{responseType:"blob"})).data}))).apply(this,arguments)}function O(e,t){if(!e.hasPath())return null;var[r,,n]=y(e.path);return e.portalItem.resourceFromPath(Object(s.y)(r,t+n))}function j(e,t){if(!e.hasPath())return null;var[r,,n]=y(e.path);return e.portalItem.resourceFromPath(Object(s.y)(r,t+n))}},790:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(7),i=r(89),a=r(93),s=r(106);function o(e,t,r,n,i){return u.apply(this,arguments)}function u(){return(u=Object(n.a)((function*(e,t,r,n,o){var u=null;if(Object(i.k)(r)){var l="".concat(e,"/nodepages/"),c=l+Math.floor(r.rootIndex/r.nodesPerPage);try{return{type:"page",rootPage:(yield Object(s.default)(c,{query:{f:"json"},responseType:"json",signal:o})).data,rootIndex:r.rootIndex,pageSize:r.nodesPerPage,lodMetric:r.lodSelectionMetricType,urlPrefix:l}}catch(p){Object(i.k)(n)&&n.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",c,p),u=p}}if(!t)return null;var d="".concat(e,"/nodes/"),f=d+(t&&t.split("/").pop());try{return{type:"node",rootNode:(yield Object(s.default)(f,{query:{f:"json"},responseType:"json",signal:o})).data,urlPrefix:d}}catch(p){throw new a.a("sceneservice:root-node-missing","Root node missing.",{pageError:u,nodeError:p,url:f})}}))).apply(this,arguments)}},803:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var n=r(91),i=r(7),a=r(82),s=(r(80),r(89)),o=r(81),u=(r(88),r(85)),l=r(98),c=r(84),d=r(96),f=r(93),p=r(83),m=r(86),h=(r(87),r(94)),b=r(99),y=r(103),v=r(106),g=r(252),O=r(314),j=r(676),S=r(242),w=r(303),I=r(201),_=r(778);function x(e,t,r){return T.apply(this,arguments)}function T(){return(T=Object(i.a)((function*(e,t,r){if(t&&t.resources){var n=t.portalItem===e.portalItem?new Set(e.paths):new Set;e.paths.length=0,e.portalItem=t.portalItem;var i=new Set(t.resources.toKeep.map((e=>e.resource.path))),a=new Set,s=[];for(var o of(i.forEach((t=>{n.delete(t),e.paths.push(t)})),t.resources.toUpdate))if(n.delete(o.resource.path),i.has(o.resource.path)||a.has(o.resource.path)){var{resource:u,content:l,finish:c,error:d}=o,p=Object(_.getSiblingOfSameTypeI)(u,Object(m.a)());e.paths.push(p.path),s.push(U({resource:p,content:l,finish:c,error:d},r))}else e.paths.push(o.resource.path),s.push(k(o,r)),a.add(o.resource.path);for(var b of t.resources.toAdd)s.push(U(b,r)),e.paths.push(b.resource.path);if(n.forEach((e=>{var r=t.portalItem.resourceFromPath(e);s.push(r.portalItem.removeResource(r).catch((()=>{})))})),0!==s.length){var y=yield Object(h.j)(s);Object(h.u)(r);var v=y.filter((e=>"error"in e)).map((e=>e.error));if(v.length>0)throw new f.a("save:resources","Failed to save one or more resources",{errors:v})}}}))).apply(this,arguments)}function U(e,t){return F.apply(this,arguments)}function F(){return(F=Object(i.a)((function*(e,t){var r=yield Object(I.c)(e.resource.portalItem.addResource(e.resource,e.content,t));if(!0!==r.ok)throw e.error&&e.error(r.error),r.error;e.finish&&e.finish(e.resource)}))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(i.a)((function*(e,t){var r=yield Object(I.c)(e.resource.update(e.content,t));if(!0!==r.ok)throw e.error(r.error),r.error;e.finish(e.resource)}))).apply(this,arguments)}var E=r(181),R=r(790),A=o.a.getLogger("esri.layers.mixins.SceneService"),M=e=>{var t=class extends e{constructor(){var e;super(...arguments),e=this,this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:""},this.copyright=null,this.sublayerTitleMode="item-title",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=Object(h.i)(function(){var t=Object(i.a)((function*(t,r,n){switch(t){case 0:return e._save(r);case 1:return e._saveAs(n,r)}}));return function(e,r,n){return t.apply(this,arguments)}}())}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return b.a.fromJSON(e.spatialReference);var t=e.store,r=t.indexCRS||t.geographicCRS,n=r&&parseInt(r.substring(r.lastIndexOf("/")+1,r.length),10);return null!=n?new b.a(n):null}readFullExtent(e,t,r){if(null!=e&&"object"==typeof e)return y.a.fromJSON(e,r);var n=t.store,i=this._readSpatialReference(t);return null==i||null==n||null==n.extent||!Array.isArray(n.extent)||n.extent.some((e=>e<D))?null:new y.a({xmin:n.extent[0],ymin:n.extent[1],xmax:n.extent[2],ymax:n.extent[3],spatialReference:i})}readVersion(e,t){var r=t.store,n=null!=r.version?r.version.toString():"",i={major:Number.NaN,minor:Number.NaN,versionString:n},a=n.split(".");return a.length>=2&&(i.major=parseInt(a[0],10),i.minor=parseInt(a[1],10)),i}readTitlePortalItem(e){return"item-title"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){var r=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return Object(S.j)(this.url,t.name);var n=t.name;if(!n&&this.url){var i=Object(S.f)(this.url);Object(s.k)(i)&&(n=i.title)}return"item-title-and-service-name"===this.sublayerTitleMode&&r&&(n=r+" - "+n),Object(S.a)(n)}set url(e){var t=Object(S.i)({layer:this,url:e,nonStandardUrlAllowed:!1,logger:A});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,r,n){Object(S.k)(this,e,"layers",t,n)}get parsedUrl(){var e=this._get("url");if(!e)return null;var t=Object(p.J)(e);return null!=this.layerId&&(t.path="".concat(t.path,"/layers/").concat(this.layerId)),t}_fetchIndexAndUpdateExtent(e,t){var r=this;return Object(i.a)((function*(){r.indexInfo=Object(R.a)(r.parsedUrl.path,r.rootNode,e,A,t),null==r.fullExtent||r.fullExtent.hasZ||r._updateExtent(yield r.indexInfo)}))()}_updateExtent(e){if("page"===(null==e?void 0:e.type)){var t,r,n=e.rootIndex%e.pageSize,i=null==(t=e.rootPage)||null==(r=t.nodes)?void 0:r[n];if(null==i||null==i.obb||null==i.obb.center||null==i.obb.halfSize)throw new f.a("sceneservice:invalid-node-page","Invalid node page.");if(i.obb.center[0]<D||null==this.fullExtent||this.fullExtent.hasZ)return;var a=i.obb.halfSize,s=i.obb.center[2],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);this.fullExtent.zmin=s-o,this.fullExtent.zmax=s+o}else if("node"===(null==e?void 0:e.type)){var u,l=null==(u=e.rootNode)?void 0:u.mbs;if(!Array.isArray(l)||4!==l.length||l[0]<D)return;var c=l[2],d=l[3];this.fullExtent.zmin=c-d,this.fullExtent.zmax=c+d}}_fetchService(e){var t=this;return Object(i.a)((function*(){if(null==t.url)throw new f.a("sceneservice:url-not-set","Scene service can not be loaded without valid portal item or url");if(null==t.layerId&&/SceneServer\/*$/i.test(t.url)){var r=yield t._fetchFirstLayerId(e);null!=r&&(t.layerId=r)}return t._fetchServiceLayer(e)}))()}_fetchFirstLayerId(e){var t=this;return Object(i.a)((function*(){var r=yield Object(v.default)(t.url,{query:{f:"json"},responseType:"json",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}))()}_fetchServiceLayer(e){var t=this;return Object(i.a)((function*(){var r=yield Object(v.default)(t.parsedUrl.path,{query:{f:"json"},responseType:"json",signal:e});r.ssl&&(t.url=t.url.replace(/^http:/i,"https:"));var n=r.data;t.read(n,{origin:"service",url:t.parsedUrl}),t.validateLayer(n)}))()}_ensureLoadBeforeSave(){var e=this;return Object(i.a)((function*(){yield e.load(),"beforeSave"in e&&"function"==typeof e.beforeSave&&(yield e.beforeSave())}))()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);var n=t.getTypeKeywords();for(var i of n)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>"Hosted Service"!==e))))}_saveAs(e,t){var r=this;return Object(i.a)((function*(){var i=Object(n.a)(Object(n.a)({},P),t),a=O.default.from(e);a||(A.error("_saveAs(): requires a portal item parameter"),yield Promise.reject(new f.a("sceneservice:portal-item-required","_saveAs() requires a portal item to save to"))),a.id&&((a=a.clone()).id=null);var s=a.portal||g.a.getDefault();yield r._ensureLoadBeforeSave(),a.type=V,a.portal=s;var o={origin:"portal-item",url:null,messages:[],portal:s,portalItem:a,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},u={layers:[r.write(null,o)]};return yield Promise.all(o.resources.pendingOperations),yield r._validateAgainstJSONSchema(u,o,i),a.url=r.url,a.title||(a.title=r.title),r._updateTypeKeywords(a,i,1),yield s._signIn(),yield s.user.addItem({item:a,folder:i&&i.folder,data:u}),yield x(r.resourceReferences,o,null),r.portalItem=a,Object(j.a)(o),o.portalItem=a,a}))()}_save(e){var t=this;return Object(i.a)((function*(){var r=Object(n.a)(Object(n.a)({},P),e);t.portalItem||(A.error("_save(): requires the .portalItem property to be set"),yield Promise.reject(new f.a("sceneservice:portal-item-not-set","Portal item to save to has not been set on this SceneService"))),t.portalItem.type!==V&&(A.error("_save(): Non-matching portal item type. Got "+t.portalItem.type+", expected "+V),yield Promise.reject(new f.a("sceneservice:portal-item-wrong-type",'Portal item needs to have type "'.concat(V,'"')))),yield t._ensureLoadBeforeSave();var i={origin:"portal-item",url:t.portalItem.itemUrl&&Object(p.J)(t.portalItem.itemUrl),messages:[],portal:t.portalItem.portal||g.a.getDefault(),portalItem:t.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[t.write(null,i)]};return yield Promise.all(i.resources.pendingOperations),yield t._validateAgainstJSONSchema(a,i,r),t.portalItem.url=t.url,t.portalItem.title||(t.portalItem.title=t.title),t._updateTypeKeywords(t.portalItem,r,0),yield t.portalItem.update({data:a}),yield x(t.resourceReferences,i,null),Object(j.a)(i),t.portalItem}))()}_validateAgainstJSONSchema(e,t,n){return Object(i.a)((function*(){var i=t.messages.filter((e=>"error"===e.type)).map((e=>new f.a(e.name,e.message,e.details)));if(n&&n.validationOptions.ignoreUnsupported&&(i=i.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name&&"scenemodification:unsupported"!==e.name))),n.validationOptions.enabled||q){var a=(yield r.e(260).then(r.bind(null,1234))).validate(e,n.portalItemLayerType);if(a.length>0){var s="Layer item did not validate:\n".concat(a.join("\n"));if(A.error("_validateAgainstJSONSchema(): ".concat(s)),"throw"===n.validationOptions.failPolicy){var o=a.map((e=>new f.a("sceneservice:schema-validation",e))).concat(i);throw new f.a("sceneservice-validate:error","Failed to save layer item due to schema validation, see `details.errors`.",{combined:o})}}}if(i.length>0)throw new f.a("sceneservice:save","Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:i})}))()}};return Object(a.a)([Object(u.b)(E.c)],t.prototype,"id",void 0),Object(a.a)([Object(u.b)({type:b.a})],t.prototype,"spatialReference",void 0),Object(a.a)([Object(l.a)("spatialReference",["spatialReference","store.indexCRS","store.geographicCRS"])],t.prototype,"readSpatialReference",null),Object(a.a)([Object(u.b)({type:y.a})],t.prototype,"fullExtent",void 0),Object(a.a)([Object(l.a)("fullExtent",["fullExtent","store.extent","spatialReference","store.indexCRS","store.geographicCRS"])],t.prototype,"readFullExtent",null),Object(a.a)([Object(u.b)({readOnly:!0,type:w.a})],t.prototype,"heightModelInfo",void 0),Object(a.a)([Object(u.b)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:{source:"minScale"},write:!1}}}})],t.prototype,"minScale",void 0),Object(a.a)([Object(u.b)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:{source:"maxScale"},write:!1}}}})],t.prototype,"maxScale",void 0),Object(a.a)([Object(u.b)({readOnly:!0})],t.prototype,"version",void 0),Object(a.a)([Object(l.a)("version",["store.version"])],t.prototype,"readVersion",null),Object(a.a)([Object(u.b)({type:String,json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(a.a)([Object(u.b)({type:String,json:{read:!1}})],t.prototype,"sublayerTitleMode",void 0),Object(a.a)([Object(u.b)({type:String})],t.prototype,"title",void 0),Object(a.a)([Object(l.a)("portal-item","title")],t.prototype,"readTitlePortalItem",null),Object(a.a)([Object(l.a)("service","title",["name"])],t.prototype,"readTitleService",null),Object(a.a)([Object(u.b)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{write:{target:"id",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],t.prototype,"layerId",void 0),Object(a.a)([Object(u.b)(E.n)],t.prototype,"url",null),Object(a.a)([Object(d.a)("url")],t.prototype,"writeUrl",null),Object(a.a)([Object(u.b)()],t.prototype,"parsedUrl",null),Object(a.a)([Object(u.b)({readOnly:!0})],t.prototype,"store",void 0),Object(a.a)([Object(u.b)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],t.prototype,"rootNode",void 0),t=Object(a.a)([Object(c.a)("esri.layers.mixins.SceneService")],t)},D=-1e38,q=!1,V="Scene Service",P={getTypeKeywords:()=>[],portalItemLayerType:"unknown",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:"throw"}}}}]);
//# sourceMappingURL=32.78fd0e86.chunk.js.map