(this.webpackJsonpimaps=this.webpackJsonpimaps||[]).push([[95,9,22,25,45,58,240,310],{102:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return n})),i.d(t,"h",(function(){return s})),i.d(t,"i",(function(){return b})),i.d(t,"j",(function(){return a}));const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function n(e){return e?e/72*96:0}function s(e){return e?72*e/96:0}function a(e){if("string"==typeof e){const t=e.match(r);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n="-"===e.charAt(0),a="px"===r?s(i):i;return n?-a:a}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function o(e=0,t=0){return{x:e,y:t}}function l(e=0,t=0){return[e,t]}function u(e=0,t=0,i=0){return[e,t,i]}function c(e){return e}function p(e){return e}function d(e){return e}function b(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},1033:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return Be}));var r=i(79),n=i(153),s=(i(99),i(125)),a=i(180),o=(i(217),i(250),i(253),i(251),i(120),i(248),i(225),i(319)),l=i(111),u=i(88),c=i(134),p=i(87),d=i(85),b=i(309),f=i(132),m=i(114),y=i(98),h=i(81),O=(i(84),i(82),i(83)),j=i(93),g=i(80),v=i(92),S=i(782),w=i(101),T=i(187),_=i(110),N=i(207),E=i(254),x=i(261),I=i(380),M=i(239),A=i(201),P=i(115),C=i(86),F=i(199),R=i(255),D=i(195);let L=class extends C.a{constructor(){super(...arguments),this.directionLines=new F.a({color:[0,122,194],width:6}),this.directionPoints=new R.a({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),this.pointBarriers=new R.a({style:"x",size:10,outline:{color:[255,0,0],width:3}}),this.polygonBarriers=new D.a({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),this.polylineBarriers=new F.a({width:7.5,color:[255,85,0,.7]}),this.routeInfo=new F.a({width:8,color:[20,89,127]}),this.firstStop=new R.a({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),this.middleStop=new R.a({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),this.lastStop=new R.a({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),this.invalidStop=new R.a({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),this.waypointStop=new R.a({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),this.breakStop=new R.a({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}})}};Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"directionLines",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"directionPoints",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"pointBarriers",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"polygonBarriers",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"polylineBarriers",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"routeInfo",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"firstStop",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"middleStop",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"lastStop",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"invalidStop",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"waypointStop",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,types:P.e})],L.prototype,"breakStop",void 0),L=Object(r.a)([Object(g.a)("esri.layers.support.DefaultSymbols")],L);const V=L;var k,B=i(181),U=i(547),G=i(910),z=i(1181),q=i(140),J=i(685),W=i(228);let H=k=class extends C.a{constructor(e){super(e),this.directionLineType=null,this.directionPointId=null,this.distance=null,this.duration=null,this.fromLevel=null,this.geometry=null,this.objectId=null,this.popupTemplate=null,this.symbol=null,this.toLevel=null}static fromPortalJSON(e){var t,i;return new k({directionLineType:J.c.fromJSON(e.attributes.DirectionLineType),directionPointId:e.attributes.DirectionPointID,distance:e.attributes.Meters,duration:e.attributes.Minutes,fromLevel:null!=(t=e.attributes.FromLevel)?t:null,geometry:q.a.fromJSON(e.geometry),objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null,toLevel:null!=(i=e.attributes.ToLevel)?i:null})}toPortalJSON(){const e={geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),DirectionLineType:Object(d.k)(this.directionLineType)?J.c.toJSON(this.directionLineType):null,DirectionPointID:Object(d.s)(this.directionPointId),Meters:Object(d.s)(this.distance),Minutes:Object(d.s)(this.duration)},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null};return Object(d.k)(this.fromLevel)&&(e.attributes.FromLevel=this.fromLevel),Object(d.k)(this.toLevel)&&(e.attributes.ToLevel=this.toLevel),e}};H.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"DirectionLineType",alias:"Line Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriDirectionsLineType",codedValues:[{name:"Unknown",code:0},{name:"Segment",code:1},{name:"Maneuver Segment",code:2},{name:"Restriction violation",code:3},{name:"Scale cost barrier crossing",code:4},{name:"Heavy Traffic",code:5},{name:"Slow Traffic",code:6},{name:"Moderate Traffic",code:7}]}},{name:"DirectionPointID",alias:"Direction Point ID",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1},{name:"FromLevel",alias:"Start from 3D Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1},{name:"Meters",alias:"Length in Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"Minutes",alias:"Duration in Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"ToLevel",alias:"End at 3D Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1}],H.popupInfo={title:"Direction Lines",fieldInfos:[{fieldName:"DirectionLineType",label:"Line Type",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Meters",label:"Length in Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Minutes",label:"Duration in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DirectionPointID",label:"Direction Point ID",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"FromLevel",label:"Start from 3D Level",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ToLevel",label:"End at 3D Level",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({type:J.c.apiValues,json:{read:{source:"attributes.DirectionLineType",reader:J.c.read}}})],H.prototype,"directionLineType",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.DirectionPointID"}}})],H.prototype,"directionPointId",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Meters"}}})],H.prototype,"distance",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Minutes"}}})],H.prototype,"duration",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.FromLevel"}}})],H.prototype,"fromLevel",void 0),Object(r.a)([Object(h.b)({type:q.a})],H.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ObjectID"}}})],H.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],H.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],H.prototype,"symbol",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ToLevel"}}})],H.prototype,"toLevel",void 0),H=k=Object(r.a)([Object(g.a)("esri.rest.support.DirectionLine")],H);const $=H;var Y,K=i(113);let X=Y=class extends C.a{constructor(e){super(e),this.alternateName=null,this.arrivalTime=null,this.arrivalTimeOffset=null,this.azimuth=null,this.branchName=null,this.directionPointType=null,this.displayText=null,this.exitName=null,this.geometry=null,this.intersectingName=null,this.level=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sequence=null,this.shortVoiceInstruction=null,this.stopId=null,this.symbol=null,this.towardName=null,this.voiceInstruction=null}readArrivalTime(e,t){return Object(d.k)(t.attributes.ArrivalTime)?new Date(t.attributes.ArrivalTime):null}static fromPortalJSON(e){var t,i,r,n,s,o,l,u,c,p,b,f,m;return new Y({alternateName:null!=(t=e.attributes.AlternateName)?t:null,arrivalTime:Object(d.k)(e.attributes.ArrivalTime)?new Date(e.attributes.ArrivalTime):null,arrivalTimeOffset:null!=(i=e.attributes.ArrivalUTCOffset)?i:null,azimuth:null!=(r=e.attributes.Azimuth)?r:null,branchName:null!=(n=e.attributes.BranchName)?n:null,directionPointType:J.d.fromJSON(e.attributes.DirectionPointType),displayText:null!=(s=e.attributes.DisplayText)?s:null,exitName:null!=(o=e.attributes.ExitName)?o:null,geometry:K.a.fromJSON(e.geometry),intersectingName:null!=(l=e.attributes.IntersectingName)?l:null,level:null!=(u=e.attributes.Level)?u:null,name:null!=(c=e.attributes.Name)?c:null,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,sequence:e.attributes.Sequence,shortVoiceInstruction:null!=(p=e.attributes.ShortVoiceInstruction)?p:null,stopId:null!=(b=e.attributes.StopID)?b:null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null,towardName:null!=(f=e.attributes.TowardName)?f:null,voiceInstruction:null!=(m=e.attributes.VoiceInstruction)?m:null})}toPortalJSON(){const e={geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),DirectionPointType:Object(d.k)(this.directionPointType)?J.d.toJSON(this.directionPointType):null,Sequence:Object(d.s)(this.sequence),StopID:this.stopId},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null};return Object(d.k)(this.alternateName)&&(e.attributes.AlternateName=this.alternateName),Object(d.k)(this.arrivalTime)&&(e.attributes.ArrivalTime=this.arrivalTime.getTime()),Object(d.k)(this.arrivalTimeOffset)&&(e.attributes.ArrivalUTCOffset=this.arrivalTimeOffset),Object(d.k)(this.azimuth)&&(e.attributes.Azimuth=this.azimuth),Object(d.k)(this.branchName)&&(e.attributes.BranchName=this.branchName),Object(d.k)(this.displayText)&&(e.attributes.DisplayText=this.displayText),Object(d.k)(this.exitName)&&(e.attributes.ExitName=this.exitName),Object(d.k)(this.intersectingName)&&(e.attributes.IntersectingName=this.intersectingName),Object(d.k)(this.level)&&(e.attributes.Level=this.level),Object(d.k)(this.name)&&(e.attributes.Name=this.name),Object(d.k)(this.shortVoiceInstruction)&&(e.attributes.ShortVoiceInstruction=this.shortVoiceInstruction),Object(d.k)(this.towardName)&&(e.attributes.TowardName=this.towardName),Object(d.k)(this.voiceInstruction)&&(e.attributes.VoiceInstruction=this.voiceInstruction),e}};X.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AlternateName",alias:"Alternative Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"ArrivalTime",alias:"Maneuver Starts at",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"ArrivalUTCOffset",alias:"Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Azimuth",alias:"Azimuth",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"BranchName",alias:"Signpost Branch Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"DirectionPointType",alias:"Directions Item Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriDirectionPointType",codedValues:[{name:"Unknown",code:0},{name:"",code:1},{name:"Arrive at stop",code:50},{name:"Depart at stop",code:51},{name:"Go straight",code:52},{name:"Take ferry",code:100},{name:"Take off ferry",code:101},{name:"Keep center at fork",code:102},{name:"Take roundabout",code:103},{name:"Make U-Turn",code:104},{name:"Pass the door",code:150},{name:"Take stairs",code:151},{name:"",code:152},{name:"Take escalator",code:153},{name:"Take pedestrian ramp",code:154},{name:"Keep left at fork",code:200},{name:"Ramp left",code:201},{name:"Take left-handed roundabout",code:202},{name:"Make left-handed U-Turn",code:203},{name:"Bear left",code:204},{name:"Turn left",code:205},{name:"Make sharp left",code:206},{name:"Turn left, followed by turn left",code:207},{name:"Turn left, followed by turn right",code:208},{name:"Keep right at fork",code:300},{name:"Ramp right",code:301},{name:"Take right-handed roundabout",code:302},{name:"Make right-handed U-Turn",code:303},{name:"Bear right",code:304},{name:"Turn right",code:305},{name:"Make sharp right",code:306},{name:"Turn right, followed by turn left",code:307},{name:"Turn right, followed by turn right",code:308},{name:"Indicates up direction of elevator",code:400},{name:"Indicates up direction of escalator",code:401},{name:"Take up-stairs",code:402},{name:"Indicates down direction of elevator",code:500},{name:"Indicates down direction of escalator",code:501},{name:"Take down-stairs",code:502},{name:"General event",code:1e3},{name:"Landmark",code:1001},{name:"Time zone change",code:1002},{name:"Heavy traffic segment",code:1003},{name:"Scale cost barrier crossing",code:1004},{name:"Administrative Border crossing",code:1005},{name:"Restriction violation",code:1006}]}},{name:"DisplayText",alias:"Text to Display",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"ExitName",alias:"Highway Exit Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"IntersectingName",alias:"Intersecting Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"Level",alias:"3D Logical Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Name",alias:"Primary Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"ShortVoiceInstruction",alias:"Voice Instruction",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"StopID",alias:"Stop ID",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TowardName",alias:"Signpost Toward Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"VoiceInstruction",alias:"Voice Full Instruction",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null}],X.popupInfo={title:"{DisplayText}",fieldInfos:[{fieldName:"DirectionPointType",label:"Directions Item Type",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"DisplayText",label:"Text to Display",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Sequence",label:"Sequence",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"StopID",label:"Stop ID",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalTime",label:"Maneuver Starts at",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"ArrivalUTCOffset",label:"Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Azimuth",label:"Azimuth",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Name",label:"Primary Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"AlternateName",label:"Alternative Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ExitName",label:"Highway Exit Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"IntersectingName",label:"Intersecting Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BranchName",label:"Signpost Branch Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"TowardName",label:"Signpost Toward Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ShortVoiceInstruction",label:"Voice Instruction",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"VoiceInstruction",label:"Voice Full Instruction",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({json:{read:!1}})],X.prototype,"alternateName",void 0),Object(r.a)([Object(h.b)()],X.prototype,"arrivalTime",void 0),Object(r.a)([Object(j.a)("arrivalTime",["attributes.ArrivalTime"])],X.prototype,"readArrivalTime",null),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ArrivalUTCOffset"}}})],X.prototype,"arrivalTimeOffset",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Azimuth"}}})],X.prototype,"azimuth",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.BranchName"}}})],X.prototype,"branchName",void 0),Object(r.a)([Object(h.b)({type:J.d.apiValues,json:{read:{source:"attributes.DirectionPointType",reader:J.d.read}}})],X.prototype,"directionPointType",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.DisplayText"}}})],X.prototype,"displayText",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ExitName"}}})],X.prototype,"exitName",void 0),Object(r.a)([Object(h.b)({type:K.a})],X.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],X.prototype,"intersectingName",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],X.prototype,"level",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Name"}}})],X.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ObjectID"}}})],X.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],X.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Sequence"}}})],X.prototype,"sequence",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],X.prototype,"shortVoiceInstruction",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.StopID"}}})],X.prototype,"stopId",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],X.prototype,"symbol",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.TowardName"}}})],X.prototype,"towardName",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],X.prototype,"voiceInstruction",void 0),X=Y=Object(r.a)([Object(g.a)("esri.rest.support.DirectionPoint")],X);const Z=X;var Q,ee=i(89);function te(e,t){if(Object(d.j)(e))return null;const i={},r=new RegExp(`^${t}`,"i");for(const n in e)e.hasOwnProperty(n)&&r.test(n)&&(i[n.substring(t.length)]=e[n]);return i}function ie(e,t){return Object(d.j)(e)||Object(d.j)(t)?null:Math.round((e-t)/6e4)}let re=Q=class extends C.a{constructor(e){super(e),this.addedCost=null,this.barrierType=null,this.costs=null,this.curbApproach=null,this.fullEdge=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sideOfEdge=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null}readCosts(e,t){return te(t.attributes,"Attr_")}writeCosts(e,t){if(!Object(d.j)(e)){t.attributes||(t.attributes={});for(const i in e)t.attributes[`Attr_${i}`]=e[i]}}static fromPortalJSON(e){var t,i;return new Q({addedCost:null!=(t=e.attributes.AddedCost)?t:null,barrierType:Object(d.k)(e.attributes.BarrierType)?J.a.fromJSON(e.attributes.BarrierType):null,costs:Object(d.k)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,curbApproach:Object(d.k)(e.attributes.CurbApproach)?J.b.fromJSON(e.attributes.CurbApproach):null,fullEdge:Object(d.k)(e.attributes.FullEdge)?J.h.fromJSON(e.attributes.FullEdge):null,geometry:K.a.fromJSON(e.geometry),name:null!=(i=e.attributes.Name)?i:null,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,status:Object(d.k)(e.attributes.Status)?J.n.fromJSON(e.attributes.Status):null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null})}clone(){return new Q(Object(ee.a)({addedCost:this.addedCost,barrierType:this.barrierType,costs:this.costs,curbApproach:this.curbApproach,fullEdge:this.fullEdge,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,sideOfEdge:this.sideOfEdge,sourceId:this.sourceId,sourceOid:this.sourceOid,status:this.status,symbol:this.symbol}))}toPortalJSON(){return{geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),AddedCost:this.addedCost,BarrierType:Object(d.k)(this.barrierType)?J.a.toJSON(this.barrierType):null,Costs:Object(d.k)(this.costs)?JSON.stringify(this.costs):null,CurbApproach:Object(d.k)(this.curbApproach)?J.b.toJSON(this.curbApproach):null,FullEdge:Object(d.k)(this.fullEdge)?J.h.toJSON(this.fullEdge):null,Name:this.name,Status:Object(d.k)(this.status)?J.n.toJSON(this.status):null},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null}}};re.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AddedCost",alias:"Added Cost",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"FullEdge",alias:"Full Edge",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAIntYesNo",codedValues:[{name:"No",code:0},{name:"Yes",code:1}]}},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"Status",alias:"Status",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAObjectStatus",codedValues:[{name:"OK",code:0},{name:"Not Located on Network",code:1},{name:"Network Unbuilt",code:2},{name:"Prohibited Street",code:3},{name:"Invalid Field Values",code:4},{name:"Cannot Reach",code:5},{name:"Time Window Violation",code:6}]}}],re.popupInfo={title:"Point Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"AddedCost",label:"Added Cost",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({json:{read:!1}})],re.prototype,"addedCost",void 0),Object(r.a)([Object(h.b)({type:J.a.apiValues,json:{name:"attributes.BarrierType",read:{reader:J.a.read},write:{writer:J.a.write}}})],re.prototype,"barrierType",void 0),Object(r.a)([Object(h.b)()],re.prototype,"costs",void 0),Object(r.a)([Object(j.a)("costs",["attributes"])],re.prototype,"readCosts",null),Object(r.a)([Object(v.a)("costs")],re.prototype,"writeCosts",null),Object(r.a)([Object(h.b)({type:J.b.apiValues,json:{read:{source:"attributes.CurbApproach",reader:J.b.read}}})],re.prototype,"curbApproach",void 0),Object(r.a)([Object(h.b)({type:J.h.apiValues,json:{name:"attributes.FullEdge",read:{reader:J.h.read},write:{writer:J.h.write}}})],re.prototype,"fullEdge",void 0),Object(r.a)([Object(h.b)({type:K.a,json:{write:!0}})],re.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.Name",write:!0}})],re.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.ObjectID",write:!0}})],re.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],re.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({type:J.m.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:J.m.read}}})],re.prototype,"sideOfEdge",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SourceID"}}})],re.prototype,"sourceId",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SourceOID"}}})],re.prototype,"sourceOid",void 0),Object(r.a)([Object(h.b)({type:J.n.apiValues,json:{read:{source:"attributes.Status",reader:J.n.read}}})],re.prototype,"status",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],re.prototype,"symbol",void 0),re=Q=Object(r.a)([Object(g.a)("esri.rest.support.PointBarrier")],re);const ne=re;var se,ae=i(135);let oe=se=class extends C.a{constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null}readCosts(e,t){return te(t.attributes,"Attr_")}writeCosts(e,t){if(!Object(d.j)(e)){t.attributes||(t.attributes={});for(const i in e)t.attributes[`Attr_${i}`]=e[i]}}static fromPortalJSON(e){var t,i;return new se({barrierType:Object(d.k)(e.attributes.BarrierType)?J.a.fromJSON(e.attributes.BarrierType):null,costs:Object(d.k)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,geometry:ae.a.fromJSON(e.geometry),name:null!=(t=e.attributes.Name)?t:null,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,scaleFactor:null!=(i=e.attributes.ScaleFactor)?i:null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null})}clone(){return new se(Object(ee.a)({barrierType:this.barrierType,costs:this.costs,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,scaleFactor:this.scaleFactor,symbol:this.symbol}))}toPortalJSON(){var e,t;return{geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),BarrierType:Object(d.k)(this.barrierType)?J.a.toJSON(this.barrierType):null,Costs:Object(d.k)(this.costs)?JSON.stringify(this.costs):null,Name:null!=(e=this.name)?e:null,ScaleFactor:null!=(t=this.scaleFactor)?t:null},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null}}};oe.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0}],oe.popupInfo={title:"Polygon Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ScaleFactor",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Costs",label:"Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({type:J.a.apiValues,json:{name:"attributes.BarrierType",read:{reader:J.a.read},write:{writer:J.a.write}}})],oe.prototype,"barrierType",void 0),Object(r.a)([Object(h.b)()],oe.prototype,"costs",void 0),Object(r.a)([Object(j.a)("costs",["attributes"])],oe.prototype,"readCosts",null),Object(r.a)([Object(v.a)("costs")],oe.prototype,"writeCosts",null),Object(r.a)([Object(h.b)({type:ae.a,json:{write:!0}})],oe.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.Name",write:!0}})],oe.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.ObjectID",write:!0}})],oe.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],oe.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],oe.prototype,"scaleFactor",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],oe.prototype,"symbol",void 0),oe=se=Object(r.a)([Object(g.a)("esri.rest.support.PolygonBarrier")],oe);const le=oe;var ue;let ce=ue=class extends C.a{constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null}readCosts(e,t){return te(t.attributes,"Attr_")}static fromPortalJSON(e){var t,i;return new ue({barrierType:Object(d.k)(e.attributes.BarrierType)?J.a.fromJSON(e.attributes.BarrierType):null,costs:Object(d.k)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,geometry:q.a.fromJSON(e.geometry),name:null!=(t=e.attributes.Name)?t:null,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,scaleFactor:null!=(i=e.attributes.ScaleFactor)?i:null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null})}clone(){return new ue(Object(ee.a)({barrierType:this.barrierType,costs:this.costs,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,scaleFactor:this.scaleFactor,symbol:this.symbol}))}toPortalJSON(){return{geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),BarrierType:Object(d.k)(this.barrierType)?J.a.toJSON(this.barrierType):null,Costs:Object(d.k)(this.costs)?JSON.stringify(this.costs):null,Name:this.name,ScaleFactor:this.scaleFactor},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null}}};ce.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0}],ce.popupInfo={title:"Line Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ScaleFactor",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Costs",label:"Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({type:J.a.apiValues,json:{read:{source:"attributes.BarrierType",reader:J.a.read}}})],ce.prototype,"barrierType",void 0),Object(r.a)([Object(h.b)()],ce.prototype,"costs",void 0),Object(r.a)([Object(j.a)("costs",["attributes"])],ce.prototype,"readCosts",null),Object(r.a)([Object(h.b)({type:q.a,json:{write:!0}})],ce.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.Name",write:!0}})],ce.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.ObjectID",write:!0}})],ce.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],ce.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],ce.prototype,"scaleFactor",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],ce.prototype,"symbol",void 0),ce=ue=Object(r.a)([Object(g.a)("esri.rest.support.PolylineBarrier")],ce);const pe=ce;var de=i(881);let be=class extends C.a{constructor(e){super(e),this.accumulateAttributes=null,this.directionsLanguage=null,this.findBestSequence=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.startTimeIsUTC=null,this.timeWindowsAreUTC=null,this.travelMode=null}};Object(r.a)([Object(h.b)({type:[String],json:{read:{source:"accumulateAttributeNames"},write:{target:"accumulateAttributeNames"}}})],be.prototype,"accumulateAttributes",void 0),Object(r.a)([Object(h.b)({type:String,json:{write:!0}})],be.prototype,"directionsLanguage",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],be.prototype,"findBestSequence",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],be.prototype,"preserveFirstStop",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],be.prototype,"preserveLastStop",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],be.prototype,"startTimeIsUTC",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],be.prototype,"timeWindowsAreUTC",void 0),Object(r.a)([Object(h.b)({type:de.a,json:{write:!0}})],be.prototype,"travelMode",void 0),be=Object(r.a)([Object(g.a)("esri.layers.support.RouteSettings")],be);const fe=be;var me;let ye=me=class extends C.a{constructor(e){super(e),this.analysisSettings=null,this.endTime=null,this.endTimeOffset=null,this.firstStopId=null,this.geometry=null,this.lastStopId=null,this.messages=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.startTime=null,this.startTimeOffset=null,this.stopCount=null,this.symbol=null,this.totalCosts=null,this.totalDistance=null,this.totalDuration=null,this.totalLateDuration=null,this.totalViolations=null,this.totalWait=null,this.totalWaitDuration=null,this.version="1.0.0"}readEndTime(e,t){return Object(d.k)(t.attributes.EndTimeUTC)?new Date(t.attributes.EndTimeUTC):null}readEndTimeOffset(e,t){return ie(t.attributes.EndTime,t.attributes.EndTimeUTC)}readStartTime(e,t){return Object(d.k)(t.attributes.StartTimeUTC)?new Date(t.attributes.StartTimeUTC):null}readStartTimeOffset(e,t){return ie(t.attributes.StartTime,t.attributes.StartTimeUTC)}readTotalCosts(e,t){return te(t.attributes,"Total_")}readTotalViolations(e,t){return te(t.attributes,"TotalViolation_")}readTotalWait(e,t){return te(t.attributes,"TotalWait_")}static fromPortalJSON(e){var t,i,r,n,s,o;return new me({analysisSettings:Object(d.k)(e.attributes.AnalysisSettings)?fe.fromJSON(JSON.parse(e.attributes.AnalysisSettings)):null,endTime:Object(d.k)(e.attributes.EndTime)?new Date(e.attributes.EndTime):null,endTimeOffset:null!=(t=e.attributes.EndUTCOffset)?t:null,geometry:q.a.fromJSON(e.geometry),messages:Object(d.k)(e.attributes.Messages)?JSON.parse(e.attributes.Messages):null,name:e.attributes.RouteName,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,startTime:Object(d.k)(e.attributes.StartTime)?new Date(e.attributes.StartTime):null,startTimeOffset:null!=(i=e.attributes.StartUTCOffset)?i:null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null,totalCosts:Object(d.k)(e.attributes.TotalCosts)?JSON.parse(e.attributes.TotalCosts):null,totalDistance:null!=(r=e.attributes.TotalMeters)?r:null,totalDuration:null!=(n=e.attributes.TotalMinutes)?n:null,totalLateDuration:null!=(s=e.attributes.TotalLateMinutes)?s:null,totalWaitDuration:null!=(o=e.attributes.TotalWaitMinutes)?o:null,version:e.attributes.Version})}toPortalJSON(){return{geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),AnalysisSettings:Object(d.k)(this.analysisSettings)?JSON.stringify(this.analysisSettings.toJSON()):null,EndTime:Object(d.k)(this.endTime)?this.endTime.getTime():null,EndUTCOffset:this.endTimeOffset,Messages:Object(d.k)(this.messages)?JSON.stringify(this.messages):null,RouteName:Object(d.s)(this.name),StartTime:Object(d.k)(this.startTime)?this.startTime.getTime():null,StartUTCOffset:this.startTimeOffset,TotalCosts:Object(d.k)(this.totalCosts)?JSON.stringify(this.totalCosts):null,TotalLateMinutes:this.totalLateDuration,TotalMeters:this.totalDistance,TotalMinutes:this.totalDuration,TotalWaitMinutes:this.totalWaitDuration,Version:Object(d.s)(this.version)},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null}}};ye.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AnalysisSettings",alias:"Analysis Settings",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"EndTime",alias:"End Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"EndUTCOffset",alias:"End Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Messages",alias:"Analysis Messages",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString",length:1024,editable:!0,nullable:!0,visible:!0,domain:null},{name:"StartTime",alias:"Start Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"StartUTCOffset",alias:"Start Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TotalCosts",alias:"Total Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"TotalLateMinutes",alias:"Total Late Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"TotalMeters",alias:"Total Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalMinutes",alias:"Total Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalWaitMinutes",alias:"Total Wait Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"Version",alias:"Version",type:"esriFieldTypeString",length:16,editable:!0,nullable:!0,visible:!0,domain:null}],ye.popupInfo={title:"Route Details",fieldInfos:[{fieldName:"RouteName",label:"Route Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"TotalMinutes",label:"Total Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalMeters",label:"Total Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalLateMinutes",label:"Total Late Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalWaitMinutes",label:"Total Wait Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalCosts",label:"Total Costs",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"StartTime",label:"Start Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"StartUTCOffset",label:"Start Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"EndTime",label:"End Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"EndUTCOffset",label:"End Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Messages",label:"Analysis Messages",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"AnalysisSettings",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"Version",label:"Version",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"analysisSettings",void 0),Object(r.a)([Object(h.b)()],ye.prototype,"endTime",void 0),Object(r.a)([Object(j.a)("endTime",["attributes.EndTimeUTC"])],ye.prototype,"readEndTime",null),Object(r.a)([Object(h.b)()],ye.prototype,"endTimeOffset",void 0),Object(r.a)([Object(j.a)("endTimeOffset",["attributes.EndTime","attributes.EndTimeUTC"])],ye.prototype,"readEndTimeOffset",null),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.FirstStopID"}}})],ye.prototype,"firstStopId",void 0),Object(r.a)([Object(h.b)({type:q.a})],ye.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.LastStopID"}}})],ye.prototype,"lastStopId",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"messages",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.Name"}}})],ye.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.ObjectID"}}})],ye.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],ye.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)()],ye.prototype,"startTime",void 0),Object(r.a)([Object(j.a)("startTime",["attributes.StartTimeUTC"])],ye.prototype,"readStartTime",null),Object(r.a)([Object(h.b)()],ye.prototype,"startTimeOffset",void 0),Object(r.a)([Object(j.a)("startTimeOffset",["attributes.StartTime","attributes.StartTimeUTC"])],ye.prototype,"readStartTimeOffset",null),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.StopCount"}}})],ye.prototype,"stopCount",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],ye.prototype,"symbol",void 0),Object(r.a)([Object(h.b)()],ye.prototype,"totalCosts",void 0),Object(r.a)([Object(j.a)("totalCosts",["attributes"])],ye.prototype,"readTotalCosts",null),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"totalDistance",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"totalDuration",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"totalLateDuration",void 0),Object(r.a)([Object(h.b)()],ye.prototype,"totalViolations",void 0),Object(r.a)([Object(j.a)("totalViolations",["attributes"])],ye.prototype,"readTotalViolations",null),Object(r.a)([Object(h.b)()],ye.prototype,"totalWait",void 0),Object(r.a)([Object(j.a)("totalWait",["attributes"])],ye.prototype,"readTotalWait",null),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"totalWaitDuration",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],ye.prototype,"version",void 0),ye=me=Object(r.a)([Object(g.a)("esri.rest.support.RouteInfo")],ye);const he=ye;var Oe,je=i(95),ge=i(812),ve=i(96);let Se=Oe=class extends C.a{constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return Object(O.d)(Oe,e)}writePointBarriers(e,t,i){this._writeNetworkFeatures(e,t,i)}writePolygonBarrier(e,t,i){this._writeNetworkFeatures(e,t,i)}writePolylineBarrier(e,t,i){this._writeNetworkFeatures(e,t,i)}readStartTime(e,t){return null!=t.startTime?new Date(t.startTime):null}writeStartTime(e,t){t.startTime=e?e.getTime():null}writeStops(e,t,i){this._writeNetworkFeatures(e,t,i)}clone(){return new Oe(Object(ee.a)({accumulateAttributes:this.accumulateAttributes,apiKey:this.apiKey,attributeParameterValues:this.attributeParameterValues,directionsLanguage:this.directionsLanguage,directionsLengthUnits:this.directionsLengthUnits,directionsOutputType:this.directionsOutputType,directionsStyleName:this.directionsStyleName,directionsTimeAttribute:this.directionsTimeAttribute,findBestSequence:this.findBestSequence,ignoreInvalidLocations:this.ignoreInvalidLocations,impedanceAttribute:this.impedanceAttribute,outputGeometryPrecision:this.outputGeometryPrecision,outputGeometryPrecisionUnits:this.outputGeometryPrecisionUnits,outputLines:this.outputLines,outSpatialReference:this.outSpatialReference,pointBarriers:this.pointBarriers,polygonBarriers:this.polygonBarriers,polylineBarriers:this.polylineBarriers,preserveFirstStop:this.preserveFirstStop,preserveLastStop:this.preserveLastStop,restrictionAttributes:this.restrictionAttributes,restrictUTurns:this.restrictUTurns,returnBarriers:this.returnBarriers,returnDirections:this.returnDirections,returnPolygonBarriers:this.returnPolygonBarriers,returnPolylineBarriers:this.returnPolylineBarriers,returnRoutes:this.returnRoutes,returnStops:this.returnStops,returnZ:this.returnZ,startTime:this.startTime,startTimeIsUTC:this.startTimeIsUTC,stops:this.stops,timeWindowsAreUTC:this.timeWindowsAreUTC,travelMode:this.travelMode,useHierarchy:this.useHierarchy,useTimeWindows:this.useTimeWindows}))}_writeNetworkFeatures(e,t,i){t[i]=l.a.isCollection(e)?{features:e.toArray().map((e=>e.toJSON()))}:e.toJSON()}};Object(r.a)([Object(h.b)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],Se.prototype,"accumulateAttributes",void 0),Object(r.a)([Object(h.b)(ge.a)],Se.prototype,"apiKey",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"attributeParameterValues",void 0),Object(r.a)([Object(h.b)({type:String,json:{write:!0}})],Se.prototype,"directionsLanguage",void 0),Object(r.a)([Object(je.a)(J.e)],Se.prototype,"directionsLengthUnits",void 0),Object(r.a)([Object(je.a)(J.f)],Se.prototype,"directionsOutputType",void 0),Object(r.a)([Object(h.b)({type:String,json:{write:!0}})],Se.prototype,"directionsStyleName",void 0),Object(r.a)([Object(h.b)({type:String,json:{write:!0}})],Se.prototype,"directionsTimeAttribute",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"findBestSequence",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"ignoreInvalidLocations",void 0),Object(r.a)([Object(h.b)({type:String,json:{read:{source:"impedanceAttributeName"},write:{target:"impedanceAttributeName"}}})],Se.prototype,"impedanceAttribute",void 0),Object(r.a)([Object(h.b)({type:Number,json:{write:!0}})],Se.prototype,"outputGeometryPrecision",void 0),Object(r.a)([Object(je.a)(J.i)],Se.prototype,"outputGeometryPrecisionUnits",void 0),Object(r.a)([Object(je.a)(J.k)],Se.prototype,"outputLines",void 0),Object(r.a)([Object(h.b)({type:ve.a,json:{write:!0}})],Se.prototype,"outSpatialReference",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"pointBarriers",void 0),Object(r.a)([Object(v.a)("pointBarriers")],Se.prototype,"writePointBarriers",null),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"polygonBarriers",void 0),Object(r.a)([Object(v.a)("polygonBarriers")],Se.prototype,"writePolygonBarrier",null),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"polylineBarriers",void 0),Object(r.a)([Object(v.a)("polylineBarriers")],Se.prototype,"writePolylineBarrier",null),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"preserveFirstStop",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"preserveLastStop",void 0),Object(r.a)([Object(h.b)({type:[String],json:{write:!0}})],Se.prototype,"restrictionAttributes",void 0),Object(r.a)([Object(je.a)(J.l)],Se.prototype,"restrictUTurns",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnBarriers",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnDirections",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnPolygonBarriers",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnPolylineBarriers",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnRoutes",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnStops",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"returnZ",void 0),Object(r.a)([Object(h.b)({type:Date,json:{type:Number,write:!0}})],Se.prototype,"startTime",void 0),Object(r.a)([Object(j.a)("startTime")],Se.prototype,"readStartTime",null),Object(r.a)([Object(v.a)("startTime")],Se.prototype,"writeStartTime",null),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"startTimeIsUTC",void 0),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"stops",void 0),Object(r.a)([Object(v.a)("stops")],Se.prototype,"writeStops",null),Object(r.a)([Object(h.b)({json:{write:!0}})],Se.prototype,"timeWindowsAreUTC",void 0),Object(r.a)([Object(h.b)({type:de.a,json:{write:!0}})],Se.prototype,"travelMode",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"useHierarchy",void 0),Object(r.a)([Object(h.b)({type:Boolean,json:{write:!0}})],Se.prototype,"useTimeWindows",void 0),Se=Oe=Object(r.a)([Object(g.a)("esri.rest.support.RouteParameters")],Se);const we=Se;var Te;let _e=Te=class extends C.a{constructor(e){super(e),this.arriveCurbApproach=null,this.arriveTime=null,this.arriveTimeOffset=null,this.bearing=null,this.bearingTol=null,this.cumulativeCosts=null,this.cumulativeDistance=null,this.cumulativeDuration=null,this.curbApproach=null,this.departCurbApproach=null,this.departTime=null,this.departTimeOffset=null,this.distanceToNetworkInMeters=null,this.geometry=null,this.lateDuration=null,this.locationType=null,this.name=null,this.navLatency=null,this.objectId=null,this.popupTemplate=null,this.posAlong=null,this.routeName=null,this.serviceCosts=null,this.serviceDistance=null,this.serviceDuration=null,this.sequence=null,this.sideOfEdge=null,this.snapX=null,this.snapY=null,this.snapZ=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.timeWindowEnd=null,this.timeWindowEndOffset=null,this.timeWindowStart=null,this.timeWindowStartOffset=null,this.violations=null,this.waitDuration=null,this.wait=null}readArriveTimeOffset(e,t){return ie(t.attributes.ArriveTime,t.attributes.ArriveTimeUTC)}readCumulativeCosts(e,t){return te(t.attributes,"Cumul_")}readDepartTimeOffset(e,t){return ie(t.attributes.DepartTime,t.attributes.DepartTimeUTC)}readServiceCosts(e,t){return te(t.attributes,"Attr_")}writeServiceCosts(e,t){if(!Object(d.j)(e)){t.attributes||(t.attributes={});for(const i in e)t.attributes[`Attr_${i}`]=e[i]}}writeTimeWindowEnd(e,t){Object(d.j)(e)||(t.attributes||(t.attributes={}),t.attributes.TimeWindowEnd=e.getTime())}writeTimeWindowStart(e,t){Object(d.j)(e)||(t.attributes||(t.attributes={}),t.attributes.TimeWindowStart=e.getTime())}readViolations(e,t){return te(t.attributes,"Violation_")}readWait(e,t){return te(t.attributes,"Wait_")}static fromPortalJSON(e){var t,i,r,n,s,o,l,u,c,p;return new Te({arriveCurbApproach:Object(d.k)(e.attributes.ArrivalCurbApproach)?J.b.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:Object(d.k)(e.attributes.ArrivalTime)?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:Object(d.k)(e.attributes.CumulativeCosts)?JSON.parse(e.attributes.CumulativeCosts):null,cumulativeDistance:null!=(t=e.attributes.CumulativeMeters)?t:null,cumulativeDuration:null!=(i=e.attributes.CumulativeMinutes)?i:null,curbApproach:Object(d.k)(e.attributes.CurbApproach)?J.b.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:Object(d.k)(e.attributes.DepartureCurbApproach)?J.b.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:Object(d.k)(e.attributes.DepartureTime)?new Date(e.attributes.DepartureTime):null,departTimeOffset:null!=(r=e.attributes.DepartureUTCOffset)?r:null,geometry:K.a.fromJSON(e.geometry),lateDuration:null!=(n=e.attributes.LateMinutes)?n:null,locationType:Object(d.k)(e.attributes.LocationType)?J.j.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:e.attributes.__OBJECTID,popupTemplate:Object(d.k)(e.popupInfo)?a.a.fromJSON(e.popupInfo):null,routeName:e.attributes.RouteName,sequence:null!=(s=e.attributes.Sequence)?s:null,serviceCosts:Object(d.k)(e.attributes.ServiceCosts)?JSON.parse(e.attributes.ServiceCosts):null,serviceDistance:null!=(o=e.attributes.ServiceMeters)?o:null,serviceDuration:null!=(l=e.attributes.ServiceMinutes)?l:null,status:Object(d.k)(e.attributes.Status)?J.n.fromJSON(e.attributes.Status):null,symbol:Object(d.k)(e.symbol)?Object(W.a)(e.symbol):null,timeWindowEnd:Object(d.k)(e.attributes.TimeWindowEnd)?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:null!=(u=e.attributes.TimeWindowEndUTCOffset)?u:null,timeWindowStart:Object(d.k)(e.attributes.TimeWindowStart)?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:null!=(c=e.attributes.TimeWindowStartUTCOffset)?c:null,waitDuration:null!=(p=e.attributes.WaitMinutes)?p:null})}clone(){return new Te(Object(ee.a)({arriveCurbApproach:this.arriveCurbApproach,arriveTime:this.arriveTime,arriveTimeOffset:this.arriveTimeOffset,bearing:this.bearing,bearingTol:this.bearingTol,cumulativeCosts:this.cumulativeCosts,cumulativeDistance:this.cumulativeDistance,cumulativeTime:this.cumulativeDuration,curbApproach:this.curbApproach,departCurbApproach:this.departCurbApproach,departTime:this.departTime,departTimeOffset:this.departTimeOffset,distanceToNetworkInMeters:this.distanceToNetworkInMeters,geometry:this.geometry,lateDuration:this.lateDuration,locationType:this.locationType,name:this.name,navLatency:this.navLatency,objectId:this.objectId,popupTemplate:this.popupTemplate,posAlong:this.posAlong,routeName:this.routeName,serviceCosts:this.serviceCosts,serviceDistance:this.serviceDistance,serviceDuration:this.serviceDuration,sequence:this.sequence,sideOfEdge:this.sideOfEdge,snapX:this.snapX,snapY:this.snapY,snapZ:this.snapZ,sourceId:this.sourceId,sourceOid:this.sourceOid,status:this.status,symbol:this.symbol,timeWindowEnd:this.timeWindowEnd,timeWindowEndOffset:this.timeWindowEndOffset,timeWindowStart:this.timeWindowStart,timeWindowStartOffset:this.timeWindowStartOffset,waitDuration:this.waitDuration}))}toPortalJSON(){var e,t;return{geometry:Object(d.k)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:Object(d.s)(this.objectId),ArrivalCurbApproach:Object(d.k)(this.arriveCurbApproach)?J.b.toJSON(this.arriveCurbApproach):null,ArrivalTime:Object(d.k)(this.arriveTime)?this.arriveTime.getTime():null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:Object(d.k)(this.cumulativeCosts)?JSON.stringify(this.cumulativeCosts):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:Object(d.k)(this.curbApproach)?J.b.toJSON(this.curbApproach):null,DepartureCurbApproach:Object(d.k)(this.departCurbApproach)?J.b.toJSON(this.departCurbApproach):null,DepartureTime:Object(d.k)(this.departTime)?this.departTime.getTime():null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:Object(d.k)(this.locationType)?J.j.toJSON(this.locationType):null,Name:Object(d.s)(this.name),RouteName:Object(d.s)(this.routeName),Sequence:this.sequence,ServiceCosts:Object(d.k)(this.serviceCosts)?JSON.stringify(this.serviceCosts):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:Object(d.k)(this.status)?J.n.toJSON(this.status):null,TimeWindowEnd:Object(d.k)(this.timeWindowEnd)?this.timeWindowEnd.getTime():null,TimeWindowEndUTCOffset:null!=(e=this.timeWindowEndOffset)?e:this.arriveTimeOffset,TimeWindowStart:Object(d.k)(this.timeWindowStart)?this.timeWindowStart.getTime():null,TimeWindowStartUTCOffset:null!=(t=this.timeWindowEndOffset)?t:this.arriveTimeOffset,WaitMinutes:this.waitDuration},symbol:Object(d.k)(this.symbol)?this.symbol.toJSON():null,popupInfo:Object(d.k)(this.popupTemplate)?this.popupTemplate.toJSON():null}}};_e.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"ArrivalUTCOffset",alias:"Arrival Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"DepartureUTCOffset",alias:"Departure Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNALocationType",codedValues:[{name:"Stop",code:0},{name:"Waypoint",code:1}]}},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"Status",alias:"Status",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAObjectStatus",codedValues:[{name:"OK",code:0},{name:"Not Located on Network",code:1},{name:"Network Unbuilt",code:2},{name:"Prohibited Street",code:3},{name:"Invalid Field Values",code:4},{name:"Cannot Reach",code:5},{name:"Time Window Violation",code:6}]}},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!1},{name:"TimeWindowEndUTCOffset",alias:"Time Window End: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!1},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"WaitMinutes",alias:"Minutes Early",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1}],_e.popupInfo={title:"{Name}",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"RouteName",label:"Route Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Sequence",label:"Sequence",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalTime",label:"Arrival Time",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"ArrivalUTCOffset",label:"Arrival Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DepartureTime",label:"Departure Time",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"DepartureUTCOffset",label:"Departure Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CurbApproach",label:"Curb Approach",isEditable:!0,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalCurbApproach",label:"Arrival Curb Approach",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DepartureCurbApproach",label:"Departure Curb Approach",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Status",label:"Status",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"LocationType",label:"Location Type",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TimeWindowStart",label:"Time Window Start",isEditable:!0,tooltip:"",visible:!1,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"TimeWindowStartUTCOffset",label:"Time Window Start: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TimeWindowEnd",label:"Time Window End",isEditable:!0,tooltip:"",visible:!1,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"TimeWindowEndUTCOffset",label:"Time Window End: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceMinutes",label:"Service Minutes",isEditable:!0,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceMeters",label:"Service Meters",isEditable:!0,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceCosts",label:"Service Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"CumulativeMinutes",label:"Cumulative Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CumulativeMeters",label:"Cumulative Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CumulativeCosts",label:"Cumulative Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"LateMinutes",label:"Minutes Late",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"WaitMinutes",label:"Minutes Early",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},Object(r.a)([Object(h.b)({type:J.b.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:J.b.read}}})],_e.prototype,"arriveCurbApproach",void 0),Object(r.a)([Object(h.b)({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],_e.prototype,"arriveTime",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"arriveTimeOffset",void 0),Object(r.a)([Object(j.a)("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],_e.prototype,"readArriveTimeOffset",null),Object(r.a)([Object(h.b)({json:{name:"attributes.Bearing",read:!1,write:!0}})],_e.prototype,"bearing",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.BearingTol",read:!1,write:!0}})],_e.prototype,"bearingTol",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"cumulativeCosts",void 0),Object(r.a)([Object(j.a)("cumulativeCosts",["attributes"])],_e.prototype,"readCumulativeCosts",null),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"cumulativeDistance",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"cumulativeDuration",void 0),Object(r.a)([Object(h.b)({type:J.b.apiValues,json:{name:"attributes.CurbApproach",read:{reader:J.b.read},write:{writer:J.b.write}}})],_e.prototype,"curbApproach",void 0),Object(r.a)([Object(h.b)({type:J.b.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:J.b.read}}})],_e.prototype,"departCurbApproach",void 0),Object(r.a)([Object(h.b)({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],_e.prototype,"departTime",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"departTimeOffset",void 0),Object(r.a)([Object(j.a)("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],_e.prototype,"readDepartTimeOffset",null),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],_e.prototype,"distanceToNetworkInMeters",void 0),Object(r.a)([Object(h.b)({type:K.a,json:{write:!0}})],_e.prototype,"geometry",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.LateMinutes",read:!1}})],_e.prototype,"lateDuration",void 0),Object(r.a)([Object(h.b)({type:J.j.apiValues,json:{name:"attributes.LocationType",read:{reader:J.j.read},write:{writer:J.j.write}}})],_e.prototype,"locationType",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.Name",write:!0}})],_e.prototype,"name",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.NavLatency"}}})],_e.prototype,"navLatency",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.ObjectID",write:!0}})],_e.prototype,"objectId",void 0),Object(r.a)([Object(h.b)({type:a.a,json:{read:!1}})],_e.prototype,"popupTemplate",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.PosAlong"}}})],_e.prototype,"posAlong",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.RouteName",write:!0}})],_e.prototype,"routeName",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"serviceCosts",void 0),Object(r.a)([Object(j.a)("serviceCosts",["attributes"])],_e.prototype,"readServiceCosts",null),Object(r.a)([Object(v.a)("serviceCosts")],_e.prototype,"writeServiceCosts",null),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"serviceDistance",void 0),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"serviceDuration",void 0),Object(r.a)([Object(h.b)({json:{name:"attributes.Sequence",write:!0}})],_e.prototype,"sequence",void 0),Object(r.a)([Object(h.b)({type:J.m.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:J.m.read}}})],_e.prototype,"sideOfEdge",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SnapX"}}})],_e.prototype,"snapX",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SnapY"}}})],_e.prototype,"snapY",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SnapZ"}}})],_e.prototype,"snapZ",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SourceID"}}})],_e.prototype,"sourceId",void 0),Object(r.a)([Object(h.b)({json:{read:{source:"attributes.SourceOID"}}})],_e.prototype,"sourceOid",void 0),Object(r.a)([Object(h.b)({type:J.n.apiValues,json:{read:{source:"attributes.Status",reader:J.n.read}}})],_e.prototype,"status",void 0),Object(r.a)([Object(h.b)({types:P.e,json:{read:!1}})],_e.prototype,"symbol",void 0),Object(r.a)([Object(h.b)({type:Date,json:{name:"attributes.TimeWindowEnd"}})],_e.prototype,"timeWindowEnd",void 0),Object(r.a)([Object(v.a)("timeWindowEnd")],_e.prototype,"writeTimeWindowEnd",null),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"timeWindowEndOffset",void 0),Object(r.a)([Object(h.b)({type:Date,json:{name:"attributes.TimeWindowStart"}})],_e.prototype,"timeWindowStart",void 0),Object(r.a)([Object(v.a)("timeWindowStart")],_e.prototype,"writeTimeWindowStart",null),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"timeWindowStartOffset",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"violations",void 0),Object(r.a)([Object(j.a)("violations",["attributes"])],_e.prototype,"readViolations",null),Object(r.a)([Object(h.b)({json:{read:!1}})],_e.prototype,"waitDuration",void 0),Object(r.a)([Object(h.b)()],_e.prototype,"wait",void 0),Object(r.a)([Object(j.a)("wait",["attributes"])],_e.prototype,"readWait",null),_e=Te=Object(r.a)([Object(g.a)("esri.rest.support.Stop")],_e);const Ne=_e;var Ee=i(216);function xe(e){return e.length?e:null}function Ie(e){return"layers"in e}async function Me(e){const t=ve.a.WGS84;return await Object(T.f)(e.spatialReference,t),Object(T.j)(e,t)}function Ae(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function Pe(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:Object(m.b)(e,t,"meters")}const Ce=l.a.ofType($),Fe=l.a.ofType(Z),Re=l.a.ofType(ne),De=l.a.ofType(le),Le=l.a.ofType(pe),Ve=l.a.ofType(Ne);let ke=class extends(Object(E.a)(Object(M.a)(Object(x.a)(Object(I.a)(Object(b.a)(Object(c.b)(N.a))))))){constructor(...e){super(...e),this._featureCollection=null,this._type="Feature Collection",this.defaultSymbols=new V,this.directionLines=null,this.directionPoints=null,this.featureCollectionType="route",this.legendEnabled=!1,this.maxScale=0,this.minScale=0,this.pointBarriers=new Re,this.polygonBarriers=new De,this.polylineBarriers=new Le,this.routeInfo=null,this.spatialReference=ve.a.WGS84,this.stops=new Ve,this.type="route"}writeFeatureCollectionWebmap(e,t,i,r){const n=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((e=>!!e)),s=n.map(((e,t)=>t)),a="web-map"===r.origin?"featureCollection.layers":"layers";Object(f.c)(a,n,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=s}readDirectionLines(e,t){return this._getNetworkFeatures(t,"DirectionLines",(e=>$.fromPortalJSON(e)))}readDirectionPoints(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(e=>Z.fromPortalJSON(e)))}get fullExtent(){if(Object(d.k)(this.routeInfo)&&Object(d.k)(this.routeInfo.geometry))return this.routeInfo.geometry.extent;if(this.stops.length>1){const{spatialReference:e}=this.stops[0],t=new Ee.a({spatialReference:e}),i=this.stops.toArray().map((e=>e.geometry));for(const r of i)Object(d.k)(r)&&t.addPoint(r);return t.extent}return new w.a({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:ve.a.WGS84})}readMaxScale(e,t){var i;const r=(Ie(t)?t.layers:t.featureCollection.layers).find((e=>Object(d.k)(e.layerDefinition.maxScale)));return null!=(i=null==r?void 0:r.layerDefinition.maxScale)?i:0}readMinScale(e,t){var i;const r=(Ie(t)?t.layers:t.featureCollection.layers).find((e=>Object(d.k)(e.layerDefinition.minScale)));return null!=(i=null==r?void 0:r.layerDefinition.minScale)?i:0}readPointBarriers(e,t){return this._getNetworkFeatures(t,"Barriers",(e=>ne.fromPortalJSON(e)))}readPolygonBarriers(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(e=>le.fromPortalJSON(e)))}readPolylineBarriers(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(e=>pe.fromPortalJSON(e)))}readRouteInfo(e,t){const i=this._getNetworkFeatures(t,"RouteInfo",(e=>he.fromPortalJSON(e)));return i.length>0?i.getItemAt(0):null}readSpatialReference(e,t){var i,r;const n=Ie(t)?t.layers:t.featureCollection.layers;if(!n.length)return ve.a.WGS84;const{layerDefinition:s}=n[0],a=null!=(i=null!=(r=s.spatialReference)?r:s.extent.spatialReference)?i:_.b;return ve.a.fromJSON(a)}readStops(e,t){return this._getNetworkFeatures(t,"Stops",(e=>Ne.fromPortalJSON(e)),(e=>this._setStopSymbol(e)))}get title(){return Object(d.k)(this.routeInfo)&&Object(d.k)(this.routeInfo.name)?this.routeInfo.name:"Route"}set title(e){e?this._override("title",e):this._clearOverride("title")}get url(){return n.a.routeServiceUrl}set url(e){null!=e?this._set("url",Object(A.h)(e,p.a.getLogger(this.declaredClass))):this._set("url",n.a.routeServiceUrl)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}removeAll(){Object(d.k)(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),Object(d.k)(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),Object(d.k)(this.routeInfo)&&this._set("routeInfo",null),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}async save(){await this.load();const{fullExtent:e,portalItem:t}=this;if(!t)throw new u.a("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");if(!t.id)throw new u.a("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");if("Feature Collection"!==t.type)throw new u.a("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');if(Object(d.j)(this.routeInfo))throw new u.a("routelayer:route-unsolved","save() requires a solved route");const{portal:i}=t;if(await i._signIn(),i.user||await t.reload(),i.user.username!==t.owner)throw new u.a("routelayer:not-portal-item-owner","You can only overwrite your portal items");const{itemUrl:r}=t,n={messages:[],origin:"portal-item",portal:i,url:r&&Object(y.M)(r),writtenProperties:[]},s=this.write(null,n);return t.extent=await Me(e),t.title=this.title,await t.update({data:s}),t}async saveAs(e,t={}){if(await this.load(),Object(d.j)(this.routeInfo))throw new u.a("routelayer:route-unsolved","saveAs() requires a solved route");const i=U.default.from(e).clone();null!=i.extent||(i.extent=await Me(this.fullExtent)),i.id=null,null!=i.portal||(i.portal=B.a.getDefault()),null!=i.title||(i.title=this.title),i.type="Feature Collection",i.typeKeywords=["Data","Feature Collection","Multilayer","Route Layer"];const{portal:r}=i,n={messages:[],origin:"portal-item",portal:r,url:null,writtenProperties:[]};await r._signIn();const s=null==t?void 0:t.folder,a=this.write(null,n);return await r.user.addItem({item:i,folder:s,data:a}),this.portalItem=i,Object(S.a)(n),n.portalItem=i,i}async solve(e,t){var i,r,n,s,a,o;const c=null!=(i=null==e?void 0:e.stops)?i:this.stops,p=null!=(r=null==e?void 0:e.pointBarriers)?r:xe(this.pointBarriers),b=null!=(n=null==e?void 0:e.polylineBarriers)?n:xe(this.polylineBarriers),f=null!=(s=null==e?void 0:e.polygonBarriers)?s:xe(this.polygonBarriers);if(Object(d.j)(c))throw new u.a("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");if((function(e){return"esri.rest.support.FeatureSet"===e.declaredClass}(c)||function(e){return"esri.rest.support.NetworkFeatureSet"===e.declaredClass}(c))&&c.features.length<2||l.a.isCollection(c)&&c.length<2)throw new u.a("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");const m=await Object(G.c)(this.url,null==e?void 0:e.apiKey,t),y=m.supportedTravelModes.find((e=>e.id===m.defaultTravelMode)),h=null!=(a=null==e?void 0:e.travelMode)?a:y,{distanceAttributeName:O}=h,j=null!=(o=null==e?void 0:e.accumulateAttributes)?o:[];j.push(O);const g={startTime:new Date},v={accumulateAttributes:j,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:p,polylineBarriers:b,polygonBarriers:f,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!p,returnDirections:!0,returnPolygonBarriers:!!f,returnPolylineBarriers:!!b,returnRoutes:!0,returnStops:!0,stops:c},S=e?we.from(e):new we;for(const l in g)null==S[l]&&(S[l]=g[l]);S.set(v);const w=await Object(z.a)(this.url,S,t),T=this._toRouteLayerSolution(w);return this._isOverridden("title")||(this.title=Object(d.v)(T.routeInfo.name,"Route")),function(e,t,i){var r,n,s,a,o,l,c,p,b,f,m;const y=t.networkDataset.networkAttributes.filter((e=>"esriNAUTCost"===e.usageType)),h=t.supportedTravelModes.find((e=>e.id===t.defaultTravelMode)),O=null!=(r=i.travelMode)?r:h,{timeAttributeName:j,distanceAttributeName:g}=O,v=y.find((e=>e.name===j)),S=y.find((e=>e.name===g)),w=null!=(n=null!=(s=null==(a=i.travelMode)?void 0:a.impedanceAttributeName)?s:i.impedanceAttribute)?n:t.impedance,T=J.g.fromJSON(null==v?void 0:v.units),_=J.e.fromJSON(null==S?void 0:S.units);if(!T||!_)throw new u.a("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");const N=null!=(o=i.directionsLanguage)?o:t.directionsLanguage,E=null!=(l=null!=(c=i.accumulateAttributes)?c:t.accumulateAttributeNames)?l:[],x=new Set(y.filter((({name:e})=>e===j||e===g||e===w||E.includes(e))).map((({name:e})=>e))),I=e=>{for(const t in e)x.has(t)||delete e[t]};for(const u of e.pointBarriers){var M;Object(d.k)(u.costs)&&(u.addedCost=null!=(M=u.costs[w])?M:0,I(u.costs))}for(const u of e.polygonBarriers){var A;Object(d.k)(u.costs)&&(u.scaleFactor=null!=(A=u.costs[w])?A:1,I(u.costs))}for(const u of e.polylineBarriers){var P;Object(d.k)(u.costs)&&(u.scaleFactor=null!=(P=u.costs[w])?P:1,I(u.costs))}const{routeInfo:C}=e,{findBestSequence:F,preserveFirstStop:R,preserveLastStop:D,startTimeIsUTC:L,timeWindowsAreUTC:V}=i;C.analysisSettings=new fe({accumulateAttributes:E,directionsLanguage:N,findBestSequence:F,preserveFirstStop:R,preserveLastStop:D,startTimeIsUTC:L,timeWindowsAreUTC:V,travelMode:O}),C.totalDuration=Ae(null!=(p=C.totalCosts[j])?p:0,T),C.totalDistance=Pe(null!=(b=C.totalCosts[g])?b:0,_),C.totalLateDuration=Ae(null!=(f=C.totalViolations[j])?f:0,T),C.totalWaitDuration=Ae(null!=(m=C.totalWait[j])?m:0,T),Object(d.k)(C.totalCosts)&&I(C.totalCosts),Object(d.k)(C.totalViolations)&&I(C.totalViolations),Object(d.k)(C.totalWait)&&I(C.totalWait);for(const u of e.stops){var k,B,U,G,z,q;Object(d.k)(u.serviceCosts)&&(u.serviceDuration=Ae(null!=(k=u.serviceCosts[j])?k:0,T),u.serviceDistance=Pe(null!=(B=u.serviceCosts[g])?B:0,_),I(u.serviceCosts)),Object(d.k)(u.cumulativeCosts)&&(u.cumulativeDuration=Ae(null!=(U=u.cumulativeCosts[j])?U:0,T),u.cumulativeDistance=Pe(null!=(G=u.cumulativeCosts[g])?G:0,_),I(u.cumulativeCosts)),Object(d.k)(u.violations)&&(u.lateDuration=Ae(null!=(z=u.violations[j])?z:0,T),I(u.violations)),Object(d.k)(u.wait)&&(u.waitDuration=Ae(null!=(q=u.wait[j])?q:0,T),I(u.wait))}}(T,m,S),T}update(e){const{stops:t,directionLines:i,directionPoints:r,pointBarriers:n,polylineBarriers:s,polygonBarriers:a,routeInfo:o}=e;this.set({stops:t,pointBarriers:n,polylineBarriers:s,polygonBarriers:a}),this._set("directionLines",i),this._set("directionPoints",r),this._set("routeInfo",o)}_getLayerDefinition(){return{capabilities:"Query,Update,Editing",extent:this.fullExtent.toJSON(),hasM:!1,hasZ:!1,maxScale:this.maxScale,minScale:this.minScale,objectIdField:"__OBJECTID",spatialReference:this.spatialReference.toJSON(),type:"Feature Layer",typeIdField:""}}_getNetworkFeatures(e,t,i,r){const n=(Ie(e)?e.layers:e.featureCollection.layers).find((e=>e.layerDefinition.name===t));if(Object(d.j)(n))return new l.a;const{layerDefinition:u,popupInfo:c,featureSet:p}=n,b=u.drawingInfo.renderer,{features:f}=p,m=b&&Object(o.b)(b),y=f.map((e=>{var r;const n=i(e),{attributes:o}=e,l=new s.a({attributes:o});return null!=n.symbol||(n.symbol=null!=(r=null==m?void 0:m.getSymbol(l))?r:this._getNetworkSymbol(t)),null!=n.popupTemplate||(n.popupTemplate=c&&a.a.fromJSON(c)),n}));return r&&y.some((e=>!e.symbol))&&r(y),new l.a(y)}_getNetworkSymbol(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}_setStopSymbol(e){if(!e)return;if(e.length<2){for(const t of e)t.symbol=this.defaultSymbols.invalidStop;return}const t=e.map((e=>e.sequence)).filter((e=>Object(d.k)(e))),i=Math.min(...t),r=Math.max(...t);for(const n of e)n.sequence!==i?n.sequence!==r?"ok"===n.status||"not-located-on-closest"===n.status?"waypoint"!==n.locationType?"break"!==n.locationType?n.symbol=this.defaultSymbols.middleStop:n.symbol=this.defaultSymbols.breakStop:n.symbol=this.defaultSymbols.waypointStop:n.symbol=this.defaultSymbols.invalidStop:n.symbol=this.defaultSymbols.lastStop:n.symbol=this.defaultSymbols.firstStop}_toRouteLayerSolution(e){var t,i,r;const n=e.routeResults[0].stops.map((e=>Ne.fromJSON(e.toJSON())));this._setStopSymbol(n);const s=new Ve(n),a=new De(null==(t=e.polygonBarriers)?void 0:t.map((e=>{const t=le.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polygonBarriers,t}))),o=new Le(null==(i=e.polylineBarriers)?void 0:i.map((e=>{const t=pe.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polylineBarriers,t}))),l=new Re(null==(r=e.pointBarriers)?void 0:r.map((e=>{const t=ne.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.pointBarriers,t}))),u=he.fromJSON(e.routeResults[0].route.toJSON());u.symbol=this.defaultSymbols.routeInfo;const c=new Fe(e.routeResults[0].directionPoints.features.map((e=>{const t=Z.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionPoints,t})));return{directionLines:new Ce(e.routeResults[0].directionLines.features.map((e=>{const t=$.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionLines,t}))),directionPoints:c,pointBarriers:l,polygonBarriers:a,polylineBarriers:o,routeInfo:u,stops:s}}_writeDirectionLines(){return Object(d.j)(this.directionLines)||!this.directionLines.length?null:{featureSet:{features:this.directionLines.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionLines.toJSON()}},fields:$.fields,geometryType:"esriGeometryPolyline",name:"DirectionLines",title:"Direction Lines"},popupInfo:$.popupInfo}}_writeDirectionPoints(){return Object(d.j)(this.directionPoints)||!this.directionPoints.length?null:{featureSet:{features:this.directionPoints.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionPoints.toJSON()}},fields:Z.fields,geometryType:"esriGeometryPoint",name:"DirectionPoints",title:"Direction Points"},popupInfo:Z.popupInfo}}_writePointBarriers(){return Object(d.j)(this.pointBarriers)||!this.pointBarriers.length?null:{featureSet:{features:this.pointBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.pointBarriers.toJSON()}},fields:ne.fields,geometryType:"esriGeometryPoint",name:"Barrier",title:"Point Barrier"},popupInfo:ne.popupInfo}}_writePolygonBarriers(){return Object(d.j)(this.polygonBarriers)||!this.polygonBarriers.length?null:{featureSet:{features:this.polygonBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolygon"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polygonBarriers.toJSON()}},fields:le.fields,geometryType:"esriGeometryPolygon",name:"PolygonBarriers",title:"Polygon Barriers"},popupInfo:le.popupInfo}}_writePolylineBarriers(){return Object(d.j)(this.polylineBarriers)||!this.polylineBarriers.length?null:{featureSet:{features:this.polylineBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polylineBarriers.toJSON()}},fields:pe.fields,geometryType:"esriGeometryPolyline",name:"PolylineBarriers",title:"Line Barriers"},popupInfo:pe.popupInfo}}_writeRouteInfo(){return Object(d.j)(this.routeInfo)?null:{featureSet:{features:[this.routeInfo.toPortalJSON()],geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.routeInfo.toJSON()}},fields:he.fields,geometryType:"esriGeometryPolyline",name:"RouteInfo",title:"Route Details"},popupInfo:he.popupInfo}}_writeStops(){return Object(d.j)(this.stops)||!this.stops.length?null:{featureSet:{features:this.stops.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"uniqueValue",field1:"Sequence",defaultSymbol:this.defaultSymbols.middleStop.toJSON(),uniqueValueInfos:[{value:"1",symbol:this.defaultSymbols.firstStop.toJSON(),label:"First Stop"},{value:`${this.stops.length}`,symbol:this.defaultSymbols.lastStop.toJSON(),label:"Last Stop"}]}},fields:Ne.fields,geometryType:"esriGeometryPoint",name:"Stops",title:"Stops"},popupInfo:Ne.popupInfo}}};Object(r.a)([Object(h.b)({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],ke.prototype,"_featureCollection",void 0),Object(r.a)([Object(v.a)(["web-map","portal-item"],"_featureCollection")],ke.prototype,"writeFeatureCollectionWebmap",null),Object(r.a)([Object(h.b)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],ke.prototype,"_type",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,type:V})],ke.prototype,"defaultSymbols",void 0),Object(r.a)([Object(h.b)({readOnly:!0})],ke.prototype,"directionLines",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],ke.prototype,"readDirectionLines",null),Object(r.a)([Object(h.b)({readOnly:!0})],ke.prototype,"directionPoints",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],ke.prototype,"readDirectionPoints",null),Object(r.a)([Object(h.b)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],ke.prototype,"featureCollectionType",void 0),Object(r.a)([Object(h.b)({readOnly:!0})],ke.prototype,"fullExtent",null),Object(r.a)([Object(h.b)({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],ke.prototype,"legendEnabled",void 0),Object(r.a)([Object(h.b)({type:["show","hide"]})],ke.prototype,"listMode",void 0),Object(r.a)([Object(h.b)({type:Number,nonNullable:!0,json:{write:!1}})],ke.prototype,"maxScale",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],ke.prototype,"readMaxScale",null),Object(r.a)([Object(h.b)({type:Number,nonNullable:!0,json:{write:!1}})],ke.prototype,"minScale",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],ke.prototype,"readMinScale",null),Object(r.a)([Object(h.b)({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],ke.prototype,"operationalLayerType",void 0),Object(r.a)([Object(h.b)({nonNullable:!0,type:l.a.ofType(ne)})],ke.prototype,"pointBarriers",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],ke.prototype,"readPointBarriers",null),Object(r.a)([Object(h.b)({nonNullable:!0,type:l.a.ofType(le)})],ke.prototype,"polygonBarriers",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],ke.prototype,"readPolygonBarriers",null),Object(r.a)([Object(h.b)({nonNullable:!0,type:l.a.ofType(pe)})],ke.prototype,"polylineBarriers",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],ke.prototype,"readPolylineBarriers",null),Object(r.a)([Object(h.b)({readOnly:!0})],ke.prototype,"routeInfo",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],ke.prototype,"readRouteInfo",null),Object(r.a)([Object(h.b)({type:ve.a})],ke.prototype,"spatialReference",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],ke.prototype,"readSpatialReference",null),Object(r.a)([Object(h.b)({nonNullable:!0,type:l.a.ofType(Ne)})],ke.prototype,"stops",void 0),Object(r.a)([Object(j.a)(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],ke.prototype,"readStops",null),Object(r.a)([Object(h.b)()],ke.prototype,"title",null),Object(r.a)([Object(h.b)({readOnly:!0,json:{read:!1}})],ke.prototype,"type",void 0),Object(r.a)([Object(h.b)()],ke.prototype,"url",null),ke=Object(r.a)([Object(g.a)("esri.layers.RouteLayer")],ke);const Be=ke},106:function(e,t,i){"use strict";i.d(t,"a",(function(){return z})),i.d(t,"b",(function(){return q})),i.d(t,"c",(function(){return O})),i.d(t,"d",(function(){return S})),i.d(t,"e",(function(){return w})),i.d(t,"f",(function(){return y})),i.d(t,"g",(function(){return m})),i.d(t,"h",(function(){return T})),i.d(t,"i",(function(){return x})),i.d(t,"j",(function(){return _})),i.d(t,"k",(function(){return ee})),i.d(t,"l",(function(){return f})),i.d(t,"m",(function(){return c})),i.d(t,"n",(function(){return d})),i.d(t,"o",(function(){return g})),i.d(t,"p",(function(){return N})),i.d(t,"q",(function(){return E})),i.d(t,"r",(function(){return I})),i.d(t,"s",(function(){return H})),i.d(t,"t",(function(){return G})),i.d(t,"u",(function(){return B})),i.d(t,"v",(function(){return U})),i.d(t,"w",(function(){return V})),i.d(t,"x",(function(){return J})),i.d(t,"y",(function(){return h})),i.d(t,"z",(function(){return W})),i.d(t,"A",(function(){return Q}));var r=i(88),n=i(85),s=i(132),a=i(259),o=i(130);const l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function c(e,t){if(null!=e&&null!=t)for(const i of Array.isArray(e)?e:[e])if(p(l,i,t),"visualVariables"in i&&i.visualVariables)for(const e of i.visualVariables)p(u,e,t)}function p(e,t,i){if(e)for(const r of e){const e=Object(s.b)(r,t),n=e&&"function"!=typeof e&&i.get(e);n&&Object(s.c)(r,n.name,t)}}function d(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i&&i.name||null,e.endField=r&&r.name||null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=r&&r.name||null}}const b=new Set;function f(e,t){return e&&t?(b.clear(),m(b,e,t),Array.from(b).sort()):[]}function m(e,t,i){var r;if(i)if(null!=t&&null!=(r=t.fields)&&r.length)if(i.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of i)y(e,t,n);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const t of i)e.add(t)}}function y(e,t,i){if("string"==typeof i)if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function h(e,t){return Object(n.j)(t)||Object(n.j)(e)?[]:t.includes("*")?e.fields.map((e=>e.name)):t}async function O(e,t,i){var r;if(!i)return;const{arcadeUtils:n}=await Object(o.e)(),s=n.extractFieldNames(i,null==t||null==(r=t.fields)?void 0:r.map((e=>e.name)));for(const a of s)y(e,t,a)}async function j(e,t,n){if(n&&"1=1"!==n){const s=(await Promise.all([i.e(10),i.e(240)]).then(i.bind(null,285))).WhereClause.create(n,t);if(!s.isStandardized)throw new r.a("fieldUtils:collectFilterFields","Where clause is not standardized");m(e,t,s.fieldNames)}}function g({displayField:e,fields:t}){return e||(t&&t.length?v(t,"name-or-title")||v(t,"unique-identifier")||v(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function v(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}async function S(e,t){if(!t)return;const i=Object(s.b)("elevationInfo.featureExpressionInfo",t);return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}async function w(e,t,i){var r,n;if(!t||!i||"cluster"!==i.type)return;const s=[];if(null!=(r=i.popupTemplate)&&r.expressionInfos&&s.push(...i.popupTemplate.expressionInfos.map((i=>O(e,t.fieldsIndex,i.expression)))),Array.isArray(null==(n=i.popupTemplate)?void 0:n.content)){const r=i.popupTemplate.content;for(const i of r)"expression"===i.type&&i.expressionInfo&&s.push(O(e,t.fieldsIndex,i.expressionInfo.expression))}i.fields&&s.push(...i.fields.map((i=>async function(e,t,i){i.outStatistic.onStatisticValueExpression?O(e,t,i.outStatistic.onStatisticValueExpression):e.add(i.outStatistic.onStatisticField)}(e,t.fieldsIndex,i)))),await Promise.all(s)}async function T(e,t,i){t&&(t.timeInfo&&Object(n.k)(i)&&i.timeExtent&&m(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&m(e,t.fieldsIndex,[t.floorInfo.floorField]),Object(n.k)(i)&&Object(n.k)(i.where)&&await j(e,t.fieldsIndex,i.where))}async function _(e,t,i){t&&i&&await Promise.all(i.map((i=>async function(e,t,i){t&&i&&(i.valueExpression?await O(e,t.fieldsIndex,i.valueExpression):i.field&&y(e,t.fieldsIndex,i.field))}(e,t,i))))}function N(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?f(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function E(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?f(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function x(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i&&i.length&&await Promise.all(i.map((t=>async function(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if("arcade"===r.type)await O(e,t,r.expression);else{const i=r.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{y(e,t,i.slice(1,-1))}))}await j(e,t,n)}(e,r,t))))}function I(e){const t=e.defaultValue;return void 0!==t&&L(e,t)?t:e.nullable?null:void 0}function M(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function A(e){return null===e||M(e)}const P="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function C(e){return null===e||P(e)}function F(e){return null!=e&&"string"==typeof e}function R(e){return null===e||F(e)}function D(){return!0}function L(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?C:P;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?A:M;break;case"string":case"esriFieldTypeString":i=e.nullable?R:F;break;default:i=D}return 1===arguments.length?i:i(t)}const V=["integer","small-integer","single","double"],k=new Set([...V,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function B(e){return null!=e&&k.has(e.type)}function U(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function G(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var z,q;function J(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function W(e,t){return e.nullable&&null===t?null:B(e)&&!function(e,t){const i="string"==typeof e?$(e):e;return!!i&&(i.isInteger?P(t)&&t>=i.min&&t<=i.max:t>=i.min&&t<=i.max)}(e.type,Number(t))?z.OUT_OF_RANGE:L(e,t)?e.domain?Object(a.c)(e.domain,t):null:q.INVALID_TYPE}function H(e){return Object(a.b)(e.domain)||(B(e)?$(e.type):void 0)}function $(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Y;case"esriFieldTypeInteger":case"integer":return K;case"esriFieldTypeSingle":case"single":return X;case"esriFieldTypeDouble":case"double":return Z}}(z||(z={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(q||(q={}));const Y={min:-32768,max:32767,isInteger:!0},K={min:-2147483648,max:2147483647,isInteger:!0},X={min:-34e37,max:12e37,isInteger:!1},Z={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Q(e,t,i){switch(e){case a.a.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case a.a.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case q.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case z.OUT_OF_RANGE:{const{min:e,max:r}=$(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function ee(e,t){return!function(e,t,i){if(!t||!t.attributes||!e){if(Object(n.k)(i))for(const t of e)i.add(t);return!0}const r=t.attributes;let s=!1;for(const a of e)if(!(a in r)){if(s=!0,!Object(n.k)(i))break;i.add(a)}return s}(e,t,null)}},1109:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r=i(79),n=(i(99),i(85)),s=i(81),a=(i(84),i(82),i(83),i(93)),o=i(80),l=i(125);let u=class extends l.a{};Object(r.a)([Object(s.b)()],u.prototype,"events",void 0),Object(r.a)([Object(s.b)()],u.prototype,"strings",void 0),u=Object(r.a)([Object(o.a)("esri.rest.support.DirectionsFeature")],u);const c=u;var p=i(161),d=i(101),b=i(96),f=i(140),m=i(113);let y=class extends p.default{constructor(e){super(e),this.extent=null,this.features=null,this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,t){var i;if(!e)return[];const r=null!=(i=t.summary.envelope.spatialReference)?i:t.spatialReference,n=r&&b.a.fromJSON(r);return e.map((e=>{var t,i;const r=this._decompressGeometry(e.compressedGeometry),s=new f.a({...r,spatialReference:n}),a=null!=(t=null==(i=e.events)?void 0:i.map((e=>{const{arriveTimeUTC:t,ETA:i,point:{x:r,y:s,z:a},strings:o}=e;return new c({geometry:new m.a({x:r,y:s,z:a,hasZ:void 0!==a,spatialReference:n}),attributes:{ETA:i,arriveTimeUTC:t},strings:o})})))?t:[];return new c({attributes:e.attributes,events:a,geometry:s,strings:e.strings})}))}get mergedGeometry(){if(!this.features)return null;const e=this.features.map((({geometry:e})=>Object(n.s)(e))),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}get strings(){return this.features.map((({strings:e})=>e))}_decompressGeometry(e){let t=0,i=0,r=0,n=0;const s=[];let a,o,l,u,c,p,d,b,f=0,m=0,y=0;if(c=e.match(/((\+|\-)[^\+\-\|]+|\|)/g),c||(c=[]),0===parseInt(c[f],32)){f=2;const e=parseInt(c[f],32);f++,p=parseInt(c[f],32),f++,1&e&&(m=c.indexOf("|")+1,d=parseInt(c[m],32),m++),2&e&&(y=c.indexOf("|",m)+1,b=parseInt(c[y],32),y++)}else p=parseInt(c[f],32),f++;for(;f<c.length&&"|"!==c[f];){a=parseInt(c[f],32)+t,f++,t=a,o=parseInt(c[f],32)+i,f++,i=o;const e=[a/p,o/p];m&&(u=parseInt(c[m],32)+r,m++,r=u,e.push(u/d)),y&&(l=parseInt(c[y],32)+n,y++,n=l,e.push(l/b)),s.push(e)}return{paths:[s],hasZ:m>0,hasM:y>0}}_mergePolylinesToSinglePath(e,t){if(0===e.length)return new f.a({spatialReference:t});const i=[];for(const a of e)for(const e of a.paths)i.push(...e);const r=[];i.forEach(((e,t)=>{0!==t&&e[0]===i[t-1][0]&&e[1]===i[t-1][1]||r.push(e)}));const{hasM:n,hasZ:s}=e[0];return new f.a({hasM:n,hasZ:s,paths:[r],spatialReference:t})}};Object(r.a)([Object(s.b)({type:d.a,json:{read:{source:"summary.envelope"}}})],y.prototype,"extent",void 0),Object(r.a)([Object(s.b)()],y.prototype,"features",void 0),Object(r.a)([Object(a.a)("features")],y.prototype,"readFeatures",null),Object(r.a)([Object(s.b)()],y.prototype,"geometryType",void 0),Object(r.a)([Object(s.b)({readOnly:!0})],y.prototype,"mergedGeometry",null),Object(r.a)([Object(s.b)()],y.prototype,"routeId",void 0),Object(r.a)([Object(s.b)()],y.prototype,"routeName",void 0),Object(r.a)([Object(s.b)({value:null,readOnly:!0})],y.prototype,"strings",null),Object(r.a)([Object(s.b)({json:{read:{source:"summary.totalDriveTime"}}})],y.prototype,"totalDriveTime",void 0),Object(r.a)([Object(s.b)({json:{read:{source:"summary.totalLength"}}})],y.prototype,"totalLength",void 0),Object(r.a)([Object(s.b)({json:{read:{source:"summary.totalTime"}}})],y.prototype,"totalTime",void 0),y=Object(r.a)([Object(o.a)("esri.rest.support.DirectionsFeatureSet")],y);const h=y},114:function(e,t,i){"use strict";i.d(t,"a",(function(){return H})),i.d(t,"b",(function(){return N})),i.d(t,"c",(function(){return q})),i.d(t,"d",(function(){return V})),i.d(t,"e",(function(){return L})),i.d(t,"f",(function(){return R})),i.d(t,"g",(function(){return U})),i.d(t,"h",(function(){return D})),i.d(t,"i",(function(){return c})),i.d(t,"j",(function(){return w})),i.d(t,"k",(function(){return C})),i.d(t,"l",(function(){return $})),i.d(t,"m",(function(){return v})),i.d(t,"n",(function(){return S})),i.d(t,"o",(function(){return P})),i.d(t,"p",(function(){return I})),i.d(t,"q",(function(){return M})),i.d(t,"r",(function(){return A})),i.d(t,"s",(function(){return E})),i.d(t,"t",(function(){return x})),i.d(t,"u",(function(){return F}));i(82);var r=i(90),n=i(85),s=i(208),a=i(96),o=i(158),l=i(110),u=i(331);const c=39.37,p=o.a.radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,b=u.a,f=/UNIT\[([^\]]+)\]/i,m=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=Object(r.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),h=e=>e*e,O=e=>e*e*e,j={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:h(.001)},"square-centimeters":{inBaseUnits:h(.01)},"square-decimeters":{inBaseUnits:h(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:h(1e3)},"square-inches":{inBaseUnits:h(.0254)},"square-feet":{inBaseUnits:h(.3048)},"square-yards":{inBaseUnits:h(.9144)},"square-miles":{inBaseUnits:h(1609.344)},"square-us-feet":{inBaseUnits:h(1200/3937)},acres:{inBaseUnits:.0015625*h(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*O(.001)},"cubic-centimeters":{inBaseUnits:1e3*O(.01)},"cubic-decimeters":{inBaseUnits:1e3*O(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*O(1e3)},"cubic-inches":{inBaseUnits:1e3*O(.0254)},"cubic-feet":{inBaseUnits:1e3*O(.3048)},"cubic-yards":{inBaseUnits:1e3*O(.9144)},"cubic-miles":{inBaseUnits:1e3*O(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},g=function(){const e={};for(const t in j)for(const i in j[t].units)e[i]=t;return e}();const v=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],S=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function w(e){return"imperial"===e||"metric"===e}function T(e){const t=g[e];if(t)return t;throw new Error("unknown type")}function _(e,t=null){return t=t||T(e),j[t].baseUnit===e}function N(e,t,i){if(t===i)return e;const r=T(t);if(r!==T(i))throw new Error("incompatible units");const n=_(t,r)?e:function(e,t,i){return e*j[i].units[t].inBaseUnits}(e,t,r);return _(i,r)?n:function(e,t,i){return e/j[i].units[t].inBaseUnits}(n,i,r)}function E(e,t){return N(e,t,"meters")<3e3?"meters":"kilometers"}function x(e,t){return N(e,t,"meters")<1e5?"meters":"kilometers"}function I(e,t){return N(e,t,"feet")<1e3?"feet":"miles"}function M(e,t){return N(e,t,"feet")<1e5?"feet":"miles"}function A(e,t){return N(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function P(e,t){return N(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function C(e,t,i){return N(e,t,"meters")/(i*Math.PI/180)}function F(e){return y.fromJSON(e.toLowerCase())||null}function R(e){if(e&&"object"==typeof e&&!Object(l.g)(e))return 1;const t=L(e);return t>1e5?1:t}function D(e){return L(e)>=(e instanceof a.a?Object(s.e)(e).metersPerDegree:1e5)?"meters":U(e)}function L(e,t=o.a.metersPerDegree){return V(e,!0)||t}function V(e,t=!1){let i,r,n=null;if(null!=e&&("object"==typeof e?(i=e.wkid,r=e.wkt):"number"==typeof e?i=e:"string"==typeof e&&(r=e)),i){if(Object(l.n)(i))return o.b.metersPerDegree;if(Object(l.o)(i))return o.c.metersPerDegree;n=b.values[b[i]],!n&&t&&m.has(i)&&(n=p)}else r&&(z(r)?n=k(d.exec(r),n):G(r)&&(n=k(f.exec(r),n)));return n}function k(e,t){return e&&e[1]?B(e[1]):t}function B(e){return parseFloat(e.split(",")[1])}function U(e){let t,i,r=null;if(null!=e&&("object"==typeof e?(t=e.wkid,i=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(i=e)),t)r=b.units[b[t]];else if(i){const e=z(i)?d:G(i)?f:null;if(e){const t=e.exec(i);t&&t[1]&&(r=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let i=t&&t[1];if(!i||-1===b.units.indexOf(i)){const t=B(e);i=null;const r=b.values;for(let e=0;e<r.length;++e)if(Math.abs(t-r[e])<1e-7){i=b.units[e];break}}return i}(t[1]))}}return Object(n.k)(r)?F(r):null}function G(e){return/^GEOCCS/i.test(e)}function z(e){return/^PROJCS/i.test(e)}function q(e){if(!e)return null;switch(U(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}const J={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},W={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},H=Object(r.b)()(J),$=Object(r.b)()(W);Object(r.b)()({...J,...W})},118:function(e,t,i){"use strict";i.d(t,"a",(function(){return x})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return O})),i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return T})),i.d(t,"g",(function(){return j})),i.d(t,"h",(function(){return g})),i.d(t,"i",(function(){return S})),i.d(t,"j",(function(){return v})),i.d(t,"k",(function(){return o})),i.d(t,"l",(function(){return s})),i.d(t,"m",(function(){return N})),i.d(t,"n",(function(){return d})),i.d(t,"o",(function(){return p})),i.d(t,"p",(function(){return b})),i.d(t,"q",(function(){return u})),i.d(t,"r",(function(){return l})),i.d(t,"s",(function(){return y})),i.d(t,"t",(function(){return w})),i.d(t,"u",(function(){return _})),i.d(t,"v",(function(){return c})),i.d(t,"w",(function(){return m}));i(82),i(116);var r=i(85),n=i(101);function s(e=I){return[e[0],e[1],e[2],e[3]]}function a(e){return[e[0],e[1],e[2],e[3]]}function o(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function l(e,t,i,r,n=s()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function u(e,t=s()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function c(e,t){return new n.a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function p(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function d(e,t,i){if(Object(r.j)(t))o(i,e);else if("length"in t)E(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}}function b(e,t,i=e){const r=t.length;let n=e[0],s=e[1],a=e[2],o=e[3];for(let l=0;l<r;l++){const e=t[l];n=Math.min(n,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[0]),o=Math.max(o,e[1])}return i[0]=n,i[1]=s,i[2]=a,i[3]=o,i}function f(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function m(e){return Object(r.j)(e)||e[0]>=e[2]?0:e[2]-e[0]}function y(e){return e[1]>=e[3]?0:e[3]-e[1]}function h(e){return m(e)*y(e)}function O(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function j(e,t){return v(e,t[0],t[1])}function g(e,t){return v(e,t.x,t.y)}function v(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function S(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function w(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function T(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function _(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function N(e){return e?o(e,x):s(x)}function E(e){return null!=e&&4===e.length}const x=[1/0,1/0,-1/0,-1/0],I=[0,0,0,0]},1181:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var r=i(103),n=i(85),s=i(928),a=i(229),o=i(910),l=i(137),u=i(79),c=i(125),p=i(86),d=i(81),b=(i(84),i(82),i(83),i(93)),f=i(80),m=i(161),y=i(929),h=i(1109);let O=class extends p.a{constructor(e){super(e),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null}};Object(u.a)([Object(d.b)({type:m.default,json:{write:!0}})],O.prototype,"directionLines",void 0),Object(u.a)([Object(d.b)({type:m.default,json:{write:!0}})],O.prototype,"directionPoints",void 0),Object(u.a)([Object(d.b)({type:h.a,json:{write:!0}})],O.prototype,"directions",void 0),Object(u.a)([Object(d.b)({type:c.a,json:{write:!0}})],O.prototype,"route",void 0),Object(u.a)([Object(d.b)({type:String,json:{write:!0}})],O.prototype,"routeName",void 0),Object(u.a)([Object(d.b)({type:[c.a],json:{write:!0}})],O.prototype,"stops",void 0),O=Object(u.a)([Object(f.a)("esri.rest.support.RouteResult")],O);const j=O;function g(e){return e&&m.default.fromJSON(e).features.map((e=>e))}let v=class extends p.a{constructor(e){super(e),this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(e,t){return g(t.barriers)}readPolylineBarriers(e){return g(e)}readPolygonBarriers(e){return g(e)}};Object(u.a)([Object(d.b)({type:[y.a]})],v.prototype,"messages",void 0),Object(u.a)([Object(d.b)({type:[c.a]})],v.prototype,"pointBarriers",void 0),Object(u.a)([Object(b.a)("pointBarriers",["barriers"])],v.prototype,"readPointBarriers",null),Object(u.a)([Object(d.b)({type:[c.a]})],v.prototype,"polylineBarriers",void 0),Object(u.a)([Object(b.a)("polylineBarriers")],v.prototype,"readPolylineBarriers",null),Object(u.a)([Object(d.b)({type:[c.a]})],v.prototype,"polygonBarriers",void 0),Object(u.a)([Object(b.a)("polygonBarriers")],v.prototype,"readPolygonBarriers",null),Object(u.a)([Object(d.b)({type:[j]})],v.prototype,"routeResults",void 0),v=Object(u.a)([Object(f.a)("esri.rest.support.RouteSolveResult")],v);const S=v,w=Object(s.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});function T(e){return"esri.rest.support.FeatureSet"===(null==e?void 0:e.declaredClass)}async function _(e,t,i){const s=[],u=[],c={},p={},d=Object(l.c)(e),{path:b}=d;T(t.stops)&&Object(o.a)(t.stops.features,u,"stops.features",c),T(t.pointBarriers)&&Object(o.a)(t.pointBarriers.features,u,"pointBarriers.features",c),T(t.polylineBarriers)&&Object(o.a)(t.polylineBarriers.features,u,"polylineBarriers.features",c),T(t.polygonBarriers)&&Object(o.a)(t.polygonBarriers.features,u,"polygonBarriers.features",c);const f=await Object(a.a)(u);for(const r in c){const e=c[r];s.push(r),p[r]=f.slice(e[0],e[1])}if(Object(o.d)(p,s)){let e=null;try{e=await Object(o.c)(b,t.apiKey,i)}catch{}e&&!e.hasZ&&Object(o.b)(p,s)}for(const r in p)p[r].forEach(((e,i)=>{t.get(r)[i].geometry=e}));const m={...i,query:{...d.query,...w.toQueryParams(t),f:"json"}},y=b.endsWith("/solve")?b:`${b}/solve`,{data:h}=await Object(r.default)(y,m);return function(e){var t,i,r,s,a;const o=new Map,{directionLines:l,directionPoints:u,directions:c,routes:p,stops:d,barriers:b,polygonBarriers:f,polylineBarriers:m,messages:y}=e,h=null!=(t=null!=(i=null!=(r=null!=(s=null==p?void 0:p.spatialReference)?s:null==d?void 0:d.spatialReference)?r:null==b?void 0:b.spatialReference)?i:null==f?void 0:f.spatialReference)?t:null==m?void 0:m.spatialReference;null==p||p.features.forEach((e=>{const t=e.attributes.Name,i=e.attributes.ObjectID;o.has(t)?(o.get(t).route=e,o.get(t).routeId=i):o.set(t,{route:e,routeId:i,routeName:t}),Object(n.k)(e.geometry)&&(e.geometry.spatialReference=h)})),null==c||c.forEach((e=>{const t=e.routeName;o.has(t)?o.get(t).directions=e:o.set(t,{routeName:t,directions:e})})),null==d||d.features.forEach((e=>{var t;const i=null!=(t=e.attributes.RouteName)?t:null;o.has(i)?o.get(i).stops?o.get(i).stops.push(e):o.get(i).stops=[e]:o.set(i,{stops:[e],routeName:i}),Object(n.k)(e.geometry)&&(e.geometry.spatialReference=h)}));const O=null==(a=null==d?void 0:d.features.every((e=>null==e.attributes.RouteName)))||a;if((null==d?void 0:d.features.length)>0&&O){const e=Array.from(o.keys())[0];o.get(e).stops=o.get(null).stops,o.delete(null)}null==l||l.features.forEach((e=>{var t;const i=e.attributes.RouteID,r=null==(t=Array.from(o.values()).find((e=>e.routeId===i)))?void 0:t.routeName;if(r)if(o.has(r))if(o.get(r).directionLines)o.get(r).directionLines.features.push(e);else{const{fieldAliases:t,geometryType:i,spatialReference:n}=l;o.get(r).directionLines={features:[e],fieldAliases:t,geometryType:i,spatialReference:n}}else{const{fieldAliases:t,geometryType:i,spatialReference:n}=l;o.set(r,{routeName:r,directionLines:{features:[e],fieldAliases:t,geometryType:i,spatialReference:n}})}})),null==u||u.features.forEach((e=>{var t;const i=e.attributes.RouteID,r=null==(t=Array.from(o.values()).find((e=>e.routeId===i)))?void 0:t.routeName;if(r)if(o.has(r))if(o.get(r).directionPoints)o.get(r).directionPoints.features.push(e);else{const{fieldAliases:t,geometryType:i,spatialReference:n}=u;o.get(r).directionPoints={features:[e],fieldAliases:t,geometryType:i,spatialReference:n}}else{const{fieldAliases:t,geometryType:i,spatialReference:n}=u;o.set(r,{routeName:r,directionPoints:{features:[e],fieldAliases:t,geometryType:i,spatialReference:n}})}}));const j=Array.from(o.values());return S.fromJSON({routeResults:j,barriers:b,polygonBarriers:f,polylineBarriers:m,messages:y})}(h)}},120:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(79),n=i(90),s=i(86),a=i(81),o=(i(84),i(82),i(83),i(80)),l=i(315);const u=new n.a({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let c=class extends s.a{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};Object(r.a)([Object(a.b)({type:l.a,json:{write:!0}})],c.prototype,"authoringInfo",void 0),Object(r.a)([Object(a.b)({type:u.apiValues,readOnly:!0,json:{type:u.jsonValues,read:!1,write:{writer:u.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0),c=Object(r.a)([Object(o.a)("esri.renderers.Renderer")],c);const p=c},121:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r,n=i(79),s=i(86),a=i(85),o=i(169),l=i(81),u=(i(84),i(82),i(83),i(93)),c=i(80),p=i(92);let d=r=class extends s.a{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return b}static get empty(){return f}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new r({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=Object(a.k)(this.start)?this.start.getTime():this.start,i=Object(a.k)(this.end)?this.end.getTime():this.end,r=Object(a.k)(e.start)?e.start.getTime():e.start,n=Object(a.k)(e.end)?e.end.getTime():e.end;return t===r&&i===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=Object(a.b)(this.start,(t=>Object(o.c)(t,e))),i=Object(a.b)(this.end,(t=>Object(o.b)(Object(o.c)(t,e),1,e)));return new r({start:t,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Object(a.n)(this.start,-1/0,(e=>e.getTime())),i=Object(a.n)(this.end,1/0,(e=>e.getTime())),n=Object(a.n)(e.start,-1/0,(e=>e.getTime())),s=Object(a.n)(e.end,1/0,(e=>e.getTime()));let o,l;if(n>=t&&n<=i?o=n:t>=n&&t<=s&&(o=t),i>=n&&i<=s?l=i:s>=t&&s<=i&&(l=s),!isNaN(o)&&!isNaN(l)){const e=new r;return e.start=o===-1/0?null:new Date(o),e.end=l===1/0?null:new Date(l),e}return r.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new r,{start:n,end:s}=this;return Object(a.k)(n)&&(i.start=Object(o.b)(n,e,t)),Object(a.k)(s)&&(i.end=Object(o.b)(s,e,t)),i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return b.clone();const t=Object(a.k)(this.start)&&Object(a.k)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=Object(a.k)(this.end)&&Object(a.k)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:i})}};Object(n.a)([Object(l.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(n.a)([Object(u.a)("end")],d.prototype,"readEnd",null),Object(n.a)([Object(p.a)("end")],d.prototype,"writeEnd",null),Object(n.a)([Object(l.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(n.a)([Object(l.b)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(n.a)([Object(l.b)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(n.a)([Object(u.a)("start")],d.prototype,"readStart",null),Object(n.a)([Object(p.a)("start")],d.prototype,"writeStart",null),d=r=Object(n.a)([Object(c.a)("esri.TimeExtent")],d);const b=new d,f=new d({start:void 0,end:void 0}),m=d},123:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(79),n=i(90),s=i(86),a=i(81),o=(i(84),i(82),i(83),i(95)),l=i(80);const u=new n.a({inherited:"inherited",codedValue:"coded-value",range:"range"});let c=class extends s.a{constructor(e){super(e),this.name=null,this.type=null}};Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"name",void 0),Object(r.a)([Object(o.a)(u)],c.prototype,"type",void 0),c=Object(r.a)([Object(l.a)("esri.layers.support.Domain")],c);const p=c},125:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var r=i(79),n=i(99),s=i(180),a=i(115),o=i(173),l=i(86),u=i(85),c=i(244),p=i(81),d=(i(84),i(82),i(83),i(80)),b=i(97);function f(e){if(!Object(u.k)(e))return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return 0!==Object.keys(t).length?t:null}let m=class extends(Object(o.a)(l.a)){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(c.a)(),configurable:!0})}normalizeCtorArgs(e,t,i,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:r}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&Object(u.k)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:f(this.aggregateGeometries),geometry:Object(u.k)(this.geometry)?this.geometry.toJSON():null,symbol:Object(u.k)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){Object(u.k)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,i,r){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};"attributes"===e&&(n.attributeName=r),this.layer.graphicChanged(n)}};Object(r.a)([Object(p.b)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const i in e){const r=Object(b.a)(e[i]);r&&(t[i]=r)}return 0!==Object.keys(t).length?t:null}}})],m.prototype,"aggregateGeometries",null),Object(r.a)([Object(p.b)({value:null})],m.prototype,"attributes",null),Object(r.a)([Object(p.b)({value:null,types:n.a,json:{read:b.a}})],m.prototype,"geometry",null),Object(r.a)([Object(p.b)({type:Boolean})],m.prototype,"isAggregate",void 0),Object(r.a)([Object(p.b)({clonable:"reference"})],m.prototype,"layer",void 0),Object(r.a)([Object(p.b)({type:s.a})],m.prototype,"popupTemplate",void 0),Object(r.a)([Object(p.b)({clonable:"reference"})],m.prototype,"sourceLayer",void 0),Object(r.a)([Object(p.b)({value:null,types:a.e})],m.prototype,"symbol",null),Object(r.a)([Object(p.b)({type:Boolean,value:!0})],m.prototype,"visible",null),m=Object(r.a)([Object(d.a)("esri.Graphic")],m),(m||(m={})).generateUID=c.a;const y=m},130:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return a}));i(99);var r=i(85),n=i(96);let s;function a(){return s||(s=(async()=>{const e=await Promise.all([i.e(43),i.e(131),i.e(208)]).then(i.bind(null,390));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),s}const o=(e,t,i)=>c.create(e,t,i,null,["$feature"]),l=(e,t,i)=>c.create(e,t,i,null,["$feature","$view"]),u=(e,t,i,r)=>c.create(e,t,i,r,["$feature","$view"]);class c{constructor(e,t,i,r,n,s,a,o){this.script=e,this.evaluate=n;const l=Array.isArray(a)?a:a.fields;this.fields=l,this._syntaxTree=r,this._arcade=t,this._arcadeDictionary=i,this._arcadeFeature=s,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,i,s,o,l){const{arcade:u,Feature:p,Dictionary:d}=await a(),b=n.a.fromJSON(t),f=u.parseScript(e,l),m=o.reduce(((e,t)=>({...e,[t]:null})),{});let y=null;Object(r.k)(s)&&(y=new d(s),y.immutable=!0,m.$config=null);const h=u.scriptUsesGeometryEngine(f)&&u.enableGeometrySupport(),O=u.scriptUsesFeatureSet(f)&&u.enableFeatureSetSupport(),j=u.scriptIsAsync(f)&&u.enableAsyncSupport(),g={vars:m,spatialReference:b,useAsync:!!j},v=new d;v.immutable=!1,v.setField("scale",0);const S=u.compileScript(f,g);return await Promise.all([h,O,j]),new c(e,u,d,f,(e=>("$view"in e&&e.$view&&(v.setField("scale",e.$view.scale),e.$view=v),y&&(e.$config=y),S({vars:e,spatialReference:b}))),new p,i,b)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},134:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return u}));var r=i(79),n=i(100),s=i(124),a=i(81),o=i(80),l=i(277);const u=e=>{let t=class extends e{destroy(){var e,t;this.destroyed||(null==(e=this._get("handles"))||e.destroy(),null==(t=this._get("updatingHandles"))||t.destroy())}get handles(){return this._get("handles")||new s.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}};return Object(r.a)([Object(a.b)({readOnly:!0})],t.prototype,"handles",null),Object(r.a)([Object(a.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(r.a)([Object(o.a)("esri.core.HandleOwner")],t),t};let c=class extends(u(n.a)){};c=Object(r.a)([Object(o.a)("esri.core.HandleOwner")],c)},137:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s}));i(85);var r=i(98);i(391),i(342);function n(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function s(e){return"string"==typeof e?Object(r.M)(e):e}function a(e,t,i){const r={};for(const n in e){if("declaredClass"===n)continue;const s=e[n];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){r[n]=[];for(let e=0;e<s.length;e++)r[n][e]=a(s[e])}else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(i&&i[n]);r[n]=t?e:JSON.stringify(e)}else r[n]=t?s:JSON.stringify(s);else r[n]=s}return r}},141:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r=i(79),n=i(90),s=i(86),a=i(87),o=i(81),l=(i(84),i(82),i(104)),u=i(80),c=i(83),p=i(238);const d=a.a.getLogger("esri.renderers.visualVariables.VisualVariable"),b=new n.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let f=class extends s.a{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(d.error(".field: field must be a string value"),null):Object(c.l)(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};Object(r.a)([Object(o.b)()],f.prototype,"index",void 0),Object(r.a)([Object(o.b)({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],f.prototype,"type",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(r.a)([Object(l.a)("field")],f.prototype,"castField",null),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],f.prototype,"arcadeRequired",null),Object(r.a)([Object(o.b)({type:p.a,json:{write:!0}})],f.prototype,"legendOptions",void 0),f=Object(r.a)([Object(u.a)("esri.renderers.visualVariables.VisualVariable")],f);const m=f},142:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return l}));var r=i(115),n=i(179),s=i(228),a=i(265),o=i(303);const l={types:r.i,json:{write:{writer:s.b},origins:{"web-scene":{types:r.j,write:{writer:s.b},read:{reader:Object(n.b)({types:r.j})}}}}},u={types:{base:a.a,key:"type",typeMap:{"simple-fill":r.e.typeMap["simple-fill"],"picture-fill":r.e.typeMap["picture-fill"],"polygon-3d":r.e.typeMap["polygon-3d"]}},json:{write:{writer:s.b},origins:{"web-scene":{type:o.a,write:{writer:s.b}}}}}},143:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83)),o=i(93),l=i(80),u=i(92),c=i(106),p=i(141),d=i(305);let b=r=class extends p.a{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new r({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};Object(n.a)([Object(s.b)({readOnly:!0})],b.prototype,"cache",null),Object(n.a)([Object(s.b)({type:["color"],json:{type:["colorInfo"]}})],b.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0),Object(n.a)([Object(s.b)({type:[d.a],json:{write:!0}})],b.prototype,"stops",null),b=r=Object(n.a)([Object(l.a)("esri.renderers.visualVariables.ColorVariable")],b);const f=b;var m,y=i(86),h=i(258);let O=m=class extends y.a{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Object(h.b)(t.transparency)}writeOpacity(e,t,i){t[i]=Object(h.a)(e)}clone(){return new m({label:this.label,opacity:this.opacity,value:this.value})}};Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],O.prototype,"label",void 0),Object(n.a)([Object(s.b)({type:Number,json:{type:a.a,write:{target:"transparency"}}})],O.prototype,"opacity",void 0),Object(n.a)([Object(o.a)("opacity",["transparency"])],O.prototype,"readOpacity",null),Object(n.a)([Object(u.a)("opacity")],O.prototype,"writeOpacity",null),Object(n.a)([Object(s.b)({type:Number,json:{write:!0}})],O.prototype,"value",void 0),O=m=Object(n.a)([Object(l.a)("esri.renderers.visualVariables.support.OpacityStop")],O);const j=O;var g;let v=g=class extends p.a{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};Object(n.a)([Object(s.b)({readOnly:!0})],v.prototype,"cache",null),Object(n.a)([Object(s.b)({type:["opacity"],json:{type:["transparencyInfo"]}})],v.prototype,"type",void 0),Object(n.a)([Object(s.b)({type:String,json:{write:!0}})],v.prototype,"normalizationField",void 0),Object(n.a)([Object(s.b)({type:[j],json:{write:!0}})],v.prototype,"stops",null),v=g=Object(n.a)([Object(l.a)("esri.renderers.visualVariables.OpacityVariable")],v);const S=v;var w=i(237),T=i(196),_=i(100),N=i(90),E=i(87),x=i(167);const I=E.a.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),M={color:f,size:T.a,opacity:S,rotation:w.a},A=new N.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),P=/^\[([^\]]+)\]$/i;let C=class extends _.a{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter((e=>!!e)))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some((e=>!!e.target))&&e.sort(((e,t)=>{let i=null;return i=e.target===t.target?0:e.target?1:-1,i}));for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,i){const{rotationExpression:r,rotationType:n}=t,s=r&&r.match(P),a=s&&s[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:a})),e)return e.map((e=>{const t=A.read(e.type),r=M[t];r||(I.warn(`Unknown variable type: ${t}`),i&&i.messages&&i.messages.push(new x.a("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:i})));const n=new r;return n.read(e,i),n}))}writeVariables(e,t){const i=[];for(const r of e){const e=r.toJSON(t);e&&i.push(e)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};Object(n.a)([Object(s.b)()],C.prototype,"visualVariables",null),C=Object(n.a)([Object(l.a)("esri.renderers.visualVariables.VisualVariableFactory")],C);const F=C,R={base:p.a,key:"type",typeMap:{opacity:S,color:f,rotation:w.a,size:T.a}},D=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new F}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,i){return this._vvFactory.readVariables(e,t,i)}writeVisualVariables(e,t,i,r){t[i]=this._vvFactory.writeVariables(e,r)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const e of this.visualVariables)if(e.arcadeRequired)return!0;return!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){const i=this.visualVariables;return i?i.filter((i=>i.type===e&&("string"==typeof t?i.target===t:!1!==t||!i.target))):[]}async collectVVRequiredFields(e,t){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const r of i)r&&(r.field&&Object(c.f)(e,t,r.field),r.normalizationField&&Object(c.f)(e,t,r.normalizationField),r.valueExpression&&await Object(c.c)(e,t,r.valueExpression))}};return Object(n.a)([Object(s.b)({types:[R],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),Object(n.a)([Object(o.a)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),Object(n.a)([Object(u.a)("visualVariables")],t.prototype,"writeVisualVariables",null),t=Object(n.a)([Object(l.a)("esri.renderers.mixins.VisualVariablesMixin")],t),t}},146:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(81);function n(e,t){const i=t?{...t,source:e}:e;return Object(r.b)({aliasOf:i})}},147:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return v})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return j})),i.d(t,"e",(function(){return b})),i.d(t,"f",(function(){return h})),i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return d})),i.d(t,"i",(function(){return o})),i.d(t,"j",(function(){return p})),i.d(t,"k",(function(){return T})),i.d(t,"l",(function(){return _})),i.d(t,"m",(function(){return c})),i.d(t,"n",(function(){return E})),i.d(t,"o",(function(){return m})),i.d(t,"p",(function(){return A})),i.d(t,"q",(function(){return N})),i.d(t,"r",(function(){return f})),i.d(t,"s",(function(){return a})),i.d(t,"t",(function(){return l})),i.d(t,"u",(function(){return O})),i.d(t,"v",(function(){return M})),i.d(t,"w",(function(){return I})),i.d(t,"x",(function(){return g}));var r=i(109),n=i(189);function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(e,t,i,r,n,s,a,o,l,u,c,p,d,b,f,m,y){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=u,e[9]=c,e[10]=p,e[11]=d,e[12]=b,e[13]=f,e[14]=m,e[15]=y,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const i=t[1],r=t[2],n=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=n,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function u(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],p=t[9],d=t[10],b=t[11],f=t[12],m=t[13],y=t[14],h=t[15],O=i*o-r*a,j=i*l-n*a,g=i*u-s*a,v=r*l-n*o,S=r*u-s*o,w=n*u-s*l,T=c*m-p*f,_=c*y-d*f,N=c*h-b*f,E=p*y-d*m,x=p*h-b*m,I=d*h-b*y;let M=O*I-j*x+g*E+v*N-S*_+w*T;return M?(M=1/M,e[0]=(o*I-l*x+u*E)*M,e[1]=(n*x-r*I-s*E)*M,e[2]=(m*w-y*S+h*v)*M,e[3]=(d*S-p*w-b*v)*M,e[4]=(l*N-a*I-u*_)*M,e[5]=(i*I-n*N+s*_)*M,e[6]=(y*g-f*w-h*j)*M,e[7]=(c*w-d*g+b*j)*M,e[8]=(a*x-o*N+u*T)*M,e[9]=(r*N-i*x-s*T)*M,e[10]=(f*S-m*g+h*O)*M,e[11]=(p*g-c*S-b*O)*M,e[12]=(o*_-a*E-l*T)*M,e[13]=(i*E-r*_+n*T)*M,e[14]=(m*j-f*v-y*O)*M,e[15]=(c*v-p*j+d*O)*M,e):null}function c(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],p=t[8],d=t[9],b=t[10],f=t[11],m=t[12],y=t[13],h=t[14],O=t[15];let j=i[0],g=i[1],v=i[2],S=i[3];return e[0]=j*r+g*o+v*p+S*m,e[1]=j*n+g*l+v*d+S*y,e[2]=j*s+g*u+v*b+S*h,e[3]=j*a+g*c+v*f+S*O,j=i[4],g=i[5],v=i[6],S=i[7],e[4]=j*r+g*o+v*p+S*m,e[5]=j*n+g*l+v*d+S*y,e[6]=j*s+g*u+v*b+S*h,e[7]=j*a+g*c+v*f+S*O,j=i[8],g=i[9],v=i[10],S=i[11],e[8]=j*r+g*o+v*p+S*m,e[9]=j*n+g*l+v*d+S*y,e[10]=j*s+g*u+v*b+S*h,e[11]=j*a+g*c+v*f+S*O,j=i[12],g=i[13],v=i[14],S=i[15],e[12]=j*r+g*o+v*p+S*m,e[13]=j*n+g*l+v*d+S*y,e[14]=j*s+g*u+v*b+S*h,e[15]=j*a+g*c+v*f+S*O,e}function p(e,t,i){const r=i[0],n=i[1],s=i[2];let a,o,l,u,c,p,d,b,f,m,y,h;return t===e?(e[12]=t[0]*r+t[4]*n+t[8]*s+t[12],e[13]=t[1]*r+t[5]*n+t[9]*s+t[13],e[14]=t[2]*r+t[6]*n+t[10]*s+t[14],e[15]=t[3]*r+t[7]*n+t[11]*s+t[15]):(a=t[0],o=t[1],l=t[2],u=t[3],c=t[4],p=t[5],d=t[6],b=t[7],f=t[8],m=t[9],y=t[10],h=t[11],e[0]=a,e[1]=o,e[2]=l,e[3]=u,e[4]=c,e[5]=p,e[6]=d,e[7]=b,e[8]=f,e[9]=m,e[10]=y,e[11]=h,e[12]=a*r+c*n+f*s+t[12],e[13]=o*r+p*n+m*s+t[13],e[14]=l*r+d*n+y*s+t[14],e[15]=u*r+b*n+h*s+t[15]),e}function d(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b(e,t,i,r){let s,a,o,l,u,c,p,d,b,f,m,y,h,O,j,g,v,S,w,T,_,N,E,x,I=r[0],M=r[1],A=r[2],P=Math.sqrt(I*I+M*M+A*A);return P<n.a?null:(P=1/P,I*=P,M*=P,A*=P,s=Math.sin(i),a=Math.cos(i),o=1-a,l=t[0],u=t[1],c=t[2],p=t[3],d=t[4],b=t[5],f=t[6],m=t[7],y=t[8],h=t[9],O=t[10],j=t[11],g=I*I*o+a,v=M*I*o+A*s,S=A*I*o-M*s,w=I*M*o-A*s,T=M*M*o+a,_=A*M*o+I*s,N=I*A*o+M*s,E=M*A*o-I*s,x=A*A*o+a,e[0]=l*g+d*v+y*S,e[1]=u*g+b*v+h*S,e[2]=c*g+f*v+O*S,e[3]=p*g+m*v+j*S,e[4]=l*w+d*T+y*_,e[5]=u*w+b*T+h*_,e[6]=c*w+f*T+O*_,e[7]=p*w+m*T+j*_,e[8]=l*N+d*E+y*x,e[9]=u*N+b*E+h*x,e[10]=c*N+f*E+O*x,e[11]=p*N+m*E+j*x,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[4],a=t[5],o=t[6],l=t[7],u=t[8],c=t[9],p=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+u*r,e[5]=a*n+c*r,e[6]=o*n+p*r,e[7]=l*n+d*r,e[8]=u*n-s*r,e[9]=c*n-a*r,e[10]=p*n-o*r,e[11]=d*n-l*r,e}function m(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],o=t[2],l=t[3],u=t[8],c=t[9],p=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-u*r,e[1]=a*n-c*r,e[2]=o*n-p*r,e[3]=l*n-d*r,e[8]=s*r+u*n,e[9]=a*r+c*n,e[10]=o*r+p*n,e[11]=l*r+d*n,e}function y(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],o=t[2],l=t[3],u=t[4],c=t[5],p=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+u*r,e[1]=a*n+c*r,e[2]=o*n+p*r,e[3]=l*n+d*r,e[4]=u*n-s*r,e[5]=c*n-a*r,e[6]=p*n-o*r,e[7]=d*n-l*r,e}function h(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function O(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t,i){let r,s,a,o=i[0],l=i[1],u=i[2],c=Math.sqrt(o*o+l*l+u*u);return c<n.a?null:(c=1/c,o*=c,l*=c,u*=c,r=Math.sin(t),s=Math.cos(t),a=1-s,e[0]=o*o*a+s,e[1]=l*o*a+u*r,e[2]=u*o*a-l*r,e[3]=0,e[4]=o*l*a-u*r,e[5]=l*l*a+s,e[6]=u*l*a+o*r,e[7]=0,e[8]=o*u*a+l*r,e[9]=l*u*a-o*r,e[10]=u*u*a+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function g(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],o=r+r,l=n+n,u=s+s,c=r*o,p=r*l,d=r*u,b=n*l,f=n*u,m=s*u,y=a*o,h=a*l,O=a*u;return e[0]=1-(b+m),e[1]=p+O,e[2]=d-h,e[3]=0,e[4]=p-O,e[5]=1-(c+m),e[6]=f+y,e[7]=0,e[8]=d+h,e[9]=f-y,e[10]=1-(c+b),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}const w=Object(r.f)();function T(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=i+i,o=r+r,l=n+n,u=i*a,c=r*a,p=r*o,d=n*a,b=n*o,f=n*l,m=s*a,y=s*o,h=s*l;return e[0]=1-p-f,e[1]=c+h,e[2]=d-y,e[3]=0,e[4]=c-h,e[5]=1-u-f,e[6]=b+m,e[7]=0,e[8]=d+y,e[9]=b-m,e[10]=1-u-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t,i,r,n,s,a){const o=1/(i-t),l=1/(n-r),u=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(i+t)*o,e[9]=(n+r)*l,e[10]=(a+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*u,e[15]=0,e}function N(e,t,i,r,n,s,a){const o=1/(t-i),l=1/(r-n),u=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+i)*o,e[13]=(n+r)*l,e[14]=(a+s)*u,e[15]=1,e}function E(e,t,i,r){let s,a,l,u,c,p,d,b,f,m;const y=t[0],h=t[1],O=t[2],j=r[0],g=r[1],v=r[2],S=i[0],w=i[1],T=i[2];return Math.abs(y-S)<n.a&&Math.abs(h-w)<n.a&&Math.abs(O-T)<n.a?o(e):(d=y-S,b=h-w,f=O-T,m=1/Math.sqrt(d*d+b*b+f*f),d*=m,b*=m,f*=m,s=g*f-v*b,a=v*d-j*f,l=j*b-g*d,m=Math.sqrt(s*s+a*a+l*l),m?(m=1/m,s*=m,a*=m,l*=m):(s=0,a=0,l=0),u=b*l-f*a,c=f*s-d*l,p=d*a-b*s,m=Math.sqrt(u*u+c*c+p*p),m?(m=1/m,u*=m,c*=m,p*=m):(u=0,c=0,p=0),e[0]=s,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=c,e[6]=b,e[7]=0,e[8]=l,e[9]=p,e[10]=f,e[11]=0,e[12]=-(s*y+a*h+l*O),e[13]=-(u*y+c*h+p*O),e[14]=-(d*y+b*h+f*O),e[15]=1,e)}function x(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function M(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],b=e[10],f=e[11],m=e[12],y=e[13],h=e[14],O=e[15],j=t[0],g=t[1],v=t[2],S=t[3],w=t[4],T=t[5],_=t[6],N=t[7],E=t[8],x=t[9],I=t[10],M=t[11],A=t[12],P=t[13],C=t[14],F=t[15];return Math.abs(i-j)<=n.a*Math.max(1,Math.abs(i),Math.abs(j))&&Math.abs(r-g)<=n.a*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(s-v)<=n.a*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(a-S)<=n.a*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(o-w)<=n.a*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-T)<=n.a*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-_)<=n.a*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-N)<=n.a*Math.max(1,Math.abs(c),Math.abs(N))&&Math.abs(p-E)<=n.a*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(d-x)<=n.a*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(b-I)<=n.a*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(f-M)<=n.a*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(m-A)<=n.a*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(y-P)<=n.a*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(h-C)<=n.a*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(O-F)<=n.a*Math.max(1,Math.abs(O),Math.abs(F))}function A(e){const t=n.a,i=e[0],r=e[1],s=e[2],a=e[4],o=e[5],l=e[6],u=e[8],c=e[9],p=e[10];return Math.abs(1-(i*i+a*a+u*u))<=t&&Math.abs(1-(r*r+o*o+c*c))<=t&&Math.abs(1-(s*s+l*l+p*p))<=t}const P=c,C=x;Object.freeze({__proto__:null,copy:s,set:a,identity:o,transpose:l,invert:u,adjoint:function(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],p=t[9],d=t[10],b=t[11],f=t[12],m=t[13],y=t[14],h=t[15];return e[0]=o*(d*h-b*y)-p*(l*h-u*y)+m*(l*b-u*d),e[1]=-(r*(d*h-b*y)-p*(n*h-s*y)+m*(n*b-s*d)),e[2]=r*(l*h-u*y)-o*(n*h-s*y)+m*(n*u-s*l),e[3]=-(r*(l*b-u*d)-o*(n*b-s*d)+p*(n*u-s*l)),e[4]=-(a*(d*h-b*y)-c*(l*h-u*y)+f*(l*b-u*d)),e[5]=i*(d*h-b*y)-c*(n*h-s*y)+f*(n*b-s*d),e[6]=-(i*(l*h-u*y)-a*(n*h-s*y)+f*(n*u-s*l)),e[7]=i*(l*b-u*d)-a*(n*b-s*d)+c*(n*u-s*l),e[8]=a*(p*h-b*m)-c*(o*h-u*m)+f*(o*b-u*p),e[9]=-(i*(p*h-b*m)-c*(r*h-s*m)+f*(r*b-s*p)),e[10]=i*(o*h-u*m)-a*(r*h-s*m)+f*(r*u-s*o),e[11]=-(i*(o*b-u*p)-a*(r*b-s*p)+c*(r*u-s*o)),e[12]=-(a*(p*y-d*m)-c*(o*y-l*m)+f*(o*d-l*p)),e[13]=i*(p*y-d*m)-c*(r*y-n*m)+f*(r*d-n*p),e[14]=-(i*(o*y-l*m)-a*(r*y-n*m)+f*(r*l-n*o)),e[15]=i*(o*d-l*p)-a*(r*d-n*p)+c*(r*l-n*o),e},determinant:function(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],p=e[10],d=e[11],b=e[12],f=e[13],m=e[14],y=e[15];return(t*a-i*s)*(p*y-d*m)-(t*o-r*s)*(c*y-d*f)+(t*l-n*s)*(c*m-p*f)+(i*o-r*a)*(u*y-d*b)-(i*l-n*a)*(u*m-p*b)+(r*l-n*o)*(u*f-c*b)},multiply:c,translate:p,scale:d,rotate:b,rotateX:f,rotateY:m,rotateZ:y,fromTranslation:h,fromScaling:O,fromRotation:j,fromXRotation:g,fromYRotation:function(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:v,fromRotationTranslation:S,fromQuat2:function(e,t){const i=w,r=-t[0],n=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],p=r*r+n*n+s*s+a*a;return p>0?(i[0]=2*(o*a+c*r+l*s-u*n)/p,i[1]=2*(l*a+c*n+u*r-o*s)/p,i[2]=2*(u*a+c*s+o*n-l*r)/p):(i[0]=2*(o*a+c*r+l*s-u*n),i[1]=2*(l*a+c*n+u*r-o*s),i[2]=2*(u*a+c*s+o*n-l*r)),S(e,t,i),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],o=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(i*i+r*r+n*n),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(l*l+u*u+c*c),e},getRotation:function(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},fromRotationTranslationScale:function(e,t,i,r){const n=t[0],s=t[1],a=t[2],o=t[3],l=n+n,u=s+s,c=a+a,p=n*l,d=n*u,b=n*c,f=s*u,m=s*c,y=a*c,h=o*l,O=o*u,j=o*c,g=r[0],v=r[1],S=r[2];return e[0]=(1-(f+y))*g,e[1]=(d+j)*g,e[2]=(b-O)*g,e[3]=0,e[4]=(d-j)*v,e[5]=(1-(p+y))*v,e[6]=(m+h)*v,e[7]=0,e[8]=(b+O)*S,e[9]=(m-h)*S,e[10]=(1-(p+f))*S,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,i,r,n){const s=t[0],a=t[1],o=t[2],l=t[3],u=s+s,c=a+a,p=o+o,d=s*u,b=s*c,f=s*p,m=a*c,y=a*p,h=o*p,O=l*u,j=l*c,g=l*p,v=r[0],S=r[1],w=r[2],T=n[0],_=n[1],N=n[2],E=(1-(m+h))*v,x=(b+g)*v,I=(f-j)*v,M=(b-g)*S,A=(1-(d+h))*S,P=(y+O)*S,C=(f+j)*w,F=(y-O)*w,R=(1-(d+m))*w;return e[0]=E,e[1]=x,e[2]=I,e[3]=0,e[4]=M,e[5]=A,e[6]=P,e[7]=0,e[8]=C,e[9]=F,e[10]=R,e[11]=0,e[12]=i[0]+T-(E*T+M*_+C*N),e[13]=i[1]+_-(x*T+A*_+F*N),e[14]=i[2]+N-(I*T+P*_+R*N),e[15]=1,e},fromQuat:T,frustum:_,perspective:function(e,t,i,r,n){const s=1/Math.tan(t/2);let a;return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(a=1/(r-n),e[10]=(n+r)*a,e[14]=2*n*r*a):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,i,r){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),u=2/(n+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(n-s)*u*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},ortho:N,lookAt:E,targetTo:function(e,t,i,r){const n=t[0],s=t[1],a=t[2],o=r[0],l=r[1],u=r[2];let c=n-i[0],p=s-i[1],d=a-i[2],b=c*c+p*p+d*d;b>0&&(b=1/Math.sqrt(b),c*=b,p*=b,d*=b);let f=l*d-u*p,m=u*c-o*d,y=o*p-l*c;return b=f*f+m*m+y*y,b>0&&(b=1/Math.sqrt(b),f*=b,m*=b,y*=b),e[0]=f,e[1]=m,e[2]=y,e[3]=0,e[4]=p*y-d*m,e[5]=d*f-c*y,e[6]=c*m-p*f,e[7]=0,e[8]=c,e[9]=p,e[10]=d,e[11]=0,e[12]=n,e[13]=s,e[14]=a,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},subtract:x,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},multiplyScalarAndAdd:function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e},exactEquals:I,equals:M,isOrthoNormal:A,mul:P,sub:C})},150:function(e,t,i){"use strict";i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return m})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return a})),i.d(t,"g",(function(){return l}));var r=i(85),n=i(98);function s(e,t){const i=t&&t.url&&t.url.path;if(e&&i&&(e=Object(n.C)(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=Object(n.E)(e,t.portalItem.itemUrl);c.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return d(e,t&&t.portal)}function a(e,t,i=b.YES){if(!e)return e;!Object(n.u)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=Object(n.C)(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const s=d(i,t.portal);r=Object(n.E)(d(r,t.portal),s,s),r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=function(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Object(n.g)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}(r,t&&t.portal),Object(n.u)(r)&&(r=Object(n.F)(r)),null!=t&&t.resources&&null!=t&&t.portalItem&&!Object(n.u)(r)&&!Object(n.w)(r)&&i===b.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r)}),r}function o(e,t,i){return s(e,i)}function l(e,t,i,r){const n=a(e,r);void 0!==n&&(t[i]=n)}const u=/\/items\/([^\/]+)\/resources\//,c=/^\.\/resources\//;function p(e){const t=Object(r.k)(e)?e.match(u):null;return Object(r.k)(t)?t[1]:null}function d(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=Object(n.l)();return Object(n.s)(r,`${r.scheme}://${i}`)?Object(n.g)(e,t.portalHostname,i):Object(n.g)(e,i,t.portalHostname)}var b,f;(f=b||(b={}))[f.YES=0]="YES",f[f.NO=1]="NO";const m=Object.freeze({__proto__:null,fromJSON:s,toJSON:a,read:o,write:l,itemIdFromResourceUrl:p,get MarkKeep(){return b}})},154:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var r,n=i(79),s=i(90),a=i(86),o=i(81),l=(i(84),i(82),i(83)),u=i(95),c=i(93),p=i(80),d=i(209),b=i(268);const f=new s.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=r=class extends a.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let i;try{i=JSON.parse(t)}catch(r){}return i?i.value:null}readValueType(e,{description:t}){let i;try{i=JSON.parse(t)}catch(r){}return i?f.fromJSON(i.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),Object(n.a)([Object(o.b)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),Object(n.a)([Object(o.b)()],m.prototype,"description",void 0),Object(n.a)([Object(c.a)("description")],m.prototype,"readDescription",null),Object(n.a)([Object(o.b)({types:d.b,json:{read:{reader:d.a},write:!0}})],m.prototype,"domain",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),Object(n.a)([Object(o.b)({type:l.a,json:{write:!0}})],m.prototype,"length",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],m.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),Object(n.a)([Object(u.a)(b.a)],m.prototype,"type",void 0),Object(n.a)([Object(o.b)()],m.prototype,"valueType",void 0),Object(n.a)([Object(c.a)("valueType",["description"])],m.prototype,"readValueType",null),m=r=Object(n.a)([Object(p.a)("esri.layers.support.Field")],m);const y=m},156:function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return y})),i.d(t,"c",(function(){return S})),i.d(t,"d",(function(){return b})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return T})),i.d(t,"g",(function(){return w})),i.d(t,"h",(function(){return O})),i.d(t,"i",(function(){return j})),i.d(t,"j",(function(){return d})),i.d(t,"k",(function(){return h})),i.d(t,"l",(function(){return v})),i.d(t,"m",(function(){return p})),i.d(t,"n",(function(){return f}));var r=i(121),n=i(101),s=i(96),a=i(150),o=i(85),l=(i(91),i(169));var u=i(336),c=i(258);const p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},b={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},f={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a.g}}},m={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},y={value:null,type:u.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function h(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const O={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},j={...O,json:{...O.json,origins:{"web-document":{...O.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>i&&"service"!==i.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(c.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(c.b)(t.drawingInfo.transparency)}}},g={type:r.a,readOnly:!0,get(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;const{datesInUnknownTimezone:i,timeOffset:n,useViewTime:s}=this.layer,a=null==(t=this.view)?void 0:t.timeExtent;let u=this.layer.timeExtent;i&&(u=function(e){if(!e)return e;const{start:t,end:i}=e;return new r.a({start:Object(o.k)(t)?Object(l.b)(t,t.getTimezoneOffset(),"minutes"):t,end:Object(o.k)(i)?Object(l.b)(i,i.getTimezoneOffset(),"minutes"):i})}(u));let c=s?a&&u?a.intersection(u):a||u:u;if(!c||c.isEmpty||c.isAllTime)return c;n&&(c=c.offset(-n.value,n.unit)),i&&(c=function(e){if(!e)return e;const{start:t,end:i}=e;return new r.a({start:Object(o.k)(t)?Object(l.b)(t,-t.getTimezoneOffset(),"minutes"):t,end:Object(o.k)(i)?Object(l.b)(i,-i.getTimezoneOffset(),"minutes"):i})}(c));const p=this._get("timeExtent");return c.equals(p)?p:c}},v={type:n.a,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=n.a.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(i.spatialReference=s.a.fromJSON(t.spatialReference)),i}}}},read:!1}},S={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},w={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},T={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},159:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(79),n=i(80);let s=0;const a=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++})}};return t=Object(r.a)([Object(n.a)("esri.core.Identifiable")],t),t};let o=class extends(a(class{})){};o=Object(r.a)([Object(n.a)("esri.core.Identifiable")],o)},161:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return g}));var r,n=i(79),s=i(99),a=i(125),o=i(90),l=i(86),u=i(89),c=i(85),p=i(81),d=(i(83),i(93)),b=i(80),f=i(92),m=i(96),y=i(97),h=i(154);const O=new o.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let j=r=class extends l.a{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const i=m.a.fromJSON(t.spatialReference),r=[];for(let n=0;n<e.length;n++){const t=e[n],s=a.a.fromJSON(t),o=t.geometry&&t.geometry.spatialReference;Object(c.k)(s.geometry)&&!o&&(s.geometry.spatialReference=i);const l=t.aggregateGeometries,u=s.aggregateGeometries;if(l&&Object(c.k)(u))for(const e in u){const t=u[e],r=l[e],n=null==r?void 0:r.spatialReference;Object(c.k)(t)&&!n&&(t.spatialReference=i)}r.push(s)}return r}writeGeometryType(e,t,i,r){if(e)return void O.write(e,t,i,r);const{features:n}=this;if(n)for(const s of n)if(s&&Object(c.k)(s.geometry))return void O.write(s.geometry.type,t,i,r)}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=Object(y.a)(e);return!i&&t.spatialReference&&(r.spatialReference=m.a.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i)for(const r of i)if(r&&Object(c.k)(r.geometry)&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}clone(){return new r(this.cloneProperties())}cloneProperties(){return Object(u.a)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const t=e&&e[i];r.geometry=t&&t.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,n]}=e,s=this.features,a=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((n-e)/i)));for(let o=0,l=s.length;o<l;o++)a(Object(c.s)(s[o].geometry))||(s.splice(o,1),o--,l--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,n],scale:[s,a]}=i,o=this._getHydrationFunction(e,(e=>e*s+r),(e=>n-e*a));for(const{geometry:l}of t)Object(c.k)(l)&&o(l);return this.transform=null,this}_quantizePoints(e,t,i){let r,n;const s=[];for(let a=0,o=e.length;a<o;a++){const o=e[a];if(a>0){const e=t(o[0]),a=i(o[1]);e===r&&a===n||(s.push([e-r,a-n]),r=e,n=a)}else r=t(o[0]),n=i(o[1]),s.push([r,n])}return s.length>0?s:null}_getQuantizationFunction(e,t,i){return"point"===e?e=>(e.x=t(e.x),e.y=i(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=Object(y.g)(e)?e.rings:e.paths,n=[];for(let s=0,a=r.length;s<a;s++){const e=r[s],a=this._quantizePoints(e,t,i);a&&n.push(a)}return n.length>0?(Object(y.g)(e)?e.rings=n:e.paths=n,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,i);return r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,i){return"point"===e?e=>{e.x=t(e.x),e.y=i(e.y)}:"polyline"===e||"polygon"===e?e=>{const r=Object(y.g)(e)?e.rings:e.paths;let n,s;for(let a=0,o=r.length;a<o;a++){const e=r[a];for(let r=0,a=e.length;r<a;r++){const a=e[r];r>0?(n+=a[0],s+=a[1]):(n=a[0],s=a[1]),a[0]=t(n),a[1]=i(s)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=i(e.ymin),e.xmax=t(e.xmax),e.ymax=i(e.ymax)}:"multipoint"===e?e=>{const r=e.points;let n,s;for(let a=0,o=r.length;a<o;a++){const e=r[a];a>0?(n+=e[0],s+=e[1]):(n=e[0],s=e[1]),e[0]=t(n),e[1]=i(s)}}:void 0}};Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],j.prototype,"displayFieldName",void 0),Object(n.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,"exceededTransferLimit",void 0),Object(n.a)([Object(p.b)({type:[a.a],json:{write:!0}})],j.prototype,"features",void 0),Object(n.a)([Object(d.a)("features")],j.prototype,"readFeatures",null),Object(n.a)([Object(p.b)({type:[h.a],json:{write:!0}})],j.prototype,"fields",void 0),Object(n.a)([Object(p.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:O.read}}})],j.prototype,"geometryType",void 0),Object(n.a)([Object(f.a)("geometryType")],j.prototype,"writeGeometryType",null),Object(n.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,"hasM",void 0),Object(n.a)([Object(p.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,"hasZ",void 0),Object(n.a)([Object(p.b)({types:s.a,json:{write:!0}})],j.prototype,"queryGeometry",void 0),Object(n.a)([Object(d.a)("queryGeometry")],j.prototype,"readQueryGeometry",null),Object(n.a)([Object(p.b)({type:m.a,json:{write:!0}})],j.prototype,"spatialReference",void 0),Object(n.a)([Object(f.a)("spatialReference")],j.prototype,"writeSpatialReference",null),Object(n.a)([Object(p.b)({json:{write:!0}})],j.prototype,"transform",void 0),j=r=Object(n.a)([Object(b.a)("esri.rest.support.FeatureSet")],j),j.prototype.toJSON.isDefaultToJSON=!0;const g=j},169:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a}));i(82);const r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function s(e,t,i){const r=new Date(e.getTime());if(t&&i){const e=n[i],{getter:s,setter:a,multiplier:o}=e;if("months"===i){const e=function(e,t){const i=new Date(e,t+1,1);return i.setDate(0),i.getDate()}(r.getFullYear(),r.getMonth()+t);r.getDate()>e&&r.setDate(e)}r[a](r[s]()+t*o)}return r}function a(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function o(e,t,i){return 0===e?0:e*r[t]/r[i]}},172:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r,n=i(79),s=i(89),a=i(81),o=(i(83),i(95)),l=i(80),u=i(86);i(84),i(82);let c=r=class extends u.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"name",void 0),Object(n.a)([Object(a.b)({type:[String,Number],json:{write:!0}})],c.prototype,"code",void 0),c=r=Object(n.a)([Object(l.a)("esri.layers.support.CodedValue")],c);const p=c;var d,b=i(123);let f=d=class extends b.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new d({codedValues:Object(s.a)(this.codedValues),name:this.name})}};Object(n.a)([Object(a.b)({type:[p],json:{write:!0}})],f.prototype,"codedValues",void 0),Object(n.a)([Object(o.a)({codedValue:"coded-value"})],f.prototype,"type",void 0),f=d=Object(n.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],f);const m=f},174:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=(i(87),i(83),i(84),i(82),i(171),i(95)),a=i(80),o=i(123);let l=r=class extends o.a{constructor(e){super(e),this.type="inherited"}clone(){return new r}};Object(n.a)([Object(s.a)({inherited:"inherited"})],l.prototype,"type",void 0),l=r=Object(n.a)([Object(a.a)("esri.layers.support.InheritedDomain")],l);const u=l},175:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83),i(95)),o=i(80),l=i(123);let u=r=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(n.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],u.prototype,"maxValue",void 0),Object(n.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],u.prototype,"minValue",void 0),Object(n.a)([Object(a.a)({range:"range"})],u.prototype,"type",void 0),u=r=Object(n.a)([Object(o.a)("esri.layers.support.RangeDomain")],u);const c=u},178:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=i(86),a=i(81),o=(i(84),i(82),i(83),i(80));let l=r=class extends s.a{constructor(){super(...arguments),this.title=null}clone(){return new r({title:this.title})}};Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"title",void 0),l=r=Object(n.a)([Object(o.a)("esri.renderers.support.LegendOptions")],l);const u=l},186:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i(79),n=i(86),s=i(81),a=(i(84),i(82),i(83),i(80));let o=class extends n.a{constructor(e){super(e),this.type=null}};Object(r.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=Object(r.a)([Object(a.a)("esri.rest.support.ColorRamp")],o);const l=o},187:function(e,t,i){"use strict";i.d(t,"a",(function(){return he})),i.d(t,"b",(function(){return L})),i.d(t,"c",(function(){return ne})),i.d(t,"d",(function(){return ie})),i.d(t,"e",(function(){return P})),i.d(t,"f",(function(){return V})),i.d(t,"g",(function(){return x})),i.d(t,"h",(function(){return I})),i.d(t,"i",(function(){return ce})),i.d(t,"j",(function(){return M})),i.d(t,"k",(function(){return te})),i.d(t,"l",(function(){return Q})),i.d(t,"m",(function(){return A})),i.d(t,"n",(function(){return k})),i.d(t,"o",(function(){return $})),i.d(t,"p",(function(){return X})),i.d(t,"q",(function(){return z})),i.d(t,"r",(function(){return H})),i.d(t,"s",(function(){return W})),i.d(t,"t",(function(){return K})),i.d(t,"u",(function(){return Z})),i.d(t,"v",(function(){return Y})),i.d(t,"w",(function(){return Se})),i.d(t,"x",(function(){return D}));var r=i(88),n=i(116),s=i(85),a=i(91),o=i(114),l=i(147),u=(i(117),i(109)),c=i(101),p=i(216),d=i(611),b=i(113),f=i(135),m=i(140),y=i(208),h=i(118),O=i(158),j=i(596),g=i(691),v=i(110),S=i(515),w=i(274);let T=null,_=null,N=null,E={};function x(){return!!T&&Object(d.j)()}function I(e){return Object(s.j)(N)&&(N=Promise.all([Object(d.l)(),i.e(6).then(i.bind(null,518)).then((e=>e.g)),i.e(307).then(i.bind(null,492))])),N.then((([,t,{hydratedAdapter:i}])=>{Object(a.t)(e),_=i,T=t.default,T._enableProjection(d.m)}))}function M(e,t,i=null){return Array.isArray(e)?0===e.length?[]:A(_,e,e[0].spatialReference,t,i):A(_,[e],e.spatialReference,t,i)[0]}function A(e,t,i,r,n=null){if(Object(s.j)(i)||Object(s.j)(r))return t;if(L(i,r,n))return t.map((e=>Object(s.s)(function(e,t,i){return e?"x"in e?B(e,t,new b.a,i,0):"xmin"in e?J(e,t,new c.a,i,0):"rings"in e?q(e,t,new f.a,i,0):"paths"in e?G(e,t,new m.a,i,0):"points"in e?U(e,t,new p.a,i,0):null:null}(e,i,r))));if(Object(s.j)(n)){const e=g.a.cacheKey(i,r);void 0!==E[e]?n=E[e]:(n=P(i,r,null),Object(s.j)(n)&&(n=new g.a),E[e]=n)}if(Object(s.j)(T))throw new C;return T._project(e,t,i,r,n)}function P(e,t,i=null){if(Object(s.j)(T))throw new C;if(Object(s.j)(e)||Object(s.j)(t))return null;const r=T._getTransformation(_,e,t,i,null==i?void 0:i.spatialReference);return null!==r?g.a.fromGE(r):null}class C extends r.a{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var F,R;function D(e,t){try{const i=M(e,t);if(null==i)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=Object(w.a)(i.type,e.spatialReference,t);return Object(s.k)(r)&&r(i),i}catch(i){if(!(i instanceof C))throw i;return null}}function L(e,t,i){return!i&&(!!Object(v.d)(e,t)||Object(v.l)(e)&&Object(v.l)(t)&&!!Ce(e,t,Ve))}async function V(e,t,i,r){if(!x())if(Array.isArray(e)){for(const{source:n,dest:s,geographicTransformation:a}of e)if(!L(n,s,a))return I(r)}else if(!L(e,t,i))return I(r)}function k(e,t,i=t.spatialReference,r=0){return!Object(s.j)(i)&&Object(s.k)(B(e,e.spatialReference,t,i,r))}function B(e,t,i,r,n){qe[0]=e.x,qe[1]=e.y;const s=e.z;return qe[2]=void 0!==s?s:n,Q(qe,t,0,qe,r,0,1)?(i.x=qe[0],i.y=qe[1],i.spatialReference=r,void 0===s?(i.z=void 0,i.hasZ=!1):(i.z=qe[2],i.hasZ=!0),void 0===e.m?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function U(e,t,i,r,n){const{points:s,hasZ:a,hasM:o}=e,l=[],u=s.length,c=[];for(const p of s)c.push(p[0],p[1],a?p[2]:n);if(!Q(c,t,0,c,r,0,u))return null;for(let p=0;p<u;++p){const e=3*p,t=c[e],i=c[e+1];a&&o?l.push([t,i,c[e+2],s[p][3]]):a?l.push([t,i,c[e+2]]):o?l.push([t,i,s[p][2]]):l.push([t,i])}return i.points=l,i.spatialReference=r,i.hasZ=a,i.hasM=o,i}function G(e,t,i,r,n){const{paths:s,hasZ:a,hasM:o}=e,l=[];return ee(s,a,o,t,l,r,n)?(i.paths=l,i.spatialReference=r,i.hasZ=a,i.hasM=o,i):null}function z(e,t,i=t.spatialReference,r=0){return Object(s.k)(i)&&Object(s.k)(q(e,e.spatialReference,t,i,r))}function q(e,t,i,r,n){const{rings:s,hasZ:a,hasM:o}=e,l=[];return ee(s,a,o,t,l,r,n)?(i.rings=l,i.spatialReference=r,i.hasZ=a,i.hasM=o,i):null}function J(e,t,i,r,n){const{xmin:s,ymin:a,xmax:o,ymax:l,hasZ:u,hasM:c}=e;return Y(s,a,u?e.zmin:n,t,qe,r)?(i.xmin=qe[0],i.ymin=qe[1],u&&(i.zmin=qe[2]),Y(o,l,u?e.zmax:n,t,qe,r)?(i.xmax=qe[0],i.ymax=qe[1],u&&(i.zmax=qe[2]),c&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null):null}function W(e,t,i){if(Object(s.j)(t)||Object(s.j)(i))return null;const r=new b.a({spatialReference:i});return Q(e,t,0,qe,i,0,1)?(r.x=qe[0],r.y=qe[1],r.z=qe[2],r):null}function H(e,t,i){return Q(e,t,0,qe,i.spatialReference,0,1)?(i.x=qe[0],i.y=qe[1],i.z=qe[2],i):null}function $(e,t,i,r=0){qe[0]=e.x,qe[1]=e.y;const n=e.z;return qe[2]=void 0!==n?n:r,Q(qe,e.spatialReference,0,t,i,0,1)}function Y(e,t,i,r,n,s){return Ue[0]=e,Ue[1]=t,Ue[2]=i,Q(Ue,r,0,n,s,0,1)}function K(e,t,i,r){return!(Object(s.j)(t)||Object(s.j)(r)||e.length<2)&&(2===e.length&&(Ue[0]=e[0],Ue[1]=e[1],Ue[2]=0,e=Ue),Q(e,t,0,i,r,0,1))}function X(e,t){qe[0]=e.x,qe[1]=e.y;const i=e.z;return qe[2]=void 0!==i?i:0,Z(qe,e.spatialReference,t)}function Z(e,t,i){return function(e,t,i){if(Object(s.j)(t))return!1;const r=se(t,De),n=Pe[r][F.WGS84_COMPARABLE_LON_LAT];return!Object(s.j)(n)&&(n(e,0,Ue,0),i!==Ue&&(i[0]=Ue[0],i[1]=Ue[1],i.length>2&&(i[2]=Ue[2])),!0)}(e,t,i)}function Q(e,t,i,r,n,a,o=1){const l=Ce(t,n,Ve);if(Object(s.j)(l))return!1;if(l===ae){if(e===r&&i===a)return!0;const t=i+3*o;for(let n=i,s=a;n<t;n++,s++)r[s]=e[n];return!0}const u=i+3*o;for(let s=i,c=a;s<u;s+=3,c+=3)l(e,s,r,c);return!0}function ee(e,t,i,r,n,s,a=0){const o=new Array;for(const u of e)for(const e of u)o.push(e[0],e[1],t?e[2]:a);if(!Q(o,r,0,o,s,0,o.length/3))return!1;let l=0;n.length=0;for(const u of e){const e=new Array;for(const r of u)t&&i?e.push([o[l++],o[l++],o[l++],r[3]]):t?e.push([o[l++],o[l++],o[l++]]):i?(e.push([o[l++],o[l++],r[2]]),l++):(e.push([o[l++],o[l++]]),l++);n.push(e)}return!0}function te(e,t,i,r){return null!=e&&(Object(v.d)(t,r)?(Object(h.k)(i,e),!0):(Ue[0]=e[0],Ue[1]=e[1],Ue[2]=0,!!Q(Ue,t,0,Ue,r,0,1)&&(i[0]=Ue[0],i[1]=Ue[1],Ue[0]=e[2],Ue[1]=e[3],Ue[2]=0,!!Q(Ue,t,0,Ue,r,0,1)&&(i[2]=Ue[0],i[3]=Ue[1],!0))))}function ie(e,t,i,r){if(Object(s.j)(e)||Object(s.j)(r))return!1;const n=se(e,De),a=se(r,Le);if(n===a&&!re(a)&&(n!==F.UNKNOWN||Object(v.d)(e,r)))return Object(l.f)(i,t),!0;if(re(a)){const e=Pe[n][F.LON_LAT],r=Pe[F.LON_LAT][a];return!Object(s.j)(e)&&!Object(s.j)(r)&&(e(t,0,Ge,0),r(Ge,0,ze,0),ne(ke*Ge[0],ke*Ge[1],i),i[12]=ze[0],i[13]=ze[1],i[14]=ze[2],!0)}if((a===F.WEB_MERCATOR||a===F.PLATE_CARREE)&&(n===F.WGS84||n===F.CGCS2000&&a===F.PLATE_CARREE||n===F.SPHERICAL_ECEF||n===F.WEB_MERCATOR)){const e=Pe[n][F.LON_LAT],r=Pe[F.LON_LAT][a];return!Object(s.j)(e)&&!Object(s.j)(r)&&(e(t,0,Ge,0),r(Ge,0,ze,0),n===F.SPHERICAL_ECEF?function(e,t,i){ne(e,t,i),Object(l.t)(i,i)}(ke*Ge[0],ke*Ge[1],i):Object(l.i)(i),i[12]=ze[0],i[13]=ze[1],i[14]=ze[2],!0)}return!1}function re(e){return e===F.SPHERICAL_ECEF||e===F.SPHERICAL_MARS_PCPF||e===F.SPHERICAL_MOON_PCPF}function ne(e,t,i){const r=Math.sin(e),n=Math.cos(e),s=Math.sin(t),a=Math.cos(t),o=i;return o[0]=-r,o[4]=-s*n,o[8]=a*n,o[12]=0,o[1]=n,o[5]=-s*r,o[9]=a*r,o[13]=0,o[2]=0,o[6]=a,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function se(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Object(o.e)(e,1)),e.wkt===y.a.wkt?t.spatialReferenceId=F.SPHERICAL_ECEF:Object(v.m)(e)?t.spatialReferenceId=F.WGS84:Object(v.p)(e)?t.spatialReferenceId=F.WEB_MERCATOR:Object(v.k)(e)?t.spatialReferenceId=F.PLATE_CARREE:e.wkt===y.d.wkt?t.spatialReferenceId=F.WGS84_ECEF:e.wkid===S.a.CGCS2000?t.spatialReferenceId=F.CGCS2000:e.wkt===y.b.wkt?t.spatialReferenceId=F.SPHERICAL_MARS_PCPF:e.wkt===y.c.wkt?t.spatialReferenceId=F.SPHERICAL_MOON_PCPF:Object(v.i)(e)?t.spatialReferenceId=F.GCSMARS2000:Object(v.j)(e)?t.spatialReferenceId=F.GCSMOON2000:t.spatialReferenceId=F.UNKNOWN)}function ae(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function oe(e,t,i,r){i[r++]=Be*(e[t++]/O.a.radius),i[r++]=Be*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/O.a.radius))),i[r]=e[t]}function le(e,t,i,r){oe(e,t,i,r),ve(i,r,i,r)}function ue(e,t,i,r){oe(e,t,i,r),xe(i,r,i,r)}function ce(e,t,i,r,s){const a=.4999999*Math.PI,o=Object(n.e)(ke*e[t+1],-a,a),l=Math.sin(o);i[r++]=ke*e[t]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[r]=e[t+2]}function pe(e,t,i,r){ce(e,t,i,r,O.a)}(R=F||(F={}))[R.UNKNOWN=0]="UNKNOWN",R[R.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",R[R.WGS84=2]="WGS84",R[R.WEB_MERCATOR=3]="WEB_MERCATOR",R[R.WGS84_ECEF=4]="WGS84_ECEF",R[R.CGCS2000=5]="CGCS2000",R[R.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",R[R.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",R[R.GCSMARS2000=8]="GCSMARS2000",R[R.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",R[R.GCSMOON2000=10]="GCSMOON2000",R[R.LON_LAT=11]="LON_LAT",R[R.PLATE_CARREE=12]="PLATE_CARREE";const de=O.a.radius*Math.PI/180,be=180/(O.a.radius*Math.PI);function fe(e,t,i,r){i[r]=e[t]*de,i[r+1]=e[t+1]*de,i[r+2]=e[t+2]}function me(e,t,i,r){i[r]=e[t]*be,i[r+1]=e[t+1]*be,i[r+2]=e[t+2]}function ye(e,t,i,r){oe(e,t,i,r),fe(i,r,i,r)}function he(e){if(Object(s.j)(e))return!1;const t=se(e,De);return!!Pe[t][F.WGS84_COMPARABLE_LON_LAT]}function Oe(e,t,i,r,n){const s=n+e[t+2],a=ke*e[t+1],o=ke*e[t],l=Math.cos(a);i[r++]=Math.cos(o)*l*s,i[r++]=Math.sin(o)*l*s,i[r]=Math.sin(a)*s}function je(e,t,i,r){Oe(e,t,i,r,O.c.radius)}function ge(e,t,i,r){Oe(e,t,i,r,O.b.radius)}function ve(e,t,i,r){Oe(e,t,i,r,O.a.radius)}function Se(e,t,i,r,s){const a=e[t],o=e[t+1],l=e[t+2],u=Math.sqrt(a*a+o*o+l*l),c=Object(n.c)(l/(0===u?1:u)),p=Math.atan2(o,a);i[r++]=Be*p,i[r++]=Be*c,i[r]=u-s}function we(e,t,i,r){Se(e,t,i,r,O.c.radius)}function Te(e,t,i,r){Se(e,t,i,r,O.b.radius)}function _e(e,t,i,r){Se(e,t,i,r,O.a.radius)}function Ne(e,t,i,r){_e(e,t,i,r),pe(i,r,i,r)}function Ee(e,t,i,r){_e(e,t,i,r),xe(i,r,i,r)}function xe(e,t,i,r){!function(e,t,i,r,n){const s=ke*e[t],a=ke*e[t+1],o=e[t+2],l=Math.sin(a),u=Math.cos(a),c=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);i[r++]=(c+o)*u*Math.cos(s),i[r++]=(c+o)*u*Math.sin(s),i[r++]=(c*(1-n.eccentricitySquared)+o)*l}(e,t,i,r,O.a)}function Ie(e,t,i,r){const n=j.b,s=e[t],a=e[t+1],o=e[t+2];let l,u,c,p,d,b,f,m,y,h,g,v,S,w,T,_,N,E,x,I,M;l=Math.abs(o),u=s*s+a*a,c=Math.sqrt(u),p=u+o*o,d=Math.sqrt(p),I=Math.atan2(a,s),b=o*o/p,f=u/p,w=n.a2/d,T=n.a3-n.a4/d,f>.3?(m=l/d*(1+f*(n.a1+w+b*T)/d),x=Math.asin(m),h=m*m,y=Math.sqrt(1-h)):(y=c/d*(1-b*(n.a5-w-f*T)/d),x=Math.acos(y),h=1-y*y,m=Math.sqrt(h)),g=1-O.a.eccentricitySquared*h,v=O.a.radius/Math.sqrt(g),S=n.a6*v,w=c-v*y,T=l-S*m,N=y*w+m*T,_=y*T-m*w,E=_/(S/g+N),x+=E,M=N+_*E/2,o<0&&(x=-x),i[r++]=Be*I,i[r++]=Be*x,i[r]=M}function Me(e,t,i,r){Ie(e,t,i,r),ve(i,r,i,r)}function Ae(e,t,i,r){Ie(e,t,i,r),pe(i,r,i,r)}const Pe={[F.WGS84]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:ae,[F.SPHERICAL_ECEF]:ve,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:pe,[F.PLATE_CARREE]:fe,[F.WGS84]:ae,[F.WGS84_ECEF]:xe},[F.CGCS2000]:{[F.CGCS2000]:ae,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:ae,[F.SPHERICAL_ECEF]:ve,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:fe,[F.WGS84]:null,[F.WGS84_ECEF]:xe},[F.GCSMARS2000]:{[F.CGCS2000]:null,[F.GCSMARS2000]:ae,[F.GCSMOON2000]:null,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:ge,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.GCSMOON2000]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:ae,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:je,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.WEB_MERCATOR]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:oe,[F.WGS84_COMPARABLE_LON_LAT]:oe,[F.SPHERICAL_ECEF]:le,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:ae,[F.PLATE_CARREE]:ye,[F.WGS84]:oe,[F.WGS84_ECEF]:ue},[F.WGS84_ECEF]:{[F.CGCS2000]:Ie,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:Ie,[F.WGS84_COMPARABLE_LON_LAT]:Ie,[F.SPHERICAL_ECEF]:Me,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:Ae,[F.PLATE_CARREE]:function(e,t,i,r){Ie(e,t,i,r),fe(i,r,i,r)},[F.WGS84]:Ie,[F.WGS84_ECEF]:ae},[F.SPHERICAL_ECEF]:{[F.CGCS2000]:_e,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:_e,[F.WGS84_COMPARABLE_LON_LAT]:_e,[F.SPHERICAL_ECEF]:ae,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:Ne,[F.PLATE_CARREE]:function(e,t,i,r){_e(e,t,i,r),fe(i,r,i,r)},[F.WGS84]:_e,[F.WGS84_ECEF]:Ee},[F.SPHERICAL_MARS_PCPF]:{[F.CGCS2000]:null,[F.GCSMARS2000]:Te,[F.GCSMOON2000]:null,[F.LON_LAT]:Te,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:ae,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.SPHERICAL_MOON_PCPF]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:we,[F.LON_LAT]:we,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:ae,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.UNKNOWN]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:null,[F.WGS84_COMPARABLE_LON_LAT]:null,[F.SPHERICAL_ECEF]:null,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:ae,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:null,[F.WGS84]:null,[F.WGS84_ECEF]:null},[F.LON_LAT]:{[F.CGCS2000]:ae,[F.GCSMARS2000]:ae,[F.GCSMOON2000]:ae,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:ae,[F.SPHERICAL_ECEF]:ve,[F.SPHERICAL_MARS_PCPF]:ge,[F.SPHERICAL_MOON_PCPF]:je,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:pe,[F.PLATE_CARREE]:fe,[F.WGS84]:ae,[F.WGS84_ECEF]:xe},[F.WGS84_COMPARABLE_LON_LAT]:{[F.CGCS2000]:null,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:ae,[F.WGS84_COMPARABLE_LON_LAT]:ae,[F.SPHERICAL_ECEF]:ve,[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:null,[F.PLATE_CARREE]:fe,[F.WGS84]:ae,[F.WGS84_ECEF]:xe},[F.PLATE_CARREE]:{[F.CGCS2000]:me,[F.GCSMARS2000]:null,[F.GCSMOON2000]:null,[F.LON_LAT]:me,[F.WGS84_COMPARABLE_LON_LAT]:me,[F.SPHERICAL_ECEF]:function(e,t,i,r){me(e,t,i,r),ve(i,r,i,r)},[F.SPHERICAL_MARS_PCPF]:null,[F.SPHERICAL_MOON_PCPF]:null,[F.UNKNOWN]:null,[F.WEB_MERCATOR]:function(e,t,i,r){me(e,t,i,r),pe(i,r,i,r)},[F.PLATE_CARREE]:ae,[F.WGS84]:me,[F.WGS84_ECEF]:function(e,t,i,r){me(e,t,i,r),xe(i,r,i,r)}}};function Ce(e,t,i=Re()){return Object(s.j)(e)||Object(s.j)(t)?null:Fe(e,t,i).projector}function Fe(e,t,i){if(Object(s.j)(e)||Object(s.j)(t)||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const r=se(e,i.source),n=se(t,i.dest);return r===F.UNKNOWN&&n===F.UNKNOWN?Object(v.d)(e,t)?i.projector=ae:i.projector=null:i.projector=Pe[r][n],i}function Re(){return{source:{spatialReference:null,spatialReferenceId:F.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:F.UNKNOWN,metersPerUnit:1},projector:ae}}const De={spatialReference:null,spatialReferenceId:F.UNKNOWN},Le={spatialReference:null,spatialReferenceId:F.UNKNOWN},Ve=Re(),ke=(Re(),Object(n.g)(1)),Be=Object(n.n)(1),Ue=Object(u.f)(),Ge=Object(u.f)(),ze=Object(u.f)(),qe=Object(u.f)();Object(u.f)()},196:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var r,n=i(79),s=i(88),a=i(90),o=i(87),l=i(102),u=i(81),c=(i(84),i(82),i(104)),p=i(93),d=i(80),b=i(92),f=i(141),m=i(295),y=i(326),h=i(213),O=i(245);const j=o.a.getLogger("esri.renderers.visualVariables.SizeVariable"),g=new a.a({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),v=new a.a({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function S(e){if(null!=e)return"string"==typeof e||"number"==typeof e?Object(l.j)(e):"size"===e.type?Object(h.e)(e)?e:(delete(e={...e}).type,new T(e)):void 0}function w(e,t,i){if("object"!=typeof e)return e;const r=new T;return r.read(e,i),r}let T=r=class extends f.a{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:O.viewScaleRE.test(this.valueExpression)}}set expression(e){j.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){Object(h.e)(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Object(h.e)(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Object(h.c)(this)}set maxDataValue(e){e&&this.stops&&(j.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(j.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return S(e)}readMaxSize(e,t,i){return w(e,0,i)}set minDataValue(e){e&&this.stops&&(j.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(j.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return S(e)}readMinSize(e,t,i){return w(e,0,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(j.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return Object(h.d)(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if("$view.scale"===e){if(r&&r.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`;r.messages.push(new s.a("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?v.read(e):null}clone(){return new r({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(h.e)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(h.e)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===h.b.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===h.b.Stops){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};Object(n.a)([Object(u.b)({readOnly:!0})],T.prototype,"cache",null),Object(n.a)([Object(u.b)({type:g.apiValues,json:{type:g.jsonValues,origins:{"web-map":{read:!1}},read:g.read,write:g.write}})],T.prototype,"axis",void 0),Object(n.a)([Object(u.b)({type:String,value:null,json:{read:!1}})],T.prototype,"expression",null),Object(n.a)([Object(u.b)()],T.prototype,"index",null),Object(n.a)([Object(u.b)({type:String,readOnly:!0})],T.prototype,"inputValueType",null),Object(n.a)([Object(u.b)({type:y.a,json:{write:!0}})],T.prototype,"legendOptions",void 0),Object(n.a)([Object(u.b)({type:Number,value:null,json:{write:!0}})],T.prototype,"maxDataValue",null),Object(n.a)([Object(u.b)({type:Number,value:null,json:{write:!0}})],T.prototype,"maxSize",null),Object(n.a)([Object(c.a)("maxSize")],T.prototype,"castMaxSize",null),Object(n.a)([Object(p.a)("maxSize")],T.prototype,"readMaxSize",null),Object(n.a)([Object(u.b)({type:Number,value:null,json:{write:!0}})],T.prototype,"minDataValue",null),Object(n.a)([Object(u.b)({type:Number,value:null,json:{write:!0}})],T.prototype,"minSize",null),Object(n.a)([Object(c.a)("minSize")],T.prototype,"castMinSize",null),Object(n.a)([Object(p.a)("minSize")],T.prototype,"readMinSize",null),Object(n.a)([Object(u.b)({type:String,json:{write:!0}})],T.prototype,"normalizationField",void 0),Object(n.a)([Object(u.b)({readOnly:!0})],T.prototype,"arcadeRequired",null),Object(n.a)([Object(u.b)({type:String})],T.prototype,"scaleBy",void 0),Object(n.a)([Object(u.b)({type:[m.a],value:null,json:{write:!0}})],T.prototype,"stops",null),Object(n.a)([Object(u.b)({type:["outline"],json:{write:!0}})],T.prototype,"target",void 0),Object(n.a)([Object(u.b)({type:String,readOnly:!0})],T.prototype,"transformationType",null),Object(n.a)([Object(u.b)({type:["size"],json:{type:["sizeInfo"]}})],T.prototype,"type",void 0),Object(n.a)([Object(u.b)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],T.prototype,"useSymbolValue",void 0),Object(n.a)([Object(u.b)({type:String,json:{write:!0}})],T.prototype,"valueExpression",void 0),Object(n.a)([Object(p.a)("valueExpression",["valueExpression","expression"])],T.prototype,"readValueExpression",null),Object(n.a)([Object(b.a)("web-scene","valueExpression")],T.prototype,"writeValueExpressionWebScene",null),Object(n.a)([Object(u.b)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],T.prototype,"valueRepresentation",void 0),Object(n.a)([Object(u.b)({type:v.apiValues,json:{write:v.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],T.prototype,"valueUnit",void 0),Object(n.a)([Object(p.a)("valueUnit")],T.prototype,"readValueUnit",null),T=r=Object(n.a)([Object(d.a)("esri.renderers.visualVariables.SizeVariable")],T);const _=T},201:function(e,t,i){"use strict";i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return y})),i.d(t,"d",(function(){return v})),i.d(t,"e",(function(){return g})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return b})),i.d(t,"h",(function(){return h})),i.d(t,"i",(function(){return O})),i.d(t,"j",(function(){return m})),i.d(t,"k",(function(){return j}));var r=i(85),n=i(98),s=i(150);const a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},o=Object.values(a),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function p(e){return!!l.test(e)}function d(e){const t=Object(n.M)(e),i=t.path.match(l)||t.path.match(u);if(!i)return null;const[,r,s,o,c]=i,p=s.indexOf("/");return{title:f(-1!==p?s.slice(p+1):s),serverType:a[o.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:r}}}function b(e){const t=Object(n.M)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function f(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){const i=[];if(e){const t=d(e);Object(r.k)(t)&&t.title&&i.push(t.title)}if(t){const e=f(t);i.push(e)}if(2===i.length){if(-1!==i[0].toLowerCase().indexOf(i[1].toLowerCase()))return i[0];if(-1!==i[1].toLowerCase().indexOf(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function y(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),i=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&i}function h(e,t){return e?Object(n.K)(Object(n.J)(e,t)):e}function O(e){let{url:t}=e;if(!t)return{url:t};t=Object(n.J)(t,e.logger);const i=Object(n.M)(t),s=d(i.path);let a;if(Object(r.k)(s))null!=s.sublayer&&null==e.layer.layerId&&(a=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const e=b(i.path);Object(r.k)(e)&&(t=e.serviceUrl,a=e.sublayerId)}return{url:Object(n.K)(t),layerId:a}}function j(e,t,i,r,a){Object(s.g)(t,r,"url",a),r.url&&null!=e.layerId&&(r.url=Object(n.B)(r.url,i,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),i=-1!==t.indexOf("/services/"),r=-1!==t.indexOf("/mapserver/wmsserver"),n=-1!==t.indexOf("/imageserver/wmsserver"),s=-1!==t.indexOf("/wmsserver");return i&&(r||n||s)}function v(e){if(!e)return!1;const t=new n.a(Object(n.C)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},202:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,n=i(79),s=i(100),a=i(159),o=i(81),l=(i(84),i(82),i(83),i(80));let u=r=class extends(Object(a.a)(s.a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(n.a)([Object(o.b)()],u.prototype,"active",void 0),Object(n.a)([Object(o.b)()],u.prototype,"className",void 0),Object(n.a)([Object(o.b)()],u.prototype,"disabled",void 0),Object(n.a)([Object(o.b)()],u.prototype,"id",void 0),Object(n.a)([Object(o.b)()],u.prototype,"indicator",void 0),Object(n.a)([Object(o.b)()],u.prototype,"title",void 0),Object(n.a)([Object(o.b)()],u.prototype,"type",void 0),Object(n.a)([Object(o.b)()],u.prototype,"visible",void 0),u=r=Object(n.a)([Object(l.a)("esri.support.actions.ActionBase")],u);const c=u},204:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},207:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var r=i(79),n=i(153),s=(i(99),i(103)),a=i(88),o=i(138),l=i(159),u=i(192),c=i(87),p=i(91),d=i(98),b=i(81),f=(i(84),i(82),i(83),i(80)),m=i(101),y=i(96);let h=0;const O=c.a.getLogger("esri.layers.Layer");let j=class extends(o.a.EventedMixin(Object(l.a)(u.a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new m.a(-180,-90,180,90,y.a.WGS84),this.id=Date.now().toString(16)+"-layer-"+h++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=y.a.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e,r=await i.e(207).then(i.bind(null,442));try{return await r.fromUrl(t)}catch(n){throw O.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",n),n}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},r=await i.e(150).then(i.bind(null,417));try{return await r.fromItem(t)}catch(s){const e=t&&t.portalItem,i=e&&e.id||"unset",r=e&&e.portal&&e.portal.url||n.a.portalUrl;throw O.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+i+"')",s),s}}initialize(){this.when().catch((e=>{var t,i;Object(p.l)(e)||c.a.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(t=this.title)?t:"no title"}', id: '${null!=(i=this.id)?i:"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const e=this.url;return e?Object(d.M)(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Object(s.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new a.a("layer:no-attribution-data","Layer does not have attribution data")}};Object(r.a)([Object(b.b)({type:String})],j.prototype,"attributionDataUrl",void 0),Object(r.a)([Object(b.b)({type:m.a})],j.prototype,"fullExtent",void 0),Object(r.a)([Object(b.b)({readOnly:!0})],j.prototype,"hasAttributionData",null),Object(r.a)([Object(b.b)({type:String,clonable:!1})],j.prototype,"id",void 0),Object(r.a)([Object(b.b)({type:Boolean,nonNullable:!0})],j.prototype,"legendEnabled",void 0),Object(r.a)([Object(b.b)({type:["show","hide","hide-children"]})],j.prototype,"listMode",void 0),Object(r.a)([Object(b.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],j.prototype,"opacity",void 0),Object(r.a)([Object(b.b)({clonable:!1})],j.prototype,"parent",void 0),Object(r.a)([Object(b.b)({readOnly:!0})],j.prototype,"parsedUrl",null),Object(r.a)([Object(b.b)({type:Boolean})],j.prototype,"popupEnabled",void 0),Object(r.a)([Object(b.b)({type:Boolean})],j.prototype,"attributionVisible",void 0),Object(r.a)([Object(b.b)({type:y.a})],j.prototype,"spatialReference",void 0),Object(r.a)([Object(b.b)({type:String})],j.prototype,"title",void 0),Object(r.a)([Object(b.b)({type:String,readOnly:!0,json:{read:!1}})],j.prototype,"type",void 0),Object(r.a)([Object(b.b)()],j.prototype,"url",void 0),Object(r.a)([Object(b.b)({type:Boolean,nonNullable:!0})],j.prototype,"visible",void 0),j=Object(r.a)([Object(f.a)("esri.layers.Layer")],j);const g=j},208:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"f",(function(){return b})),i.d(t,"g",(function(){return p}));var r=i(96),n=i(158),s=i(110);function a(e){return new r.a({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const o=a(n.a),l=a(n.b),u=a(n.c),c=new r.a({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${n.a.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function p(e){return e&&(Object(s.i)(e)||e===l)?l:e&&(Object(s.j)(e)||e===u)?u:o}function d(e){return e&&(Object(s.i)(e)||e===l)?n.b:e&&(Object(s.j)(e)||e===u)?n.c:n.a}function b(e){return Object(s.n)(e)?n.b:Object(s.o)(e)?n.c:n.a}},209:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return o}));i(82);var r=i(172),n=i(123),s=i(174),a=i(175);const o={key:"type",base:n.a,typeMap:{range:a.a,"coded-value":r.a,inherited:s.a}};function l(e){if(!e||!e.type)return null;switch(e.type){case"range":return a.a.fromJSON(e);case"codedValue":return r.a.fromJSON(e);case"inherited":return s.a.fromJSON(e)}return null}},213:function(e,t,i){"use strict";var r,n;function s(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function o(e){return e.valueExpression?r.Expression:e.field&&"string"==typeof e.field?r.Field:r.Unknown}function l(e,t){const i=t||o(e),s=e.valueUnit||"unknown";return i===r.Unknown?n.Constant:e.stops?n.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?n.ClampedLinear:"unknown"===s?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?n.Proportional:n.Additive:n.Identity:n.RealWorldSize}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return a})),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(r||(r={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(n||(n={}))},217:function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var r,n=i(79),s=i(115),a=i(90),o=i(89),l=i(87),u=i(85),c=i(81),p=i(104),d=i(95),b=i(93),f=i(80),m=i(92),y=i(83),h=i(106),O=i(120),j=i(143),g=i(313),v=i(142),S=i(178),w=i(130);const T=l.a.getLogger("esri.renderers.ClassBreaksRenderer"),_="percent-of-total",N="field",E=new a.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:_,esriNormalizeByField:N}),x=Object(y.m)(g.a);let I=r=class extends(Object(j.a)(O.a)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map((e=>{const t=new g.a;return t.read(e,i),null==t.minValue&&(t.minValue=r),null==t.maxValue&&(t.maxValue=t.minValue),r=t.maxValue,t}))}writeClassBreakInfos(e,t,i,r){const n=e.map((e=>e.write({},r)));this._areClassBreaksConsecutive()&&n.forEach((e=>delete e.classMinValue)),t[i]=n}castField(e){return null==e?e:"function"==typeof e?(T.error(".field: field must be a string value"),null):Object(y.l)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=null!=this.normalizationTotal;return t||i?(e=(t?N:i&&_)||null,t&&i&&T.warn("warning: both normalizationField and normalizationTotal are set!")):e!==N&&e!==_||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r="number"==typeof e?new g.a({minValue:e,maxValue:t,symbol:Object(s.a)(i)}):x(Object(o.a)(e)),this.classBreakInfos.push(r),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade))&&T.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade))&&(i={...i,arcade:await Object(w.e)()});const r=this.getBreakIndex(e,i);return-1!==r?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade)))return void T.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade))){const e=await Object(w.e)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new r({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(o.a)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(o.a)(this.visualVariables),legendOptions:Object(o.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(e,t))),Object(h.c)(e,t,this.valueExpression)];Object(h.f)(e,t,this.field),Object(h.f)(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:s}=Object(u.t)(t,{});let a=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const o=Object(u.s)(s).arcadeUtils;if(!a){const e=o.createSyntaxTree(this.valueExpression);a=o.createFunction(e),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=this.valueExpression;const l=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:i,scale:r,spatialReference:n})));return this._getBreakIndexfromInfos(l)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let n=parseFloat(i[t]);if(r){const e=this.normalizationTotal,t=parseFloat(i[this.normalizationField]);if("log"===r)n=Math.log(n)*Math.LOG10E;else if(r!==_||isNaN(e)){if(r===N&&!isNaN(t)){if(isNaN(n)||isNaN(t))return-1;n/=t}}else n=n/e*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};Object(n.a)([Object(c.b)(v.a)],I.prototype,"backgroundFillSymbol",void 0),Object(n.a)([Object(c.b)({type:[g.a]})],I.prototype,"classBreakInfos",void 0),Object(n.a)([Object(b.a)("classBreakInfos")],I.prototype,"readClassBreakInfos",null),Object(n.a)([Object(m.a)("classBreakInfos")],I.prototype,"writeClassBreakInfos",null),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],I.prototype,"defaultLabel",void 0),Object(n.a)([Object(c.b)(v.b)],I.prototype,"defaultSymbol",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],I.prototype,"field",void 0),Object(n.a)([Object(p.a)("field")],I.prototype,"castField",null),Object(n.a)([Object(c.b)({type:Boolean})],I.prototype,"isMaxInclusive",void 0),Object(n.a)([Object(c.b)({type:S.a,json:{write:!0}})],I.prototype,"legendOptions",void 0),Object(n.a)([Object(c.b)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],I.prototype,"minValue",null),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],I.prototype,"normalizationField",void 0),Object(n.a)([Object(c.b)({type:Number,cast:e=>Object(y.i)(e),json:{write:!0}})],I.prototype,"normalizationTotal",void 0),Object(n.a)([Object(c.b)({type:E.apiValues,value:null,json:{type:E.jsonValues,read:E.read,write:E.write}})],I.prototype,"normalizationType",null),Object(n.a)([Object(d.a)({classBreaks:"class-breaks"})],I.prototype,"type",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0),I=r=Object(n.a)([Object(f.a)("esri.renderers.ClassBreaksRenderer")],I);const M=I},218:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n}));var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,i(204))},222:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n}));i(82);function r(e){}function n(e){return()=>e}},223:function(e,t,i){"use strict";i.d(t,"a",(function(){return F})),i.d(t,"b",(function(){return R})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return h})),i.d(t,"e",(function(){return g})),i.d(t,"f",(function(){return s})),i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return x})),i.d(t,"i",(function(){return C})),i.d(t,"j",(function(){return o})),i.d(t,"k",(function(){return c})),i.d(t,"l",(function(){return p})),i.d(t,"m",(function(){return l})),i.d(t,"n",(function(){return u})),i.d(t,"o",(function(){return M})),i.d(t,"p",(function(){return a})),i.d(t,"q",(function(){return T})),i.d(t,"r",(function(){return v})),i.d(t,"s",(function(){return P})),i.d(t,"t",(function(){return j})),i.d(t,"u",(function(){return S})),i.d(t,"v",(function(){return w})),i.d(t,"w",(function(){return E})),i.d(t,"x",(function(){return N})),i.d(t,"y",(function(){return _})),i.d(t,"z",(function(){return O})),i.d(t,"A",(function(){return I}));var r=i(85),n=(i(101),i(118));function s(e=R){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,i,r,n,a,o=s()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=n,o[5]=a,o}function o(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function l(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function c(e,t,i=0,r=t.length/3){let n=e[0],s=e[1],a=e[2],o=e[3],l=e[4],u=e[5];for(let c=0;c<r;c++)n=Math.min(n,t[i+3*c]),s=Math.min(s,t[i+3*c+1]),a=Math.min(a,t[i+3*c+2]),o=Math.max(o,t[i+3*c]),l=Math.max(l,t[i+3*c+1]),u=Math.max(u,t[i+3*c+2]);e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=u}function p(e,t,i){const r=t.length;let n=e[0],s=e[1],a=e[2],o=e[3],l=e[4],u=e[5];if(i)for(let c=0;c<r;c++){const e=t[c];n=Math.min(n,e[0]),s=Math.min(s,e[1]),a=Math.min(a,e[2]),o=Math.max(o,e[0]),l=Math.max(l,e[1]),u=Math.max(u,e[2])}else for(let c=0;c<r;c++){const e=t[c];n=Math.min(n,e[0]),s=Math.min(s,e[1]),o=Math.max(o,e[0]),l=Math.max(l,e[1])}e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=u}function d(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function b(e){return e[0]>=e[3]?0:e[3]-e[0]}function f(e){return e[1]>=e[4]?0:e[4]-e[1]}function m(e){return e[2]>=e[5]?0:e[5]-e[2]}function y(e){const t=b(e),i=m(e),r=f(e);return Math.sqrt(t*t+i*i+r*r)}function h(e,t=[0,0,0]){return t[0]=e[0]+b(e)/2,t[1]=e[1]+f(e)/2,t[2]=e[2]+m(e)/2,t}function O(e,t=[0,0,0]){return t[0]=b(e),t[1]=f(e),t[2]=m(e),t}function j(e){return Math.max(b(e),m(e),f(e))}function g(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function v(e,t){return!!Object(r.j)(t)||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function S(e,t,i,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+r,n[3]=e[3]+t,n[4]=e[4]+i,n[5]=e[5]+r,n}function w(e,t,i=e){const r=e[0]+b(e)/2,n=e[1]+f(e)/2,s=e[2]+m(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=n+(e[1]-n)*t,i[2]=s+(e[2]-s)*t,i[3]=r+(e[3]-r)*t,i[4]=n+(e[4]-n)*t,i[5]=s+(e[5]-s)*t,i}function T(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function _(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function N(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function x(e){return e?E(e,F):s(F)}function I(e,t){return t||(t=Object(n.l)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function A(e){return 6===e.length}function P(e){return 0===b(e)&&0===f(e)&&0===m(e)}function C(e,t,i){if(Object(r.j)(e)||Object(r.j)(t))return e===t;if(!A(e)||!A(t))return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const F=[1/0,1/0,1/0,-1/0,-1/0,-1/0],R=[0,0,0,0,0,0];s()},225:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var r,n=i(79),s=i(115),a=i(88),o=i(89),l=i(87),u=i(85),c=i(132),p=i(81),d=i(104),b=i(95),f=i(93),m=i(80),y=i(92),h=i(269),O=i(83),j=i(106),g=i(181),v=i(120),S=i(143),w=i(142),T=i(178),_=i(327),N=i(130),E=i(150),x=i(275),I=i(224);const M=l.a.getLogger("esri.renderers.UniqueValueRenderer"),A=Object(O.m)(_.a);let P=r=class extends(Object(S.a)(v.a)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let i=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<t.length;n++){const s=e.find((e=>e.value===t[n].value));s?Object(h.a)(s,t[n])?(r.changed.push({type:"complete",oldValue:s,newValue:t[n]}),i=!0):r.unchanged.push({oldValue:s,newValue:t[n]}):(r.added.push(t[n]),i=!0)}for(let n=0;n<e.length;n++)t.find((t=>t.value===e[n].value))||(r.removed.push(e[n]),i=!0);return i?r:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return null==e||"function"==typeof e?e:Object(O.l)(e)}writeField(e,t,i,r){"string"==typeof e?t[i]=e:r&&r.messages?r.messages.push(new a.a("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):M.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,i){return i.portal||g.a.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=Object(E.b)(t.styleUrl,i);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Object(E.f)(e.styleUrl,r))}set uniqueValueInfos(e){this.styleOrigin?M.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void M.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i="object"==typeof e?A(e):new _.a({value:e,symbol:Object(s.a)(t)}),this.uniqueValueInfos.push(i),this._valueInfoMap[i.value]=i}removeUniqueValueInfo(e){if(this.styleOrigin)M.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade))&&(i={...i,arcade:await Object(N.e)()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(Object(u.j)(t)||Object(u.j)(t.arcade)))return void M.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(Object(u.j)(i)||Object(u.j)(i.arcade))){const e=await Object(N.e)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const r=this._getUniqueValueInfo(e,i);return r&&r.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new r({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(o.a)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(o.a)(this.visualVariables),legendOptions:Object(o.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(o.a)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=Object(o.a)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(Object(o.a)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(e,t))),Object(j.c)(e,t,this.valueExpression)];Object(j.f)(e,t,this.field),Object(j.f)(e,t,this.field2),Object(j.f)(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return Object(x.b)(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((i=>{const r=new I.a({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const n=new _.a({value:i.name,symbol:r});t.push(n),this._valueInfoMap[i.name]=n})),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach((e=>this._valueInfoMap[e.value+""]=e))}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:s}=Object(u.t)(t,{});let a=this._cache.compiledFunc;const o=Object(u.s)(s).arcadeUtils;if(!a){const e=o.createSyntaxTree(this.valueExpression);a=o.createFunction(e),this._cache.compiledFunc=a}const l=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:i,scale:r,spatialReference:n})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if("function"!=typeof t&&this.field2){const e=this.field2,n=this.field3,s=[];t&&s.push(i[t]),e&&s.push(i[e]),n&&s.push(i[n]),r=s.join(this.fieldDelimiter||"")}else"function"==typeof t?r=t(e):t&&(r=i[t]);return this._valueInfoMap[r+""]}static fromPortalStyle(e,t){const i=new r(t&&t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",t&&t.portal||g.a.getDefault());const n=i.populateFromStyle();return n.catch((t=>{M.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),n}static fromStyleUrl(e,t){const i=new r(t&&t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const n=i.populateFromStyle();return n.catch((t=>{M.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),n}};Object(n.a)([Object(p.b)({readOnly:!0})],P.prototype,"_cache",null),Object(n.a)([Object(b.a)({uniqueValue:"unique-value"})],P.prototype,"type",void 0),Object(n.a)([Object(p.b)(w.a)],P.prototype,"backgroundFillSymbol",void 0),Object(n.a)([Object(p.b)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],P.prototype,"field",void 0),Object(n.a)([Object(d.a)("field")],P.prototype,"castField",null),Object(n.a)([Object(y.a)("field")],P.prototype,"writeField",null),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"field2",void 0),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"field3",void 0),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"valueExpression",void 0),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"valueExpressionTitle",void 0),Object(n.a)([Object(p.b)({type:T.a,json:{write:!0}})],P.prototype,"legendOptions",void 0),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"defaultLabel",void 0),Object(n.a)([Object(p.b)(Object(c.a)({...w.b},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],P.prototype,"defaultSymbol",null),Object(n.a)([Object(p.b)({type:String,json:{write:!0}})],P.prototype,"fieldDelimiter",void 0),Object(n.a)([Object(p.b)({type:g.a,readOnly:!0})],P.prototype,"portal",void 0),Object(n.a)([Object(f.a)("portal",["styleName"])],P.prototype,"readPortal",null),Object(n.a)([Object(p.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],P.prototype,"styleOrigin",void 0),Object(n.a)([Object(f.a)("styleOrigin",["styleName","styleUrl"])],P.prototype,"readStyleOrigin",null),Object(n.a)([Object(y.a)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],P.prototype,"writeStyleOrigin",null),Object(n.a)([Object(p.b)({type:[_.a],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],P.prototype,"uniqueValueInfos",null),P=r=Object(n.a)([Object(m.a)("esri.renderers.UniqueValueRenderer")],P);const C=P},228:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return c}));var r=i(115),n=i(88),s=i(85),a=i(439),o=i(306),l=i(224);function u(e,t,i,r){const n=p(e,{},{context:r,isLabelSymbol:!1});Object(s.k)(n)&&(t[i]=n)}function c(e,t,i,r){const n=p(e,{},{context:r,isLabelSymbol:!0});Object(s.k)(n)&&(t[i]=n)}function p(e,t,i){if(Object(s.j)(e))return null;const{context:r,isLabelSymbol:u}=i;if(r&&"web-scene"===r.origin&&!(e instanceof a.a)&&!(e instanceof l.a)){const i=Object(o.a)(e,{retainCIM:!0,hasLabelingContext:u});return Object(s.k)(i.symbol)?i.symbol.write(t,r):(r.messages&&r.messages.push(new n.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:i.error})),null)}return r&&"web-map"===r.origin&&"web-style"===e.type?(r.messages&&r.messages.push(new n.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:r})),null):e.write(t,r)}function d(e,t){return Object(r.d)(e,null,t)}},229:function(e,t,i){"use strict";i.d(t,"a",(function(){return S})),i.d(t,"b",(function(){return w})),i.d(t,"c",(function(){return j}));var r=i(153),n=i(88),s=i(87),a=i(85),o=i(135),l=i(140),u=i(247),c=i(110),p=i(182),d=(i(99),i(103)),b=i(98),f=i(97);async function m(e,t,i){const r="string"==typeof e?Object(b.M)(e):e,n=t[0].spatialReference,s=Object(f.c)(t[0]),a={...i,query:{...r.query,f:"json",sr:n.wkid?n.wkid:JSON.stringify(n),geometries:JSON.stringify((o=t,{geometryType:Object(f.c)(o[0]),geometries:o.map((e=>e.toJSON()))}))}};var o;return function(e,t,i){const r=Object(f.b)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=i,t}))}((await Object(d.default)(r.path+"/simplify",a)).data,s,n)}const y=s.a.getLogger("esri.geometry.support.normalizeUtils");function h(e){return"polygon"===e[0].type}function O(e){return"polyline"===e[0].type}function j(e,t){if(!(e instanceof l.a||e instanceof o.a)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new n.a(e)}const i=Object(u.b)(e),r=[];for(const n of i){const e=[];r.push(e),e.push([n[0][0],n[0][1]]);for(let i=0;i<n.length-1;i++){const r=n[i][0],s=n[i][1],a=n[i+1][0],o=n[i+1][1],l=Math.sqrt((a-r)*(a-r)+(o-s)*(o-s)),u=(o-s)/l,c=(a-r)/l,p=l/t;if(p>1){for(let o=1;o<=p-1;o++){const i=o*t,n=c*i+r,a=u*i+s;e.push([n,a])}const i=(l+Math.floor(p-1)*t)/2,n=c*i+r,a=u*i+s;e.push([n,a])}e.push([a,o])}}return function(e){return"polygon"===e.type}(e)?new o.a({rings:r,spatialReference:e.spatialReference}):new l.a({paths:r,spatialReference:e.spatialReference})}function g(e,t,i){if(t){const t=j(e,1e6);e=Object(p.e)(t,!0)}return i&&(e=Object(u.e)(e,i)),e}function v(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const i=Object(u.d)(r,t);e[0]=r+i*(-2*t)}else if(r<i){const t=Object(u.d)(r,i);e[0]=r+t*(-2*i)}}else{const r=e.x;if(r>t){const i=Object(u.d)(r,t);e=e.clone().offset(i*(-2*t),0)}else if(r<i){const t=Object(u.d)(r,i);e=e.clone().offset(t*(-2*i),0)}}return e}async function S(e,t,i){var n;if(!Array.isArray(e))return S([e],t);const s=null!=(n=null==t?void 0:t.url)?n:r.a.geometryServiceUrl;let y,j,w,T,_,N,E,x,I=0;const M=[],A=[];for(const r of e)if(Object(a.j)(r))A.push(r);else if(y||(y=r.spatialReference,j=Object(c.e)(y),w=y.isWebMercator,N=w?102100:4326,T=u.a[N].maxX,_=u.a[N].minX,E=u.a[N].plus180Line,x=u.a[N].minus180Line),j)if("mesh"===r.type)A.push(r);else if("point"===r.type)A.push(v(r.clone(),T,_));else if("multipoint"===r.type){const e=r.clone();e.points=e.points.map((e=>v(e,T,_))),A.push(e)}else if("extent"===r.type){const e=r.clone()._normalize(!1,!1,j);A.push(e.rings?new o.a(e):e)}else if(r.extent){const e=r.extent,t=Object(u.d)(e.xmin,_)*(2*T);let i=0===t?r.clone():Object(u.e)(r.clone(),t);e.offset(t,0),e.intersects(E)&&e.xmax!==T?(I=e.xmax>I?e.xmax:I,i=g(i,w),M.push(i),A.push("cut")):e.intersects(x)&&e.xmin!==_?(I=e.xmax*(2*T)>I?e.xmax*(2*T):I,i=g(i,w,360),M.push(i),A.push("cut")):A.push(i)}else A.push(r.clone());else A.push(r);let P=Object(u.d)(I,T),C=-90;const F=P,R=new l.a;for(;P>0;){const e=360*P-180;R.addPath([[e,C],[e,-1*C]]),C*=-1,P--}if(M.length>0&&F>0){const t=function(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const n=t.cutIndexes[r],s=t.geometries[r],a=Object(u.b)(s);for(let e=0;e<a.length;e++){const t=a[e];t.some((i=>{if(i[0]<180)return!0;{let i=0;for(let e=0;e<t.length;e++){const r=t[e][0];i=r>i?r:i}i=Number(i.toFixed(9));const r=-360*Object(u.d)(i,180);for(let n=0;n<t.length;n++){const t=s.getPoint(e,n);s.setPoint(e,n,t.clone().offset(r,0))}return!0}}))}if(n===i){if(h(e))for(const t of Object(u.b)(s))e[n]=e[n].addRing(t);else if(O(e))for(const t of Object(u.b)(s))e[n]=e[n].addPath(t)}else i=n,e[n]=s}return e}(M,await async function(e,t,i,r){const n="string"==typeof e?Object(b.M)(e):e,s=t[0].spatialReference,a={...r,query:{...n.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(f.c)(t[0]),geometries:t}),cutter:JSON.stringify(i)}},o=await Object(d.default)(n.path+"/cut",a),{cutIndexes:l,geometries:u=[]}=o.data;return{cutIndexes:l,geometries:u.map((e=>{const t=Object(f.a)(e);return t.spatialReference=s,t}))}}(s,M,R,i)),r=[],n=[];for(let i=0;i<A.length;i++){const s=A[i];if("cut"!==s)n.push(s);else{const s=t.shift(),o=e[i];Object(a.k)(o)&&"polygon"===o.type&&o.rings&&o.rings.length>1&&s.rings.length>=o.rings.length?(r.push(s),n.push("simplify")):n.push(w?Object(p.b)(s):s)}}if(!r.length)return n;const o=await m(s,r,i),l=[];for(let e=0;e<n.length;e++){const t=n[e];"simplify"!==t?l.push(t):l.push(w?Object(p.b)(o.shift()):o.shift())}return l}const D=[];for(let r=0;r<A.length;r++){const e=A[r];if("cut"!==e)D.push(e);else{const e=M.shift();D.push(!0===w?Object(p.b)(e):e)}}return Promise.resolve(D)}function w(e,t){const i=Object(c.e)(t);if(i){const[t,r]=i.valid,n=r-t;if(e<t)for(;e<t;)e+=n;if(e>r)for(;e>r;)e-=n}return e}},230:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r,n=i(79),s=i(105),a=i(89),o=i(81),l=i(83),u=i(95),c=i(80),p=i(186);let d=r=class extends p.a{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new r({fromColor:Object(a.a)(this.fromColor),toColor:Object(a.a)(this.toColor),algorithm:this.algorithm})}};Object(n.a)([Object(u.a)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],d.prototype,"algorithm",void 0),Object(n.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],d.prototype,"fromColor",void 0),Object(n.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],d.prototype,"toColor",void 0),Object(n.a)([Object(o.b)({type:["algorithmic"]})],d.prototype,"type",void 0),d=r=Object(n.a)([Object(c.a)("esri.rest.support.AlgorithmicColorRamp")],d);const b=d},237:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r,n=i(79),s=i(88),a=i(81),o=(i(84),i(82),i(83),i(80)),l=i(92),u=i(141);let c=r=class extends u.a{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,r){if(r&&r.messages){const e=`visualVariables[${this.index}]`;r.messages.push(new s.a("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpressionTitle",context:r}))}}clone(){return new r({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};Object(n.a)([Object(a.b)({readOnly:!0})],c.prototype,"cache",null),Object(n.a)([Object(a.b)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],c.prototype,"axis",void 0),Object(n.a)([Object(a.b)({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0),Object(n.a)([Object(a.b)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0),Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0),Object(n.a)([Object(l.a)("web-scene","valueExpressionTitle")],c.prototype,"writeValueExpressionTitleWebScene",null),c=r=Object(n.a)([Object(o.a)("esri.renderers.visualVariables.RotationVariable")],c);const p=c},238:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83),i(80)),o=i(178);let l=r=class extends o.a{constructor(){super(...arguments),this.showLegend=null}clone(){return new r({title:this.title,showLegend:this.showLegend})}};Object(n.a)([Object(s.b)({type:Boolean,json:{write:!0}})],l.prototype,"showLegend",void 0),l=r=Object(n.a)([Object(a.a)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],l);const u=l},239:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(79),n=i(81),s=(i(84),i(82),i(83),i(80));const a=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===e.minScale&&i.maxScale===e.maxScale?i:e}};return Object(r.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(r.a)([Object(n.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(r.a)([Object(n.b)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=Object(r.a)([Object(s.a)("esri.layers.mixins.ScaleRangeLayer")],t),t}},243:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return a}));var r=i(85),n=i(212);const s=-3;var a,o;(o=a||(a={}))[o.ALL=0]="ALL",o[o.SOME=1]="SOME";class l{constructor(e,t,i){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,i,r=0){this._storage.put(this._namespace+e,t,i,r)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,i){this._storage.updateSize(this._namespace+e,t,i)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class u{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new n.a,this._users=new n.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,i,r){const n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemove(e,n.entry,a.ALL)),i>this._maxSize)return void this._notifyRemove(e,t,a.ALL);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const o=1+Math.max(r,s)-s;this._db.set(e,{entry:t,size:i,lifetime:o,lives:o}),this._size+=i,this._checkSizeLimit()}updateSize(e,t,i){const n=this._db.get(e);if(n&&n.entry===t){for(this._size-=n.size;i>this._maxSize;){const n=this._notifyRemove(e,t,a.SOME);if(!(Object(r.k)(n)&&n>0))return void this._db.delete(e);i=n}n.size=i,this._size+=i,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},i=new Array;this._db.forEach(((e,r)=>{const n=e.lifetime;i[n]=(i[n]||0)+e.size,this._users.forAll((i=>{const n=i.namespace;if(r.startsWith(n)){const i=t[n]||0;t[n]=i+e.size}}))}));const r={};this._users.forAll((e=>{const i=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const n=t[i]||0;t[i]=n,r[i]=Math.round(100*e.hitRate)+"%"}else r[i]="0%"}));const n=Object.keys(t);n.sort(((e,i)=>t[i]-t[e])),n.forEach((i=>e[i]=Math.round(t[i]/2**20)+"MB / "+r[i]));for(let a=i.length-1;a>=0;--a){const t=i[a];t&&(e["Priority "+(a+s-1)]=Math.round(t/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,i)=>{i.startsWith(e)&&(this._size-=t.size,this._db.delete(i),this._notifyRemove(i,t.entry,a.ALL))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,a.ALL))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,i){let r;return this._removeFuncs.some((n=>{if(e.startsWith(n[0])){const e=n[1](t,i);return"number"==typeof e&&(r=e),!0}return!1})),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db){if(this._db.delete(e),t.lives<=1){this._size-=t.size;const i=this._notifyRemove(e,t.entry,a.SOME);Object(r.k)(i)&&i>0&&(this._size+=i,t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t);if(this._size<=.9*this.maxSize)return}}}},245:function(e,t,i){"use strict";i.r(t),i.d(t,"getAllSizes",(function(){return T})),i.d(t,"getColor",(function(){return f})),i.d(t,"getOpacity",(function(){return m})),i.d(t,"getRotationAngle",(function(){return y})),i.d(t,"getSize",(function(){return h})),i.d(t,"getSizeForValue",(function(){return g})),i.d(t,"getSizeFromNumberOrVariable",(function(){return O})),i.d(t,"getSizeRangeAtScale",(function(){return v})),i.d(t,"getVisualVariableValues",(function(){return S})),i.d(t,"viewScaleRE",(function(){return b}));var r=i(105),n=i(125),s=i(222),a=i(87),o=i(85),l=i(246),u=i(213);const c=a.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),p=new n.a,d=Math.PI,b=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"color"===e.type)):e;if(!n)return;if("esri.renderers.visualVariables.ColorVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof t,a=s?null:t,l=a&&a.attributes;let u=s?t:null;const p=n.field,{ipData:d,hasExpression:b}=n.cache;let f=n.cache.compiledFunc;if(!p&&!b){const e=n.stops;return e&&e[0]&&e[0].color}if("number"!=typeof u)if(b){if(!Object(o.k)(i)||!Object(o.k)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,r=t.getViewInfo(e),s=t.createExecContext(a,r);if(!f){const e=t.createSyntaxTree(n.valueExpression);f=t.createFunction(e),n.cache.compiledFunc=f}u=t.executeFunction(f,s)}else l&&(u=l[p]);const m=n.normalizationField,y=l?parseFloat(l[m]):void 0;if(null!=u&&(!m||s||!isNaN(y)&&0!==y)){isNaN(y)||s||(u/=y);const e=w(u,d);if(e){const t=e[0],s=e[1],a=t===s?n.stops[t].color:r.a.blendColors(n.stops[t].color,n.stops[s].color,e[2],Object(o.k)(i)?i.color:void 0);return new r.a(a)}}}function m(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"opacity"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n="number"==typeof t,s=n?null:t,a=s&&s.attributes;let l=n?t:null;const u=r.field,{ipData:p,hasExpression:d}=r.cache;let b=r.cache.compiledFunc;if(!u&&!d){const e=r.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(d){if(Object(o.j)(i)||Object(o.j)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,n=t.getViewInfo(e),a=t.createExecContext(s,n);if(!b){const e=t.createSyntaxTree(r.valueExpression);b=t.createFunction(e),r.cache.compiledFunc=b}l=t.executeFunction(b,a)}else a&&(l=a[u]);const f=r.normalizationField,m=a?parseFloat(a[f]):void 0;if(null!=l&&(!f||n||!isNaN(m)&&0!==m)){isNaN(m)||n||(l/=m);const e=w(l,p);if(e){const t=e[0],i=e[1];if(t===i)return r.stops[t].opacity;{const n=r.stops[t].opacity;return n+(r.stops[i].opacity-n)*e[2]}}}}function y(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"rotation"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=r.axis||"heading",s="heading"===n&&"arithmetic"===r.rotationType?90:0,a="heading"===n&&"arithmetic"===r.rotationType?-1:1,l="number"==typeof t?null:t,u=l&&l.attributes,p=r.field,{hasExpression:d}=r.cache;let b=r.cache.compiledFunc,f=0;if(!p&&!d)return f;if(d){if(Object(o.j)(i)||Object(o.j)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,n=t.getViewInfo(e),s=t.createExecContext(l,n);if(!b){const e=t.createSyntaxTree(r.valueExpression);b=t.createFunction(e),r.cache.compiledFunc=b}f=t.executeFunction(b,s)}else u&&(f=u[p]||0);return f="number"!=typeof f||isNaN(f)?null:s+a*f,f}function h(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"size"===e.type)):e;if(!r)return;if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=g(function(e,t,i){const r="number"==typeof t,n=r?null:t,s=n&&n.attributes;let a=r?t:null;const{isScaleDriven:l}=e.cache;let p=e.cache.compiledFunc;if(l){const t=Object(o.k)(i)?i.scale:void 0,r=Object(o.k)(i)?i.view:void 0;a=null==t||"3d"===r?function(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):t}else if(!r)switch(e.inputValueType){case u.a.Expression:{if(Object(o.j)(i)||Object(o.j)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,s=r.getViewInfo(t),l=r.createExecContext(n,s);if(!p){const t=r.createSyntaxTree(e.valueExpression);p=r.createFunction(t),e.cache.compiledFunc=p}a=r.executeFunction(p,l);break}case u.a.Field:s&&(a=s[e.field]);break;case u.a.Unknown:a=null}if(!Object(u.f)(a))return null;if(r||!e.normalizationField)return a;const d=s?parseFloat(s[e.normalizationField]):null;return Object(u.f)(d)&&0!==d?a/d:null}(r,t,i),r,t,i,r.cache.ipData);return null==n||isNaN(n)?0:n}function O(e,t,i){return null==e?null:Object(u.e)(e)?h(e,t,i):Object(u.f)(e)?e:null}function j(e,t,i){return Object(u.f)(i)&&e>i?i:Object(u.f)(t)&&e<t?t:e}function g(e,t,i,r,n){switch(t.transformationType){case u.b.Additive:return function(e,t,i,r){return e+(O(t.minSize,i,r)||t.minDataValue)}(e,t,i,r);case u.b.Constant:return function(e,t,i){const r=e.stops;let n=r&&r.length&&r[0].size;return null==n&&(n=e.minSize),O(n,t,i)}(t,i,r);case u.b.ClampedLinear:return function(e,t,i,r){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=O(t.minSize,i,r),a=O(t.maxSize,i,r),l=Object(o.k)(r)?r.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return a;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?d*(s/2)**2:s*s,i=t+n*((e?d*(a/2)**2:a*a)-t);return e?2*Math.sqrt(i/d):Math.sqrt(i)}return s+n*(a-s)}(e,t,i,r);case u.b.Proportional:return function(e,t,i,r){const n=Object(o.k)(r)?r.shape:void 0,s=e/t.minDataValue,a=O(t.minSize,i,r),l=O(t.maxSize,i,r);let u=null;return u="circle"===n?2*Math.sqrt(s*(a/2)**2):"square"===n||"diamond"===n||"image"===n?Math.sqrt(s*a**2):s*a,j(u,a,l)}(e,t,i,r);case u.b.Stops:return function(e,t,i,r,n){const[s,a,o]=w(e,n);if(s===a)return O(t.stops[s].size,i,r);{const e=O(t.stops[s].size,i,r);return e+(O(t.stops[a].size,i,r)-e)*o}}(e,t,i,r,n);case u.b.RealWorldSize:return function(e,t,i,r){const n=(Object(o.k)(r)&&r.resolution?r.resolution:1)*l.a[t.valueUnit],s=O(t.minSize,i,r),a=O(t.maxSize,i,r),{valueRepresentation:u}=t;let c=null;return c="area"===u?2*Math.sqrt(e/d)/n:"radius"===u||"distance"===u?2*e/n:e/n,j(c,s,a)}(e,t,i,r);case u.b.Identity:return e;case u.b.Unknown:return null}}function v(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&"3d"===i||t))return null;const n={scale:t,view:i};let s=O(e.minSize,p,n),a=O(e.maxSize,p,n);if(null!=s||null!=a){if(s>a){const e=a;a=s,s=e}return{minSize:s,maxSize:a}}}function S(e,t,i){if(!e.visualVariables)return;const r=[],n=[],s=[],a=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":s.push(l);break;case"rotation":o.push(l);break;case"size":a.push(l)}return n.forEach((e=>{const n=f(e,t,i);r.push({variable:e,value:n})})),s.forEach((e=>{const n=m(e,t,i);r.push({variable:e,value:n})})),o.forEach((e=>{const n=y(e,t,i);r.push({variable:e,value:n})})),a.forEach((e=>{const n=h(e,t,i);r.push({variable:e,value:n})})),r.filter((e=>null!=e.value))}function w(e,t){if(!t)return;let i=0,r=t.length-1;return t.some(((t,n)=>e<t?(r=n,!0):(i=n,!1))),[i,r,(e-t[i])/(t[r]-t[i])]}function T(e,t,i){const r=["proportional","proportional","proportional"];for(const n of e){const e=n.useSymbolValue?"symbol-value":h(n,t,i);switch(n.axis){case"width":r[0]=e;break;case"depth":r[1]=e;break;case"height":r[2]=e;break;case"width-and-depth":r[0]=e,r[1]=e;break;case"all":case void 0:case null:r[0]=e,r[1]=e,r[2]=e;break;default:Object(s.a)(n.axis)}}return r}},246:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(114),n=i(158);const s={inches:Object(r.b)(1,"meters","inches"),feet:Object(r.b)(1,"meters","feet"),"us-feet":Object(r.b)(1,"meters","us-feet"),yards:Object(r.b)(1,"meters","yards"),miles:Object(r.b)(1,"meters","miles"),"nautical-miles":Object(r.b)(1,"meters","nautical-miles"),millimeters:Object(r.b)(1,"meters","millimeters"),centimeters:Object(r.b)(1,"meters","centimeters"),decimeters:Object(r.b)(1,"meters","decimeters"),meters:Object(r.b)(1,"meters","meters"),kilometers:Object(r.b)(1,"meters","kilometers"),"decimal-degrees":1/Object(r.k)(1,"meters",n.a.radius)}},247:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return l}));var r=i(140),n=i(96),s=i(97);const a={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.a.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.a.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:n.a.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:n.a.WGS84})}};function o(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const i=u(e);for(const r of i)for(const e of r)e[0]+=t;return e}function u(e){return Object(s.g)(e)?e.rings:e.paths}function c(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[a[t].minX,a[t].maxX]}},248:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r,n=i(79),s=i(89),a=i(81),o=(i(83),i(95)),l=i(80),u=i(120),c=i(143),p=i(142);let d=r=class extends(Object(c.a)(u.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((i=>i.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new r({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(s.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],d.prototype,"description",void 0),Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(n.a)([Object(a.b)(p.b)],d.prototype,"symbol",void 0),Object(n.a)([Object(o.a)({simple:"simple"})],d.prototype,"type",void 0),d=r=Object(n.a)([Object(l.a)("esri.renderers.SimpleRenderer")],d);const b=d},250:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var r,n=i(79),s=i(89),a=i(81),o=(i(83),i(80)),l=i(92),u=i(106),c=i(120),p=i(143),d=i(307);let b=r=class extends(Object(p.a)(c.a)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new d.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){null!=r&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new r({config:Object(s.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(s.a)(this.fieldMap),url:Object(s.a)(this.url),visualVariables:Object(s.a)(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Object(u.c)(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};Object(n.a)([Object(a.b)({type:d.DictionaryLoader})],b.prototype,"_loader",null),Object(n.a)([Object(a.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],b.prototype,"config",void 0),Object(n.a)([Object(a.b)({type:Object,json:{write:!0}})],b.prototype,"fieldMap",void 0),Object(n.a)([Object(a.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],b.prototype,"scaleExpression",void 0),Object(n.a)([Object(l.a)("scaleExpression")],b.prototype,"writeData",null),Object(n.a)([Object(a.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],b.prototype,"scaleExpressionTitle",void 0),Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],b.prototype,"url",void 0),Object(n.a)([Object(l.a)("visualVariables")],b.prototype,"writeVisualVariables",null),b=r=Object(n.a)([Object(o.a)("esri.renderers.DictionaryRenderer")],b);const f=b},251:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var r,n=i(79),s=i(105),a=i(89),o=i(81),l=(i(83),i(95)),u=i(80),c=i(106),p=i(120),d=i(340);let b=r=class extends p.a{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new d.a({ratio:0,color:new s.a("rgba(255, 140, 0, 0)")}),new d.a({ratio:.75,color:new s.a("rgba(255, 140, 0, 1)")}),new d.a({ratio:.9,color:new s.a("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const i=this.field;i&&"string"==typeof i&&Object(c.f)(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new r({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:Object(a.a)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],b.prototype,"blurRadius",void 0),Object(n.a)([Object(o.b)({type:Number})],b.prototype,"referenceScale",void 0),Object(n.a)([Object(o.b)({type:[d.a],json:{write:!0}})],b.prototype,"colorStops",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"field",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:null==i})}}})],b.prototype,"fieldOffset",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],b.prototype,"maxPixelIntensity",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],b.prototype,"minPixelIntensity",void 0),Object(n.a)([Object(l.a)({heatmap:"heatmap"})],b.prototype,"type",void 0),b=r=Object(n.a)([Object(u.a)("esri.renderers.HeatmapRenderer")],b);const f=b},253:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var r,n=i(79),s=i(105),a=i(89),o=i(146),l=i(83),u=i(95),c=i(81),p=i(80),d=i(106),b=i(120),f=i(143),m=i(86),y=i(87),h=(i(84),i(82),i(104));const O=y.a.getLogger("esri.renderers.support.AttributeColorInfo");let j=r=class extends m.a{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(O.error(".field: field must be a string value"),null):Object(l.l)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new r({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};Object(n.a)([Object(c.b)({type:s.a,json:{type:[Number],write:!0}})],j.prototype,"color",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],j.prototype,"field",void 0),Object(n.a)([Object(h.a)("field")],j.prototype,"castField",null),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],j.prototype,"label",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],j.prototype,"valueExpression",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],j.prototype,"valueExpressionTitle",void 0),j=r=Object(n.a)([Object(p.a)("esri.renderers.support.AttributeColorInfo")],j);const g=j;var v;let S=v=class extends m.a{constructor(){super(...arguments),this.unit=null}clone(){return new v({unit:this.unit})}};Object(n.a)([Object(c.b)({type:String,json:{write:!0}})],S.prototype,"unit",void 0),S=v=Object(n.a)([Object(p.a)("esri.renderers.support.DotDensityLegendOptions")],S);const w=S;var T,_=i(195),N=i(199);let E=T=class extends(Object(f.a)(b.a)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new s.a([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new N.a,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new _.a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new T({attributes:Object(a.a)(this.attributes),backgroundColor:Object(a.a)(this.backgroundColor),dotBlendingEnabled:Object(a.a)(this.dotBlendingEnabled),dotShape:Object(a.a)(this.dotShape),dotSize:Object(a.a)(this.dotSize),dotValue:Object(a.a)(this.dotValue),legendOptions:Object(a.a)(this.legendOptions),outline:Object(a.a)(this.outline),referenceScale:Object(a.a)(this.referenceScale),visualVariables:Object(a.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await Object(d.c)(e,t,i.valueExpression),i.field&&e.add(i.field)}};Object(n.a)([Object(c.b)({type:[g],json:{write:!0}})],E.prototype,"attributes",void 0),Object(n.a)([Object(c.b)({type:s.a,json:{write:!0}})],E.prototype,"backgroundColor",void 0),Object(n.a)([Object(c.b)({type:Boolean}),Object(o.a)("dotBlendingEnabled")],E.prototype,"blendDots",void 0),Object(n.a)([Object(c.b)({type:Boolean,json:{write:!0}})],E.prototype,"dotBlendingEnabled",void 0),Object(n.a)([Object(c.b)({type:String,json:{write:!1}})],E.prototype,"dotShape",void 0),Object(n.a)([Object(c.b)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],E.prototype,"dotSize",void 0),Object(n.a)([Object(c.b)({type:w,json:{write:!0}})],E.prototype,"legendOptions",void 0),Object(n.a)([Object(c.b)({type:N.a,json:{default:null,write:!0}})],E.prototype,"outline",void 0),Object(n.a)([Object(c.b)({type:Number,json:{write:!0}})],E.prototype,"dotValue",void 0),Object(n.a)([Object(c.b)({type:Number}),Object(o.a)("dotValue")],E.prototype,"referenceDotValue",void 0),Object(n.a)([Object(c.b)({type:Number,json:{write:!0}})],E.prototype,"referenceScale",void 0),Object(n.a)([Object(c.b)({type:Number,json:{write:!0}})],E.prototype,"seed",void 0),Object(n.a)([Object(u.a)({dotDensity:"dot-density"})],E.prototype,"type",void 0),E=T=Object(n.a)([Object(p.a)("esri.renderers.DotDensityRenderer")],E);const x=E},254:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i(79),n=i(81),s=(i(84),i(82),i(83),i(80)),a=i(287);const o=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return Object(r.a)([Object(n.b)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),Object(r.a)([Object(n.b)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:a.b},write:{allowNull:!0,writer:a.c}}}}})],t.prototype,"effect",void 0),t=Object(r.a)([Object(s.a)("esri.layers.mixins.BlendLayer")],t),t}},256:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return p}));var r=i(217),n=i(250),s=i(253),a=i(251),o=i(120),l=i(248),u=i(225);const c={key:"type",base:o.a,typeMap:{heatmap:a.a,simple:l.a,"unique-value":u.a,"class-breaks":r.a,"dot-density":s.a,dictionary:n.a},errorContext:"renderer"},p={key:"type",base:o.a,typeMap:{simple:l.a,"unique-value":u.a,"class-breaks":r.a},errorContext:"renderer"}},259:function(e,t,i){"use strict";var r;function n(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<i||+t>n)return r.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return r.INVALID_CODED_VALUE}return null}function s(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(r||(r={}))},261:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r=i(79),n=i(88),s=i(98),a=i(81),o=(i(84),i(82),i(83),i(80)),l=i(92),u=i(324),c=i(330);const p={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var d=i(156);const b=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(e,t,i,r){(r&&"ground"===r.layerContainerType||e&&Object(c.a)(this,i,{},r))&&(t[i]=e)}writeOperationalLayerType(e,t,i,r){!e||r&&"tables"===r.layerContainerType||(t.layerType=e)}writeTitle(e,t){t.title=e||"Layer"}read(e,t){t&&(t.layer=this),Object(u.b)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(null!=t&&t.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,r=p[e];let s=r&&r[this.operationalLayerType];var i;if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(s=!1),!s)return null==(i=t.messages)||i.push(new n.a("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const r=super.write(e,{...t,layer:this}),a=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof n.a&&"web-document-write:property-required"===e.name)).length;var o;return Object(s.v)(null==r?void 0:r.url)?(null==t||null==(o=t.messages)||o.push(new n.a("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&a?null:r}beforeSave(){}};return Object(r.a)([Object(a.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(r.a)([Object(a.b)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),Object(r.a)([Object(l.a)("listMode")],t.prototype,"writeListMode",null),Object(r.a)([Object(a.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(r.a)([Object(l.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(r.a)([Object(a.b)(d.h)],t.prototype,"opacity",void 0),Object(r.a)([Object(a.b)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(r.a)([Object(l.a)("title")],t.prototype,"writeTitle",null),Object(r.a)([Object(a.b)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=Object(r.a)([Object(o.a)("esri.layers.mixins.OperationalLayer")],t),t}},265:function(e,t,i){"use strict";i.d(t,"a",(function(){return b}));var r=i(79),n=i(105),s=i(90),a=i(86),o=i(81),l=(i(84),i(82),i(83),i(93)),u=i(80);const c=new s.a({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let p=0,d=class extends a.a{constructor(e){super(e),this.id="sym"+p++,this.type=null,this.color=new n.a([0,0,0,1])}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};Object(r.a)([Object(o.b)({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],d.prototype,"type",void 0),Object(r.a)([Object(o.b)({type:n.a,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0),Object(r.a)([Object(l.a)("color")],d.prototype,"readColor",null),d=Object(r.a)([Object(u.a)("esri.symbols.Symbol")],d);const b=d},268:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=new(i(90).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},269:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return f})),i.d(t,"d",(function(){return y}));var r=i(100),n=i(111),s=i(85),a=i(152);const o=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof r.a}function u(e){return e instanceof n.a?Object.keys(e.items):l(e)?Object(a.a)(e).keys():e?Object.keys(e):[]}function c(e,t){return e instanceof n.a?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){const i=e.diff;if(i&&"function"==typeof i)return i(e,t);const r=u(e),n=u(t);if(0===r.length&&0===n.length)return;if(!r.length||!n.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const a=n.filter((e=>-1===r.indexOf(e))),b=r.filter((e=>-1===n.indexOf(e))),f=r.filter((i=>n.indexOf(i)>-1&&c(e,i)!==c(t,i))).concat(a,b).sort(),m=p(e);if(m&&o.indexOf(m)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let y;const h=l(e)&&l(t);for(const o of f){const r=c(e,o),n=c(t,o);let a;(h||"function"!=typeof r&&"function"!=typeof n)&&r!==n&&(null==r&&null==n||(a=i&&i[o]&&"function"==typeof i[o]?i[o](r,n):"object"==typeof r&&"object"==typeof n&&p(r)===p(n)?d(r,n):{type:"complete",oldValue:r,newValue:n},Object(s.k)(a)&&(Object(s.k)(y)?y.diff[o]=a:y={type:"partial",diff:{[o]:a}})))}return y}function b(e,t){if(Object(s.j)(e))return!1;const i=t.split(".");let r=e;for(const n of i){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const e=r.diff[n];if(!e)return!1;r=e}}return!0}function f(e,t){for(const i of t)if(b(e,i))return!0;return!1}function m(e,t){if(!("function"==typeof e||"function"==typeof t||Object(s.j)(e)&&Object(s.j)(t)))return Object(s.j)(e)||Object(s.j)(t)||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}function y(e){if(Object(s.j)(e))return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!y(e))return!1;for(const e of t.removed)if(!y(e))return!1;for(const e of t.changed)if(!y(e))return!1;return!0}case"partial":for(const t in e.diff)if(!y(e.diff[t]))return!1;return!0}}},274:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(85),n=i(114),s=i(110);function a(e,t,i){if(Object(r.j)(t)||Object(r.j)(i)||i.vcsWkid||Object(s.d)(t,i))return null;const a=Object(n.f)(t)/Object(n.f)(i);if(1===a)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){e&&null!=e.z&&(e.z*=t)}(e,a);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const i of e.paths)for(const e of i)e.length>2&&(e[2]*=t)}(e,a);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const i of e.rings)for(const e of i)e.length>2&&(e[2]*=t)}(e,a);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}(e,a);case"extent":case"esriGeometryExtent":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,a);default:return null}}},275:function(e,t,i){"use strict";i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return b})),i.d(t,"d",(function(){return m})),i.d(t,"e",(function(){return f}));var r=i(103),n=i(88),s=i(91),a=i(98),o=i(181),l=i(333),u=i(82);const c={};function p(e,t,i){const r=t&&t.portal||o.a.getDefault();let s;const a=`${r.url} - ${r.user&&r.user.username} - ${e}`;return c[a]||(c[a]=function(e,t,i){return t.load(i).then((()=>{const r=new l.a({disableExtraQuery:!0,query:`owner:${y} AND type:${h} AND typekeywords:"${e}"`});return t.queryItems(r,i)})).then((({results:t})=>{let r=null;const s=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t)if(e.typeKeywords.some((e=>e.toLowerCase()===s))&&e.type===h&&e.owner===y){r=e;break}if(!r)throw new n.a("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(i)}))}(e,r,i).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),c[a]}function d(e,t,i){return e.styleUrl?async function(e,t){try{return{data:(await m(e,t)).data,baseUrl:Object(a.I)(e),styleUrl:e}}catch(i){return Object(s.s)(i),null}}(e.styleUrl,i):e.styleName?p(e.styleName,t,i):Promise.reject(new n.a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function f(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!Object(u.a)("enable-feature:force-wosr"))for(const i of e.formatInfos)if("gltf"===i.type)return i.href;return e.webRef}function m(e,t){const i={responseType:"json",query:{f:"json"},...t};return Object(r.default)(Object(a.F)(e),i)}const y="esri_en",h="Style",O="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},277:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(79),n=i(100),s=i(124),a=i(85),o=i(144),l=i(234),u=i(81),c=i(80);let p=class extends n.a{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new s.a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,i={}){return this._installWatch(e,t,i,o.e)}addWhen(e,t,i={}){return this._installWatch(e,t,i,o.f)}addOnCollectionChange(e,t,{initial:i=!1}={}){const r=++this.handleId;return this.handles.add([Object(o.b)(e,"after-changes",this._createSyncUpdatingCallback(),o.c),Object(o.b)(e,"change",t,{onListenerAdd:i?e=>t({added:e.toArray(),removed:[]}):void 0})],r),{remove:()=>this.handles.remove(r)}}addPromise(e){if(Object(a.j)(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(d)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const i=()=>this.handles.remove(t);return e.then(i,i),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,i={},r){const n=++this.handleId;i.sync||this._installSyncUpdatingWatch(e,n);const s=r(e,t,i);return this.handles.add(s,n),{remove:()=>this.handles.remove(n)}}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),r=Object(o.e)(e,i,{sync:!0,equals:()=>!1});return this.handles.add(r,t),r}_createSyncUpdatingCallback(){return()=>{this.handles.remove(d),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(l.b)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(d))})),d)}}};Object(r.a)([Object(u.b)({readOnly:!0})],p.prototype,"updating",void 0),p=Object(r.a)([Object(c.a)("esri.views.support.WatchUpdatingTracking")],p);const d=-42;var b,f;(f=b||(b={}))[f.NONE=0]="NONE",f[f.SYNC=1]="SYNC",f[f.INIT=2]="INIT"},282:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(243);class n{constructor(e,t){this._storage=new r.c,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,i){this._storage.put(e,t,i,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},292:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}));var r=i(230),n=i(186),s=i(312);const a={key:"type",base:n.a,typeMap:{algorithmic:r.a,multipart:s.a}};function o(e){return e&&e.type?"algorithmic"===e.type?r.a.fromJSON(e):"multipart"===e.type?s.a.fromJSON(e):null:null}},295:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,n=i(79),s=i(86),a=i(102),o=i(81),l=(i(84),i(82),i(83),i(80));let u=r=class extends s.a{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new r({label:this.label,size:this.size,value:this.value})}};Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"label",void 0),Object(n.a)([Object(o.b)({type:Number,cast:a.j,json:{write:!0}})],u.prototype,"size",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],u.prototype,"value",void 0),u=r=Object(n.a)([Object(l.a)("esri.renderers.visualVariables.support.SizeStop")],u);const c=u},305:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r,n=i(79),s=i(105),a=i(86),o=i(81),l=(i(84),i(82),i(83)),u=i(80),c=i(92);let p=r=class extends a.a{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=null==e?0:e}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};Object(n.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],p.prototype,"color",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"label",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],p.prototype,"value",void 0),Object(n.a)([Object(c.a)("value")],p.prototype,"writeValue",null),p=r=Object(n.a)([Object(u.a)("esri.renderers.visualVariables.support.ColorStop")],p);const d=p},306:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var r=i(115),n=i(88),s=i(224),a=i(456),o=i(199),l=i(467),u=i(255),c=i(401),p=i(195),d=i(303),b=i(299),f=i(466);const m={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function y(e,t=m){if(!e)return{symbol:null};const{retainId:i=m.retainId,ignoreDrivers:y=m.ignoreDrivers,hasLabelingContext:h=m.hasLabelingContext,retainCIM:O=m.retainCIM}=t;let j;if(Object(r.c)(e)||e instanceof s.a)j=e.clone();else if("cim"===e.type){var g,v;const t=null==(g=e.data)||null==(v=g.symbol)?void 0:v.type;if("CIMPointSymbol"!==t)return{error:new n.a("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};j=O?e.clone():a.a.fromCIMSymbol(e)}else if(e instanceof o.a)j=l.a.fromSimpleLineSymbol(e);else if(e instanceof u.a)j=a.a.fromSimpleMarkerSymbol(e);else if(e instanceof c.a)j=a.a.fromPictureMarkerSymbol(e);else if(e instanceof p.a)j=d.a.fromSimpleFillSymbol(e);else{if(!(e instanceof b.a))return{error:new n.a("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};j=h?f.a.fromTextSymbol(e):a.a.fromTextSymbol(e)}if(i&&"cim"!==j.type&&(j.id=e.id),y&&Object(r.c)(j))for(let r=0;r<j.symbolLayers.length;++r)j.symbolLayers.getItemAt(r)._ignoreDrivers=!0;return{symbol:j}}},307:function(e,t,i){"use strict";i.r(t),i.d(t,"DictionaryLoader",(function(){return m}));var r=i(105),n=i(103),s=i(88),a=i(87),o=i(282),l=i(85),u=i(91),c=i(155),p=i(130),d=i(430);const b=a.a.getLogger("esri.renderers.support.DictionaryLoader"),f={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class m{constructor(e,t,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new o.a(100),this.url=e,this.config=t,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(e,t){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{i=await this._dictionaryPromise}catch(y){if(Object(u.l)(y))return this._dictionaryPromise=null,null}const n={};if(this.fieldMap)for(const r of this._symbolFields){const t=this.fieldMap[r];if(t&&null!=e.attributes[t]){const i=""+e.attributes[t];n[r]=i}else n[r]=""}const s=i(n,t);if(!s||"string"!=typeof s)return null;const a=Object(c.b)(s).toString(),o=this._symbolCache.get(a);if(o)return o.catch((()=>{this._symbolCache.pop(a)})),o;const p=s.split(";"),d=[],b=[];for(const l of p)if(l)if(l.includes("po:")){const e=l.substr(3).split("|");if(3===e.length){const t=e[0],i=e[1];let n=e[2];if("DashTemplate"===i)n=n.split(" ").map((e=>Number(e)));else if("Color"===i){const e=new r.a(n).toRgba();n=[e[0],e[1],e[2],255*e[3]]}else n=Number(n);b.push({primitiveName:t,propertyName:i,value:n})}}else if(l.includes("|")){for(const e of l.split("|"))if(this._itemNames.has(e)){d.push(e);break}}else this._itemNames.has(l)&&d.push(l);const f=!Object(l.k)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,m=this._cimPartsToCIMSymbol(d,b,f,t);return this._symbolCache.put(a,m,1),m}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void b.error("no valid URL!");const t=Object(l.k)(e)?e.abortOptions:null,i=Object(n.default)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...t}),[{data:r}]=await Promise.all([i,Object(p.e)()]);if(!r)throw this._dictionaryPromise=null,new s.a("esri.renderers.DictionaryRenderer","Bad dictionary data!");const a=r.expression,o=r.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(r.itemsNames),this._symbolFields=o.symbol;const u={};if(this.config){const e=this.config;for(const t in e)u[t]=e[t]}if(o.configuration)for(const n of o.configuration)u.hasOwnProperty(n.name)||(u[n.name]=n.value);const c=[];if(Object(l.k)(e)&&e.fields&&this.fieldMap)for(const n of this._symbolFields){const t=this.fieldMap[n],i=e.fields.filter((e=>e.name===t));i.length>0&&c.push({...i[0],name:n})}return this._dictionaryPromise=Object(p.b)(a,Object(l.k)(e)?e.spatialReference:null,c,u).then((e=>{const t={scale:0};return(i,r)=>{const n=e.repurposeFeature({geometry:null,attributes:i});return t.scale=Object(l.k)(r)?r.scale:void 0,e.evaluate({$feature:n,$view:t})}})).catch((e=>(b.error("Creating dictinoary expression failed:",e),null))),this._dictionaryPromise}async _cimPartsToCIMSymbol(e,t,i,r){const n=new Array(e.length);for(let o=0;o<e.length;o++)n[o]=this._getSymbolPart(e[o],r);const s=await Promise.all(n),a=this.fieldMap;for(const o of s)y(o,a);return new d.a({data:this._combineSymbolParts(s,t,i)})}async _getSymbolPart(e,t){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const i=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),r=Object(n.default)(i,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,r);try{return(await r).data}catch(s){return this._ongoingRequests.delete(e),Promise.reject(s)}}_combineSymbolParts(e,t,i){if(!e||0===e.length)return null;const r={...e[0]};if(e.length>1){r.symbolLayers=[];for(const t of e){const e=t;r.symbolLayers.unshift(...e.symbolLayers)}}return i&&(r.callout=f),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}}function y(e,t){if(!e)return;const i=e.symbolLayers;if(!i)return;let r=i.length;for(;r--;){const e=i[r];e&&!1!==e.enable&&"CIMVectorMarker"===e.type&&h(e,t)}}function h(e,t){const i=e.markerGraphics;if(i)for(const r of i){if(!r)continue;const e=r.symbol;if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":y(e,t);break;case"CIMTextSymbol":e.fieldMap=t}}}},312:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r,n=i(79),s=i(89),a=i(81),o=(i(83),i(80)),l=i(230),u=i(186);let c=r=class extends u.a{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new r({colorRamps:Object(s.a)(this.colorRamps)})}};Object(n.a)([Object(a.b)({type:[l.a],json:{write:!0}})],c.prototype,"colorRamps",void 0),Object(n.a)([Object(a.b)({type:["multipart"]})],c.prototype,"type",void 0),c=r=Object(n.a)([Object(o.a)("esri.rest.support.MultipartColorRamp")],c);const p=c},313:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,n=i(79),s=i(86),a=i(81),o=(i(84),i(82),i(83),i(80)),l=i(142);let u=r=class extends s.a{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"description",void 0),Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"label",void 0),Object(n.a)([Object(a.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],u.prototype,"minValue",void 0),Object(n.a)([Object(a.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],u.prototype,"maxValue",void 0),Object(n.a)([Object(a.b)(l.b)],u.prototype,"symbol",void 0),u=r=Object(n.a)([Object(o.a)("esri.renderers.support.ClassBreakInfo")],u);const c=u},315:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var r,n=i(79),s=i(90),a=i(86),o=i(89),l=i(81),u=i(83),c=i(93),p=i(80);i(84),i(82);let d=r=class extends a.a{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new r({minValue:this.minValue,maxValue:this.maxValue})}};Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"minValue",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],d.prototype,"maxValue",void 0),d=r=Object(n.a)([Object(p.a)("esri.renderer.support.AuthoringInfoClassBreakInfo")],d);const b=d;var f;let m=f=class extends a.a{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new f({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:Object(o.a)(this.classBreakInfos)})}};Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"field",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"normalizationField",void 0),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"label",void 0),Object(n.a)([Object(l.b)({type:[b],json:{write:!0}})],m.prototype,"classBreakInfos",void 0),m=f=Object(n.a)([Object(p.a)("esri.renderers.support.AuthoringInfoFieldInfo")],m);const y=m;var h,O=i(104);const j=new s.a({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),g=new s.a({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),v={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},S=["high-to-low","above-and-below","centered-on","extremes"],w=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],T=["seconds","minutes","hours","days","months","years"];let _=h=class extends a.a{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new h({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};Object(n.a)([Object(l.b)({types:v,json:{write:!0}})],_.prototype,"endTime",void 0),Object(n.a)([Object(O.a)("endTime")],_.prototype,"castEndTime",null),Object(n.a)([Object(l.b)({type:String,json:{write:!0}})],_.prototype,"field",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],_.prototype,"maxSliderValue",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0}})],_.prototype,"minSliderValue",void 0),Object(n.a)([Object(l.b)({types:v,json:{write:!0}})],_.prototype,"startTime",void 0),Object(n.a)([Object(O.a)("startTime")],_.prototype,"castStartTime",null),Object(n.a)([Object(l.b)({type:j.apiValues,value:null,json:{type:j.jsonValues,read:j.read,write:j.write}})],_.prototype,"style",null),Object(n.a)([Object(l.b)({type:w,value:null,json:{type:w,origins:{"web-scene":{type:S,write:{writer:(e,t)=>{S.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],_.prototype,"theme",null),Object(n.a)([Object(l.b)({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],_.prototype,"type",void 0),Object(n.a)([Object(l.b)({type:T,json:{type:T,write:!0}})],_.prototype,"units",void 0),_=h=Object(n.a)([Object(p.a)("esri.renderers.support.AuthoringInfoVisualVariable")],_);const N=_;var E,x=i(292);const I=new s.a({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),M=new s.a({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),A=new s.a({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),P=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let C=E=class extends a.a{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return Object(x.a)(e)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new E({classificationMethod:this.classificationMethod,colorRamp:Object(o.a)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:Object(o.a)(this.field1),field2:Object(o.a)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((e=>e.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};Object(n.a)([Object(l.b)({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write,origins:{"web-document":{default:"manual",type:I.jsonValues,read:I.read,write:I.write}}}})],C.prototype,"classificationMethod",null),Object(n.a)([Object(l.b)({types:x.b,json:{write:!0}})],C.prototype,"colorRamp",void 0),Object(n.a)([Object(c.a)("colorRamp")],C.prototype,"readColorRamp",null),Object(n.a)([Object(l.b)({type:[String],value:null,json:{write:!0}})],C.prototype,"fields",null),Object(n.a)([Object(l.b)({type:y,value:null,json:{write:!0}})],C.prototype,"field1",null),Object(n.a)([Object(l.b)({type:y,value:null,json:{write:!0}})],C.prototype,"field2",null),Object(n.a)([Object(l.b)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"flowTheme",null),Object(n.a)([Object(l.b)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],C.prototype,"focus",null),Object(n.a)([Object(l.b)({type:Number,value:null,json:{type:u.a,write:!0}})],C.prototype,"numClasses",null),Object(n.a)([Object(l.b)({type:P,json:{type:P,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],C.prototype,"lengthUnit",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"maxSliderValue",void 0),Object(n.a)([Object(l.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"minSliderValue",void 0),Object(n.a)([Object(l.b)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"statistics",null),Object(n.a)([Object(l.b)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],C.prototype,"standardDeviationInterval",null),Object(n.a)([Object(l.b)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write,origins:{"web-scene":{type:A.jsonValues,write:{writer:A.write,overridePolicy:e=>({enabled:"flow"!==e})}}}}})],C.prototype,"type",null),Object(n.a)([Object(l.b)({type:[N],json:{write:!0}})],C.prototype,"visualVariables",void 0),Object(n.a)([Object(l.b)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"univariateSymbolStyle",null),Object(n.a)([Object(l.b)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"univariateTheme",null),C=E=Object(n.a)([Object(p.a)("esri.renderers.support.AuthoringInfo")],C);const F=C},319:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l}));var r=i(167),n=i(179),s=i(256);function a(e,t){return l(e,null,t)}const o=Object(n.b)({types:s.a});function l(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(i&&i.messages&&i.messages.push(new r.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):o(e,t,i):null}},326:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83),i(80)),o=i(238);let l=r=class extends o.a{constructor(){super(...arguments),this.customValues=null}clone(){return new r({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};Object(n.a)([Object(s.b)({type:[Number],json:{write:!0}})],l.prototype,"customValues",void 0),l=r=Object(n.a)([Object(a.a)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],l);const u=l},327:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r,n=i(79),s=i(86),a=i(81),o=(i(84),i(82),i(104)),l=i(80),u=i(142);let c=r=class extends s.a{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`}clone(){return new r({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(n.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(n.a)([Object(a.b)(u.b)],c.prototype,"symbol",void 0),Object(n.a)([Object(a.b)({json:{type:String,write:{writer:(e,t)=>{t.value=null==e?void 0:e.toString()}}}})],c.prototype,"value",void 0),Object(n.a)([Object(o.a)("value")],c.prototype,"castValue",null),c=r=Object(n.a)([Object(l.a)("esri.renderers.support.UniqueValueInfo")],c);const p=c},340:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r,n=i(79),s=i(105),a=i(86),o=i(81),l=(i(84),i(82),i(83),i(80));let u=r=class extends a.a{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new r({color:this.color,ratio:this.ratio})}};Object(n.a)([Object(o.b)({type:s.a,json:{write:!0}})],u.prototype,"color",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:!0}})],u.prototype,"ratio",void 0),u=r=Object(n.a)([Object(l.a)("esri.renderers.support.HeatmapColorStop")],u);const c=u},342:function(e,t,i){"use strict";function r(e){var t;const i=e.layer;return"floorInfo"in i&&null!=(t=i.floorInfo)&&t.floorField&&"floors"in e.view?a(e.view.floors,i.floorInfo.floorField):null}function n(e,t){var i;return"floorInfo"in t&&null!=(i=t.floorInfo)&&i.floorField?a(e,t.floorInfo.floorField):null}function s(e,t){const{definitionExpression:i}=t;return e?i?`(${i}) AND (${e})`:e:i}function a(e,t){if(null==e||!e.length)return null;const i=e.filter((e=>""!==e)).map((e=>`'${e}'`));return i.push("''"),`${t} IN (${i.join(",")}) OR ${t} IS NULL`}i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n}))},370:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83),i(80)),o=i(202);let l=r=class extends o.a{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(n.a)([Object(s.b)()],l.prototype,"image",void 0),l=r=Object(n.a)([Object(a.a)("esri.support.Action.ActionButton")],l);const u=l},391:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));var r=i(114);function n(e,t){const i=t||e.extent,n=e.width,s=Object(r.e)(i&&i.spatialReference);return i&&n?i.width/n*s*r.i*96:0}function s(e,t){return e/(Object(r.e)(t)*r.i*96)}function a(e,t){const i=e.extent,r=e.width,n=s(t,i.spatialReference);return i.clone().expand(n*r/i.width)}},408:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r,n=i(79),s=i(81),a=(i(84),i(82),i(83),i(80)),o=i(202);let l=r=class extends o.a{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(n.a)([Object(s.b)()],l.prototype,"image",void 0),Object(n.a)([Object(s.b)()],l.prototype,"value",void 0),l=r=Object(n.a)([Object(a.a)("esri.support.Action.ActionToggle")],l);const u=l},596:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return n}));var r=i(158);const n=Math.PI/180,s=/SPHEROID\[([^\]]+)]/i,a=r.a.radius,o=r.a.eccentricitySquared,l={a1:a*o,a2:a*o*a*o,a3:a*o*o/2,a4:a*o*a*o*2.5,a5:a*o+a*o*o/2,a6:1-o},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a.radius,f:r.a.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.c.radius,f:r.c.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.b.radius,f:r.b.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.b.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},611:function(e,t,i){"use strict";i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return j})),i.d(t,"d",(function(){return g})),i.d(t,"e",(function(){return v})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return p})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return h})),i.d(t,"j",(function(){return o})),i.d(t,"k",(function(){return S})),i.d(t,"l",(function(){return u})),i.d(t,"m",(function(){return I}));var r=i(157),n=i(82);let s,a=null;function o(){return!!a}function l(){return!!Object(n.a)("esri-wasm")}function u(){return s||(s=Promise.all([i.e(243),i.e(258)]).then(i.bind(null,854)).then((e=>e.p)).then((({default:e})=>e({locateFile:e=>Object(r.a)(`esri/geometry/support/${e}`)}))).then((e=>{T(e)})),s)}var c,p,d,b;!function(e){function t(e,t,i){a.ensureCache.prepare();const r=E(i),n=i===r,s=a.ensureFloat64(r),o=a._pe_geog_to_proj(a.getPointer(e),t,s);return o&&x(i,t,s,n),o}function i(e,t,i){return r(e,t,i,0)}function r(e,t,i,r){a.ensureCache.prepare();const n=E(i),s=i===n,o=a.ensureFloat64(n),l=a._pe_proj_to_geog_center(a.getPointer(e),t,o,r);return l&&x(i,t,o,s),l}e.geogToProj=t,e.projGeog=function(e,r,n,s){switch(s){case p.PE_TRANSFORM_P_TO_G:return i(e,r,n);case p.PE_TRANSFORM_G_TO_P:return t(e,r,n)}return 0},e.projToGeog=i,e.projToGeogCenter=r}(c||(c={})),(b=p||(p={})).init=function(){b.PE_BUFFER_MAX=a.PeDefs.prototype.PE_BUFFER_MAX,b.PE_NAME_MAX=a.PeDefs.prototype.PE_NAME_MAX,b.PE_MGRS_MAX=a.PeDefs.prototype.PE_MGRS_MAX,b.PE_USNG_MAX=a.PeDefs.prototype.PE_USNG_MAX,b.PE_DD_MAX=a.PeDefs.prototype.PE_DD_MAX,b.PE_DDM_MAX=a.PeDefs.prototype.PE_DDM_MAX,b.PE_DMS_MAX=a.PeDefs.prototype.PE_DMS_MAX,b.PE_UTM_MAX=a.PeDefs.prototype.PE_UTM_MAX,b.PE_PARM_MAX=a.PeDefs.prototype.PE_PARM_MAX,b.PE_TYPE_NONE=a.PeDefs.prototype.PE_TYPE_NONE,b.PE_TYPE_GEOGCS=a.PeDefs.prototype.PE_TYPE_GEOGCS,b.PE_TYPE_PROJCS=a.PeDefs.prototype.PE_TYPE_PROJCS,b.PE_TYPE_GEOGTRAN=a.PeDefs.prototype.PE_TYPE_GEOGTRAN,b.PE_TYPE_COORDSYS=a.PeDefs.prototype.PE_TYPE_COORDSYS,b.PE_TYPE_UNIT=a.PeDefs.prototype.PE_TYPE_UNIT,b.PE_TYPE_LINUNIT=a.PeDefs.prototype.PE_TYPE_LINUNIT,b.PE_STR_OPTS_NONE=a.PeDefs.prototype.PE_STR_OPTS_NONE,b.PE_STR_AUTH_NONE=a.PeDefs.prototype.PE_STR_AUTH_NONE,b.PE_STR_AUTH_TOP=a.PeDefs.prototype.PE_STR_AUTH_TOP,b.PE_STR_NAME_CANON=a.PeDefs.prototype.PE_STR_NAME_CANON,b.PE_PARM_X0=a.PeDefs.prototype.PE_PARM_X0,b.PE_PARM_ND=a.PeDefs.prototype.PE_PARM_ND,b.PE_TRANSFORM_1_TO_2=a.PeDefs.prototype.PE_TRANSFORM_1_TO_2,b.PE_TRANSFORM_2_TO_1=a.PeDefs.prototype.PE_TRANSFORM_2_TO_1,b.PE_TRANSFORM_P_TO_G=a.PeDefs.prototype.PE_TRANSFORM_P_TO_G,b.PE_TRANSFORM_G_TO_P=a.PeDefs.prototype.PE_TRANSFORM_G_TO_P,b.PE_HORIZON_RECT=a.PeDefs.prototype.PE_HORIZON_RECT,b.PE_HORIZON_POLY=a.PeDefs.prototype.PE_HORIZON_POLY,b.PE_HORIZON_LINE=a.PeDefs.prototype.PE_HORIZON_LINE,b.PE_HORIZON_DELTA=a.PeDefs.prototype.PE_HORIZON_DELTA},function(e){const t={},i={},r=e=>{if(e){const t=e.getType();switch(t){case p.PE_TYPE_GEOGCS:e=a.castObject(e,a.PeGeogcs);break;case p.PE_TYPE_PROJCS:e=a.castObject(e,a.PeProjcs);break;case p.PE_TYPE_GEOGTRAN:e=a.castObject(e,a.PeGeogtran);break;default:t&p.PE_TYPE_UNIT&&(e=a.castObject(e,a.PeUnit))}}return e};function n(e,i){let n=null,s=t[e];if(s||(s={},t[e]=s),s.hasOwnProperty(String(i)))n=s[i];else{const t=a.PeFactory.prototype.factoryByType(e,i);a.compare(t,a.NULL)||(n=t,s[i]=n)}return n=r(n),n}e.initialize=function(){a.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return n(p.PE_TYPE_COORDSYS,e)},e.factoryByType=n,e.fromString=function(e,t){let n=null,s=i[e];if(s||(s={},i[e]=s),s.hasOwnProperty(t))n=s[t];else{const i=a.PeFactory.prototype.fromString(e,t);a.compare(i,a.NULL)||(n=i,s[t]=n)}return n=r(n),n},e.geogcs=function(e){return n(p.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return n(p.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return a.PeFactory.prototype.getCode(e)},e.projcs=function(e){return n(p.PE_TYPE_PROJCS,e)},e.unit=function(e){return n(p.PE_TYPE_UNIT,e)}}(d||(d={}));let f=null;var m,y,h,O,j,g,v,S,w;function T(e){function t(e,t,i){e[t]=i(e[t])}a=e,p.init(),m.init(),j.init(),v.init(),S.init(),f=class extends a.PeGCSExtent{destroy(){a.destroy(this)}};const i=[a.PeDatum,a.PeGeogcs,a.PeGeogtran,a.PeObject,a.PeParameter,a.PePrimem,a.PeProjcs,a.PeSpheroid,a.PeUnit];for(const s of i)t(s.prototype,"getName",(e=>function(){return e.call(this,new Array(p.PE_NAME_MAX))}));for(const s of[a.PeGeogtran,a.PeProjcs])t(s.prototype,"getParameters",(e=>function(){const t=new Array(p.PE_PARM_MAX);let i=e.call(this);for(let e=0;e<t.length;e++){const r=a.getValue(i,"*");t[e]=r?a.wrapPointer(r,a.PeParameter):null,i+=Int32Array.BYTES_PER_ELEMENT}return t}));t(a.PeHorizon.prototype,"getCoord",(e=>function(){const t=this.getSize();if(!t)return null;const i=[];return x(i,t,e.call(this)),i})),t(a.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=a._pe_getPeGTlistExtendedGTsSize();return function(){let i=null;const r=e.call(this);if(!a.compare(r,a.NULL)){i=[r];const e=this.getSteps();if(e>1){const n=a.getPointer(r);for(let r=1;r<e;r++)i.push(a.wrapPointer(n+t*r,a.PeGTlistExtendedGTs))}}return i}}));const r=a._pe_getPeHorizonSize(),n=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let i=null;const n=e.call(this);if(!a.compare(n,a.NULL)){i=[n];const e=n.getNump();if(e>1){const t=a.getPointer(n);for(let n=1;n<e;n++)i.push(a.wrapPointer(t+r*n,a.PeHorizon))}}return t.set(e,i),i};t(a.PeProjcs.prototype,"horizonGcsGenerate",n),t(a.PeProjcs.prototype,"horizonPcsGenerate",n),a.PeObject.prototype.toString=function(e=p.PE_STR_OPTS_NONE){a.ensureCache.prepare();const t=a.getPointer(this),i=a.ensureInt8(new Array(p.PE_BUFFER_MAX));return a.UTF8ToString(a._pe_object_to_string_ext(t,e,i))}}function _(e){if(!e)return;const t=a.getClass(e);if(!t)return;const i=a.getCache(t);if(!i)return;const r=a.getPointer(e);r&&delete i[r]}function N(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(a.ensureInt8(r));return i}function E(e){let t;return Array.isArray(e[0])?(t=[],e.forEach((e=>{t.push(e[0],e[1])}))):t=e,t}function x(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=a.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=0===e.length;for(let n=0;n<t;n++)r&&(e[n]=new Array(2)),e[n][0]=a.getValue(i,"double"),e[n][1]=a.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}!function(e){let t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=a.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=a._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,i,r,n,s,o){let l=null;const u=new a.PeInteger(o);try{const c=a.PeGTlistExtended.prototype.getGTlist(e,i,r,n,s,u);if((o=u.val)&&(l=[c],o>1)){const e=a.getPointer(c);for(let i=1;i<o;i++)l.push(a.wrapPointer(e+t*i,a.PeGTlistExtendedEntry))}}finally{a.destroy(u)}return l}}(m||(m={})),function(e){e.destroy=function(e){if(e&&e.length){for(const t of e)_(t),t.getEntries().forEach((e=>{_(e);const t=e.getGeogtran();_(t),t.getParameters().forEach(_),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{_(e);const t=e.getDatum();_(t),_(t.getSpheroid()),_(e.getPrimem()),_(e.getUnit())}))}));a.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(y||(y={})),function(e){e.geogToGeog=function(e,t,i,r,n){a.ensureCache.prepare();const s=E(i),o=i===s,l=a.ensureFloat64(s);let u=0;r&&(u=a.ensureFloat64(r));const c=a._pe_geog_to_geog(a.getPointer(e),t,l,u,n);return c&&x(i,t,l,o),c}}(h||(h={})),function(e){const t=(e,t,i,r,n,s)=>{let o,l;switch(a.ensureCache.prepare(),e){case"dd":o=a._pe_geog_to_dd,l=p.PE_DD_MAX;break;case"ddm":o=a._pe_geog_to_ddm,l=p.PE_DDM_MAX;break;case"dms":o=a._pe_geog_to_dms,l=p.PE_DMS_MAX}let u=0;t&&(u=a.getPointer(t));const c=E(r),d=a.ensureFloat64(c),b=N(i,l),f=o(u,i,d,n,a.ensureInt32(b));if(f)for(let p=0;p<i;p++)s[p]=a.UTF8ToString(b[p]);return f},i=(e,t,i,r,n)=>{let s;switch(a.ensureCache.prepare(),e){case"dd":s=a._pe_dd_to_geog;break;case"ddm":s=a._pe_ddm_to_geog;break;case"dms":s=a._pe_dms_to_geog}let o=0;t&&(o=a.getPointer(t));const l=r.map((e=>a.ensureString(e))),u=a.ensureInt32(l),c=a.ensureFloat64(new Array(2*i)),p=s(o,i,u,c);return p&&x(n,i,c),p};e.geogToDms=function(e,i,r,n,s){return t("dms",e,i,r,n,s)},e.dmsToGeog=function(e,t,r,n){return i("dms",e,t,r,n)},e.geogToDdm=function(e,i,r,n,s){return t("ddm",e,i,r,n,s)},e.ddmToGeog=function(e,t,r,n){return i("ddm",e,t,r,n)},e.geogToDd=function(e,i,r,n,s){return t("dd",e,i,r,n,s)},e.ddToGeog=function(e,t,r,n){return i("dd",e,t,r,n)}}(O||(O={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=a.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=a.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=a.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=a.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=a.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geogToMgrsExtended=function(e,t,i,r,n,s,o){a.ensureCache.prepare();let l=0;e&&(l=a.getPointer(e));const u=E(i),c=a.ensureFloat64(u),d=N(t,p.PE_MGRS_MAX),b=a.ensureInt32(d),f=a._pe_geog_to_mgrs_extended(l,t,c,r,n,s,b);if(f)for(let p=0;p<t;p++)o[p]=a.UTF8ToString(d[p]);return f},e.mgrsToGeogExtended=function(e,t,i,r,n){a.ensureCache.prepare();let s=0;e&&(s=a.getPointer(e));const o=i.map((e=>a.ensureString(e))),l=a.ensureInt32(o),u=a.ensureFloat64(new Array(2*t)),c=a._pe_mgrs_to_geog_extended(s,t,l,r,u);return c&&x(n,t,u),c}}(j||(j={})),function(e){e.geogToUsng=function(e,t,i,r,n,s,o){a.ensureCache.prepare();let l=0;e&&(l=a.getPointer(e));const u=E(i),c=a.ensureFloat64(u),d=N(t,p.PE_MGRS_MAX),b=a.ensureInt32(d),f=a._pe_geog_to_usng(l,t,c,r,n,s,b);if(f)for(let p=0;p<t;p++)o[p]=a.UTF8ToString(d[p]);return f},e.usngToGeog=function(e,t,i,r){a.ensureCache.prepare();let n=0;e&&(n=a.getPointer(e));const s=i.map((e=>a.ensureString(e))),o=a.ensureInt32(s),l=a.ensureFloat64(new Array(2*t)),u=a._pe_usng_to_geog(n,t,o,l);return u&&x(r,t,l),u}}(g||(g={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=a.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=a.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=a.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geogToUtm=function(e,t,i,r,n){a.ensureCache.prepare();let s=0;e&&(s=a.getPointer(e));const o=E(i),l=a.ensureFloat64(o),u=N(t,p.PE_UTM_MAX),c=a.ensureInt32(u),d=a._pe_geog_to_utm(s,t,l,r,c);if(d)for(let p=0;p<t;p++)n[p]=a.UTF8ToString(u[p]);return d},e.utmToGeog=function(e,t,i,r,n){a.ensureCache.prepare();let s=0;e&&(s=a.getPointer(e));const o=i.map((e=>a.ensureString(e))),l=a.ensureInt32(o),u=a.ensureFloat64(new Array(2*t)),c=a._pe_utm_to_geog(s,t,l,r,u);return c&&x(n,t,u),c}}(v||(v={})),function(e){const t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=a.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=a.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=a.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=a.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(i,r=e.PE_PCSINFO_OPTION_DOMAIN){let n,s;return t.has(i)&&(s=t.get(i),s[r]&&(n=s[r])),n||(n=a.PePCSInfo.prototype.generate(i,r),s||(s=[],t.set(i,s)),s[r]=n),n}}(S||(S={})),function(e){e.versionString=function(){return a.PeVersion.prototype.version_string()}}(w||(w={}));const I=Object.freeze({__proto__:null,get _pe(){return a},isLoaded:o,isSupported:l,load:u,get PeCSTransformations(){return c},get PeDefs(){return p},get PeFactory(){return d},get PeGCSExtent(){return f},get PeGTlistExtended(){return m},get PeGTlistExtendedEntry(){return y},get PeGTTransformations(){return h},get PeNotationDms(){return O},get PeNotationMgrs(){return j},get PeNotationUsng(){return g},get PeNotationUtm(){return v},get PePCSInfo(){return S},get PeVersion(){return w},_init:T})},685:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return O})),i.d(t,"d",(function(){return h})),i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return a})),i.d(t,"h",(function(){return y})),i.d(t,"i",(function(){return n})),i.d(t,"j",(function(){return d})),i.d(t,"k",(function(){return l})),i.d(t,"l",(function(){return u})),i.d(t,"m",(function(){return f})),i.d(t,"n",(function(){return b})),i.d(t,"o",(function(){return c}));var r=i(90);const n=Object(r.b)()({esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"}),s=Object(r.b)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),a=Object(r.b)()({esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds"}),o=Object(r.b)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),l=Object(r.b)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),u=(Object(r.b)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),Object(r.b)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),c=(Object(r.b)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),Object(r.b)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),Object(r.b)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"})),p=Object(r.b)()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),d=Object(r.b)()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),b=Object(r.b)()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),f=Object(r.b)()({1:"right",2:"left"},{useNumericKeys:!0}),m=Object(r.b)()({0:"restriction",1:"added-cost"},{useNumericKeys:!0}),y=Object(r.b)()({0:"permit",1:"restrict"},{useNumericKeys:!0}),h=Object(r.b)()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation"},{useNumericKeys:!0}),O=Object(r.b)()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0})},691:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));let r=0;class n{constructor(e=null){this.uid=r++,e?(this._wkt=void 0!==e.wkt?e.wkt:null,this._wkid=void 0!==e.wkid?e.wkid:-1,this._isInverse=void 0!==e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(e){const t=new n;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=r++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=r++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=r++}getInverse(){const e=new n;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}class s{constructor(e){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,e&&e.steps)for(const t of e.steps)t instanceof n?this.steps.push(t):this.steps.push(new n({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}static fromGE(e){const t=new s;let i="";for(const r of e.steps){const e=n.fromGE(r);t.steps.push(e),i+=e.uid.toString()+","}return t._cached_projection={},t._gtlistentry=null,t._chain=i,t}getInverse(){const e=new s;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const i=this.steps[t];e.steps.push(i.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e),this._gtlistentry}assignCachedGe(e,t,i){this._cached_projection[s.cacheKey(e,t)]=i}getCachedGeTransformation(e,t){let i="";for(const n of this.steps)i+=n.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);const r=this._cached_projection[s.cacheKey(e,t)];return void 0===r?null:r}}},737:function(e,t,i){"use strict";function r(e){return e&&"getAtOrigin"in e&&"originOf"in e}i.d(t,"a",(function(){return r}))},782:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i(737);function n(e){e&&e.writtenProperties&&e.writtenProperties.forEach((e=>{const t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&Object(r.a)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}},812:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r={type:String,json:{read:{source:"token"},write:{target:"token"}}}},816:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i(79),n=i(90),s=i(86),a=i(81),o=(i(84),i(82),i(83),i(80));const l=new n.a({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let u=class extends s.a{constructor(e){super(e),this.description=null,this.type=null}};Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"description",void 0),Object(r.a)([Object(a.b)({type:String,json:{read:l.read,write:l.write}})],u.prototype,"type",void 0),u=Object(r.a)([Object(o.a)("esri.rest.support.GPMessage")],u);const c=u},881:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r,n=i(79),s=i(86),a=i(89),o=i(81),l=(i(83),i(95)),u=i(80),c=i(685);let p=r=class extends s.a{constructor(e){super(e),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}clone(){return new r(Object(a.a)({attributeParameterValues:this.attributeParameterValues,description:this.description,distanceAttributeName:this.distanceAttributeName,id:this.id,impedanceAttributeName:this.impedanceAttributeName,name:this.name,restrictionAttributeNames:this.restrictionAttributeNames,simplificationTolerance:this.simplificationTolerance,simplificationToleranceUnits:this.simplificationToleranceUnits,timeAttributeName:this.timeAttributeName,type:this.type,useHierarchy:this.useHierarchy,uturnAtJunctions:this.uturnAtJunctions}))}};Object(n.a)([Object(o.b)({type:[Object],json:{write:!0}})],p.prototype,"attributeParameterValues",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"description",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"distanceAttributeName",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"id",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"impedanceAttributeName",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"name",void 0),Object(n.a)([Object(o.b)({type:[String],json:{write:!0}})],p.prototype,"restrictionAttributeNames",void 0),Object(n.a)([Object(o.b)({type:Number,json:{write:{allowNull:!0}}})],p.prototype,"simplificationTolerance",void 0),Object(n.a)([Object(l.a)(c.i)],p.prototype,"simplificationToleranceUnits",void 0),Object(n.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"timeAttributeName",void 0),Object(n.a)([Object(l.a)(c.o)],p.prototype,"type",void 0),Object(n.a)([Object(o.b)({type:Boolean,json:{write:!0}})],p.prototype,"useHierarchy",void 0),Object(n.a)([Object(l.a)(c.l)],p.prototype,"uturnAtJunctions",void 0),p=r=Object(n.a)([Object(u.a)("esri.rest.support.TravelMode")],p);const d=p},910:function(e,t,i){"use strict";i.d(t,"a",(function(){return O})),i.d(t,"b",(function(){return j})),i.d(t,"c",(function(){return v})),i.d(t,"d",(function(){return g}));var r=i(103),n=i(88),s=i(85),a=i(132),o=i(98),l=i(137),u=i(79),c=i(86),p=i(81),d=(i(84),i(82),i(83),i(95)),b=i(80),f=i(685),m=i(881);let y=class extends c.a{constructor(e){super(e),this.accumulateAttributeNames=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}};Object(u.a)([Object(p.b)()],y.prototype,"accumulateAttributeNames",void 0),Object(u.a)([Object(p.b)()],y.prototype,"currentVersion",void 0),Object(u.a)([Object(p.b)()],y.prototype,"defaultTravelMode",void 0),Object(u.a)([Object(p.b)()],y.prototype,"directionsLanguage",void 0),Object(u.a)([Object(d.a)(f.e)],y.prototype,"directionsLengthUnits",void 0),Object(u.a)([Object(p.b)()],y.prototype,"directionsSupportedLanguages",void 0),Object(u.a)([Object(p.b)()],y.prototype,"directionsTimeAttribute",void 0),Object(u.a)([Object(p.b)()],y.prototype,"hasZ",void 0),Object(u.a)([Object(p.b)()],y.prototype,"impedance",void 0),Object(u.a)([Object(p.b)()],y.prototype,"networkDataset",void 0),Object(u.a)([Object(p.b)({type:[m.a]})],y.prototype,"supportedTravelModes",void 0),y=Object(u.a)([Object(b.a)("esri.rest.support.NetworkServiceDescription")],y);const h=y;function O(e,t,i,r){r[i]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}function j(e,t){for(let i=0;i<t.length;i++){const r=e[t[i]];if(r&&r.length)for(const e of r)e.z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function g(e,t){for(let i=0;i<t.length;i++){const r=e[t[i]];if(r&&r.length)for(const e of r)if(Object(s.k)(e)&&e.hasZ)return!0}return!1}async function v(e,t,i){if(!e)throw new n.a("network-service:missing-url","Url to Network service is missing");const s=Object(l.a)({f:"json",token:t},i),{data:u}=await Object(r.default)(e,s);u.supportedTravelModes||(u.supportedTravelModes=[]);for(let r=0;r<u.supportedTravelModes.length;r++)u.supportedTravelModes[r].id||(u.supportedTravelModes[r].id=u.supportedTravelModes[r].itemId);const c=u.currentVersion>=10.4?async function(e,t,i){try{const n=Object(l.a)({f:"json",token:t},i),s=Object(o.K)(e)+"/retrieveTravelModes",{data:{supportedTravelModes:a,defaultTravelMode:u}}=await Object(r.default)(s,n);return{supportedTravelModes:a,defaultTravelMode:u}}catch(s){throw new n.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:s})}}(e,t,i):async function(e,t){var i,n;const s=Object(l.a)({f:"json"},t),{data:u}=await Object(r.default)(e.replace(/\/rest\/.*$/i,"/info"),s);if(!u||!u.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:c}=u,p=Object(o.K)(c)+"/sharing/rest/portals/self",{data:d}=await Object(r.default)(p,s),b=Object(a.b)("helperServices.routingUtilities.url",d);if(!b)return{supportedTravelModes:[],defaultTravelMode:null};const f=Object(l.c)(c),m=/\/solve$/i.test(f.path)?"Route":/\/solveclosestfacility$/i.test(f.path)?"ClosestFacility":"ServiceAreas",y=Object(l.a)({f:"json",serviceName:m},t),h=Object(o.K)(b)+"/GetTravelModes/execute",O=await Object(r.default)(h,y),j=[];let g=null;if(null!=O&&null!=(i=O.data)&&null!=(n=i.results)&&n.length){const e=O.data.results;for(const t of e){var v;if("supportedTravelModes"===t.paramName){if(null!=(v=t.value)&&v.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);j.push(t)}}else"defaultTravelMode"===t.paramName&&(g=t.value)}}return{supportedTravelModes:j,defaultTravelMode:g}}(e,i),{defaultTravelMode:p,supportedTravelModes:d}=await c;return u.defaultTravelMode=p,u.supportedTravelModes=d,h.fromJSON(u)}},928:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class r{constructor(e={}){this._options=e}toQueryParams(e){if(!e)return null;const t=e.toJSON(),i={};return Object.keys(t).forEach((e=>{const r=this._options[e];if(r){const n="boolean"!=typeof r&&r.name?r.name:e,s="boolean"!=typeof r&&r.getter?r.getter(t):t[e];null!=s&&(i[n]=(e=>{if(!Array.isArray(e))return!1;const[t]=e;return"number"==typeof t||"string"==typeof t})(s)?s.join(","):"object"==typeof s?JSON.stringify(s):s)}else i[e]=t[e]}),this),i}}function n(e){return new r(e)}},929:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i(79),n=i(90),s=i(81),a=(i(84),i(82),i(83),i(80)),o=i(816);const l=new n.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let u=class extends o.a{constructor(e){super(e),this.type=null}};Object(r.a)([Object(s.b)({type:String,json:{read:l.read,write:l.write}})],u.prototype,"type",void 0),u=Object(r.a)([Object(a.a)("esri.rest.support.NAMessage")],u);const c=u},95:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(90),n=i(81);function s(e,t={}){var i;const s=e instanceof r.a?e:new r.a(e,t),a={type:null==(i=null==t?void 0:t.ignoreUnknown)||i?s.apiValues:String,json:{type:s.jsonValues,read:(null==t||!t.readOnly)&&{reader:s.read},write:{writer:s.write}}};return void 0!==(null==t?void 0:t.readOnly)&&(a.readOnly=!!t.readOnly),void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(a.json.name=t.name),Object(n.b)(a)}}}]);
//# sourceMappingURL=95.bcb2cbd2.chunk.js.map