{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/jsonUtils.js","../node_modules/@arcgis/core/support/featureFlags.js","../node_modules/@arcgis/core/symbols/support/styleUtils.js","../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"names":["m","e","o","n","t","r","b","context","isLabelSymbol","s","l","a","origin","i","retainCIM","hasLabelingContext","symbol","write","messages","push","declaredClass","error","type","f","portal","getDefault","url","user","username","load","then","disableExtraQuery","query","w","h","queryItems","results","toLowerCase","Array","isArray","typeKeywords","some","owner","styleName","y","fetchData","data","baseUrl","itemUrl","styleUrl","async","u","Promise","reject","c","p","cimRef","formatInfos","href","webRef","responseType","j","retainId","ignoreDrivers","S","d","D","clone","g","C","fromCIMSymbol","fromSimpleLineSymbol","fromSimpleMarkerSymbol","fromPictureMarkerSymbol","fromSimpleFillSymbol","fromTextSymbol","id","symbolLayers","length","getItemAt","_ignoreDrivers","globalThis","location","hostname","match","replace","name","U","N","items","find","symbolName","P","thumbnail","imageData","styleOrigin"],"mappings":"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","file":"static/js/186.c31d3eb5.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import o from\"../../core/Error.js\";import{isSome as s,isNone as n}from\"../../core/maybe.js\";import t from\"../Symbol3D.js\";import{to3D as r}from\"./symbolConversion.js\";import i from\"../WebStyleSymbol.js\";function m(e,o,n,t){const r=b(e,{},{context:t,isLabelSymbol:!1});s(r)&&(o[n]=r)}function l(e,o,n,t){const r=b(e,{},{context:t,isLabelSymbol:!0});s(r)&&(o[n]=r)}function b(e,m,l){if(n(e))return null;const{context:b,isLabelSymbol:a}=l;if(b&&\"web-scene\"===b.origin&&!(e instanceof t)&&!(e instanceof i)){const n=r(e,{retainCIM:!0,hasLabelingContext:a});return s(n.symbol)?n.symbol.write(m,b):(b.messages&&b.messages.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:b,error:n.error})),null)}return b&&\"web-map\"===b.origin&&\"web-style\"===e.type?(b.messages&&b.messages.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:b})),null):e.write(m,b)}function a(o,s){return e(o,null,s)}export{a as fromJSON,m as write,l as writeLabelSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";const r=()=>!!e(\"enable-feature:force-wosr\"),a=()=>!!e(\"enable-feature:direct-3d-object-feature-layer-display\"),t=()=>!!e(\"enable-feature:precipitation\");export{a as enableDirect3DObjectFeatureLayerDisplay,t as enablePrecipitation,r as enableWebStyleForceWOSR};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{throwIfAbortError as r}from\"../../core/promiseUtils.js\";import{normalize as o,removeFile as s}from\"../../core/urlUtils.js\";import n from\"../../portal/Portal.js\";import l from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as a}from\"../../support/featureFlags.js\";const f={};async function u(e,t){try{return{data:(await b(e,t)).data,baseUrl:s(e),styleUrl:e}}catch(o){return r(o),null}}function i(e,t,r){const o=t&&t.portal||n.getDefault();let s;const l=`${o.url} - ${o.user&&o.user.username} - ${e}`;return f[l]||(f[l]=y(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),f[l]}function y(e,r,o){return r.load(o).then((()=>{const t=new l({disableExtraQuery:!0,query:`owner:${w} AND type:${h} AND typekeywords:\"${e}\"`});return r.queryItems(t,o)})).then((({results:r})=>{let s=null;const n=e.toLowerCase();if(r&&Array.isArray(r))for(const e of r){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===h&&e.owner===w){s=e;break}}if(!s)throw new t(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function m(e,r,o){return e.styleUrl?u(e.styleUrl,o):e.styleName?i(e.styleName,r,o):Promise.reject(new t(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function c(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function p(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!a())for(const r of e.formatInfos)if(\"gltf\"===r.type)return r.href;return e.webRef}function d(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function b(t,r){const s={responseType:\"json\",query:{f:\"json\"},...r};return e(o(t),s)}const w=\"esri_en\",h=\"Style\",j=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{j as Style2DUrlTemplate,m as fetchStyle,c as makeCIMSymbolRef,b as requestJSON,d as styleNameFromItem,p as symbolUrlFromStyleItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import r from\"../WebStyleSymbol.js\";import m from\"../PointSymbol3D.js\";import i from\"../SimpleLineSymbol.js\";import l from\"../LineSymbol3D.js\";import n from\"../SimpleMarkerSymbol.js\";import t from\"../PictureMarkerSymbol.js\";import s from\"../SimpleFillSymbol.js\";import y from\"../PolygonSymbol3D.js\";import f from\"../TextSymbol.js\";import b from\"../LabelSymbol3D.js\";const p={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function a(a,S=p){if(!a)return{symbol:null};const{retainId:c=p.retainId,ignoreDrivers:u=p.ignoreDrivers,hasLabelingContext:d=p.hasLabelingContext,retainCIM:j=p.retainCIM}=S;let D;if(o(a)||a instanceof r)D=a.clone();else if(\"cim\"===a.type){var g,C;const o=null==(g=a.data)||null==(C=g.symbol)?void 0:C.type;if(\"CIMPointSymbol\"!==o)return{error:new e(\"symbol-conversion:unsupported-cim-symbol\",`CIM symbol of type '${o||\"unknown\"}' is unsupported in 3D`,{symbol:a})};D=j?a.clone():m.fromCIMSymbol(a)}else if(a instanceof i)D=l.fromSimpleLineSymbol(a);else if(a instanceof n)D=m.fromSimpleMarkerSymbol(a);else if(a instanceof t)D=m.fromPictureMarkerSymbol(a);else if(a instanceof s)D=y.fromSimpleFillSymbol(a);else{if(!(a instanceof f))return{error:new e(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${a.type||a.declaredClass}' is unsupported in 3D`,{symbol:a})};D=d?b.fromTextSymbol(a):m.fromTextSymbol(a)}if(c&&\"cim\"!==D.type&&(D.id=a.id),u&&o(D))for(let o=0;o<D.symbolLayers.length;++o)D.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:D}}export{a as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,n.some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(r)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(l)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(n).some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}const t=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,r=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,n=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,l,/^jsapps.esri.com$/,r,s];export{a as adjustStaticAGOUrl,c as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{urlToObject as l,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as p,fetchStyle as y,symbolUrlFromStyleItem as f,Style2DUrlTemplate as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?j(t,e,l):y(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(y,c,g,h,j){const d=y.data,U={portal:g&&g.portal||s.getDefault(),url:l(y.baseUrl),origin:\"portal-item\"},N=d.items.find((t=>t.name===c));if(!N){const t=`The symbol name '${c}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:c}))}let w=m(f(N,h),U),P=N.thumbnail&&N.thumbnail.href;const S=N.thumbnail&&N.thumbnail.imageData;e()&&(w=r(w),P=r(P));const D={portal:g.portal,url:l(n(w)),origin:\"portal-item\"};return u(w,j).then((e=>{const r=\"cimRef\"===h?p(e.data):e.data,o=i(r,D);if(o&&t(o)){if(P){const t=m(P,U);o.thumbnail=new b({url:t})}else S&&(o.thumbnail=new b({url:`data:image/png;base64,${S}`}));y.styleUrl?o.styleOrigin=new a({portal:g.portal,styleUrl:y.styleUrl,name:c}):y.styleName&&(o.styleOrigin=new a({portal:g.portal,styleName:y.styleName,name:c}))}return o}))}function j(t,e,r){const o=c.replace(/\\{SymbolName\\}/gi,t.name);return u(o,r).then((t=>{const r=p(t.data);return i(r,{portal:e.portal,url:l(n(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,g as resolveWebStyleSymbol};\n"],"sourceRoot":""}