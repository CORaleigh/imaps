{"version":3,"sources":["../node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js","../node_modules/@arcgis/core/layers/support/fieldUtils.js","../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js"],"names":["s","async","u","e","attribute","a","featuresJSON","l","normalizationType","r","normalizationField","minValue","maxValue","c","fieldType","p","f","m","field","valueExpression","normalizationTotal","viewInfoParams","d","i","v","t","values","supportsNullCount","n","useSampleStdDev","o","arcadeUtils","createFunction","getViewInfo","viewingMode","scale","spatialReference","forEach","attributes","createExecContext","executeFunction","parseFloat","push","Array","isArray","visualVariables","get","name","fields","length","startField","endField","startTimeField","endTimeField","Set","y","clear","g","from","sort","includes","add","F","I","map","x","extractFieldNames","T","WhereClause","create","isStandardized","fieldNames","h","displayField","w","toLowerCase","indexOf","S","valueType","A","collectRequiredFields","fieldsIndex","N","type","Promise","all","outStatistic","onStatisticValueExpression","onStatisticField","E","V","timeInfo","timeExtent","floorInfo","floorField","where","_","$","editFieldsInfo","creatorField","creationDateField","editorField","editDateField","O","geometryFieldsInfo","shapeAreaField","shapeLengthField","U","labelingInfo","getLabelExpression","expression","match","slice","j","z","defaultValue","W","nullable","k","isNaN","isFinite","P","R","Number","isInteger","Math","floor","C","G","q","M","arguments","Y","J","X","has","B","H","Q","Z","ee","ne","re","min","max","ie","OUT_OF_RANGE","domain","INVALID_TYPE","te","oe","ae","se","ue","MAX_VALUE","fe","INVALID_CODED_VALUE","JSON","stringify","VALUE_OUT_OF_RANGE","de","ce","sqlExpression","supportsSQLExpression","filter","count","nullcount","POSITIVE_INFINITY","NEGATIVE_INFINITY","sqrt","avg","stddev","sum","variance","ceil","log","LOG10E"],"mappings":"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","file":"static/js/205.7b89af48.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isFinite as e}from\"../../../core/mathUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import{isNullCountSupported as i,calculateStringStatistics as t,calculateStatistics as n,processStatsResult as o,getNormalizedValue as l}from\"./utils.js\";import{loadArcade as r}from\"../../../support/arcadeOnDemand.js\";let s=null;async function u(e){const{attribute:a,featuresJSON:l}=e,{normalizationType:r,normalizationField:s,minValue:u,maxValue:c,fieldType:p}=a,f=await m({field:a.field,valueExpression:a.valueExpression,normalizationType:r,normalizationField:s,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams},l),d=i({normalizationType:r,normalizationField:s,minValue:u,maxValue:c}),v=\"string\"===p?t({values:f,supportsNullCount:d}):n({values:f,minValue:u,maxValue:c,useSampleStdDev:!r,supportsNullCount:d});return o(v,\"date\"===p)}async function m(i,t){if(!t)return[];const n=i.field,o=i.valueExpression,u=i.normalizationType,m=i.normalizationField,c=i.normalizationTotal,p=[],f=i.viewInfoParams;let d=null,v=null;if(o){if(!s){const{arcadeUtils:e}=await r();s=e}d=s.createFunction(o),v=f&&s.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new a(f.spatialReference)})}return t.forEach((a=>{const i=a.attributes;let t;if(o){const e=s.createExecContext(a,v);t=s.executeFunction(d,e)}else i&&(t=i[n]);if(u&&e(t)){const e=i&&parseFloat(i[m]);t=l(t,u,e,c)}p.push(t)})),p}export{m as getDataValues,u as summaryStatistics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isNone as n,isSome as i}from\"../../core/maybe.js\";import{getDeepValue as t,setDeepValue as r}from\"../../core/object.js\";import{validateDomainValue as l,getDomainRange as o,DomainValidationError as a}from\"./domains.js\";import{loadArcade as s}from\"../../support/arcadeOnDemand.js\";const u=[\"field\",\"field2\",\"field3\",\"normalizationField\",\"rotationInfo.field\",\"proportionalSymbolInfo.field\",\"proportionalSymbolInfo.normalizationField\",\"colorInfo.field\",\"colorInfo.normalizationField\"],f=[\"field\",\"normalizationField\"];function d(e,n){if(null!=e&&null!=n)for(const i of Array.isArray(e)?e:[e])if(c(u,i,n),\"visualVariables\"in i&&i.visualVariables)for(const e of i.visualVariables)c(f,e,n)}function c(e,n,i){if(e)for(const l of e){const e=t(l,n),o=e&&\"function\"!=typeof e&&i.get(e);o&&r(l,o.name,n)}}function m(e,n){if(null!=e&&null!=n&&n.fields.length)if(\"startField\"in e){const i=n.get(e.startField),t=n.get(e.endField);e.startField=i&&i.name||null,e.endField=t&&t.name||null}else{const i=n.get(e.startTimeField),t=n.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=t&&t.name||null}}const p=new Set;function y(e,n){return e&&n?(p.clear(),g(p,e,n),Array.from(p).sort()):[]}function g(e,n,i){var t;if(i)if(null!=n&&null!=(t=n.fields)&&t.length)if(i.includes(\"*\"))for(const{name:r}of n.fields)e.add(r);else for(const r of i)F(e,n,r);else{if(i.includes(\"*\"))return e.clear(),void e.add(\"*\");for(const n of i)e.add(n)}}function F(e,n,i){if(\"string\"==typeof i)if(n){const t=n.get(i);t&&e.add(t.name)}else e.add(i)}function I(e,i){return n(i)||n(e)?[]:i.includes(\"*\")?e.fields.map((e=>e.name)):i}function b(e,n,i=1){if(!n||!e)return[];if(n.includes(\"*\"))return[\"*\"];const t=y(e,n);return t.length/e.fields.length>=i?[\"*\"]:t}async function x(e,n,i){if(!i)return;const{arcadeUtils:t}=await s(),r=t.extractFieldNames(i);for(const l of r)F(e,n,l)}async function T(n,i,t){if(t&&\"1=1\"!==t){const r=(await import(\"../../core/sql/WhereClause.js\")).WhereClause.create(t,i);if(!r.isStandardized)throw new e(\"fieldUtils:collectFilterFields\",\"Where clause is not standardized\");g(n,i,r.fieldNames)}}function h({displayField:e,fields:n}){return e||(n&&n.length?w(n,\"name-or-title\")||w(n,\"unique-identifier\")||w(n,\"type-or-category\")||S(n):null)}function S(e){for(const n of e){if(!n||!n.name)continue;const e=n.name.toLowerCase();if(e.indexOf(\"name\")>-1||e.indexOf(\"title\")>-1)return n.name}return null}function w(e,n){for(const i of e)if(i&&i.valueType&&i.valueType===n)return i.name;return null}async function v(e){if(!e)return[];const n=new Set;return await A(n,e),Array.from(n).sort()}async function A(e,n){if(!n)return;const i=t(\"elevationInfo.featureExpressionInfo\",n);return i?i.collectRequiredFields(e,n.fieldsIndex):void 0}async function E(e,n,i){i.outStatistic.onStatisticValueExpression?x(e,n,i.outStatistic.onStatisticValueExpression):e.add(i.outStatistic.onStatisticField)}async function N(e,n,i){n&&i&&\"cluster\"===i.type&&i.fields&&await Promise.all(i.fields.map((i=>E(e,n.fieldsIndex,i))))}async function V(e,n,t){n&&(n.timeInfo&&i(t)&&t.timeExtent&&g(e,n.fieldsIndex,[n.timeInfo.startField,n.timeInfo.endField]),n.floorInfo&&g(e,n.fieldsIndex,[n.floorInfo.floorField]),i(t)&&i(t.where)&&await T(e,n.fieldsIndex,t.where))}async function _(e,n,i){n&&i&&(i.valueExpression?await x(e,n.fieldsIndex,i.valueExpression):i.field&&F(e,n.fieldsIndex,i.field))}async function D(e){if(!e)return[];const n=\"timeInfo\"in e&&e.timeInfo;return n?y(e.fieldsIndex,[e.trackIdField,n.startField,n.endField]):[]}function $(e){if(!e)return[];const n=\"editFieldsInfo\"in e&&e.editFieldsInfo;return n?y(e.fieldsIndex,[n&&n.creatorField,n&&n.creationDateField,n&&n.editorField,n&&n.editDateField]):[]}function O(e){if(!e)return[];const n=e.geometryFieldsInfo;return n?y(e.fieldsIndex,[n.shapeAreaField,n.shapeLengthField]):[]}async function L(e){if(!e)return[];const n=new Set;return await U(n,e),Array.from(n).sort()}async function U(e,n){const{labelingInfo:i,fieldsIndex:t}=n;i&&i.length&&await Promise.all(i.map((n=>j(e,t,n))))}async function j(e,n,i){if(!i)return;const t=i.getLabelExpression(),r=i.where;if(\"arcade\"===t.type)await x(e,n,t.expression);else{const i=t.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{F(e,n,i.slice(1,-1))}))}await T(e,n,r)}function z(e){const n=e.defaultValue;return void 0!==n&&W(e,n)?n:e.nullable?null:void 0}function k(e){return\"number\"==typeof e&&!isNaN(e)&&isFinite(e)}function P(e){return null===e||k(e)}const R=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;function C(e){return null===e||R(e)}function G(e){return null!=e&&\"string\"==typeof e}function q(e){return null===e||G(e)}function M(){return!0}function W(e,n){let i;switch(e.type){case\"date\":case\"integer\":case\"long\":case\"small-integer\":case\"esriFieldTypeDate\":case\"esriFieldTypeInteger\":case\"esriFieldTypeLong\":case\"esriFieldTypeSmallInteger\":i=e.nullable?C:R;break;case\"double\":case\"single\":case\"esriFieldTypeSingle\":case\"esriFieldTypeDouble\":i=e.nullable?P:k;break;case\"string\":case\"esriFieldTypeString\":i=e.nullable?q:G;break;default:i=M}return 1===arguments.length?i:i(n)}const Y=[\"integer\",\"small-integer\",\"single\",\"double\"],J=new Set([...Y,\"esriFieldTypeInteger\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\"]);function X(e){return null!=e&&J.has(e.type)}function B(e){return null!=e&&(\"string\"===e.type||\"esriFieldTypeString\"===e.type)}function H(e){return null!=e&&(\"date\"===e.type||\"esriFieldTypeDate\"===e.type)}function K(e,n){return null===ne(e,n)}var Q,Z;function ee(e){return null==e||\"number\"==typeof e&&isNaN(e)?null:e}function ne(e,n){return e.nullable&&null===n?null:X(e)&&!ie(e.type,Number(n))?Q.OUT_OF_RANGE:W(e,n)?e.domain?l(e.domain,n):null:Z.INVALID_TYPE}function ie(e,n){const i=\"string\"==typeof e?re(e):e;return!!i&&(i.isInteger?R(n)&&n>=i.min&&n<=i.max:n>=i.min&&n<=i.max)}function te(e){const n=o(e.domain);return n||(X(e)?re(e.type):void 0)}function re(e){switch(e){case\"esriFieldTypeSmallInteger\":case\"small-integer\":return oe;case\"esriFieldTypeInteger\":case\"integer\":return ae;case\"esriFieldTypeSingle\":case\"single\":return se;case\"esriFieldTypeDouble\":case\"double\":return ue}}function le(e){if(!k(e))return null;if(R(e)){if(e>=oe.min&&e<=oe.max)return\"esriFieldTypeSmallInteger\";if(e>=ae.min&&e<=ae.max)return\"esriFieldTypeInteger\"}return e>=se.min&&e<=se.max?\"esriFieldTypeSingle\":\"esriFieldTypeDouble\"}!function(e){e.OUT_OF_RANGE=\"numeric-range-validation-error::out-of-range\"}(Q||(Q={})),function(e){e.INVALID_TYPE=\"type-validation-error::invalid-type\"}(Z||(Z={}));const oe={min:-32768,max:32767,isInteger:!0},ae={min:-2147483648,max:2147483647,isInteger:!0},se={min:-34e37,max:12e37,isInteger:!1},ue={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function fe(e,n,i){switch(e){case a.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case a.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${n.name}, domain: ${JSON.stringify(n.domain)}`;case Z.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${n.name}, type: ${n.type}, nullable: ${n.nullable}`;case Q.OUT_OF_RANGE:{const{min:e,max:t}=re(n.type);return`Value ${i} is out of range for the number type - field: ${n.name}, type: ${n.type}, value range is ${e} to ${t}`}}}function de(e,n){return!ce(e,n,null)}function ce(e,n,t){if(!n||!n.attributes||!e){if(i(t))for(const n of e)t.add(n);return!0}const r=n.attributes;let l=!1;for(const o of e)if(!(o in r)){if(l=!0,!i(t))break;t.add(o)}return l}async function me(e,n){const i=new Set;for(const t of n)await x(i,e.fieldsIndex,t);return Array.from(i).sort()}export{Q as NumericRangeValidationError,Z as TypeValidationError,x as collectArcadeFieldNames,A as collectElevationFields,N as collectFeatureReductionFields,F as collectField,g as collectFields,V as collectFilterFields,U as collectLabelingFields,_ as collectOrderByFields,ue as doubleRange,de as featureHasFields,y as fixFields,d as fixRendererFields,m as fixTimeInfoFields,h as getDisplayFieldName,v as getElevationFields,me as getExpressionFields,$ as getFeatureEditFields,O as getFeatureGeometryFields,z as getFieldDefaultValue,te as getFieldRange,L as getLabelingFields,le as getNumericTypeForValue,D as getTimeFields,ae as integerRange,H as isDateField,ie as isNumberInRange,X as isNumericField,B as isStringField,K as isValidFieldValue,W as isValueMatchingFieldType,Y as numericTypes,b as packFields,ce as populateMissingFields,u as rendererFields,ee as sanitizeNullFieldValue,se as singleRange,oe as smallIntegerRange,I as unpackFieldNames,ne as validateFieldValue,fe as validationErrorToString,f as visualVariableFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isNumericField as t,numericTypes as l}from\"../../../layers/support/fieldUtils.js\";function o(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,l=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!l}function i(e){const{values:n,supportsNullCount:t}=e,l=n.filter((e=>null!=e)).length,o={count:l};return t&&(o.nullcount=n.length-l),o}function r(e){const{values:n,useSampleStdDev:t,supportsNullCount:l}=e;let o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=null,u=null,s=null,a=null,c=0;const f=null==e.minValue?-1/0:e.minValue,d=null==e.maxValue?1/0:e.maxValue;for(const p of n)Number.isFinite(p)?p>=f&&p<=d&&(r+=p,o=Math.min(o,p),i=Math.max(i,p),c++):\"string\"==typeof p&&c++;if(c&&null!=r){u=r/c;let e=0;for(const t of n)Number.isFinite(t)&&t>=f&&t<=d&&(e+=(t-u)**2);a=t?c>1?e/(c-1):0:c>0?e/c:0,s=Math.sqrt(a)}else o=null,i=null;const m={avg:u,count:c,max:i,min:o,stddev:s,sum:r,variance:a};return l&&(m.nullcount=n.length-c),m}function u(e,n){return n?([\"avg\",\"stddev\",\"variance\"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]))})),e):e}function s(e,n,t,l){let o=null;switch(n){case\"log\":0!==e&&(o=Math.log(e)*Math.LOG10E);break;case\"percent-of-total\":Number.isFinite(l)&&0!==l&&(o=e/l*100);break;case\"field\":Number.isFinite(t)&&0!==t&&(o=e/t);break;case\"natural-log\":e>0&&(o=Math.log(e));break;case\"square-root\":e>0&&(o=e**.5)}return o}function a(e){const n=e.field,t=e.normalizationType,l=e.normalizationField;let o;return\"log\"===t?o=\"(NOT \"+n+\" = 0)\":\"field\"===t?o=\"(NOT \"+l+\" = 0)\":\"natural-log\"!==t&&\"square-root\"!==t||(o=`(${n} > 0)`),o}function c(n,t){return new e(n,t)}function f(e,n,t){const l=null!=n?e+\" >= \"+n:\"\",o=null!=t?e+\" <= \"+t:\"\";let i=\"\";return i=l&&o?p(l,o):l||o,i?\"(\"+i+\")\":\"\"}function d(e,n,t,l){let o=null;return n?n.name!==e.objectIdField&&-1!==l.indexOf(n.type)||(o=c(t,\"'field' should be one of these types: \"+l.join(\",\"))):o=c(t,\"'field' is not defined in the layer schema\"),o}function m(e,n,o){let i;return n?n.name!==e.objectIdField&&t(n)||(i=c(o,\"'field' should be one of these numeric types: \"+l.join(\",\"))):i=c(o,\"'field' is not defined in the layer schema\"),i}function p(e,t){let l=n(e)?e:\"\";return n(t)&&t&&(l=l?\"(\"+l+\") AND (\"+t+\")\":t),l}function h(e,n,t){const l=g({layer:e,fields:n});if(l.length)return c(t,\"Unknown fields: \"+l.join(\", \")+\". You can only use fields defined in the layer schema\");const o=b({layer:e,fields:n});return o.length?c(t,\"Unsupported fields: \"+o.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function g(e){const n=e.layer;return e.fields.filter((e=>!n.getField(e)))}function b(e){const n=e.layer;return e.fields.filter((e=>{const t=n.getFieldUsageInfo(e);return!t||!t.supportsStatistics}))}export{r as calculateStatistics,i as calculateStringStatistics,c as createError,s as getNormalizedValue,f as getRangeExpr,a as getSQLFilterForNormalization,o as isNullCountSupported,p as mergeWhereClauses,u as processStatsResult,h as verifyBasicFieldValidity,d as verifyFieldType,m as verifyNumericField};\n"],"sourceRoot":""}