{"version":3,"sources":["../node_modules/@arcgis/core/tasks/support/FeatureSet.js","../node_modules/@arcgis/core/rest/query/operations/zscale.js","../node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js"],"names":["h","s","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","d","l","constructor","e","super","this","displayFieldName","exceededTransferLimit","features","fields","geometryType","hasM","hasZ","queryGeometry","spatialReference","readFeatures","r","o","a","fromJSON","i","length","n","c","p","geometry","t","push","writeGeometryType","write","type","readQueryGeometry","y","writeSpatialReference","toJSON","Array","isArray","quantize","scale","translate","_getQuantizationFunction","Math","round","u","splice","transform","unquantize","_getHydrationFunction","_quantizePoints","x","rings","paths","points","xmin","ymin","xmax","ymax","String","json","prototype","Boolean","overridePolicy","enabled","f","read","reader","types","m","isDefaultToJSON","g","vcsWkid","z","RegExp","join","test","path","match","indexOf","title","v","slice","serverType","sublayer","parseInt","url","serviceUrl","sublayerId","Number","replace","toUpperCase","toLowerCase","w","logger","layer","layerId","nonStandardUrlAllowed","O","toString","S","C","authority","outSpatialReference"],"mappings":"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","file":"static/js/166.3e4d0c35.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let i=0;i<e.length;i++){const r=e[i],n=c.fromJSON(r),p=r.geometry&&r.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const n of i)if(n&&t(n.geometry))return void h.write(n.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const s of o)if(s&&t(s.geometry)&&s.geometry.spatialReference)return void(r.spatialReference=s.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=e=>Math.round((e-s)/t),p=e=>Math.round((i-e)/o),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,p);for(let y=0,u=l.length;y<u;y++)a(r(l[y].geometry))||(l.splice(y,1),y--,u--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=e=>e*n+s,a=e=>i-e*p,y=this._getHydrationFunction(e,l,a);for(const{geometry:u}of r)t(u)&&y(u);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let i=0,n=o.length;i<n;i++){const e=o[i],n=this._quantizePoints(e,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let n=0,p=o.length;n<p;n++){const e=o[n];for(let o=0,n=e.length;o<n;o++){const n=e[o];o>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let n=0,p=o.length;n<p;n++){const e=o[n];n>0?(s+=e[0],i+=e[1]):(s=e[0],i=e[1]),e[0]=t(s),e[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../../core/maybe.js\";import{equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";function t(t,c,l){if(n(c)||n(l)||l.vcsWkid||o(c,l))return null;const u=e(c)/e(l);if(1===u)return null;switch(t){case\"point\":case\"esriGeometryPoint\":return n=>i(n,u);case\"polyline\":case\"esriGeometryPolyline\":return n=>s(n,u);case\"polygon\":case\"esriGeometryPolygon\":return n=>r(n,u);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o)}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o)}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o)}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o)}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e)}function l(n,o,t){if(!n&&!o||!t)return;const i=e(t);u(n,t,i),u(o,t,i)}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e)}function a(n,t,i){if(!n||!n.spatialReference||o(n.spatialReference,t))return;const r=e(n.spatialReference)/i;if(1!==r)if(\"x\"in n)null!=n.z&&(n.z*=r);else if(\"rings\"in n)c(n,n.rings,r);else if(\"paths\"in n)c(n,n.paths,r);else if(\"points\"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r)}export{t as getGeometryZScaler,l as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as l}from\"../../chunks/persistableUrlUtils.js\";const u=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${u.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${u.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=/(.*)\\/(\\d+)\\/?$/i;function p(e){return!!a.test(e)}function d(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,l]=n,u=i.indexOf(\"/\");return{title:v(-1!==u?i.slice(u+1):i),serverType:o,sublayer:null!=l&&\"\"!==l?parseInt(l,10):null,url:{path:s}}}function m(e){const t=r(e).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function h(r,t){const n=[];if(r){const t=d(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=v(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function w(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",n=\"//tiles\",s=\"//features\",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function x(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function y(e,r){return e?t(n(e,r)):e}function g(s){let{url:i}=s;if(!i)return{url:i};i=n(i,s.logger);const o=r(i),l=d(o.path);let u;if(e(l))null!=l.sublayer&&null==s.layer.layerId&&(u=l.sublayer),i=l.url.path;else if(s.nonStandardUrlAllowed){const r=m(o.path);e(r)&&(i=r.serviceUrl,u=r.sublayerId)}return{url:t(i),layerId:u}}function O(e,r,t,n,i){l(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function C(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{v as cleanTitle,p as isArcGISUrl,w as isHostedAgolService,x as isHostedSecuredProxyService,C as isServerOrServicesAGOLUrl,S as isWmsServer,d as parse,m as parseNonStandardSublayerUrl,y as sanitizeUrl,g as sanitizeUrlWithLayerId,u as serverTypes,h as titleFromUrlAndName,O as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n"],"sourceRoot":""}