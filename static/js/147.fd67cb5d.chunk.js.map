{"version":3,"sources":["../node_modules/@arcgis/core/support/actions/ActionSlider.js","../node_modules/@arcgis/core/widgets/LayerList/ListItemPanel.js","../node_modules/@arcgis/core/widgets/LayerList/support/layerListUtils.js","../node_modules/@arcgis/core/widgets/LayerList/ListItem.js","../node_modules/@arcgis/core/widgets/LayerList/LayerListViewModel.js","../node_modules/@arcgis/core/widgets/LayerList.js","../node_modules/@arcgis/core/support/actions/ActionBase.js","../node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js","../node_modules/@arcgis/core/support/actions/ActionButton.js","../node_modules/@arcgis/core/support/actions/ActionToggle.js","../node_modules/@arcgis/core/widgets/support/widget.js"],"names":["o","r","i","constructor","s","super","this","displayValueEnabled","max","min","step","type","value","clone","active","className","disabled","id","indicator","title","visible","t","prototype","e","a","c","h","_legend","_handles","content","image","listItem","open","initialize","own","n","_createLegend","destroy","_getFirstWidget","_get","iconClass","_override","_clearOverride","label","render","class","_renderContents","_renderContent","view","layer","classes","key","innerHTML","l","HTMLElement","bind","afterCreate","_attachToNode","Array","isArray","map","_getLegendOptions","layerInfos","_hasLegend","then","default","notifyChange","_updateLegend","add","scheduleRender","some","appendChild","_getWidget","g","listMode","d","sort","indexOf","uid","layers","f","find","b","j","ofType","defaultKeyValue","base","typeMap","button","toggle","u","slider","y","L","S","C","A","actionsSections","actionsOpen","children","childrenSortable","error","layerView","panel","parent","sortable","handles","_watchLayerProperties","_updateChildren","_setListItemOnPanel","_getLayerView","castPanel","get","hasOwnProperty","m","updating","_isLayerUpdating","isNaN","minScale","maxScale","v","visibilityMode","w","forEach","_addChildren","remove","removeAll","filter","addMany","_makeChildren","_watchSublayerChanges","on","_initializeChildLayers","reverse","_","whenLayerView","_set","loadStatus","readOnly","p","V","EventedAccessor","listItemCreatedFunction","operationalItems","_viewHandles","triggerAction","emit","action","item","moveListItem","length","includes","_createLayerViewHandles","_compileList","_createMapLayerHandles","_watchItemProperties","_modifyListItemChildren","_modifyListItem","call","_createListItem","_removeAllItems","_getViewableLayers","_watchLayersListMode","_createNewItems","_modifyOrRemoveItems","_sortItems","push","removeMany","ready","splice","E","M","x","O","U","exclusive","inherited","independent","R","getLogger","N","statusIndicators","$","_sortableNodes","Map","_sortableMap","_focusSortUid","_newUI","visibleItems","localeStrings","messages","messagesCommon","multipleSelectionEnabled","selectionEnabled","selectedItems","viewModel","visibleElements","_onSortableSort","to","from","newIndex","_sortLayers","dataset","group","_moveLayerFromChildList","_sortableCanPut","el","_sortableCanPull","_onSortableEnd","oldIndex","insertBefore","_setVisibleItems","_itemsChanged","_toggleAllSorting","_destroySortables","replacement","version","castVisibleElements","state","renderItems","renderNoItems","noItemsToDisplay","widgetLabel","role","_sortNodeCreated","afterUpdate","afterRemoved","_sortNodeRemoved","renderItem","toArray","renderActionsMenuIcon","closeActions","openActions","onclick","_toggleActionsOpen","onkeydown","tabindex","renderActionsMenu","renderPanelButton","_getSingleActionButton","renderAction","singleAction","renderChildList","hidden","renderChildrenToggle","collapse","expand","_toggleChildrenClick","renderError","layerError","renderItemContent","_filterActions","_countActions","renderLabel","renderActionsSections","visibleAtCurrentScale","toString","_focusListItem","_toggleSelection","_selectionKeydown","tabIndex","renderItemTitle","untitledLayer","layerInvisibleAtScale","renderItemToggleIcon","renderItemToggle","_toggleVisibility","renderItemError","_getIconImageStyles","_triggerPanel","styles","renderActionSection","renderActionIcon","renderActionTitle","_triggerAction","delete","clear","_toggleSorting","option","create","dataIdAttr","name","pull","put","fallbackTolerance","onSort","onEnd","chosenClass","set","errorsVisible","reduce","getItemAt","focus","_watchActionSectionChanges","_renderOnActionChanges","_renderOnItemChanges","declaredClass","stopPropagation","currentTarget","target","getAttribute","aliasOf","source","overridable","I","P","TypeError","KeyboardEvent","preventDefault","click","postMixInProperties","buildRendering","postCreate","startup"],"mappings":"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","file":"static/js/147.fd67cb5d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./ActionBase.js\";var o;let r=o=class extends i{constructor(s){super(s),this.displayValueEnabled=!1,this.max=1,this.min=0,this.step=.1,this.type=\"slider\",this.value=null}clone(){return new o({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})}};s([t()],r.prototype,\"displayValueEnabled\",void 0),s([t()],r.prototype,\"max\",void 0),s([t()],r.prototype,\"min\",void 0),s([t()],r.prototype,\"step\",void 0),s([t()],r.prototype,\"value\",void 0),r=o=s([e(\"esri.support.Action.ActionSlider\")],r);var a=r;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Handles.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";import{init as n}from\"../../core/watchUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import{isWidget as l}from\"../support/widget.js\";import{tsx as a}from\"../support/jsxFactory.js\";const c={base:\"esri-layer-list-panel\",content:\"esri-layer-list-panel__content\",contentLegend:\"esri-layer-list-panel__content--legend\",contentString:\"esri-layer-list-panel__content--string\",contentElement:\"esri-layer-list-panel__content--html-element\",contentWidget:\"esri-layer-list-panel__content--widget\"},d=\"legends\";let h=class extends(s(o)){constructor(e,s){super(e,s),this._legend=null,this._handles=new t,this.content=null,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.own([n(this,\"content\",(e=>this._createLegend(e)))])}destroy(){const{_legend:e}=this;e&&e.destroy(),this._legend=null}get className(){const{image:e}=this,t=this._getFirstWidget();return this._get(\"className\")||!e&&t?t.iconClass:\"\"}set className(e){void 0!==e?this._override(\"className\",e):this._clearOverride(\"className\")}get title(){const e=this._getFirstWidget();return this._get(\"title\")||e?e.label:\"\"}set title(e){void 0!==e?this._override(\"title\",e):this._clearOverride(\"title\")}render(){return a(\"div\",{class:c.base},this._renderContents())}_renderContent(e){const{_legend:t,listItem:s}=this;if(!e)return null;if(\"legend\"===e){return s&&s.view&&s.layer&&t?a(\"div\",{class:this.classes(c.content,c.contentLegend),key:t},t.render()):null}return\"string\"==typeof e?a(\"div\",{class:this.classes(c.content,c.contentString),key:e,innerHTML:e}):l(e)?a(\"div\",{class:this.classes(c.content,c.contentWidget),key:e},e.render()):e instanceof HTMLElement?a(\"div\",{class:this.classes(c.content,c.contentElement),key:e,bind:e,afterCreate:this._attachToNode}):null}_renderContents(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e)}_getLegendOptions(e){if(!e)return;const{layer:t,view:s}=e;return t&&s?{view:s,layerInfos:[{layer:t,title:\"\"}]}:void 0}_createLegend(e){this._hasLegend(e)&&!this._legend&&import(\"../Legend.js\").then((({default:e})=>{const{_handles:t,listItem:s}=this,i=new e(this._getLegendOptions(s));this._legend=i,this.notifyChange(\"className\"),this.notifyChange(\"title\");const r=n(this,[\"listItem.view\",\"listItem.layer\"],(()=>this._updateLegend(i)));t.add(r,d),this.scheduleRender()}))}_hasLegend(e){const t=\"legend\";return e===t||!!Array.isArray(e)&&e.some((e=>e===t))}_attachToNode(e){e.appendChild(this)}_updateLegend(e){const{listItem:t}=this;if(!t)return;const{layer:s,view:n}=t;e.view=n,e.layerInfos=[{layer:s,title:null}],this.scheduleRender()}_getWidget(e){return\"legend\"===e?this._legend:l(e)?e:null}_getFirstWidget(){const{content:e}=this;if(Array.isArray(e)){let t=null;return e.some((e=>{const s=this._getWidget(e);return s&&(t=s),!!s})),t}return this._getWidget(e)}};e([i()],h.prototype,\"className\",null),e([i()],h.prototype,\"content\",void 0),e([i()],h.prototype,\"image\",void 0),e([i()],h.prototype,\"listItem\",void 0),e([i()],h.prototype,\"title\",null),e([i()],h.prototype,\"open\",void 0),e([i()],h.prototype,\"visible\",void 0),h=e([r(\"esri.widgets.LayerList.ListItemPanel\")],h);var g=h;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst e={hide:\"hide\",hideChildren:\"hide-children\"};function i(e){if(e)return null!=e.listMode?e.listMode:void 0}function n(e){if(e)return null!=e.minScale?e.minScale:void 0}function t(e){if(e)return null!=e.maxScale?e.maxScale:void 0}function r(e){if(!e)return\"inherited\";const i=e.get(\"layer.capabilities.exportMap.supportsSublayerVisibility\");if(\"boolean\"==typeof i)return i?\"independent\":\"inherited\";const n=e.get(\"capabilities.exportMap.supportsSublayerVisibility\");return\"boolean\"==typeof n?n?\"independent\":\"inherited\":null!=e.visibilityMode?e.visibilityMode:\"independent\"}function o(i){if(!i)return;return i.listMode===e.hideChildren||\"wmts\"===i.type?void 0:\"group\"===i.type?\"layers\":\"sublayers\"}function u(e){const i=e&&(e.get(\"layer.layer\")||e.layer);if(!i)return!1;const n=i.get(\"capabilities.exportMap.supportsDynamicLayers\");return\"boolean\"!=typeof n||n}function l(n){return i(n)!==e.hide}function a(e,i){if(!e||isNaN(i))return!1;const r=n(e),o=t(e),u=!isNaN(r)&&r>0&&i>r,l=!isNaN(o)&&o>0&&i<o;return u||l}function d(e,i){e&&e.sort(((e,n)=>{const t=i.indexOf(e.uid),r=i.indexOf(n.uid);return t>r?-1:t<r?1:0}))}function s(e,i){const n=null==e?void 0:e.layer;if(!n)return;const t=o(n);if(!t)return;d(n.get(t),i)}function c(e){const i=null==e?void 0:e.layer;return i&&\"group\"===i.type?i.layers:null}function f(e,i){var n;const t=null==(n=e.layer)?void 0:n.uid;return t&&i.find((e=>{var i;return(null==(i=e.layer)?void 0:i.uid)===t}))}export{l as canDisplayLayer,u as canSortSublayers,i as findLayerListMode,t as findLayerMaxScale,n as findLayerMinScale,r as findLayerVisibilityMode,f as findSelectedItem,c as getItemLayers,o as getNormalizedChildLayerProperty,a as isLayerOutsideScaleRange,s as sortChildLayersToIds,d as sortLayersToIds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Collection.js\";import{HandleOwnerMixin as r}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";import{init as o,watch as l}from\"../../core/watchUtils.js\";import{aliasOf as a}from\"../../core/accessorSupport/decorators/aliasOf.js\";import\"../../core/has.js\";import{cast as n}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/Logger.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"../../support/actions/ActionBase.js\";import c from\"../../support/actions/ActionButton.js\";import y from\"../../support/actions/ActionSlider.js\";import u from\"../../support/actions/ActionToggle.js\";import m from\"./ListItemPanel.js\";import{isLayerOutsideScaleRange as v,findLayerVisibilityMode as w,findLayerListMode as f,canDisplayLayer as g,getNormalizedChildLayerProperty as _}from\"./support/layerListUtils.js\";var b;const j=i.ofType({key:\"type\",defaultKeyValue:\"button\",base:d,typeMap:{button:c,toggle:u,slider:y}}),L=i.ofType(j),S=\"layer\",C=\"child-list-mode\",O=\"hide\",P=\"esri.widgets.LayerList.ListItem\";let A=b=class extends(s(r(t))){constructor(e){super(e),this.actionsSections=new L,this.actionsOpen=!1,this.children=new(i.ofType(b)),this.childrenSortable=!0,this.error=null,this.layer=null,this.layerView=null,this.open=!1,this.panel=null,this.parent=null,this.sortable=!0,this.view=null,this.visible=null}initialize(){this.handles.add([o(this,\"layer\",(e=>this._watchLayerProperties(e))),o(this,\"view\",(e=>this._updateChildren(e))),o(this,\"panel\",(e=>this._setListItemOnPanel(e))),o(this,[\"layer\",\"view\"],(()=>this._getLayerView()))])}destroy(){this.view=null}castPanel(e){return this.get(\"panel.open\")&&!e.hasOwnProperty(\"open\")&&(e.open=!0),e?new m(e):null}get title(){const e=this.get(\"layer.layer\");return(!e||e&&this.get(\"layer.layer.loaded\"))&&this.get(\"layer.title\")||this.get(\"layer.attributes.title\")||\"\"}set title(e){void 0!==e?this._override(\"title\",e):this._clearOverride(\"title\")}get updating(){const e=this.layerView;return e?e.updating:this._isLayerUpdating(this.layer)}get visibleAtCurrentScale(){return!v(this.layer,this.get(\"view.scale\"))}get visibilityMode(){return w(this.layer)}clone(){return new b({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildren(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_addChildren(e){if(this.handles.remove(C),this.children.removeAll(),!e)return;e.forEach((t=>{this.handles.add(l(t,\"listMode\",(()=>this._addChildren(e))),C)}));const t=e.filter((e=>f(e)!==O));this.children.addMany(this._makeChildren(t))}_watchSublayerChanges(e){e&&this.handles.add(e.on(\"change\",(()=>{this._addChildren(e)})),S)}_initializeChildLayers(e){this._addChildren(e),this._watchSublayerChanges(e)}_makeChildren(e){return e.map((e=>g(e)?new b({layer:e,parent:this,view:this.view}):null)).reverse()}_watchLayerProperties(e){if(!this.handles)return;if(this.handles.remove(S),this.handles.remove(C),!e)return;this.handles.add(l(e,\"listMode\",(()=>this._watchLayerProperties(e))),S);if(\"hide-children\"===f(e))return void this.children.removeAll();const t=_(e);t&&this.handles.add(o(e,t,(()=>{e.hasOwnProperty(t)&&this._initializeChildLayers(e[t])})),S)}async _getLayerView(){const{layer:e,view:t}=this;if(e&&t)try{const i=await t.whenLayerView(e);if(i.layer!==this.layer)return;this._set(\"layerView\",i)}catch{}}_isLayerUpdating(e){return e&&\"loading\"===e.loadStatus}};e([h({type:L})],A.prototype,\"actionsSections\",void 0),e([h()],A.prototype,\"actionsOpen\",void 0),e([h({type:i})],A.prototype,\"children\",void 0),e([h()],A.prototype,\"childrenSortable\",void 0),e([a(\"layer.loadError?\")],A.prototype,\"error\",void 0),e([h()],A.prototype,\"layer\",void 0),e([h({readOnly:!0})],A.prototype,\"layerView\",void 0),e([h()],A.prototype,\"open\",void 0),e([h({type:m})],A.prototype,\"panel\",void 0),e([n(\"panel\")],A.prototype,\"castPanel\",null),e([h()],A.prototype,\"parent\",void 0),e([h()],A.prototype,\"sortable\",void 0),e([h()],A.prototype,\"title\",null),e([h({readOnly:!0})],A.prototype,\"updating\",null),e([h({value:null})],A.prototype,\"view\",void 0),e([a(\"layer.visible\")],A.prototype,\"visible\",void 0),e([h({readOnly:!0})],A.prototype,\"visibleAtCurrentScale\",null),e([h({readOnly:!0})],A.prototype,\"visibilityMode\",null),A=b=e([p(P)],A);var V=A;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import i from\"../../core/Evented.js\";import s from\"../../core/Handles.js\";import{init as r,watch as o}from\"../../core/watchUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./ListItem.js\";import{getItemLayers as d,findLayerListMode as m}from\"./support/layerListUtils.js\";const c={view:\"view\",viewLayers:\"view-layers\",mapLayers:\"map-layers\",layerViews:\"layer-views\",layerListMode:\"layer-list-mode\"},h=\"hide\",p=t.ofType(n);let y=class extends i.EventedAccessor{constructor(e){super(e),this._handles=new s,this.listItemCreatedFunction=null,this.operationalItems=new p,this.view=null}initialize(){this._handles.add(r(this,[\"view\",\"view.ready\"],(()=>this._viewHandles())),c.view)}destroy(){this._handles.destroy(),this._handles=null,this.view=null,this.operationalItems.removeAll()}get state(){const e=this.get(\"view\");return this.get(\"view.ready\")?\"ready\":e?\"loading\":\"disabled\"}triggerAction(e,t){e&&!e.disabled&&this.emit(\"trigger-action\",{action:e,item:t})}moveListItem(e,t,i,s){var r,o;const a=null==e?void 0:e.layer;if(!a)return;const l=null==(r=this.view)||null==(o=r.map)?void 0:o.layers,n=t?d(t):l,m=i?d(i):l;if(!n||!m)return;const{operationalItems:c}=this,h=(null==t?void 0:t.children)||c,p=(null==i?void 0:i.children)||c,y=m.length-s;e.parent=i||null,h.includes(e)&&h.remove(e),n.includes(a)&&n.remove(a),p.includes(e)||p.add(e,y),m.includes(a)||m.add(a,y)}_createLayerViewHandles(e){const{_handles:t}=this;t.remove(c.layerViews),this._compileList(),e&&t.add(e.on(\"change\",(()=>this._compileList())),c.layerViews)}_createMapLayerHandles(e){const{_handles:t}=this;t.remove(c.mapLayers),this._compileList(),e&&t.add(e.on(\"change\",(()=>this._compileList())),c.mapLayers)}_watchItemProperties(e){this._handles.add([e.children.on(\"change\",(()=>{this._modifyListItemChildren(e.children)}))],`children-change-${e.uid}`)}_modifyListItemChildren(e){e.forEach((e=>this._modifyListItem(e)))}_modifyListItem(e){if(\"function\"==typeof this.listItemCreatedFunction){const t={item:e};this.listItemCreatedFunction.call(null,t)}this._modifyListItemChildren(e.children)}_createListItem(e){const{view:t}=this,i=new n({layer:e,view:t});return this._watchItemProperties(i),i}_removeAllItems(){const{_handles:e,operationalItems:t}=this;t.forEach((t=>{e.remove(`children-change-${t.uid}`)})),t.removeAll()}_getViewableLayers(e){if(e)return e.filter((e=>m(e)!==h))}_watchLayersListMode(e){const{_handles:t}=this;t.remove(c.layerListMode),e&&e.forEach((e=>{t.add(o(e,\"listMode\",(()=>this._compileList())),c.layerListMode)}))}_compileList(){const e=this.get(\"view.map.layers\");this._watchLayersListMode(e);const t=this._getViewableLayers(e);t&&t.length?(this._createNewItems(t),this._modifyOrRemoveItems(t),this._sortItems(t)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.find((t=>t.layer===e))||t.add(this._createListItem(e))}))}_modifyOrRemoveItems(e){const{_handles:t,operationalItems:i}=this,s=[];i.forEach((i=>{i&&e&&e.find((e=>i.layer===e))?this._modifyListItem(i):(t.remove(`children-change-${i.uid}`),s.push(i))})),i.removeMany(s)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,i)=>{const s=e.indexOf(t.layer),r=e.indexOf(i.layer);return s>r?-1:s<r?1:0}))}_viewHandles(){const{_handles:e,view:t}=this;e.remove([c.mapLayers,c.layerViews,c.viewLayers]),this._compileList(),t&&t.ready&&e.add([r(this,\"view.map.allLayers\",(e=>this._createMapLayerHandles(e))),r(this,\"view.allLayerViews\",(e=>this._createLayerViewHandles(e))),r(this,\"listItemCreatedFunction\",(()=>this._compileList()))],c.viewLayers)}};e([a()],y.prototype,\"listItemCreatedFunction\",void 0),e([a({type:p})],y.prototype,\"operationalItems\",void 0),e([a({readOnly:!0})],y.prototype,\"state\",null),e([a()],y.prototype,\"view\",void 0),y=e([l(\"esri.widgets.LayerList.LayerListViewModel\")],y);var v=y;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import{deprecatedProperty as i}from\"../core/deprecate.js\";import{eventKey as s}from\"../core/events.js\";import o from\"../core/Handles.js\";import r from\"../core/has.js\";import l from\"../core/Logger.js\";import{on as n,init as a}from\"../core/watchUtils.js\";import{aliasOf as c}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as d}from\"../core/accessorSupport/decorators/cast.js\";import{property as g}from\"../core/accessorSupport/decorators/property.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"./Widget.js\";import u from\"./LayerList/LayerListViewModel.js\";import p from\"./LayerList/ListItem.js\";import{findSelectedItem as _,sortLayersToIds as b,sortChildLayersToIds as y,canSortSublayers as v}from\"./LayerList/support/layerListUtils.js\";import{accessibleHandler as I}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as f}from\"./support/decorators/messageBundle.js\";import{vmEvent as A}from\"./support/decorators/vmEvent.js\";import{tsx as w}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";import C from\"sortablejs\";function S(e,t,i){e.splice(i,0,e.splice(t,1)[0])}const k=\"esri-layerlist-new-ui\",L=t.ofType(p),E=\"data-sort-filter\",M=\"data-layer-uid\",T=\"layerUid\",x={base:\"esri-layer-list esri-widget esri-widget--panel\",newUI:\"esri-layer-list--new-ui\",noItems:\"esri-layer-list__no-items\",list:\"esri-layer-list__list\",listRoot:\"esri-layer-list__list--root\",listExclusive:\"esri-layer-list__list--exclusive\",listInherited:\"esri-layer-list__list--inherited\",listIndependent:\"esri-layer-list__list--independent\",item:\"esri-layer-list__item\",itemContent:\"esri-layer-list__item-content\",itemError:\"esri-layer-list__item--error\",itemInvisible:\"esri-layer-list__item--invisible\",itemInvisibleAtScale:\"esri-layer-list__item--invisible-at-scale\",itemUpdating:\"esri-layer-list__item--updating\",itemChildren:\"esri-layer-list__item--has-children\",itemSelectable:\"esri-layer-list__item--selectable\",itemContainer:\"esri-layer-list__item-container\",actionsMenu:\"esri-layer-list__item-actions-menu\",actionsMenuItem:\"esri-layer-list__item-actions-menu-item\",actionsMenuItemActive:\"esri-layer-list__item-actions-menu-item--active\",actions:\"esri-layer-list__item-actions\",actionsList:\"esri-layer-list__item-actions-list\",action:\"esri-layer-list__item-action\",actionIcon:\"esri-layer-list__item-action-icon\",actionImage:\"esri-layer-list__item-action-image\",actionTitle:\"esri-layer-list__item-action-title\",actionToggle:\"esri-layer-list__action-toggle\",actionToggleOn:\"esri-layer-list__action-toggle--on\",label:\"esri-layer-list__item-label\",errorMessage:\"esri-layer-list__item-error-message\",title:\"esri-layer-list__item-title\",toggleVisible:\"esri-layer-list__item-toggle\",toggleVisibleIcon:\"esri-layer-list__item-toggle-icon\",toggleIcon:\"esri-layer-list__item-toggle-icon\",radioIcon:\"esri-layer-list__item-radio-icon\",childToggle:\"esri-layer-list__child-toggle\",childToggleOpen:\"esri-layer-list__child-toggle--open\",childOpened:\"esri-layer-list__child-toggle-icon--opened\",childClosed:\"esri-layer-list__child-toggle-icon--closed\",childClosed_RTL:\"esri-layer-list__child-toggle-icon--closed-rtl\",sortableChosen:\"esri-layer-list--chosen\",disabled:\"esri-disabled\",disabledElement:\"esri-disabled-element\",hidden:\"esri-hidden\",rotating:\"esri-rotating\",iconEllipses:\"esri-icon-handle-horizontal\",iconVisible:\"esri-icon-visible\",iconInvisible:\"esri-icon-non-visible\",iconRadioSelected:\"esri-icon-radio-checked\",iconRadioUnselected:\"esri-icon-radio-unchecked\",iconNoticeTriangle:\"esri-icon-notice-triangle\",iconChildrenOpen:\"esri-icon-down-arrow\",iconDownArrow:\"esri-icon-down-arrow\",iconRightArrow:\"esri-icon-right-triangle-arrow\",iconLeftArrow:\"esri-icon-left-triangle-arrow\",iconLoading:\"esri-icon-loading-indicator\",iconDefaultAction:\"esri-icon-default-action\",widgetIcon:\"esri-icon-layers\"},O={actions:\"actions\",actionSection:\"action-section\",items:\"items\"},U={exclusive:\"exclusive\",inherited:\"inherited\",independent:\"independent\"};function R(e){const{actionsOpen:t,children:i}=e;t&&(e.actionsOpen=!1),i.forEach((e=>R(e)))}const V=\"root\",j=l.getLogger(\"esri.widgets.LayerList\"),N={statusIndicators:!0};let $=class extends m{constructor(e,t){super(e,t),this._handles=new o,this._sortableNodes=new Map,this._sortableMap=new Map,this._focusSortUid=null,this._newUI=r(k),this.visibleItems=null,this.iconClass=x.widgetIcon,this.label=void 0,this.listItemCreatedFunction=null,this.localeStrings=null,this.messages=null,this.messagesCommon=null,this.multipleSelectionEnabled=!1,this.operationalItems=null,this.selectionEnabled=!1,this.selectedItems=new L,this.view=null,this.viewModel=new u,this.visibleElements={...N},this._onSortableSort=({to:e,from:t,item:i,newIndex:s})=>{t&&e&&(t===e?this._sortLayers(this._sortableMap.get(t.dataset.group)):this._moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}))},this._sortableCanPut=(e,t,i)=>{var s,o;const r=e.el.dataset.group,l=t.el.dataset.group,n=e.el[\"data-item\"],a=i[\"data-item\"],c=null==a||null==(s=a.layer)?void 0:s.type,d=null==n||null==(o=n.layer)?void 0:o.type;return r&&l&&c&&!(\"group\"===d&&\"group\"===c)},this._sortableCanPull=(e,t,i)=>{var s;const o=e.el.dataset.group,r=t.el.dataset.group,l=i[\"data-item\"],n=null==l||null==(s=l.layer)?void 0:s.type;return o&&r&&!!n},this._onSortableEnd=({oldIndex:e,from:t,to:i,item:s})=>{t!==i&&t.insertBefore(s,t.children[e])}}initialize(){const e=this.operationalItems;this._setVisibleItems(e),this.own(n(this,\"operationalItems\",\"change\",(()=>this._itemsChanged(e))),a(this,\"selectionEnabled\",(()=>this._toggleAllSorting())))}destroy(){this._destroySortables(),this._handles.destroy(),this._handles=null}set statusIndicatorsVisible(e){i(j,\"statusIndicatorsVisible\",{replacement:\"visibleElements.statusIndicators\",version:\"4.15\"}),this.visibleElements={...this.visibleElements,statusIndicators:e}}castVisibleElements(e){return{...N,...e}}triggerAction(e,t){this.viewModel.triggerAction(e,t)}render(){var e;const{visibleItems:t,_newUI:i}=this,s=null==(e=this.viewModel)?void 0:e.state,o={[x.newUI]:i,[x.hidden]:\"loading\"===s,[x.disabled]:\"disabled\"===s};return w(\"div\",{class:this.classes(x.base,o)},null!=t&&t.length?this.renderItems():this.renderNoItems())}renderNoItems(){return w(\"div\",{class:x.noItems},this.messages.noItemsToDisplay)}renderItems(){const{visibleItems:e,selectionEnabled:t,messages:i}=this;return w(\"ul\",{\"aria-label\":i.widgetLabel,role:t?\"listbox\":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,\"data-group\":V,bind:this,class:this.classes(x.list,x.listRoot,x.listIndependent)},null==e?void 0:e.map((e=>this.renderItem(e,null))).toArray())}renderActionsMenuIcon(e,t){const{messages:i}=this,s={[x.actionsMenuItemActive]:e.actionsOpen},o=e.actionsOpen?i.closeActions:i.openActions;return w(\"div\",{key:\"actions-menu-toggle\",\"data-item\":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(x.actionsMenuItem,s),tabindex:\"0\",role:\"button\",\"aria-controls\":t,\"aria-label\":o,title:o},w(\"span\",{\"aria-hidden\":\"true\",class:x.iconEllipses}))}renderActionsMenu(e,t,i,s){const{panel:o}=e,r=o&&o.visible?this.renderPanelButton(o):null,l=1===i&&this._getSingleActionButton(t),n=l?this.renderAction({item:e,action:l,singleAction:!0}):null,a=!l&&i?this.renderActionsMenuIcon(e,s):null;return a||r||l?w(\"div\",{key:\"actions-menu\",class:x.actionsMenu},r,n,a):null}renderChildList(e,t){var i;const{selectionEnabled:s}=this,{visibilityMode:o,children:r}=e,l=!!e.error,n=!!r.length&&!l,a=!n&&s&&\"group\"===(null==(i=e.layer)?void 0:i.type),{exclusive:c,inherited:d}=U,g={[x.listExclusive]:o===c,[x.listInherited]:o===d,[x.listIndependent]:o!==d&&o!==c};return n||a?w(\"ul\",{bind:this,key:\"list-items\",id:t,\"data-group\":e.uid,\"data-item\":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(x.list,g),\"aria-expanded\":e.open?\"true\":\"false\",role:s?\"listbox\":o===c?\"radiogroup\":\"group\",hidden:!e.open&&!a||null},null==r?void 0:r.map((t=>this.renderItem(t,e))).toArray()):null}renderChildrenToggle(e,t){const{messagesCommon:i}=this,{children:s}=e,o=!!e.error,r=!!s.length&&!o,l={[x.childToggleOpen]:e.open},n=e.open?i.collapse:i.expand;return r?w(\"span\",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,\"data-item\":e,key:\"toggle-children\",class:this.classes(x.childToggle,l),tabindex:\"0\",role:\"button\",\"aria-controls\":t,\"aria-label\":n,title:n},w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(x.childClosed,x.iconRightArrow)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(x.childOpened,x.iconDownArrow)}),w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(x.childClosed_RTL,x.iconLeftArrow)})):null}renderError(e){return e.error?w(\"div\",{key:\"esri-layer-list__error\",class:x.errorMessage,role:\"alert\"},w(\"span\",null,this.messages.layerError)):null}renderItemContent(e,t,i){const{id:s}=this,o=`${s}_${e.uid}`,r=`${o}_actions`,l=`${o}__list`,{panel:n}=e,a=this._filterActions(e.actionsSections),c=this._countActions(a);return[w(\"div\",{key:\"list-item-container\",class:x.itemContainer},this.renderChildrenToggle(e,l),this.renderLabel(e,t,i),this.renderActionsMenu(e,a,c,r)),this.renderError(e),c?this.renderActionsSections(e,a,r):null,n&&n.open?n.render():null,this.renderChildList(e,l)]}renderItem(e,t){const{_newUI:i,id:s,selectionEnabled:o,selectedItems:r,visibleElements:l}=this,{children:n}=e,a=`${`${s}_${e.uid}`}__title`,c=!!e.error,d=!!n.length&&!c,g={[x.itemChildren]:d,[x.itemError]:!!c,[x.itemUpdating]:e.updating&&!t&&l.statusIndicators,[x.itemInvisible]:i&&!e.visible,[x.itemInvisibleAtScale]:!e.visibleAtCurrentScale,[x.itemSelectable]:o};if(o){var h;const i={[M]:null==(h=e.layer)?void 0:h.uid,[E]:(!e.sortable).toString()};return w(\"li\",{key:`item-with-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(x.item,g),\"aria-labelledby\":a,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,\"data-item\":e,\"data-group\":t?t.uid:V,tabIndex:0,\"aria-selected\":_(e,r)?\"true\":\"false\",role:\"option\",...i},this.renderItemContent(e,t,a))}return w(\"li\",{key:`item-no-selection-${e.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(x.item,g),\"aria-labelledby\":a},this.renderItemContent(e,t,a))}renderItemTitle(e,t){const{messages:i}=this,s=e.title||i.untitledLayer,o=e.visibleAtCurrentScale?s:`${s} (${i.layerInvisibleAtScale})`;return w(\"span\",{key:\"layer-title-container\",id:t,title:o,\"aria-label\":o,class:x.title},s)}renderItemToggleIcon(e,t){const{_newUI:i}=this,{exclusive:s}=U,o=t&&t.visibilityMode,r={[x.toggleVisibleIcon]:i,[x.toggleIcon]:i&&o!==s,[x.radioIcon]:i&&o===s,[x.iconRadioSelected]:o===s&&e.visible,[x.iconRadioUnselected]:o===s&&!e.visible,[x.iconVisible]:o!==s&&e.visible,[x.iconInvisible]:o!==s&&!e.visible};return w(\"span\",{key:\"item-toggle-icon\",class:this.classes(r),\"aria-hidden\":\"true\"})}renderItemToggle(e,t,i){const{selectionEnabled:s}=this,{exclusive:o}=U,r=t&&t.visibilityMode,l=r===o?\"radio\":\"switch\";return w(\"span\",s?{key:\"item-toggle-selection-enabled\",class:x.toggleVisible,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,\"data-item\":e,\"data-parent-visibility\":r,tabIndex:0,\"aria-checked\":e.visible?\"true\":\"false\",role:l,\"aria-labelledby\":i}:{key:\"item-toggle\",class:x.toggleVisible},this.renderItemToggleIcon(e,t))}renderItemError(e){return e.error?w(\"span\",{key:\"notice-triangle\",\"aria-hidden\":\"true\",class:x.iconNoticeTriangle}):null}renderLabel(e,t,i){const{selectionEnabled:s,_newUI:o}=this,{inherited:r,exclusive:l}=U,n=null==t?void 0:t.visibilityMode,a=n===l?\"radio\":\"switch\",c=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];o&&c.reverse();const d=w(\"div\",s?{key:`item-label-no-selection-${e.uid}`,class:x.label}:{key:`item-label-with-selection-${e.uid}`,class:x.label,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,\"data-item\":e,\"data-parent-visibility\":n,tabIndex:0,\"aria-checked\":e.visible?\"true\":\"false\",role:a,\"aria-labelledby\":i},c);return n===r||e.error?w(\"div\",{key:`item-label-container-${e.uid}`,class:x.label},this.renderItemError(e),this.renderItemTitle(e,i)):d}renderPanelButton(e){const{className:t,open:i,title:s,image:o}=e,r=o||t?t:x.iconDefaultAction,l=this._getIconImageStyles(e),n={[x.actionsMenuItemActive]:i},a={[x.actionImage]:!!l[\"background-image\"]};return r&&(a[r]=!!r),w(\"div\",{key:`panel-${e.uid}`,bind:this,\"data-panel\":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(x.actionsMenuItem,n),role:\"button\",tabindex:\"0\",title:s,\"aria-label\":s},w(\"span\",{class:this.classes(a),styles:l}))}renderActionsSections(e,t,i){const s=t.toArray().map(((t,i)=>w(\"ul\",{key:`${e}-action-section-${i}`,class:x.actionsList},this.renderActionSection(e,t))));return w(\"div\",{role:\"group\",\"aria-expanded\":e.actionsOpen?\"true\":\"false\",key:\"actions-section\",id:i,class:x.actions,hidden:!e.actionsOpen||null},s)}renderActionSection(e,t){return(t&&t.toArray()).map((t=>this.renderAction({item:e,action:t})))}renderActionIcon(e){const{active:t,className:i}=e,s=this._getIconImageStyles(e),o=\"button\"!==e.type||e.image||i?i:x.iconDefaultAction,r={[x.actionImage]:!t&&!!s[\"background-image\"],[x.iconLoading]:t,[x.rotating]:t};return o&&!t&&(r[o]=!0),w(\"span\",{key:\"action-icon\",\"aria-hidden\":\"true\",class:this.classes(x.actionIcon,r),styles:s})}renderActionTitle(e,t){return t?null:w(\"span\",{key:\"action-title\",class:x.actionTitle},e)}renderAction(e){const{item:t,action:i,singleAction:s}=e,{active:o,disabled:r,title:l}=i,n={[x.actionsMenuItem]:s&&\"button\"===i.type,[x.action]:o||!s&&\"toggle\"!==i.type,[x.actionToggle]:!o&&\"toggle\"===i.type,[x.actionToggleOn]:!o&&\"toggle\"===i.type&&i.value,[x.disabledElement]:r},a=[this.renderActionIcon(i),this.renderActionTitle(l,s)];return s?w(\"div\",{bind:this,\"data-item\":t,\"data-action\":i,role:\"button\",key:`single-action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:\"0\",title:l,\"aria-label\":l},a):w(\"li\",{bind:this,\"data-item\":t,\"data-action\":i,key:`action-${i.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:n,tabindex:\"0\",role:\"button\",title:l,\"aria-label\":l},a)}_sortNodeRemoved(e){const{_sortableMap:t}=this,i=e.dataset.group,s=t.get(i);s&&s.destroy(),t.delete(i)}_destroySortables(){const{_sortableMap:e,_sortableNodes:t}=this;e.forEach((e=>e&&e.destroy())),e.clear(),t.clear()}_moveLayerFromChildList({to:e,from:t,item:i,newIndex:s}){const o=i[\"data-item\"],r=e[\"data-item\"],l=t[\"data-item\"];this.viewModel.moveListItem(o,l,r,s)}_sortLayers(e){if(!e)return;const t=e.el[\"data-item\"],i=e.toArray();var s,o;t?y(t,i):b(null==(s=this.view)||null==(o=s.map)?void 0:o.layers,i)}_toggleSorting(e,t){const{_sortableMap:i,selectionEnabled:s}=this,o=i.get(t),r=e[\"data-item\"],l=(t===V||r.childrenSortable&&v(r))&&s;if(o)o.option(\"disabled\",!l);else if(l){const s=C.create(e,{dataIdAttr:M,group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:`[${E}=\"true\"]`,fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!l,chosenClass:x.sortableChosen});i.set(t,s)}}_toggleAllSorting(){this._sortableNodes.forEach(((e,t)=>this._toggleSorting(e,t)))}_sortNodeCreated(e){const t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))}_setVisibleItems(e){this.visibleItems=null==e?void 0:e.filter((e=>this.errorsVisible||!e.error))}_getSingleActionButton(e){return e.reduce((e=>e)).filter((e=>e&&\"button\"===e.type)).getItemAt(0)}_focusListItem(e){var t;const{_focusSortUid:i}=this;if(!e||!i)return;(null==(t=e[\"data-item\"].layer)?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null)}_watchActionSectionChanges(e,t){const i=O.actionSection+t;this._handles.add(e.on(\"change\",this.scheduleRender.bind(this)),i),e.forEach((e=>this._renderOnActionChanges(e,t)))}_renderOnActionChanges(e,t){const i=O.actions+t;\"toggle\"!==e.type?\"slider\"!==e.type?this._handles.add([a(e,[\"className\",\"image\",\"id\",\"title\",\"visible\"],(()=>this.scheduleRender()))],i):this._handles.add([a(e,[\"className\",\"id\",\"title\",\"visible\",\"value\",\"displayValueEnabled\",\"max\",\"min\",\"step\"],(()=>this.scheduleRender()))],i):this._handles.add([a(e,[\"className\",\"image\",\"id\",\"title\",\"visible\",\"value\"],(()=>this.scheduleRender()))],i)}_renderOnItemChanges(e){const t=e.uid,i=O.items+t;this._handles.add([a(e,[\"actionsOpen\",\"visible\",\"open\",\"updating\",\"title\",\"visibleAtCurrentScale\",\"error\",\"visibilityMode\",\"panel\",\"panel.title\",\"panel.content\",\"panel.className\",\"sortable\",\"childrenSortable\"],(()=>this.scheduleRender())),e.actionsSections.on(\"change\",(()=>this.scheduleRender())),e.children.on(\"change\",(()=>this.scheduleRender()))],i),e.children.forEach((e=>this._renderOnItemChanges(e))),e.actionsSections.forEach((e=>this._watchActionSectionChanges(e,t)))}_itemsChanged(e){this._handles.removeAll(),e.forEach((e=>this._renderOnItemChanges(e))),this._setVisibleItems(e),this.scheduleRender()}_filterActions(e){return e.map((e=>e.filter((e=>e.visible))))}_countActions(e){return e.reduce(((e,t)=>e+t.length),0)}_getIconImageStyles(e){const t=\"esri.widgets.LayerList.ListItemPanel\"===e.declaredClass||\"esri.support.Action.ActionButton\"===e.declaredClass||\"esri.support.Action.ActionToggle\"===e.declaredClass?e.image:null;return{\"background-image\":t?`url(\"${t}\")`:null}}_selectionKeydown(e){const t=[\"ArrowDown\",\"ArrowUp\"],i=s(e);if(-1===t.indexOf(i))return void this._toggleSelection(e);e.stopPropagation();const o=e.currentTarget,r=o[\"data-item\"],{_sortableMap:l,selectedItems:n}=this,a=o.dataset.group,c=l.get(a);if(!c)return;const d=_(r,n),g=c.toArray(),h=e.target,m=g.indexOf(h.dataset[T]);if(-1!==m){if(\"ArrowDown\"===i){const e=m+1;if(e>=g.length)return;var u,p;if(d)S(g,m,e),c.sort(g),this._sortLayers(c),this._focusSortUid=null==(u=r.layer)?void 0:u.uid;else this._focusSortUid=null==(p=r.layer)?void 0:p.uid,this.scheduleRender()}if(\"ArrowUp\"===i){const e=m-1;if(e<=-1)return;var b,y;if(d)S(g,m,e),c.sort(g),this._sortLayers(c),this._focusSortUid=null==(b=r.layer)?void 0:b.uid;else this._focusSortUid=null==(y=r.layer)?void 0:y.uid,this.scheduleRender()}}}_toggleActionsOpen(e){const t=e.currentTarget[\"data-item\"],{actionsOpen:i}=t,s=!i;s&&this.operationalItems.forEach((e=>R(e))),t.actionsOpen=s,e.stopPropagation()}_triggerPanel(e){const t=e.currentTarget[\"data-panel\"];t&&(t.open=!t.open),e.stopPropagation()}_triggerAction(e){const t=e.currentTarget,i=t[\"data-action\"],s=t[\"data-item\"];\"toggle\"===i.type&&(i.value=!i.value),this.triggerAction(i,s),e.stopPropagation()}_toggleVisibility(e){const t=e.currentTarget,i=t.getAttribute(\"data-parent-visibility\"),s=t[\"data-item\"];i===U.exclusive&&s.visible||(s.visible=!s.visible),e.stopPropagation()}_toggleChildrenClick(e){const t=e.currentTarget[\"data-item\"];t.open=!t.open,e.stopPropagation()}_toggleSelection(e){e.stopPropagation();const{multipleSelectionEnabled:t,selectedItems:i}=this,s=e.currentTarget[\"data-item\"],o=_(s,i),{length:r}=i;if(!t)return r&&!(o&&1===r)?(i.removeAll(),void i.add(s)):void(o?null==i.remove||i.remove(o):i.add(s));o?null==i.remove||i.remove(o):i.add(s)}};e([g()],$.prototype,\"visibleItems\",void 0),e([g()],$.prototype,\"iconClass\",void 0),e([g()],$.prototype,\"errorsVisible\",void 0),e([g({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],$.prototype,\"label\",void 0),e([c(\"viewModel.listItemCreatedFunction\")],$.prototype,\"listItemCreatedFunction\",void 0),e([g()],$.prototype,\"localeStrings\",void 0),e([g(),f(\"esri/widgets/LayerList/t9n/LayerList\")],$.prototype,\"messages\",void 0),e([g(),f(\"esri/t9n/common\")],$.prototype,\"messagesCommon\",void 0),e([g()],$.prototype,\"multipleSelectionEnabled\",void 0),e([c(\"viewModel.operationalItems\")],$.prototype,\"operationalItems\",void 0),e([g()],$.prototype,\"selectionEnabled\",void 0),e([g()],$.prototype,\"selectedItems\",void 0),e([g()],$.prototype,\"statusIndicatorsVisible\",null),e([c(\"viewModel.view\")],$.prototype,\"view\",void 0),e([A(\"trigger-action\"),g({type:u})],$.prototype,\"viewModel\",void 0),e([g()],$.prototype,\"visibleElements\",void 0),e([d(\"visibleElements\")],$.prototype,\"castVisibleElements\",null),e([c(\"viewModel.triggerAction\")],$.prototype,\"triggerAction\",null),e([I()],$.prototype,\"_toggleActionsOpen\",null),e([I()],$.prototype,\"_triggerPanel\",null),e([I()],$.prototype,\"_triggerAction\",null),e([I()],$.prototype,\"_toggleVisibility\",null),e([I()],$.prototype,\"_toggleChildrenClick\",null),e([I()],$.prototype,\"_toggleSelection\",null),$=e([h(\"esri.widgets.LayerList\")],$);var P=$;export default P;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import i from\"../../core/Accessor.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";var r;let p=r=class extends(o(i)){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};t([s()],p.prototype,\"active\",void 0),t([s()],p.prototype,\"className\",void 0),t([s()],p.prototype,\"disabled\",void 0),t([s()],p.prototype,\"id\",void 0),t([s()],p.prototype,\"indicator\",void 0),t([s()],p.prototype,\"title\",void 0),t([s()],p.prototype,\"type\",void 0),t([s()],p.prototype,\"visible\",void 0),p=r=t([e(\"esri.support.actions.ActionBase\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isActivationKey as n}from\"../widgetUtils.js\";function t(){return function(n,t){if(!n[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:o(n[t])}}}function e(n){const{type:t}=n;return n instanceof KeyboardEvent||\"keyup\"===t||\"keydown\"===t||\"keypress\"===t}function o(t){return function(o,...r){e(o)?n(o.key)&&(o.preventDefault(),o.stopPropagation(),o.target.click()):t.call(this,o,...r)}}export{t as accessibleHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./ActionBase.js\";var o;let r=o=class extends i{constructor(s){super(s),this.image=null,this.type=\"button\"}clone(){return new o({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};s([t()],r.prototype,\"image\",void 0),r=o=s([e(\"esri.support.Action.ActionButton\")],r);var c=r;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./ActionBase.js\";var o;let r=o=class extends i{constructor(s){super(s),this.image=null,this.type=\"toggle\",this.value=!1}clone(){return new o({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};s([t()],r.prototype,\"image\",void 0),s([t()],r.prototype,\"value\",void 0),r=o=s([e(\"esri.support.Action.ActionToggle\")],r);var a=r;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nexport{accessibleHandler}from\"./decorators/accessibleHandler.js\";export{messageBundle}from\"./decorators/messageBundle.js\";export{renderable}from\"./decorators/renderable.js\";export{vmEvent}from\"./decorators/vmEvent.js\";export{tsx}from\"./jsxFactory.js\";export{additionalAllowedTags,classes,cssTransition,discardNode,getCalciteThemeClass,getThemeName,isActivationKey,isDarkTheme,isRTL,keepMenuItemWithinView,renderingSanitizer,safeAttrs,storeNode}from\"./widgetUtils.js\";function e(e){return e&&\"function\"==typeof e.render}function t(e){return e&&\"function\"==typeof e.postMixInProperties&&\"function\"==typeof e.buildRendering&&\"function\"==typeof e.postCreate&&\"function\"==typeof e.startup}export{t as hasDomNode,e as isWidget};\n"],"sourceRoot":""}