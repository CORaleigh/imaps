"use strict";(globalThis.webpackChunkimaps=globalThis.webpackChunkimaps||[]).push([[4523],{70178:(e,t,n)=>{n.d(t,{k:()=>o});n(93169);var i=n(92026),r=n(92975);function o(e,t){return e===t||(0,i.pC)(e)&&(0,i.pC)(t)&&(0,r.fS)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}},65618:(e,t,n)=>{n.d(t,{FS:()=>c,MS:()=>d,Pj:()=>a,R3:()=>p,S6:()=>l,TF:()=>h,Tx:()=>u,Wh:()=>s});n(59896),n(93169);var i=n(92026),r=(n(78952),n(41414)),o=n(65156);n(58971),n(27823),n(83040),n(70178);class s{constructor(e,t,n){this.uid=e,this.geometry=t,this.attributes=n,this.visible=!0,this.objectId=null,this.centroid=null}}function l(e){return(0,i.pC)(e.geometry)}class a{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function u(e,t,n,i){return{x:e,y:t,z:n,hasZ:null!=n,hasM:!1,spatialReference:i,type:"point"}}function p(e){if((0,i.Wi)(e))return 0;switch(e.type){case"point":return 1;case"polyline":{let t=0;for(const n of e.paths)t+=n.length;return t}case"polygon":{let t=0;for(const n of e.rings)t+=n.length;return t}case"multipoint":return e.points.length;case"extent":return 2;case"mesh":{const t=e.vertexAttributes&&e.vertexAttributes.position;return t?t.length/3:0}default:return}}function c(e,t){switch((0,r.cS)(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case"polyline":for(let n=0;n<e.paths.length;n++)(0,r.Wi)(t,e.paths[n],!!e.hasZ);break;case"polygon":for(let n=0;n<e.rings.length;n++)(0,r.Wi)(t,e.rings[n],!!e.hasZ);break;case"multipoint":(0,r.Wi)(t,e.points,!!e.hasZ);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax)}}function h(e,t){switch((0,o.cS)(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case"polyline":for(let n=0;n<e.paths.length;n++)(0,o.Wi)(t,e.paths[n]);break;case"polygon":for(let n=0;n<e.rings.length;n++)(0,o.Wi)(t,e.rings[n]);break;case"multipoint":(0,o.Wi)(t,e.points);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax}}function d(e,t){return null!=e.objectId?e.objectId:e.attributes&&t?e.attributes[t]:null}},74509:(e,t,n)=>{n.d(t,{Jn:()=>u,Lt:()=>h,Ou:()=>f,RL:()=>c,VW:()=>a,W_:()=>x,Zz:()=>s,jG:()=>N,mF:()=>l,tR:()=>E,vQ:()=>g,vu:()=>p,zx:()=>y});var i=n(92026),r=n(88152);function o(e){return e?N:E}function s(e,t){return(0,i.Wi)(t)||!t.mode?o(e).mode:t.mode}function l(e,t){return(0,i.pC)(t)?t:o(e)}function a(e,t){return s(!!(0,i.pC)(e)&&e.hasZ,t)}function u(e,t){return l(!!(0,i.pC)(e)&&!!e.hasZ,t)}function p(e){const t=d(e);return a(e.geometry,t)}function c(e){const t=d(e),n=a(e.geometry,t);return{mode:n,offset:(0,i.pC)(t)&&"on-the-ground"!==n?(0,i.Pt)(t.offset,0)*(0,r.Z7)((0,i.Pt)(t.unit,"meters")):0}}function h(e){if("on-the-ground"===p(e))return!1;const t=d(e),n=(0,i.pC)(t)&&t.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!n||"0"===n)}function d(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function f(e,t,n){if((0,i.Wi)(n)||!n.mode)return;const r=e.hasZ?e.z:0,o=(0,i.pC)(n.offset)?n.offset:0;switch(n.mode){case"absolute-height":return r-o;case"on-the-ground":return 0;case"relative-to-ground":return r-((0,i.Pt)(t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"ground"),0)+o);case"relative-to-scene":return r-((0,i.Pt)(t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"scene"),0)+o)}}function g(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,i)}function y(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return v(e,t[0],t[1],t.length>2?t[2]:0,n,i,r)}function v(e,t,n,r,o,s){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if((0,i.Wi)(s))return;const a=(0,i.pC)(l)?l.mode:"absolute-height";if("on-the-ground"===a)return 0;const{absoluteZ:u}=b(t,n,r,o,e,s);return m(u,t,n,r,o,e,l,a)}function b(e,t,n,r,o,s){const l=(0,i.pC)(s.offset)?s.offset:0;switch(s.mode){case"absolute-height":return{absoluteZ:n+l,elevation:0};case"on-the-ground":{const n=(0,i.Pt)(o.elevationProvider.getElevation(e,t,0,r,"ground"),0);return{absoluteZ:n,elevation:n}}case"relative-to-ground":{const s=(0,i.Pt)(o.elevationProvider.getElevation(e,t,n,r,"ground"),0);return{absoluteZ:n+s+l,elevation:s}}case"relative-to-scene":{const s=(0,i.Pt)(o.elevationProvider.getElevation(e,t,n,r,"scene"),0);return{absoluteZ:n+s+l,elevation:s}}}}function m(e,t,n,r,o,s,l,a){const u=(0,i.pC)(l)&&(0,i.pC)(l.offset)?l.offset:0;switch(a){case"absolute-height":return e-u;case"relative-to-ground":return e-((0,i.Pt)(s.elevationProvider.getElevation(t,n,r,o,"ground"),0)+u);case"relative-to-scene":return e-((0,i.Pt)(s.elevationProvider.getElevation(t,n,r,o,"scene"),0)+u)}}function x(e,t){if((0,i.Wi)(t))return!1;const{mode:n}=t;return(0,i.pC)(n)&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}const N={mode:"absolute-height",offset:0},E={mode:"on-the-ground",offset:null}},87888:(e,t,n)=>{n.d(t,{c:()=>r,j:()=>i});const i={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},r={toggle:"Control"}},76014:(e,t,n)=>{n.d(t,{c:()=>p});var i=n(27366),r=n(51995),o=n(46784),s=n(49861),l=n(69912);let a=class extends o.wq{constructor(){super(...arguments),this.enabled=!0}};(0,i._)([(0,s.Cb)({type:Boolean})],a.prototype,"enabled",void 0),a=(0,i._)([(0,l.j)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],a);let u=class extends o.wq{constructor(e){super(e),this.lineSnapper=new a,this.parallelLineSnapper=new a,this.rightAngleSnapper=new a,this.rightAngleTriangleSnapper=new a,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThreshold=.1,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new r.Z([255,127,0]),this.orangeTransparent=new r.Z([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,i._)([(0,s.Cb)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"lineSnapper",void 0),(0,i._)([(0,s.Cb)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"parallelLineSnapper",void 0),(0,i._)([(0,s.Cb)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleSnapper",void 0),(0,i._)([(0,s.Cb)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleTriangleSnapper",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"shortLineThreshold",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"distance",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointThreshold",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"intersectionParallelLineThreshold",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"parallelLineThreshold",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"verticalLineThreshold",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"touchSensitivityMultiplier",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointOnLineThreshold",void 0),(0,i._)([(0,s.Cb)({type:r.Z,nonNullable:!0})],u.prototype,"orange",void 0),(0,i._)([(0,s.Cb)({type:r.Z,nonNullable:!0})],u.prototype,"orangeTransparent",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthReference",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthTarget",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"lineHintFadedExtensions",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"parallelLineHintWidth",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],u.prototype,"parallelLineHintLength",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"parallelLineHintOffset",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],u.prototype,"rightAngleHintSize",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],u.prototype,"rightAngleHintOutlineSize",void 0),(0,i._)([(0,s.Cb)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"satisfiesConstraintScreenThreshold",void 0),u=(0,i._)([(0,l.j)("esri.views.interactive.snapping.Settings.Defaults")],u);const p=new u},80371:(e,t,n)=>{var i;n.d(t,{B:()=>i}),function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"}(i||(i={}))},1700:(e,t,n)=>{n.d(t,{$D:()=>p,$G:()=>u,Gs:()=>h,SH:()=>d,bQ:()=>a,dF:()=>c,uc:()=>l});var i=n(92026),r=n(71353),o=n(65618),s=n(74509);function l(e){return e}function a(e){return(0,r.a)(e)}function u(e,t,n){return(0,r.f)(e,t,n)}function p(e,t,n){return(0,i.Wi)(e)?null:c(n.coordinateHelper.vectorToDehydratedPoint(e,f),t,n)}function c(e,t,n){if((0,i.Wi)(e))return null;if((0,i.Wi)(t))return(0,r.f)(e.x,e.y,e.z??0);if("2d"===t.type)return(0,r.f)(e.x,e.y,0);const{elevationInfo:o}=n,l=(0,s.vQ)(t,e,o,s.jG)??0;return(0,r.f)(e.x,e.y,l)}function h(e,t,n){let{z:r,m:l,spatialReference:a,elevationInfo:u}=n;if(null==r&&null==l){const t=(0,o.Tx)(e[0],e[1],void 0,a);return null!=l&&(t.m=l,t.hasM=!0),t}if((0,i.Wi)(t)||"2d"===t.type){const t=(0,o.Tx)(e[0],e[1],r,a);return null!=l&&(t.m=l,t.hasM=!0),t}const p=(0,s.zx)(t,e,a,s.jG,u)??0,c=(0,o.Tx)(e[0],e[1],p,a);return null!=l&&(c.m=l,c.hasM=!0),c}function d(e,t){return(0,o.Tx)(e[0],e[1],e[2],t)}const f=(0,o.Tx)(0,0,0,null)},90609:(e,t,n)=>{n.d(t,{w:()=>s});var i=n(11186),r=n(80371),o=n(55054);class s extends o.r{constructor(e,t){super(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.B.ALL),this.intersectionPoint=e}equals(e){return e instanceof s&&(0,i.k)(this.intersectionPoint,e.intersectionPoint)}}},53397:(e,t,n)=>{n.d(t,{w:()=>s});n(93169),n(32718);var i=n(11186),r=n(80371),o=n(55054);class s extends o.r{constructor(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.B.ALL,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(i,o),this.type=e,this.lineStart=t,this.lineEnd=n,this.fadeLeft=s,this.fadeRight=l}equals(e){return e instanceof s&&this.type===e.type&&(0,i.k)(this.lineStart,e.lineStart)&&(0,i.k)(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight}get length(){return(0,i.i)(this.lineStart,this.lineEnd)}}},5916:(e,t,n)=>{n.d(t,{L:()=>s});n(93169),n(32718);var i=n(11186),r=n(80371),o=n(55054);class s extends o.r{constructor(e,t,n){super(n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.B.ALL),this.lineStart=e,this.lineEnd=t}equals(e){return e instanceof s&&(0,i.k)(this.lineStart,e.lineStart)&&(0,i.k)(this.lineEnd,e.lineEnd)}}},41216:(e,t,n)=>{n.d(t,{y:()=>s});n(93169),n(32718);var i=n(11186),r=n(80371),o=n(55054);class s extends o.r{constructor(e,t,n,i){super(i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.B.ALL),this.previousVertex=e,this.centerVertex=t,this.nextVertex=n}equals(e){return e instanceof s&&(0,i.k)(this.previousVertex,e.previousVertex)&&(0,i.k)(this.centerVertex,e.centerVertex)&&(0,i.k)(this.nextVertex,e.nextVertex)}}},55054:(e,t,n)=>{n.d(t,{r:()=>i});class i{constructor(e,t){this.isDraped=e,this.domain=t}}},64674:(e,t,n)=>{n.d(t,{Bb:()=>c,ML:()=>y,Ob:()=>v,_j:()=>g,fG:()=>h,lQ:()=>d,rh:()=>f,ze:()=>i});var i,r=n(92026),o=n(94172),s=n(11186),l=n(65618),a=n(1614),u=n(87888),p=n(1700);function c(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function h(e,t){return Math.sqrt(c(e,t))}function d(e,t){t.sort(((t,n)=>(0,s.d)(t.targetPoint,e)-(0,s.d)(n.targetPoint,e)))}function f(e,t,n){let{point:i,distance:o,types:s,coordinateHelper:{spatialReference:a}}=e;return{point:(0,l.Tx)(i[0],i[1],i[2],a.toJSON()),mode:t,distance:o,types:s,query:(0,r.pC)(n)?n.toJSON():{where:"1=1"}}}function g(e,t,n){return{left:(0,p.$D)(e.leftVertex.pos,t,n),right:(0,p.$D)(e.rightVertex.pos,t,n)}}function y(e){return e.createQuery()}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=(0,o.YP)((()=>({view:e.view,snappingOptions:e.snappingOptions})),(n=>{let{view:i,snappingOptions:o}=n;const s="snapping-toggle",l=a.f.TOOL;if(e.removeHandles(s),i&&(0,r.pC)(o)){const n=[i.on("key-down",(e=>{e.key!==u.c.toggle||e.repeat||(o.enabledToggled=!0,t())}),l),i.on("key-up",(e=>{e.key===u.c.toggle&&(o.enabledToggled=!1,t())}),l),i.on("pointer-move",(e=>{const n=e.native.ctrlKey;o.enabledToggled!==n&&(o.enabledToggled=n,t())}),l)];e.addHandles(n,s)}}),o.tX);e.addHandles(n)}!function(e){e[e.TARGET=0]="TARGET",e[e.REFERENCE=1]="REFERENCE",e[e.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"}(i||(i={}))},94163:(e,t,n)=>{n.d(t,{SP:()=>i,dU:()=>p,k0:()=>a,xO:()=>u});n(16889);var i,r=n(88396),o=n(6394);function s(e,t){return e[0]*t[1]-e[1]*t[0]}function l(e,t,n){const i=(0,r.h)(n,t)/(0,r.v)(n);return(0,r.b)(e,n,i)}function a(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return(0,r.a)(h,i,n),(0,r.a)(f,t,o),l(g,f,h),(0,r.j)(e,o,g)}function u(e,t,n,i){(0,r.a)(h,t,n);const o=i/(0,r.i)(h);return(0,r.w)(e,n,h,o)}function p(e,t){const n=e.start,o=e.end,l=t.start,a=t.end,u=(0,r.a)(h,o,n),p=(0,r.a)(d,a,l),y=s(u,p);if(Math.abs(y)<=c)return[];const v=(0,r.a)(f,n,l),b=s(p,v)/y,m=s(u,v)/y;if(b>=0){if(m>=0||t.type===i.LINE)return[(0,r.w)(g,n,u,b)]}else if(e.type===i.LINE&&(m>=0||t.type===i.LINE))return[(0,r.w)(g,n,u,b)];return[]}!function(e){e[e.RAY=0]="RAY",e[e.LINE=1]="LINE"}(i||(i={}));const c=1e-6,h=(0,o.a)(),d=(0,o.a)(),f=(0,o.a)(),g=(0,o.a)()}}]);
//# sourceMappingURL=4523.658a8c17.chunk.js.map