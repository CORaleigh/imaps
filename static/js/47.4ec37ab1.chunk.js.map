{"version":3,"sources":["../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/tasks/geometry/simplify.js","../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","../node_modules/@arcgis/core/tasks/geometry/cut.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/tasks/operations/urlUtils.js","../node_modules/@arcgis/core/core/pbf.js","../node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js","../node_modules/@arcgis/core/rest/query/operations/pbfFeatureServiceParser.js","../node_modules/@arcgis/core/rest/query/operations/pbfQueryUtils.js"],"names":["l","m","t","r","n","geometry","o","toJSON","s","e","JSON","stringify","geometryType","i","inSR","spatialReference","wkid","groupByFieldsForStatistics","join","objectIds","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","indexOf","outSR","returnGeometry","returnCentroid","outStatistics","pixelSize","quantizationParameters","parameterValues","rangeValues","dynamicDataSource","layer","source","timeExtent","start","end","time","async","y","isEmpty","data","features","g","u","c","Promise","resolve","createFeatureResult","d","f","p","count","S","extent","then","hasOwnProperty","Error","responseType","clone","a","query","path","sr","geometries","map","fromJSON","getLogger","type","w","R","error","push","length","Math","sqrt","floor","x","rings","paths","M","h","P","Array","isArray","offset","L","url","geometryServiceUrl","j","U","k","v","A","z","isWebMercator","maxX","minX","plus180Line","minus180Line","points","_normalize","xmin","intersects","xmax","I","X","q","C","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","b","target","cutter","shift","D","valid","WebMercator","WGS84","ceil","TextDecoder","constructor","byteLength","this","_tag","_dataType","init","_data","_dataView","_pos","_end","pos","move","nextTag","_decodeVarint","skip","next","empty","tag","getInt32","getInt64","getUInt32","getUInt64","getSInt32","getSInt64","_decodeSVarint","getBool","_skip","getEnum","getFixed64","getUint32","getSFixed64","getDouble","getFloat64","getFixed32","getSFixed32","getFloat","getFloat32","getString","_getLength","_toString","getBytes","_toBytes","getLength","_getLengthUnsafe","processMessageWithArgs","getMessage","release","processMessage","pool","acquire","dataType","skipLen","min","subarray","decode","toString","decodeURIComponent","String","fromCharCode","Uint8Array","buffer","options","geometryTypes","_coordinatePtr","_vertexDimension","prepareFeatures","hasZ","hasM","finishFeatureResult","sourceSpatialReference","vcsWkid","coords","addFeature","createFeature","createSpatialReference","createGeometry","addField","fields","allocateCoordinates","lengths","reduce","addCoordinate","addCoordinatePoint","addLength","addQueryGeometry","queryGeometry","queryGeometryType","createPointGeometry","name","alias","sqlType","defaultValue","isSystemMaintained","attributes","centroid","T","originPosition","scale","translate","shapeAreaFieldName","shapeLengthFieldName","units","F","wkt","latestWkid","latestVcsWkid","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","transform","exceededTransferLimit","uniqueIdField","featureResult","DataView","queryResult","objectId"],"mappings":"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","file":"static/js/47.4ec37ab1.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{isSome as e}from\"../../../core/maybe.js\";import{join as r,urlToObject as n}from\"../../../core/urlUtils.js\";import{getJsonType as i}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as o}from\"../../../geometry/support/normalizeUtils.js\";import{parsePBFFeatureQuery as s}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as u}from\"./queryZScale.js\";import{mapParameters as a}from\"../../../tasks/operations/urlUtils.js\";const l=\"Layer does not support extent calculation.\";function m(t,r){const n=t.geometry,o=t.toJSON(),s=o;if(e(n)&&(s.geometry=JSON.stringify(n),s.geometryType=i(n),s.inSR=n.spatialReference.wkid||JSON.stringify(n.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(\",\")),o.objectIds&&(s.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(\",\")),!o.outFields||!o.returnDistinctValues&&(null!=r&&r.returnCountOnly||null!=r&&r.returnExtentOnly||null!=r&&r.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf(\"*\")?s.outFields=\"*\":s.outFields=o.outFields.join(\",\"),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):n&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?\"null\":e},${null==r?\"null\":r}`),delete o.timeExtent}return s}async function y(t,r,n,i){const o=e(r.timeExtent)&&r.timeExtent.isEmpty?{data:{features:[]}}:await g(t,r,\"json\",i);return u(r,n,o.data),o}async function c(t,r,n,i){if(e(r.timeExtent)&&r.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(t,r,i),u=o;return u.data=s(o.data,n),u}function d(t,e,r){return g(t,e,\"pbf\",r)}function f(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(t,r,\"json\",n,{returnIdsOnly:!0})}function p(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(t,r,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(t,r,n){return e(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(t,r,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty(\"extent\"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty(\"count\"))throw new Error(l);return t}))}function g(i,s,u,l={},y={}){const c=\"string\"==typeof i?n(i):i,d=s.geometry?[s.geometry]:[];return l.responseType=\"pbf\"===u?\"array-buffer\":\"json\",o(d,null,l).then((n=>{const i=n&&n[0];e(i)&&((s=s.clone()).geometry=i);const o=a({...c.query,f:u,...y,...m(s,y)});return t(r(c.path,\"query\"),{...l,query:{...o,...l.query}})}))}export{y as executeQuery,p as executeQueryForCount,S as executeQueryForExtent,f as executeQueryForIds,c as executeQueryPBF,d as executeQueryPBFBuffer,m as queryToQueryStringParameters,g as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as e,getGeometryType as o}from\"../../geometry/support/jsonUtils.js\";async function i(o,i,f){const m=\"string\"==typeof o?t(o):o,p=i[0].spatialReference,a=e(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await r(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:e(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,e){const i=o(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=e,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import e from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import r from\"../Polygon.js\";import i from\"../Polyline.js\";import{getGeometryParts as l,cutParams as f,offsetMagnitude as c,updatePolyGeometry as p}from\"./normalizeUtilsCommon.js\";import{getInfo as u}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as a,webMercatorToGeographic as h}from\"./webMercatorUtils.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=n.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,n){if(!(t instanceof i||t instanceof r)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new e(t)}const o=l(t),s=[];for(const e of o){const t=[];s.push(t),t.push([e[0][0],e[0][1]]);for(let o=0;o<e.length-1;o++){const s=e[o][0],r=e[o][1],i=e[o+1][0],l=e[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const e=l*n,o=p*e+s,i=c*e+r;t.push([o,i])}const e=(f+Math.floor(u-1)*n)/2,o=p*e+s,i=c*e+r;t.push([o,i])}t.push([i,l])}}return x(t)?new r({rings:s,spatialReference:t.spatialReference}):new i({paths:s,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=h(e,!0)}return n&&(t=p(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=c(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=c(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=c(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=c(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=l(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*c(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of l(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of l(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(e,n,l){if(!Array.isArray(e))return L([e],n);const h=n?n.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of e)if(o(t))z.push(t);else if(y||(y=t.spatialReference,x=u(y),d=y.isWebMercator,R=d?102100:4326,w=f[R].maxX,j=f[R].minX,U=f[R].plus180Line,k=f[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new r(e):e)}else if(t.extent){const e=t.extent,n=c(e.xmin,j)*(2*w);let o=0===n?t.clone():p(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=c(v,w),X=-90;const q=I,C=new i;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(h,A,C,l)),n=[],o=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)o.push(r);else{const r=t.shift(),i=e[l];s(i)&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&r.rings.length>=i.rings.length?(n.push(r),o.push(\"simplify\")):o.push(d?a(r):r)}}if(!n.length)return o;const r=await g(h,n,l),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(d?a(r.shift()):r.shift())}return i}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?a(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&u(t.spatialReference);if(!n)return e;const[o,s]=n.valid,r=2*s,{width:i}=e;let l,{xmin:f,xmax:c}=e;if([f,c]=[c,f],\"extent\"===t.type||0===i||i<=s||i>r||f<o||c>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;l=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;l=j(t.paths);break;case\"multipoint\":l=t.points}const p=e.clone();for(let u=0;u<l.length;u++){let t=l[u][0];t<0?(t+=s,c=Math.max(t,c)):(t-=s,f=Math.min(t,f))}return p.xmin=f,p.xmax=c,p.width<i?(p.xmin-=s,p.xmax-=s,p):e}function k(t,e){const n=u(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as r,fromJSON as s}from\"../../geometry/support/jsonUtils.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?t(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:r(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await e(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=s(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"./has.js\";import e from\"./ObjectPool.js\";const s=4294967296,i=t(\"esri-text-decoder\")?new TextDecoder(\"utf-8\"):null,r=t(\"safari\")||t(\"ios\")?6:t(\"ff\")?12:32;class a{constructor(t,e,s=0,i=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,s,i)}init(t,e,s,i){this._data=t,this._dataView=e,this._pos=s,this._end=i}clone(){return new a(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,s=this._toString(this._data,e,e+t);return this._skip(t),s}getBytes(){const t=this._getLength(),e=this._pos,s=this._toBytes(this._data,e,e+t);return this._skip(t),s}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,s,i){const r=this.getMessage(),a=t(r,e,s,i);return r.release(),a}processMessage(t){const e=this.getMessage(),s=t(e);return e.release(),s}getMessage(){const t=this._getLength(),e=a.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){a.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error(\"Invalid data type!\")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error(\"Attempt to skip past the end of buffer!\");this._pos+=t}_decodeVarint(){const t=this._data;let e,s=this._pos,i=0;if(this._end-s>=10)do{if(e=t[s++],i|=127&e,0==(128&e))break;if(e=t[s++],i|=(127&e)<<7,0==(128&e))break;if(e=t[s++],i|=(127&e)<<14,0==(128&e))break;if(e=t[s++],i|=(127&e)<<21,0==(128&e))break;if(e=t[s++],i+=268435456*(127&e),0==(128&e))break;if(e=t[s++],i+=34359738368*(127&e),0==(128&e))break;if(e=t[s++],i+=4398046511104*(127&e),0==(128&e))break;if(e=t[s++],i+=562949953421312*(127&e),0==(128&e))break;if(e=t[s++],i+=72057594037927940*(127&e),0==(128&e))break;if(e=t[s++],i+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error(\"Varint too long!\")}while(0);else{let r=1;for(;s!==this._end&&(e=t[s],0!=(128&e));)++s,i+=(127&e)*r,r*=128;if(s===this._end)throw new Error(\"Varint overrun!\");++s,i+=e*r}return this._pos=s,i}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error(\"Not a delimited data type!\");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,s){if((s=Math.min(this._end,s))-e>r&&i){const r=t.subarray(e,s);return i.decode(r)}let a=\"\",n=\"\";for(let i=e;i<s;++i){const e=t[i];128&e?n+=\"%\"+e.toString(16):(a+=decodeURIComponent(n)+String.fromCharCode(e),n=\"\")}return n.length&&(a+=decodeURIComponent(n)),a}_toBytes(t,e,s){return s=Math.min(this._end,s),new Uint8Array(t.buffer,e,s-e)}}a.pool=new e(a,null,(t=>{t._data=null,t._dataView=null}));export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getMetersPerVerticalUnitForSR as e}from\"../../../core/unitUtils.js\";import{equals as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import r,{hasGeometry as o}from\"../../../layers/graphics/OptimizedFeature.js\";import i from\"../../../layers/graphics/OptimizedFeatureSet.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";const n=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"];class a{constructor(e){this.options=e,this.geometryTypes=n,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new i}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(r){if(!r||!r.features||!r.hasZ||!this.options.sourceSpatialReference||!r.spatialReference||t(r.spatialReference,this.options.sourceSpatialReference)||r.spatialReference.vcsWkid)return;const i=e(this.options.sourceSpatialReference)/e(r.spatialReference);if(1!==i)for(const e of r.features){if(!o(e))continue;const t=e.geometry.coords;for(let e=2;e<t.length;e+=3)t[e]*=i}}addFeature(e,t){e.features.push(t)}createFeature(){return new r}createSpatialReference(){return{wkid:0}}createGeometry(){return new s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new s}}export{n as OPTIMIZED_GEOMETRY_TYPES,a as OptimizedFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as t}from\"../../../core/maybe.js\";import r from\"../../../core/pbf.js\";import s from\"../../../layers/graphics/OptimizedGeometry.js\";import{OPTIMIZED_GEOMETRY_TYPES as a}from\"./pbfOptimizedFeatureSet.js\";const n=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeString\",\"esriFieldTypeDate\",\"esriFieldTypeOID\",\"esriFieldTypeGeometry\",\"esriFieldTypeBlob\",\"esriFieldTypeRaster\",\"esriFieldTypeGUID\",\"esriFieldTypeGlobalID\",\"esriFieldTypeXML\"],o=[\"sqlTypeBigInt\",\"sqlTypeBinary\",\"sqlTypeBit\",\"sqlTypeChar\",\"sqlTypeDate\",\"sqlTypeDecimal\",\"sqlTypeDouble\",\"sqlTypeFloat\",\"sqlTypeGeometry\",\"sqlTypeGUID\",\"sqlTypeInteger\",\"sqlTypeLongNVarchar\",\"sqlTypeLongVarbinary\",\"sqlTypeLongVarchar\",\"sqlTypeNChar\",\"sqlTypeNVarchar\",\"sqlTypeOther\",\"sqlTypeReal\",\"sqlTypeSmallInt\",\"sqlTypeSqlXml\",\"sqlTypeTime\",\"sqlTypeTimestamp\",\"sqlTypeTimestamp2\",\"sqlTypeTinyInt\",\"sqlTypeVarbinary\",\"sqlTypeVarchar\"],i=[\"upperLeft\",\"lowerLeft\"];function c(e){return e>=n.length?null:n[e]}function l(e){return e>=o.length?null:o[e]}function g(e){return e>=i.length?null:i[e]}function p(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function u(e,t,r){const s=3,a=t.createPointGeometry(r);for(;e.next();)switch(e.tag()){case s:{const r=e.getUInt32(),s=e.pos()+r;let n=0;for(;e.pos()<s;)t.addCoordinatePoint(a,e.getSInt64(),n++);break}default:e.skip()}return a}function y(e,t,r){const s=2,a=3,n=t.createGeometry(r),o=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;e.next();)switch(e.tag()){case s:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(;e.pos()<s;)t.addLength(n,e.getUInt32(),a++);break}case a:{const r=e.getUInt32(),s=e.pos()+r;let a=0;for(t.allocateCoordinates(n);e.pos()<s;)t.addCoordinate(n,e.getSInt64(),a),a++,a===o&&(a=0);break}default:e.skip()}return n}function b(e){const t=1,r=2,n=3,o=new s;let i=\"esriGeometryPoint\";for(;e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.lengths.push(e.getUInt32());break}case n:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.coords.push(e.getSInt64());break}case t:i=a[e.getEnum()];break;default:e.skip()}return{queryGeometry:o,queryGeometryType:i}}function f(e){const t=1,r=2,s=3,a=4,n=5,o=6,i=7,c=8,l=9;for(;e.next();)switch(e.tag()){case t:return e.getString();case r:return e.getFloat();case s:return e.getDouble();case a:return e.getSInt32();case n:return e.getUInt32();case o:return e.getInt64();case i:return e.getUInt64();case c:return e.getSInt64();case l:return e.getBool();default:return e.skip(),null}return null}function k(e){const t=1,r=2,s=3,a=4,n=5,o=6,i={type:c(0)};for(;e.next();)switch(e.tag()){case t:i.name=e.getString();break;case r:i.type=c(e.getEnum());break;case s:i.alias=e.getString();break;case a:i.sqlType=l(e.getEnum());break;case n:e.skip();break;case o:i.defaultValue=e.getString();break;default:e.skip()}return i}function d(e){const t=1,r=2,s={};for(;e.next();)switch(e.tag()){case t:s.name=e.getString();break;case r:s.isSystemMaintained=e.getBool();break;default:e.skip()}return s}function m(e,t,r,s){const a=1,n=2,o=4,i=t.createFeature(r);let c=0;for(;e.next();)switch(e.tag()){case a:{const t=s[c++].name;i.attributes[t]=e.processMessage(f);break}case n:i.geometry=e.processMessageWithArgs(y,t,r);break;case o:i.centroid=e.processMessageWithArgs(u,t,r);break;default:e.skip()}return i}function h(e){const t=1,r=2,s=3,a=4,n=[1,1,1,1];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function T(e){const t=1,r=2,s=3,a=4,n=[0,0,0,0];for(;e.next();)switch(e.tag()){case t:n[0]=e.getDouble();break;case r:n[1]=e.getDouble();break;case a:n[2]=e.getDouble();break;case s:n[3]=e.getDouble();break;default:e.skip()}return n}function q(e){const t=1,r=2,s=3,a={originPosition:g(0)};for(;e.next();)switch(e.tag()){case t:a.originPosition=g(e.getEnum());break;case r:a.scale=e.processMessage(h);break;case s:a.translate=e.processMessage(T);break;default:e.skip()}return a}function I(e){const t=1,r=2,s=3,a={};for(;e.next();)switch(e.tag()){case t:a.shapeAreaFieldName=e.getString();break;case r:a.shapeLengthFieldName=e.getString();break;case s:a.units=e.getString();break;default:e.skip()}return a}function F(e,t){const r=1,s=2,a=3,n=4,o=5,i=t.createSpatialReference();for(;e.next();)switch(e.tag()){case r:i.wkid=e.getUInt32();break;case o:i.wkt=e.getString();break;case s:i.latestWkid=e.getUInt32();break;case a:i.vcsWkid=e.getUInt32();break;case n:i.latestVcsWkid=e.getUInt32();break;default:e.skip()}return i}function S(e,t){const r=1,s=2,a=3,n=4,o=5,i=7,c=8,l=9,g=10,u=11,y=12,b=13,f=15,h=t.createFeatureResult();h.geometryType=p(t,0);let T=!1;for(;e.next();)switch(e.tag()){case r:h.objectIdFieldName=e.getString();break;case a:h.globalIdFieldName=e.getString();break;case n:h.geohashFieldName=e.getString();break;case o:h.geometryProperties=e.processMessage(I);break;case i:h.geometryType=p(t,e.getEnum());break;case c:h.spatialReference=e.processMessageWithArgs(F,t);break;case g:h.hasZ=e.getBool();break;case u:h.hasM=e.getBool();break;case y:h.transform=e.processMessage(q);break;case l:{const t=e.getBool();h.exceededTransferLimit=t;break}case b:t.addField(h,e.processMessage(k));break;case f:T||(t.prepareFeatures(h),T=!0),t.addFeature(h,e.processMessageWithArgs(m,t,h,h.fields));break;case s:h.uniqueIdField=e.processMessage(d);break;default:e.skip()}return t.finishFeatureResult(h),h}function w(e,r){const s=1,a=4,n={};let o=null;for(;e.next();)switch(e.tag()){case a:o=e.processMessageWithArgs(b);break;case s:n.featureResult=e.processMessageWithArgs(S,r);break;default:e.skip()}return t(o)&&n.featureResult&&r.addQueryGeometry(n,o),n}function D(t,s){try{const e=2,a=new r(new Uint8Array(t),new DataView(t)),n={};for(;a.next();)if(a.tag()===e)n.queryResult=a.processMessageWithArgs(w,s);else a.skip();return n}catch(a){throw new e(\"query:parsing-pbf\",\"Error while parsing FeatureSet PBF payload\",{error:a})}}export{D as parseFeatureQuery,c as parseFieldType,q as parseTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{parseFeatureQuery as e}from\"./pbfFeatureServiceParser.js\";function t(t,r){const u=e(t,r),o=u.queryResult.featureResult,s=u.queryResult.queryGeometry,y=u.queryResult.queryGeometryType;if(o&&o.features&&o.features.length&&o.objectIdFieldName){const e=o.objectIdFieldName;for(const t of o.features)t.attributes&&(t.objectId=t.attributes[e])}return o&&(o.queryGeometry=s,o.queryGeometryType=y),o}export{t as parsePBFFeatureQuery};\n"],"sourceRoot":""}