{"version":3,"sources":["../node_modules/@arcgis/core/views/webgl/reservedWordsGLSL3.js","../node_modules/@arcgis/core/views/webgl/ShaderTranspiler.js","../node_modules/@arcgis/core/views/webgl/Program.js","../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/VertexArrayObject.js","../node_modules/@arcgis/core/views/webgl/Util.js"],"names":["e","n","m","k","t","b","v","_","x","j","E","O","L","D","G","T","X","P","replace","length","F","join","push","type","data","position","line","column","a","M","z","test","B","slice","I","r","indexOf","concat","o","i","s","match","Math","max","Error","splice","c","toString","parseInt","exec","trim","map","constructor","this","_context","_glName","_locations","_initialized","_vShader","_fShader","_defines","_nameToUniformLocation","_nameToAttribLocation","_nameToUniform1","_nameToUniform1v","_nameToUniform2","_nameToUniform3","_nameToUniform4","_nameToUniformMatrix3","_nameToUniformMatrix4","console","error","instanceCounter","increment","_vertexShaderSource","_fragmentShaderSource","Array","isArray","getDefine","dispose","gl","deleteShader","deleteProgram","decrement","initialize","_loadShader","createProgram","attachShader","bindAttribLocation","linkProgram","getUniformLocation","hasUniform","getAttribLocation","setUniform1i","bindProgram","uniform1i","setUniform1iv","uniform1iv","_arrayCopy","_arrayAssign","setUniform2iv","uniform2iv","setUniform3iv","uniform3iv","setUniform4iv","uniform4iv","setUniform1f","uniform1f","setUniform1fv","uniform1fv","setUniform2f","uniform2f","setUniform2fv","uniform2fv","setUniform3f","uniform3f","setUniform3fv","uniform3fv","setUniform4f","uniform4f","setUniform4fv","uniform4fv","setUniformMatrix3fv","uniformMatrix3fv","setUniformMatrix4fv","uniformMatrix4fv","assertCompatibleVertexAttributeLocations","locations","_addLineNumbers","_padToThree","contextVersion","createShader","shaderSource","compileShader","bufferType","usage","_size","_indexType","createBuffer","setData","deleteBuffer","byteLength","getBoundVAO","bindVAO","bindBuffer","bufferData","setSubData","h","f","u","ArrayBuffer","isView","buffer","l","bufferSubData","_layout","_buffers","_indexBuffer","Object","keys","reduce","size","capabilities","vao","deleteVertexArray","createVertexArray","bindVertexArray","_bindLayout","bind","glName","ELEMENT_ARRAY_BUFFER","unbind","_unbindLayout","unbindBuffer","vertexBuffers","layout","stride","instancing","name","baseInstance","divisor","count","vertexAttribPointer","normalized","offset","enableVertexAttribArray","vertexAttribDivisor","d","disableVertexAttribArray","colorAttachment","depthStencilAttachment","descriptor","internalFormat","pixelFormat","hasMipmap","width","height"],"mappings":"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","file":"static/js/5.20f7a080.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar e=[\"layout\",\"centroid\",\"smooth\",\"case\",\"mat2x2\",\"mat2x3\",\"mat2x4\",\"mat3x2\",\"mat3x3\",\"mat3x4\",\"mat4x2\",\"mat4x3\",\"mat4x4\",\"uint\",\"uvec2\",\"uvec3\",\"uvec4\",\"samplerCubeShadow\",\"sampler2DArray\",\"sampler2DArrayShadow\",\"isampler2D\",\"isampler3D\",\"isamplerCube\",\"isampler2DArray\",\"usampler2D\",\"usampler3D\",\"usamplerCube\",\"usampler2DArray\",\"coherent\",\"restrict\",\"readonly\",\"writeonly\",\"resource\",\"atomic_uint\",\"noperspective\",\"patch\",\"sample\",\"subroutine\",\"common\",\"partition\",\"active\",\"filter\",\"image1D\",\"image2D\",\"image3D\",\"imageCube\",\"iimage1D\",\"iimage2D\",\"iimage3D\",\"iimageCube\",\"uimage1D\",\"uimage2D\",\"uimage3D\",\"uimageCube\",\"image1DArray\",\"image2DArray\",\"iimage1DArray\",\"iimage2DArray\",\"uimage1DArray\",\"uimage2DArray\",\"image1DShadow\",\"image2DShadow\",\"image1DArrayShadow\",\"image2DArrayShadow\",\"imageBuffer\",\"iimageBuffer\",\"uimageBuffer\",\"sampler1DArray\",\"sampler1DArrayShadow\",\"isampler1D\",\"isampler1DArray\",\"usampler1D\",\"usampler1DArray\",\"isampler2DRect\",\"usampler2DRect\",\"samplerBuffer\",\"isamplerBuffer\",\"usamplerBuffer\",\"sampler2DMS\",\"isampler2DMS\",\"usampler2DMS\",\"sampler2DMSArray\",\"isampler2DMSArray\",\"usampler2DMSArray\",\"trunc\",\"round\",\"roundEven\",\"isnan\",\"isinf\",\"floatBitsToInt\",\"floatBitsToUint\",\"intBitsToFloat\",\"uintBitsToFloat\",\"packSnorm2x16\",\"unpackSnorm2x16\",\"packUnorm2x16\",\"unpackUnorm2x16\",\"packHalf2x16\",\"unpackHalf2x16\",\"outerProduct\",\"transpose\",\"determinant\",\"inverse\",\"texture\",\"textureSize\",\"textureProj\",\"textureLod\",\"textureOffset\",\"texelFetch\",\"texelFetchOffset\",\"textureProjOffset\",\"textureLodOffset\",\"textureProjLod\",\"textureProjLodOffset\",\"textureGrad\",\"textureGradOffset\",\"textureProjGrad\",\"textureProjGradOffset\"];export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./reservedWordsGLSL3.js\";import{o as e,l as a,b as r}from\"../../chunks/builtins.js\";var n=999,o=9999,i=0,s=1,c=2,d=3,f=4,p=5,u=6,l=7,h=8,y=9,g=10,w=11,m=[\"block-comment\",\"line-comment\",\"preprocessor\",\"operator\",\"integer\",\"float\",\"ident\",\"builtin\",\"keyword\",\"whitespace\",\"eof\",\"integer\"];function k(){var t,k,b,v=0,_=0,x=n,j=[],E=[],O=1,L=0,D=0,G=!1,T=!1,X=\"\";return function(t){return E=[],null!==t?P(t.replace?t.replace(/\\r\\n/g,\"\\n\"):t):C()};function F(t){t.length&&E.push({type:m[x],data:t,position:D,line:O,column:L})}function P(e){var a;for(v=0,b=(X+=e).length;t=X[v],v<b;){switch(a=v,x){case i:v=$();break;case s:v=V();break;case c:v=M();break;case d:v=z();break;case f:v=Z();break;case w:v=W();break;case p:v=q();break;case o:v=B();break;case y:v=A();break;case n:v=S()}if(a!==v)switch(X[a]){case\"\\n\":L=0,++O;break;default:++L}}return _+=v,X=X.slice(v),E}function C(t){return j.length&&F(j.join(\"\")),x=g,F(\"(eof)\"),E}function S(){return j=j.length?[]:j,\"/\"===k&&\"*\"===t?(D=_+v-1,x=i,k=t,v+1):\"/\"===k&&\"/\"===t?(D=_+v-1,x=s,k=t,v+1):\"#\"===t?(x=c,D=_+v,v):/\\s/.test(t)?(x=y,D=_+v,v):(G=/\\d/.test(t),T=/[^\\w_]/.test(t),D=_+v,x=G?f:T?d:o,v)}function A(){return/[^\\s]/g.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function M(){return\"\\r\"!==t&&\"\\n\"!==t||\"\\\\\"===k?(j.push(t),k=t,v+1):(F(j.join(\"\")),x=n,v)}function V(){return M()}function $(){return\"/\"===t&&\"*\"===k?(j.push(t),F(j.join(\"\")),x=n,v+1):(j.push(t),k=t,v+1)}function z(){if(\".\"===k&&/\\d/.test(t))return x=p,v;if(\"/\"===k&&\"*\"===t)return x=i,v;if(\"/\"===k&&\"/\"===t)return x=s,v;if(\".\"===t&&j.length){for(;I(j););return x=p,v}if(\";\"===t||\")\"===t||\"(\"===t){if(j.length)for(;I(j););return F(t),x=n,v+1}var e=2===j.length&&\"=\"!==t;if(/[\\w_\\d\\s]/.test(t)||e){for(;I(j););return x=n,v}return j.push(t),k=t,v+1}function I(t){for(var a,r,n=0;;){if(a=e.indexOf(t.slice(0,t.length+n).join(\"\")),r=e[a],-1===a){if(n--+t.length>0)continue;r=t.slice(0,1).join(\"\")}return F(r),D+=r.length,(j=j.slice(r.length)).length}}function W(){return/[^a-fA-F0-9]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function Z(){return\".\"===t||/[eE]/.test(t)?(j.push(t),x=p,k=t,v+1):\"x\"===t&&1===j.length&&\"0\"===j[0]?(x=w,j.push(t),k=t,v+1):/[^\\d]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function q(){return\"f\"===t&&(j.push(t),k=t,v+=1),/[eE]/.test(t)||\"-\"===t&&/[eE]/.test(k)?(j.push(t),k=t,v+1):/[^\\d]/.test(t)?(F(j.join(\"\")),x=n,v):(j.push(t),k=t,v+1)}function B(){if(/[^\\d\\w_]/.test(t)){var e=j.join(\"\");return x=a.indexOf(e)>-1?h:r.indexOf(e)>-1?l:u,F(j.join(\"\")),x=n,v}return j.push(t),k=t,v+1}}function b(t){var e=k(),a=[];return a=(a=a.concat(e(t))).concat(e(null))}function v(t){return b(t)}function _(t){return t.map((t=>\"eof\"!==t.type?t.data:\"\")).join(\"\")}const x=[\"GL_OES_standard_derivatives\",\"GL_EXT_frag_depth\",\"GL_EXT_draw_buffers\",\"GL_EXT_shader_texture_lod\"];function j(t,e=\"100\",a=\"300 es\"){const r=/^\\s*\\#version\\s+([0-9]+(\\s+[a-zA-Z]+)?)\\s*/;for(const n of t)if(\"preprocessor\"===n.type){const t=r.exec(n.data);if(t){const r=t[1].replace(/\\s\\s+/g,\" \");if(r===a)return r;if(r===e)return n.data=\"#version \"+a,e;throw new Error(\"unknown glsl version: \"+r)}}return t.splice(0,0,{type:\"preprocessor\",data:\"#version \"+a},{type:\"whitespace\",data:\"\\n\"}),null}function E(t,e){for(let a=e-1;a>=0;a--){const e=t[a];if(\"whitespace\"!==e.type&&\"block-comment\"!==e.type){if(\"keyword\"!==e.type)break;if(\"attribute\"===e.data||\"in\"===e.data)return!0}}return!1}function O(t,e,a,r){r=r||a;for(const n of t)if(\"ident\"===n.type&&n.data===a){r in e?e[r]++:e[r]=0;return O(t,e,r+\"_\"+e[r],r)}return a}function L(t,e,a=\"afterVersion\"){function r(t,e){for(let a=e;a<t.length;a++){const e=t[a];if(\"operator\"===e.type&&\";\"===e.data)return a}return null}function n(t){let e=-1,n=0,o=-1;for(let i=0;i<t.length;i++){const s=t[i];if(\"preprocessor\"===s.type&&(s.data.match(/\\#(if|ifdef|ifndef)\\s+.+/)?++n:s.data.match(/\\#endif\\s*.*/)&&--n),\"afterVersion\"!==a&&\"afterPrecision\"!==a||\"preprocessor\"===s.type&&/^#version/.test(s.data)&&(o=Math.max(o,i)),\"afterPrecision\"===a&&\"keyword\"===s.type&&\"precision\"===s.data){const e=r(t,i);if(null===e)throw new Error(\"precision statement not followed by any semicolons!\");o=Math.max(o,e)}e<o&&0===n&&(e=i)}return e+1}const o={data:\"\\n\",type:\"whitespace\"},i=e=>e<t.length&&/[^\\r\\n]$/.test(t[e].data);let s=n(t);i(s-1)&&t.splice(s++,0,o);for(const c of e)t.splice(s++,0,c);i(s-1)&&i(s)&&t.splice(s,0,o)}function D(t,e,a,r=\"lowp\"){L(t,[{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:r},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function G(t,e,a,r,n=\"lowp\"){L(t,[{type:\"keyword\",data:\"layout\"},{type:\"operator\",data:\"(\"},{type:\"keyword\",data:\"location\"},{type:\"whitespace\",data:\" \"},{type:\"operator\",data:\"=\"},{type:\"whitespace\",data:\" \"},{type:\"integer\",data:r.toString()},{type:\"operator\",data:\")\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:\"out\"},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:n},{type:\"whitespace\",data:\" \"},{type:\"keyword\",data:a},{type:\"whitespace\",data:\" \"},{type:\"ident\",data:e},{type:\"operator\",data:\";\"}],\"afterPrecision\")}function T(t,e){let a,r,n=-1;for(let o=e;o<t.length;o++){const e=t[o];if(\"operator\"===e.type&&(\"[\"===e.data&&(a=o),\"]\"===e.data)){r=o;break}\"integer\"===e.type&&(n=parseInt(e.data,10))}return a&&r&&t.splice(a,r-a+1),n}function X(e,a){const r=v(e);if(\"300 es\"===j(r,\"100\",\"300 es\"))throw new Error(\"shader is already glsl 300 es\");let n=null,o=null;const i={},s={};for(let c=0;c<r.length;++c){const e=r[c];switch(e.type){case\"keyword\":\"vertex\"===a&&\"attribute\"===e.data?e.data=\"in\":\"varying\"===e.data&&(e.data=\"vertex\"===a?\"out\":\"in\");break;case\"builtin\":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(e.data.trim())&&(e.data=e.data.replace(/(2D|Cube|EXT)/g,\"\")),\"fragment\"===a&&\"gl_FragColor\"===e.data&&(n||(n=O(r,i,\"fragColor\"),D(r,n,\"vec4\")),e.data=n),\"fragment\"===a&&\"gl_FragData\"===e.data){const t=T(r,c+1),a=O(r,i,\"fragData\");G(r,a,\"vec4\",t,\"mediump\"),e.data=a}else\"fragment\"===a&&\"gl_FragDepthEXT\"===e.data&&(o||(o=O(r,i,\"gl_FragDepth\")),e.data=o);break;case\"ident\":if(t.indexOf(e.data)>=0){if(\"vertex\"===a&&E(r,c))throw new Error(\"attribute in vertex shader uses a name that is a reserved word in glsl 300 es\");e.data in s||(s[e.data]=O(r,i,e.data)),e.data=s[e.data]}}}for(let t=r.length-1;t>=0;--t){const e=r[t];if(\"preprocessor\"===e.type){const a=e.data.match(/\\#extension\\s+(.*)\\:/);if(a&&a[1]&&x.indexOf(a[1].trim())>=0){const e=r[t+1];r.splice(t,e&&\"whitespace\"===e.type?2:1)}const n=e.data.match(/\\#ifdef\\s+(.*)/);n&&n[1]&&x.indexOf(n[1].trim())>=0&&(e.data=\"#if 1\");const o=e.data.match(/\\#ifndef\\s+(.*)/);o&&o[1]&&x.indexOf(o[1].trim())>=0&&(e.data=\"#if 0\")}}return _(r)}export{X as transpileShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as t}from\"../../core/maybe.js\";import{transpileShader as i}from\"./ShaderTranspiler.js\";class o{constructor(t,i,o,n,r={}){if(this._context=null,this._glName=null,this._locations={},this._initialized=!1,this._vShader=null,this._fShader=null,this._defines={},this._nameToUniformLocation={},this._nameToAttribLocation={},this._nameToUniform1={},this._nameToUniform1v={},this._nameToUniform2={},this._nameToUniform3={},this._nameToUniform4={},this._nameToUniformMatrix3={},this._nameToUniformMatrix4={},t||console.error(\"RenderingContext isn't initialized!\"),0===i.length&&console.error(\"Shaders source should not be empty!\"),t.instanceCounter.increment(3,this),this._context=t,this._vertexShaderSource=i,this._fragmentShaderSource=o,Array.isArray(r))for(const e of r)this._defines[e]=\"1\";else this._defines=r;this._locations=n}get glName(){return this._glName}get locations(){return this._locations}getDefine(t){return this._defines[t]}dispose(){if(!this._context)return;const t=this._context.gl;if(this._vShader){const i=this._vShader;t.deleteShader(i),this._vShader=null}if(this._fShader){const i=this._fShader;t.deleteShader(i),this._fShader=null}this._glName&&(t.deleteProgram(this._glName),this._glName=null),this._context.instanceCounter.decrement(3,this),this._context=null}initialize(){if(this._initialized)return;this._vShader=this._loadShader(35633),this._fShader=this._loadShader(35632),this._vShader&&this._fShader||console.error(\"Error loading shaders!\");const t=this._context.gl,i=t.createProgram();t.attachShader(i,this._vShader),t.attachShader(i,this._fShader);for(const o in this._locations){const n=this._locations[o];t.bindAttribLocation(i,n,o)}t.linkProgram(i),this._glName=i,this._initialized=!0}getUniformLocation(t){return this.initialize(),void 0===this._nameToUniformLocation[t]&&(this._nameToUniformLocation[t]=this._context.gl.getUniformLocation(this._glName,t)),this._nameToUniformLocation[t]}hasUniform(t){return null!==this.getUniformLocation(t)}getAttribLocation(t){return this.initialize(),void 0===this._nameToAttribLocation[t]&&(this._nameToAttribLocation[t]=this._context.gl.getAttribLocation(this._glName,t)),this._nameToAttribLocation[t]}setUniform1i(t,i){const o=this._nameToUniform1[t];if(void 0===o||i!==o){this._context.bindProgram(this);this._context.gl.uniform1i(this.getUniformLocation(t),i),this._nameToUniform1[t]=i}}setUniform1iv(t,i){const r=this._nameToUniform1v[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform1iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform1v[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform2iv(t,i){const r=this._nameToUniform2[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform2iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform2[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform3iv(t,i){const r=this._nameToUniform3[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform3iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform3[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform4iv(t,i){const r=this._nameToUniform4[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform4iv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform1f(t,i){const o=this._nameToUniform1[t];if(void 0===o||i!==o){this._context.bindProgram(this);this._context.gl.uniform1f(this.getUniformLocation(t),i),this._nameToUniform1[t]=i}}setUniform1fv(t,i){const r=this._nameToUniform1v[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform1fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform1v[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform2f(t,i,o){const n=this._nameToUniform2[t];if(void 0===n||i!==n[0]||o!==n[1]){this._context.bindProgram(this);this._context.gl.uniform2f(this.getUniformLocation(t),i,o),void 0===n?this._nameToUniform2[t]=[i,o]:(n[0]=i,n[1]=o)}}setUniform2fv(t,i){const r=this._nameToUniform2[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform2fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform2[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform3f(t,i,o,n){const r=this._nameToUniform3[t];if(void 0===r||i!==r[0]||o!==r[1]||n!==r[2]){this._context.bindProgram(this);this._context.gl.uniform3f(this.getUniformLocation(t),i,o,n),void 0===r?this._nameToUniform3[t]=[i,o,n]:(r[0]=i,r[1]=o,r[2]=n)}}setUniform3fv(t,i){const r=this._nameToUniform3[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform3fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform3[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniform4f(t,i,o,n,r){const e=this._nameToUniform4[t];if(void 0===e||i!==e[0]||o!==e[1]||n!==e[2]||r!==e[3]){this._context.bindProgram(this);this._context.gl.uniform4f(this.getUniformLocation(t),i,o,n,r),void 0===e?this._nameToUniform4[t]=[i,o,n,r]:(e[0]=i,e[1]=o,e[2]=n,e[3]=r)}}setUniform4fv(t,i){const r=this._nameToUniform4[t];if(n(r,i)){this._context.bindProgram(this);this._context.gl.uniform4fv(this.getUniformLocation(t),i),void 0===r?this._nameToUniform4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}setUniformMatrix3fv(t,i,n=!1){const e=this._nameToUniformMatrix3[t];if(r(e,i)){this._context.bindProgram(this);this._context.gl.uniformMatrix3fv(this.getUniformLocation(t),n,i),void 0===e?this._nameToUniformMatrix3[t]=o._arrayCopy(i):o._arrayAssign(i,e)}}setUniformMatrix4fv(t,i,n=!1){const r=this._nameToUniformMatrix4[t];if(e(r,i)){this._context.bindProgram(this);this._context.gl.uniformMatrix4fv(this.getUniformLocation(t),n,i),void 0===r?this._nameToUniformMatrix4[t]=o._arrayCopy(i):o._arrayAssign(i,r)}}assertCompatibleVertexAttributeLocations(t){const i=t.locations===this.locations;return i||console.error(\"VertexAttributeLocations are incompatible\"),i}static _padToThree(t){let i=t.toString();return t<1e3&&(i=(\"  \"+t).slice(-3)),i}_addLineNumbers(t){let i=2;return t.replace(/\\n/g,(()=>\"\\n\"+o._padToThree(i++)+\":\"))}_loadShader(t){const o=35633===t;let n=o?this._vertexShaderSource:this._fragmentShaderSource,r=\"\";for(const i in this._defines)r+=`#define ${i} ${this._defines[i]}\\n`;n=r+n,\"webgl2\"===this._context.contextVersion&&(n=i(n,o?\"vertex\":\"fragment\"));const e=this._context.gl,s=e.createShader(t);return e.shaderSource(s,n),e.compileShader(s),s}static _arrayCopy(t){const i=[];for(let o=0;o<t.length;++o)i.push(t[o]);return i}static _arrayAssign(t,i){for(let o=0;o<t.length;++o)i[o]=t[o]}}function n(i,o){if(t(i)||i.length!==o.length)return!0;for(let t=0;t<i.length;++t)if(i[t]!==o[t])return!0;return!1}function r(i,o){return!!t(i)||(9!==i.length?n(i,o):9!==i.length||i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||i[4]!==o[4]||i[5]!==o[5]||i[6]!==o[6]||i[7]!==o[7]||i[8]!==o[8])}function e(i,o){return!!t(i)||(16!==i.length?n(i,o):16!==i.length||i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2]||i[3]!==o[3]||i[4]!==o[4]||i[5]!==o[5]||i[6]!==o[6]||i[7]!==o[7]||i[8]!==o[8]||i[9]!==o[9]||i[10]!==o[10]||i[11]!==o[11]||i[12]!==o[12]||i[13]!==o[13]||i[14]!==o[14]||i[15]!==o[15])}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isUint16Array as e,isUint32Array as t}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as i}from\"./checkWebGLError.js\";class s{constructor(e,t,s,n,r){this._context=e,this.bufferType=t,this.usage=s,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(1,this),this._glName=this._context.gl.createBuffer(),i(this._context.gl),n&&this.setData(n,r)}static createIndex(e,t,i,n){return new s(e,34963,t,i,n)}static createVertex(e,t,i){return new s(e,34962,t,i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteSize(){return 34962===this.bufferType?this._size:5125===this._indexType?4*this._size:2*this._size}dispose(){if(this._context){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(1,this),this._context=null}}setData(i,s){if(!i)return;if(\"number\"==typeof i){if(i<0&&console.error(\"Buffer size cannot be negative!\"),34963===this.bufferType&&s)switch(this._indexType=s,this._size=i,s){case 5123:i*=2;break;case 5125:i*=4}}else{let s=i.byteLength;e(i)&&(s/=2,this._indexType=5123),t(i)&&(s/=4,this._indexType=5125),this._size=s}const n=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);this._context.gl.bufferData(this.bufferType,i,this.usage),this._context.bindVAO(n)}setSubData(i,s=0,n=0,r=i.byteLength){if(!i)return;(s<0||s>=this._size)&&console.error(\"offset is out of range!\");let h=s,o=n,c=r,f=i.byteLength;e(i)&&(f/=2,h*=2,o*=2,c*=2),t(i)&&(f/=4,h*=4,o*=4,c*=4),void 0===r&&(r=f-1),n>=r&&console.error(\"end must be bigger than start!\"),s+n-r>this._size&&console.error(\"An attempt to write beyond the end of the buffer!\");const u=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl,_=ArrayBuffer.isView(i)?i.buffer:i,l=0===o&&c===i.byteLength?_:_.slice(o,c);a.bufferSubData(this.bufferType,h,l),this._context.bindVAO(u)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../core/maybe.js\";import{bindVertexBufferLayout as i,unbindVertexBufferLayout as e}from\"./Util.js\";class s{constructor(t,i,e,s,n){this._context=t,this._locations=i,this._layout=e,this._buffers=s,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(2,this)}get glName(){return this._glName}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get size(){return Object.keys(this._buffers).reduce(((t,i)=>t+this._buffers[i].size),this._indexBuffer?this._indexBuffer.size:0)}get layout(){return this._layout}get locations(){return this._locations}dispose(i=!0){if(!this._context)return;const e=this._context.capabilities.vao;e&&this._glName&&(e.deleteVertexArray(this._glName),this._glName=null);if(this._context.getBoundVAO()===this&&this._context.bindVAO(null),i){for(const t in this._buffers)this._buffers[t].dispose(),delete this._buffers[t];this._indexBuffer=t(this._indexBuffer)}this._context.instanceCounter.decrement(2,this),this._context=null}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const i=t.createVertexArray();t.bindVertexArray(i),this._bindLayout(),t.bindVertexArray(null),this._glName=i}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const t=this._buffers,e=!!this._context.capabilities.vao,s=this._layout,n=this._indexBuffer;t||console.error(\"Vertex buffer dictionary is empty!\");const r=this._context.gl;for(const o in t){const e=t[o];e||console.error(\"Vertex buffer is uninitialized!\");const n=s[o];n||console.error(\"Vertex element descriptor is empty!\"),i(this._context,this._locations,e,n)}n&&(e?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n.glName):this._context.bindBuffer(n))}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const t=this._buffers,i=this._layout;t||console.error(\"Vertex buffer dictionary is empty!\");for(const s in t){const n=t[s];n||console.error(\"Vertex buffer is uninitialized!\");const r=i[s];e(this._context,this._locations,n,r)}this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as e}from\"../../core/maybe.js\";function r(e,r){return e.vertexBuffers[r].size/t(e.layout[r])}function t(e){return e[0].stride}function n(e){switch(e){case 5126:case 5124:case 5125:return 4;case 5122:case 5123:return 2;case 5120:case 5121:return 1;default:throw new Error(\"Unknown data type\")}}function i(e){switch(e){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array;default:throw new Error(\"Unknown data type\")}}function s(e,r,t,i,s,o){const a=n(i);if(e.length>0){const n=e[0].stride,c=n+a*t;e.forEach((e=>e.stride=c)),e.push({name:r,count:t,type:i,offset:n,stride:c,normalized:s,divisor:o})}else e.push({name:r,count:t,type:i,offset:0,stride:a*t,normalized:s,divisor:o})}function o(e,r){for(let t=0;t<e.length;t++)if(e[t].name===r)return!0;return!1}function a(e,r){for(let t=0;t<e.length;t++)if(e[t].name===r)return e[t];return null}function c(e,r,t,n,i=0){const s=e.getBoundFramebufferObject(),o=e.getBoundTexture(0);e.bindFramebuffer(r),e.bindTexture(t,0),e.gl.copyTexImage2D(e.gl.TEXTURE_2D,i,t.descriptor.pixelFormat,n[0],n[1],n[2],n[3],0),e.gl.flush(),e.bindFramebuffer(s),e.bindTexture(o,0)}function u(e,r){const t={};for(const n in e)t[n]=e[n].map((e=>e.divisor?{...e,baseInstance:r}:e));return t}function f(e,r,t,n,i){const s=e.gl,o=e.capabilities.instancing;e.bindBuffer(t);for(const a of n){const e=r[a.name],t=(i||(0+a.baseInstance?a.baseInstance:0))*a.stride;if(void 0===e&&console.error(`There is no location for vertex attribute '${a.name}' defined.`),a.baseInstance&&!a.divisor&&console.error(`Vertex attribute '${a.name}' uses baseInstanceOffset without divisor.`),a.count<=4)s.vertexAttribPointer(e,a.count,a.type,a.normalized,a.stride,a.offset+t),s.enableVertexAttribArray(e),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e,a.divisor);else if(9===a.count)for(let r=0;r<3;r++)s.vertexAttribPointer(e+r,3,a.type,a.normalized,a.stride,a.offset+12*r+t),s.enableVertexAttribArray(e+r),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e+r,a.divisor);else if(16===a.count)for(let r=0;r<4;r++)s.vertexAttribPointer(e+r,4,a.type,a.normalized,a.stride,a.offset+16*r+t),s.enableVertexAttribArray(e+r),a.divisor&&a.divisor>0&&o&&o.vertexAttribDivisor(e+r,a.divisor);else console.error(\"Unsupported vertex attribute element count: \"+a.count)}}function d(e,r,t,n){const i=e.gl,s=e.capabilities.instancing;e.bindBuffer(t);for(const o of n){const e=r[o.name];if(o.count<=4)i.disableVertexAttribArray(e),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e,0);else if(9===o.count)for(let r=0;r<3;r++)i.disableVertexAttribArray(e+r),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e+r,0);else if(16===o.count)for(let r=0;r<4;r++)i.disableVertexAttribArray(e+r),o.divisor&&o.divisor>0&&s&&s.vertexAttribDivisor(e+r,0);else console.error(\"Unsupported vertex attribute element count: \"+o.count)}e.unbindBuffer(34962)}function l(e){switch(e){case 6406:case 6409:case 36168:return 1;case 6410:case 32854:case 33325:case 32854:case 33189:return 2;case 6407:case 6402:return 3;case 6408:case 34041:case 33326:case 35898:case 33327:case 34041:return 4;case 33328:case 34842:return 8;case 34836:return 16;case 33776:case 33777:return.5;case 33778:case 33779:return 1;case 37488:case 37489:case 37492:case 37493:case 37494:case 37495:return.5;case 37490:case 37491:case 37496:case 37497:return 1}return 0}function b(r){if(e(r))return 0;if(\"colorAttachment\"in r)return r.glName?b(r.colorAttachment)+b(r.depthStencilAttachment):0;if(\"descriptor\"in r)return r.glName?b(r.descriptor):0;const t=r.internalFormat||\"pixelFormat\"in r&&r.pixelFormat;if(!t)return 0;const n=\"hasMipmap\"in r&&r.hasMipmap?1.3:1,i=r.width*r.height;return l(t)*i*n}export{s as addDescriptor,f as bindVertexBufferLayout,c as copyFramebufferToTexture,a as findAttribute,n as getBytesPerElement,l as getBytesPerElementFormat,b as getGpuMemoryUsage,t as getStride,i as getTypedArrayConstructor,o as hasAttribute,u as setBaseInstanceOffset,d as unbindVertexBufferLayout,r as vertexCount};\n"],"sourceRoot":""}