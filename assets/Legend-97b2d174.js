import{r as t,R as p,k as m,m as f,o,p as h,q as g}from"./index-53e0d3f6.js";import v from"./Legend-99dfc55d.js";import"./EffectView-177ddace.js";import"./ExportImageParameters-2f049e10.js";import"./floorFilterUtils-080a7cd2.js";import"./sublayerUtils-024f9cc2.js";import"./pixelRangeUtils-03719dd8.js";import"./rendererConversion-50872194.js";const w=(e,i)=>new v({view:i,container:e}),C={title:"Legend Tips",tips:[{title:"New Legend Widget",text:"In the previous version of iMAPS, the legend was only avaiable in the layer list.  New to this version is a dedicated legend widget that will show the symbols for all visible layers."}]},b=e=>{const i=t.useRef(),s=t.useRef(!1),[n,l]=t.useState(),[a,c]=t.useState(!1);t.useEffect(()=>(s.current||(s.current=!0,l(w(i.current,e.view))),()=>{n&&(n==null||n.destroy())}),[]),t.useEffect(()=>{c(e.isActive)},[e.isActive]);const r=t.useCallback(u=>{e.panelDismissed()},[]),d=t.useCallback(u=>{e.showTips(C)},[]);return{ref:i,isActive:a,panelDismissed:r,tipsClicked:d}},L=e=>{const{ref:i,isActive:s,panelDismissed:n,tipsClicked:l}=b(e);return m(f,{id:"layers-panel",heading:"Legend",hidden:!s,closed:s?void 0:!0,closable:!0,onCalcitePanelClose:n,children:[o(h,{id:"tip",icon:"lightbulb",text:"Tips",slot:"header-actions-end",onClick:l}),o(g,{label:"Show Tip",referenceElement:"tip",closeOnClick:!0,children:"Show Tip"}),o("div",{ref:i})]})},D=p.memo(L);export{L as Legend,D as default};
