import{r as t,R as p,k as l,m,o as f,p as h}from"./index-7753bab1.js";import g from"./Legend-f235c298.js";import"./EffectView-9a9cc65b.js";import"./ExportImageParameters-435aace7.js";import"./floorFilterUtils-080a7cd2.js";import"./sublayerUtils-2efb8cde.js";import"./pixelRangeUtils-03719dd8.js";import"./rendererConversion-50e438d4.js";const v=(e,i)=>new g({view:i,container:e}),w={title:"Legend Tips",tips:[{title:"New Legend Widget",text:"In the previous version of iMAPS, the legend was only avaiable in the layer list.  New to this version is a dedicated legend widget that will show the symbols for all visible layers."}]},C=e=>{const i=t.useRef(),s=t.useRef(!1),[n,o]=t.useState(),[a,c]=t.useState(!1);t.useEffect(()=>(s.current||(s.current=!0,o(v(i.current,e.view))),()=>{n&&(n==null||n.destroy())}),[]),t.useEffect(()=>{c(e.isActive)},[e.isActive]);const r=t.useCallback(u=>{e.panelDismissed()},[]),d=t.useCallback(u=>{e.showTips(w)},[]);return{ref:i,isActive:a,panelDismissed:r,tipsClicked:d}},x=e=>{const{ref:i,isActive:s,panelDismissed:n,tipsClicked:o}=C(e);return l.jsxs(m,{id:"layers-panel",heading:"Legend",hidden:!s,closed:s?void 0:!0,closable:!0,onCalcitePanelClose:n,children:[l.jsx(f,{id:"tip",icon:"lightbulb",text:"Tips",slot:"header-actions-end",onClick:o}),l.jsx(h,{label:"Show Tip",referenceElement:"tip",closeOnClick:!0,children:"Show Tip"}),l.jsx("div",{ref:i})]})},R=p.memo(x);export{x as Legend,R as default};
